/* LightningChart JS v8.1.1 */
import*as t from"immutable";import{Record as i}from"immutable";import n from"earcut";var r,e,o,s=(r=function(t,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},r(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}r(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),a=function(){function t(){this.o=!0}return t.prototype.u=function(){return this.o},t}(),u=function(t){function i(i,n){var r=t.call(this)||this;return r.S=i,r.M=i,r.o=n,r}return s(i,t),i.prototype.C=function(t){return t!==this.S&&(this.M=this.S,this.S=t,this.o=!0),this},i.prototype.T=function(){return this.S},i.prototype.u=function(){return t.prototype.u.call(this)},i}(a),h=function(t,i){return{x:t,y:i}},f=function(t,i){return{x:t,y:i}},c=function(t,i,n){return{position:t,high:i,low:n}},l=function(t,i,n){return{x:t,y:i,z:n}},v=function(t){var i=Array(0),n=Array(0);return t.length>0&&t.forEach((function(t){i.push(h(t.position,t.high)),n.push(h(t.position,t.low))})),[i,n]},d=function(t,i){return{min:t,max:i}},y=function(t,i,n,r){return{x:t,y:i,width:n,height:r}},A=function(t,i){return void 0===i&&(i=!0),new u(t,i)},b=function(t,i,n,r){return void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=0),{left:t,top:i,right:n,bottom:r}},p=b,m=function(t,i){return{left:void 0!==i.left?i.left:t.left,top:void 0!==i.top?i.top:t.top,right:void 0!==i.right?i.right:t.right,bottom:void 0!==i.bottom?i.bottom:t.bottom}},g=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(t){function i(i){return t.call(this,i)||this}return g(i,t),i.prototype.toUint32=function(){return void 0!==this._||(this._=B(this.getR(),this.getG(),this.getB(),this.getA())),this._},i.prototype.toString=function(){return"color:".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a)},i.prototype.setA=function(t){return this.set("a",t/255)},i.prototype.setR=function(t){return this.set("r",t/255)},i.prototype.setG=function(t){return this.set("g",t/255)},i.prototype.setB=function(t){return this.set("b",t/255)},i.prototype.getA=function(){return 255*this.get("a")},i.prototype.getR=function(){return 255*this.get("r")},i.prototype.getG=function(){return 255*this.get("g")},i.prototype.getB=function(){return 255*this.get("b")},i.prototype.getHighlight=function(){return this.O||(this.O=new i({r:this.r+.45*(1-this.r),g:this.g+.45*(1-this.g),b:this.b+.45*(1-this.b),a:this.a<1?this.a+.45*(1-this.a):1})),this.O},i.prototype.getLighter=function(){return this.F||(this.F=new i({r:this.r+.4*(1-this.r),g:this.g+.4*(1-this.g),b:this.b+.4*(1-this.b),a:this.a})),this.F},i.prototype.getDarker=function(){return this.I||(this.I=new i({r:this.r-.4*(1-this.r),g:this.g-.4*(1-this.g),b:this.b-.4*(1-this.b),a:this.a})),this.I},i.prototype.toRGBAString=function(){return"rgba(".concat((255*this.r).toFixed(0),",").concat((255*this.g).toFixed(0),",").concat((255*this.b).toFixed(0),",").concat(this.a,")")},i}(i({type:"color",r:1,g:1,b:1,a:1})),S=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"color"!==t.type)},w=function(t,i,n,r){return void 0===r&&(r=255),new x({r:t/255,g:i/255,b:n/255,a:r/255})},M=function(t){var i=t.startsWith("#")?t.substring(1):t.startsWith("0x")?t.substr(2):t;switch(i.length){case 8:return new x({r:Number("0x".concat(i.substring(0,2)))/255,g:Number("0x".concat(i.substring(2,4)))/255,b:Number("0x".concat(i.substring(4,6)))/255,a:Number("0x".concat(i.substring(6,8)))/255});case 6:return new x({r:Number("0x".concat(i.substring(0,2)))/255,g:Number("0x".concat(i.substring(2,4)))/255,b:Number("0x".concat(i.substring(4,6)))/255});case 4:return new x({r:Number("0x".concat(i.charAt(0)).concat(i.charAt(0)))/255,g:Number("0x".concat(i.charAt(1)).concat(i.charAt(1)))/255,b:Number("0x".concat(i.charAt(2)).concat(i.charAt(2)))/255,a:Number("0x".concat(i.charAt(3)).concat(i.charAt(3)))/255});case 3:return new x({r:Number("0x".concat(i.charAt(0)).concat(i.charAt(0)))/255,g:Number("0x".concat(i.charAt(1)).concat(i.charAt(1)))/255,b:Number("0x".concat(i.charAt(2)).concat(i.charAt(2)))/255});default:throw new Error("ColorHEX parsing error | input: ".concat(t))}},C=function(t,i,n){var r,e,o;void 0===i&&(i=1),void 0===n&&(n=1),t/=360;var s=Math.floor(6*t),a=6*t-s,u=n*(1-i),h=n*(1-a*i),f=n*(1-(1-a)*i);switch(s%6){case 0:r=n,e=f,o=u;break;case 1:r=h,e=n,o=u;break;case 2:r=u,e=n,o=f;break;case 3:r=u,e=h,o=n;break;case 4:r=f,e=u,o=n;break;default:r=n,e=u,o=h}return new x({r:r,g:e,b:o})},T=function(t){try{if(t.startsWith("rgba")){var i=t.substr(5).slice(0,-1),n=JSON.parse("[".concat(i,"]"));return w(n[0],n[1],n[2],255*n[3])}if(t.startsWith("rgb"))return i=t.substr(4).slice(0,-1),n=JSON.parse("[".concat(i,"]")),w(n[0],n[1],n[2]);if(t.startsWith("hsl")){n=t.substr(4).slice(0,-1).split(",").map(parseFloat);var r=_(n[0],n[1],n[2]);return w(r[0],r[1],r[2])}return t.startsWith("#")||t.startsWith("0x")?M(t):M(F(t))}catch(t){}return console.warn("ColorCSS parsing error: ".concat(t)),M("#fff")},k=function(t){return w(255&t,255&(t>>=8),255&(t>>=8),255&(t>>=8))},_=function(t,i,n){i/=100,n/=100;var r=(1-Math.abs(2*n-1))*i,e=t/60,o=r*(1-Math.abs(e%2-1)),s=[];isNaN(t)?s=[0,0,0]:e<=1?s=[r,o,0]:e<=2?s=[o,r,0]:e<=3?s=[0,r,o]:e<=4?s=[0,o,r]:e<=5?s=[o,0,r]:e<=6&&(s=[r,0,o]);var a=n-.5*r;return[Math.round(255*(s[0]+a)),Math.round(255*(s[1]+a)),Math.round(255*(s[2]+a))]},O={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},F=function(t){var i=O[t.toLowerCase()];if(i)return i;throw new Error("Unknown color code: ".concat(t))},I=new x({}),j=w(0,0,0,0),B=function(t,i,n,r){return void 0===r&&(r=255),(r<<24|n<<16|i<<8|t)>>>0},D=function(t){return B(255*t.r,255*t.g,255*t.b,255*t.a)},L=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(t){function i(i){return t.call(this,i)||this}return L(i,t),i.prototype.setSize=function(t){return this.set("size",t)},i.prototype.setFamily=function(t){return this.set("family",t)},i.prototype.setWeight=function(t){return this.set("weight",t)},i.prototype.setStyle=function(t){return this.set("style",t)},i.prototype.setVariant=function(t){return this.set("variant",t)},i.prototype.getSize=function(){return this.get("size")},i.prototype.getFamily=function(){return this.get("family")},i.prototype.getWeight=function(){return this.get("weight")},i.prototype.getStyle=function(){return this.get("style")},i.prototype.getVariant=function(){return this.get("variant")},i}(i({type:"font",size:14,family:"Arial",weight:"normal",style:"normal",variant:!1})),P=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"font"!==t.type)},z=new E,N=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.circle="circle",t.ellipse="ellipse"}(e||(e={})),function(t){t.closestSide="closest-side",t.closestCorner="closest-corner",t.farthestSide="farthest-side",t.farthestCorner="farthest-corner"}(o||(o={}));var V,R=function(t){function i(i){var n=t.call(this,i)||this;if(null===i||i&&null===i.stops||i&&i.stops&&!Array.isArray(i.stops)||i&&i.stops&&Array.isArray(i.stops)&&i.stops.length<2)throw new Error("RadialGradientFill requires minimum two color stops to be defined.");return n}return N(i,t),i.prototype.toString=function(){return"radialGradientFill:".concat(this.shape,",").concat(this.ditheringEnabled,",").concat(this.extent,",").concat(this.position.x,",").concat(this.position.y,",").concat(this.stops.map((function(t){return"".concat(t.offset,",").concat(t.color.toString())})).join(","))},i.prototype.toCSS=function(){return"radial-gradient(".concat(this.shape," ").concat(this.extent," at ").concat(100*this.position.x,"% ").concat(100*this.position.y,"%, ").concat(this.stops.map((function(t){return"".concat(t.color.toString()," ").concat(100*t.offset,"%")})).join(", "),")")},i.prototype.setColorStops=function(t){if(t.length<2)throw new Error("Minimum of two color stops required");return this.set("stops",t)},i.prototype.getColorStops=function(){return this.get("stops")},i.prototype.setPosition=function(t){return this.set("position",t)},i.prototype.getPosition=function(){return this.get("position")},i.prototype.setShape=function(t){return this.set("shape",t)},i.prototype.getShape=function(){return this.get("shape")},i.prototype.setExtent=function(t){return this.set("extent",t)},i.prototype.getExtent=function(){return this.get("extent")},i.prototype.setDitheringEnabled=function(t){return this.set("ditheringEnabled",t)},i.prototype.getDitheringEnabled=function(){return this.get("ditheringEnabled")},i}(i({type:"fillstyle",fillType:"radial-gradient",ditheringEnabled:!0,stops:[{color:M("#f00"),offset:0},{color:M("#0f0"),offset:1}],position:h(.5,.5),shape:e.ellipse,extent:o.farthestCorner})),G=function(t){return!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"radial-gradient"===t.fillType)},U=function(t){function i(i){var n=t.call(this,i)||this;if(null===i||i&&null===i.stops||i&&i.stops&&!Array.isArray(i.stops)||i&&i.stops&&Array.isArray(i.stops)&&i.stops.length<2)throw new Error("LinearGradientFill requires minimum two color stops to be defined.");return n}return N(i,t),i.prototype.toString=function(){return"linearGradientFill:".concat(this.angle,",").concat(this.stops.map((function(t){return"".concat(t.offset,",").concat(t.color.toString())})).join(","))},i.prototype.toCSS=function(){return"linear-gradient(".concat(this.angle,"deg, ").concat(this.stops.map((function(t){return"".concat(t.color.toString()," ").concat(100*t.offset,"%")})).join(", "),")")},i.prototype.setColorStops=function(t){if(t.length<2)throw new Error("Minimum of two color stops required");var i=t.sort((function(t,i){return t.offset-i.offset}));return this.set("stops",i)},i.prototype.getColorStops=function(){return this.get("stops")},i.prototype.setAngle=function(t,i){return this.set("angle",i?function(t){return 180*t/Math.PI}(t):t)},i.prototype.getAngle=function(t){return t?lr(this.get("angle")):this.get("angle")},i}(i({type:"fillstyle",fillType:"linear-gradient",stops:[{color:M("#f00"),offset:0},{color:M("#0f0"),offset:1}],angle:0})),Y=function(t){return!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"linear-gradient"===t.fillType)},W=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),X=function(){return X=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},X.apply(this,arguments)},H=function(){function t(t,i,n,r){var e=this;this.j=new Nt,this.cellIndex=t,this.cellSpan=i,this.cellsAmount=n,this.observedAmount=r,this.x=new Z,this.y=new Z,this.z=new Z;var o=X({},t),s=X({},i);if(r){var a=function(t){var i=t.value;e.cellsAmount.x=i.reduce(Vn,0),e.cellIndex.x=i.reduce((function(t,i,n){return n>=o.x?t:t+i}),0),e.cellSpan.x=i.reduce((function(t,i,n){return n>=o.x&&n<o.x+s.x?t+i:t}),0),e.j.D("cellresize",{})};r.x.L("change",a),a({value:r.x.T()});var u=function(t){var i=t.value;e.cellsAmount.y=i.reduce(Vn,0),e.cellIndex.y=i.reduce((function(t,i,n){return n>=o.y?t:t+i}),0),e.cellSpan.y=i.reduce((function(t,i,n){return n>=o.y&&n<o.y+s.y?t+i:t}),0),e.j.D("cellresize",{})};r.y.L("change",u),u({value:r.y.T()}),this.P=function(){r.x.N("change",a),r.y.N("change",u)}}}return t.prototype.V=function(){return this.P&&(this.P(),this.P=void 0),this},t.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},t.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},t}(),Z=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.R=0,i.G=10,i.U=1,i}return W(i,t),i.prototype.Y=function(){return this.o=!1,this},i.prototype.W=function(){return this.o=!0,this},i.prototype.getInnerStart=function(){return this.R},i.prototype.getInnerEnd=function(){return this.G},i.prototype.getInnerInterval=function(){return Math.abs(this.getInnerEnd()-this.getInnerStart())},i.prototype.X=function(t,i){return this.R=t,this.G=i,this.H(),this},i.prototype.Z=function(t){return this.U=t,this.H(),this},i.prototype.J=function(t){return t/this.U},i.prototype.H=function(){var t=this.J(this.G-this.R),i=this.U;void 0!==this.K&&!1!==bi(t,this.K)||(this.o=!0,this.q=i,this.K=t)},i.prototype.$=function(){return this.K},i.prototype.tt=function(){return this.q},i.prototype.it=function(){return this.G<this.R},i.prototype.nt=function(t,i){return!0},i}(a),Q=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=function(t){function i(i,n,r,e){var o=t.call(this)||this;if(o.rt=!0,o.et=!0,o.ot=[0,0],o.st=!0,o.ut=i,o.ht=n,o.ft=r,o.ct=i,o.vt=n,e){var s=function(t){o.dt(t.value)};e.L("change",s),o.dt(e.T()),o.yt=function(){return e.N("change",s)}}return o}return Q(i,t),i.prototype.Z=function(t){return this.U=t,this.et=!0,this},i.prototype.At=function(t){return this.ot=t.map(Math.abs),this.st=!0,this},i.prototype.bt=function(){return this.ut/this.ft*this.U+this.ot[0]},i.prototype.xt=function(){return(this.ut+this.ht)/this.ft*this.U-this.ot[1]},i.prototype.St=function(){return this.getCellSize()-this.wt()},i.prototype.Mt=function(){return this.U},i.prototype.getCellSize=function(){return this.Ct(this.U)},i.prototype.wt=function(){return this.ot[0]+this.ot[1]},i.prototype.Tt=function(){return this.ot},i.prototype.dt=function(t){var i=this;this.ft=t.reduce(Vn,0),this.ut=t.reduce((function(t,n,r){return r>=i.ct?t:t+n}),0),this.ht=t.reduce((function(t,n,r){return r>=i.ct&&r<i.ct+i.vt?t+n:t}),0),this.rt=!0,this.kt()},i.prototype.Ct=function(t){return t*this.ht/this.ft},i.prototype.Y=function(){return t.prototype.Y.call(this),this.et=!1,this.st=!1,this.rt=!1,this},i.prototype.W=function(){return t.prototype.W.call(this),this.et=!0,this.st=!0,this.rt=!0,this},i}(function(){function t(){this._t=!0}return t.prototype.getInnerStart=function(){return this.R},t.prototype.getInnerEnd=function(){return this.G},t.prototype.getInnerInterval=function(){return Math.abs(this.G-this.R)},t.prototype.X=function(t,i){return this._t=t!==this.R||i!==this.G,this.R=t,this.G=i,this},t.prototype.Y=function(){return this._t=!1,this},t.prototype.W=function(){return this._t=!0,this},t}()),K=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r,e)||this;return o.Ot=!1,o.Ft=!1,o.It=0,o.U=1e3,o.X(0,10),o.H(),o}return K(i,t),i.prototype.jt=function(){return this.Ft},i.prototype.nt=function(t,i,n,r,e){if(t===i)return!1;var o=Math.abs(r-n),s=Math.abs(i-t);if(!this.Ot){var a=Hi(t,i,this.getCellSize());if(void 0===a)return!1;if(s>a)return!0;var u=(i+t)/2,h=(e?a/2:o/2)*(t>i?-1:1);return{start:u-h,end:u+h}}var f=Math.pow(10,-(12-Math.log10(Math.max(Math.abs(t),1))));if(s>f)return!0;var c=(i+t)/2,l=(e?f/2:o/2)*(t>i?-1:1);return{start:c-l,end:c+l}},i.prototype.kt=function(){this.H()},i.prototype.Bt=function(t){return this.bt()+(t-this.R)/(this.G-this.R)*(this.xt()-this.bt())},i.prototype.Dt=function(t){return this.R+(t-this.bt())/(this.xt()-this.bt())*(this.G-this.R)},i.prototype.X=function(i,n){return t.prototype.X.call(this,i,n),this.H(),this},i.prototype.At=function(i){return t.prototype.At.call(this,i),this.H(),this},i.prototype.Z=function(i){return t.prototype.Z.call(this,i),this.Lt=$(this.G-this.R,this.ot,this.U,this.ht,this.ft),this.H(),this},i.prototype.Et=function(){return this.Ot=!0,this},i.prototype.Pt=function(){return this.Ot},i.prototype.zt=function(){return Math.abs(this.Nt)},i.prototype.Vt=function(){return this.zt()/this.Lt},i.prototype.Rt=function(){return this.Gt},i.prototype.Ut=function(){return this.Yt},i.prototype.getPixelSize=function(){return this.Lt},i.prototype.Wt=function(){return this.Xt},i.prototype.W=function(){return t.prototype.W.call(this),this.Ft=!0,this},i.prototype.Y=function(){return t.prototype.Y.call(this),this.Ft=!1,this},i.prototype.Ht=function(t,i){return void 0===i&&(i=Tr.Numeric),i(t,{start:this.R,end:this.G})},i.prototype.Zt=function(){var t=Math.abs(this.getInnerEnd()).toString().length,i=Math.abs(this.getInnerStart()).toString().length;return t>i?t:i},i.prototype.Qt=function(t){return $(t,this.ot,this.U,this.ht,this.ft)},i.prototype.H=function(){var t=this.R,i=this.G,n=0;this.Ot&&(t=0,i=this.G-this.R,n=this.R);var r=i-t,e=$(r,this.ot,this.U,this.ht,this.ft);this.Yt=t-this.ot[0]*e,this.Gt=i+this.ot[1]*e;var o=this.Gt-this.Yt,s=o-this.Nt,a=Math.abs(s/e),u=r-this.It,h=Math.abs(u/e);(!this.Xt||a>=.4||h>=.4)&&(this.It=r,this.Nt=o,this.Lt=e,this.Ft=!0);var f=this.Nt*this.ft/(2*this.ht),c=-(this.Yt-this.Nt*this.ut/this.ht)-f,l=2*this.bt()/this.U-1,v=2*this.xt()/this.U-1-l;this.Xt={displacement:c,scaling:f,highPrecisionOffset:n,viewportStart:l,viewportSize:v,scaleStartLog:0,scaleIntervalLog:0}},i.prototype.Jt=function(t,i){return t+this.Lt*i},i}(J),$=function(t,i,n,r,e){return void 0===r&&(r=1),void 0===e&&(e=1),t/(n*r/e-(i[0]+i[1]))},tt=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),it=function(){function t(){}return t.prototype.Kt=function(t,i){return"x"in t?(this.x=t.x,this.y=t.y):(this.x=t,this.y=i),this},t.prototype.Y=function(){return this.x.Y(),this.y.Y(),this},t.prototype.W=function(){return this.x.W(),this.y.W(),this},t.prototype.Z=function(t,i){return"object"==typeof t?(this.x.Z(t.x),this.y.Z(t.y)):(this.x.Z(t),this.y.Z(i)),this},t.prototype.Mt=function(){return h(this.x.Mt(),this.y.Mt())},t.prototype.qt=function(t){return this.x.At(t),this},t.prototype.$t=function(t){return this.y.At(t),this},t.prototype.wt=function(){return h(this.x.wt(),this.y.wt())},t.prototype.ti=function(t,i){return this.x.X(t,i),this},t.prototype.ii=function(t,i){return this.y.X(t,i),this},t.prototype.getInnerIntervalPixels=function(){var t=this.x.getCellSize(),i=this.y.getCellSize();return{x:t-this.x.wt(),y:i-this.y.wt()}},t.prototype.ni=function(){return this.x.jt()||this.y.jt()},t}(),nt=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.ri="LinearScaleXY",i}return tt(i,t),i.prototype.ei=function(t,i,n,r){return this.x=new q(t.x,i.x,n.x,r?r.x:void 0),this.y=new q(t.y,i.y,n.y,r?r.y:void 0),this},i.prototype.Pt=function(){return this.x.Pt()||this.y.Pt()},i.prototype.oi=function(){return h(this.x.getPixelSize(),this.y.getPixelSize())},i.prototype.Wt=function(){return{x:this.x.Wt(),y:this.y.Wt()}},i.prototype.Jt=function(t,i){var n=this.oi();return{x:t.x+i.x*n.x,y:t.y+i.y*n.y}},i.prototype.si=function(t,i,n,r){var e=this.oi(),o=nr(t,i);return o.x*=r,o.y*=r,{x:t.x+n*e.x*o.x,y:t.y+n*e.y*o.y}},i}(it),rt=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.ri="MixedScaleXY",i}return tt(i,t),i.prototype.Pt=function(){return!1},i.prototype.Jt=function(t,i){var n=this.x.Bt(t.x),r=this.y.Bt(t.y),e={x:n+i.x,y:r+i.y};return{x:this.x.Dt(e.x),y:this.y.Dt(e.y)}},i.prototype.si=function(t,i,n,r){var e={x:this.x.Bt(t.x),y:this.y.Bt(t.y)},o={x:this.x.Bt(i.x),y:this.y.Bt(i.y)},s=ir(sr(o,e)),a=nr(o,e),u={x:e.x+s.x*r+a.x*n,y:e.y+s.y*r+a.y*n};return{x:this.x.Dt(u.x),y:this.y.Dt(u.y)}},i.prototype.Wt=function(){var t=this.x.Wt(),i=this.y.Wt();return{uScaleStart:[this.x.R,this.y.R],uScaleInterval:[this.x.G-this.x.R,this.y.G-this.y.R],uScaleStartLog:[t.scaleStartLog,i.scaleStartLog],uScaleIntervalLog:[t.scaleIntervalLog,i.scaleIntervalLog],uViewportStart:[t.viewportStart,i.viewportStart],uViewportSize:[t.viewportSize,i.viewportSize]}},i}(it),et=function(){return et=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},et.apply(this,arguments)},ot={d1:function(t){return new t.scale1DConstructor(0,1,1,void 0)},d2:function(t){return(new t.scaleXYConstructor).ei({x:0,y:0},{x:1,y:1},{x:1,y:1},void 0)},d3:function(){return new H({x:0,y:0},{x:1,y:1},{x:1,y:1},void 0)}},st=function(t,i,n){return i===n?t:n.Dt(i.Bt(t))},at=function(t,i,n){if(i===n)return t;var r=i instanceof it?i.x:i.x instanceof it?i.x.x:i.x.ai,e=i instanceof it?i.y:i.y instanceof it?i.y.y:i.y.ai,o=n instanceof it?n.x:n.x instanceof it?n.x.x:n.x.ai,s=n instanceof it?n.y:n.y instanceof it?n.y.y:n.y.ai;return et(et({},t),{x:st(t.x,r,o),y:st(t.y,e,s)})},ut=function(t,i,n){var r=t(i,n);return function(t){return new Ur({color:r(t)})}},ht=function(t,i,n){var r=t(i+1,n);return function(t){return new R({stops:[{offset:0,color:r(t)},{offset:1,color:r(t).getDarker()}]})}},ft=function(t,i,n,r){var e=t(i+1,r);return function(t){return new U({stops:[{offset:0,color:e(t).getDarker()},{offset:.5,color:e(t)},{offset:1,color:e(t).getDarker()}],angle:n||90})}},ct=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if(0===t.length)return{remove:Ai};var n=!1,r=t.map((function(i){var r=function(r){!function(i,r,e){n||(n=!0,t.filter((function(t){return t!==i})).forEach((function(t){return t.ui(r,e,!1,i.getStopped(),"synchronizedAxis")})),n=!1)}(i,r.start,r.end)};return i.addEventListener("intervalchange",r),r})),e=!1,o=t.map((function(i){var n=function(n){!function(i,n){e||(e=!0,t.filter((function(t){return t!==i})).forEach((function(t){return t.setStopped(n)})),e=!1)}(i,n.isStopped)};return i.addEventListener("stoppedchange",n),n}));return{remove:function(){t.forEach((function(t,i){t.removeEventListener("intervalchange",r[i]),t.removeEventListener("stoppedchange",o[i])}))}}},lt=function(t,i,n,r){if(!n||0===n.length)throw new Error("Invalid use regularColorSteps 'colorPalette' is undefined or empty");var e=null==r?void 0:r.formatLabels,o=null==r?void 0:r.alpha;return n.map((function(r,s){var a=t+s/(n.length-1)*(i-t);return{color:void 0!==o?r.setA(o):r,value:a,label:e?e(a):void 0}}))},vt=function(t,i){var n=null!=i?i:function(t){return t};return{levels:t.steps.map((function(t){return n({value:t.value},t)}))}},dt=function(t){return t&&"object"==typeof t&&"column"in t&&"row"in t},yt=function(t){return t&&"object"==typeof t&&"z"in t&&"column"in t&&"row"in t},At=function(t){return t&&"object"==typeof t&&"position"in t&&"open"in t&&"high"in t&&"isPacked"in t},bt=function(t){return t&&"object"==typeof t&&"annulus"in t&&"sector"in t},pt=function(t){return t&&"object"==typeof t&&"index"in t},mt=function(t){return t&&"object"==typeof t&&"xSize"in t&&"ySize"in t&&"zSize"in t},gt=function(t){return t&&"object"==typeof t&&"figure"in t&&"positionAndSize"in t},xt=function(t){return t&&"object"==typeof t&&"figure"in t&&"start"in t&&"end"in t&&"median"in t&&"upperQuartile"in t},St=function(t){return t&&"object"==typeof t&&"figure"in t&&"x"in t&&"radiusX"in t&&"radiusY"in t},wt=function(t){return t&&"object"==typeof t&&"figure"in t&&"x"in t&&"coordinates"in t},Mt=function(t){return t&&"object"==typeof t&&"figure"in t&&"startX"in t&&"endX"in t},Ct=function(t){return t&&"object"==typeof t&&"x"in t&&"y"in t},Tt=function(t){return!0===t.isLcjsArtificialEvent},kt=function(t,i,n,r){return n<0?t:n>1?i:w(t.getR()+n*(i.getR()-t.getR()),t.getG()+n*(i.getG()-t.getG()),t.getB()+n*(i.getB()-t.getB()),void 0===r?t.getA()+n*(i.getA()-t.getA()):r)};!function(t){t[t.Nearest=0]="Nearest",t[t.NearestX=1]="NearestX",t[t.NearestY=2]="NearestY"}(V||(V={}));var _t,Ot=function(t,i,n,r,e,o,s,a,u,h){var f=t.length;if(0!==f){var c=r?1:0,l=f-(e?2:1);if(n===V.Nearest)return Ft(t,i,o,s,c,l);if(n===V.NearestX||n===V.NearestY){if("boolean"==typeof h&&("x"===u&&n===V.NearestX||"y"===u&&n===V.NearestY))return Bt(t,at(i,s,o),u,h,c,l);if(n===V.NearestX)return It(t,at(i,s,o),a,c,l);if(n===V.NearestY)return jt(t,at(i,s,o),a,c,l)}}},Ft=function(t,i,n,r,e,o){for(var s,a=Number.MAX_VALUE,u=e;u<=o;u+=1){var h=t[u];if(!Number.isNaN(h.x)&&!Number.isNaN(h.y)){var f=at(h,n,r),c=Math.pow(f.x-i.x,2)+Math.pow(f.y-i.y,2);c<a&&(a=c,s=u)}}return s},It=function(t,i,n,r,e){if(!(i.x<n.min.x||i.x>n.max.x)){for(var o,s=Number.MAX_VALUE,a=r;a<=e;a+=1){var u=t[a],h=u.x>i.x?u.x-i.x:i.x-u.x;h<s&&!Number.isNaN(u.x)&&!Number.isNaN(u.y)&&(s=h,o=a)}return o}},jt=function(t,i,n,r,e){if(!(i.y<n.min.y||i.y>n.max.y)){for(var o,s=Number.MAX_VALUE,a=r;a<=e;a+=1){var u=t[a],h=u.y>i.y?u.y-i.y:i.y-u.y;h<s&&!Number.isNaN(u.x)&&!Number.isNaN(u.y)&&(s=h,o=a)}return o}},Bt=function(t,i,n,r,e,o){var s="x"===n,a=s?i.x:i.y,u=t[e],h=t[o],f=u.x<h.x?u.x:h.x,c=u.y<h.y?u.y:h.y,l=u.x>h.x?u.x:h.x,v=u.y>h.y?u.y:h.y;if(!(s&&(a<f||a>l)||!s&&(a<c||a>v)))for(var d=e,y=Math.floor((e+o)/2),A=o,b=-1;;){var p=a-(s?t[y].x:t[y].y);if(p*(r?-1:1)>0)d=Math.min(y+1,A),b=Math.floor((d+A)/2);else{if(0===Math.abs(p))return y;A=Math.max(y-1,d),b=Math.floor((d+A)/2)}if(b===y){var m=y>e?Math.abs(a-(s?t[y-1].x:t[y-1].y)):In,g=y<o?Math.abs(a-(s?t[y+1].x:t[y+1].y)):In,x=Math.abs(p);switch(Math.min(x,m,g)){case m:return y-1;case g:return y+1;default:return y}}else y=b}},Dt=function(t,i,n,r,e,o){var s="x"===n,a=s?i.x:i.y,u=t[e],h=t[o],f=u.x<h.x?u.x:h.x,c=u.y<h.y?u.y:h.y,l=u.x>h.x?u.x:h.x,v=u.y>h.y?u.y:h.y;if(!(s&&(a<f||a>l)||!s&&(a<c||a>v)))for(var d=e,y=Math.floor((e+o)/2),A=o,b=-1;;){var p=a-(s?t[y].x:t[y].y);if(p*(r?-1:1)>0)d=Math.min(y+1,A),b=Math.floor((d+A)/2);else{if(0===Math.abs(p))return{a:y,b:y,lerpAmount:0};A=Math.max(y-1,d),b=Math.floor((d+A)/2)}if(b===y){if(p*(r?-1:1)<0&&y>e){var m=t[y-1],g=t[y];return{a:y-1,b:y,lerpAmount:s?(i.x-m.x)/(g.x-m.x):(i.y-m.y)/(g.y-m.y)}}return y<o?(m=t[y],g=t[y+1],{a:y,b:y+1,lerpAmount:s?(i.x-m.x)/(g.x-m.x):(i.y-m.y)/(g.y-m.y)}):{a:y,b:y,lerpAmount:0}}y=b}},Lt=0,Et=function(){function t(t,i,n){this.hi=A(!0),this.fi=!1,this.ci=!0,this.li=!1,this.di=void 0,this.yi=0,this.j=new Nt,this.Ai=t,this.bi=i,this.pi=n,this.mi=Lt,Lt+=1,this.gi=t.xi.highlightColorOffset}return t.prototype.Si=function(){var t;return this.wi("DataPattern",(function(i){return t=i.pattern,!0})),"ProgressiveX"===t||"RegressiveX"===t?V.NearestX:"ProgressiveY"===t||"RegressiveY"===t?V.NearestY:V.Nearest},t.prototype.Mi=function(){},t.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},t.prototype.D=function(t,i,n,r){this.j.D(t,i,{collectionMember:n,info:r})},t.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},t.prototype.Ci=function(t){return void 0!==this.pi.find((function(i){return i.type===t}))},t.prototype.wi=function(t,i){var n;return!!this.Ci(t)&&!0===i(null===(n=this.pi.find((function(i){return i.type===t})))||void 0===n?void 0:n.args)},t.prototype.dispose=function(){return this.fi||(this.Ai.Ti(this),this.fi=!0,this.bi(this),this.j.D("dispose",{})),this},t.prototype.isDisposed=function(){return this.fi},t.prototype.setVisible=function(t){var i=this.ci;return this.ci=t,!t&&i&&this.hi.T()&&this.Ai.Ti(this),this},t.prototype.getVisible=function(){return this.ci},t.prototype.setPointerEvents=function(t){var i=this.hi.T();return this.hi.C(t),t||i&&this.Ai.Ti(this),this},t.prototype.getPointerEvents=function(){return this.hi.T()},t.prototype.ki=function(t){return this.di=t,this},t.prototype._i=function(){return this.di?this.di:Pt},t.prototype.Oi=function(t){return this.yi=t,this},t.prototype.Fi=function(){return this.yi},t.prototype.Ii=function(t){return this.gi=t,this},t.prototype.ji=function(){return this.gi},t}(),Pt=d(h(0,0),h(0,0)),zt={click:!0,contextmenu:!0,dblclick:!0,gotpointercapture:!0,lostpointercapture:!0,pointercancel:!0,pointerdown:!0,pointerenter:!0,pointerleave:!0,pointermove:!0,pointerout:!0,pointerover:!0,pointerup:!0,touchcancel:!0,touchend:!0,touchmove:!0,touchstart:!0,wheel:!0,drag:!0,dragend:!0,dragenter:!0,dragleave:!0,dragover:!0,dragstart:!0,drop:!0},Nt=function(){function t(){this.Bi=new Array,this.Di=[],this.hi=!0,this.Li=!1,this.Ei=new Map}return t.prototype.setPointerEvents=function(t){this.hi=t,this.Di.forEach((function(i){return i.setPointerEvents(t)}))},t.prototype.getPointerEvents=function(){return this.hi},t.prototype.addEventListener=function(t,i,n){this.Bi.push({listener:i,key:t,options:n||{}})},t.prototype.removeEventListener=function(t,i){var n=this.Bi.findIndex((function(t){return t.listener===i}));n>=0&&this.Bi.splice(n,1)},Object.defineProperty(t.prototype,"draggable",{get:function(){return this.Li},set:function(t){this.Li=t,this.Di.forEach((function(i){i.li=t}))},enumerable:!1,configurable:!0}),t.prototype.D=function(t,i,n){void 0===n&&(n=void 0);for(var r=this.Bi.slice(),e=r.length-1;e>=0;e-=1){var o=r[e];o.key===t&&(o.listener(i,n),!0===o.options.once&&this.removeEventListener(t,o.listener))}},t.prototype.Pi=function(t,i){var n=this,r=[];Object.keys(zt).forEach((function(e){var o=function(t,r){var o=Vt(t)?{clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY}:t,s=(null==i?void 0:i.getExtraData)&&void 0!==o.clientX?i.getExtraData(o,r.collectionMember,r.info):{};n.D(e,t,s),!t.defaultPrevented&&(null==i?void 0:i.continueIfNotPrevented)&&i.continueIfNotPrevented(e,t,s)};t.addEventListener(e,o),r.push((function(){return t.removeEventListener(e,o)}))})),this.Di.push(t);var e=function(){var i=n.Di.indexOf(t);i>=0&&n.Di.splice(i,1)};t.addEventListener("dispose",e),r.push((function(){return t.removeEventListener("dispose",e)})),this.Ei.set(t,(function(){r.forEach((function(t){return t()}))})),t.li=this.Li,t.setPointerEvents(this.hi)},t.prototype.zi=function(){this.Ei.forEach((function(t){return t()})),this.Ei.clear(),this.Di.length=0},t.prototype.Ni=function(t,i){var n=this,r=[];Object.keys(zt).forEach((function(e){var o=function(t,r){var o=i(r.collectionMember);o&&n.D(e,t,o)};t.addEventListener(e,o),r.push((function(){return t.removeEventListener(e,o)}))})),this.Di.push(t);var e=function(){var i=n.Di.indexOf(t);i>=0&&n.Di.splice(i,1)};t.addEventListener("dispose",e),r.push((function(){return t.removeEventListener("dispose",e)})),this.Ei.set(t,(function(){r.forEach((function(t){return t()}))})),t.setPointerEvents(this.hi),t.li=this.Li},t.prototype.Vi=function(t){var i=this;Object.keys(zt).forEach((function(n){t.addEventListener(n,(function(t,r){i.D(n,t,r)}))})),t.setPointerEvents(this.hi),t.draggable=this.Li},t}(),Vt=function(t){return!(!t||"object"!=typeof t||!("touches"in t))},Rt={linear:function(t,i,n){var r=i-t;return function(e){return e<n?t+r/n*e:i}},easeIn:function(t,i,n){return function(r){return r<n?t+Math.abs(2*Math.pow(Math.sqrt(.5)*r/n,2))*(i-t):i}},easeOut:function(t,i,n){return function(r){return r<n?t+Math.abs(1-2*Math.pow(Math.sqrt(.5)*(1-r/n),2))*(i-t):i}},ease:function(t,i,n){return function(r){return r<n?t+(r<n/2?.5*Math.pow(r/n*2,2.5):.5+.5*(1-Math.pow(1-2*(r/n-.5),2.5)))*(i-t):i}},logarithmic:function(t){var i=Qi(t);return function(n,r,e){var o=i(n),s=i(r);return function(i){return i<e?Math.pow(t,o+Math.abs(1-2*Math.pow(Math.sqrt(.5)*(1-i/e),2))*(s-o)):r}}}},Gt=function(){function t(t,i,n,r,e){void 0===r&&(r=Rt.linear);var o=this;this.delta=0,this.nextAnimations=new Array,this.Ri=!1,this.easing=Rt.linear,this.isOver=function(){return(o.delta===o.duration||o.Ri)&&0===o.nextAnimations.length},this.j=new Nt,this.values=t,this.action=i,this.duration=n,this.easing=r,this.Gi=e,this.eases=t.map((function(t){var i=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(t,2),e=i[0],o=i[1];return r(e,o,n)}))}return t.prototype.Ui=function(){this.j.D("start",{})},t.prototype.start=function(){return this.Gi.includes(this)||this.Gi.push(this),this},t.prototype.addNextAnimations=function(t){var i=this;return t instanceof Array?t.forEach((function(t){return i.nextAnimations.push(t)})):this.nextAnimations.push(t),this},t.prototype.NextAnimation=function(i,n,r,e){void 0===r&&(r=this.duration),void 0===e&&(e=this.easing);var o=new t(i,n,r,e,this.Gi);return this.nextAnimations.push(o),o},t.prototype.finish=function(t){if(void 0===t&&(t=!0),this.Ri=!0,this.Gi.splice(this.Gi.indexOf(this),1),this.nextAnimations.length>0){var i=this.nextAnimations[0];return t&&this.j.Bi.forEach((function(t){"allAnimationEnd"===t.key&&i.addEventListener("allAnimationEnd",t.listener),"everyAnimationEnd"===t.key&&i.addEventListener("everyAnimationEnd",t.listener)})),i.addNextAnimations(this.nextAnimations.slice(1)),i.start(),t&&(this.j.D("end",{nextAnimation:i}),this.j.D("everyAnimationEnd",{nextAnimation:i})),i}t&&(this.j.D("end",{nextAnimation:void 0}),this.j.D("everyAnimationEnd",{nextAnimation:void 0}),this.j.D("allAnimationEnd",{}))},t.prototype.finishAll=function(t){void 0===t&&(t=!0);for(var i=this;i;)i=i.finish(t)},t.prototype.getFinalValues=function(){return this.nextAnimations.length>0?this.nextAnimations[this.nextAnimations.length-1].values.map(di):this.values.map(di)},t.prototype.getTimeUntilFinish=function(){for(var t=this.duration-this.delta,i=0;i<this.nextAnimations.length;i+=1)t+=this.nextAnimations[i].duration-this.nextAnimations[i].delta;return t},t.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},t.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},t}(),Ut=function(t,i){void 0===i&&(i=60),i>60&&console.log("Note: Animator FPS is usually capped at 60 by the browser!");var n,r,e=[],o=0,s=function(){n=void 0;var a=Date.now();(o=a-(r=r||a))/1e3>=1/i&&(r=Date.now()-o%(1e3/i),e.forEach((function(t){0===t.delta&&t.Ui(),t.delta+=o-o%(1e3/i),t.delta>t.duration&&(t.delta=t.duration),t.action(t.eases.map((function(i){return i(t.delta)}))),t.delta===t.duration&&t.finish()})),t()),e.length>0?n=ci.requestAnimationFrame(s):(n=void 0,r=void 0)};return function(t,i){return void 0===t&&(t=1e3),void 0===i&&(i=Rt.linear),function(r,o,a){void 0===a&&(a=t);var u=new Gt(r,o,a,i,e).start();return n||(n=ci.requestAnimationFrame(s)),u}}},Yt=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.Fill=0]="Fill",t[t.Fit=1]="Fit",t[t.Stretch=2]="Stretch",t[t.Center=3]="Center",t[t.Tile=4]="Tile"}(_t||(_t={}));var Wt,Xt,Ht,Zt,Qt=function(t){function i(i){return t.call(this,i)||this}return Yt(i,t),i.prototype.setSource=function(t){return this.set("source",t)},i.prototype.getSource=function(){return this.get("source")},i.prototype.setSurroundingColor=function(t){return S(t)?this.set("surroundingColor",t):this.set("surroundingColor",t(this.get("surroundingColor")))},i.prototype.getSurroundingColor=function(){return this.get("surroundingColor")},i.prototype.setSourceMissingColor=function(t){return S(t)?this.set("sourceMissingColor",t):this.set("sourceMissingColor",t(this.get("sourceMissingColor")))},i.prototype.getSourceMissingColor=function(){return this.get("sourceMissingColor")},i.prototype.setFitMode=function(t){return this.set("fitMode",t)},i.prototype.getFitMode=function(){return this.get("fitMode")},i.prototype.toString=function(){return"imagefill:".concat(this.fitMode)},i.prototype.toCSS=function(){var t=this.getSource();return"url(".concat(t.src,")")},i}(i({type:"fillstyle",fillType:"image",source:void 0,surroundingColor:w(0,0,0,0),sourceMissingColor:w(0,0,0,0),fitMode:_t.Fill})),Jt=function(t){return!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"image"===t.fillType)},Kt=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qt=new(function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.thickness=0,i}return Kt(i,t),i.prototype.setThickness=function(t){return this},i.prototype.getThickness=function(){return 0},i.prototype.Yi=function(){return 0},i.prototype.setFillStyle=function(t){return this},i.prototype.getFillStyle=function(){return Vr},i}(i({type:"linestyle",lineType:"empty"}))),$t=function(t){return!(!t||"object"!=typeof t||!("lineType"in t)||"empty"!==t.lineType)},ti=-34028234663852886e22,ii="-340282346638528859811704183484516925440.0";!function(t){t[t.Content=0]="Content",t[t.PaddedContent=1]="PaddedContent",t[t.PaddedBackground=2]="PaddedBackground",t[t.Everything=3]="Everything"}(Wt||(Wt={})),function(t){t[t.never=0]="never",t[t.always=1]="always",t[t.whenHovered=2]="whenHovered",t[t.whenDragged=3]="whenDragged",t[t.whenNotDragged=4]="whenNotDragged",t[t.whenHoveredOrDragged=5]="whenHoveredOrDragged"}(Xt||(Xt={})),function(t){t[t.notDraggable=0]="notDraggable",t[t.draggable=1]="draggable",t[t.onlyHorizontal=2]="onlyHorizontal",t[t.onlyVertical=3]="onlyVertical"}(Ht||(Ht={})),function(t){t[t.Up=0]="Up",t[t.Right=1]="Right",t[t.Down=2]="Down",t[t.Left=3]="Left"}(Zt||(Zt={}));var ni,ri,ei=function(t){return"getHighlight"in t&&"setHighlight"in t},oi=function(){return oi=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},oi.apply(this,arguments)},si=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},ai=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},ui=function(t,i,n){return void 0===t||"number"==typeof t?t:Array.isArray(t)?t.slice(i,n):t.subarray(i,n)},hi=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=function(t){return t&&"object"==typeof t&&!Array.isArray(t)};return t.reduce((function(t,i){return i?(Object.keys(i).forEach((function(r){var e=t[r],o=i[r];n(e)&&n(o)?t[r]=hi(e,o):t[r]=o})),t):t}),{})},fi=function(t){if(t.resourcesBaseUrl){var i=t.styleFactory(t.resourcesBaseUrl),n=Jt(i)&&i.getSource(),r=n&&n instanceof Image?n:void 0;return null==r||r.addEventListener("error",(function(){bn(t.resourcesBaseUrl,r.src,"Theme resource",{shouldCrash:!1})})),i}var e="".concat(ci.location.origin,"/resources"),o=t.styleFactory(e);if(Jt(o)){var s=o.getSource();s instanceof Image&&s.addEventListener("error",(function(){var i=t.styleFactory("https://lcjs-resources.lightningchart.com/v1"),n=Jt(i)&&i.getSource(),r=n&&n instanceof Image?n:void 0;ci.console.warn("LightningChart JS warning | fallbacking to publicly hosted asset resources.\nFor more information, please see https://lightningchart.com/js-charts/docs/troubleshooting/warning-using-publicly-hosted-resources/"),null==r||r.addEventListener("load",(function(){t.apply(i)})),null==r||r.addEventListener("error",(function(){bn(t.resourcesBaseUrl,s.src,"Theme resource",{shouldCrash:!1})}))}))}return o},ci="undefined"!=typeof window?window:"undefined"!=typeof global&&global._lcjs?global._lcjs:{},li=function(t,i){return t.x===i.x&&t.y===i.y},vi=function(t){return t!==In&&t!==jn&&!Number.isNaN(t)&&Number.isFinite(t)&&t!==1/0&&t!==-1/0},di=function(t){return t[1]},yi=function(t){return t.dispose()},Ai=function(){},bi=function(t,i){return t===i},pi=function(t,i,n){return n>i?Math.min(Math.max(t,i),n):Math.min(Math.max(t,n),i)},mi=function(t){return Array.prototype.concat.apply([],t)},gi=function(t,i){return void 0===t||Number.isNaN(t)?i:t},xi=function(t){return t.Wi()},Si=function(t){return t.Xi()},wi=function(t){return t.Hi()},Mi=function(t){return t.Zi()},Ci=function(t){return t.min.x},Ti=function(t){return t.max.x},ki=function(t){return t.min.y},_i=function(t){return t.max.y},Oi=function(t,i,n,r,e){if(t.length>0){for(var o=e?r(e):void 0,s=0;s<t.length;s+=1){var a=i(t[s]);void 0!==a&&(o=void 0!==o?n(o,a):a)}return o}if(e)return r(e)},Fi=h(0,1),Ii=h(1,0),ji=h(0,-1),Bi=h(-1,0),Di=h(0,0),Li=function(t){switch(t){case Zt.Up:return Fi;case Zt.Right:return Ii;case Zt.Down:return ji;case Zt.Left:return Bi;default:return Di}},Ei=function(t){return t===Zt.Left||t===Zt.Right},Pi=function(t){t.stopPropagation(),t.preventDefault()},zi=function(t,i){if(!i)return t;for(var n=t.length,r=new Float32Array(2*n),e=0,o=0;o<n;o+=1){var s=t[o],a=Math.fround(s);r[e+0]=a,r[e+1]=s-a,e+=2}return r},Ni=function(t,i,n){if(void 0===n&&(n=Float32Array),!i){for(var r=t.length,e=new n(2*r),o=0,s=0;s<r;s+=1){var a=t[s];e[o+0]=a.x,e[o+1]=a.y,o+=2}return e}var u=t.length,h=new n(4*u),f=0;for(s=0;s<u;s+=1){a=t[s];var c=Math.fround(a.x),l=Math.fround(a.y);h[f+0]=c,h[f+1]=l,h[f+2]=a.x-c,h[f+3]=a.y-l,f+=4}return h},Vi=function(t){for(var i=t.length,n=new Float32Array(3*i),r=0,e=0;e<i;e+=1){var o=t[e];n[r+0]=o.x,n[r+1]=o.y,n[r+2]=o.z,r+=3}return n},Ri=function(t,i,n,r){return t||i||n||r?!t||i||n||r?t||!i||n||r?t||i||!n||r?t||i||n||!r?function(e,o,s){for(var a=3+(t?4:0)+(i?1:0)+(n?1:0)+(r?3:0),u=e.length,h=new Float32Array(u*a),f=0,c=f,l=0;l<u;l+=1){var v=e[l];h[c+0]=v.x,h[c+1]=v.y,h[c+2]=v.z,c+=a}if(f+=3,t){var d=s&&Xr(s)&&s.getFallbackColor()||I;for(c=f,l=0;l<u;l+=1){var y=(v=e[l]).color||d;h[c+0]=y.r,h[c+1]=y.g,h[c+2]=y.b,h[c+3]=y.a,c+=a}f+=4}if(i){var A=1;for("number"==typeof(p=o&&o.getSize())&&(A=p),c=f,l=0;l<u;l+=1){var b=void 0!==(v=e[l]).size?v.size:A;h[c+0]=b,c+=a}f+=1}if(n){for(c=f,l=0;l<u;l+=1)v=e[l],h[c+0]=void 0!==v.value?v.value:ti,c+=a;f+=1}if(r){var p;for(A={x:1,y:1,z:1},"object"==typeof(p=o&&o.getSize())&&(A=p),c=f,l=0;l<u;l+=1){var m=void 0!==(v=e[l]).sizeAxisX?v.sizeAxisX:A.x,g=void 0!==v.sizeAxisY?v.sizeAxisY:A.y,x=void 0!==v.sizeAxisZ?v.sizeAxisZ:A.z;h[c+0]=m,h[c+1]=g,h[c+2]=x,c+=a}f+=3}return h}:function(t,i,n){return Gi(t,i)}:function(t,i,n){return Wi(t)}:function(t,i,n){return Yi(t,i)}:function(t,i,n){return Ui(t,n)}:function(t,i,n){return Vi(t)}},Gi=function(t,i){var n=i&&i.getSize(),r={x:1,y:1,z:1};"object"==typeof n&&(r=n);for(var e=t.length,o=new Float32Array(6*e),s=0,a=0;a<e;a+=1){var u=t[a];o[s+0]=u.x,o[s+1]=u.y,o[s+2]=u.z;var h=void 0!==u.sizeAxisX?u.sizeAxisX:r.x,f=void 0!==u.sizeAxisY?u.sizeAxisY:r.y,c=void 0!==u.sizeAxisZ?u.sizeAxisZ:r.z;o[s+3]=h,o[s+4]=f,o[s+5]=c,s+=6}return o},Ui=function(t,i){for(var n=i&&Xr(i)&&i.getFallbackColor()||I,r=t.length,e=new Float32Array(7*r),o=0,s=0;o<r;o+=1){var a=t[o];e[s+0]=a.x,e[s+1]=a.y,e[s+2]=a.z;var u=a.color||n;e[s+3]=u.r,e[s+4]=u.g,e[s+5]=u.b,e[s+6]=u.a,s+=7}return e},Yi=function(t,i){var n=i&&i.getSize(),r=1;"number"==typeof n&&(r=n);for(var e=t.length,o=new Float32Array(4*e),s=0,a=0;s<e;s+=1){var u=t[s];o[a+0]=u.x,o[a+1]=u.y,o[a+2]=u.z;var h=void 0!==u.size?u.size:r;o[a+3]=h,a+=4}return o},Wi=function(t){for(var i=t.length,n=new Float32Array(4*i),r=0,e=0;r<i;r+=1){var o=t[r];n[e+0]=o.x,n[e+1]=o.y,n[e+2]=o.z,n[e+3]=void 0!==o.value?o.value:ti,e+=4}return n},Xi=function(t){return function(i){var n=t.indexOf(i);n>=0&&t.splice(n,1)}},Hi=function(t,i,n){var r=function(t,i){if(i<In&&i>jn&&t<In&&t>jn){var n=Math.abs(t/Math.pow(2,23)),r=Math.abs(i/Math.pow(2,23)),e=Math.min(n,r);return Math.pow(10,Math.floor(Math.log10(e)))}}(t,i);if(void 0!==r)return r*n},Zi=function(t){for(var i=t.length,n=0;n<i-1;n+=1)t[n].x===t[n+1].x&&t[n].y===t[n+1].y&&(t.splice(n,1),n-=1,i-=1);return t},Qi=function(t){var i=Math.log(t);return function(t){return Math.log(t)/i}},Ji=Qi(Math.E),Ki=function(t,i){var n=i[t];return n?n():void 0},qi=function(t,i){var n;if(i)n=i;else{for(var r={x:0,y:0},e=0;e<t.length;e+=1)r.x+=t[e].x/t.length,r.y+=t[e].y/t.length;n=r}return t.sort((function(t,i){return vr(sr(t,n))-vr(sr(i,n))}))},$i=function(t,i,n){if(0===t.length)return!1===n.canReturnB?i.slice():i;var r=i.length;if(r<1e5)return t.push.apply(t,i),t;for(var e=0;e<r;e+=1)t.push(i[e]);return t},tn=function(t){return 255===t.getA()?t:t.setA(255)},nn=(ni=w(0,0,0),function(t){return t=tn(t),new U({angle:180,stops:[{offset:0,color:t},{offset:1,color:kt(t,ni,.5)}]})}),rn=(ri=function(t,i){var n;if(t){if(Yr(t)){if(0===t.getColor().getA())return;return t.getColor()}if(G(t)||Y(t)){var r=t.getColorStops();return 2===r.length?r[1].color:null===(n=r[0])||void 0===n?void 0:n.color}return Zr(t)&&void 0!==i?t.lut.getColors(i,void 0):void 0}},function(t,i,n){var r,e,o,s,a=[];if(n.fill&&a.push(n.fill),n.fill2&&a.push(n.fill2),n.stroke){var u=n.stroke.getFillStyle();u!==Vr&&("stroke"===(null===(r=n.behavior)||void 0===r?void 0:r.priority)?a.unshift(u):a.push(u))}if(n.point3D){var h=n.point3D;a.push(h.getFillStyle())}if(n.behavior&&!0===n.behavior.colorStep){var f=ai(a.reduce((function(t,i){if(t[0]&&t[1])return t;var r=ri(i,n.lutValue);return r&&(void 0===t[0]?t[0]=r:t[1]=r),t}),[void 0,void 0]),2),c=f[0],l=f[1];e=c&&l?(o=c)===(s=l)||o.getR()===s.getR()&&o.getG()===s.getG()&&o.getB()===s.getB()?nn(o):(o=tn(o),s=tn(s),new U({angle:0,stops:[{offset:0,color:s},{offset:.5,color:s},{offset:.5,color:o},{offset:1,color:o}]})):t.uiButtonFillStyle}else{var v=a.reduce((function(t,i){return t||ri(i,n.lutValue)}),void 0);e=v?i?new Ur({color:v}):nn(v):t.uiButtonFillStyle}return e}),en=function(t,i){var n=t;if(Zr(n))return{lut:n.getPalette(),lookUpProperty:n.getLookUpProperty(),valueRange:i}},on=function(t){var i=0;return function(){return i+=1,"".concat(t,"-").concat(i)}},sn=function(t,i){for(var n="string"==typeof t?t:String(t),r=n.indexOf("."),e=r>=0?r:n.length;e<i;e+=1)n="0".concat(n);return n},an=function(t,i){return"function"==typeof t?t(i):t},un=function(t,i){return i()},hn=function(){return new Error("LightningChart JS encountered an unexpected error.\nPlease report this issue to https://lightningchart.com/js-charts/docs/contact")},fn=function(t){return t===Bn||t.min.x===Bn.min.x&&t.max.x===Bn.max.x&&t.min.y===Bn.min.y&&t.max.y===Bn.max.y},cn=function(t){return Array.from(new Set(t))},ln=function(t){return t.filter((function(t){return void 0!==t}))},vn=function(t){return"boolean"==typeof t?t?1:0:t>1?1:t<0?0:t},dn=function(t,i){throw new Error(i)},yn=function(t){var i;return function(){return i||(i=t())}},An=function(t){if(t===qt)return 0;var i=t.getThickness();return i<0?1:1*i},bn=function(t,i,n,r){var e=r.shouldCrash,o='LightningChart JS Resources not found.\nresourcesBaseUrl: "'.concat(t,'"\ninitiator: ').concat(n,"\nresource url: ").concat(i,"\nFor more information, please see https://lightningchart.com/js-charts/docs/troubleshooting/error-resources-not-found/");if(e)throw ci.alert(o),new Error(o);ci.console.warn(o)},pn=function(t,i,n,r){if(void 0===r&&(r=0),!(t<n(r)||n(i)<t)){for(var e=i;r!==i;){var o=Math.ceil((r+i)/2);t<n(o)?i=o-1:r=o}var s=Math.abs(t-n(r));return r<e&&Math.abs(t-n(r+1))<s?r+1:r}},mn=function(){var t=new Map;return{Qi:function(i){return Object.keys(zt).forEach((function(n){i.addEventListener(n,(function(i,r){var e=r.collectionMember&&t.get(r.collectionMember);if(e){var o=Vt(i)?{clientX:i.changedTouches[0].clientX,clientY:i.changedTouches[0].clientY}:i,s=e.Ji(r.info,o,r.collectionMember);e.j.D(n,i,s)}}))})),i},Ki:function(i,n){t.set(i,n)},zi:function(){t.clear()}}},gn={left:0,right:0,top:0,bottom:0},xn=function(){return Math.round(Math.random()*Number.MAX_SAFE_INTEGER)},Sn=function(t,i,n){i&&i.qi();var r=n();return Object.keys(r).forEach((function(i){var n=i,e=r[n];t.addEventListener(n,e)})),{$i:t,qi:function(){Object.entries(r).forEach((function(i){var n=ai(i,2),r=n[0],e=n[1];t.removeEventListener(r,e)}))}}},wn=function(t,i,n){var r,e,o,s=function(){return o=n()},a=oi(oi({},t),{resolve:function(){return o||s()}}),u=function(t){Object.defineProperty(a,t,{get:function(){return o?o[t]:s()[t]}})};try{for(var h=si(Object.keys(i)),f=h.next();!f.done;f=h.next())u(f.value)}catch(t){r={error:t}}finally{try{f&&!f.done&&(e=h.return)&&e.call(h)}finally{if(r)throw r.error}}return a},Mn=function(t){if(t)return"resolve"in t?t.resolve():t},Cn=function(t){var i=t;return{tn:function(t){var n=i;return i=n+t,[n,t]}}},Tn=function(t){var i=Date.now();ci.document.body.addEventListener(t,(function(t){Date.now()-i>500||(t.stopPropagation(),t.preventDefault())}),{once:!0,capture:!0})},kn=function(){var t=ci.performance.now();ci.document.body.addEventListener("contextmenu",(function(i){ci.performance.now()-t>5e3||i.preventDefault()}),{once:!0})},_n=function(){var t=ci.performance.now();ci.document.body.addEventListener("touchstart",(function(i){ci.performance.now()-t>5e3||i.preventDefault()}),{once:!0})},On=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Fn={add:function(t,i){return l(t.x+i,t.y+i,t.z+i)},addVec:function(t){for(var i,n,r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var o={x:t.x,y:t.y,z:t.z};try{for(var s=On(r),a=s.next();!a.done;a=s.next()){var u=a.value;o.x+=u.x,o.y+=u.y,o.z+=u.z}}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o},subtract:function(t,i){return l(t.x-i,t.y-i,t.z-i)},subtractVec:function(t){for(var i,n,r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var o={x:t.x,y:t.y,z:t.z};try{for(var s=On(r),a=s.next();!a.done;a=s.next()){var u=a.value;o.x-=u.x,o.y-=u.y,o.z-=u.z}}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o},multiply:function(t,i){return l(t.x*i,t.y*i,t.z*i)},divide:function(t,i){return l(t.x/i,t.y/i,t.z/i)},multiplyVec:function(t){for(var i,n,r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var o={x:t.x,y:t.y,z:t.z};try{for(var s=On(r),a=s.next();!a.done;a=s.next()){var u=a.value;o.x*=u.x,o.y*=u.y,o.z*=u.z}}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o},divideVec:function(t){for(var i,n,r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var o={x:t.x,y:t.y,z:t.z};try{for(var s=On(r),a=s.next();!a.done;a=s.next()){var u=a.value;o.x/=u.x,o.y/=u.y,o.z/=u.z}}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o},length:function(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)},normalize:function(t){return Fn.divide(t,Fn.length(t))},dot:function(t,i){return t.x*i.x+t.y*i.y+t.z*i.z},cross:function(t,i){return l(t.y*i.z-t.z*i.y,t.z*i.x-t.x*i.z,t.x*i.y-t.y*i.x)},angle:function(t,i){return Math.acos(Fn.dot(t,i)/(Fn.length(t)*Fn.length(i)))},rotateAroundAxis:function(t,i,n){var r=Math.cos(n),e=Math.sin(n),o=Fn.dot(i,t),s=Fn.cross(i,t);return Fn.addVec(Fn.multiply(t,r),Fn.addVec(Fn.multiply(i,(1-r)*o),Fn.multiply(s,e)))},lerp:function(t,i,n){return n=pi(n,0,1),Fn.addVec(Fn.multiply(t,1-n),Fn.multiply(i,n))},equals:function(t,i){return bi(t.x,i.x)&&bi(t.y,i.y)&&bi(t.z,i.z)},abs:function(t){return{x:Math.abs(t.x),y:Math.abs(t.y),z:Math.abs(t.z)}},sign:function(t){return{x:Math.sign(t.x),y:Math.sign(t.y),z:Math.sign(t.z)}}},In=Number.MAX_VALUE,jn=-Number.MAX_VALUE,Bn=d(h(In,In),h(jn,jn)),Dn=d(l(In,In,In),l(jn,jn,jn)),Ln=function(t,i){var n=Math.log(t)/Math.log(i);return Math.floor(function(t){return Math.ceil(t)-t<1e-4?t=Math.ceil(t):t-Math.floor(t)<1e-4&&(t=Math.floor(t)),t}(n))},En=function(t,i){return!(i.min.x>t.max.x||i.max.x<t.min.x||i.min.y>t.max.y||i.max.y<t.min.y)},Pn=function(t,i){return!(t[1].x<i[0].x||t[0].x>i[1].x||t[3].y<i[0].y||t[0].y>i[3].y)},zn=function(t,i){return{min:{x:Math.min(t[0].x,i[0].x),y:Math.min(t[0].y,i[0].y)},max:{x:Math.max(t[2].x,i[2].x),y:Math.max(t[2].y,i[2].y)}}},Nn=function(t){for(var i=t.length,n=0;n<i;n+=1)for(var r=n+1;r<i;r+=1)if(En(t[n],t[r]))return!0;return!1},Vn=function(t,i){return i+t},Rn=function(t,i,n){var r=sr(i,t),e=r.x*r.x+r.y*r.y;if(0===e)return t;var o=sr(n,t),s=(o.x*r.x+o.y*r.y)/e;return s<=0?t:s>=1?i:h(t.x+s*r.x,t.y+s*r.y)},Gn=function(t,i,n){return n>i?t>=i&&t<=n:t>=n&&t<=i},Un=function(t,i){var n=t.x-i.x,r=t.y-i.y;return Math.sqrt(n*n+r*r)},Yn=function(t,i){var n=t.x-i.x,r=t.y-i.y;return n*n+r*r},Wn=function(t,i,n){var r=n.x-i.x,e=n.y-i.y,o=r*r+e*e;if(o<.01)return Number.MAX_VALUE;var s=((t.x-i.x)*r+(t.y-i.y)*e)/o,a=i.x+s*r,u=i.y+s*e;return(r=t.x-a)*r+(e=t.y-u)*e},Xn=function(t,i,n){return or(t,er(sr(i,t),n))},Hn=function(t,i,n){return Fn.addVec(t,Fn.multiply(Fn.subtractVec(i,t),n))};function Zn(t){var i=t.length;if(i>0){for(var n=t[0].x,r=t[0].x,e=t[0].y,o=t[0].y,s=1;s<i;s+=1){var a=t[s];a.x>n&&(n=a.x),a.x<r&&(r=a.x),a.y>e&&(e=a.y),a.y<o&&(o=a.y)}return d(h(r,o),h(n,e))}return Bn}function Qn(t){var i=t.length;if(i>0){for(var n=t[0].x,r=t[0].x,e=t[0].y,o=t[0].y,s=t[0].z,a=t[0].z,u=0;u<i;u+=1){var h=t[u];h.x>n&&(n=h.x),h.x<r&&(r=h.x),h.y>e&&(e=h.y),h.y<o&&(o=h.y),h.z>s&&(s=h.z),h.z<a&&(a=h.z)}return d(l(r,o,a),l(n,e,s))}return Dn}var Jn=function(){for(var t,i,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var e={min:{x:In,y:In},max:{x:jn,y:jn}};try{for(var o=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),s=o.next();!s.done;s=o.next()){var a=s.value;e.min.x=e.min.x<a.min.x?e.min.x:a.min.x,e.max.x=e.max.x>a.max.x?e.max.x:a.max.x,e.min.y=e.min.y<a.min.y?e.min.y:a.min.y,e.max.y=e.max.y>a.max.y?e.max.y:a.max.y}}catch(i){t={error:i}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return e},Kn=function(t,i){return d(l(t.min.x<i.min.x?t.min.x:i.min.x,t.min.y<i.min.y?t.min.y:i.min.y,t.min.z<i.min.z?t.min.z:i.min.z),l(t.max.x>i.max.x?t.max.x:i.max.x,t.max.y>i.max.y?t.max.y:i.max.y,t.max.z>i.max.z?t.max.z:i.max.z))},qn=function(t,i,n){return!(t.x>n.x||t.y>n.y||t.x<i.x||t.y<i.y)};function $n(t,i,n){return h(Math.cos(n)*(t.x-i.x)+Math.sin(n)*(t.y-i.y)+i.x,-Math.sin(n)*(t.x-i.x)+Math.cos(n)*(t.y-i.y)+i.y)}function tr(t,i){return h(t.x-i.x,t.y-i.y)}function ir(t){var i=rr(t);return 0===i?h(0,0):h(t.x/i,t.y/i)}function nr(t,i){var n={x:i.x-t.x,y:i.y-t.y};n=ir(n);var r=Math.PI/2,e=n.x;return n.x=-Math.sin(r)*n.y,n.y=e*Math.sin(r),n}function rr(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function er(t,i){return h(t.x*i,t.y*i)}function or(t,i){return h(t.x+i.x,t.y+i.y)}function sr(t,i){return h(t.x-i.x,t.y-i.y)}function ar(t,i){return h(t.x*i.x,t.y*i.y)}function ur(t,i){return h(t.x/i.x,t.y/i.y)}function hr(t){return er(t,-1)}function fr(t,i){return t.x*i.x+t.y*i.y}var cr=function(t,i,n){var r=(n.y-i.y)/(n.x-i.x),e=i.y+(t-i.x)*r;return h(t,e)};function lr(t){return t*Math.PI/180}function vr(t){return 180*Math.atan2(t.y,t.x)/Math.PI}function dr(t){return h(Math.cos(t),Math.sin(t))}var yr,Ar=function(t,i,n,r){var e,o,s,a;if(i.x-t.x!=0||r.x-n.x!=0)return i.x-t.x==0?(s=i.x,a=(o=(r.y-n.y)/(r.x-n.x))*(s-n.x)+n.y):r.x-n.x==0?(s=r.x,a=(e=(i.y-t.y)/(i.x-t.x))*(s-t.x)+t.y):(e=(i.y-t.y)/(i.x-t.x),o=(r.y-n.y)/(r.x-n.x),a=e*((s=(n.y-o*n.x+e*t.x-t.y)/(e-o))-t.x)+t.y),h(s,a)},br=function(t,i){var n=t.length,r=i.length,e=new Uint16Array(n+r);return e.set(t,0),e.set(i,n),e},pr=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mr=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r,e)||this;return o.nn={internal:10,function:gr(10),number:10},o.U=1e3,o.X(1,1e3),o.Xt=o.rn(),o}return pr(i,t),i.prototype.nt=function(t,i,n,r,e){if(t===i)return!1;var o=Math.min(t,i)<Sr,s=Math.max(t,i)>wr;return!o&&!s||!!e&&(i>t?{start:o?Sr:t,end:s?wr:i}:{start:s?wr:t,end:o?Sr:i})},i.prototype.Bt=function(t){var i=this.bt(),n=this.xt(),r=Math.max(t,Sr);return i+(this.nn.function(r)-this.Xt.scaleStartLog)/this.Xt.scaleIntervalLog*(n-i)},i.prototype.Dt=function(t){var i=this.bt(),n=(t-i)/(this.xt()-i),r=this.Xt.scaleStartLog+n*this.Xt.scaleIntervalLog;return Math.pow(this.nn.number,r)},i.prototype.kt=function(){this.nn&&this.rn()},i.prototype.X=function(i,n){return t.prototype.X.call(this,i,n),this.nn&&this.rn(),this},i.prototype.At=function(i){return t.prototype.At.call(this,i),this.nn&&this.rn(),this},i.prototype.Z=function(i){return t.prototype.Z.call(this,i),this.nn&&this.rn(),this},i.prototype.en=function(t){return this.nn={internal:t,function:gr(t),number:xr(t)},this},i.prototype.sn=function(){return this.nn.internal},i.prototype.Jt=function(t,i){var n=this.Bt(t)+i;return this.Dt(n)},i.prototype.jt=function(){return this.et||this._t||this.st||this.rt},i.prototype.rn=function(){var t=this.nn.function(this.R),i=this.nn.function(this.G)-t,n=2*this.bt()/this.U-1,r=2*this.xt()/this.U-1-n;return this.Xt={scaleStartLog:t,scaleIntervalLog:i,viewportStart:n,viewportSize:r},this.Xt},i.prototype.Wt=function(){return this.Xt},i}(J),gr=function(t){return"e"===t?Ji:Qi(t)},xr=function(t){return"e"===t?Math.E:t},Sr=.9*Math.pow(10,-20),wr=1.1*Math.pow(10,25),Mr=[{prefix:"T",unit:Math.pow(10,12)},{prefix:"B",unit:Math.pow(10,9)},{prefix:"M",unit:1e6},{prefix:"K",unit:1e3}],Cr=function(t,i,n){var r=Math.abs(n-i);if(0===r)return t.toFixed(0);var e=Math.max(2-Ln(r,10),0);return t.toFixed(e)},Tr={Numeric:function(t,i){var n=i.start,r=i.end;return Cr(t,n,r)},NumericUnits:function(t,i){var n,r,e=i.start,o=i.end,s=Math.abs(o-e),a=t<0;t=Math.abs(t);var u="",h="";if(s>=1e3&&t>1e3){var f="";try{for(var c=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(Mr),l=c.next();!l.done;l=c.next()){var v=l.value,d=Math.round(1e3*t/v.unit)/1e3;if(d>=1){f=d.toString(),h=v.prefix;break}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}u=(a?"-":"")+f}else{f=String(Math.floor(t));for(var y=Ln(t,1e3),A=1;A<=y;A+=1){var b=f.length-(3*A+(A-1));f="".concat(f.substring(0,b)," ").concat(f.substring(b,f.length))}u=(a?"-":"")+f+(s<=10?function(t,i){if(0===i)return"";var n=(Math.abs(t)-Math.abs(Math.floor(t))).toString().substring(1);return n.length>i&&(n=n.substring(0,i+1)),n}(t,2-Ln(s,10)):"")}return u+h},LogarithmicExponentsRounded:function(t,i,n,r){void 0===r&&(r=10);var e=gr(r)(t);return"".concat(r).concat(kr(e))},LogarithmicExponents:function(t,i,n,r){void 0===r&&(r=10);var e=gr(r),o=Math.floor(e(t)),s=xr(r),a=t/Math.pow(s,o);return"".concat(Math.round(a),"").concat(r).concat(kr(o))},LogarithmicExtreme:function(t,i,n,r){void 0===r&&(r=10);var e=gr(r),o=Math.floor(e(t)),s=xr(r),a=t/Math.pow(s,o);return"".concat(a.toFixed(2),"").concat(r).concat(kr(o))},LogarithmicNoExponents:function(t,i,n,r){void 0===r&&(r=10);var e=gr(r);if("e"===r){var o=Math.floor(e(t));return"".concat(o,"e")}var s=t.toString();if(t>1)return s;var a=Math.floor(e(t));return t.toFixed(Math.abs(a))},Scientific:function(t,i){var n=i.start,r=i.end,e=Math.max(Math.abs(n),Math.abs(r)),o=Math.floor(Math.log10(e));return 0===t?"0.00e".concat(o<0?"":"+").concat(o):t.toExponential(2)}},kr=function(t){return Math.round(t).toString().split("").map((function(t){switch(t){case"0":return"";case"1":return"";case"2":return"";case"3":return"";case"4":return"";case"5":return"";case"6":return"";case"7":return"";case"8":return"";case"9":return"";case"-":return"";default:return t}})).join("")},_r=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Or=function(){return Or=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Or.apply(this,arguments)},Fr=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Ir=function(t,i){return t.value-i.value},jr=i({type:"lut",steps:[],title:"",units:"",interpolate:!0,color:w(0,0,0,255),length:0,min:0,max:0,subranges:[],isValid:!1,percentageValues:!1,formatter:function(t,i){return Cr(t,i.min,i.max)}}),Br=function(t){var i=t.steps,n=i.length;i.sort(Ir);for(var r=Fr(n>0?[i[0].value,i[n-1].value]:[0,0],2),e=r[0],o=r[1],s=n>0?n-1:0,a=Array(s),u=0;u<s;u+=1)a[u]={min:i[u],max:i[u+1]};return{min:e,max:o,length:n,steps:i,subranges:a,isValid:n>0&&e!==o}},Dr=function(t){function i(i){var n=Br(i);return t.call(this,function(t,i){return{steps:t.steps,title:t.title,units:t.units,interpolate:t.interpolate,percentageValues:t.percentageValues,color:t.color,formatter:t.formatter,length:i.length,min:i.min,max:i.max,subranges:i.subranges,isValid:i.isValid}}(i,n))||this}return _r(i,t),i.prototype.toString=function(){return"LUT:interpolate=".concat(this.interpolate,",steps=").concat(this.steps.length,",percentage=").concat(this.percentageValues)},i.prototype.setSteps=function(t){return this.merge(Br(Or(Or({},this),{steps:t})))},i.prototype.getSteps=function(){return this.get("steps")},i.prototype.setTitle=function(t){return this.set("title",t)},i.prototype.getTitle=function(){return this.get("title")},i.prototype.setUnits=function(t){return this.set("units",t)},i.prototype.getUnits=function(){return this.get("units")},i.prototype.setInterpolation=function(t){return this.set("interpolate",t)},i.prototype.getInterpolation=function(){return this.get("interpolate")},i.prototype.setFallbackColor=function(t){return this.set("color",t)},i.prototype.getFallbackColor=function(){return this.get("color")},i.prototype.setPercentageValues=function(t){return this.set("percentageValues",t)},i.prototype.getPercentageValues=function(){return this.get("percentageValues")},i.prototype.setFormatter=function(t){return this.set("formatter",t)},i.prototype.getFormatter=function(){return this.get("formatter")},i.prototype.getColors=function(t,i){if(Array.isArray(t)){if(Array.isArray(t[0])){for(var n=t,r=n.length,e=n[0].length,o=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}([],Fr(Array(r)),!1).map((function(){return Array(e)})),s=0;s<r;s+=1)for(var a=0;a<e;a+=1)o[s][a]=this.an(n[s][a],i);return o}for(var u=t,h=u.length,f=Array(h),c=0;c<h;c+=1)f[c]=this.an(u[c],i);return f}return this.an(t,i)},i.prototype.an=function(t,i){var n,r,e,o=this.steps,s=o.length;if(0===s)return this.getFallbackColor();if(1===s)return o[0].color||this.color;if(this.percentageValues,this.percentageValues&&i&&(t=Math.max(Math.min((t-i.min)/(i.max-i.min),1),0)),this.interpolate){for(var a=0;a<s-1;a+=1){var u=o[a],h=o[a+1],f=Math.min(u.value,h.value),c=Math.max(u.value,h.value);if(t>=f&&t<=c){if(f===c)return u.color;var l=(t-u.value)/(h.value-u.value);return n=u.color,r=h.color,e=l,new x({r:n.r+(r.r-n.r)*e,g:n.g+(r.g-n.g)*e,b:n.b+(r.b-n.b)*e,a:n.a+(r.a-n.a)*e})}}return t<o[0].value?o[0].color:o[s-1].color}for(a=s-1;a>=0;a-=1)if(t>=o[a].value)return o[a].color;return o[0].color},i}(jr),Lr=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"lut"!==t.type)},Er=function(t,i){return t.formatter(i,{min:t.min,max:t.max,percentageValues:t.percentageValues})},Pr=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zr=function(){return zr=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},zr.apply(this,arguments)},Nr=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Pr(i,t),i.prototype.toString=function(){return"emptyFill"},i.prototype.toCSS=function(){return"transparent"},i}(i({type:"fillstyle",fillType:"empty"})),Vr=new Nr,Rr=function(t){return!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"empty"===t.fillType)},Gr=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Pr(i,t),i}(i({type:"fillstyle",fillType:"solid",color:w(255,255,255)})),Ur=function(t){function i(i){return t.call(this,zr(zr({},i),{fillType:"solid"}))||this}return Pr(i,t),i.prototype.toString=function(){return"solidFill:".concat(this.color.toString())},i.prototype.toCSS=function(){return this.color.toRGBAString()},i.prototype.setColor=function(t){return S(t)?this.set("color",t):this.set("color",t(this.get("color")))},i.prototype.getColor=function(){return this.get("color")},i.prototype.setA=function(t){return this.setColor(this.getColor().setA(t))},i.prototype.setR=function(t){return this.setColor(this.getColor().setR(t))},i.prototype.setG=function(t){return this.setColor(this.getColor().setG(t))},i.prototype.setB=function(t){return this.setColor(this.getColor().setB(t))},i}(Gr),Yr=function(t){return!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"solid"===t.fillType)},Wr=function(t){function i(i){return t.call(this,zr(zr({},i),{fillType:"individual"}))||this}return Pr(i,t),i.prototype.toString=function(){return"individualPointFill:".concat(this.color.toString())},i.prototype.toCSS=function(){return this.getFallbackColor().toRGBAString()},i.prototype.setFallbackColor=function(t){return S(t)?this.set("color",t):this.set("color",t(this.get("color")))},i.prototype.getFallbackColor=function(){return this.get("color")},i}(Gr),Xr=function(t){return!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"individual"===t.fillType)},Hr=function(t){function i(i){return t.call(this,zr(zr({},i),{fillType:"palette"}))||this}return Pr(i,t),i.prototype.toString=function(){return"palettedFill:lut=".concat(this.lut.toString(),",lookUpProperty=").concat(this.lookUpProperty)},i.prototype.toCSS=function(){return"linear-gradient(".concat(this.lut.getSteps().map((function(t){return t.color.toRGBAString()})).join(", "),")")},i.prototype.getPalette=function(){return this.get("lut")},i.prototype.setLookUpProperty=function(t){return"function"==typeof t?this.set("lookUpProperty",t(this.get("lookUpProperty"))):this.set("lookUpProperty",t)},i.prototype.getLookUpProperty=function(){return this.get("lookUpProperty")},i}(i({type:"fillstyle",fillType:"palette",lut:new Dr({steps:[]}),lookUpProperty:"value"})),Zr=function(t){return!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"palette"===t.fillType)},Qr=function(t,i){return t instanceof mr||i instanceof mr?(new rt).Kt(t,i):(new nt).Kt(t,i)},Jr=function(t){return"client"===t},Kr=function(t){return!!(t&&"object"==typeof t&&"clientX"in t&&"number"==typeof t.clientX&&"clientY"in t&&"number"==typeof t.clientY)},qr=function(t){return"relative"===t},$r=function(t){return!!(t&&"object"==typeof t&&"x"in t&&"number"==typeof t.x&&"y"in t&&"number"==typeof t.y)},te=function(t,i,n,r){for(var e,o,s=Number.MAX_VALUE,a=0;a<i.length;a+=1){var u=i[a],h=n(u,t);if(h){var f=r(t,h);(void 0===e||f<s)&&(e=h,o=u,s=f)}}return e&&o?[e,o]:void 0},ie=function(t,i,n,r,e,o){if(t){var s=t,a="button"in n?n:void 0;if(a&&"wheel"!==n.type)if(0===a.button){if(!1===t.lmb)return;void 0!==t.lmb&&(s=hi(s,t.lmb))}else if(1===a.button){if(!1===t.mmb)return;void 0!==t.mmb&&(s=hi(s,t.mmb))}else if(2===a.button){if(!1===t.rmb)return;void 0!==t.rmb&&(s=hi(s,t.rmb))}if(r){if(!1===t.shift)return;s=hi(s,t.shift)}if(e){if(!1===t.ctrl)return;s=hi(s,t.ctrl)}if(o){if(!1===t.alt)return;s=hi(s,t.alt)}if(!i)return s;var u=s[i];if(u)return!0===u?s:hi(s,u)}},ne=function(t){var i=[];return{push:function(t){i.push(t)},end:function(){i.length>1&&t&&ci.console.warn("LightningChart JS warning | event handler triggered more than 1 interaction.\nThis likely means that your `chart.setUserInteractions` configuration either enables conflicting interactions or more likely doesn't disable conflicting default interactions."),i.forEach((function(t){return t()}))}}},re=function(t,i,n){if(t){var r={x:n.x.bt(),y:n.y.bt(),width:n.x.St(),height:n.y.St()};i.forEach((function(t){t.un=r}))}else i.forEach((function(t){t.un=void 0}))},ee=function(t,i){var n;return i?"string"==typeof i?"".concat(t," ").concat(i):!1!==(null===(n=i.hn)||void 0===n?void 0:n.displayInCursor)&&i.getUnits()?"".concat(t," ").concat(i.getUnits()):t:t},oe=function(t){var i=!1,n={type:"linear"};if(t&&(void 0!==t.opposite&&(i=t.opposite),t.type&&"linear-highPrecision"===t.type&&(n={type:"linear-highPrecision"}),t.type&&"logarithmic"===t.type)){var r=10;if(t.base)if("E"===t.base||"e"===t.base||"natural"===t.base)r="e";else if("number"==typeof t.base)r=t.base;else if("string"==typeof t.base)try{r=Number(t.base)}catch(i){console.warn('Unidentified logarithmic base "'.concat(t.base,'"'))}n={base:r,type:"logarithmic"}}return{opposite:i,type:n}},se=function(t,i,n,r){return void 0===r&&(r=1),pi(t+.1*r*(i-t)+.5*r*Math.abs(n.getPixelSize())*Math.sign(i-t),t,i)},ae=function(t,i,n,r){void 0===r&&(r=1);var e=n.Bt(t),o=n.Bt(i);return pi(n.Dt(e+.1*r*(o-e)+.5*r*Math.sign(o-e)),t,i)},ue=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t[t.noHighlighting=0]="noHighlighting",t[t.onHover=1]="onHover",t[t.onHoverIndividual=2]="onHoverIndividual"}(yr||(yr={}));var he,fe=function(){function t(t,i,n,r){var e=this;this.fn=yr.onHover,this.fi=!1,this.ci=!0,this.cn=[],this.chart=t,this.ln=i,this.xi=n,this.vn=new Map,this.dn=r,this.yn=this.dn.An(this,{bn:{themeEffectEnabled:this.xi.effectsText},pn:{}}),this.chart.Ai.gn.mn(this,(function(t){e.vn.forEach((function(i,n){return n.Oi(t)})),e.cn.forEach((function(i){return i.Oi(t)}))}),{animationEnabled:this.chart.getAnimationsEnabled()}),ci.requestAnimationFrame((function(){e.fi||(e.addEventListener("pointerenter",(function(){e.fn===yr.onHover&&e.setHighlight(!0)})),e.addEventListener("pointerleave",(function(){e.fn===yr.onHover&&e.setHighlight(!1)})))}))}return t.prototype.xn=function(){},t.prototype.Sn=function(t,i){var n=this,r=void 0===(null==i?void 0:i.setEventHandlers)||i.setEventHandlers,e=void 0!==(null==i?void 0:i.pointerEventsDisabled)&&i.pointerEventsDisabled,o=void 0!==(null==i?void 0:i.isText)&&i.isText;this.vn.set(t,{isText:o,pointerEventsDisabled:e});var s=Array.from(this.vn);this.yn.bn.wn(s.filter((function(t){return t[1].isText})).map((function(t){return t[0]}))),this.yn.pn.wn(s.filter((function(t){return!t[1].isText})).map((function(t){return t[0]}))),t.setVisible(this.ci).Oi(this.chart.Ai.gn.Mn(this,!0)),ci.requestAnimationFrame((function(){n.fi||t.isDisposed()||(t.setPointerEvents(!0!==(null==i?void 0:i.pointerEventsDisabled)&&n.getPointerEvents()),r&&n.j.Pi(t,{getExtraData:function(t,i,r){return n.Ji(r,t,i)}}))}));var a=function(i){t.removeEventListener("dispose",a),n.vn.delete(t)};t.addEventListener("dispose",a)},t.prototype.Cn=function(t){var i=this;this.cn=t;var n=this.chart.Ai.gn.Mn(this,!0);t.forEach((function(t){t.Oi(n).Tn(i.ci)}))},t.prototype.Ji=function(t,i,n){},t.prototype.kn=function(t){var i=this.chart.Ai._n(t);if(i&&Array.from(this.vn.keys()).includes(i.entity))return this.Ji(i.info,t,i.collectionMember)},t.prototype.setEffect=function(t){return this.yn.bn.On(t&&this.xi.effectsText),this.yn.pn.On(t),this.chart.Ai.Fn(),this},t.prototype.getEffect=function(){return this.yn.bn.In()||this.yn.pn.In()},t.prototype.setIcon=function(t){return this.jn=t,this.chart.Ai.Fn(),this},t.prototype.getIcon=function(){return this.jn},t.prototype.setName=function(t){return this.Bn=t,this},t.prototype.getName=function(){return this.Bn||"Component"},t.prototype.dispose=function(){return this.fi||(this.fi=!0,this.vn.forEach((function(t,i){return i.dispose()})),this.ln(this),this.j.D("dispose",{}),this.chart.legend.remove(this),this.chart.Ai.Fn()),this},t.prototype.setVisible=function(t){return t===this.ci||(this.ci=t,this.vn.forEach((function(i,n){return n.setVisible(t)})),this.cn.forEach((function(i){return i.Tn(t)})),this.j.D("visiblechange",{isVisible:t}),this.chart.Dn.forEach((function(t){return t.Ln()})),this.chart.Ai.Fn()),this},t.prototype.getVisible=function(){return this.ci},t.prototype.setHighlight=function(t){return this.chart.Ai.gn.En(this,t),this.j.D("highlightchange",{highlight:vn(t)}),this},t.prototype.getHighlight=function(){return this.chart.Ai.gn.Mn(this)},t.prototype.setAnimationHighlight=function(t){return this.chart.Ai.gn.Pn(this,t),this},t.prototype.getAnimationHighlight=function(){return this.chart.Ai.gn.zn(this)},t.prototype.setPointerEvents=function(t){return this.j.setPointerEvents(t),this},t.prototype.getPointerEvents=function(){return this.j.getPointerEvents()},t.prototype.getPointed=function(){var t,i,n,r;if(!this.chart.Ai.Nn())return!1;try{for(var e=ue(this.vn),o=e.next();!o.done;o=e.next()){var s=o.value;if(this.chart.Ai.Vn(s[0]))return!0}}catch(i){t={error:i}}finally{try{o&&!o.done&&(i=e.return)&&i.call(e)}finally{if(t)throw t.error}}try{for(var a=ue(this.cn),u=a.next();!u.done;u=a.next()){var h=u.value;if(this.chart.Ai.Vn(void 0,h))return!0}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return!1},t.prototype.setHighlightOnHover=function(t){return this.fn="boolean"==typeof t?t?yr.onHover:yr.noHighlighting:t,this.fn===yr.noHighlighting&&this.getHighlight()>0&&this.setHighlight(!1),this},t.prototype.getHighlightOnHover=function(){return this.fn!==yr.noHighlighting},t.prototype.Rn=function(){},t.prototype.Gn=function(){return this.jn},t.prototype.isDisposed=function(){return this.fi},Object.defineProperty(t.prototype,"draggable",{get:function(){return this.j.draggable},set:function(t){this.j.draggable=t},enumerable:!1,configurable:!0}),t}(),ce=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),le=function(t){function i(i,n,r,e,o,s,a,u){var h=t.call(this,n,r,a,u)||this;return h.Un=!0,h.Yn=i,h.axis=e,h.ai=o,h.Wn=s,ci.requestAnimationFrame((function(){return h.Xn()})),h}return ce(i,t),i.prototype.setClipping=function(t){return this.Un=t,this.Yn.Fn(),this},i.prototype.getClipping=function(){return this.Un},i}(fe);!function(t){t[t.Other=0]="Other",t[t.CursorResultTable=1]="CursorResultTable",t[t.CursorTickMarker=2]="CursorTickMarker",t[t.ChartTitle=3]="ChartTitle",t[t.AxisTitle=4]="AxisTitle"}(he||(he={}));var ve,de=function(t){return"object"==typeof t&&null!==t&&"setCornerRadius"in t};!function(t){t[t.Square=0]="Square",t[t.Circle=1]="Circle",t[t.HollowCircle=2]="HollowCircle",t[t.Triangle=3]="Triangle",t[t.Cross=4]="Cross",t[t.Diamond=5]="Diamond",t[t.Plus=6]="Plus",t[t.Minus=7]="Minus",t[t.Arrow=8]="Arrow",t[t.Star=9]="Star"}(ve||(ve={}));var ye,Ae,be=function(t){return"ProgressiveX"===t||"RegressiveX"===t?"x":"y"},pe=function(t){return"ProgressiveX"===t||"ProgressiveY"===t},me=function(t,i,n){return t*(1-n)+i*n},ge=function(t,i,n,r,e){if(void 0!==i.value&&void 0!==n.value&&void 0!==r.value&&void 0!==e.value){var o=(t.x-n.point.x)/(e.point.x-n.point.x),s=(e.point.y-n.point.y)*o+n.point.y,a=(t.x-i.point.x)/(r.point.x-i.point.x),u=(r.point.y-i.point.y)*a+i.point.y,h=(t.y-u)/(s-u),f=me(n.value,e.value,o),c=me(i.value,r.value,a);return me(c,f,h)}},xe={warm:function(t){return function(i){return C(60/(t-1)*i,.8,.8)}},cold:function(t){return function(i){return C(60/(t-1)*i+180,.8,.8)}},fullSpectrum:function(t){return function(i){return C(360/t*i,.8,.8)}},reverseSpectrum:function(t){return function(i){return C(360/t*(t-i),.8,.8)}},flatUI:function(t){return function(i){return C(360/t*i+8,.8,.8-.15/t*i)}},arction:function(t){return function(i){var n=1-.2/t*i;return C(360/t*i+51,n,n)}},arctionWarm:function(t){return function(i){var n=t-1,r=1-.2/n*i;return C(46-46/n*i+4,r,r)}},sunset:function(t){return function(i){var n=[170,320];return C(i%2?n[0]:n[1],.8,.5+.5/(t-1)*i)}},dynamic:function(t){return function(i){var n=i%2,r=[234,346];return C(n?r[0]:r[1],n?.3:.9,.5+.5/(t-1)*i)}},magenta:function(t){return function(i){var n=[.9,.6];return C(354,i%2?n[0]:n[1],.5+.5/(t-1)*i)}},greyscale:function(t){return function(i){return C(0,0,.25+.5/(t-1)*i)}},frozen:function(t){return function(i){var n=[.8,.6];return C(160+80/(t-1)*i,.6,i%2?n[0]:n[1])}},retro:function(t){return function(i){var n=[6,183];return C(i%2?n[0]:n[1],.7,.5+.5/(t-1)*i)}},crayons:function(t){return function(i){var n=180+230/(t-1)*i;return n>360&&(n-=360),C(n,.9,.8)}},custom:function(t,i){return function(n){var r=.25+.5/(t-1)*n;if(!i)return C(0,0,r);var e=i.getR()/255,o=i.getG()/255,s=i.getB()/255,a=Math.max(e,o,s),u=Math.min(e,o,s),h=0;if(a!==u){var f=a-u;switch(a){case e:h=(o-s)/f+(o<s?6:0);break;case o:h=(s-e)/f+2;break;case s:h=(e-o)/f+4;break;default:h=0}return C(h=h/6*360,.8,r)}return C(0,0,r)}},sector:function(t,i,n,r){return void 0===n&&(n=.8),void 0===r&&(r=.8),function(e){return function(o){return C(t+(i-t)/e*o,n,r)}}},auroraBorealis:function(t){return function(i){return Se([{value:0,hex:"#23FF7A"},{value:1/9,hex:"#03E65D"},{value:2/9,hex:"#04D155"},{value:3/9,hex:"#00B849"},{value:4/9,hex:"#00A869"},{value:5/9,hex:"#008F68"},{value:6/9,hex:"#00815E"},{value:7/9,hex:"#017153"},{value:8/9,hex:"#704A85"},{value:1,hex:"#743A70"}],t,i)}},blueSciFi:function(t){return function(i){return Se([{value:0,hex:"#FFFFFF"},{value:1/9,hex:"#E2E7FF"},{value:2/9,hex:"#ACB9F8"},{value:3/9,hex:"#889DFF"},{value:4/9,hex:"#547EEF"},{value:5/9,hex:"#4068D8"},{value:6/9,hex:"#2B50B7"},{value:7/9,hex:"#1B3E9F"},{value:8/9,hex:"#8D1395"},{value:1,hex:"#780A74"}],t,i)}},light:function(t){return function(i){return Se([{value:0,hex:"#FECC00"},{value:1/9,hex:"#F7B300"},{value:2/9,hex:"#EF9900"},{value:3/9,hex:"#E88000"},{value:4/9,hex:"#E06600"},{value:5/9,hex:"#DD5A00"},{value:6/9,hex:"#D94D00"},{value:7/9,hex:"#D13300"},{value:8/9,hex:"#C91A00"},{value:1,hex:"#C10000"}],t,i)}},monochrome:function(t){return function(i){return Se([{value:0,hex:"#FFFFFF"},{value:1/9,hex:"#EEEEEE"},{value:2/9,hex:"#DCDCDC"},{value:3/9,hex:"#C1C1C1"},{value:4/9,hex:"#A4A2A2"},{value:5/9,hex:"#8B8B8B"},{value:6/9,hex:"#787878"},{value:7/9,hex:"#656565"},{value:8/9,hex:"#565555"},{value:1,hex:"#434343"}],t,i)}},night:function(t){return function(i){return Se([{value:0,hex:"#F0F9E0"},{value:1/9,hex:"#C9DFA4"},{value:2/9,hex:"#B5C796"},{value:3/9,hex:"#8998B7"},{value:4/9,hex:"#6E7E9E"},{value:5/9,hex:"#5C6D8F"},{value:6/9,hex:"#47587A"},{value:7/9,hex:"#374B72"},{value:8/9,hex:"#273C65"},{value:1,hex:"#192847"}],t,i)}},sunset2:function(t){return function(i){return Se([{value:0,hex:"#22334D"},{value:1/9,hex:"#82062C"},{value:2/9,hex:"#AB001D"},{value:3/9,hex:"#D80428"},{value:4/9,hex:"#CF5D1B"},{value:5/9,hex:"#CF8229"},{value:6/9,hex:"#CF9D29"},{value:7/9,hex:"#C4BE25"},{value:8/9,hex:"#E1DC49"},{value:1,hex:"#FFFA67"}],t,i)}}},Se=function(t,i,n){var r=Me(i,n),e=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(Ce(r,t),2),o=e[0],s=e[1],a=we(t[o]),u=we(t[s]),h=0!==a.value?(u.value-r)/a.value:0,f={value:h,h:me(a.h,u.h,h),s:me(a.s,u.s,h),v:me(a.v,u.v,h)};return C(f.h,f.s,f.v)},we=function(t){var i=function(t){var i=t.r,n=t.g,r=t.b,e=Math.max(i,n,r),o=Math.min(i,n,r),s=0,a=e,u=e-o,h=0===e?0:u/e;if(e===o)s=0;else{switch(e){case i:s=(n-r)/u+(n<r?6:0);break;case n:s=(r-i)/u+2;break;case r:s=(i-n)/u+4}s/=6}return[360*s,h,a]}(M(t.hex));return{value:t.value,h:i[0],s:i[1],v:i[2]}},Me=function(t,i){var n=i/t;return n<0?0:n>1?1:n},Ce=function(t,i){if(i.length<2)throw new Error("Invalid palette size");for(var n=0;n<i.length;n+=1)if(t<i[n].value)return[n-1,n];return[i.length-2,i.length-1]},Te=function(){this.type="simple"},ke=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"simple"!==t.type)},_e=new Te,Oe=function(t){this.type="phong",this.ambientReflection=1,this.specularReflection=.1,this.diffuseReflection=1,this.ambientColor=M("#000"),this.specularColor=M("#fff"),this.shininess=32,t&&(this.ambientReflection=Number.isNaN(Number(t.ambientReflection))?this.ambientReflection:Number(t.ambientReflection),this.specularReflection=Number.isNaN(Number(t.specularReflection))?this.specularReflection:Number(t.specularReflection),this.diffuseReflection=Number.isNaN(Number(t.diffuseReflection))?this.diffuseReflection:Number(t.diffuseReflection),this.ambientColor=t.ambientColor||this.ambientColor,this.specularColor=t.specularColor||this.specularColor,this.shininess=t.shininess||this.shininess)},Fe=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"phong"!==t.type)},Ie=new Oe,je={Simple:Te,Phong:Oe},Be=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),De=function(){function t(){}return t.prototype.getFillStyle=function(){return Vr},t}(),Le=new De,Ee=function(t){function i(i){return t.call(this,i)||this}return Be(i,t),i.prototype.setSize=function(t){return this.set("size",t)},i.prototype.getSize=function(){return this.get("size")},i.prototype.setFillStyle=function(t){return"function"==typeof t?this.set("fillStyle",t(this.get("fillStyle"))):this.set("fillStyle",t)},i.prototype.getFillStyle=function(){return this.get("fillStyle")},i.prototype.setWireframeStyle=function(t){return"function"==typeof t?this.set("wireframeStyle",t(this.get("wireframeStyle"))):this.set("wireframeStyle",t)},i.prototype.getWireframeStyle=function(){return this.get("wireframeStyle")},i.prototype.setShape=function(t){return this.set("shape",t)},i.prototype.getShape=function(){return this.get("shape")},i}(i({type:"triangulated-points-3d",shape:"sphere",size:10,fillStyle:new Ur,wireframeStyle:qt})),Pe=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"triangulated-points-3d"!==t.type)},ze=function(t){function i(i){return t.call(this,i)||this}return Be(i,t),i.prototype.setSize=function(t){return this.set("size",t)},i.prototype.getSize=function(){return this.get("size")},i.prototype.setFillStyle=function(t){return"function"==typeof t?this.set("fillStyle",t(this.get("fillStyle"))):this.set("fillStyle",t)},i.prototype.getFillStyle=function(){return this.get("fillStyle")},i}(i({type:"pixelated-points-3d",size:5,fillStyle:new Ur})),Ne=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"pixelated-points-3d"!==t.type)},Ve={Triangulated:Ee,Pixelated:ze},Re=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ge=function(){return Ge=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Ge.apply(this,arguments)},Ue=function(t){function i(i){return t.call(this,Ge(Ge({},i),{lineType:"solid"}))||this}return Re(i,t),i.prototype.setFillStyle=function(t){return"function"==typeof t?this.set("fillStyle",t(this.getFillStyle())):this.set("fillStyle",t)},i.prototype.getFillStyle=function(){return this.get("fillStyle")},i.prototype.setThickness=function(t){return"function"==typeof t?this.set("thickness",t(this.getThickness())):this.set("thickness",t)},i.prototype.getThickness=function(){return this.get("thickness")},i.prototype.Yi=function(){var t=this.getThickness();return t<0?1:t},i}(i({type:"linestyle",lineType:"solid",fillStyle:new Ur({color:w(255,255,255)}),thickness:1})),Ye=function(t){return!(!t||"object"!=typeof t||!("lineType"in t)||"solid"!==t.lineType)},We=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xe=function(){return Xe=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Xe.apply(this,arguments)},He={Dotted:[1,3],DottedDense:[1,1],Dashed:[3,1],DashedEqual:[2,2],DashedLoose:[2,4],DashDotted:[3,2,1,2]},Ze=function(t){function i(i){return t.call(this,Xe(Xe({},i),{lineType:"dashed"}))||this}return We(i,t),i.prototype.setFillStyle=function(t){return"function"==typeof t?this.set("fillStyle",t(this.getFillStyle())):this.set("fillStyle",t)},i.prototype.getFillStyle=function(){return this.get("fillStyle")},i.prototype.setThickness=function(t){return"function"==typeof t?this.set("thickness",t(this.getThickness())):this.set("thickness",t)},i.prototype.getThickness=function(){return this.get("thickness")},i.prototype.Yi=function(){var t=this.getThickness();return t<0?1:t},i.prototype.setPattern=function(t){return"function"==typeof t?this.set("pattern",t(this.getPattern())):this.set("pattern",t)},i.prototype.getPattern=function(){return this.get("pattern")},i.prototype.setPatternScale=function(t){return"function"==typeof t?this.set("patternScale",t(this.getPatternScale())):this.set("patternScale",t)},i.prototype.getPatternScale=function(){return this.get("patternScale")},i}(i({type:"linestyle",lineType:"dashed",pattern:He.DashedEqual,fillStyle:new Ur({color:w(255,255,255)}),thickness:1,patternScale:3})),Qe=function(t){return!(!t||"object"!=typeof t||!("lineType"in t)||"dashed"!==t.lineType)},Je=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ke=function(){return Ke=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Ke.apply(this,arguments)},qe=function(t){function i(i,n,r,e){return t.call(this,Ke(Ke({},e),{Hn:i,Zn:n,Qn:r}))||this}return Je(i,t),i.prototype.dispose=function(){return this.Qn(this),this},i.prototype.setWidth=function(t){var i=this.set("width",t);return this.Zn(i),i},i.prototype.getWidth=function(){return this.get("width")},i.prototype.setHeight=function(t){var i=this.set("height",t);return this.Zn(i),i},i.prototype.getHeight=function(){return this.get("height")},i.prototype.setSize=function(t,i){var n=this.withMutations((function(n){n.set("width",t).set("height",i)}));return this.Zn(n),n},i.prototype.Mt=function(){if(!this.Hn)return{x:0,y:0};var t=this.Hn.width,i=this.Hn.height;if(0===t||0===i)return{x:0,y:0};var n=this.width,r=this.height;return"number"==typeof n&&"number"==typeof r?{x:n,y:r}:"number"==typeof n?{x:n,y:i*n/t}:"number"==typeof r?{x:t*r/i,y:r}:{x:t,y:i}},i}(i({type:"icon",width:void 0,height:void 0,Hn:void 0,Zn:Ai,Qn:Ai})),$e=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"icon"!==t.type)},to=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),io=function(t){function i(i){return t.call(this,i)||this}return to(i,t),i.prototype.setSpread=function(t){return this.set("spread","function"==typeof t?t(this.get("spread")):t)},i.prototype.getSpread=function(){return this.get("spread")},i.prototype.setBlur=function(t){return this.set("blur","function"==typeof t?t(this.get("blur")):t)},i.prototype.getBlur=function(){return this.get("blur")},i.prototype.setColor=function(t){return this.set("color","function"==typeof t?t(this.get("color")):t)},i.prototype.getColor=function(){return this.get("color")},i.prototype.setOffset=function(t){return this.set("offset","function"==typeof t?t(this.get("offset")):t)},i.prototype.getOffset=function(){return this.get("offset")},i}(i({type:"glow",color:w(255,255,255,50),spread:1,blur:4,offset:{x:0,y:0}})),no=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"glow"!==t.type)},ro=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eo=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.ri="RadialScale",i.Jn={start:0,end:1},i.Kn=!1,i.qn=0,i.U=h(0,0),i.$n=[0,0],i.tr=[0,0],i.o=!0,i.Ft=!0,i.ir=!0,i.nr=!0,i.rr={x:0,y:0},i.Xt={x:{displacement:0,scaling:0,highPrecisionOffset:0},y:{displacement:0,scaling:0,highPrecisionOffset:0}},i}return ro(i,t),i.prototype.er=function(t,i){return t===this.Jn.start&&i===this.Jn.end||(this.Jn={start:t,end:i},this.ir=!0,this.sr()),this},i.prototype.ar=function(){return this.Jn},i.prototype.ur=function(){return this.Jn.end>=this.Jn.start},i.prototype.hr=function(t){this.Kn=t,this.nr=!0},i.prototype.cr=function(){return!1===this.Kn},i.prototype.lr=function(t){this.qn=t,this.nr=!0},i.prototype.vr=function(){return this.qn},i.prototype.jt=function(){return this.Ft},i.prototype.Pt=function(){return!1},i.prototype.ei=function(t,i,n,r){return this.x=new q(t.x,i.x,n.x,r?r.x:void 0),this.y=new q(t.y,i.y,n.y,r?r.y:void 0),this},i.prototype.Wt=function(){return this.Xt},i.prototype.dr=function(){return this.ir},i.prototype.yr=function(){return this.nr},i.prototype.oi=function(){return this.rr},i.prototype.Y=function(){return this.o=!1,this.Ft=!1,this.ir=!1,this.nr=!1,this},i.prototype.W=function(){return this.o=!0,this.Ft=!0,this.ir=!0,this.nr=!0,this},i.prototype.Z=function(t,i){return"object"==typeof t?(this.U.x=t.x,this.U.y=t.y):(this.U.x=t,this.U.y=i),this.sr(),this},i.prototype.qt=function(t){return this.$n=t,this.sr(),this},i.prototype.$t=function(t){return this.tr=t,this.sr(),this},i.prototype.wt=function(){return h(this.$n[0]+this.$n[1],this.tr[0]+this.tr[1])},i.prototype.Mt=function(){return this.U},i.prototype.sr=function(){var t=this.Jn,i=h(this.x.Ct(this.U.x),this.y.Ct(this.U.y)),n=this.$n[0]+this.$n[1],r=this.tr[0]+this.tr[1],e=Math.max(i.x-n,0),o=Math.max(i.y-r,0),s=.5*(e>o?o:e),a=[this.$n[0]+Math.max((e-2*s)/2,0),this.$n[1]+Math.max((e-2*s)/2,0)],u=[this.tr[0]+Math.max((o-2*s)/2,0),this.tr[1]+Math.max((o-2*s)/2,0)],f=Math.abs(t.end-t.start);this.x.Z(this.U.x).At(a).X(-f,f),this.y.Z(this.U.y).At(u).X(-f,f),this.rr={x:this.x.getPixelSize(),y:this.y.getPixelSize()},this.Xt={x:this.x.Wt(),y:this.y.Wt()},this.W()},i.prototype.Jt=function(t,i){var n=this.oi();return{x:t.x+i.x*n.x,y:t.y+i.y*n.y}},i.prototype.si=function(t,i,n,r){var e=this.oi(),o=nr(t,i);return o.x*=r,o.y*=r,{x:t.x+n*e.x*o.x,y:t.y+n*e.y*o.y}},i}(it),oo=function(t){if(t instanceof nt||t instanceof eo)return t.Pt()?"linear-highPrecision":"linear";if(t instanceof rt){var i={};return t.x instanceof mr&&(i.x={base:t.x.sn()}),t.y instanceof mr&&(i.y={base:t.y.sn()}),["logarithmic",i]}return"linear"},so=function(t,i,n){if(0===n||360===n||180===n||n%180==0)return{x:t,y:i};if(90===n||-90===n||(n+90)%180==0)return{x:i,y:t};var r=n*Math.PI/180,e=Math.cos(r),o=Math.sin(r);return{x:Math.abs(t*e)+Math.abs(i*o),y:Math.abs(t*o)+Math.abs(i*e)}},ao=function(t){var i=Object.keys(t),n={};return i.forEach((function(i){var r=t[i],e=!1;n[i]=function(t){if(!t)return e;var i=r();return e=i,i}})),n},uo=function(t,i,n){return"value"===t.getLookUpProperty()?n:"x"===t.getLookUpProperty()?{min:i.Wi(),max:i.Xi()}:"y"===t.getLookUpProperty()?{min:i.Hi(),max:i.Zi()}:"z"===t.getLookUpProperty()?{min:i.Ar(),max:i.br()}:void 0},ho=function(t){return!(!t||"value"!==t.lookUpProperty||!t.lut.percentageValues)},fo={init:function(t){return function(t){var i=new Map;t.engine.addEventListener("locationchange",(function(){i.forEach((function(t){t.bounds=void 0}))}));var n=function(n){var r=i.get(n.uid);if(!r){var e=document.createElement("p");e.className="lcjs-text",t.engine.container.append(e),e.style.userSelect="none",e.style.whiteSpace="nowrap",e.style.margin="0px",r={span:e,active:!0},i.set(n.uid,r),e.addEventListener("pointerenter",(function(i){return t.handleEvent(n,i)})),e.addEventListener("pointermove",(function(i){return t.handleEvent(n,i)})),e.addEventListener("pointerleave",(function(i){return t.handleEvent(n,i)}))}if(r.text!==n.text&&(function(t,i){var n=t.includes("latex:"),r=!n&&t.includes("tex:"),e=!0;if(n||r)try{ci.MathJax&&n?(e=!1,i.innerHTML=t.replace(/latex:/g,""),ci.MathJax.typesetPromise([i]).catch((function(t){return ci.console.error(t.message)}))):ci.katex&&r&&(e=!1,ci.katex.render(t.replace(/tex:/g,""),i,{throwOnError:!1}))}catch(t){e=!0}e&&(i.innerHTML=t)}(n.text,r.span),r.bounds=void 0),r.font!==n.font&&(r.span.style.font=n.font,r.bounds=void 0),r.position!==n.position&&(r.span.style.position=n.position,r.bounds=void 0),r.color!==n.color&&(r.span.style.color=n.color),r.padding!==n.padding&&(r.span.style.padding=n.padding,r.bounds=void 0),r.rotation!==n.rotation&&(r.span.style.transform="rotate(".concat(n.rotation,"deg)"),r.bounds=void 0),r.span.style.lineHeight="80%",r.text!==n.text||r.left!==n.left||r.top!==n.top||r.alignmentX!==n.alignmentX||r.alignmentY!==n.alignmentY||r.padding!==n.padding||r.rotation!==n.rotation||r.font!==n.font){r.span.style.width="unset",r.span.style.height="unset";var o=r.span.clientWidth,s=r.span.clientHeight,a=so(o,s,n.rotation),u={x:(a.x-o)/2,y:(a.y-s)/2};r.span.style.left="".concat(n.left+(-.5*n.alignmentX-.5)*a.x+u.x,"px"),r.span.style.top="".concat(n.top+(.5*n.alignmentY-.5)*a.y+u.y,"px"),r.bounds=void 0}return r.text=n.text,r.font=n.font,r.position=n.position,r.color=n.color,r.padding=n.padding,r.rotation=n.rotation,r.left=n.left,r.top=n.top,r.alignmentX=n.alignmentX,r.alignmentY=n.alignmentY,r},r=function(t){var i=n(t),r=i.bounds;return r||(r=i.span.getBoundingClientRect(),i.bounds=r),r},e="polygon(0 0, 0 0, 0 0, 0 0)";return{update:function(t){i.forEach((function(t){return t.active=!1})),t.textList.forEach((function(t){var i=n(t);i.active=!0,i.span.style.clipPath="unset",t.identifier,he.Other})),t.obstructingOverlays.forEach((function(n){var o=Math.min(n.p1.clientX,n.p2.clientX)-0,s=Math.min(n.p1.clientY,n.p2.clientY)-0,a=Math.max(n.p1.clientX,n.p2.clientX)+0,u=Math.max(n.p1.clientY,n.p2.clientY)+0;t.textList.forEach((function(t){if(!n.blacklist.includes(t.identifier)){var h,f,c,l,v,d,y,A,b=i.get(t.uid),p=r(t);if(h=o,f=s,c=a,l=u,v=p.left-0,d=p.top-0,y=p.right+0,A=p.bottom+0,!((h>=c?h:c)<(v<y?v:y)||(h<c?h:c)>(v>=y?v:y)||(f>=l?f:l)<(d<A?d:A)||(f<l?f:l)>(d>=A?d:A))&&b)if(0!==t.rotation)b.span.style.clipPath=e;else{var m=function(t,i,n,r,e,o,s,a){var u=t<n?t:n,h=t>=n?t:n,f=i<r?i:r,c=i>=r?i:r,l=e<s?e:s,v=e>=s?e:s,d=o<a?o:a,y=o>=a?o:a;if(l<u&&v>h&&d<f&&y>c)return[];if(l>=u&&v<=h&&d>=f&&y<=c){var A=.5*(c+f);return[{x:u,y:f},{x:h,y:f},{x:h,y:A},{x:v,y:A},{x:v,y:d},{x:l,y:d},{x:l,y:y},{x:v,y:y},{x:v,y:A},{x:h,y:A},{x:h,y:c},{x:u,y:c}]}if(u<l&&h>l&&h<v){if(f<d&&y<c)return[{x:u,y:f},{x:h,y:f},{x:h,y:d},{x:l,y:d},{x:l,y:y},{x:h,y:y},{x:h,y:c},{x:u,y:c}];if(f>d&&f<y&&c>y)return[{x:u,y:f},{x:l,y:f},{x:l,y:y},{x:h,y:y},{x:h,y:c},{x:u,y:c}];if(d<f&&y>c)return[{x:u,y:f},{x:l,y:f},{x:l,y:c},{x:u,y:c}];if(d<c)return[{x:u,y:f},{x:h,y:f},{x:h,y:d},{x:l,y:d},{x:l,y:c},{x:u,y:c}]}if(l<u&&v>u&&v<h){if(f<d&&y<c)return[{x:u,y:f},{x:h,y:f},{x:h,y:c},{x:u,y:c},{x:u,y:y},{x:v,y:y},{x:v,y:d},{x:u,y:d}];if(y>f&&d<f&&y<c)return[{x:h,y:f},{x:h,y:c},{x:u,y:c},{x:u,y:y},{x:v,y:y},{x:v,y:f}];if(d<f&&y>c)return[{x:v,y:f},{x:h,y:f},{x:h,y:c},{x:v,y:c}];if(d<c)return[{x:u,y:f},{x:h,y:f},{x:h,y:c},{x:v,y:c},{x:v,y:d},{x:u,y:d}]}if(u>l&&h<v){if(d<f&&y>f&&y<c)return[{x:u,y:y},{x:h,y:y},{x:h,y:c},{x:u,y:c}];if(f<d&&d<c&&y>c)return[{x:u,y:f},{x:h,y:f},{x:h,y:d},{x:u,y:d}];if(f<d&&y<c)return[{x:u,y:f},{x:h,y:f},{x:h,y:d},{x:u,y:d},{x:u,y:y},{x:h,y:y},{x:h,y:c},{x:u,y:c}]}if(u<l&&h>v){if(f<d&&c>d)return[{x:u,y:f},{x:h,y:f},{x:h,y:c},{x:v,y:c},{x:v,y:d},{x:l,y:d},{x:l,y:c},{x:u,y:c}];if(d<f&&y>f&&y<c)return[{x:u,y:f},{x:l,y:f},{x:l,y:y},{x:v,y:y},{x:v,y:f},{x:h,y:f},{x:h,y:c},{x:u,y:c}];if(d<f&&d<c&&y>c)return[{x:u,y:f},{x:l,y:f},{x:l,y:c},{x:v,y:c},{x:v,y:f},{x:h,y:f},{x:h,y:c},{x:u,y:c}]}return[{x:u,y:f},{x:h,y:f},{x:h,y:c},{x:u,y:c}]}(p.left-0,p.top-0,p.right+0,p.bottom+0,o,s,a,u);b.span.style.clipPath=0===m.length?e:"polygon(".concat(m.map((function(t){return"".concat(100*(t.x-p.left)/p.width,"% ").concat(100*(t.y-p.top)/p.height,"%")})).join(", "),")")}}}))})),i.forEach((function(t,n){t.active||(t.span.remove(),i.delete(n))}))},measureText:function(t){if(!t.visible)return{x:0,y:0};var i=r(t);return{x:i.width,y:i.height}},getTextBoundingBox:function(t){if(t.visible)return r(t)},dispose:function(){i.forEach((function(t){t.span.remove()}))}}}(t)}},co=function(t,i){this.pr=t,this.mr=i,this.gr=i.rows*Go,this.Sr=i.columns*Uo},lo=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.ZoomIn=0]="ZoomIn",t[t.ZoomInX=1]="ZoomInX",t[t.ZoomInY=2]="ZoomInY",t[t.ZoomOut=3]="ZoomOut",t[t.ZoomOutX=4]="ZoomOutX",t[t.ZoomOutY=5]="ZoomOutY",t[t.ZoomToFit=6]="ZoomToFit",t[t.ToggleAnimations=7]="ToggleAnimations"}(ye||(ye={})),function(t){t[t.Circle=0]="Circle",t[t.Rectangle=1]="Rectangle",t[t.RoundedRectangle=2]="RoundedRectangle"}(Ae||(Ae={}));var vo,yo={x:-43,y:0},Ao={x:-65,y:0},bo={x:-86,y:0},po={x:-107,y:-1},mo={x:-128,y:-3},go={x:-150,y:0},xo={x:-171,y:0},So={x:-276,y:0},wo={x:-298,y:0},Mo={x:0,y:0},Co={x:-21,y:0},To=function(t){function i(i,n,r,e){var o=t.call(this,i,r)||this;return o.wr=ci.document.createElement("button"),o.Mr=ci.document.createElement("div"),o.Cr=ci.document.createElement("label"),o.mr=r,o.Tr=n,o.kr=e,o}return lo(i,t),i.prototype._r=function(t,i,n,r){this.Or(t,r),this.Fr(),this.Ir(i),this.jr(),this.Cr.textContent=n||"";var e=ci.document.createElement("div");this.Br(e),this.wr.onclick=this.onClick.bind(this),e.appendChild(this.Mr),e.appendChild(this.Cr),this.wr.appendChild(e)},i.prototype.jr=function(){this.wr.style.cursor="pointer"},i.prototype.Br=function(t){t.style.display="flex",t.style.justifyContent="center",t.style.alignContent="center",t.style.flexDirection="column"},i.prototype.Ir=function(t){"string"==typeof t?(this.Mr.style.backgroundImage="url(".concat(t,")"),this.Mr.style.backgroundSize="100%",this.Mr.style.backgroundRepeat="no-repeat",this.Mr.style.backgroundPosition="center",this.Mr.style.width="20px",this.Mr.style.height="20px"):this.applyStyleForSprite(t),this.Mr.style.margin="auto"},i.prototype.Fr=function(){switch(this.Tr){case Ae.RoundedRectangle:this.wr.style.borderRadius="10px";break;case Ae.Rectangle:this.wr.style.borderRadius="0px";break;case Ae.Circle:default:this.wr.style.borderRadius="31px"}},i.prototype.Or=function(t,i){this.wr.style.width="".concat(this.Sr.toString(),"px"),this.wr.style.height="".concat(this.gr.toString(),"px"),this.wr.style.backgroundColor=t,this.wr.style.opacity=i||Yo,this.wr.style.alignItems="center",this.wr.style.border="2px solid #707070",this.wr.style.transition="background-color .8s ease"},i.prototype.applyStyleForSprite=function(t){this.Mr.style.backgroundImage="url(".concat(this.pr,"/").concat(Wo,")"),this.Mr.style.backgroundPositionX="".concat(t.x,"px"),this.Mr.style.backgroundPositionY="".concat(t.y,"px"),this.Mr.style.backgroundSize="1600%",this.Mr.style.backgroundRepeat="no-repeat",this.Mr.style.width="20px",this.Mr.style.height="20px"},i.prototype.Dr=function(t){return t.appendChild(this.wr),t},i.prototype.Lr=function(){return this.wr},i}(co),ko=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r,e)||this;return o.Er="",o.Pr="",o.zr=!1,o.kr=e,o}return lo(i,t),i.prototype.Nr=function(){this.Vr(),this.onToggledStateAction()},i.prototype.Rr=function(){this.Gr(),this.onInitialStateAction()},i.prototype.Gr=function(){this.Ur(this.Er)},i.prototype.Vr=function(){this.Ur(this.Pr)},i.prototype.Ur=function(t){"string"==typeof t?this.Mr.style.background=t:(this.Mr.style.backgroundImage="url(".concat(this.pr,"/").concat(Wo,")"),this.Mr.style.backgroundPositionX="".concat(t.x,"px"),this.Mr.style.backgroundPositionY="".concat(t.y,"px"))},i.prototype.onClick=function(){this.zr?this.Rr():this.Nr(),this.zr=!this.zr},i}(To),_o=function(t){function i(i,n,r){var e=t.call(this,i,r,{rows:1,columns:1},n)||this;e.kr=n;var o=e.kr.getTheme();return e._r(o.onScreenMenuBackgroundColor.toRGBAString(),yo),e}return lo(i,t),i.prototype.onClick=function(){var t=this.kr.Yr();t&&this.kr.zoom(t,{x:-1,y:-1})},i}(To),Oo=function(t){function i(i,n,r){var e=t.call(this,i,r,{rows:1,columns:1},n)||this;e.kr=n;var o=e.kr.getTheme();return e._r(o.onScreenMenuBackgroundColor.toRGBAString(),po),e}return lo(i,t),i.prototype.onClick=function(){var t=this.kr.Yr();t&&this.kr.zoom(t,{x:-1,y:0})},i}(To),Fo=function(t){function i(i,n,r){var e=t.call(this,i,r,{rows:1,columns:1},n)||this;e.kr=n;var o=e.kr.getTheme();return e._r(o.onScreenMenuBackgroundColor.toRGBAString(),go),e}return lo(i,t),i.prototype.onClick=function(){var t=this.kr.Yr();t&&this.kr.zoom(t,{x:0,y:-1})},i}(To),Io=function(t){function i(i,n,r){var e=t.call(this,i,r,{rows:1,columns:1},n)||this;e.kr=n;var o=e.kr.getTheme();return e._r(o.onScreenMenuBackgroundColor.toRGBAString(),Ao),e}return lo(i,t),i.prototype.onClick=function(){var t=this.kr.Yr();t&&this.kr.zoom(t,{x:1,y:1})},i}(To),jo=function(t){function i(i,n,r){var e=t.call(this,i,r,{rows:1,columns:1},n)||this;e.kr=n;var o=e.kr.getTheme();return e._r(o.onScreenMenuBackgroundColor.toRGBAString(),mo),e}return lo(i,t),i.prototype.onClick=function(){var t=this.kr.Yr();t&&this.kr.zoom(t,{x:1,y:0})},i}(To),Bo=function(t){function i(i,n,r){var e=t.call(this,i,r,{rows:1,columns:1},n)||this;e.kr=n;var o=e.kr.getTheme();return e._r(o.onScreenMenuBackgroundColor.toRGBAString(),xo),e}return lo(i,t),i.prototype.onClick=function(){var t=this.kr.Yr();t&&this.kr.zoom(t,{x:0,y:1})},i}(To),Do=function(t){function i(i,n,r){var e=t.call(this,i,r,{rows:1,columns:1},n)||this;e.kr=n;var o=e.kr.getTheme();return e.Er=So,e.Pr=wo,e._r(o.onScreenMenuBackgroundColor.toRGBAString(),e.Er),e}return lo(i,t),i.prototype.onToggledStateAction=function(){this.kr.setAnimationsEnabled(!1)},i.prototype.onInitialStateAction=function(){this.kr.setAnimationsEnabled(!0)},i}(ko),Lo=function(t){function i(i,n,r){var e=t.call(this,i,r,{rows:1,columns:1},n)||this;e.kr=n;var o=e.kr.getTheme();return e._r(o.onScreenMenuBackgroundColor.toRGBAString(),bo),e}return lo(i,t),i.prototype.onClick=function(){this.kr.forEachAxis((function(t){t.fit(!0)}))},i}(To),Eo=function(t){function i(i,n,r){var e=t.call(this,i,n.shape||Xo,n.dimensions||{rows:1,columns:1},r)||this,o=r.getTheme(),s=n.color||o.onScreenMenuBackgroundColor.toRGBAString(),a=n.icon||"",u=n.label||"",h=n.opacity||"";return e._r(s,a,u,h),e.Wr=n.action,e}return lo(i,t),i.prototype.onClick=function(){this.Wr(this.kr)},i}(To),Po=function(t){function i(i,n,r,e){var o=t.call(this,i,n,{rows:1,columns:1},r)||this;return o.kr=r,o.Xr=e,o.Er=Co,o.Pr=Mo,o._r(Ho,o.Er),o}return lo(i,t),i.prototype.Gr=function(){this.Ur(this.Er),this.wr.style.backgroundColor=Ho,this.wr.style.border="2px solid #707070",this.wr.style.margin="0px"},i.prototype.Vr=function(){this.Ur(this.Pr),this.wr.style.background="#FECC00 0% 0% no-repeat padding-box",this.wr.style.border="10px solid #BCBCBC12",this.wr.style.margin="1px"},i.prototype.onToggledStateAction=function(){var t;null===(t=this.Xr)||void 0===t||t.style.setProperty("display","block")},i.prototype.onInitialStateAction=function(){var t;null===(t=this.Xr)||void 0===t||t.style.setProperty("display","none")},i}(ko);!function(t){t.Move="move",t.ResizeColumn="col-resize",t.ResizeRow="row-resize",t.Horizontal="ew-resize",t.Vertical="ns-resize",t.NorthWest="nw-resize",t.NorthEast="ne-resize",t.Copy="copy",t.CrossHair="crosshair",t.Default="default",t.Help="help",t.Restricted="not-allowed",t.None="none",t.Point="pointer",t.Text="text",t.Wait="wait",t.ZoomIn="zoom-in",t.ZoomOut="zoom-out",t.Grab="grab",t.Grabbing="grabbing"}(vo||(vo={}));var zo,No={LeftBottom:h(-1,-1),CenterBottom:h(0,-1),RightBottom:h(1,-1),LeftCenter:h(-1,0),Center:h(0,0),RightCenter:h(1,0),LeftTop:h(-1,1),CenterTop:h(0,1),RightTop:h(1,1)},Vo=new Ur({color:w(255,255,255,0)}),Ro=new Ue({thickness:1,fillStyle:Vo}),Go=60,Uo=60,Yo="1.0",Wo="osm/osm-sprite-transparent.png",Xo=Ae.Circle,Ho="#363636";!function(t){t[t.TopRight=0]="TopRight",t[t.TopLeft=1]="TopLeft",t[t.BottomLeft=2]="BottomLeft",t[t.BottomRight=3]="BottomRight"}(zo||(zo={}));var Zo,Qo=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jo=function(t){function i(i,n,r,e,o,s,a,u){var h=t.call(this,i,n,r,e,o,s,a,u)||this;return h.Bn="Band",h.Hr=0,h.Zr=1,h.Qr=h.xi.bandFillStyle,h.Jr=h.xi.bandStrokeStyle,h.j=new Nt,h.Kr=h.Yn.te(h.ai).$r(h.Qr).qr(h.Jr).Oi(h.getHighlight()),h.Sn(h.Kr),h}return Qo(i,t),i.prototype.setValueStart=function(t){return this.Hr=t,this.j.D("valuechange",{start:this.Hr,end:this.Zr}),this.Yn.Fn(),this},i.prototype.getValueStart=function(){return this.Hr},i.prototype.setValueEnd=function(t){return this.Zr=t,this.j.D("valuechange",{start:this.Hr,end:this.Zr}),this.Yn.Fn(),this},i.prototype.getValueEnd=function(){return this.Zr},i.prototype.setFillStyle=function(t){this.Qr="function"==typeof t?t(this.Qr):t;var i=this.Qr;return this.Kr.$r(i),this.Yn.Fn(),this},i.prototype.getFillStyle=function(){return this.Qr},i.prototype.setStrokeStyle=function(t){this.Jr="function"==typeof t?t(this.Jr):t;var i=this.Jr;return this.Kr.qr(i),this.Yn.Fn(),this},i.prototype.getStrokeStyle=function(){return this.Jr},i.prototype.ie=function(){return this.Kr.ne(this.Wn.toVec2(this.Hr,this.Wn.getHeight(this.ai).getInnerStart())).Z(this.Wn.toVec2(this.Zr-this.Hr,this.Wn.getHeight(this.ai).getInnerInterval())),re(this.Un,[this.Kr],this.ai),this},i.prototype.re=function(){return{fill:this.Qr,stroke:this.Jr}},i.prototype.ee=function(t,i){t.Oi(i),this.Yn.Fn()},i.prototype.Xn=function(){var t,i,n,r=this,e=function(e){var o=r.getUserInteractions(),s=ie(o.move,"drag",e,e.shiftKey,e.ctrlKey,e.altKey),a=ie(o.scale,"drag",e,e.shiftKey,e.ctrlKey,e.altKey);!function(e,o,s){var a=at(r.Yn.Ai.oe(e.clientX,e.clientY),r.Yn.Ai.ai,r.ai),u=r.Wn.getWidth(a),h=r.axis.ai.Bt(r.Hr),f=r.axis.ai.Bt(r.Zr),c=(r.axis.ai.Bt(u)-h)/(f-h);t=o&&(!(c<.1||c>.9)||!s),(i=s&&!t)&&(n=c<.5)}(e,!!(null==s?void 0:s.drag),!!(null==a?void 0:a.drag));var u=t?vo.Point:i?r.Wn.getWidth({x:vo.Horizontal,y:vo.Vertical}):vo.Default;r.se=r.chart.engine.setMouseStyle(u,r.se)},o=function(t){r.se=r.chart.engine.restoreMouseStyle(r.se)};this.addEventListener("pointermove",e),this.addEventListener("pointerleave",o),this.addEventListener("pointerdown",(function(s){var a=r.getUserInteractions(),u=ie(a.move,"drag",s,s.shiftKey,s.ctrlKey,s.altKey),h=ie(a.scale,"drag",s,s.shiftKey,s.ctrlKey,s.altKey);if(((null==u?void 0:u.drag)||!t)&&((null==h?void 0:h.drag)||!i)){Pi(s);var f=s,c=function(e){e.pointerId===s.pointerId&&(function(e,o,s,a){var u=r.Wn.getWidth(e);if(t)r.Hr=r.axis.ai.Jt(r.Hr,u),r.Zr=r.axis.ai.Jt(r.Zr,u),(h=null==s?void 0:s.on)&&h({event:o});else if(i&&n)r.Hr=r.axis.ai.Jt(r.Hr,u),(h=null==a?void 0:a.on)&&h({event:o});else if(i&&!n){var h;r.Zr=r.axis.ai.Jt(r.Zr,u),(h=null==a?void 0:a.on)&&h({event:o})}Pi(o),r.j.D("valuechange",{start:r.Hr,end:r.Zr}),r.Yn.Fn()}({x:e.clientX-f.clientX,y:f.clientY-e.clientY},e,u,h),f=e)},l=function(t){t.pointerId===s.pointerId&&(r.addEventListener("pointermove",e),r.addEventListener("pointerleave",o),ci.removeEventListener("pointermove",c),ci.removeEventListener("pointerup",l),kn())};r.removeEventListener("pointermove",e),r.removeEventListener("pointerleave",o),ci.addEventListener("pointermove",c),ci.addEventListener("pointerup",l)}}))},i.prototype.setUserInteractions=function(t){return this.ae=void 0===t?{move:!1,scale:!1}:t,this},i.prototype.getUserInteractions=function(){return hi({move:{drag:!0},scale:{drag:!0}},this.ae)},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(le),Ko=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qo=function(t){function i(i,n,r,e,o,s,a,u){var h=t.call(this,i,n,r,e,o,s,a,u)||this;return h.Bn="Constant Line",h.S=0,h.Jr=h.xi.constantLineStrokeStyle,h.ue=!0,h.j=new Nt,h.he=h.Yn.ce(h.ai).fe(h.Jr).Oi(h.getHighlight()),h.Sn(h.he),h}return Ko(i,t),i.prototype.setValue=function(t){return this.S=t,this.j.D("valuechange",{value:this.S}),this.Yn.Fn(),this},i.prototype.getValue=function(){return this.S},i.prototype.setStrokeStyle=function(t){this.Jr="function"==typeof t?t(this.Jr):t;var i=this.Jr;return this.he.fe(i),this.Yn.Fn(),this},i.prototype.getStrokeStyle=function(){return this.Jr},i.prototype.ie=function(){return this.he.ve(this.Wn.toVec2(this.S,this.Wn.getHeight(this.ai).getInnerStart())).le(this.Wn.toVec2(this.S,this.Wn.getHeight(this.ai).getInnerEnd())),re(this.Un,[this.he],this.ai),this},i.prototype.re=function(){return{stroke:this.Jr}},i.prototype.ee=function(t,i){t.Oi(i),this.Yn.Fn()},i.prototype.setUserInteractions=function(t){return this.ae=void 0===t?{move:!1}:t,this},i.prototype.getUserInteractions=function(){return hi({move:{drag:!0}},this.ae)},i.prototype.Xn=function(){var t=this;this.addEventListener("pointerenter",(function(i){var n=t.getUserInteractions();if(ie(n.move,"drag",i,i.shiftKey,i.ctrlKey,i.altKey)){var r=t.Wn.getWidth({x:vo.Horizontal,y:vo.Vertical});t.se=t.chart.engine.setMouseStyle(r,t.se)}})),this.addEventListener("pointerleave",(function(i){t.se=t.chart.engine.restoreMouseStyle(t.se)})),this.addEventListener("pointerdown",(function(i){var n=t.getUserInteractions(),r=ie(n.move,"drag",i,i.shiftKey,i.ctrlKey,i.altKey);if(r){Pi(i),kn();var e=i,o=function(i){var n={x:i.clientX-e.clientX,y:e.clientY-i.clientY};e=i,t.S=t.axis.ai.Jt(t.S,t.Wn.getWidth(n)),t.j.D("valuechange",{value:t.S}),t.Yn.Fn();var o=r.on;o&&o({event:i})},s=function(t){t.pointerId===i.pointerId&&(ci.removeEventListener("pointermove",o),ci.removeEventListener("pointerup",s))};ci.addEventListener("pointermove",o),ci.addEventListener("pointerup",s)}}))},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(le),$o="fitting",ts="expansion",is="progressive",ns="regressive",rs={fitting:function(t){var i=void 0===(null==t?void 0:t.start)||t.start,n=void 0===(null==t?void 0:t.end)||t.end,r=void 0===(null==t?void 0:t.considerVisibleRangeOnly)||t.considerVisibleRangeOnly;return{id:$o,init:function(t){t.axis.de((function(t){return t.curEnd>t.curStart?{startMin:t.dataMin,endMax:t.dataMax}:{endMin:t.dataMin,startMax:t.dataMax}}))},considerVisibleRangeOnly:r,apply:function(t){if(t.seriesDataRange)return{start:i?t.curEnd>=t.curStart?t.seriesDataRange.min:t.seriesDataRange.max:t.curStart,end:n?t.curEnd>=t.curStart?t.seriesDataRange.max:t.seriesDataRange.min:t.curEnd,allowIntervalLengthChange:!0}}}},scrolling:function(t){var i=void 0!==(null==t?void 0:t.progressive)&&!t.progressive,n=!0===(null==t?void 0:t.realTime)?{}:null==t?void 0:t.realTime;if(n){var r,e=void 0!==n.catchUpThresholdMs?n.catchUpThresholdMs:3e3,o=function(t){t.isStopped&&(r=void 0)};return{id:i?ns:is,init:function(t){t.axis.de((function(t){return i?t.curEnd>t.curStart?{startMin:t.dataMin}:{endMin:t.dataMin}:t.curEnd>t.curStart?{endMax:t.dataMax}:{startMax:t.dataMax}})),t.axis.addEventListener("stoppedchange",o)},dispose:function(t){t.axis.removeEventListener("stoppedchange",o)},considerVisibleRangeOnly:!0,apply:function(t){if(t.seriesDataRange){var n=ci.performance.now();if(void 0!==r){var o,s=(n-r)*(i?-1:1),a=t.curStart+s,u=t.curEnd+s,h=t.axis.ye({forStart:a,forEnd:u,allowIntervalLengthChange:!1});return!i&&h&&t.curEnd>t.curStart&&h.end-u>=e&&(u+=o=h.end-u,a+=o),!i&&h&&t.curEnd<t.curStart&&h.start-a>=e&&(u+=o=h.start-a,a+=o),r=n,{start:a,end:u,allowIntervalLengthChange:!1,keepScrolling:!0,allowAnimation:!1}}return r=n,{keepScrolling:!0,start:t.curStart,end:t.curEnd,allowIntervalLengthChange:!1,allowAnimation:!1}}}}}return{id:i?ns:is,init:function(t){t.axis.de((function(t){return i?t.curEnd>t.curStart?{startMin:t.dataMin}:{endMin:t.dataMin}:t.curEnd>t.curStart?{endMax:t.dataMax}:{startMax:t.dataMax}}))},considerVisibleRangeOnly:!0,apply:function(t){if(void 0!==t.seriesDataRange){if(Math.sign(t.curEnd-t.curStart)*Math.sign(i?-1:1)>0){var n=i?t.seriesDataRange.min:t.seriesDataRange.max;return{end:n,start:n+(t.curStart-t.curEnd),allowIntervalLengthChange:!1}}var r=i?t.seriesDataRange.min:t.seriesDataRange.max;return{start:r,end:r+(t.curEnd-t.curStart),allowIntervalLengthChange:!1}}}}},expansion:function(t){var i=void 0===(null==t?void 0:t.start)||t.start,n=void 0===(null==t?void 0:t.end)||t.end;return{id:ts,considerVisibleRangeOnly:!0,apply:function(t){if(void 0!==t.seriesDataRange)return{start:i?t.curEnd>=t.curStart?t.seriesDataRange.min<t.curStart?t.seriesDataRange.min:t.curStart:t.seriesDataRange.max>t.curStart?t.seriesDataRange.max:t.curStart:t.curStart,end:n?t.curEnd>=t.curStart?t.seriesDataRange.max>t.curEnd?t.seriesDataRange.max:t.curEnd:t.seriesDataRange.min<t.curEnd?t.seriesDataRange.min:t.curEnd:t.curEnd,allowIntervalLengthChange:!0}}}},nextPowerOf10:{id:$o,start:function(t,i,n,r){return i>=t?n:r},end:function(t,i,n,r){return i>=t?Math.pow(10,Math.ceil(Math.log10(r))):Math.pow(10,Math.ceil(Math.log10(n)))},allowIntervalLengthChange:!0},fittingStepped:function(t){var i=void 0===(null==t?void 0:t.start)||t.start,n=void 0===(null==t?void 0:t.end)||t.end;return{id:$o,considerVisibleRangeOnly:!0,apply:function(t){if(void 0!==t.seriesDataRange){var r,e;if(i)if(t.curEnd>=t.curStart)if(t.seriesDataRange.min<t.curStart)r=t.curStart-(t.curEnd-t.curStart);else{var o=t.curStart+.5*(t.curEnd-t.curStart);r=t.seriesDataRange.min>o?o:t.curStart}else t.seriesDataRange.max>t.curStart?r=t.curStart+(t.curStart-t.curEnd):(o=t.curStart-.5*(t.curStart-t.curEnd),r=t.seriesDataRange.max<o?o:t.curStart);else r=t.curStart;return n?t.curEnd>=t.curStart?t.seriesDataRange.max>t.curEnd?e=t.curEnd+(t.curEnd-t.curStart):(o=t.curEnd-.5*(t.curEnd-t.curStart),e=t.seriesDataRange.max<o?o:t.curEnd):t.seriesDataRange.min<t.curEnd?e=t.curEnd-(t.curStart-t.curEnd):(o=t.curEnd+.5*(t.curStart-t.curEnd),e=t.seriesDataRange.min>o?o:t.curEnd):e=t.curEnd,{start:r,end:e,allowIntervalLengthChange:!0}}}}}},es={Empty:"Empty",Numeric:"Numeric",DateTime:"DateTime",Time:"Time"},os=function(t){return void 0!==t.Ae},ss=function(t){return void 0!==t.be},as=function(t,i,n,r,e,o,s){return[o,s]},us=function(t,i,n,r){for(var e=[],o=Math.round(Math.abs((t-i)/n)),s=1;s<o;s+=1){var a=t+n*s;void 0!==r&&(a=Math.round(a*r)/r),a<i&&e.push(a)}return e},hs=function(t,i,n,r,e){bi(t,0)&&(t=0),bi(i,0)&&(i=0);var o=[],s=void 0!==r?function(t,i,n){return t-(t-n)%i}(t,n,r):t,a=s;if(n<=0)throw new Error("_getRegularGreatKeyValues unit less than or equal to 0, unit: ".concat(n));for(var u=0;(a-t)/(i-t)<.98;)o.push(a),a=s+(u+=1)*n,void 0!==e&&(a=Math.round(a*e)/e);return o.push(a),o},fs=function(t,i,n,r){for(var e=[],o=n(t),s=0;o<i&&!1===bi(o,i);)if(e.push(o),o=r(o),(s+=1)>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return e.push(o),e},cs=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var r=i.length>0?i.length:t?1:0;return function(n,e,o,s,a,u){if(!(e>=r)){var h=i[e]||1,f=!1,c=!1,l=1;return t&&(f="ignore"in t?"first"===t.ignore||"both"===t.ignore:f,c="ignore"in t?"last"===t.ignore||"both"===t.ignore:c,l="offset"in t&&void 0!==t.offset?t.offset:l),function(t,i,n,r,e){return n&&(t=t.filter((function(t,i){return i>0}))),r&&(t=t.filter((function(i,n){return n<t.length-1}))),t.filter((function(t,n){return(n+e)%i==0}))}(n,h,f,c,l)}}},ls=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=t.length>0?t.length:0;return function(i,r,e,o,s,a){if(!(r>=n)){var u=t[r]||1;return i.filter((function(t,i){return i%u==0}))}}},vs=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ds=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return vs(i,t),i.prototype.pe=function(t){return{me:[],ge:[],xe:this.cursorFormatter?this.cursorFormatter:Tr.Numeric,Se:void 0,we:void 0}},i.prototype.setCursorFormatter=function(t){return this.set("cursorFormatter",t)},i.prototype.getCursorFormatter=function(){return this.get("cursorFormatter")},i}(i({cursorFormatter:void 0})),ys=function(t){return t&&"function"==typeof t?t():t},As=function(){return As=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},As.apply(this,arguments)},bs=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},ps=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},ms=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},gs=function(t,i,n,r,e,o,s,a,u,h,f){var c=u.get(s);if(c||(c=new Map,u.set(s,c)),c.has(t))return c.get(t);if(0===i.length)return Bn;var l=f.Me(i,s.Ce.labelFont,e),v=a.Jt(n,{x:-(r.x/2+.5)*l.x+o.x-h,y:-(r.y/2+.5)*l.y+o.y-h}),d=a.Jt(v,{x:l.x+h,y:l.y+h}),y={min:{x:Math.min(v.x,d.x),y:Math.min(v.y,d.y)},max:{x:Math.max(v.x,d.x),y:Math.max(v.y,d.y)}};return c.set(t,y),y},xs=(new ds).pe({type:"linear"}),Ss=function(){function t(t,i,n,r,e,o,s){var a=this;this.Te=xs,this.ke=es.Empty,this._e=new Map,this.Oe=!0,this.Fe=Ut((function(){return a.chart.Ai.Fn()}))(300,Rt.linear),this.Ie=!0,this.ci=!0,this.je=!1,this.Be=jn,this.De=!1,this.Le=!1,this.Ee=jn,this.Pe=jn,this.ze=jn,this.Ne=!1,this.Ve="",this.Re=!1,this.Ge=!1,this.Ue=!1,this.Ye=function(){a.Xe.We=he.AxisTitle,a.Xe.setPointerEvents(!0),a.title.Pi(a.Xe),a.Ye=void 0},this.He=function(t,i,n,r,e,o,s,u,h,f,c){for(var l,v=a.Ze(),d=[],y=t.filter((function(t){return a.Qe(t.keyValue,t.labelText,i)})),A=ps(ps(ps([],bs(y),!1),bs(h.filter((function(t){return a.Qe(t.keyValue,t.labelText,t.tickLevel)}))),!1),bs(f.filter((function(t){return t.labelText.length>0}))),!1),b=function(t){var h=y[t],f=void 0,b=[];if(a.Qe(h.keyValue,h.labelText,i)){var p=gs(h.keyValue,h.labelText,h.labelPosition,h.labelAlignment,h.labelRotation,h.labelOffset,i,v,u,c,a.chart.Ai.Je);f=(b=ln(A.map((function(t){return t&&t!==h&&En(p,gs(t.keyValue,t.labelText,t.labelPosition,t.labelAlignment,t.labelRotation,t.labelOffset,t.tickLevel,v,u,c,a.chart.Ai.Je))?t:void 0})))).length>0}else f=!1;if(f){var m=!0;return m&&b.every((function(t){return os(t.tickLevel)}))&&(m=!1),m&&i.Ke&&i.Ke.qe&&!1===i.Ke.qe(h.keyValue,n,r,e,o,s)&&(m=!1),!1===m?(y.splice(t,1),l=t-=1,"continue"):{value:!0}}d.push(h),l=t},p=0;p<y.length;p+=1){var m=b(p);if(p=l,"object"==typeof m)return m.value}return d},this.formatValue=function(t){return a.Te.xe(t,{start:a.ai.getInnerStart(),end:a.ai.getInnerEnd()})},this.$e=!0,this.io=!0,this.title=new Nt,this.chart=t,this.no=i,this.xi=r,this.ro=o,this.ai=n,this.eo=s,"logarithmic"===s.type&&this.setAnimationZoom(Rt.logarithmic(xr(s.base))),this.oo=o.numeric,this.so("Numeric"),this.ao=n.getInnerStart(),this.uo=n.getInnerEnd(),this.setAnimationsEnabled(e),this.setScrollStrategy(rs.fitting)}return t.prototype.setUnits=function(t,i){return void 0===i&&(i={}),this.ho=t,this.hn=i,this.fo(),this},t.prototype.getUnits=function(){return this.ho},t.prototype.setDefaultInterval=function(t,i){return this.co=t,!1!==(null==i?void 0:i.applyImmediately)&&(this.Ne=!0,this.chart.Ai.Fn()),this.lo=void 0!==(null==i?void 0:i.skipIntervalRestrictions)?i.skipIntervalRestrictions:void 0,this},t.prototype.getDefaultInterval=function(){return this.co},t.prototype.getTitle=function(){return this.Ve},t.prototype.setTitle=function(t){return this.Ve=t,this.fo(),this},t.prototype.getTitleFillStyle=function(){return this.Xe.vo()},t.prototype.setIntervalRestrictions=function(t){return this.do=t,this.Re=!0,this.chart.Ai.Fn(),this},t.prototype.getIntervalRestrictions=function(){if("function"==typeof this.do){var t=this.yo();return this.do({curStart:this.ao,curEnd:this.uo,dataMin:null==t?void 0:t.min,dataMax:null==t?void 0:t.max})}return this.do},t.prototype.de=function(t){this.Re||this.Ge||(this.do=t)},t.prototype.setTitleFillStyle=function(t){return this.Xe.$r(t),this.chart.Ai.Fn(),this},t.prototype.getTitleFont=function(){return this.Xe.Ao()},t.prototype.setTitleFont=function(t){return this.Xe.bo(t),this.chart.Ai.Fn(),this},t.prototype.setTitleRotation=function(t){return this.Xe.po(t),this.chart.Ai.Fn(),this.Ue=!0,this},t.prototype.getTitleRotation=function(){return this.Xe.mo()},t.prototype.setTitleEffect=function(t){return this.xo.On(t),this.chart.Ai.Fn(),this},t.prototype.getTitleEffect=function(){return this.xo.In()},t.prototype.so=function(t,i){if(this._e.size>0&&this.So(),"Empty"===t){var n=i||function(t){return t};this.oo=n(new ds),this.Te=this.oo.pe(this.eo),this.ke=t}else"Numeric"===t?("Numeric"!==this.ke&&(this.oo=this.ro.numeric),n=i||function(t){return t},this.oo=n(this.oo),this.Te=this.oo.pe(this.eo),this.ke=t):"DateTime"===t?("DateTime"!==this.ke&&(this.oo=this.ro.datetime),n=i||function(t){return t},this.oo=n(this.oo),this.Te=this.oo.pe(this.eo),this.ke=t):"Time"===t&&("Time"!==this.ke&&(this.oo=this.ro.time),n=i||function(t){return t},this.oo=n(this.oo),this.Te=this.oo.pe(this.eo),this.ke=t);return this.chart.Ai.Fn(),this},t.prototype.wo=function(){return this.Te},t.prototype.Mo=function(t,i){this.Te=t,this.ke=i,this.chart.Ai.Fn()},t.prototype.setInterval=function(t){var i=t.start,n=t.end,r=t.animate,e=t.stopAxisAfter;return this.Re||(this.Ge=!0,this.do=void 0),this.ui(void 0!==i?i:this.ao,void 0!==n?n:this.uo,void 0!==r&&r,void 0===e||e,"userSetInterval"),this},t.prototype.ui=function(t,i,n,r,e){var o=this;void 0===n&&(n=!1),void 0===r&&(r=!0);var s,a,u={start:t,end:i},h="synchronizedAxis"===e||"setDefaultInterval"===e&&!1!==this.lo,f="setDefaultInterval"!==e,c=Math.abs(i-t),l=Math.abs(this.uo-this.ao);void 0!==this.Te.Se&&this.Te.Se>c&&(u={start:(s=(i+t)/2)-(a=(f?this.Te.Se/2:l/2)*(t>i?-1:1)),end:s+a}),void 0!==this.Te.we&&this.Te.we<c&&(u={start:(s=(i+t)/2)-(a=(f?this.Te.we/2:l/2)*(t>i?-1:1)),end:s+a});var v,d=this.ai.nt(u.start,u.end,this.ao,this.uo,f);if(!1===d)return this;if(!0===d);else if(u=d,"zoomBandChartOther"===e)return this;switch(e){case"userSetInterval":case"userFit":case"interactionSetInterval":case"interactionZoom":case"setDefaultInterval":case"zoomBandChartClick":v=!0;break;case"zoomBandChartOther":case"synchronizedAxis":v=!1;break;default:return dn(0,""),this}if(this.Co&&this.Co.finishAll(!1),this.Fe&&(!0===n||n>0)){this.setStopped(!0);var y=!0===n?void 0:n,A=!this.Co||this.Co.isOver()?this.Fe:this.Co.NextAnimation.bind(this);this.Co=A([[this.ao,u.start],[this.uo,u.end]],(function(t){var i=bs(t,2),n=i[0],r=i[1];o.To(n,r,{allowIntervalLengthChange:f,skipIntervalRestriction:h})}),y),this.Co.addEventListener("end",(function(){o.Co=void 0,v&&(o.ze=ci.performance.now())})),this.Co.addEventListener("end",(function(){o.setStopped(r)}))}else this.To(u.start,u.end,{allowIntervalLengthChange:f,skipIntervalRestriction:h}),this.setStopped(r),v&&(this.ze=ci.performance.now());return this},t.prototype.getInterval=function(){return{start:this.ao,end:this.uo}},t.prototype.setStopped=function(t){return t===this.je||(t&&(this.Co&&this.Co.finishAll(!1),this.Co=void 0),this.je=t,this.j.D("stoppedchange",{isStopped:this.je}),this.Be=ci.performance.now(),this.chart.Ai.Fn()),this},t.prototype.getStopped=function(){return this.je},t.prototype.fit=function(t,i){var n=this.yo(),r=this.co||ks,e="function"==typeof r?r({curStart:this.ao,curEnd:this.uo,dataMin:null==n?void 0:n.min,dataMax:null==n?void 0:n.max}):r;return this.ui(void 0!==e.start?e.start:this.ao,void 0!==e.end?e.end:this.uo,void 0!==t?t:void 0!==e.animate?e.animate:this.Ie,void 0!==i?i:void 0===e.stopAxisAfter||e.stopAxisAfter,this.co?"setDefaultInterval":"userFit"),this},t.prototype.setScrollStrategy=function(t){var i,n;return(null===(i=this.ko)||void 0===i?void 0:i.dispose)&&this.ko.dispose({axis:this}),this.ko=ys(t),this.Re||(this.do=void 0),(null===(n=this.ko)||void 0===n?void 0:n.init)&&this.ko.init({axis:this}),this.chart.Ai.Fn(),this},t.prototype.getScrollStrategy=function(){return this.ko},t.prototype.setAnimationScroll=function(t){return this.Oe=Boolean(t),this.chart.Ai.Fn(),this},t.prototype.setAnimationZoom=function(t,i){var n=this;return void 0===i&&(i=300),this.Co&&(this.Co.finishAll(!1),this.Co=void 0),this.Fe=t?Ut((function(){return n.chart.Ai.Fn()}))(i,t):void 0,this},t.prototype.setAnimationsEnabled=function(t){return this.Ie=t,t?(this.setAnimationScroll(!0),this.setAnimationZoom(Rt.ease,void 0)):(this.setAnimationScroll(void 0),this.setAnimationZoom(void 0)),this},t.prototype.getAnimationsEnabled=function(){return this.Ie},t.prototype.setVisible=function(t){var i=this.ci!==t;return this.ci=t,this.Xe.setVisible(t),this._o((function(i){i.Oo.setVisible(t)})),i&&this.j.D("visiblechange",{isVisible:this.ci}),this},t.prototype.getVisible=function(){return this.ci},t.prototype.Fo=function(t){return!1},t.prototype.Io=function(t){var i=this;this.Ye&&this.Ye(),this.title.setPointerEvents(this.title.Bi.length>0);var n=this.jo(),r=n.min,e=n.max;if(!this.Fo(t)||!this.Bo||this.Ue){var o=new Map,s=new Map,a=Ms(this.Te,r,e,this.ao,this.uo,t.physicalAxisSize,Math.min(this.ao,this.uo),Math.max(this.ao,this.uo));this.Do();var u=me(3,20,pi((t.physicalAxisSize-30)/270,0,1)),h=As(As({},t),this.Lo(t)),f=this.Eo(this.Te,Math.min(r,this.ao,this.uo),Math.max(e,this.ao,this.uo),a,o,h,s,u),c=this.Po(this.Te,Math.min(r,this.ao,this.uo),Math.max(e,this.ao,this.uo),a,o,h,f,s,u),l=new Map(ps(ps([],bs(f),!1),bs(c),!1)),v=this.Te.zo,d=void 0!==this.Te.ge.find((function(t){return ss(t)&&!Rr(t.Ce.labelFillStyle)}));if(v&&d&&Array.from(l).reduce((function(t,i){return t+(i[1].labelText.length>0&&!Rr(i[0].Oo.vo())?1:0)}),0)<=1){this.Do(),l.clear();var y=[Math.min(this.ao,this.uo),Math.max(this.ao,this.uo)],A={start:this.ai.getInnerStart(),end:this.ai.getInnerEnd()};y.forEach((function(n){var r=i.No(n,v,v.be(n,A),t,h),e=i.Vo(r.keyValue,v,h,r,r.labelText);l.set(e,r)}))}return this.Ro(),this.Bo=As(As(As({},h),this.Go(t,l,!0)),{min:r,max:e}),this.Bo}var b=!1;return this._e.forEach((function(t){t.forEach((function(i,n){(n<r||n>e)&&(i.dispose(),t.delete(n),b=!0)}))})),As(As({},this.Bo),{updatedTicks:b})},t.prototype.Uo=function(t,i,n){var r=i.Ce;n.length>0?t.Oo.$r(r.getLabelFillStyle()).bo(r.getLabelFont()).Wo(n).setVisible(this.getVisible()).Yo(r.getLabelShadow()):t.Oo.setVisible(!1)},t.prototype.Vo=function(t,i,n,r,e){var o=this._e.get(i)||new Map;this._e.set(i,o);var s=o.get(t);return s||(s=this.Xo(t,i,n,r),o.set(t,s)),this.Uo(s,i,e),s.Ho=!1,s},t.prototype.Eo=function(t,i,n,r,e,o,s,a){var u,h,f=this,c=new Map,l=this.Ze(),v=[],d=function(t){for(var u=r.get(t).filter((function(t){return t>=i&&t<=n})),h=u.map((function(i){return f.No(i,t,t.be(i,{start:f.ai.getInnerStart(),end:f.ai.getInnerEnd()}),o,o)})),d=function(i){var n=u[i],r=h[i],d=y.Vo(n,t,o,r,r.labelText),A=gs(d.S,d.Oo.Zo(),r.labelPosition,r.labelAlignment,r.labelRotation,{x:0,y:0},t,l,e,a,y.chart.Ai.Je);v.find((function(i,n){var r=h[n];return En(A,gs(i.S,i.Oo.Zo(),r.labelPosition,r.labelAlignment,r.labelRotation,{x:0,y:0},t,l,e,a,f.chart.Ai.Je))}))&&d.Oo.setVisible(!1),d.Ho=!1,s.set(d,r),v.push(d),c.set(d,r)},A=0;A<u.length;A+=1)d(A)},y=this;try{for(var A=ms(t.me),b=A.next();!b.done;b=A.next())d(b.value)}catch(t){u={error:t}}finally{try{b&&!b.done&&(h=A.return)&&h.call(A)}finally{if(u)throw u.error}}return c},t.prototype.Po=function(t,i,n,r,e,o,s,a,u){var h,f,c,l,v=this,d={start:this.ai.getInnerStart(),end:this.ai.getInnerEnd()},y=new Map,A=Array.from(s.values()),b=[],p=function(h){var f,p,g,x,S=h===t.ge[t.ge.length-1],w=r.get(h);if(!w)return"break";var M=void 0;if(void 0===l)M=[{start:i,end:n,keyValues:w}];else{M=[];for(var C=0;C<l.length-1;C+=1){var T=l[C],k=l[C+1],_={start:T,end:k,keyValues:[]};try{for(var O=(f=void 0,ms(w)),F=O.next();!F.done;F=O.next()){var I=F.value;I>=T&&I<k&&_.keyValues.push(I)}}catch(t){f={error:t}}finally{try{F&&!F.done&&(p=O.return)&&p.call(O)}finally{if(f)throw f.error}}_.end<i||_.start>n||M.push(_)}}if(l=w,function(t){return void 0!==t.Qo}(h))return"continue";var j=0,B=!1,D=-1,L=!0,E=[];for(C=0;C<M.length;C+=1){var P=M[C].keyValues.map((function(t){return v.No(t,h,h.be(t,d),o,o)}));E=E.concat(P)}var z=void 0;if(h.Ce.getLabelFillStyle()!==Vr)for(z=[];++D<M.length;){var N=(_=M[D]).start,V=_.end,R=_.keyValues;if(j>0){if(void 0===h.Ke){L=!1;break}if(void 0===(R=(0,h.Ke.Jo)(_.keyValues,j-1,N,V,i,n)))break}if(P=ln(R.map((function(t){return E.find((function(i){return i.keyValue===t}))}))),B)z=z.concat(P);else{var G=m.He(P,h,j,N,V,i,n,e,A,b,u);if(!0===G){j+=1,D=-1,z=[];continue}z=z.concat(G)}_!==M[M.length-1]||s.size+z.reduce((function(t,r){return t+(Gn(r.keyValue,i,n)?1:0)}),0)>=2||S||B||(B=!0,j-=1,D=-1,z=[])}else z=E;var U=z.reduce((function(t,r){return t+(Gn(r.keyValue,i,n)?1:0)}),0);void 0!==h.Ko&&U<h.Ko&&(z.length=0);var Y=[];try{for(var W=(g=void 0,ms(E)),X=W.next();!X.done;X=W.next()){var H=X.value;if(!(H.keyValue<i||H.keyValue>n)){var Z=z.includes(H);if(Z||"hide-tick"!==(null===(c=h.Ke)||void 0===c?void 0:c.qo)){H.labelText=Z?H.labelText:"";var Q=m.Vo(H.keyValue,h,o,H,H.labelText);a.set(Q,H),Y.push(H),y.set(Q,H)}}}}catch(t){g={error:t}}finally{try{X&&!X.done&&(x=W.return)&&x.call(W)}finally{if(g)throw g.error}}return b=Y,L?void 0:"break"},m=this;try{for(var g=ms(t.ge),x=g.next();!x.done&&"break"!==p(x.value);x=g.next());}catch(t){h={error:t}}finally{try{x&&!x.done&&(f=g.return)&&f.call(g)}finally{if(h)throw h.error}}return y},t.prototype._o=function(t){var i,n,r,e;try{for(var o=ms(this._e.values()),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=(r=void 0,ms(a.values())),h=u.next();!h.done;h=u.next())t(h.value)}catch(t){r={error:t}}finally{try{h&&!h.done&&(e=u.return)&&e.call(u)}finally{if(r)throw r.error}}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}},t.prototype.$o=function(t,i){var n,r,e,o;try{for(var s=ms(this._e.values()),a=s.next();!a.done;a=s.next()){var u=a.value;try{for(var h=(e=void 0,ms(u.values())),f=h.next();!f.done;f=h.next())i=t(i,f.value)}catch(t){e={error:t}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(e)throw e.error}}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},t.prototype.So=function(){this._e.forEach((function(t,i){t.forEach((function(t){t.dispose()}))})),this._e.clear()},t.prototype.Do=function(){var t,i,n,r;try{for(var e=ms(this._e.values()),o=e.next();!o.done;o=e.next()){var s=o.value;try{for(var a=(n=void 0,ms(s.values())),u=a.next();!u.done;u=a.next())u.value.Ho=!0}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(i){t={error:i}}finally{try{o&&!o.done&&(i=e.return)&&i.call(e)}finally{if(t)throw t.error}}},t.prototype.Ro=function(){var t,i;try{for(var n=ms(this._e.values()),r=n.next();!r.done;r=n.next())for(var e=r.value,o=Array.from(e.entries()),s=0;s<o.length;s+=1){var a=bs(o[s],2),u=a[0],h=a[1];h.Ho&&(h.dispose(),e.delete(u))}}catch(i){t={error:i}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}},t.prototype.jo=function(){var t=this.ai.getInnerStart()<this.ai.getInnerEnd()?this.ai.getInnerStart():this.ai.getInnerEnd(),i=this.ai.getInnerEnd()>this.ai.getInnerStart()?this.ai.getInnerEnd():this.ai.getInnerStart();return d(t,i)},t.prototype.Qe=function(t,i,n){return 0!==i.length&&(!os(n)||!0===n.ts)},t.prototype.ns=function(t,i){return"Empty"===this.ke||(this.Te.me.forEach((function(n){i=t(i,n.Ce)})),this.Te.ge.forEach((function(n){ss(n)&&(i=t(i,n.Ce))}))),i},t.prototype.getSeriesDataRange=function(){var t=this.yo();if(t&&!0!==t.emptyBounds)return t},t.prototype.ye=function(t){var i=void 0!==t.forStart?t.forStart:this.ao,n=void 0!==t.forEnd?t.forEnd:this.uo,r=this.yo();if(r)return Ts(this.do,r,{start:n>i?r.min:r.max,end:n>i?r.max:r.min},{start:i,end:n},!0)},t.prototype.yo=function(){var t,i=!this.ko||this.ko.considerVisibleRangeOnly,n=this.no.rs(i),r=this.no.es(i);if(void 0!==n&&vi(n)&&void 0!==r&&vi(r)&&("logarithmic"===this.eo.type&&(0===n&&(n=Math.min(1,r)),Math.sign(n)!==Math.sign(r)&&(n=Math.min(1,r-.1))),t?(t.min=Math.min(t.min,n),t.max=Math.max(t.max,r)):t=d(n,r)),t&&vi(t.min)&&vi(t.max))return bi(t.min,t.max)?{min:t.min-1,max:t.max+1,emptyBounds:!0}:t},t.prototype.ss=function(){if(!1===this.$e)return{start:0,end:0};if("object"==typeof this.$e)return this.$e;var t=0,i=this.no.us();return i&&(t=Math.max(t,i)),{start:t,end:t}},t.prototype.setScrollMargins=function(t){return this.$e=void 0!==t&&("number"==typeof t?{start:t,end:t}:t),this.chart.Ai.Fn(),this},t.prototype.getScrollMargins=function(){return this.$e},t.prototype.setAutoRegionsEnabled=function(t){return this.setScrollMargins(t),this},t.prototype.hs=function(){var t=this,i=this.De,n=!1;if(this.Ne&&this.co&&(o=this.yo())){var r="function"==typeof this.co?this.co({curStart:this.ao,curEnd:this.uo,dataMin:null==o?void 0:o.min,dataMax:null==o?void 0:o.max}):this.co;if("object"==typeof this.co&&!this.Re){var e=Ts(this.do,o,{start:void 0!==r.start?r.start:this.ao,end:void 0!==r.end?r.end:this.uo},this.getInterval(),!0);e.start===r.start&&e.end===r.end||(this.Ge=!0,this.do=void 0)}this.ui(void 0!==r.start?r.start:this.ao,void 0!==r.end?r.end:this.uo,void 0!==r.animate&&r.animate,void 0===r.stopAxisAfter||r.stopAxisAfter,"setDefaultInterval"),this.Ne=!1,this.lo=void 0}if(this.ko&&!this.je){var o;(null==(o=this.yo())?void 0:o.emptyBounds)&&this.ko.id===ts&&(o=void 0);var s=this.ao,a=this.uo,u=this.ko.apply({axis:this,curStart:s,curEnd:a,seriesDataRange:o});if(u){var h=Ts(this.do,o,{start:u.start,end:u.end},{start:s,end:a},u.allowIntervalLengthChange),f=h.start,c=h.end,l=!1===bi(s,f)||u.keepScrolling,v=!1===bi(a,c)||u.keepScrolling;if(f=l?f:s,c=v?c:a,l||v){var d=!1;if(this.Oe&&!this.io&&!1!==u.allowAnimation)if(this.Oe){d=!0;var y=l?this.fs(s,f):s,A=v?this.fs(a,c):a;if(!0===this.To(y,A,{allowIntervalLengthChange:u.allowIntervalLengthChange,skipIntervalRestriction:!1})&&(l&&!1===bi(y,f)||v&&!1===bi(A,c))||!0===u.keepScrolling){this.chart.Ai.Fn(!0),n=!0;var b=Math.abs(c-f)/Math.abs(y-A);b<1&&(b=1/b),this.Le=b>=1.4}}else d=!1;d||(this.To(f,c,{allowIntervalLengthChange:u.allowIntervalLengthChange,skipIntervalRestriction:!1}),!0===u.keepScrolling&&this.chart.Ai.Fn(!0)),this.io=!1}}}return n?(this.De!==n&&(this.De=n,this.Ee=ci.performance.now()),this.cs&&(clearTimeout(this.cs),this.cs=void 0)):!0===i&&void 0===this.cs&&(this.Le=!1,this.cs=setTimeout((function(){!1!==t.De&&(t.De=!1,t.Ee=ci.performance.now()),t.cs=void 0,t.chart.Ai.Fn()}),200)),this},t.prototype.ls=function(){var t=this.getInterval(),i=this.yo();return"function"==typeof this.do?this.do({curStart:t.start,curEnd:t.end,dataMin:null==i?void 0:i.min,dataMax:null==i?void 0:i.max}):this.do},t.prototype.To=function(t,i,n){var r={start:t,end:i},e=n.allowIntervalLengthChange,o=n.skipIntervalRestriction,s=!0;if(this.do&&!o){var a=this.yo();r=Ts(this.do,a,r,{start:this.ao,end:this.uo},e)}var u,h,f=Math.abs(i-t),c=Math.abs(this.uo-this.ao);void 0!==this.Te.Se&&this.Te.Se>f&&(r={start:(u=(i+t)/2)-(h=(e?this.Te.Se/2:c/2)*(t>i?-1:1)),end:u+h},s=!1),void 0!==this.Te.we&&this.Te.we<f&&(r={start:(u=(i+t)/2)-(h=(e?this.Te.we/2:c/2)*(t>i?-1:1)),end:u+h},s=!1);var l=this.ai.nt(r.start,r.end,this.ao,this.uo,e);if(!1===l)return!1;!0!==l&&(r=l);var v=this.ss(),d=this.vs(r.start,r.end,v);return!!(l=this.ai.nt(d.start,d.end,this.ao,this.uo,!1))&&(!0===l?this.ai.X(d.start,d.end):this.ai.X(r.start,r.end),this.ao=r.start,this.uo=r.end,this.j.D("intervalchange",{start:r.start,end:r.end}),this.Pe=ci.performance.now(),this.chart.Ai.Fn(),s)},t.prototype.ds=function(){return this.De},t.prototype.ys=function(){return void 0!==this.Co},t.prototype.fo=function(){var t,i=!1!==(null===(t=this.hn)||void 0===t?void 0:t.displayOnAxis);this.Xe.Wo(this.ho&&i&&this.Ve?"".concat(this.Ve," (").concat(this.ho,")"):this.Ve),this.chart.Ai.Fn()},t}(),ws=function(){function t(t,i,n,r,e){void 0===e&&(e=n.ps(r).bs(gn).As(gn).setPointerEvents(!1)),this.Ho=!1,this.fi=!1,this.vn=[],this.gs=t,this.S=i,this.xs=n,this.Ss=r,this.Oo=e,this.vn.push(e)}return t.prototype.Tn=function(t){this.vn.forEach((function(i){return i.setVisible(t)}))},t.prototype.dispose=function(){return this.fi||(this.fi=!0,this.vn.forEach((function(t){return t.dispose()}))),this},t}(),Ms=function(t,i,n,r,e,o,s,a,u){var h,f,c,l;void 0===u&&(u=!1);var v,d=new Map;try{for(var y=ms(t.me),A=y.next();!A.done;A=y.next()){var b=(g=A.value).ws(i,n,r,e,o,s,a);b=Cs(b),d.set(g,b)}}catch(t){h={error:t}}finally{try{A&&!A.done&&(f=y.return)&&f.call(y)}finally{if(h)throw h.error}}try{for(var p=ms(t.ge),m=p.next();!m.done;m=p.next()){var g=m.value;if(b=void 0,void 0===v)b=g.ws(i,n,i,n,o);else{if(u&&g===t.ge[t.ge.length-1])break;var x=[],S=v.filter((function(t){return i<=t&&t<=n})).length;if(S>0){var w=o/(S-1);if(void 0!==g.Ms&&g.Ms>w)break}for(var M=0;M<v.length-1;M+=1){var C=g.ws(v[M],v[M+1],i,n,o);x=x.concat(C)}b=x}b=Cs(b),d.set(g,b),v=b}}catch(t){c={error:t}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(c)throw c.error}}return d},Cs=function(t){return Array.from(new Set(t))},Ts=function(t,i,n,r,e){var o="function"==typeof t?t({curStart:r.start,curEnd:r.end,dataMin:null==i?void 0:i.min,dataMax:null==i?void 0:i.max}):t;if(!o)return n;var s={start:n.start,end:n.end},a=Math.abs(n.end-n.start);if(void 0!==o.intervalMin&&a<o.intervalMin){var u=(s.start+s.end)/2;s.start=u+.5*Math.sign(n.start-u)*o.intervalMin,s.end=u+.5*Math.sign(n.end-u)*o.intervalMin}return a=Math.abs(n.end-n.start),void 0!==o.intervalMax&&a>o.intervalMax&&(u=(s.start+s.end)/2,s.start=u+.5*Math.sign(n.start-u)*o.intervalMax,s.end=u+.5*Math.sign(n.end-u)*o.intervalMax),a=Math.abs(n.end-n.start),void 0!==o.startMin&&(s.start=Math.max(s.start,o.startMin),e||bi(Math.abs(s.start-s.end),a)||(s.end=s.start+Math.sign(n.end-n.start)*a)),a=Math.abs(n.end-n.start),void 0!==o.startMax&&(s.start=Math.min(s.start,o.startMax),e||bi(Math.abs(s.start-s.end),a)||(s.end=s.start+Math.sign(n.end-n.start)*a)),a=Math.abs(n.end-n.start),void 0!==o.endMin&&(s.end=Math.max(s.end,o.endMin),e||bi(Math.abs(s.start-s.end),a)||(s.start=s.end+Math.sign(n.start-n.end)*a)),a=Math.abs(n.end-n.start),void 0!==o.endMax&&(s.end=Math.min(s.end,o.endMax),e||bi(Math.abs(s.start-s.end),a)||(s.start=s.end+Math.sign(n.start-n.end)*a)),Math.sign(s.end-s.start)!==Math.sign(n.end-n.start)?{end:s.start,start:s.end}:s},ks=function(t){if(void 0===t.dataMin||void 0===t.dataMax)return{stopAxisAfter:!1};var i=t.curEnd>=t.curStart;return{start:i?t.dataMin:t.dataMax,end:i?t.dataMax:t.dataMin,stopAxisAfter:!1}},_s=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Os=function(t){var i=t.getDraggingMode();return void 0!==i&&i!==Ht.notDraggable?i===Ht.draggable?vo.Move:i===Ht.onlyHorizontal?vo.Horizontal:vo.Vertical:void 0},Fs=function(){function t(){this.ci=!0}return Object.defineProperty(t.prototype,"draggable",{get:function(){return this.j.draggable},set:function(t){this.j.draggable=t},enumerable:!1,configurable:!0}),t.prototype.setPointerEvents=function(t){return this.j.setPointerEvents(t),this},t.prototype.getPointerEvents=function(){return this.j.getPointerEvents()},t.prototype.setVisible=function(t){var i=this.ci!==t;return this.ci=t,i&&this.j.D("visiblechange",{isVisible:this.ci}),this},t.prototype.getVisible=function(){return this.ci},t}(),Is=function(t){function i(i,n,r,e,o){var s=t.call(this)||this;s.j=new Nt,s.Cs=h(50,50),s.origin=h(0,0),s.size=h(0,0),s.fi=!1,s.Ts=void 0,s.ks=void 0,s._s=Os,s.Os=void 0,s.ot=b(0,0,0,0),s.Yn=i,s.renderingScale=n,s.scale=r,s.bi=e,s.xi=o,s.Yn.Fn(),s.xi=o,s.addEventListener("pointerenter",(function(){var t="function"==typeof s._s?s._s(s):s._s;t&&(s.ks=s.Yn.Ai.Fs(t))})),s.addEventListener("pointerleave",(function(){s.Yn.Ai.Is(s.ks)}));var a=function(t){var i=s.getDraggingMode();if(i!==Ht.notDraggable){Pi(t);var n=t,r=function(t){var r={x:t.clientX-n.clientX,y:t.clientY-n.clientY};n=t;var e=s.scale.Jt(s.getPosition(),{x:i!==Ht.onlyVertical?r.x:0,y:i!==Ht.onlyHorizontal?-r.y:0}),o=s.scale,a=s.getSize(),u=s.getOrigin(),h=o.Jt({x:o.x.getInnerStart(),y:o.y.getInnerStart()},ar({x:(1+u.x)/2,y:(1+u.y)/2},a)),f=o.Jt({x:o.x.getInnerEnd(),y:o.y.getInnerEnd()},ar({x:(u.x-1)/2,y:(u.y-1)/2},a)),c={x:Math.min(Math.max(e.x,h.x),f.x),y:Math.min(Math.max(e.y,h.y),f.y)};s.setPosition(c)},e=function(t){s.Yn.Ai.js.removeEventListener("pointermove",r),s.Yn.Ai.js.removeEventListener("pointerup",e),s.addEventListener("pointerdown",a)};s.removeEventListener("pointerdown",a),s.Yn.Ai.js.addEventListener("pointermove",r),s.Yn.Ai.js.addEventListener("pointerup",e)}};return s.addEventListener("pointerdown",a),s}return _s(i,t),i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i.prototype.setPointerEvents=function(t){return this.j.setPointerEvents(t),this},i.prototype.getPointerEvents=function(){return this.j.getPointerEvents()},i.prototype.setEffect=function(t){return this.yn=this.yn||this.Yn.Ai.yn.An(this,{Bs:{shapes:this.Ds()}}),this.yn.Bs.On(t),this},i.prototype.getEffect=function(){return!!this.yn&&this.yn.Bs.In()},i.prototype.setAutoDispose=function(t){return this.Os=t,this.Yn.Fn(),this},i.prototype.getAutoDispose=function(){return this.Os},i.prototype.getSize=function(t){return void 0===t&&(t=Wt.Everything),t===Wt.Everything?h(this.size.x+(this.ot.left+this.ot.right),this.size.y+(this.ot.bottom+this.ot.top)):this.size},i.prototype.setContentSize=function(t){this.size=t},i.prototype.setMargin=function(t){return this.ot="object"==typeof t?m(this.ot,t):{left:t,top:t,right:t,bottom:t},this.Yn.Fn(),this},i.prototype.getMargin=function(){return this.ot},i.prototype.ie=function(){if(this.Os){var t=this.size,i=this.renderingScale.Mt(),n={x:t.x/i.x,y:t.y/i.y};("max-width"===this.Os.type&&n.x>=this.Os.maxWidth||"max-height"===this.Os.type&&n.y>=this.Os.maxHeight)&&this.dispose()}return this},i.prototype.Io=function(){return this},i.prototype.dispose=function(){return this.fi||(this.Yn.Fn(),this.fi=!0,this.bi(this),this.j.D("dispose",{}),this.Ds().forEach((function(t){return t.dispose()}))),this},i.prototype.setVisible=function(i){return t.prototype.setVisible.call(this,i),this.Ds().forEach((function(t){return t.setVisible(i)})),this.Yn.Fn(),this},i.prototype.isDisposed=function(){return this.fi},i.prototype.setPosition=function(t){return this.Cs=t,this.Yn.Fn(),this},i.prototype.getPosition=function(t,i){void 0===t&&(t=this.origin),void 0===i&&(i=Wt.Everything);var n=this.getSize(Wt.Everything),r=this.scale.Jt(this.Cs,ar({x:-(this.origin.x+1)/2,y:-(this.origin.y+1)/2},n));if(i===Wt.Everything)return this.scale.Jt(r,ar({x:(t.x+1)/2,y:(t.y+1)/2},n));var e=this.scale.Jt(r,{x:this.ot.left,y:this.ot.bottom}),o=this.getSize(Wt.Content);return this.scale.Jt(e,ar({x:(t.x+1)/2,y:(t.y+1)/2},o))},i.prototype.setOrigin=function(t){return this.origin=t,this.Yn.Fn(),this},i.prototype.getOrigin=function(){return this.origin},i.prototype.setDraggingMode=function(t){return void 0===t&&(t=Ht.notDraggable),this.Ts=t,this.Yn.Fn(),this},i.prototype.getDraggingMode=function(){return void 0!==this.Ts?this.Ts:Ht.notDraggable},i.prototype.setMouseStyle=function(t){return this._s=t,this},i.prototype.getMouseStyle=function(){return this._s},i}(Fs),js=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,o,s)||this;return a.Ls=b(),a.Es=0,a.Ps=e,a.backgroundElement=new a.Ps(a.Yn,a.renderingScale,a.scale,Ai,s),a.j.Vi(a.backgroundElement),a}return _s(i,t),i.prototype.setPointerEvents=function(i){return t.prototype.setPointerEvents.call(this,i),this.backgroundElement.setPointerEvents(i),this},i.prototype.Ds=function(){return this.backgroundElement.Ds()},i.prototype.setBackground=function(t){return t(this.backgroundElement),this},i.prototype.getBackground=function(){return this.backgroundElement},i.prototype.ie=function(){return t.prototype.ie.call(this),this.fi||(void 0!==this.zs&&(this.backgroundElement.zs=this.zs-.01),this.backgroundElement.setOrigin(this.origin).setPosition(this.getPosition(this.origin,Wt.PaddedBackground)).ie()),this},i.prototype.Io=function(){var i=this.getSize(Wt.PaddedContent);return this.backgroundElement.Ns(i).Io(),t.prototype.Io.call(this)},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.backgroundElement.dispose(),this},i.prototype.setVisible=function(i){return t.prototype.setVisible.call(this,i),this.backgroundElement.setVisible(i),this},i.prototype.setPadding=function(t){return this.Ls="object"==typeof t?m(this.Ls,t):{left:t,top:t,right:t,bottom:t},this.Yn.Fn(),this},i.prototype.getPadding=function(){return this.Ls},i.prototype.getSize=function(i){void 0===i&&(i=Wt.Everything);var n=t.prototype.getSize.call(this,i);return i>=Wt.PaddedContent&&(n=h(n.x+this.Ls.left+this.Ls.right,n.y+this.Ls.bottom+this.Ls.top)),i>=Wt.PaddedBackground&&(n=h(n.x+this.backgroundElement.Vs()+this.backgroundElement.Rs(),n.y+this.backgroundElement.Gs()+this.backgroundElement.Us())),n},i.prototype.getPosition=function(i,n){if(void 0===i&&(i=this.origin),void 0===n&&(n=Wt.Everything),n===Wt.Everything)return t.prototype.getPosition.call(this,i,n);var r=t.prototype.getPosition.call(this,h(-1,-1),Wt.Everything),e=this.getMargin(),o=this.scale.Jt(r,{x:e.left,y:e.bottom});if(n===Wt.PaddedBackground){var s=this.getSize(Wt.PaddedBackground);return this.scale.Jt(o,ar({x:(i.x+1)/2,y:(i.y+1)/2},s))}var a=this.scale.Jt(o,{x:this.backgroundElement.Vs(),y:this.backgroundElement.Gs()});if(n===Wt.PaddedContent){var u=this.getSize(Wt.PaddedContent);return this.scale.Jt(a,ar({x:(i.x+1)/2,y:(i.y+1)/2},u))}var f=this.getPadding(),c=this.scale.Jt(a,{x:f.left,y:f.bottom}),l=this.getSize(Wt.Content);return this.scale.Jt(c,ar({x:(i.x+1)/2,y:(i.y+1)/2},l))},i.prototype.getHighlight=function(){return this.Es},i.prototype.setHighlight=function(t){return this.Es=vn(t),this.backgroundElement.setHighlight(t),this.j.D("highlightchange",{highlight:this.Es}),this},i}(Is),Bs=function(t){return"setBackground"in t},Ds=function(t){var i=t.getPosition({x:-1,y:-1},Wt.PaddedBackground),n=t.getSize(Wt.PaddedBackground),r=t.scale.Jt(i,n),e=at(i,t.scale,t.Yn.Ai.ai),o=at(r,t.scale,t.Yn.Ai.ai),s=t.Yn.Ai.Ys(e.x,e.y),a=t.Yn.Ai.Ys(o.x,o.y);return{p1:{clientX:s.x,clientY:s.y},p2:{clientX:a.x,clientY:a.y}}},Ls=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Es=function(t){function i(i,n,r,e,o,s,a,u,h,f,c){var l=t.call(this)||this;return l.S=0,l.Ws=1,l.Xs=!0,l.Hs=new E,l.Zs=!0,l.fi=!1,l.j=new Nt,l.axisScale=e,l.renderingScale=o,l.Qs=a,l.Js=u,l.Ks=h,l.bi=f,l.qs=n,l.$s=r,l.ta=l.qs.ce(l.renderingScale),l.j.Pi(l.ta),l.xi=c,l.ia=l.Ks.setDirection(l.Js).na(l.$s,l.renderingScale,s,Ai,l.xi,!1).setOrigin(Li(l.Js)),l.j.Vi(l.ia),l.axis=i,l.setPointerEvents(!1),"major"===l.ia.ra?l.ta.fe(c.xAxisNumericTicks.majorTickStyle.gridStrokeStyle):"minor"===l.ia.ra?l.ta.fe(c.xAxisNumericTicks.minorTickStyle.gridStrokeStyle):"other"===l.ia.ra&&l.ta.fe(c.cursorGridStrokeStyleX),l}return Ls(i,t),i.prototype.setValue=function(t){return this.S=t,this.$s.Fn(),this.j.D("valuechange",{value:this.S}),this},i.prototype.getValue=function(){return this.S},i.prototype.setTextFormatter=function(t){return this.ea=t,this.$s.Fn(),this},i.prototype.setTickLength=function(t){return this.ia.setPointerLength(t),this.qs.Fn(),this},i.prototype.getTickLength=function(){return this.ia.getPointerLength()},i.prototype.setTickLabelAlignment=function(t,i){return this.ia.setTickLabelAlignment(t,i),this.qs.Fn(),this},i.prototype.getTickLabelAlignment=function(){return this.ia.getTickLabelAlignment()},i.prototype.setTickLabelPadding=function(t){return this.ia.setTickLabelPadding(t),this.qs.Fn(),this},i.prototype.setTickLabelRotation=function(t){return this.ia.setTextRotation(t),this.qs.Fn(),this},i.prototype.getTickLabelRotation=function(){return this.ia.getTextRotation()},i.prototype.getTickLabelPadding=function(){return this.ia.getTickLabelPadding()},i.prototype.setGridStrokeLength=function(t){return this.Ws=t,this.qs.Fn(),this},i.prototype.getGridStrokeLength=function(){return this.Ws},i.prototype.setGridStrokeStyle=function(t){return this.ta.fe(t),this.qs.Fn(),this},i.prototype.getGridStrokeStyle=function(){return this.ta.oa()},i.prototype.dispose=function(){return this.fi||(this.fi=!0,this.ta.dispose(),this.ia.dispose(),this.bi(this),this.qs.Ai.Fn(),this.j.D("dispose",{})),this},i.prototype.setMarkerVisible=function(t){return this.Xs=t,this.$s.Fn(),this},i.prototype.getMarkerVisible=function(){return this.Xs},i.prototype.setMarker=function(t){return t(this.ia),this.$s.Fn(),this},i.prototype.getMarker=function(){return this.ia},i.prototype.setPointerEvents=function(t){return this.j.setPointerEvents(t),this},i.prototype.getPointerEvents=function(){return this.j.getPointerEvents()},i.prototype.setAllocatesAxisSpace=function(t){return this.Zs=t,this.$s.Fn(),this},i.prototype.getAllocatesAxisSpace=function(){return this.Zs},i.prototype.isInScale=function(){return Gn(this.S,this.axisScale.getInnerStart(),this.axisScale.getInnerEnd())},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(Fs),Ps=function(t){function i(i,n,r,e,o,s,a,u,h,f,c){var l=t.call(this,i,n,r,e,o,s,a,u,c,h,f)||this;return l.sa=!1,l.bi=h,l.qs=n,l.$s=r,l}return Ls(i,t),i.prototype.dispose=function(){return this.sa=!1,t.prototype.dispose.call(this)},i.prototype.update=function(){return this},i.prototype.plot=function(t,i,n,r,e){if(this.isInScale()&&this.getVisible()&&t){this.sa=!1;var o=st(this.S,this.axisScale,this.Qs.getWidth(this.renderingScale));this.ta.setVisible(!0).ve(this.Qs.toPoint(o,i)).le(this.Qs.toPoint(o,i-(r+n*this.Ws))),this.Xs?(this.ea&&this.ia.setText(this.ea(this.S,this)),this.ia.setVisible(!0).setPosition(this.Qs.toPoint(o,e))):this.ia.setVisible(!1)}else this.ta.setVisible(!1),this.ia.setVisible(!1);return this.ia.Io().ie(),this},i.prototype.aa=function(){this.Xs?(this.ea&&this.ia.setText(this.ea(this.S,this)),this.ia.setVisible(!0)):this.ia.setVisible(!1);var t=this.ia.Io().getSize();return this.Qs.getHeight(t)},i}(Es),zs={ua:"X0Z1bGxBY2Nlc3M=",ha:"X0Jhc2VDaGFydHM=",fa:"RGF0YSBHcmlk",ca:"X0hhc0hhcmRFeHBpcmF0aW9u",la:"X0lzVHJpYWw=",va:"X0lzQ29tbXVuaXR5",da:"T0hMQyBTZXJpZXM=",ya:"QmFyIENoYXJ0",Aa:"c2xpY2VkIGNoYXJ0cw==",ba:"R2F1Z2UgQ2hhcnQ=",pa:"U3BpZGVyIENoYXJ0",ma:"UG9sYXIgQ2hhcnQ=",ga:"M0QgQ2hhcnQ=",xa:"Wm9vbSBCYW5kIENoYXJ0",Sa:"TWFwIENoYXJ0",wa:"WFkgQ2hhcnQ=",Ma:"WFkgU2VyaWVz",Ca:"SGVhdG1hcCBTZXJpZXM=",Ta:"RmlndXJlIFNlcmllcw==",ka:"bG9nYXJpdGhtaWMgYXhpcw==",_a:"cmVhbC10aW1lIHZpc3VhbGl6YXRpb24=",Oa:"aW5kaXZpZHVhbCBwb2ludCBzaXpl",Fa:"aW5kaXZpZHVhbCBwb2ludCBjb2xvcg==",Ia:"VHJlZU1hcCBDaGFydA==",ja:"UGFyYWxsZWwgQ29vcmRpbmF0ZSBDaGFydA==",Ba:"X1B5dGhvbkxpY2Vuc2U=",Da:"X1N0dWRlbnRMaWNlbnNl"},Ns=function(){return Ns=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Ns.apply(this,arguments)},Vs=function(t,i){return t.setTextFillStyle(i.uiTextFillStyle).setTextFont(i.uiTextFont)},Rs=function(t,i,n){n&&Bs(t)&&t.setBackground((function(t){return t.setFillStyle(i.uiBackgroundFillStyle).setStrokeStyle(i.uiBackgroundStrokeStyle)})).setEffect(!0)},Gs={uiElement:void 0,stylers:t.List(),addStyler:function(t){return Ns(Ns({},this),{stylers:this.stylers.push(t)})},applyStylers:function(t,i){return this.stylers.forEach((function(n){return void 0!==n?n(t,i):void 0})),t}},Us={background:void 0,setBackground:function(t){return Ns(Ns({},this),{background:t})}},Ys={na:function(t,i,n,r,e,o){var s=this.applyStylers(new this.uiElement(t,i,n,r,e),e);return Rs(s,e,o),s}},Ws={na:function(t,i,n,r,e,o){var s=this.applyStylers(new this.uiElement(t,i,n,this.background,r,e),e);return Rs(s,e,o),s}},Xs=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hs=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.La=!0,i}return Xs(i,t),i.prototype.ie=function(){return t.prototype.ie.call(this),this},i.prototype.setPointerEvents=function(t){return this.La=t,this},i.prototype.getPointerEvents=function(){return this.La},i.prototype.Ds=function(){return[]},i}(Is),Zs=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Xs(i,t),i.prototype.Ns=function(t){return this.size=t,this},i.prototype.Vs=function(){return 0},i.prototype.Rs=function(){return 0},i.prototype.Us=function(){return 0},i.prototype.Gs=function(){return 0},i.prototype.setHighlight=function(t){return this},i.prototype.getHighlight=function(){return 0},i.prototype.setFillStyle=function(){return this},i.prototype.getFillStyle=function(){return Vr},i.prototype.setStrokeStyle=function(){return this},i.prototype.getStrokeStyle=function(){return qt},i.prototype.setStrokeThickness=function(){return this},i.prototype.getStrokeThickness=function(){return 0},i}(Hs),Qs=function(){function t(t){this.Ea=new Map,this.Ai=t}return t.prototype.mn=function(t,i,n){var r=this,e=n.animationEnabled;this.Ea.set(t,{applyHighlight:i,curUnanimatedHighlightValue:0,curAnimationPositionMillis:0,animationEnabled:e,curAnimatedHighlightValue:0});var o=function(){r.Ea.delete(t),t.removeEventListener("dispose",o)};ci.requestAnimationFrame((function(){t.addEventListener("dispose",o)}))},t.prototype.Pa=function(t,i){var n=this,r=i.animationEnabled,e=[],o=function(){e.forEach((function(t){n.Ea.delete(t)})),t.removeEventListener("dispose",o)};return ci.requestAnimationFrame((function(){t.addEventListener("dispose",o)})),{za:function(t,i){var o={applyHighlight:i,curUnanimatedHighlightValue:0,curAnimationPositionMillis:0,animationEnabled:r,curAnimatedHighlightValue:0};e.push(t),n.Ea.set(t,o)},Na:function(){e.forEach((function(t){n.Ea.delete(t)})),e.length=0},Va:function(t){r=t,e.forEach((function(t){n.Pn(t,r)}))},Ra:function(){return r}}},t.prototype.En=function(t,i){var n=this.Ea.get(t);n&&(n.curUnanimatedHighlightValue=vn(i),this.Ai.Fn())},t.prototype.Mn=function(t,i){void 0===i&&(i=!1);var n=this.Ea.get(t);return n?i?n.curAnimatedHighlightValue:n.curUnanimatedHighlightValue:0},t.prototype.Pn=function(t,i){var n=this.Ea.get(t);n&&(n.animationEnabled=i)},t.prototype.zn=function(t){var i=this.Ea.get(t);return!!i&&i.animationEnabled},t.prototype.Io=function(t){var i=!1;this.Ea.forEach((function(n,r){var e;if(n.animationEnabled)if(n.curUnanimatedHighlightValue>0){var o=n.curAnimationPositionMillis/1e3;e=n.curUnanimatedHighlightValue*Math.abs(Math.sin(o*Math.PI/2+.5));var s=0===n.curAnimatedHighlightValue?1:t;n.curAnimationPositionMillis+=s,i=!0}else n.curAnimatedHighlightValue>0&&0===n.curUnanimatedHighlightValue?(e=Math.max(n.curAnimatedHighlightValue-t/1e3,0),i=i||e>0):e=0,n.curAnimationPositionMillis=0;else e=n.curUnanimatedHighlightValue;e!==n.curAnimatedHighlightValue&&(n.applyHighlight(e),n.curAnimatedHighlightValue=e)})),i&&this.Ai.Fn(!0)},t}(),Js=new Map,Ks=function(t,i){var n=t.getSize(),r=t.getFamily(),e=t.getWeight(),o=t.getStyle(),s=t.getVariant(),a=s?"small-caps":"normal",u="".concat(o," ").concat(a," ").concat(e," ").concat(n,"px ").concat(r),h="".concat(u," ").concat(i.toFixed(2)),f=Js.get(h);return f||(f=function(t,i,n,r){return{font:t,properties:i,dpr:n,id:r}}(u,{type:"font",size:n,family:r,style:o,variant:s,weight:e},i,h),Js.set(h,f)),f},qs=function(){return qs=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},qs.apply(this,arguments)},$s=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},ta=[],ia=function(){if(void 0!==Zo){var t=ci.getComputedStyle(ci.document.body),i=Number(t.getPropertyValue("margin-top").replace("px",""))+Number(t.getPropertyValue("margin-bottom").replace("px",""));Zo.style.height="".concat(ci.innerHeight-i,"px"),function(){for(var t=0;t<ta.length;t+=1)ta[t]()}()}},na=new Ur({color:w(255,255,255)}),ra={font:Ks(z,0),fillStyle:na,lineStyle:new Ue({fillStyle:na,thickness:1}),pointStyle3D:new Ve.Triangulated},ea=function(){function t(t,i,n){var r=this;this.ai=ot.d2({scaleXYConstructor:nt}),this.Ga=new Map,this.Ua=Ut((function(){return r.Fn()}),60),this.Ya=h(0,0),this.Wa=!1,this.Xa=Ai,this.Ha=function(){},this.Za=[],this.Qa=-1,this.Ja=[],this.fi=!1,this.Ka=!1,this.qa=function(t){t.dataTransfer&&t.dataTransfer.setDragImage(new Image,0,0)},this.$a=new Map,this.tu=function(t,i){var n,e,o,s=i instanceof PointerEvent&&i,a=Vt(i)?{clientX:i.changedTouches[0].clientX,clientY:i.changedTouches[0].clientY}:{clientX:i.clientX,clientY:i.clientY};if(s){if(!s.pointerType)return;r.iu=i}var u=r._n({x:a.clientX,y:a.clientY});if(("pointermove"===t||"pointerenter"===t)&&u&&s){var h=c=r.$a.get(s.pointerId);h||(h={lastEvent:s,entity:u.entity,collectionMember:u.collectionMember,info:u.info},r.$a.set(s.pointerId,h));var f=void 0===c||c.entity!==u.entity||c.collectionMember!==u.collectionMember;f&&c&&c.entity.D("pointerleave",i,c.collectionMember,c.info),f&&u&&u.entity.D("pointerenter",i,u.collectionMember,u.info),u&&(u.entity.D("pointermove",i,u.collectionMember,u.info),r.js.draggable=null!==(n=u.entity.li)&&void 0!==n&&n),h.lastEvent=s,h.entity=u.entity,h.collectionMember=u.collectionMember,h.info=u.info}else if("pointerleave"===t&&s){var c;(c=r.$a.get(s.pointerId))&&(c.entity.D("pointerleave",i,c.collectionMember,c.info),r.$a.delete(s.pointerId))}else if("click"===t&&s)(l=(null===(e=r.nu)||void 0===e?void 0:e.event)instanceof PointerEvent&&r.nu.event.pointerId===s.pointerId&&r.nu)&&l.entity.D("click",s,l.collectionMember,l.info);else if("dblclick"===t&&i instanceof MouseEvent){var l;(l="click"===(null===(o=r.nu)||void 0===o?void 0:o.event.type)&&r.nu)&&l.entity.D("dblclick",i,l.collectionMember,l.info)}else{var v=i instanceof PointerEvent?r.$a.get(i.pointerId):u;null==v||v.entity.D(t,i,v.collectionMember,v.info)}i&&u&&!["touchend"].includes(t)&&(r.nu=qs(qs({},u),{event:i}))},this.ru=function(){var t=r.js.getBoundingClientRect(),i=t.bottom,n=t.left,e=h(Math.floor(n),Math.floor(i));return e.x===r.Ya.x&&e.y===r.Ya.y||r.j.D("locationchange",{}),r.Ya=e,r.eu=ci.performance.now(),r},this.ou=function(){r.su&&r.su()},this.Fs=function(t,i){if(void 0!==i){var n=r.Ja.find((function(t){return t[0]===i}));return n&&(n[1]=t,r.Ja.indexOf(n)===r.Ja.length-1&&(r.js.style.cursor=t)),i}var e=r.Qa;return r.Qa+=1,r.Ja.push([e,t]),r.js.style.cursor=t,e},this.Is=function(t){var i,n=r.Ja.find((function(i){return i[0]===t}));if(n){var e=r.Ja.indexOf(n),o=e===r.Ja.length-1;if(r.Ja.splice(e,1),o){var s=(null===(i=r.Ja[r.Ja.length-1])||void 0===i?void 0:i[1])||"default";r.js.style.cursor=s}}},this.au=function(t){return r.uu.C(t),r},this.hu=function(){return r.uu.T()},this.fu=function(){r.Xa&&r.Xa(1e3/60),r.cu(),r.lu(),r.Ha&&r.Ha()},this.vu=function(t){return r.Ga.set(t.du(),t),r.Ga=new Map(function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}([],function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(r.Ga.entries()),!1).sort((function(t,i){return t[0]-i[0]}))),t},this.yu=function(t){return r.Ga.delete(t),r},this.Y=function(){return r.uu.o=!1,r},this.W=function(){return r.uu.o=!0,r},this.Au=function(){return r.iu},this.j=new Nt,this.bu=t,this.xi=i.theme,this.pu=n.pu,this.mu=n.gu,this.xu={pr:i&&void 0!==i.resourcesBaseUrl&&null!==i.resourcesBaseUrl?i.resourcesBaseUrl:void 0,Su:!i||!("warnings"in i)||"boolean"!=typeof i.warnings||i.warnings,wu:function(){var t=null==i?void 0:i.pickingPrecision;if("string"==typeof t){var n=t.toLowerCase();if("best"===n)return 1;if("high"===n)return.5;if("low"===n)return 1/8}return 1/4}(),Mu:void 0===(null==i?void 0:i.interactable)||i.interactable,Cu:void 0===i.textPixelSnappingEnabled||i.textPixelSnappingEnabled};var e=i?i.container:void 0;if(e){if("string"==typeof e){var o=ci.document.getElementById(e);if(!o)throw new Error('Container "'.concat(e,"\" doesn't exist."));this.js=o}else this.js=e;ci.addEventListener("resize",this.ou),this.Za.push((function(){ci.removeEventListener("resize",r.ou)}))}else{if(void 0===Zo){var s=ci.document.createElement("div");s.id="lcjs-auto-flexbox",s.style.position="relative",s.style.width="100%",s.style.display="flex",s.style.flexDirection="column",ci.document.body.appendChild(s),Zo=s,ci.addEventListener("resize",ia)}for(var a=1;null!==ci.document.getElementById("chart-".concat(a));)a+=1;this.js=ci.document.createElement("div"),this.js.id="chart-".concat(a),this.js.style.flex="1",this.js.style.height="100%",Zo.appendChild(this.js),ia(),ta.push(this.ou),this.Za.push((function(){Zo&&Zo.removeChild(r.js),ta.includes(r.ou)&&ta.splice(ta.indexOf(r.ou),1),0===ta.length&&Zo&&(ci.document.body.removeChild(Zo),Zo=void 0,ci.removeEventListener("resize",ia))}))}ci.ResizeObserver&&(this.Tu=new ci.ResizeObserver(function(t){var i,n;try{for(var e=$s(t),o=e.next();!o.done;o=e.next())o.value.target===r.js&&r.ou()}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=e.return)&&n.call(e)}finally{if(i)throw i.error}}}.bind(this)),this.Tu.observe(this.js)),this.js.style.position="relative",this.js.style.boxSizing="content-box",!1!==this.xu.Mu&&(this.js.style.touchAction="none"),this.js.style.overflow="hidden",this.js.addEventListener("fullscreenchange",this.ou),this.js.addEventListener("webkitfullscreenchange",this.ou),this.js.addEventListener("dragstart",this.qa);var u=i?i.maxFps:void 0;this.ku=u?-1===u?-1:0!==u?1e3/u:0:0,Object.keys(zt).forEach((function(t){var i=function(i){r.tu(t,i)};r.js.addEventListener(t,i),r.Za.push((function(){r.js.removeEventListener(t,i)}))})),ci.addEventListener("scroll",this.ru,{passive:!0}),this.uu=A(new x({r:0,g:0,b:0,a:0})),this.gn=new Qs(this)}return t.prototype._u=function(t,i,n){this.Ou=t?{entity:t,timestamp:n,pointed:i}:void 0},t.prototype.Fu=function(t,i){var n=Array.from(this.$a.values()).find((function(i){return i.entity===t.entity&&(void 0===t.collectionMember||t.collectionMember===i.collectionMember)}));n&&(n.entity=i.entity,n.collectionMember=i.collectionMember)},t.prototype.Ti=function(t,i){void 0===i&&(i=void 0);var n=Array.from(this.$a.values()).find((function(n){return n.entity===t&&(void 0===i||i===n.collectionMember)}));n&&(t.D("pointerleave",n.lastEvent,n.collectionMember,n.info),this.$a.delete(n.lastEvent.pointerId))},t.prototype.Iu=function(){this.Ka=!0,this.Xa=void 0,this.Ha=void 0},t.prototype.ju=function(){this.Ja.length=0,this.js.style.cursor="unset"},t.prototype.Bu=function(){return this.Du},t.prototype.Lu=function(){return this.Eu},t.prototype.setBackgroundFillStyle=function(t){return this.Pu.$r(t),this.Fn(),this},t.prototype.getBackgroundFillStyle=function(){return this.Pu.vo()},t.prototype.setBackgroundStrokeStyle=function(t){return this.Pu.qr(t),this.Fn(),this},t.prototype.getBackgroundStrokeStyle=function(){return this.Pu.zu()},t.prototype.Nu=function(t){return this.Ha=t,this},t.prototype.Vu=function(t){return this.Xa=t,this},t.prototype.Ru=function(t){return this.Ga.get(t)},t.prototype.Gu=function(){return Array.from(this.Ga.keys()).reverse().reduce((function(t,i){return i!==Number.MAX_SAFE_INTEGER&&i>t?i:t}),0)+1},t.prototype.V=function(){var t,i;if(!this.fi){if(this.fi=!0,this.Ga)try{for(var n=$s(this.Ga.values()),r=n.next();!r.done;r=n.next())r.value.V()}catch(i){t={error:i}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}this.Xa=void 0,this.Ha=void 0,ci.removeEventListener("scroll",this.ru),this.js.removeEventListener("fullscreenchange",this.ou),this.js.removeEventListener("webkitfullscreenchange",this.ou),this.js.removeEventListener("dragstart",this.qa),this.Tu&&(this.Tu.disconnect(),this.Tu=void 0),this.Za.forEach((function(t){t()})),this.Za.length=0}},t.prototype.oe=function(t,i){return h(t-this.Ya.x,this.Ya.y-i)},t.prototype.Ys=function(t,i){return h(t+this.Ya.x,this.Ya.y-i)},t.prototype.Uu=function(t){var i=this.oe(t.clientX,t.clientY);return{engineX:i.x,engineY:i.y}},t.prototype.Yu=function(t){var i=this.Ys(t.engineX,t.engineY);return{clientX:i.x,clientY:i.y}},t.prototype.Wu=function(t,i,n,r){var e=at(t,n,this.ai),o=at(i,n,this.ai),s=this.Yu({engineX:e.x,engineY:e.y}),a=this.Yu({engineX:o.x,engineY:o.y});return{p1:{clientX:Math.min(s.clientX,a.clientX)-r.left,clientY:Math.min(s.clientY,a.clientY)-r.top},p2:{clientX:Math.max(s.clientX,a.clientX)+r.right,clientY:Math.max(s.clientY,a.clientY)+r.bottom}}},t.prototype.L=function(t,i,n){this.j.addEventListener(t,i,n)},t.prototype.N=function(t,i){this.j.removeEventListener(t,i)},t}(),oa=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sa=function(t){function i(i,n,r,e){var o=t.call(this,i,r,e)||this;return o.zs=0,o.Yn=n,o.Yn.Xu=!0,o}return oa(i,t),i.prototype.Hu=function(){},i.prototype.Zu=function(t){return this.zs===t||(this.zs=t,this.Yn.Xu=!0),this},i.prototype.Qu=function(){return this.zs},i}(Et),aa=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ua=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},ha=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,e,o)||this;return s.Ju=!0,s.ai=r,s}return aa(i,t),i}(sa),fa=function(t,i,n){if(n instanceof nt){var r=n.oi(),e=ar(i,{x:Math.abs(r.x),y:Math.abs(r.y)});return d(h(t.min.x-e.x,t.min.y-e.y),h(t.max.x+e.x,t.max.y+e.y))}return d(n.Jt(h(t.min.x,t.min.y),er(i,-1)),n.Jt(h(t.max.x,t.max.y),i))},ca=function(t,i){return"function"==typeof i?i(t):i},la=function(t,i){return!t||t!==i},va=function(t){return t!==Vr},da=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.Qr=ra.fillStyle,s.Ai=i,s}return aa(i,t),i.prototype.$r=function(t){return this.Qr=ca(this.Qr,t),this},i.prototype.vo=function(){return this.Qr},i.prototype.Ku=function(){return la(this.qu,this.Qr)},i.prototype.$u=function(){return t=this.qu,i=this.Qr,t===Vr&&i!==Vr;var t,i},i.prototype.th=function(){return va(this.Qr)},i.prototype.ih=function(t){this.qu=t},i}(ha),ya=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.Jr=ra.lineStyle,s.Ai=i,s}return aa(i,t),i.prototype.qr=function(t){return this.Jr="function"==typeof t?t(this.Jr):t,this},i.prototype.zu=function(){return this.Jr},i.prototype.rh=function(){return!this.eh||this.eh!==this.Jr},i.prototype.oh=function(t){return!this.eh||this.eh.getThickness()!==t},i.prototype.th=function(){return this.Jr!==qt||t.prototype.th.call(this)},i.prototype.$u=function(){return(this.Jr!==qt||this.Qr!==Vr)&&this.eh===qt&&this.qu===Vr},i.prototype.ah=function(t){this.eh=t},i}(da),Aa=function(t){function i(i,n,r,e,o,s){void 0===s&&(s=A(5));var a=t.call(this,i,n,r,e,o)||this;return a.size=A(5),a.size=s,a}return aa(i,t),i.prototype.Z=function(t){return this.size.C(t),this},i}(da),ba=function(t){function i(i,n,r,e,o,s){void 0===s&&(s=A(ra.font));var a=t.call(this,i,n,r,e,o)||this;return a.uh=A(""),a.hh=!1,a.fh={x:1,y:-1},a.Cs=A(h(0,0)),a.dh=A(0),a.Ah=A(0),a.bh=A(h(0,0)),a.ph=A(0),a.mh=A(z),a.gh=h(0,0),a.ot=A(b(1,1,1,1)),a.Ls=A(p(4,4,4,4)),a.font=A(ra.font),a.Sh=!1,a.font=s,a}return aa(i,t),i.prototype.th=function(){return va(this.Qr)&&this.uh.T().length>0},i.prototype.$u=function(){return!1===this.Sh&&this.th()},i.prototype.Wo=function(t){return this.uh.C(t),this},i.prototype.Zo=function(){return this.uh.T()},i.prototype.bo=function(t){return P(t)?this.mh.C(t):this.mh.C(t(this.mh.T())),this},i.prototype.Ao=function(){return this.mh.T()},i.prototype.wh=function(t){return this.mh.C(this.mh.T().setFamily(t)),this},i.prototype.Mh=function(){return this.mh.T().getFamily()},i.prototype.Ch=function(t){return this.mh.C(this.mh.T().setSize(t)),this},i.prototype.Th=function(){return this.mh.T().getSize()},i.prototype.kh=function(t){return this.mh.C(this.mh.T().setWeight(t)),this},i.prototype._h=function(){return this.mh.T().getWeight()},i.prototype.Oh=function(t){return this.mh.C(this.mh.T().setStyle(t)),this},i.prototype.Fh=function(){return this.mh.T().getStyle()},i.prototype.Ih=function(t){return this.mh.C(this.mh.T().setVariant(t)),this},i.prototype.jh=function(){return this.mh.T().getVariant()},i.prototype.ne=function(t){return this.Cs.C(t),this},i.prototype.Bh=function(){return this.Cs.T()},i.prototype.po=function(t){return this.ph.C(t),this},i.prototype.mo=function(){return this.ph.T()},i.prototype.Yo=function(t){return this.Dh=t,this},i.prototype.Lh=function(){return this.Dh},i.prototype.Eh=function(t,i){return this.bh.C(h(t,i)),this},i.prototype.Ph=function(){return this.bh.T()},i.prototype.zh=function(t){return this.Ah.C(t),this},i.prototype.Nh=function(){return this.Ah.T()},i.prototype.Vh=function(){return{x:this.Ah.T(),y:this.dh.T()}},i.prototype.Rh=function(t){return this.dh.C(t),this},i.prototype.Gh=function(){return this.dh.T()},i.prototype.Uh=function(t){return this.Ah.C(t.x),this.dh.C(t.y),this},i.prototype.As=function(t){return this.ot.C(t),this},i.prototype.Yh=function(){return this.ot.T()},i.prototype.bs=function(t){return this.Ls.C(t),this},i.prototype.Wh=function(){return this.Ls.T()},i}(da);!function(t){function i(i,n,r,e,o,s){void 0===s&&(s=5);var a=t.call(this,i,n,r,e,o,A(s))||this;return a.Xh=[],a.Hh=A(ve.Square),a.ph=A(0),a.Zh=A(!1),a.Qh=A(!1),a.Jh=A(!1),a.Kh=Bn,a.qh=0,a.$h=[],a.tf=0,a.if=Bn,a.nf=!1,a.rf=void 0,a}aa(i,t),i.prototype.ef=function(){return this.$h},i.prototype.sf=function(){return this.Xh},i.prototype.af=function(t){return this.Hh.C(t),this},i.prototype.uf=function(){return this.Hh.T()},i.prototype.po=function(t){return this.ph.C(t),this},i.prototype.mo=function(){return this.ph.T()},i.prototype.hf=function(t){return this.Zh.C(t),this},i.prototype.ff=function(t){return this.Qh.C(t),this},i.prototype.cf=function(t){return this.Jh.C(t),this},i.prototype.lf=function(t,i){return Array.isArray(t)||(t=[t]),this.tf+=t.length,this.$h=$i(this.$h,t,{canReturnB:!0}),this.if&&(this.if=i?Jn(this.if,i):void 0),this.rf=void 0,this},i.prototype.zi=function(){return this.nf=!0,this.Xh.length=0,this.qh=0,this.Kh=Bn,this.$h=[],this.tf=0,this.rf=void 0,this},i.prototype.vf=function(){return this.qh},i.prototype.df=function(){return this.tf}}(Aa);var pa,ma=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.Cs=A(h(0,0)),s.U=A(h(100,100)),s.ph=A(0),s.gh=A(h(0,0)),s.yf=!1,s}return aa(i,t),i.prototype.Io=function(){return this.Af(),this},i.prototype.ne=function(t){var i=this.Cs.T();return t.x===i.x&&t.y===i.y||(this.Cs.C(t),this.Af()),this},i.prototype.Bh=function(){return this.Cs.T()},i.prototype.bf=function(t){var i=this.Cs.T();return t!==i.x&&(this.Cs.C(h(t,i.y)),this.Af()),this},i.prototype.pf=function(t){var i=this.Cs.T();return t!==i.y&&(this.Cs.C(h(i.x,t)),this.Af()),this},i.prototype.Z=function(t){var i=this.U.T();return t.x===i.x&&t.y===i.y||(this.U.C(h(t.x,t.y)),this.Af()),this},i.prototype.Mt=function(){return this.U.T()},i.prototype.mf=function(t){var i=this.U.T();return t!==i.x&&(this.U.C(h(t,i.y)),this.Af()),this},i.prototype.gf=function(t){var i=this.U.T();return t!==i.x&&(this.U.C(h(i.x,t)),this.Af()),this},i.prototype.po=function(t){return this.ph.C(t),this},i.prototype.mo=function(){return this.ph.T()},i.prototype.xf=function(t){var i=this.gh.T();return t===i&&i.x===t.x&&i.y===t.y||(void 0===t?(this.yf=!1,this.Af()):(this.yf=!0,this.gh.C(t))),this},i.prototype.Af=function(){if(!this.yf){var t=this.Cs.T(),i=this.U.T(),n=h(t.x+i.x/2,t.y+i.y/2),r=this.gh.T();n.x===r.x&&n.y===r.y||this.gh.C(n)}},i}(ya),ga=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.Xh=[],i.Cs=A(h(0,0)),i.Kh=Bn,i.Sf=!1,i}return aa(i,t),i.prototype.wf=function(t){return t=Zi(t),this.Xh=t,this.Sf=!0,this},i.prototype.Mf=function(){return this.Xh},i.prototype.Xi=function(){return this.Kh.max.x},i.prototype.Wi=function(){return this.Kh.min.x},i.prototype.Zi=function(){return this.Kh.max.y},i.prototype.Hi=function(){return this.Kh.min.y},i.prototype.Cf=function(){return 0},i.prototype.Tf=function(){return 0},i}(ya),xa=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.kf=new Array,s._f=new Array,s.Kh=Bn,s.Of=0,s.Ff=!1,s.$h=[Array(),Array()],s.If=!1,s.jf=(new Ur).setColor(w(42,171,240)),s.nf=!1,s.Bf=!1,s.Df=!1,s}return aa(i,t),i.prototype.lf=function(t,i){var n=this.Of-1,r=n>0&&!this.If,e=ua(r?[[this.kf[n]],[this._f[n]]]:[[],[]],2),o=e[0],s=e[1];if(t instanceof Array){var a=ua(v(t),2),u=a[0],f=a[1];o=$i(o,u,{canReturnB:!0}),s=$i(s,f,{canReturnB:!0})}else{var c=t.position;o.push(h(c,t.high)),s.push(h(c,t.low))}return this.If?(this.$h[0]=$i(this.$h[0],o,{canReturnB:!0}),this.$h[1]=$i(this.$h[1],s,{canReturnB:!0})):(this.$h=[o,s],this.If=!0),this.Kh=Jn(this.Kh,i||Jn(Zn(o),Zn(s))),this},i.prototype.zi=function(){return this.nf=!0,this.kf.length=0,this._f.length=0,this.Of=0,this.Kh=Bn,this},i.prototype.sf=function(){return[this.kf,this._f]},i.prototype.ef=function(){return[this.$h[0],this.$h[1]]},i.prototype.Lf=function(t){return this.jf="function"==typeof t?t(this.jf):t,this},i.prototype.Ef=function(){return this.jf},i.prototype.vf=function(){return this.Of-(Number(this.Bf)+Number(this.Df))},i.prototype.df=function(){return this.$h.length},i.prototype.Pf=function(t){return this.Bf=t,this},i.prototype.zf=function(){return this.Bf},i.prototype.Nf=function(t){return this.Df=t,this},i.prototype.Vf=function(){return this.Df},i.prototype.$u=function(){return this.qu===Vr&&this.Rf===Vr&&(this.Qr!==Vr||this.jf!==Vr)},i.prototype.Gf=function(t){this.Rf=t},i.prototype.th=function(){return this.jf!==Vr||t.prototype.th.call(this)},i.prototype.Ku=function(){return t.prototype.Ku.call(this)||!this.Rf||this.Rf!==this.jf},i}(da),Sa=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.Cs=A(h(0,0)),s.Uf=A(0),s.Gt=A(360),s.Yf=A(100),s.Wf=A(100),s.Xf=A(0),s.Hf=A(void 0),s.Zf=h(0,0),s.Qf=h(0,0),s.Jf=h(0,0),s}return aa(i,t),i.prototype.Kf=function(){return this.Yf.T()},i.prototype.qf=function(){return this.Wf.T()},i.prototype.Bh=function(){return this.Cs.T()},i.prototype.$f=function(){return this.Uf.T()},i.prototype.Rt=function(){return this.Gt.T()},i.prototype.tc=function(){return this.Xf.T()},i.prototype.nc=function(){return this.Hf.T()},i.prototype.rc=function(){return this.Zf},i.prototype.oc=function(){return this.Qf},i.prototype.sc=function(){return this.Jf},i.prototype.ne=function(t){return this.Cs.C(t),this},i.prototype.ac=function(t){return this.Uf.C(t),this},i.prototype.le=function(t){return this.Gt.C(t),this},i.prototype.uc=function(t){return this.Wf.C(t),this.Yf.C(t),this},i.prototype.hc=function(t){return this.Yf.C(t),this},i.prototype.fc=function(t){return this.Wf.C(t),this},i.prototype.cc=function(t){return this.Xf.C(t<0?0:t),this},i.prototype.lc=function(t){return this.Hf.C(void 0!==t&&t<=0?void 0:t),this},i}(ya);!function(t){t[t.Complex=0]="Complex",t[t.Simple=1]="Simple"}(pa||(pa={}));var wa,Ma,Ca,Ta,ka,_a=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.vc=ra.lineStyle,s.engine=i,s.dc=r instanceof rt,s}return aa(i,t),i.prototype.fe=function(t){return this.vc=function(t,i){return"function"==typeof i?i(t):i}(this.vc,t),this.dc&&Qe(this.vc)&&(ci.console.error("LightningChart JS error | DashedLine is not supported together with logarithmic axis"),this.vc=ra.lineStyle),this},i.prototype.oa=function(){return this.vc},i.prototype.rh=function(){return t=this.yc,i=this.vc,!t||t!==i;var t,i},i.prototype.Ac=function(t){return function(t,i){return!t||t.getThickness()!==i}(this.yc,t)},i.prototype.$u=function(){return t=this.yc,i=this.vc,t===qt&&i!==qt;var t,i},i.prototype.th=function(){return(t=this.vc)!==qt&&t.getFillStyle()!==Vr;var t},i.prototype.bc=function(t){this.yc=t},i}(ha),Oa=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.Yt=h(0,0),s.Gt=h(0,0),s.mc=!1,s}return aa(i,t),i.prototype.C=function(t){var i=t.min,n=t.max;return i.x===this.Yt.x&&i.y===this.Yt.y&&n.x===this.Gt.x&&n.y===this.Gt.y||(this.mc=!0,this.Yt=i,this.Gt=n),this},i.prototype.Ut=function(){return this.Yt},i.prototype.Rt=function(){return this.Gt},i.prototype.ve=function(t){return t.x===this.Yt.x&&t.y===this.Yt.y||(this.mc=!0,this.Yt=t),this},i.prototype.le=function(t){return t.x===this.Gt.x&&t.y===this.Gt.y||(this.mc=!0,this.Gt=t),this},i}(_a),Fa=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.gc=void 0,s.xc=0,s}return aa(i,t),i}(_a),Ia=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.Sc=[],s.Kh=Bn,s.$h=new Array,s.qh=0,s.nf=!1,s.wc=A(void 0),s.Bf=!1,s.Df=!1,s}return aa(i,t),i.prototype.ef=function(){return this.$h},i.prototype.sf=function(){return this.Sc},i.prototype.zi=function(){return this.nf=!0,this.Sc.length=0,this.qh=0,this.$h=[],this.Kh=Bn,this},i.prototype.vf=function(){return this.qh-(Number(this.Bf)+Number(this.Df))},i.prototype.df=function(){return this.$h.length},i.prototype.Pf=function(t){return this.Bf=t,this},i.prototype.zf=function(){return this.Bf},i.prototype.Nf=function(t){return this.Df=t,this},i.prototype.Vf=function(){return this.Df},i}(_a),ja=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,[])||this;return s.Mc={uid:o,text:"",font:"",color:"",position:"absolute",left:0,top:0,padding:"",alignmentX:0,alignmentY:0,rotation:0,identifier:he.Other,visible:!0},s}return aa(i,t),i.prototype.Cc=function(){var t;if(!this.getVisible()||0===this.uh.T().length||Rr(this.Qr))return this.Mc.visible=!1,this.Mc;this.Mc.visible=!0;var i=Ks(this.mh.T(),devicePixelRatio);this.Mc.identifier=null!==(t=this.We)&&void 0!==t?t:he.Other,this.Mc.text=this.uh.T(),this.Mc.font=i.font,this.Mc.color=Yr(this.Qr)?"rgba(".concat(255*this.Qr.color.r,",").concat(255*this.Qr.color.g,",").concat(255*this.Qr.color.b,",").concat(this.Qr.color.a,")"):this.Mc.color;var n=this.Cs.T(),r=at(n,this.ai,this.Ai.ai),e=Math.round(10*r.x)/10,o=Math.round(10*(this.Ai.Mt().y-r.y))/10;this.Mc.top=o,this.Mc.left=e,this.Mc.alignmentX=this.Ah.T(),this.Mc.alignmentY=this.dh.T(),this.Mc.rotation=this.ph.T();var s=this.ot.T(),a=this.Ls.T();return this.Mc.padding="".concat(s.top+a.top,"px ").concat(s.right+a.right,"px ").concat(s.bottom+a.bottom,"px ").concat(s.left+a.left,"px"),this.Mc},i.prototype.Tc=function(){var t;this.Cc();var i=null===(t=this.Ai.kc)||void 0===t?void 0:t._c.getTextBoundingBox;if(i){var n=i(this.Mc);if(n){var r=this.Ai.Uu({clientX:n.left,clientY:n.top}),e=this.Ai.Uu({clientX:n.left+n.width,clientY:n.top+n.height}),o=at({x:r.engineX,y:r.engineY},this.Ai.ai,this.ai),s=at({x:e.engineX,y:e.engineY},this.Ai.ai,this.ai);return{min:{x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},max:{x:Math.max(o.x,s.x),y:Math.max(o.y,s.y)}}}}return Bn},i.prototype.Oc=function(){var t;this.Cc();var i=null===(t=this.Ai.kc)||void 0===t?void 0:t._c.measureText;if(i){var n=i(this.Mc);if(n)return n}return this.Ai.Fc.Je.Me(this.uh.T(),this.mh.T(),this.ph.T())},i.prototype.Mt=function(){if(!(this.ai instanceof nt))return{x:0,y:0};var t=this.ai.oi(),i=this.Oc();return{x:i.x*t.x,y:i.y*t.y}},i.prototype.Io=function(){return this},i.prototype.Xi=function(){return 0},i.prototype.Wi=function(){return 0},i.prototype.Zi=function(){return 0},i.prototype.Hi=function(){return 0},i.prototype.Cf=function(){return 0},i.prototype.Tf=function(){return 0},i.prototype.Ic=function(t,i){return{}},i.prototype.jc=function(){return this},i.prototype.Bc=function(t,i,n,r,e){return{}},i}(ba),Ba=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Da=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.Es=0,i}return Ba(i,t),i.prototype.getHighlight=function(){return this.Es},i.prototype.setHighlight=function(t){return this.Es=t,this.Ds().forEach((function(i){return i.Oi(t)})),this.j.D("highlightchange",{highlight:t}),this.Yn.Fn(),this},i}(Is),La=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Ba(i,t),i}(Da),Ea=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,o,s)||this;return a.Hh=a.Yn.Dc(a.renderingScale,pa.Simple).setVisible(!1).$r(Vr).qr(qt),a.j.Pi(a.Hh),a}return Ba(i,t),i.prototype.Lc=function(){var t=this,i=this.Ec();if(i.length>2){var n=Zn(i),r=h(n.max.x-n.min.x,n.max.y-n.min.y);this.setContentSize(r);var e=i.map((function(i){var e=or(i,er(n.min,-1));return t.scale.Jt(t.Cs,or(e,ar(er(or(t.origin,h(1,1)),-.5),r)))})).map((function(i){return at(i,t.scale,t.renderingScale)}));this.Hh.wf(e).setVisible(this.getVisible()).setVisible(this.getVisible())}else this.Hh&&this.Hh.setVisible(!1),this.setContentSize(h(0,0))},i.prototype.ie=function(){return t.prototype.ie.call(this),this.fi||(this.Lc(),void 0!==this.zs&&this.Hh.Zu(this.zs)),this},i.prototype.Io=function(){return this.Lc(),t.prototype.Io.call(this)},i.prototype.setVisible=function(i){return t.prototype.setVisible.call(this,i),this.Hh.setVisible(i),this},i}(La),Pa=function(t){return!(!t||"object"!=typeof t||!("elementAt"in t))},za=function(t){if("srcLoopArray"in t){var i=t.srcLoopArray,n=t.dataRanges,r=t.NewArray;return{length:n.reduce((function(t,i){return t+i.count}),0),elementAt:function(t){var r,e,o=0;try{for(var s=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),a=s.next();!a.done;a=s.next()){var u=a.value;if(o+u.count-1>=t){var h=u.offset+(t-o);return i[h]}o+=u.count}}catch(t){r={error:t}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return un(0,(function(){})),-1},toArray:function(t,e){var o=e-t+1;if(1===n.length){var s=n[0],a=s.offset+t,u=s.offset+e;return i.subarray(a,u+1)}var h=n[0],f=n[1],c=0+h.count-1,l=c+1,v=l+f.count-1,d=new r(o),y=0;if(!(e<0||t>c)){var A=Math.max(0,t),b=Math.min(c,e)-A+1,p=h.offset+(t+y-0);d.set(i.subarray(p,p+b),y),y+=b}return e<l||t>v||(A=Math.max(l,t),b=Math.min(v,e)-A+1,p=f.offset+(t+y-l),d.set(i.subarray(p,p+b),y),y+=b),d}}}return{length:t.length,elementAt:function(i){return t[i]},toArray:function(i,n){return ui(t,i,n+1)}}},Na=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Va=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Ra=function(t,i){return Object.keys(t).length===Object.keys(i).length&&!Object.keys(t).find((function(t){return void 0===i[t]}))&&!Object.entries(t).find((function(t){var n=Na(t,2),r=n[0],e=n[1];return i[r]!==e}))},Ga=function(){function t(t){var i=this;if(this.Pc=0,this.zc=0,this.Nc=0,this.Vc=!1,this.Rc=!0,this.Gc=!1,this.Uc={warningDisplayed:!1,expandEvents:[]},this.j=new Nt,this.Rc=!t||void 0===t.autoSortingEnabled||t.autoSortingEnabled,this.Yc=!1!==(null==t?void 0:t.allowInputModification),this.Wc=void 0===(null==t?void 0:t.includesNaN)||t.includesNaN,this.Xc=void 0!==(null==t?void 0:t.strictMode)&&t.strictMode,this.Su=void 0===(null==t?void 0:t.warnings)||t.warnings,this.Hc=void 0===(null==t?void 0:t.autoDetectPatterns)||t.autoDetectPatterns,null==t?void 0:t.schema){var n={};Object.entries(t.schema).forEach((function(t){var r,e=Na(t,2),o=e[0],s=e[1];if(s){var a=void 0!==s.pattern?s.pattern:void 0;s.auto&&(a=("object"==typeof s.auto&&null!==(r=s.auto.step)&&void 0!==r?r:1)>0?"progressive":"regressive");var u={dataStorage:s.storage,Zc:{effective:a,userSpecified:a},auto:s.auto,cache:void 0,ensureNoDuplication:void 0!==s.ensureNoDuplication&&s.ensureNoDuplication};if(i.Xc&&void 0===s.pattern)throw new Error("LightningChart JS error - DataSetXY property ('".concat(o,"') data pattern not specified. This is not allowed when strict mode is enabled."));n[o]=u}})),this.Qc=n}if(this.Xc&&!this.Qc)throw new Error("LightningChart JS error - DataSetXY schema not defined. This is not allowed when strict mode is enabled.")}return t.prototype.appendJSON=function(t,i,n){var r,e,o=this;if(!Array.isArray(t))return this.appendJSON([t]);var s=t.length;if(0===s)return this;var a=Object.keys(t[0]).filter((function(t){return(!(null==i?void 0:i.whitelist)||i.whitelist.includes(t))&&(!(null==i?void 0:i.blacklist)||!i.blacklist.includes(t))}));if(0===a.length)return this;for(var u=t[0],h=Object.fromEntries(a.map((function(t){if("number"!=typeof u[t])return[t,[]];var i=o.Qc&&o.Qc[t];return[t,new((null==i?void 0:i.dataStorage)||Float64Array)(s)]}))),f=0;f<s;f+=1){var c=t[f];try{for(var l=(r=void 0,Va(a)),v=l.next();!v.done;v=l.next()){var d=v.value;h[d][f]=c[d]}}catch(t){r={error:t}}finally{try{v&&!v.done&&(e=l.return)&&e.call(l)}finally{if(r)throw r.error}}}return n&&Object.entries(n).forEach((function(t){var i=Na(t,2),n=i[0],r=i[1];h[n]=r})),this.appendSamples(h,i),this},t.prototype.appendSample=function(t,i){var n,r,e,o,s=this,a=Object.keys(t).filter((function(t){return(!(null==i?void 0:i.whitelist)||i.whitelist.includes(t))&&(!(null==i?void 0:i.blacklist)||!i.blacklist.includes(t))}));if(0===a.length)return this;var u=Object.fromEntries(a.map((function(i){var n,r;return[i,Ja(t[i],s.Qc&&null!==(r=null===(n=s.Qc[i])||void 0===n?void 0:n.dataStorage)&&void 0!==r?r:Float64Array)]}))),h=this.Jc({appendCount:1,keys:a,parsedDataArrs:u,opts:i});if(!h.incomingDataReplacedCache&&this.Rc){var f=this.Kc(u);if((f=f&&f.filter((function(t){return s.Qc&&s.Qc[t].Zc&&!("autoDetectResult"in s.Qc[t].Zc)})))&&f.length>0)if(this.Gc);else{f.length>1&&this.Su&&ci.console.warn("LightningChart JS warning - DataSetXY data pushed in order that doesn't match data pattern. Automatic sorting is attempted, but there is more than 1 data pattern mismatch. Behavior may be compromised.");try{for(var c=Va(f),l=c.next();!l.done;l=c.next()){var v=l.value,d=this.Qc?this.Qc[v]:void 0;if(!(d&&d.Zc&&"autoDetectResult"in d.Zc))return this.qc(v,{parsedDataArrs:Object.fromEntries(h.keys.map((function(t){return[t,"number"==typeof u[t]?new Array(1).fill(u[t]):u[t]]}))),offset:0,count:1}),this}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}ci.console.error("LightningChart JS error - data is arriving in wrong order and auto sorting is either disabled or not applicable. Chart functionality is compromised. Following data properties didn't match their configured pattern: ".concat(f.map((function(t){return"'".concat(t,"'")})).join(", ")))}}try{for(var y=Va(h.keys),A=y.next();!A.done;A=y.next()){var b=A.value,p=h.buckets[b].cache;if(p){var m=u[b];p[this.Pc]="number"==typeof m?m:m[0]}}}catch(t){e={error:t}}finally{try{A&&!A.done&&(o=y.return)&&o.call(y)}finally{if(e)throw e.error}}return this.j.D("change",{type:"change",iDataStart:this.Pc,iDataEnd:this.Pc}),this.Pc+=1,this.Pc>h.maxSampleCount-1&&void 0!==this.$c&&(this.Pc=0,this.Vc=!0,this.j.D("loop",{type:"loop"})),this.zc=Math.min(this.zc+1,h.maxSampleCount),this.Nc+=1,this},t.prototype.appendSamples=function(t,i){var n,r,e,o,s,a,u=this,h=Object.entries(t).filter((function(t){return void 0!==Na(t,2)[1]})).map((function(t){return t[0]}));if(0===h.length)return this;var f=Object.entries(t).filter((function(t){var i=Na(t,2)[1];return"object"==typeof i&&"length"in i})).map((function(t){return t[0]})),c=f.reduce((function(i,n){return Math.min(i,t[n].length)}),Number.MAX_SAFE_INTEGER);f.forEach((function(i){var n=t[i];n.length>c&&(ci.console.warn("LightningChart JS warning - insymmetric DataSetXY input (".concat(i,"). Extra measurements will be dropped")),Array.isArray(n)?u.Yc?n.length=c:t[i]=n.slice(0,c):t[i]=n.subarray(0,c))}));var l=null==i?void 0:i.offset,v=null==i?void 0:i.count;if(l=void 0!==l?l:0,(v=void 0!==v?v:c-l)<=0)return this;var d=Object.fromEntries(h.map((function(i){var n,r,e=t[i];return u.Qc&&u.Qc[i]&&void 0!==u.Qc[i].dataStorage||u.Xc||!qa(e)?[i,Ja(t[i],u.Qc&&null!==(r=null===(n=u.Qc[i])||void 0===n?void 0:n.dataStorage)&&void 0!==r?r:Float64Array)]:[i,e]}))),y=this.Jc({appendCount:v,keys:h,parsedDataArrs:d,opts:i});if(Object.entries(y.buckets).forEach((function(t){var i=Na(t,2),n=i[0],r=i[1];if(0===u.zc&&r.ensureNoDuplication){var e=d[n],o=r.cache;if(Array.isArray(e)||o!==e)throw new Error("LightningChart JS error | DataSetXY ensureNoDuplication check failed for '".concat(n,"'"))}})),!y.incomingDataReplacedCache&&this.Rc){var A=this.Kc(d);if((A=A&&A.filter((function(t){return u.Qc&&u.Qc[t].Zc&&!("autoDetectResult"in u.Qc[t].Zc)})))&&A.length>0)if(this.Gc);else{A.length>1&&this.Su&&ci.console.warn("LightningChart JS warning - DataSetXY data pushed in order that doesn't match data pattern. Automatic sorting is attempted, but there is more than 1 data pattern mismatch. Behavior may be compromised.");try{for(var b=Va(A),p=b.next();!p.done;p=b.next()){var m=p.value,g=this.Qc?this.Qc[m]:void 0;if(!(g&&g.Zc&&"autoDetectResult"in g.Zc))return this.qc(m,{parsedDataArrs:Object.fromEntries(h.map((function(t){return[t,"number"==typeof d[t]?new Array(v).fill(d[t]):d[t]]}))),offset:l,count:v}),this}}catch(t){n={error:t}}finally{try{p&&!p.done&&(r=b.return)&&r.call(b)}finally{if(n)throw n.error}}ci.console.error("LightningChart JS error - data is arriving in wrong order and auto sorting is either disabled or not applicable. Chart functionality is compromised. Following data properties didn't match their configured pattern: ".concat(A.map((function(t){return"'".concat(t,"'")})).join(", ")))}}var x=y.maxSampleCount-this.Pc,S=Math.min(v,x);if(S>0){if(!y.incomingDataReplacedCache)try{for(var w=Va(y.keys),M=w.next();!M.done;M=w.next()){var C=M.value,T=y.buckets[C].cache,k=d[C];Xa(T,k,l,S,this.Pc)}}catch(t){e={error:t}}finally{try{M&&!M.done&&(o=w.return)&&o.call(w)}finally{if(e)throw e.error}}this.j.D("change",{type:"change",iDataStart:this.Pc,iDataEnd:this.Pc+S-1}),this.Pc+=S,this.Pc>y.maxSampleCount-1&&(this.Pc=0,this.Vc=!0,this.j.D("loop",{type:"loop"}))}if(this.zc=Math.min(this.zc+S,y.maxSampleCount),this.Nc+=S,v-S>0&&!y.incomingDataReplacedCache){var _={};try{for(var O=Va(y.keys),F=O.next();!F.done;F=O.next())_[C=F.value]=ui(d[C],l+S,void 0)}catch(t){s={error:t}}finally{try{F&&!F.done&&(a=O.return)&&a.call(O)}finally{if(s)throw s.error}}this.appendSamples(_,i)}else this.tl();return this},t.prototype.fill=function(t){var i=this;return this.Qc?(Object.keys(t).forEach((function(t){i.Qc&&!i.Qc[t]&&i.Su&&ci.console.warn("LightningChart JS warning - DataSetXY.fill() tried to fill data property that doesn't exist in schema (\"".concat(t,'")'))})),Object.entries(this.Qc).forEach((function(i){var n=Na(i,2),r=n[0],e=n[1],o=t[r];e.cache&&void 0!==o&&(S(o)&&(o=o.toUint32()),e.cache.fill(o))})),this.j.D("clear",{type:"clear"}),this):this},t.prototype.setSamples=function(t,i){return this.clear().appendSamples(t,i)},t.prototype.alterSamplesStartingFrom=function(t,i,n){var r,e,o,s,a,u,h,f,c,l=this,v=Object.values(i).find((function(t){return"number"!=typeof t})),d=null==n?void 0:n.offset,y=null==n?void 0:n.count,A=v?v.length:1;if(d=void 0!==d?d:0,(y=void 0!==y?y:A-d)<=0)return this;var b=Object.keys(i),p=Object.fromEntries(b.map((function(t){var n,r;return[t,Ja(i[t],l.Qc&&null!==(r=null===(n=l.Qc[t])||void 0===n?void 0:n.dataStorage)&&void 0!==r?r:Float64Array)]}))),m=this.Nc-1,g=void 0!==this.$c?Math.max(this.Nc-this.$c,0):0,x=t+y-1,S=Math.max(t,g),w=Math.min(x,m),M=w-S+1;if(this.Nc>0&&M>0){var C=this.Jc({appendCount:0,keys:b,parsedDataArrs:p,opts:n}),T=null!==(c=null===(f=null===(h=Object.values(C.buckets).find((function(t){return t.cache})))||void 0===h?void 0:h.cache)||void 0===f?void 0:f.length)&&void 0!==c?c:0;if(void 0!==this.$c&&this.Vc&&this.Nc%this.$c!=0){var k=this.Nc-this.Nc%this.$c,_=this.Nc-1,O=this.Nc-this.zc,F=k-1,I=Math.max(S,O),j=Math.min(w,F)-I+1;if(j>0){var B=I-t,D=Ua(I,this.Nc,T,this.Pc);try{for(var L=Va(C.keys),E=L.next();!E.done;E=L.next())Y=E.value,W=C.buckets[Y].cache,X=p[Y],Xa(W,X,d+B,j,D)}catch(t){o={error:t}}finally{try{E&&!E.done&&(s=L.return)&&s.call(L)}finally{if(o)throw o.error}}}var P=Math.max(S,k),z=Math.min(w,_)-P+1;if(z>0){B=P-t,D=Ua(P,this.Nc,T,this.Pc);try{for(var N=Va(C.keys),V=N.next();!V.done;V=N.next())Y=V.value,W=C.buckets[Y].cache,X=p[Y],Xa(W,X,d+B,z,D)}catch(t){a={error:t}}finally{try{V&&!V.done&&(u=N.return)&&u.call(N)}finally{if(a)throw a.error}}}}else{var R=S-g;try{for(var G=Va(C.keys),U=G.next();!U.done;U=G.next()){var Y=U.value,W=C.buckets[Y].cache,X=p[Y];Xa(W,X,d,M,R)}}catch(t){r={error:t}}finally{try{U&&!U.done&&(e=G.return)&&e.call(G)}finally{if(r)throw r.error}}}this.j.D("clear",{type:"clear"})}var H=t+y-1-m;if(H>0){var Z=w+1-t;this.appendSamples(i,{offset:d+Z,count:H})}return this},t.prototype.alterSamplesByIndex=function(t,i){var n,r,e,o=this;if(!this.Qc)return this;var s=t.length,a=Object.keys(i),u=Object.fromEntries(a.map((function(t){var n,r;return[t,Ja(i[t],o.Qc&&null!==(r=null===(n=o.Qc[t])||void 0===n?void 0:n.dataStorage)&&void 0!==r?r:Float64Array)]}))),h=this.Nc-1,f=void 0!==this.$c?Math.max(this.Nc-this.$c,0):0;if(s<=0)return this;for(var c=!1,l=Object.values(this.Qc).find((function(t){return t.cache})).cache.length,v=0;v<s;v+=1){var d=t[v];if(!(d<f||d>h)){var y=Ua(d,this.Nc,l,this.Pc);try{for(var A=(n=void 0,Va(a)),b=A.next();!b.done;b=A.next()){var p=b.value,m=null===(e=this.Qc[p])||void 0===e?void 0:e.cache,g=u[p];m&&(m[y]="number"==typeof g?g:g[v],c=!0)}}catch(t){n={error:t}}finally{try{b&&!b.done&&(r=A.return)&&r.call(A)}finally{if(n)throw n.error}}}}return c&&this.j.D("clear",{type:"clear"}),this},t.prototype.alterSamplesByMatch=function(t,i,n){var r,e,o,s=this;if(!this.Qc)return this;var a=i.length,u=this.zc,h=this.Nc-1,f=Math.max(h-u+1,0),c=Object.keys(n),l=Object.fromEntries(c.map((function(t){var i,r;return[t,Ja(n[t],s.Qc&&null!==(r=null===(i=s.Qc[t])||void 0===i?void 0:i.dataStorage)&&void 0!==r?r:Float64Array)]})));if(a<=0)return this;var v=!1,d=this.Qc[t].cache,y=this.il(t);if(!d)return this;for(var A=d.length,b=0;b<a;b+=1){var p=i[b],m=void 0;if(y){var g=Wa(p,f,h,!0,(function(t){return d[Ua(t,s.Nc,A,s.Pc)]}));m=Ua(g,this.Nc,A,this.Pc)}else for(var x=0;x<A;x+=1)if(d[x]===p){m=x;break}if(void 0!==m){if(d[m]===p)try{for(var S=(r=void 0,Va(c)),w=S.next();!w.done;w=S.next()){var M=w.value,C=null===(o=this.Qc[M])||void 0===o?void 0:o.cache,T=l[M];C&&(C[m]="number"==typeof T?T:T[b],v=!0)}}catch(t){r={error:t}}finally{try{w&&!w.done&&(e=S.return)&&e.call(S)}finally{if(r)throw r.error}}}else this.Su&&ci.console.warn('LightningChart JS warning - DataSetXY.alterSamplesByMatch no match found for "'.concat(t,"=").concat(p,'"'))}return v&&this.j.D("clear",{type:"clear"}),this},t.prototype.tl=function(t){var i=this;void 0===t&&(t=!1),this.Qc&&this.Hc&&Object.entries(this.Qc).forEach((function(n){var r,e=Na(n,2),o=e[0],s=e[1];if(s.cache)if(s.Zc&&"userSpecified"in s.Zc)r=s.Zc.userSpecified;else if(s.Zc&&"autoDetectResult"in s.Zc)r=s.Zc.autoDetectResult;else if(s.cache&&i.Nc>0&&!t){var a=void 0!==i.$c&&i.Vc?i.Pc:0,u=i.zc-1,h=void 0!==i.$c&&i.Vc?0:void 0,f=void 0!==i.$c&&i.Vc?i.Pc-1:void 0,c=Na(void 0!==h&&void 0!==f&&Math.abs(f-h)>Math.abs(u-a)?[h,f]:[a,u],2),l=c[0],v=c[1];if(1+v-l>=5){for(var d=void 0,y=s.cache[l],A=l+1;A<=v;A+=1)if(!1!==d){var b=s.cache[A],p=Math.sign(b-y);0!==p&&d&&d.direction!==p?d=!1:0===p||d||(d={direction:p}),y=b}r=d&&d.direction>0?"progressive":d&&d.direction<0?"regressive":null,s.Zc={autoDetectResult:r,effective:r},i.Su&&ci.console.warn("LightningChart JS DataSetXY warning | Data pattern was detected automatically (".concat(o,"=").concat(r,").\nAutomatic detection is only intended for kick-starting application development, not for production use.\nDefine data patterns in schema when creating series or DataSetXY to clear this warning and improve performance."))}}}))},t.prototype.Jc=function(t){var i,n,r,e,o,s,a,u,h,f,c,l=this;if(this.Qc||(this.Qc=Object.fromEntries(t.keys.map((function(i){return[i,{dataStorage:Ka(t.parsedDataArrs[i]),Zc:void 0}]})))),0===this.zc&&this.Qc&&!this.Xc){var v=this.Qc;t.keys.forEach((function(i){v[i]||(v[i]={dataStorage:Ka(t.parsedDataArrs[i])})}))}if((this.zc>0||this.Xc)&&this.Qc){var d=this.Qc,y=t.keys.filter((function(t){return!d[t]}));if(y.length>0&&t.appendCount>0){if(this.Xc)throw new Error("LightningChart JS error - Input data includes data properties that are not defined in schema. This is not allowed when strict mode is enabled. Extra data properties: ".concat(y.map((function(t){return"'".concat(t,"'")})).join(", ")));this.Su&&ci.console.warn("LightningChart JS warning - Input data includes data properties that are not defined in schema. This is OK for data sets that don't yet have data pushed in, but this was not the case. Extra data properties were dropped: ".concat(y.map((function(t){return"'".concat(t,"'")})).join(", ")))}y.forEach((function(i){delete t.parsedDataArrs[i]})),t.keys=Object.keys(t.parsedDataArrs)}if(Object.entries(this.Qc).forEach((function(i){var n=Na(i,2),r=n[0],e=n[1];e.dataStorage||(e.dataStorage=Ka(t.parsedDataArrs[r]))})),0===this.zc&&1===Object.keys(this.Qc).length&&!this.Xc){var A=(null!==(e=null===(r=t.opts)||void 0===r?void 0:r.step)&&void 0!==e?e:1)>0?"progressive":"regressive";this.Qc._auto={dataStorage:Float64Array,auto:{start:null!==(s=null===(o=t.opts)||void 0===o?void 0:o.start)&&void 0!==s?s:0,step:null!==(u=null===(a=t.opts)||void 0===a?void 0:a.step)&&void 0!==u?u:1},Zc:{userSpecified:A,effective:A}}}Object.entries(this.Qc).forEach((function(i){var n,r,e,o,s,a,u,h,f=Na(i,2),c=f[0],v=f[1];if(v.auto){var d,y=null!==(e=null!==(r=null===(n=t.opts)||void 0===n?void 0:n.step)&&void 0!==r?r:"object"==typeof v.auto?v.auto.step:void 0)&&void 0!==e?e:1;if(0===l.zc)d=null!==(a=null!==(s=null===(o=t.opts)||void 0===o?void 0:o.start)&&void 0!==s?s:"object"==typeof v.auto?v.auto.start:void 0)&&void 0!==a?a:0;else if(void 0!==(null===(u=t.opts)||void 0===u?void 0:u.start))d=t.opts.start;else{var A=l.nl();if(!A)return;d=A[c]+y}for(var b=new(null!==(h=v.dataStorage)&&void 0!==h?h:Float64Array)(t.appendCount),p=0;p<t.appendCount;p+=1)b[p]=d+p*y;t.parsedDataArrs[c]=b}})),t.keys=Object.keys(t.parsedDataArrs);var b=Object.keys(this.Qc).filter((function(i){return!t.keys.includes(i)}));if(b.length>0&&t.appendCount>0){if(this.Xc)throw new Error("LightningChart JS error - Input data is missing keys that were defined in schema. This is not allowed when strict mode is enabled. Missing keys: ".concat(b.map((function(t){return"'".concat(t,"'")})).join(", ")));this.Su&&ci.console.warn("LightningChart JS warning - Input data is missing keys that were defined in schema. They will be filled with `0`. Missing keys: ".concat(b.map((function(t){return"'".concat(t,"'")})).join(", ")))}try{for(var p=Va(b),m=p.next();!m.done;m=p.next()){var g=m.value;t.parsedDataArrs[g]=new(null!==(h=this.Qc[g].dataStorage)&&void 0!==h?h:Float64Array)(t.appendCount).fill(0)}}catch(t){i={error:t}}finally{try{m&&!m.done&&(n=p.return)&&n.call(p)}finally{if(i)throw i.error}}if(t.keys=Object.keys(t.parsedDataArrs),0===this.zc&&0===Object.values(this.Qc).reduce((function(t,i){return t+(i.cache?1:0)}),0)&&(void 0===this.$c||this.$c===t.appendCount)&&this.Yc&&(0===(null===(f=t.opts)||void 0===f?void 0:f.offset)||void 0===(null===(c=t.opts)||void 0===c?void 0:c.offset)))return Object.entries(this.Qc).forEach((function(i){var n,r,e=Na(i,2),o=e[0],s=e[1];s.cache="number"==typeof t.parsedDataArrs[o]?new(null!==(n=s.dataStorage)&&void 0!==n?n:Float64Array)(t.appendCount).fill(t.parsedDataArrs[o]):Ha(t.parsedDataArrs[o],null!==(r=s.dataStorage)&&void 0!==r?r:Float64Array)})),this.tl(),{maxSampleCount:t.appendCount,buckets:this.Qc,incomingDataReplacedCache:!0,keys:t.keys};if(void 0===this.$c){var x=this.zc+t.appendCount;if(!Object.values(this.Qc).find((function(t){return t.cache})))return Object.values(this.Qc).forEach((function(t){var i;t.cache=new(null!==(i=t.dataStorage)&&void 0!==i?i:Float64Array)(x)})),this.tl(),{maxSampleCount:x,buckets:this.Qc,keys:t.keys};var S=Object.values(this.Qc)[0].cache.length;if(S<x){if(!this.Uc.warningDisplayed){var w=ci.performance.now();if(this.Uc.expandEvents=this.Uc.expandEvents.filter((function(t){return w-t.timestamp<5e3})),x>1e3&&this.Uc.expandEvents.push({timestamp:w}),this.Uc.expandEvents.length>5)return this.Su&&ci.console.warn("LightningChart JS warning - DataSetXY append operation was performed more than 5 times in 5 seconds.\nAutomatic max sample count control was enabled.\nFor streaming applications, DataSetXY.setMaxSampleCount() or Series.setMaxSampleCount() should be configured explicitly to get rid of this warning."),this.Uc.warningDisplayed=!0,this.setMaxSampleCount({mode:"auto"}),this.Jc(t)}return Object.values(this.Qc).forEach((function(t){var i,n=new(null!==(i=t.dataStorage)&&void 0!==i?i:Float64Array)(x);n.set(t.cache),t.cache=n})),this.Pc=this.zc,this.tl(),{maxSampleCount:x,buckets:this.Qc,keys:t.keys}}return S>4*x?(Object.values(this.Qc).forEach((function(t){var i,n=new(null!==(i=t.dataStorage)&&void 0!==i?i:Float64Array)(x);n.set(t.cache.subarray(0,l.zc)),t.cache=n})),this.tl(),{maxSampleCount:x,buckets:this.Qc,keys:t.keys}):(this.tl(),{maxSampleCount:x,buckets:this.Qc,keys:t.keys})}t.appendCount+this.zc>this.$c&&this.j.D("maxsamplecountexceed",{type:"maxsamplecountexceed",currentSampleCount:this.zc,currentMaxSampleCount:this.$c,newTotalSampleCount:this.zc+t.appendCount});var M=this.$c;return Object.values(this.Qc).forEach((function(t){var i;t.cache=t.cache||new(null!==(i=t.dataStorage)&&void 0!==i?i:Float64Array)(M)})),this.tl(),{maxSampleCount:M,buckets:this.Qc,keys:t.keys}},t.prototype.getSampleCount=function(){return this.zc},t.prototype.getNextSampleIndex=function(){return this.Nc},t.prototype.il=function(t){var i=this.Qc&&this.Qc[t];if(i)return i.Zc&&"userSpecified"in i.Zc?i.Zc.userSpecified:i.Zc&&"autoDetectResult"in i.Zc?i.Zc.autoDetectResult:void 0},t.prototype.rl=function(t){if(this.Qc){var i=null==t?void 0:t.x,n=null==t?void 0:t.y,r=void 0!==i?this.Qc[i]:void 0,e=void 0!==n?this.Qc[n]:void 0;if(r&&r.Zc&&"userSpecified"in r.Zc){if("progressive"===r.Zc.userSpecified)return"ProgressiveX";if("regressive"===r.Zc.userSpecified)return"RegressiveX"}if(e&&e.Zc&&"userSpecified"in e.Zc){if("progressive"===e.Zc.userSpecified)return"ProgressiveY";if("regressive"===e.Zc.userSpecified)return"RegressiveY"}if(r&&r.Zc&&"autoDetectResult"in r.Zc&&r.Zc.autoDetectResult){if("progressive"===r.Zc.autoDetectResult)return"ProgressiveX";if("regressive"===r.Zc.autoDetectResult)return"RegressiveX"}if(e&&e.Zc&&"autoDetectResult"in e.Zc&&e.Zc.autoDetectResult){if("progressive"===e.Zc.autoDetectResult)return"ProgressiveY";if("regressive"===e.Zc.autoDetectResult)return"RegressiveY"}}},t.prototype.el=function(t){var i,n;if(!t||!this.Qc)return{dataPattern:void 0,ol:Float64Array,sl:Float64Array};var r={dataPattern:this.rl(t)};try{for(var e=Va(Object.keys(t)),o=e.next();!o.done;o=e.next()){var s=o.value,a=t[s];if(void 0!==a){var u=this.Qc[a];u&&u.cache&&("x"===s&&(r.al=u.cache,r.ol=u.dataStorage),"y"===s&&(r.ul=u.cache,r.sl=u.dataStorage),"color"===s&&(r.hl=u.cache),"rotation"===s&&(r.fl=u.cache),"size"===s&&(r.cl=u.cache),"lookupValue"===s&&(r.ll=u.cache))}}}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=e.return)&&n.call(e)}finally{if(i)throw i.error}}return r},t.prototype.setMaxSampleCount=function(t){var i=this;if("object"==typeof t){this.vl&&this.removeEventListener("maxsamplecountexceed",this.vl);var n=t.max,r=t.initial;this.vl=function(t){if(!(void 0!==n&&t.currentMaxSampleCount>=n)){var r=Math.max(2*t.currentMaxSampleCount,t.newTotalSampleCount);void 0!==n&&(r=Math.min(r,n)),i.setMaxSampleCount(r)}},this.addEventListener("maxsamplecountexceed",this.vl),void 0===this.$c&&(void 0!==r?this.setMaxSampleCount(r):this.setMaxSampleCount(Math.min(2*this.zc,void 0!==n?n:Number.MAX_SAFE_INTEGER)))}else if("number"==typeof t){var e=t;if(void 0!==this.$c&&this.$c>e)throw new Error("LightningChart JS | DataSetXY.setMaxSampleCount attempted to shrink data set. This is currently not supported.");if(!this.Qc||!Object.values(this.Qc).find((function(t){return t.cache})))return this.$c=e,this;if(e===this.$c)return this;if(this.Vc&&0!==this.Pc&&this.Pc!==this.getSampleCount())throw new Error("LightningChart JS | DataSetXY.setMaxSampleCount attempted to expand data set that has exceeded its max sample count. This is currently not supported.");this.$c=e,this.zc<e?(this.Pc=this.zc,this.Vc=!1):(this.Pc=0,this.Vc=!0),Object.values(this.Qc).forEach((function(t){var i,n=new(null!==(i=t.dataStorage)&&void 0!==i?i:Float64Array)(e);n.set(t.cache),t.cache=n}))}return this},t.prototype.getMaxSampleCount=function(){return this.$c},t.prototype.clear=function(){return this.Pc=0,this.zc=0,this.Nc=0,this.Vc=!1,this.j.D("clear",{type:"clear"}),this},t.prototype.readBack=function(t){var i;if(!this.Qc)return{data:{},iSampleFirst:0};var n=null===(i=Object.values(this.Qc).find((function(t){return t.cache})))||void 0===i?void 0:i.cache;if(!n)return{data:{},iSampleFirst:0};var r,e=n.length,o=[];if(null==t?void 0:t.onlyInRange){var s=this.Qc[t.onlyInRange.key],a=this.il(t.onlyInRange.key),u=s.cache;if(!a)throw new Error("LightningChart JS - attempted to use `DataSetXY.readBack` with `onlyInRange` without a data pattern.\nThis operation is only supported for progressive data");if(!u)return{data:{},iSampleFirst:0};var h=Math.min(t.onlyInRange.start,t.onlyInRange.end),f=Math.max(t.onlyInRange.start,t.onlyInRange.end),c=Ya(h,f,u,this.Nc,this.zc,this.Pc,a,0);if(!c)return{data:{},iSampleFirst:0};o=c.dataRanges,r=c.iFirstSample}else if(void 0!==this.$c&&this.Vc&&this.Nc%this.$c!=0){var l=this.Pc,v=e-l,d=this.Pc-1;o.push({offset:l,count:v}),o.push({offset:0,count:d+1}),r=this.Nc-e}else o.push({offset:0,count:this.zc}),r=0;var y=o.reduce((function(t,i){return t+i.count}),0),A=Object.fromEntries(Object.entries(this.Qc).filter((function(t){var i=Na(t,2);return i[0],i[1].cache})).map((function(t){var i,n,r,e,s=Na(t,2),a=s[0],u=s[1],h=u.cache;if(1===o.length&&o[0].count===h.length)e=h;else{e=new(null!==(r=u.dataStorage)&&void 0!==r?r:Float64Array)(y);var f=0;try{for(var c=Va(o),l=c.next();!l.done;l=c.next()){var v=l.value;e.set(u.cache.subarray(v.offset,v.offset+v.count),f),f+=v.count}}catch(t){i={error:t}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(i)throw i.error}}}return[a,e]})));return{data:A,iSampleFirst:r}},t.prototype.dl=function(t,i){var n,r,e=this.readBack(i);return{xValues:null!==(n=e.data[t.x])&&void 0!==n?n:new Float64Array,yValues:null!==(r=e.data[t.y])&&void 0!==r?r:new Float64Array,lookupValues:t.lookupValue?e.data[t.lookupValue]:void 0,colors:t.color?e.data[t.color]:void 0,sizes:t.size?e.data[t.size]:void 0,rotations:t.rotation?e.data[t.rotation]:void 0,iSampleFirst:e.iSampleFirst}},t.prototype.yl=function(t){},t.prototype.Al=function(){return{min:0,max:void 0!==this.$c&&this.Vc?this.$c-1:this.zc-1}},t.prototype.bl=function(t){t=Math.min(t,this.zc),this.Nc-=t,this.zc-=t,this.Pc-=t,this.Pc<0&&void 0!==this.$c&&(this.Pc+=this.$c)},t.prototype.qc=function(t,i){var n,r,e=this,o=this.Qc;if(o){var s=this.il(t),a="progressive"===s,u=o[t].cache,h=i.parsedDataArrs[t],f=Object.keys(i.parsedDataArrs);if(s&&u&&h){var c=i.count,l=h[0];if(this.Kc(Object.fromEntries(f.map((function(t){return[t,i.parsedDataArrs[t][i.offset+i.count-1]]}))))){for(var v=u.length,d=this.zc,y=this.Nc-1,A=Math.max(y-d+1,0),b=Wa(l,A,y,a,(function(t){return u[Ua(t,e.Nc,v,e.Pc)]})),p=b-1,m=b+1,g=u[Ua(b,this.Nc,v,this.Pc)],x=m<=this.Nc-1?u[Ua(m,this.Nc,v,this.Pc)]:void 0,S=void 0!==x&&(a&&x<l||!a&&x>l)?m+1:a&&g<l||!a&&g>l?b+1:p+1,w=y-S+1,M=Object.fromEntries(f.map((function(t){var i;return[t,new(null!==(i=o[t].dataStorage)&&void 0!==i?i:Float64Array)(w)]}))),C=0,T=S;T<=y;T+=1){var k=Ua(T,this.Nc,v,this.Pc);try{for(var _=(n=void 0,Va(f)),O=_.next();!O.done;O=_.next()){var F=O.value;M[F][C]=o[F].cache[k]}}catch(t){n={error:t}}finally{try{O&&!O.done&&(r=_.return)&&r.call(_)}finally{if(n)throw n.error}}C+=1}this.bl(w);var I=Object.fromEntries(f.map((function(t){var n,r=new(null!==(n=o[t].dataStorage)&&void 0!==n?n:Float64Array)(c+w);return r.set(i.parsedDataArrs[t]),r.set(M[t],c),[t,r]})));this.Gc=!0,this.appendSamples(I),this.Gc=!1,this.j.D("clear",{type:"clear"})}else{var j=this.nl(),B=j?j[t]:0,D=0;for(T=0;T<c;T+=1)if(h[T]>B){D=T;break}this.Gc=!0,this.appendSamples(i.parsedDataArrs,{offset:D}),this.Gc=!1}}}},t.prototype.Kc=function(t){var i,n,r=this.nl();if(r&&this.Qc){var e=Object.keys(t),o=[];try{for(var s=Va(e),a=s.next();!a.done;a=s.next()){var u=a.value,h=this.il(u);if(h){var f=r[u],c=t[u],l="number"==typeof c?c:c[0];("progressive"===h&&l<f||"regressive"===h&&l>f)&&o.push(u)}}}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o.length>0?o:void 0}},t.prototype.pl=function(t){var i=this.el(t);if(i.al&&i.ul&&0!==this.zc){if(void 0===this.$c)return this.Nc>0?{x:i.al[0],y:i.ul[0]}:void 0;if(!this.Vc)return{x:i.al[0],y:i.ul[0]};var n=this.Pc-this.zc;return n<0&&(n+=this.$c),{x:i.al[n],y:i.ul[n]}}},t.prototype.ml=function(t){var i=this.el(t);if(i.al&&i.ul&&0!==this.zc){if(void 0===this.$c){var n=this.zc-1;return n>=0?{x:i.al[n],y:i.ul[n]}:void 0}var r=this.Pc-1;return r<0&&(r+=this.$c),{x:i.al[r],y:i.ul[r]}}},t.prototype.xl=function(){if(this.Qc&&0!==this.zc){var t;if(void 0===this.$c){if(this.Nc>0)return;t=0}else this.Vc?(t=this.Pc-this.zc)<0&&(t+=this.$c):t=0;return Object.fromEntries(Object.entries(this.Qc).map((function(i){var n=Na(i,2);return[n[0],n[1].cache[t]]})))}},t.prototype.nl=function(){var t;if(this.Qc&&0!==this.zc)return void 0===this.$c?t=this.zc-1:(t=this.Pc-1)<0&&(t+=this.$c),Object.fromEntries(Object.entries(this.Qc).map((function(i){var n=Na(i,2);return[n[0],n[1].cache[t]]})))},t.prototype.Sl=function(t,i){var n=this.el(t);if(this.Qc&&0!==this.zc&&n&&n.al&&n.ul){var r=n.al.length,e=this.zc,o=this.Nc-1,s=Math.max(o-e+1,0)+i,a=Ua(s,this.Nc,r,this.Pc);return{x:n.al[a],y:n.ul[a],lookupValue:n.ll?n.ll[a]:void 0,color:n.hl?n.hl[a]:void 0,size:n.cl?n.cl[a]:void 0,rotation:n.fl?n.fl[a]:void 0,iSample:s,sample:Object.fromEntries(Object.entries(this.Qc).map((function(t){var i=Na(t,2),n=i[0],r=i[1];return[n,r.cache?r.cache[a]:void 0]})))}}},t.prototype.wl=function(t,i,n,r,e){var o=this;if(t){var s=this.Qc,a=this.el(t),u=a.dataPattern,h=a.al,f=a.ul;if(h&&f&&s){var c,l=function(t,i){var n=h[t],r=f[t],e=a.ll?a.ll[t]:void 0,o=a.hl?a.hl[t]:void 0,u=a.cl?a.cl[t]:void 0,c=a.fl?a.fl[t]:void 0,l=Object.fromEntries(Object.entries(s).map((function(i){var n=Na(i,2),r=n[0],e=n[1];return[r,e.cache?e.cache[t]:void 0]})));return{x:n,y:r,lookupValue:e,color:o,size:u,rotation:c,iSample:i,sample:l}},v=h.length,d=this.zc,y=this.Nc-1,A=Math.max(y-d+1,0);if(u){var b=pe(u),p=this.pl(t),m=this.ml(t);if(!(p&&m&&a.al&&a.ul))return;var g="ProgressiveX"===u||"RegressiveX"===u?"x":"y",x="x"===g?"y":"x",S="x"===g?a.al:a.ul,w="x"===x?a.al:a.ul,M=i[g],C=Math.min(p[g],m[g]),T=Math.max(p[g],m[g]);if(M<C||M>T)return;var k=Wa(M,A,y,b,(function(t){return S[Ua(t,o.Nc,v,o.Pc)]})),_=Ua(k,this.Nc,v,this.Pc);if(!n)return l(_,k);var O=k-1,F=k+1,I=S[_],j=b?M>=I?F<=y?F:void 0:O>=A?O:void 0:M<=I?F<=y?F:void 0:O>=A?O:void 0;if(void 0===j)return;var B=Ua(j,this.Nc,v,this.Pc),D=k<j?{pos:S[_],val:w[_],iSample:k}:{pos:S[B],val:w[B],iSample:j},L=k>j?{pos:S[_],val:w[_],iSample:k}:{pos:S[B],val:w[B],iSample:j},E=(M-D.pos)/(L.pos-D.pos),P=me(D.val,L.val,E),z=Object.fromEntries(Object.entries(s).map((function(t){var i=Na(t,2),n=i[0],r=i[1];return[n,r.cache?r.cache[_]:void 0]})));return"x"===be(u)?{x:M,y:P,iSample:me(D.iSample,L.iSample,E),sample:z}:{y:M,x:P,iSample:me(D.iSample,L.iSample,E),sample:z}}for(var N=Number.MAX_VALUE,V=at(i,r,e),R=this.zc-1,G=0;G<=R;G+=1){var U=h[G],Y=f[G];if(!this.Wc||!Number.isNaN(U)&&!Number.isNaN(Y)){var W=st(U,r.x,e.x),X=st(Y,r.y,e.y),H=Math.pow(W-V.x,2)+Math.pow(X-V.y,2);H<N&&(N=H,c=G)}}return void 0===c?void 0:l(c,c)}}},t.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},t.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},t}(),Ua=function(t,i,n,r){return t%n},Ya=function(t,i,n,r,e,o,s,a){if(0!==r&&0!==e){var u="progressive"===s,h=n.length,f=r-1,c=Math.max(f-e+1,0),l=Pa(n)?Wa(t,c,f,u,(function(t){return n.elementAt(Ua(t,r,h))})):Wa(t,c,f,u,(function(t){return n[Ua(t,r,h)]})),v=Pa(n)?Wa(i,c,f,u,(function(t){return n.elementAt(Ua(t,r,h))})):Wa(i,c,f,u,(function(t){return n[Ua(t,r,h)]})),d=Math.min(l,v),y=Math.max(l,v);if(d!==y||0!==d&&d!==f){var A=Math.max(d-a,c),b=Math.min(y+a,f),p=Ua(A,r,h),m=Ua(b,r,h);return p>m?{iFirstSample:A,iLastSample:b,iFirstSampleDataArray:p,iLastSampleDataArray:m,dataRanges:[{offset:p,count:h-p},{offset:0,count:m+1}]}:{iFirstSample:A,iLastSample:b,iFirstSampleDataArray:p,iLastSampleDataArray:m,dataRanges:[{offset:p,count:m-p+1}]}}}},Wa=function(t,i,n,r,e){for(var o=n;i!==n;){var s=Math.ceil((i+n)/2),a=e(s);r&&t<a||!r&&t>a?n=s-1:i=s}var u=Math.abs(t-e(i));return i<o&&Math.abs(t-e(i+1))<u?i+1:i},Xa=function(t,i,n,r,e){if("number"==typeof i)t.fill(i,e,e+r);else{var o=i.length;if(Array.isArray(i))for(var s=0;s<r;s+=1)t[e+s]=i[n+s];else t.set(o===r?i:i.subarray(n,n+r),e)}},Ha=function(t,i){return void 0===t?void 0:Array.isArray(t)?new i(t):t instanceof i?t:new i(t)},Za=/^(\d{4}-\d{2}-\d{2})(?:T(\d{2}:\d{2}:\d{2}(?:\.\d+)?)(Z|[+-]\d{2}:\d{2})?)?$/,Qa=function(t){return"string"==typeof t&&Za.test(t)&&!ci.isNaN(Date.parse(t))},Ja=function(t,i){if("number"==typeof t)return t;if(S(t))return t.toUint32();if(t instanceof Date)return t.getTime();if("string"==typeof t){if(Qa(t))return new Date(t).getTime();throw new Error("LightningChart JS error - XY coordinate supplied as unrecognized String format. Coordinates must be Numbers, Date objects or ISO 8601 Date strings")}var n=t.length,r=t[0]&&t[0]instanceof Date,e=t[0]&&Qa(t[0]),o=t[0]&&S(t[0]);if(!e&&t[0]&&"string"==typeof t[0])throw new Error("LightningChart JS error - XY coordinate supplied as unrecognized String format. Coordinates must be Numbers, Date objects or ISO 8601 Date strings");if(e){for(var s=new i(n),a=0;a<n;a+=1)s[a]=new Date(t[a]).getTime();return s}if(r){for(s=new i(n),a=0;a<n;a+=1)s[a]=t[a].getTime();return s}if(o){var u=t.length,h=new Uint32Array(u);for(a=0;a<u;a+=1){var f=t[a],c=255*f.a<<24|255*f.b<<16|255*f.g<<8|255*f.r;h[a]=c}return h}return t},Ka=function(t){if(t&&Array.isArray(t))return Float64Array;var i="object"==typeof t?Object.getPrototypeOf(t).constructor:void 0;return null!=i?i:Float64Array},qa=function(t){return!!t&&!Array.isArray(t)&&(t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)},$a=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tu=function(){return tu=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},tu.apply(this,arguments)},iu=function(t){function i(i,n,r,e,o){var s,a=this;return(a=t.call(this,i,n,r,e,o)||this).uh="label",a.Hh=a.Yn.ps(a.renderingScale).Wo(a.uh).$r(Vr).As(gn).bs(gn),a.setMargin(null!==(s=o.uiTextPadding)&&void 0!==s?s:5),a.j.Pi(a.Hh),a}return $a(i,t),i.prototype.Ds=function(){return[this.Hh]},i.prototype.setFillStyle=function(t){return this.Hh.$r(t),this.Yn.Fn(),this},i.prototype.getFillStyle=function(){return this.Hh.vo()},i.prototype.ie=function(){void 0!==this.zs&&this.Hh.Zu(this.zs);var t=this.getPosition(h(0,0),Wt.Content),i=at(t,this.scale,this.renderingScale);return this.Hh.ne(i),this.Hh.We=this.We,this},i.prototype.Io=function(){this.Hh.Io();var i=0===this.uh.length?h(0,0):this.Hh.Oc();return this.setContentSize(i),t.prototype.Io.call(this)},i.prototype.setText=function(t){return this.uh=t,this.Hh.Wo(this.uh),this.Yn.Fn(),this},i.prototype.getText=function(){return this.uh},i.prototype.setFont=function(t){return this.Hh.bo(t),this.Yn.Fn(),this},i.prototype.getFont=function(){return this.Hh.Ao()},i.prototype.setTextRotation=function(t){return this.Hh.po(t),this.Yn.Fn(),this},i.prototype.getTextRotation=function(){return this.Hh.mo()},i}(Da),nu=tu(tu(tu({},Gs),Ys),{uiElement:iu}),ru=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.fitTo=s.Ns.bind(s),s.setSize=s.fitTo,s.Hh=s.Yn.Ml(n).$r(Vr).qr(qt),s.Cl=s.Hh.za(),s.j.Pi(s.Hh),s}return $a(i,t),i.prototype.Ds=function(){return[this.Hh]},i.prototype.setCornerRadius=function(t,i){var n,r,e,o;return this.Tl=t,this.Cl.kl(t?{extent:t,c_x1_y1:null===(n=null==i?void 0:i.bottomLeft)||void 0===n||n,c_x1_y2:null===(r=null==i?void 0:i.topLeft)||void 0===r||r,c_x2_y1:null===(e=null==i?void 0:i.bottomRight)||void 0===e||e,c_x2_y2:null===(o=null==i?void 0:i.topRight)||void 0===o||o,skipTooSmallCheck:!!i}:void 0),this.Yn.Fn(),this},i.prototype.getCornerRadius=function(){return this.Tl},i.prototype.setFillStyle=function(t){return this.Hh.$r(t),this.Yn.Fn(),this},i.prototype.getFillStyle=function(){return this.Hh.vo()},i.prototype.setStrokeStyle=function(t){return this.Hh.qr(t),this.Yn.Fn(),this},i.prototype.getStrokeStyle=function(){return this.Hh.zu()},i.prototype.ie=function(){var t=this;void 0!==this.zs&&this.Hh.Zu(this.zs);var i=Zn([this.getPosition(h(-1,-1),Wt.Content),this.getPosition(h(1,1),Wt.Content)].map((function(i){return at(i,t.scale,t.renderingScale)})));return this.Cl._l(i.min.x,i.min.y,i.max.x,i.max.y),this},i.prototype.Ns=function(t){return this.setContentSize(t),this.Yn.Fn(),this},i.prototype.Vs=function(){return 0},i.prototype.Rs=function(){return 0},i.prototype.Us=function(){return 0},i.prototype.Gs=function(){return 0},i}(La),eu=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.Ol=h(0,0),s.Hh=i.Fl(n).ac(0).le(360).$r(Vr).qr(qt),s.j.Pi(s.Hh),s}return $a(i,t),i.prototype.Ds=function(){return[this.Hh]},i.prototype.setFillStyle=function(t){return this.Hh.$r(t),this.Yn.Fn(),this},i.prototype.getFillStyle=function(){return this.Hh.vo()},i.prototype.setStrokeStyle=function(t){return this.Hh.qr(t),this.Yn.Fn(),this},i.prototype.getStrokeStyle=function(){return this.Hh.zu()},i.prototype.ie=function(){void 0!==this.zs&&this.Hh.Zu(this.zs);var t=this.getSize(Wt.Content).x/2;return this.Hh.hc(t*this.renderingScale.oi().x).fc(t*this.renderingScale.oi().y).ne(at(this.getPosition(h(0,0),Wt.Content),this.scale,this.renderingScale)).lc(255).Io(),this},i.prototype.Ns=function(t){var i=Math.sqrt(t.x*t.x/4+t.y*t.y/4);return this.setContentSize(h(2*i,2*i)),this.Ol=t,this.Yn.Fn(),this},i.prototype.Vs=function(){return(this.getSize(Wt.Content).x-this.Ol.x)/2},i.prototype.Rs=function(){return(this.getSize(Wt.Content).x-this.Ol.x)/2},i.prototype.Us=function(){return(this.getSize(Wt.Content).y-this.Ol.y)/2},i.prototype.Gs=function(){return(this.getSize(Wt.Content).y-this.Ol.y)/2},i.prototype.fitTo=function(t){var i=Math.min(t.x,t.y);return this.setContentSize(h(i,i)),this.Ol=t,this},i}(La),ou=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,pa.Simple,e,o)||this;return s.Il=A(h(0,0)),s.jl=!1,s.Lc(),s}return $a(i,t),i.prototype.Ec=function(){var t=this.Il.T();if(this.jl){var i=Math.min(t.x,t.y);return[h(0,0),h(i/2,i/2),h(0,i),h(-i/2,i/2)]}var n=2*Math.sqrt(this.Il.T().x*this.Il.T().x/4+this.Il.T().y*this.Il.T().y/4),r=h(Math.cos(Math.PI/4)*n,0),e=h(0,Math.sin(Math.PI/4)*n),o=h(0,0),s=or(o,or(r,e)),a=or(s,or(e,er(r,-1)));return[o,s,a,sr(a,or(r,e))]},i.prototype.Ds=function(){return[this.Hh]},i.prototype.setFillStyle=function(t){return this.Hh.$r(t),this.Yn.Fn(),this},i.prototype.getFillStyle=function(){return this.Hh.vo()},i.prototype.setStrokeStyle=function(t){return this.Hh.qr(t),this.Yn.Fn(),this},i.prototype.getStrokeStyle=function(){return this.Hh.zu()},i.prototype.Ns=function(t){return this.Il.C(t),this.jl=!1,this.Yn.Fn(),this},i.prototype.Vs=function(){return this.jl?0:(this.getSize(Wt.Content).x-this.Il.T().x)/2},i.prototype.Rs=function(){return this.jl?0:(this.getSize(Wt.Content).x-this.Il.T().x)/2},i.prototype.Us=function(){return this.jl?0:(this.getSize(Wt.Content).y-this.Il.T().y)/2},i.prototype.Gs=function(){return this.jl?0:(this.getSize(Wt.Content).y-this.Il.T().y)/2},i.prototype.fitTo=function(t){return this.Il.C(t),this.jl=!0,this.Yn.Fn(),this},i}(Ea),su=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,pa.Simple,e,o)||this;return s.Bl=A(h(0,0)),s.Dl=A(10),s.Ll=A(void 0),s.Js=A(Zt.Right),s.Lc(),s}return $a(i,t),i.prototype.Ds=function(){return[this.Hh]},i.prototype.setFillStyle=function(t){return this.Hh.$r(t),this.Yn.Fn(),this},i.prototype.getFillStyle=function(){return this.Hh.vo()},i.prototype.setStrokeStyle=function(t){return this.Hh.qr(t),this.Yn.Fn(),this},i.prototype.getStrokeStyle=function(){return this.Hh.zu()},i.prototype.setDirection=function(t){return this.Js.C(t),this.Yn.Fn(),this},i.prototype.getDirection=function(){return this.Js.T()},i.prototype.setPointerLength=function(t){return this.Dl.C(t),this.Yn.Fn(),this},i.prototype.getPointerLength=function(){return this.Dl.T()},i.prototype.setPointerAngle=function(t){return this.Ll.C(t),this.Yn.Fn(),this},i.prototype.getPointerAngle=function(){var t=this.Ll.T();if(void 0===t){var i=this.El();if(0===i)return 0;t=0!==i?180*Math.atan(2*this.getPointerLength()/i)/Math.PI:0}return Math.min(Math.max(t,1),89)},i.prototype.Ns=function(t){return this.Bl.C(t),this.Yn.Fn(),this},i.prototype.Pl=function(){var t=this.getPointerAngle();return 0===t?0:2*this.getPointerLength()/Math.tan(t*Math.PI/180)},i.prototype.zl=function(){return Ei(this.Js.T())?this.Bl.T().x:this.Bl.T().y},i.prototype.El=function(){return Ei(this.Js.T())?this.Bl.T().y:this.Bl.T().x},i.prototype.Vs=function(){switch(this.Js.T()){case Zt.Right:return 0;case Zt.Left:return this.getPointerLength();case Zt.Up:case Zt.Down:return Math.max(0,this.Pl()-this.El());default:return 0}},i.prototype.Rs=function(){switch(this.Js.T()){case Zt.Right:return this.getPointerLength();case Zt.Left:return 0;case Zt.Up:case Zt.Down:return Math.max(0,this.Pl()-this.El());default:return 0}},i.prototype.Us=function(){switch(this.Js.T()){case Zt.Right:case Zt.Left:return Math.max(0,this.Pl()-this.El());case Zt.Up:return this.getPointerLength();case Zt.Down:default:return 0}},i.prototype.Gs=function(){switch(this.Js.T()){case Zt.Right:case Zt.Left:return Math.max(0,this.Pl()-this.El());case Zt.Up:return 0;case Zt.Down:return this.getPointerLength();default:return 0}},i.prototype.Ec=function(){var t=Li(this.Js.T()),i=nr(h(0,0),t),n=this.getPointerLength(),r=this.Pl(),e=this.zl(),o=this.El();if(!(0!==n&&0!==r||0!==e&&0!==o))return[];var s=h(0,0),a=or(or(s,er(t,-n)),er(i,r/2)),u=or(a,er(i,(o-r)/2)),f=or(u,er(t,-e)),c=or(or(s,er(t,-n)),er(i,-r/2)),l=or(c,er(i,-(o-r)/2)),v=or(l,er(t,-e));return 0===e||0===o?[s,a,c]:0===n||0===r?[u,f,v,l]:bi(o,r)?[s,a,f,v,c]:[s,a,u,f,v,l,c]},i}(Ea),au=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.fitTo=s.Ns.bind(s),s.setSize=s.fitTo,s.Nl=new Ga,s.Hh=s.Yn.Ul(n).fe(qt).Gl(Vr).Rl(Vr).Vl(s.Nl,{x:"x",y:"y"}),s.j.Pi(s.Hh),s}return $a(i,t),i.prototype.Ds=function(){return[this.Hh]},i.prototype.setShape=function(t){return this.Hh.Yl(t),this},i.prototype.getShape=function(){return this.Hh.Wl()},i.prototype.setRotation=function(t){return this.Hh.Xl(t),this},i.prototype.getRotation=function(){return this.Hh.Hl()},i.prototype.setFillStyle=function(t){return this.Hh.Rl(t),this.Yn.Fn(),this},i.prototype.getFillStyle=function(){return this.Hh.Zl()},i.prototype.setStrokeStyle=function(t){return this.Hh.Ql(t),this.Yn.Fn(),this},i.prototype.getStrokeStyle=function(){return this.Hh.Jl()},i.prototype.ie=function(){void 0!==this.zs&&this.Hh.Zu(this.zs);var t=at(this.getPosition({x:0,y:0},Wt.Content),this.scale,this.renderingScale),i=Math.max(this.size.x,this.size.y);if(this.Nl.clear(),i>0){var n=this.Hh.Wl(),r=this.Hh.Zl(),e=$e(n)&&n,o=Jt(r)&&r;if(e){var s=i/e.Mt().y;this.Hh.Kl(s)}else if(o){var a=o.source;a instanceof Image&&(s=i/a.height,this.Hh.Kl(s))}else this.Hh.Kl(i);this.Nl.appendSample(t)}return this},i.prototype.Ns=function(t){return this.setContentSize(t),this.Yn.Fn(),this},i.prototype.Vs=function(){return 0},i.prototype.Rs=function(){return 0},i.prototype.Us=function(){return 0},i.prototype.Gs=function(){return 0},i}(Da),uu=tu(tu(tu({},Gs),Ys),{uiElement:au}),hu=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fu=function(){return fu=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},fu.apply(this,arguments)},cu=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return hu(i,t),i.prototype.setSize=function(t){return this.setContentSize(t),this.Yn.Fn(),this},i}(Hs),lu=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.ql=[],i.$l=0,i.tv=function(t){var n=i.ql.indexOf(t);n>=0&&i.ql.splice(n,1)},i}return hu(i,t),i.prototype.getMembers=function(){return this.ql},i.prototype.getMemberCount=function(){return this.ql.length},i.prototype.setMinimumSize=function(t){return this.nv=t,this.Yn.Fn(),this},i.prototype.getMinimumSize=function(){return this.nv},i.prototype.addElement=function(t,i){void 0===i&&(i=-1);var n=t.na(this.Yn,this.renderingScale,this.scale,this.tv,this.xi,!1);return n.setPointerEvents(this.getPointerEvents()),i>=0?this.ql.splice(i,0,n):this.ql.push(n),n.setVisible(this.getVisible()),this.j.Vi(n),this.fi&&(un(0,(function(){})),n.dispose()),n},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.ql.slice().forEach(yi),this},i.prototype.ie=function(){var i=this;t.prototype.ie.call(this),this.ql.forEach((function(t){t.We=i.We}));var n=this.zs;return void 0!==n&&this.ql.forEach((function(t,i){t.zs=n+1+.01*i})),this},i.prototype.setVisible=function(i){return t.prototype.setVisible.call(this,i),this.ql.forEach((function(t){return t.setVisible(i)})),this},i.prototype.setPointerEvents=function(i){t.prototype.setPointerEvents.call(this,i);for(var n=0;n<this.ql.length;n+=1)this.ql[n].setPointerEvents(i);return this},i.prototype.getPointerEvents=function(){if(t.prototype.getPointerEvents.call(this))return!0;for(var i=0;i<this.ql.length;i+=1)if(this.ql[i].getPointerEvents())return!0;return!1},i.prototype.setHighlight=function(i){t.prototype.setHighlight.call(this,i);for(var n=0;n<this.ql.length;n+=1){var r=this.ql[n];ei(r)&&r.setHighlight(i)}return this},i}(js),vu=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return hu(i,t),i.prototype.ie=function(){var i=this;t.prototype.ie.call(this);var n=this.getPosition(h(-1,1),Wt.Content),r=this.ql.reduce((function(t,i){return t+ +(i instanceof cu)}),0),e=r>0?(this.size.x-this.$l)/r:0;return this.ql.reduce((function(t,r){return r instanceof cu?i.scale.Jt({x:t,y:n.y},{x:e+r.getSize().x,y:0}).x:r.setOrigin(h(-1,1)).setPosition(h(t,n.y)).ie().getPosition(h(1,0)).x}),n.x),this},i.prototype.Io=function(){for(var i=0;i<this.ql.length;i+=1)(e=this.ql[i])instanceof du&&e.setMinimumSize(0),e.Io();var n=this.ql.reduce(this.rv.bind(this),f(0,0));this.$l=n.x;var r=void 0===this.nv?n:h(Math.max(n.x,this.nv),n.y);for(this.setContentSize(r),i=0;i<this.ql.length;i+=1){var e;(e=this.ql[i])instanceof du&&e.setMinimumSize(r.y).Io()}return t.prototype.Io.call(this)},i.prototype.rv=function(t,i){var n=i.getSize();return t.x+=n.x,t.y=Math.max(t.y,n.y),t},i.prototype.addGap=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=-1),this.addElement(yu,i).setSize(h(0,t))},i}(lu),du=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return hu(i,t),i.prototype.ie=function(){var i=this;t.prototype.ie.call(this);var n=this.getPosition(h(-1,1),Wt.Content),r=this.ql.reduce((function(t,i){return t+ +(i instanceof cu)}),0),e=r>0?(this.size.y-this.$l)/r:0;return this.ql.reduce((function(t,r){return r instanceof cu?i.scale.Jt({x:n.x,y:t},{x:0,y:-(e+r.getSize().y)}).y:r.setOrigin(h(-1,1)).setPosition(h(n.x,t)).ie().getPosition(h(0,-1)).y}),n.y),this},i.prototype.Io=function(){for(var i=0;i<this.ql.length;i+=1)(e=this.ql[i])instanceof vu&&e.setMinimumSize(0),e.Io();var n=this.ql.reduce(this.rv.bind(this),f(0,0));this.$l=n.y;var r=void 0===this.nv?n:h(n.x,Math.max(n.y,this.nv));for(this.setContentSize(r),i=0;i<this.ql.length;i+=1){var e;(e=this.ql[i])instanceof vu&&e.setMinimumSize(r.x).Io()}return t.prototype.Io.call(this)},i.prototype.rv=function(t,i){var n=i.getSize();return t.y+=n.y,t.x=Math.max(t.x,n.x),t},i.prototype.addGap=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=-1),this.addElement(yu,i).setSize(h(0,t))},i}(lu),yu=fu(fu(fu({},Gs),Ys),{uiElement:cu}),Au=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.ql=[],i}return hu(i,t),i.prototype.addColumn=function(){return this.addElement(mu,void 0)},i.prototype.getColumn=function(t,i){return void 0===i&&(i=!1),i&&this.ql.length<=t?(this.addColumn(),this.getColumn(t,!0)):this.ql[t]},i}(vu),bu=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.ql=[],i}return hu(i,t),i.prototype.addRow=function(){return this.addElement(gu,void 0)},i.prototype.getRow=function(t,i){return void 0===i&&(i=!1),i&&this.ql.length<=t?(this.addRow(),this.getRow(t,!0)):this.ql[t]},i}(du),pu=fu(fu(fu({},Gs),Us),Ws),mu=fu(fu({},pu),{uiElement:du,background:ru}),gu=fu(fu({},pu),{uiElement:vu,background:ru}),xu={setTextLabel:null,setText:function(t){return this.setTextLabel.setText(t),this},getText:function(){return this.setTextLabel.getText()}},Su=(Ma=[],(Ca={})[Ta="stylable".concat(wa="Text","s")]=Ma,Ca["set".concat(wa,"FillStyle")]=function(t){return this[Ta].forEach((function(i){return i.setFillStyle(t)})),this},Ca["get".concat(wa,"FillStyle")]=function(){return this[Ta][0].getFillStyle()},Ca["set".concat(wa,"Font")]=function(t){return this[Ta].forEach((function(i){return i.setFont(t)})),this},Ca["get".concat(wa,"Font")]=function(){return this[Ta][0].getFont()},Ca["set".concat(wa,"Rotation")]=function(t){return this[Ta].forEach((function(i){return i.setTextRotation(t)})),this},Ca["get".concat(wa,"Rotation")]=function(){return this[Ta][0].getTextRotation()},Ca),wu={button:void 0,isLocked:!1,setOn:function(t){var i=this.button.getOn()!==t;return this.button.setOn(t),i&&this.j.D("switch",{state:t}),this},getOn:function(){return this.button.getOn()},setLocked:function(t){return this.isLocked=t,this},getLocked:function(){return this.isLocked},setButtonOffFillStyle:function(t){return this.button.setOffFillStyle(t),this},getButtonOffFillStyle:function(){return this.button.getOffFillStyle()},setButtonOnFillStyle:function(t){return this.button.setOnFillStyle(t),this},getButtonOnFillStyle:function(){return this.button.getOnFillStyle()},setButtonStrokeStyle:function(t){return this.button.setStrokeStyle(t),this},getButtonStrokeStyle:function(){return this.button.getStrokeStyle()},setButtonSize:function(t){return this.button.setSize(t),this},getButtonSize:function(){return this.button.getSize()},setButtonShape:function(t){return this.button.setButtonShape(t),this},getButtonShape:function(){return this.button.getButtonShape()}},Mu={textFillStyleHidden:void 0,setTextFillStyleHidden:function(t){return this.textFillStyleHidden="function"==typeof t?t(this.textFillStyleHidden):t,this},getTextFillStyleHidden:function(){return this.textFillStyleHidden}},Cu={pointable:void 0,setDirection:function(t){return this.pointable.setDirection(t),this},getDirection:function(){return this.pointable.getDirection()},setPointerLength:function(t){return this.pointable.setPointerLength(t),this},getPointerLength:function(){return this.pointable.getPointerLength()}},Tu=function(){return Tu=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Tu.apply(this,arguments)},ku=Tu(Tu(Tu({},Gs),Us),{background:ru,na:function(t,i,n,r,e,o){var s=new vu(t,i,n,this.background,r,e),a=s.addElement(nu,void 0),u=Object.assign(s,xu,{setTextLabel:a},Su,{stylableTexts:[a]});return Rs(u,e,o),this.applyStylers(u,e)}}).addStyler(Vs),_u=Tu(Tu(Tu({},Gs),Us),{background:su,direction:Zt.Up,setDirection:function(t){return this.direction=t,this},na:function(t,i,n,r,e,o){var s=this.direction,a=new vu(t,i,n,this.background,r,e),u=a.addElement(nu,void 0),h=a.getBackground().setDirection(s),f=a.ie.bind(a),c=Object.assign(a,xu,{setTextLabel:u},Su,{stylableTexts:[u]},Cu,{pointable:h},{setTickLabelPadding:function(t){return this.getDirection()===Zt.Up?(this.setPadding({top:t}),u.setMargin({top:0})):this.getDirection()===Zt.Down?(this.setPadding({bottom:t}),u.setMargin({bottom:0})):this.getDirection()===Zt.Right?(this.setPadding({right:t}),u.setMargin({right:0})):this.getDirection()===Zt.Left&&(this.setPadding({left:t}),u.setMargin({left:0})),this},getTickLabelPadding:function(){return this.getDirection()===Zt.Up?this.getPadding().top:this.getDirection()===Zt.Down?this.getPadding().bottom:this.getDirection()===Zt.Right?this.getPadding().right:this.getPadding().left},setTickLabelAlignment:function(t,i){return this},getTickLabelAlignment:function(){return 0},We:void 0,ie:function(){u.We=this.We,f()}});return c.ra="other",c.setPointerLength(e.xAxisNumericTicks.majorTickStyle.getTickLength()).setTickLabelPadding(e.xAxisNumericTicks.majorTickStyle.getTickPadding()).setTextFont(e.uiTextFont).setTextFillStyle(e.uiTextFillStyle).setBackground((function(t){return t.setFillStyle(e.uiBackgroundFillStyle).setStrokeStyle(e.uiBackgroundStrokeStyle)})),Rs(c,e,o),this.applyStylers(c,e)}}),Ou=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fu=function(){return Fu=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Fu.apply(this,arguments)},Iu=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,o,s)||this;return a.ev=!1,a.ov=Vr,a.sv=Vr,a.getOn=function(){return a.ev},a.sv=s.uiButtonFillStyleHidden||s.uiButtonFillStyle,a.av=new au(a.Yn,a.renderingScale,a.scale,Ai,s).setShape(e).setFillStyle(a.sv),a.j.Vi(a.av),a}return Ou(i,t),i.prototype.Ds=function(){return function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}([],function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(this.av.Ds()),!1)},i.prototype.setOn=function(t){return this.ev=t,this.av.setFillStyle(t?this.ov:this.sv),this.Yn.Fn(),this},i.prototype.setOffFillStyle=function(t){return this.sv="function"==typeof t?t(this.sv):t,this.ev||this.av.setFillStyle(this.sv),this},i.prototype.getOffFillStyle=function(){return this.sv},i.prototype.setSize=function(t){return this.av.fitTo("number"==typeof t?h(t,t):t),this},i.prototype.getSize=function(){return this.av.getSize()},i.prototype.setOnFillStyle=function(t){return this.ov="function"==typeof t?t(this.ov):t,this.ev&&this.av.setFillStyle(this.ov),this},i.prototype.getOnFillStyle=function(){return this.ov},i.prototype.setStrokeStyle=function(t){return this.av.setStrokeStyle(t),this},i.prototype.getStrokeStyle=function(){return this.av.getStrokeStyle()},i.prototype.setButtonShape=function(t){return this.av.setShape(t),this.Yn.Fn(),this},i.prototype.getButtonShape=function(){return this.av.getShape()},i.prototype.ie=function(){return t.prototype.ie.call(this),this.av.zs=this.zs,this.av.setVisible(this.getVisible()).setPosition(this.getPosition(h(0,0),Wt.Content)).ie(),this},i.prototype.Io=function(){var i=this.av.Io().getSize();return this.setContentSize(i),t.prototype.Io.call(this)},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.av.dispose(),this},i.prototype.setPointerEvents=function(t){return this.av.setPointerEvents(t),this},i.prototype.getPointerEvents=function(){return this.av.getPointerEvents()},i.prototype.setHighlight=function(t){var i=vn(t);return this.av.setHighlight(i),this.j.D("highlightchange",{highlight:i}),this.Yn.Fn(),this},i.prototype.getHighlight=function(){return this.av.getHighlight()},i}(Is),ju=Fu(Fu({},Gs),{uiElement:Iu,buttonShape:ve.Circle,setButtonShape:function(t){return Fu(Fu({},this),{buttonShape:t})},na:function(t,i,n,r,e,o){var s=this.applyStylers(new this.uiElement(t,i,n,this.buttonShape,r,e),e);return Rs(s,e,o),s}}),Bu=function(){return Bu=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Bu.apply(this,arguments)},Du=Bu(Bu(Bu({},Gs),Us),{background:ru,buttonBuilder:ju,setButtonShape:function(t){return Bu(Bu({},this),{buttonBuilder:this.buttonBuilder.setButtonShape(t)})},na:function(t,i,n,r,e,o){var s,a=new vu(t,i,n,this.background,r,e),u=a.addElement(mu);u.addGap();var h=u.addElement(this.buttonBuilder);u.addGap();var f=a.addElement(mu);f.addGap();var c=f.addElement(nu);f.addGap(),a.addGap();var l,v=Object.assign(a,xu,{setTextLabel:c},Su,{stylableTexts:[c]},wu,{button:h},Mu);return v.addEventListener("click",(function(){v.getLocked()||v.setOn(!v.getOn())})),v.addEventListener("pointerenter",(function(){v.setHighlight(!0)})),v.addEventListener("pointerleave",(function(){v.setHighlight(!1)})),v.setMouseStyle(vo.Point),v.setTextFillStyleHidden(e.uiTextFillStyleHidden||e.uiTextFillStyle),v.addEventListener("switch",(function(t){t.state?l&&v.setTextFillStyle(l):(l=v.getTextFillStyle(),v.setTextFillStyle(v.getTextFillStyleHidden()))})),v.setPadding({left:null!==(s=e.uiTextPadding)&&void 0!==s?s:5}),Rs(v,e,o),this.applyStylers(v,e)}}).addStyler(Vs).addStyler((function(t,i){return t.setButtonOnFillStyle(i.uiButtonFillStyle).setButtonOffFillStyle(i.uiButtonFillStyleHidden).setButtonSize(i.uiButtonSize).setButtonStrokeStyle(i.uiButtonStrokeStyle),t})),Lu=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Eu=function(){return Eu=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Eu.apply(this,arguments)},Pu=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.uv=10,s.hv=Zt.Up,s.fv=0,s.ra="major",s.cv=0,s.lv=1,s.uh=i.ps(s.renderingScale).As(gn).bs(gn),s.j.Pi(s.uh),s.he=i.ce(s.renderingScale),s.j.Pi(s.he),s}return Lu(i,t),i.prototype.Ds=function(){return[this.uh]},i.prototype.ie=function(){if(t.prototype.ie.call(this),this.fi)return this;var i=at(this.getPosition(),this.scale,this.renderingScale),n=this.renderingScale.Jt(i,{x:this.hv===Zt.Right?-this.uv:this.hv===Zt.Left?this.uv:0,y:this.hv===Zt.Up?-this.uv:this.hv===Zt.Down?this.uv:0}),r=this.renderingScale.Jt(n,{x:this.hv===Zt.Right?-this.fv:this.hv===Zt.Left?this.fv:0,y:this.hv===Zt.Up?-this.fv:this.hv===Zt.Down?this.fv:0});return this.he.ve(i).le(n),this.uh.ne(r).Uh(this.hv===Zt.Up?{x:this.cv,y:this.lv}:this.hv===Zt.Down?{x:this.cv,y:-this.lv}:this.hv===Zt.Right?{x:this.lv,y:this.cv}:{x:-this.lv,y:this.cv}),this.uh.We=this.We,this},i.prototype.Io=function(){var i=this.he.oa().getThickness();return this.size=this.hv===Zt.Left||this.hv===Zt.Right?{x:this.uv+this.fv+this.uh.Io().Oc().x,y:i}:{y:this.uv+this.fv+this.uh.Io().Oc().y,x:i},t.prototype.Io.call(this)},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.uh.dispose(),this.he.dispose(),this},i.prototype.setVisible=function(i){return t.prototype.setVisible.call(this,i),this.uh.setVisible(i),this.he.setVisible(i),this},i.prototype.setPointerEvents=function(t){return this.uh.setPointerEvents(t),this.he.setPointerEvents(t),this},i.prototype.getPointerEvents=function(){return this.uh.getPointerEvents()},i.prototype.getText=function(){return this.uh.Zo()},i.prototype.setTextFillStyle=function(t){return this.uh.$r(t),this.Yn.Fn(),this},i.prototype.getTextFillStyle=function(){return this.uh.vo()},i.prototype.setTextFont=function(t){return this.uh.bo(t),this},i.prototype.setTextRotation=function(t){return this.uh.po(t),this},i.prototype.getTextRotation=function(){return this.uh.mo()},i.prototype.getTextFont=function(){return this.uh.Ao()},i.prototype.setText=function(t){return this.uh.Wo(t),this.Yn.Fn(),this},i.prototype.setDirection=function(t){return this.hv=t,this.Yn.Fn(),this},i.prototype.getDirection=function(){return this.hv},i.prototype.setPointerLength=function(t){return this.uv=t,this.Yn.Fn(),this},i.prototype.getPointerLength=function(){return this.uv},i.prototype.setTickLabelPadding=function(t){return this.fv=t,this.Yn.Fn(),this},i.prototype.getTickLabelPadding=function(){return this.fv},i.prototype.setTickStyle=function(t){return this.he.fe(t),this.Yn.Fn(),this},i.prototype.getTickStyle=function(){return this.he.oa()},i.prototype.setTickLabelAlignment=function(t,i){return this.cv=t,i&&(this.lv=i),this.Yn.Fn(),this},i.prototype.getTickLabelAlignment=function(){return this.cv},i}(Is),zu=Eu(Eu({},Gs),{direction:Zt.Up,setDirection:function(t){return this.direction=t,this},na:function(t,i,n,r,e,o){var s=this.direction,a=new Pu(t,i,n,r,e);return Rs(a,e,o),a.setDirection(s),this.applyStylers(a,e)}}).addStyler(Vs),Nu=zu.addStyler((function(t,i){return t.ra="major",t.setPointerLength(i.xAxisNumericTicks.majorTickStyle.tickLength).setTickLabelPadding(i.xAxisNumericTicks.majorTickStyle.tickPadding).setTickStyle(i.xAxisNumericTicks.majorTickStyle.tickStyle).setTextFont(i.xAxisNumericTicks.majorTickStyle.labelFont).setTextFillStyle(i.xAxisNumericTicks.majorTickStyle.labelFillStyle)})),Vu=zu.addStyler((function(t,i){return t.ra="minor",t.setPointerLength(i.xAxisNumericTicks.minorTickStyle.tickLength).setTickLabelPadding(i.xAxisNumericTicks.minorTickStyle.tickPadding).setTickStyle(i.xAxisNumericTicks.minorTickStyle.tickStyle).setTextFont(i.xAxisNumericTicks.minorTickStyle.labelFont).setTextFillStyle(i.xAxisNumericTicks.minorTickStyle.labelFillStyle)})),Ru=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gu=function(){return Gu=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Gu.apply(this,arguments)},Uu=function(t){function i(i,n,r,e,o,s){var a,u,h,f,c,l,v=this;return(v=t.call(this,i,n,r,e,o)||this).vv=[],v.dv="",v.yv=function(t,i){return void 0!==t.label?t.label:i.percentageValues?"".concat((100*t.value).toFixed(0),"%"):Er(i,t.value)},v.Av=0,v.bv=!1,v.cv=s,v.pv=i.Ml(n).qr(qt),v.Cl=v.pv.za().kl("number"==typeof o.legendLUTCornerRadius?{extent:o.legendLUTCornerRadius,c_x1_y1:!0,c_x1_y2:!0,c_x2_y1:!0,c_x2_y2:!0}:void 0),v.j.Pi(v.pv),v.mv=i.ps(n).$r(o.uiTextFillStyle).bo(o.uiTextFont).setPointerEvents(!1),v.j.Pi(v.mv),v.gv=null!==(a=o.legendLUTLabelMargin)&&void 0!==a?a:7,v.xv=null!==(u=o.legendLUTUnitLabelMargin)&&void 0!==u?u:7,"vertical"===s?(v.Sv=null!==(h=o.legendLUTLengthVertical)&&void 0!==h?h:140,v.wv=null!==(f=o.legendLUTThicknessVertical)&&void 0!==f?f:25):(v.Sv=null!==(c=o.legendLUTLengthHorizontal)&&void 0!==c?c:160,v.wv=null!==(l=o.legendLUTThicknessHorizontal)&&void 0!==l?l:15),v}return Ru(i,t),i.prototype.Ds=function(){return[this.pv,this.mv]},i.prototype.Mv=function(t){return this.mv.As(t),this.vv.forEach((function(i){return i.As(t)})),this.Yn.Fn(),this},i.prototype.Cv=function(t){this.Tv=t;var i=Xu(t,"vertical"===this.cv?0:90,this.bv);return this.pv.$r(i),this.Yn.Fn(),this},i.prototype.Rn=function(){return this.Tv},i.prototype.kv=function(t){return this.Sv=t,this.Yn.Fn(),this},i.prototype.Uh=function(t){return this.cv=t,this.Yn.Fn(),this},i.prototype._v=function(){return this.Sv},i.prototype.Ov=function(t){return this.wv=t,this.Yn.Fn(),this},i.prototype.Fv=function(){return this.wv},i.prototype.Iv=function(t){return this.dv=t,this.Yn.Fn(),this},i.prototype.jv=function(){return this.dv},i.prototype.Bv=function(t){return this.yv=t,this.Yn.Fn(),this},i.prototype.setLUTDisplayProportionalSteps=function(t){if(this.bv=t,this.Tv){var i=Xu(this.Tv,"vertical"===this.cv?0:90,this.bv);this.pv.$r(i)}return this.Yn.Fn(),this},i.prototype.getLUTDisplayProportionalSteps=function(){return this.bv},i.prototype.setFillStyle=function(t){return this.mv.$r(t),this.Yn.Fn(),this},i.prototype.getFillStyle=function(){return this.mv.vo()},i.prototype.setFont=function(t){return this.mv.bo(t),this.Yn.Fn(),this},i.prototype.getFont=function(){return this.mv.Ao()},i.prototype.setTextRotation=function(t){return this.Av=t,this.mv.po(t),this.Yn.Fn(),this},i.prototype.getTextRotation=function(){return this.mv.mo()},i.prototype.ie=function(){var i,n,r,e,o=this;if(t.prototype.ie.call(this),this.fi||!this.getVisible())return this;var s=this.Tv;if(s){var a=this.renderingScale.oi(),u=s.min,h=s.max;if("vertical"===this.cv){var f={x:(A=or(l=this.getPosition({x:-1,y:-1},Wt.Content),{x:this.wv*this.renderingScale.x.getPixelSize()+this.gv*a.x,y:0})).x,y:A.y+(this.dv.length>0?this.xv*a.y+this.mv.Mt().y:0)+.5*((null===(i=this.vv[0])||void 0===i?void 0:i.Mt().y)||0)},c={x:f.x,y:this.getPosition({x:-1,y:1},Wt.Content).y-.5*((null===(n=this.vv[this.vv.length-1])||void 0===n?void 0:n.Mt().y)||0)};this.Cl._l(l.x,f.y,l.x+this.wv*this.renderingScale.x.getPixelSize(),f.y+this.Sv*this.renderingScale.y.getPixelSize()),this.mv.Uh({x:-1,y:-1}).ne(A),s.getSteps().forEach((function(t,i){var n=Xn(f,c,o.bv?!0===s.getInterpolation()?(t.value-u)/(h-u):.9*(t.value-u)/(h-u):!0===s.getInterpolation()?i/(s.getSteps().length-1):i/s.getSteps().length);o.vv[i].Uh({x:-1,y:0}).ne(n)}))}else{var l=this.getPosition({x:-1,y:-1},Wt.Content),v=this.getPosition({x:1,y:1},Wt.Content),d=Math.max(this.vv.reduce((function(t,i){return Math.max(t,i.Mt().y)}),0),this.mv.Io().Mt().y),y=or(l,{x:.5*((null===(r=this.vv[0])||void 0===r?void 0:r.Mt().x)||0),y:d}),A={x:v.x,y:y.y},b={x:s.getInterpolation()?A.x-(.5*((null===(e=this.vv[this.vv.length-1])||void 0===e?void 0:e.Mt().x)||0)+(this.dv.length>0?this.xv*a.x+this.mv.Mt().x:0)):y.x+this.Sv*this.renderingScale.x.getPixelSize(),y:y.y},p={x:y.x,y:y.y+this.gv*a.y};this.Cl._l(p.x,p.y,p.x+this.Sv*this.renderingScale.x.getPixelSize(),p.y+this.wv*this.renderingScale.y.getPixelSize()),this.mv.Uh({x:1,y:1}).ne(A),s.getSteps().forEach((function(t,i){var n=Xn(y,b,o.bv?!0===s.getInterpolation()?(t.value-u)/(h-u):.9*(t.value-u)/(h-u):!0===s.getInterpolation()?i/(s.getSteps().length-1):i/s.getSteps().length);o.vv[i].Uh({x:0,y:1}).ne(n)}))}}return this},i.prototype.Io=function(){if(this.Tv&&this.getVisible()){for(var i=this.Tv.getSteps(),n=this.vv.length;n<i.length;n+=1){var r=this.Yn.ps(this.renderingScale).setPointerEvents(!1);this.vv.push(r),this.j.Pi(r)}for(n=0;n<i.length;n+=1)this.vv[n].$r(this.mv.vo()).bo(this.mv.Ao()).Wo(this.yv(i[n],this.Tv)).po(this.Av);for(n=i.length;n<this.vv.length;n+=1)this.vv[n].dispose();if(this.vv.length=i.length,this.mv.Wo(this.dv),"vertical"===this.cv){var e=this.wv,o=this.Sv,s=e+Math.max(this.vv.reduce((function(t,i){return Math.max(t,i.Io().Oc().x)}),0),this.mv.Io().Oc().x),a=(this.dv.length>0?this.xv+this.mv.Io().Oc().y:0)+o+.5*this.vv[0].Io().Oc().y+.5*this.vv[this.vv.length-1].Io().Oc().y;this.setContentSize({x:s,y:a})}else{e=this.Sv,o=this.wv;var u=Math.max(this.dv.length>0?this.xv+this.mv.Io().Oc().x+(this.Tv.getInterpolation()?.5*this.vv[this.vv.length-1].Io().Oc().x:0):0,this.Tv.getInterpolation()?.5*this.vv[this.vv.length-1].Io().Oc().x:0);s=e+.5*this.vv[0].Io().Oc().x+u,a=o+this.gv+Math.max(this.vv.reduce((function(t,i){return Math.max(t,i.Io().Oc().y)}),0),this.mv.Io().Oc().y),this.setContentSize({x:s,y:a})}}else this.vv.forEach((function(t){return t.dispose()})),this.vv.length=0,this.mv.setVisible(!1),this.pv.setVisible(!1),this.setContentSize({x:0,y:0});return t.prototype.Io.call(this)},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.pv.dispose(),this.vv.forEach(yi),this.mv.dispose(),this},i.prototype.setPointerEvents=function(t){return this.pv.setPointerEvents(t),this},i.prototype.getPointerEvents=function(){return this.pv.getPointerEvents()},i}(Is),Yu={lutElement:{},setLUT:function(t){return this.lutElement.Cv(t),this},getLUT:function(){return this.lutElement.Rn()},setLUTLength:function(t){return this.lutElement.kv(t),this},getLUTLength:function(){return this.lutElement._v()},setLUTThickness:function(t){return this.lutElement.Ov(t),this},getLUTThickness:function(){return this.lutElement.Fv()},setLookUpUnit:function(t){return this.lutElement.Iv(t),this},getLookUpUnit:function(){return this.lutElement.jv()},setLUTStepValueFormatter:function(t){return this.lutElement.Bv(t),this},setLUTDisplayProportionalSteps:function(t){return this.lutElement.setLUTDisplayProportionalSteps(t),this},getLUTDisplayProportionalSteps:function(){return this.lutElement.getLUTDisplayProportionalSteps()}},Wu=Gu(Gu(Gu({},Gs),Us),{background:ru,alignment:"horizontal",setAlignment:function(t){return Gu(Gu({},this),{alignment:t})},na:function(t,i,n,r,e,o){var s=this,a=new du(t,i,n,this.background,r,e),u=a.addElement({na:function(){return new Uu(t,i,n,Ai,e,s.alignment)}}),h=Object.assign(a,Su,{stylableTexts:[u]},Yu,{lutElement:u});return Rs(h,e,o),this.applyStylers(h,e)}}).addStyler(Vs),Xu=function(t,i,n){var r=t.getSteps(),e=t.min,o=t.max-e;if(!0===t.getInterpolation())return new U({angle:i,stops:r.map((function(i,s){return{offset:n?(i.value-e)/o:s/(r.length-1),color:i.color||t.color}}))});for(var s=[],a=0;a<r.length;a+=1){var u=r[a];s.push({offset:n?.9*(u.value-e)/o:a/r.length,color:u.color||t.color});var h=a<r.length-1?r[a+1]:void 0;s.push({offset:n?h?.9*(h.value-e)/o:1:h?(a+1)/r.length:1,color:u.color||t.color})}return new U({angle:i,stops:s})},Hu=Du.addStyler((function(t){return t.addEventListener("switch",(function(i){return!0===i.state?setTimeout((function(){return t.setOn(!1)}),300):void 0}))})),Zu={TextBox:ku,CheckBox:Du,ButtonBox:Hu,PointableTextBox:_u,AxisTickMajor:Nu,AxisTickMinor:Vu,LUTRange:Wu},Qu=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ju=function(){return Ju=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Ju.apply(this,arguments)},Ku=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},qu=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},$u=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},th=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,e,s)||this;return a.Dv=o,a}return Qu(i,t),i}(ws),ih=function(t){function i(i,n,r,e,o,s,a,u,h,f,c,l,v,d,y,A){var b,p,m,g=this;return(g=t.call(this,f,h,a,d,y,{numeric:h.getWidth({x:d.xAxisNumericTicks,y:d.yAxisNumericTicks}),datetime:h.getWidth({x:d.xAxisDateTimeTicks,y:d.yAxisDateTimeTicks}),time:h.getWidth({x:d.xAxisTimeTicks,y:d.yAxisTimeTicks})},A)||this).Lv=new Map,g.Ev=void 0,g.Pv=0,g.zv=[],g.Nv=[],g.Vv=!0,g.Rv=[],g.Gv=function(t){var i=g.Nv.indexOf(t);i>=0&&g.Nv.splice(i,1)},g.Uv=function(t){return g.Nv.indexOf(t)<0&&g.Nv.push(t),g.Gv},g.Yv=!0,g.Wv=Xi(g.Rv),g.Sv={relative:1},g.Xv=function(t,i){return i.getAllocatesAxisSpace()&&Gn(i.getValue(),g.ao,g.uo)?Math.max(t,i.update().aa()):t},g.Hv=function(t){var i=g.zv.indexOf(t);-1!==i&&g.zv.splice(i,1)},g.fn=yr.onHover,g.j=new Nt,g.ae={},g.Zv=a instanceof q?a:void 0,g.isX=g.no.getWidth({x:!0,y:!1}),g.isY=g.no.getHeight({x:!0,y:!1}),g.Qv=i,g.Jv=n,g.Kv=e,g.qv=o,g.chart=f,g.$v=l,g.td=r,g.dn=s,"logarithmic"===A.type&&g.chart.Ai.pu(zs.ka),g.do=eh,v(g,g.Uv),a.nd=g,g.rd=c,g.ed=g.rd>50?1:-1,g.od=(m=g.no.toPoint(0,-g.ed),Math.abs(m.x)>=Math.abs(m.y)?m.x>=0?Zt.Right:Zt.Left:m.y>=0?Zt.Up:Zt.Down),g.sd=u,g.ad=g.ai instanceof q?(new nt).Kt(g.no.toVec2(g.ai,g.sd)):(new rt).Kt(g.no.toVec2(g.ai,g.sd)),g.ud=g.chart.hd,g.fd=(new nt).Kt(g.no.toVec2(g.no.getWidth(g.ud),g.sd)),g.ld=g.Jv.ce(g.ad).setPointerEvents(!1),g.vd=g.td.te(g.ud).$r(h.getWidth({x:d.xAxisOverlayStyle,y:d.yAxisOverlayStyle})).qr(qt).Ii(d.highlightColorOffsetAxisOverlay||d.highlightColorOffset),g.dd=g.td.te(g.ud).$r(h.getWidth({x:d.xAxisZoomingBandFillStyle,y:d.yAxisZoomingBandFillStyle})).qr(h.getWidth({x:d.xAxisZoomingBandStrokeStyle,y:d.yAxisZoomingBandStrokeStyle})).Ii(d.highlightColorOffsetAxisOverlay||d.highlightColorOffset),g.Xe=g.td.ps(g.ad).setPointerEvents(!1).po(g.no.getTitleTextRotation(g.ed)).bs(gn).As(gn),g.chart.Ai.gn.mn(g.vd,(function(t){return g.vd.Oi(t)}),{animationEnabled:g.Ie}),g.j.Pi(g.vd),g.ld.fe(h.getWidth({x:d.xAxisStrokeStyle,y:d.yAxisStrokeStyle})),g.Xe.$r(h.getWidth({x:d.xAxisTitleFillStyle,y:d.yAxisTitleFillStyle})).bo(h.getWidth({x:d.xAxisTitleFont,y:d.yAxisTitleFont})),g.yn=s.An(g,{}),g.xo=g.yn.yd([g.Xe]).On(d.effectsText),g.Ad=null!==(b=h.getWidth({x:d.xAxisMarginAfterTicks,y:d.yAxisMarginAfterTicks}))&&void 0!==b?b:7,g.bd=null!==(p=h.getWidth({x:d.xAxisMarginAfterTitle,y:d.yAxisMarginAfterTitle}))&&void 0!==p?p:7,g}return Qu(i,t),i.prototype.setHighlight=function(t){return this.chart.Ai.gn.En(this.vd,t),this.j.D("highlightchange",{highlight:vn(t)}),this},i.prototype.getHighlight=function(){return this.chart.Ai.gn.Mn(this)},i.prototype.ds=function(){return this.De},i.prototype.ys=function(){return void 0!==this.Co},i.prototype.setKeepTickLabelsInAxisBounds=function(t){return this.Yv=t,this.chart.Ai.Fn(),this},i.prototype.getKeepTickLabelsInAxisBounds=function(){return this.Yv},i.prototype.setTickStrategy=function(i,n){return t.prototype.so.call(this,i,n)},i.prototype.getTickStrategy=function(){return this.ke},i.prototype.addBand=function(t){var i,n=null===(i=null==t?void 0:t.onTop)||void 0===i||i,r=null==t?void 0:t.legend,e=n?this.qv:this.Kv,o=new Jo(e,this.chart,this.Wv,this,this.ad,this.no,this.xi,this.dn);return r&&this.chart.legend.add(o,r),this.Rv.push(o),o},i.prototype.addConstantLine=function(t){var i,n=null===(i=null==t?void 0:t.onTop)||void 0===i||i,r=null==t?void 0:t.legend,e=n?this.qv:this.Kv,o=new qo(e,this.chart,this.Wv,this,this.ad,this.no,this.xi,this.dn);return r&&this.chart.legend.add(o,r),this.Rv.push(o),o},i.prototype.pd=function(t){this.Rv.forEach(t)},i.prototype.md=function(t){return this.Rv.map(t)},i.prototype.getHighlighters=function(){return this.Rv},i.prototype.setThickness=function(t){return"number"==typeof t?(this.gd=t,this.xd=t):"object"==typeof t?(this.gd=t.min,this.xd=t.max):void 0===t&&(this.gd=void 0,this.xd=void 0),this.Bo=void 0,this.chart.Ai.Fn(),this},i.prototype.getThickness=function(){return{min:this.gd,max:this.xd}},i.prototype.Sd=function(){return this.Nv},i.prototype.Lo=function(t){return{}},i.prototype.No=function(t,i,n,r,e){var o,s=i.Ce;return{keyValue:t,tickLevel:i,labelText:n,labelPosition:this.no.toPoint(t,0),labelAlignment:this.no.toPoint(s.getLabelAlignment(),null!==(o=s.labelAlignmentOpposite)&&void 0!==o?o:-this.ed),labelOffset:{x:0,y:0},labelRotation:i.Ce.labelRotation}},i.prototype.Go=function(t,i,n){var r=this;if(!this.ci)return{wd:0,Md:0,Cd:0,ticksInfo:i,updatedTicks:n};var e=this.Xe&&this.Xe.Zo().length>0&&this.getTitleFillStyle()!==Vr,o=this.no.getHeight(e?this.Xe.Io().Oc():{x:0,y:0})+(e?this.bd:0),s=0;this._e.forEach((function(t,i){var n=i.Ce.tickLength<0||i.Ce.tickPadding<0,e=i.Ce.tickLength+i.Ce.tickPadding;t.forEach((function(t){if(t.Oo.getVisible()&&!Rr(t.Oo.vo())){var i=e+r.no.getHeight(t.Oo.Io().Oc());n||(s=Math.max(s,i))}else n||(s=Math.max(s,e))}))}));var a=this.zv.reduce(this.Xv,0);s=Math.max(s,a),s+=this.Ad;var u=pi(o+s,void 0!==this.gd?this.gd:0,void 0!==this.xd?this.xd:In);return this.Pv=u,{wd:s,Md:o,Cd:u,ticksInfo:i,updatedTicks:n}},i.prototype.Xo=function(t,i){return new th(i,t,this.Jv,this.ad,this.ad)},i.prototype.Ze=function(){return this.ad},i.prototype.So=function(){var i,n;if(this.Lv){try{for(var r=Ku(this.Lv),e=r.next();!e.done;e=r.next()){var o=e.value;o[1].grid.dispose(),o[1].tick.dispose()}}catch(t){i={error:t}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}this.Lv.clear()}t.prototype.So.call(this)},i.prototype.fs=function(t,i){return"linear"===this.eo.type||"linear-highPrecision"===this.eo.type?se(t,i,this.ai):ae(t,i,this.ai)},i.prototype.Td=function(t,i){return i instanceof q?se:ae},i.prototype.vs=function(t,i,n){if("logarithmic"!==this.eo.type){var r=this.ai.Qt(Math.abs(i-t));return{start:t+Math.sign(t-i)*n.start*r,end:i+Math.sign(i-t)*n.end*r}}var e=this.ai,o={start:e.R,end:e.G};e.X(t,i).rn();var s={start:e.Jt(t,n.start*Math.sign(t-i)),end:e.Jt(i,n.end*Math.sign(i-t))};return e.X(o.start,o.end).rn(),s},i.prototype.Fo=function(t){var i,n,r=this.jo(),e=r.min,o=r.max,s=this._e.size>0,a=(null===(i=this.Bo)||void 0===i?void 0:i.physicalAxisSize)!==t.physicalAxisSize,u=(null===(n=this.Bo)||void 0===n?void 0:n.min)!==e||this.Bo.max!==o;if(this.Bo&&this.Zv){var h=this.Zv.getPixelSize(),f=Math.abs(o-this.Bo.max),c=Math.abs(f/h),l=Math.abs(e-this.Bo.min),v=Math.abs(l/h);u=Math.max(c,v)>=10}return!(!s||a||u||t.anyPreviousAxisUpdated)},i.prototype.ie=function(t){var i,n,r,e,o,s,a,u,h=this.getVisible()&&t.kd>0,f=this.ai.getInnerStart()<this.ai.getInnerEnd()?this.ai.getInnerStart():this.ai.getInnerEnd(),c=this.ai.getInnerEnd()>this.ai.getInnerStart()?this.ai.getInnerEnd():this.ai.getInnerStart();h||this.So();var l=this.ld.oa().getThickness()*this.ed/2,v=this.sd.getInnerInterval(),d=this.rd/100*v,y=d+t._d,A=v*this.ed,b=y+l;if("Empty"!==this.ke&&h){var p=this.ai.bt(),m=this.ai.xt(),g=Math.min(p,m),x=Math.max(p,m);try{for(var S=Ku(this._e),w=S.next();!w.done;w=S.next()){var M=qu(w.value,2),C=M[0],T=M[1],k=this.Lv.get(C);if(!k)if(C.Ae)k={grid:this.Qv[0].Od(this.ad).setPointerEvents(!1),tick:this.Qv[0].Od(this.ad).setPointerEvents(!1)};else if("Fd"in C){var _=Array.from(this._e.keys()).filter((function(t){return"Fd"in t})).reverse().indexOf(C),O=this.Qv[_];if(!O)throw new Error("Not enough tick layers. This is an internal LCJS error - if you see this, please contact LightningChart support.");k={grid:O.Od(this.ad).setPointerEvents(!1),tick:O.Od(this.ad).setPointerEvents(!1)}}if(k){k.grid.zi(),k.tick.zi();var F=C.Ce,I=d-A*F.getGridStrokeLength(),j=b+F.getTickLength()*this.ed,B=j+F.getTickPadding()*this.ed;try{for(var D=(r=void 0,Ku(T)),L=D.next();!L.done;L=D.next()){var E=qu(L.value,2),P=(E[0],E[1]),z=t.ticksInfo.get(P);if(z){var N={start:this.no.toPoint(P.S,y),end:this.no.toPoint(P.S,I)},V={start:this.no.toPoint(P.S,b),end:this.no.toPoint(P.S,j)},R=0;if(this.Yv){var G=P.Oo.Oc(),U=this.ai.Bt(z.keyValue)+this.no.getWidth(z.labelOffset)+(-.5*this.no.getWidth(z.labelAlignment)-.5)*this.no.getWidth(G),Y=U+this.no.getWidth(G);R=Y>x?x-Y:U<g?g-U:0}P.Oo.ne(this.no.toPoint(this.ai.Jt(P.S,R),B)).Uh(z.labelAlignment).po(z.labelRotation),k.grid.za().Id(N.start,N.end),k.tick.za().Id(V.start,V.end)}}}catch(t){r={error:t}}finally{try{L&&!L.done&&(e=D.return)&&e.call(D)}finally{if(r)throw r.error}}k.grid.fe(C.Ce.getGridStrokeStyle()),k.tick.fe(C.Ce.getTickStyle()),this.Lv.set(C,k)}}}catch(t){i={error:t}}finally{try{w&&!w.done&&(n=S.return)&&n.call(S)}finally{if(i)throw i.error}}}var W=b,X=W+this.ed*t.Cd,H={start:this.no.toVec2(this.ai.getInnerStart(),W),end:this.no.toVec2(this.ai.getInnerEnd(),X)},Z=at(H.start,this.ad,this.ud),Q=at(H.end,this.ad,this.ud);this.ld.ve(this.no.toPoint(f,y)).le(this.no.toPoint(c,y)).setVisible(h);var J=this.jd;J||(J="center-chart",("pixels"in this.Sv||void 0!==this.Bd||void 0!==this.Dd||1!==t.Ld||this.isY)&&(J="center"));var K=y+t.wd*this.ed;if(this.Xe.ne(this.no.toPoint(this.no.getWidth(at("center-chart"===J?{x:.5*this.ud.x.getInnerInterval(),y:.5*this.ud.y.getInnerInterval()}:"center"===J?er(or(Z,Q),.5):"start"===J?Z:Q,this.ud,this.ad)),K)).Uh(this.no.toPoint("center-chart"===J||"center"===J?0:"start"===J?-1:1,-1*this.ed)).setVisible(h),this.Ev){var q=this.rd/100*v+t._d,$=-this.ed*v-t._d,tt={start:this.no.toVec2(this.Ev.min,b+this.ed*this.Pv),end:this.no.toVec2(this.Ev.max,q+$)},it=at(tt.start,this.ad,this.ud),nt=at(tt.end,this.ad,this.ud);this.dd.ne(it).Z(sr(nt,it)).setVisible(!0)}else this.dd.setVisible(!1);this.vd.ne(Z).Z(sr(Q,Z)).setVisible(h);try{for(var rt=Ku(this.zv),et=rt.next();!et.done;et=rt.next())if((P=et.value).update().plot(h,y,A,t._d,b),this.td.Ai.kc&&P.getVisible()&&P.getMarkerVisible()&&P.ia.We===he.CursorTickMarker){var ot=Ds(P.ia);this.td.Ai.kc.Ed(Ju(Ju({},ot),{blacklist:[he.CursorResultTable,he.CursorTickMarker]}))}}catch(t){o={error:t}}finally{try{et&&!et.done&&(s=rt.return)&&s.call(rt)}finally{if(o)throw o.error}}try{for(var st=Ku(this.Rv),ut=st.next();!ut.done;ut=st.next())ut.value.ie()}catch(t){a={error:t}}finally{try{ut&&!ut.done&&(u=st.return)&&u.call(st)}finally{if(a)throw a.error}}return{width:Math.abs(Q.x-Z.x),height:Math.abs(Q.y-Z.y),left:Math.min(Z.x,Q.x),right:this.ud.x.getInnerEnd()-Math.max(Z.x,Q.x),bottom:Math.min(Z.y,Q.y),top:this.ud.y.getInnerEnd()-Math.max(Z.y,Q.y)}},i.prototype.setLength=function(t){return this.Sv=t,this.Bo=void 0,this.chart.Ai.Fn(),this},i.prototype.getLength=function(){return this.Sv},i.prototype.setMargins=function(t,i){return this.Bd=t,this.Dd=i,this.Bo=void 0,this.chart.Ai.Fn(),this},i.prototype.getMargins=function(){var t,i;return{start:null!==(t=this.Bd)&&void 0!==t?t:0,end:null!==(i=this.Dd)&&void 0!==i?i:0}},i.prototype.getStackIndex=function(){var t,i,n=this;return null!==(i=null===(t=$u($u($u($u([],qu(this.chart.Pd),!1),qu(this.chart.zd),!1),qu(this.chart.Nd),!1),qu(this.chart.Vd),!1).find((function(t){return t.axis===n})))||void 0===t?void 0:t.iStack)&&void 0!==i?i:0},i.prototype.getParallelIndex=function(){var t,i,n=this;return null!==(i=null===(t=$u($u($u($u([],qu(this.chart.Pd),!1),qu(this.chart.zd),!1),qu(this.chart.Nd),!1),qu(this.chart.Vd),!1).find((function(t){return t.axis===n})))||void 0===t?void 0:t.iParallel)&&void 0!==i?i:0},i.prototype.Rd=function(){return this.Pv},i.prototype.Gd=function(t,i){i=i||Zu.AxisTickMajor;var n=new Ps(this,t?this.Qv[0]:this.td,this.td,this.ai,this.fd,this.fd,this.no,this.od,this.Hv,this.xi,i).setTextFormatter(this.formatValue);return this.zv.push(n),this.Bo=void 0,"other"===n.ia.ra&&(n.ia.We=he.CursorTickMarker),n},i.prototype.Ud=function(t,i){var n=-this.no.getWidth(i);this.pan(n)},i.prototype.pan=function(t,i){var n,r,e=this.ao,o=this.uo,s=this.ai.Jt(e,t),a=this.ai.Jt(o,t);this.To(s,a,{allowIntervalLengthChange:!1,skipIntervalRestriction:!1});var u,h=this.yo();!1!==(null==i?void 0:i.releaseScrollingAxisIfLiveReached)&&(null===(n=this.ko)||void 0===n?void 0:n.id)===is&&this.je&&h&&(u=this.ye({forStart:s,forEnd:a,allowIntervalLengthChange:!1}))&&(this.uo>this.ao&&this.uo>=u.end||this.uo<this.ao&&this.ao>=u.start)&&this.setStopped(!1),!1!==(null==i?void 0:i.releaseScrollingAxisIfLiveReached)&&(null===(r=this.ko)||void 0===r?void 0:r.id)===ns&&this.je&&h&&(u=this.ye({forStart:s,forEnd:a,allowIntervalLengthChange:!1}))&&(this.uo<this.ao&&this.uo<=u.end||this.uo>this.ao&&this.ao<=u.start)&&this.setStopped(!1)},i.prototype.zoom=function(t,i){var n,r=this.ai.Bt(this.ao),e=this.ai.Bt(this.uo),o=this.ai.Bt(t),s=pi((o-r)/(e-r),0,1),a=.2*this.ai.St(),u=s*a*-i,h=(1-s)*a*i,f=this.ai.Jt(this.ao,u),c=this.ai.Jt(this.uo,h),l=this.ls(),v=f,d=c;void 0!==(null==l?void 0:l.intervalMax)&&Math.abs(d-v)>l.intervalMax&&(v-=(n=l.intervalMax-Math.abs(d-v))*s,d+=n*(1-s)),void 0!==(null==l?void 0:l.intervalMin)&&Math.abs(d-v)<l.intervalMin&&(v-=(n=l.intervalMin-Math.abs(d-v))*s,d+=n*(1-s)),this.To(v,d,{allowIntervalLengthChange:!0,skipIntervalRestriction:!1})},i.prototype.addCustomTick=function(t){return this.Gd(!0,t)},i.prototype.getCustomTicks=function(){return $u([],qu(this.zv),!1)},i.prototype.setTitlePosition=function(t){return this.jd=t,this.chart.Ai.Fn(),this},i.prototype.getTitlePosition=function(){var t;return null!==(t=this.jd)&&void 0!==t?t:"center-chart"},i.prototype.getUiPosition=function(){return this.rd},i.prototype.setStrokeStyle=function(t){return this.ld.fe(t),this.Jv.Fn(),this},i.prototype.getStrokeStyle=function(){return this.ld.oa()},i.prototype.getOverlayStyle=function(){return this.vd.vo()},i.prototype.setOverlayStyle=function(t){return this.vd.$r(t),this.Jv.Fn(),this},i.prototype.setAnimationHighlight=function(t){return this.chart.Ai.gn.Pn(this.vd,t),this},i.prototype.getAnimationHighlight=function(){return this.chart.Ai.gn.zn(this.vd)},i.prototype.getMarginAfterTicks=function(){return this.Ad},i.prototype.setMarginAfterTicks=function(t){return this.Ad=t,this.Bo=void 0,this.Jv.Fn(),this},i.prototype.getMarginAfterTitle=function(){return this.bd},i.prototype.setMarginAfterTitle=function(t){return this.bd=t,this.Bo=void 0,this.Jv.Fn(),this},i.prototype.Y=function(){return this.ai.Y(),this},i.prototype.W=function(){return this.ai.W(),this},i.prototype.dispose=function(){var t,i,n;(null===(n=this.ko)||void 0===n?void 0:n.dispose)&&this.ko.dispose({axis:this}),this.ld.dispose(),this.vd.dispose(),this.dd.dispose(),this.Xe.dispose(),this._o(yi);try{for(var r=Ku(this.Lv.values()),e=r.next();!e.done;e=r.next()){var o=e.value;o.grid.dispose(),o.tick.dispose()}}catch(i){t={error:i}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}return this.Nv.slice().forEach(yi),this.Rv.slice().forEach(yi),this.$v(this),this.j.D("dispose",{}),this},i.prototype.setVisible=function(i){var n,r;this.ld.setVisible(i),this.Xe.setVisible(i),this.vd.setVisible(i),this._o((function(t){t.Tn(i)}));try{for(var e=Ku(this.Lv.values()),o=e.next();!o.done;o=e.next()){var s=o.value;s.grid.setVisible(i),s.tick.setVisible(i)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return t.prototype.setVisible.call(this,i),this.Bo=void 0,this.chart.Ai.Fn(),this},i.prototype.setAnimationsEnabled=function(i){return t.prototype.setAnimationsEnabled.call(this,i),this.setAnimationHighlight(this.Ie),this},i.prototype.setHighlightOnHover=function(t){return this.fn=t?yr.onHover:yr.noHighlighting,!1===t&&this.getHighlight()>0&&this.setHighlight(!1),this},i.prototype.getHighlightOnHover=function(){return this.fn!==yr.noHighlighting},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i.prototype.setPointerEvents=function(t){return this.j.setPointerEvents(t),this},i.prototype.getPointerEvents=function(){return this.j.getPointerEvents()},Object.defineProperty(i.prototype,"draggable",{get:function(){return this.j.draggable},set:function(t){this.j.draggable=t},enumerable:!1,configurable:!0}),i.prototype.setUserInteractions=function(t){return this.ae=void 0===t?{pan:!1,zoom:!1,rectangleZoom:!1,restoreDefault:!1,chartInteractions:{pan:!1,paginate:!1,zoom:!1,rectangleZoom:!1,restoreDefault:!1,restorePrevious:!1}}:t,this},i.prototype.getUserInteractions=function(){return this.ae},i}(Ss);!function(t){t.Start="start",t.Center="center",t.End="end",t.CenterChart="center-chart"}(ka||(ka={}));var nh,rh,eh=function(t){return t.curEnd>t.curStart?{startMin:t.dataMin,endMax:t.dataMax}:{endMin:t.dataMin,startMax:t.dataMax}},oh={getWidth:function(t){return t.x},getHeight:function(t){return t.y},toVec2:function(t,i){return{x:t,y:i}},toPoint:function(t,i){return h(t,i)}},sh={getWidth:function(t){return t.y},getHeight:function(t){return t.x},toVec2:function(t,i){return{x:i,y:t}},toPoint:function(t,i){return h(i,t)}},ah=function(t){return!!(t&&"object"==typeof t&&"x"in t&&t.x instanceof ih&&"y"in t&&t.y instanceof ih)},uh=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hh=function(t){function i(i){return t.call(this,i)||this}return uh(i,t),i.prototype.setGridStrokeLength=function(t){return this.set("gridStrokeLength",t)},i.prototype.getGridStrokeLength=function(){return this.get("gridStrokeLength")},i.prototype.setGridStrokeStyle=function(t){return this.set("gridStrokeStyle","function"==typeof t?t(this.get("gridStrokeStyle")):t)},i.prototype.getGridStrokeStyle=function(){return this.get("gridStrokeStyle")},i.prototype.setTickLength=function(t){return this.set("tickLength",t)},i.prototype.getTickLength=function(){return this.get("tickLength")},i.prototype.setTickStyle=function(t){return this.set("tickStyle","function"==typeof t?t(this.get("tickStyle")):t)},i.prototype.getTickStyle=function(){return this.get("tickStyle")},i.prototype.setTickPadding=function(t){return this.set("tickPadding",t)},i.prototype.getTickPadding=function(){return this.get("tickPadding")},i.prototype.setLabelFillStyle=function(t){return this.set("labelFillStyle","function"==typeof t?t(this.get("labelFillStyle")):t)},i.prototype.getLabelFillStyle=function(){return this.get("labelFillStyle")},i.prototype.setLabelShadow=function(t){return this.set("labelShadow",t)},i.prototype.getLabelShadow=function(){return this.get("labelShadow")},i.prototype.setLabelFont=function(t){return this.set("labelFont","function"==typeof t?t(this.get("labelFont")):t)},i.prototype.getLabelFont=function(){return this.get("labelFont")},i.prototype.setLabelAlignment=function(t,i){return this.withMutations((function(n){return n.set("labelAlignment",t).set("labelAlignmentOpposite",i)}))},i.prototype.getLabelAlignment=function(){return this.get("labelAlignment")},i.prototype.setLabelRotation=function(t){return this.set("labelRotation",t)},i.prototype.getLabelRotation=function(){return this.get("labelRotation")},i}(i({type:"tick-style",gridStrokeLength:1,gridStrokeStyle:new Ue,tickLength:7,tickStyle:new Ue,tickPadding:0,labelFont:new E,labelFillStyle:new Ur,labelAlignment:0,labelAlignmentOpposite:void 0,labelRotation:0,labelShadow:void 0})),fh=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"tick-style"!==t.type)},ch=new hh({labelFillStyle:Vr,gridStrokeStyle:qt,tickStyle:qt}),lh=function(t){return fh(t)&&Rr(t.labelFillStyle)&&$t(t.gridStrokeStyle)&&$t(t.tickStyle)},vh=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dh=1e6,yh=i({type:"time-ticks",cursorFormatter:void 0,timeOrigin:void 0,majorTickStyle:new hh,minorTickStyle:new hh,majorFormattingFunction:void 0,minorFormattingFunction:void 0}),Ah=36e5,bh=6e4,ph=1e3,mh=1e-6,gh=function(t,i){var n=i-t;return n>=864e5?"MajorHours12":n>=Ah?"MajorHours":n>=6e5?"MajorMinutes15":n>=9e4?"MajorMinutes":n>=10500?"MajorSeconds15":n>=ph?"MajorSeconds":n>=100?"MajorMilliseconds100":n>=10?"MajorMilliseconds10":n>=1?"MajorMilliseconds":n>=.1?"MajorMicroseconds100":n>=.01?"MajorMicroseconds10":n>=.001?"MajorMicroseconds":n<=.001?"MajorNanoseconds100":"Unknown"},xh={hhmmss:function(t){var i=Math.abs(t),n=t>=0?"":"-",r=Math.floor(i/Ah);i%=Ah;var e=Math.floor(i/bh);i%=bh;var o=Math.floor(i/ph);return"".concat(n).concat(sn(r,2),":").concat(sn(e,2),":").concat(sn(o,2))},hhmmssmmm:function(t){var i=Math.abs(t),n=t>=0?"":"-",r=Math.floor(i/Ah);i%=Ah;var e=Math.floor(i/bh);i%=bh;var o=Math.floor(i/ph);i%=ph;var s=Math.floor(i/1);return"".concat(n).concat(sn(r,2),":").concat(sn(e,2),":").concat(sn(o,2),".").concat(sn(s,3))},hhmmssmmmuuu:function(t){var i=Math.abs(t),n=t>=0?"":"-",r=Math.floor(i/Ah),e=Math.floor(i/bh)%60,o=Math.floor(i/ph)%60,s=Math.floor(i/1)%1e3,a=t.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}).split(".")[1];return"".concat(n).concat(sn(r,2),":").concat(sn(e,2),":").concat(sn(o,2),".").concat(sn(s,3)).concat(a)},hhmmssmmmuuunnn:function(t){var i=Math.abs(t),n=t>=0?"":"-",r=Math.floor(i/Ah),e=Math.floor(i/bh)%60,o=Math.floor(i/ph)%60,s=Math.floor(i/1)%1e3,a=t.toLocaleString("en-US",{minimumFractionDigits:6,maximumFractionDigits:6}).split(".")[1];return"".concat(n).concat(sn(r,2),":").concat(sn(e,2),":").concat(sn(o,2),".").concat(sn(s,3)).concat(a)}},Sh={MajorHours12:{major:{format:xh.hhmmss,getKeyValues:function(t,i,n,r){var e=432e5;return t=Math.floor(t/(4*e))*e*4,hs(t,i,e,void 0,dh)},fitKeyValues:cs({ignore:"first"},2,4)},minor:{format:xh.hhmmss,getKeyValues:function(t,i,n,r){return us(t,i,36e5,dh)},fitKeyValues:cs({},2,3,4,6)},defaultValueFormatter:xh.hhmmss},MajorHours:{major:{format:xh.hhmmss,getKeyValues:function(t,i,n,r){var e=Ah;return t=Math.floor(t/(12*e))*e*12,hs(t,i,e,void 0,dh)},fitKeyValues:cs({ignore:"first"},2,6,12)},minor:{format:xh.hhmmss,getKeyValues:function(t,i,n,r){return us(t,i,3e5,dh)},fitKeyValues:cs({},2,4,6)},defaultValueFormatter:xh.hhmmss},MajorMinutes15:{major:{format:xh.hhmmss,getKeyValues:function(t,i,n,r){return t=Math.floor(t/Ah)*Ah,hs(t,i,9e5,void 0,dh)},fitKeyValues:cs({ignore:"first"},2)},minor:{format:xh.hhmmss,getKeyValues:function(t,i,n,r){return us(t,i,6e4,dh)},fitKeyValues:cs({},3,5)},defaultValueFormatter:xh.hhmmss},MajorMinutes:{major:{format:xh.hhmmss,getKeyValues:function(t,i,n,r){var e=bh;return t=Math.floor(t/6e5)*e*10,hs(t,i,e,void 0,dh)},fitKeyValues:cs({ignore:"first"},2,5)},minor:{format:xh.hhmmss,getKeyValues:function(t,i,n,r){return us(t,i,5e3,dh)},fitKeyValues:cs({},2,3,4,6)},defaultValueFormatter:xh.hhmmss},MajorSeconds15:{major:{format:xh.hhmmss,getKeyValues:function(t,i,n,r){var e=15e3;return t=Math.floor(t/6e4)*e*4,hs(t,i,e,void 0,dh)},fitKeyValues:cs({ignore:"first"},2,4)},minor:{format:xh.hhmmss,getKeyValues:function(t,i,n,r){return us(t,i,1e3,dh)},fitKeyValues:cs({},3,5)},defaultValueFormatter:xh.hhmmss},MajorSeconds:{major:{format:xh.hhmmss,getKeyValues:function(t,i,n,r){var e=ph;return t=Math.floor(t/1e4)*e*10,hs(t,i,e,void 0,dh)},fitKeyValues:cs({ignore:"first"},2,5)},minor:{format:xh.hhmmssmmm,getKeyValues:function(t,i,n,r){return us(t,i,100,dh)},fitKeyValues:cs({},2,3,5)},defaultValueFormatter:xh.hhmmssmmm},MajorMilliseconds100:{major:{format:xh.hhmmssmmm,getKeyValues:function(t,i,n,r){return t=100*Math.floor(t/1e3)*10,hs(t,i,100,void 0,dh)},fitKeyValues:cs({ignore:"first"},2,5)},minor:{format:xh.hhmmssmmm,getKeyValues:function(t,i,n,r){return us(t,i,10,dh)},fitKeyValues:cs({},2,3,5)},defaultValueFormatter:xh.hhmmssmmm},MajorMilliseconds10:{major:{format:xh.hhmmssmmm,getKeyValues:function(t,i,n,r){return t=10*Math.floor(t/100)*10,hs(t,i,10,void 0,dh)},fitKeyValues:cs({ignore:"first"},2,5)},minor:{format:xh.hhmmssmmm,getKeyValues:function(t,i,n,r){return us(t,i,1,dh)},fitKeyValues:cs({},2,3,5)},defaultValueFormatter:xh.hhmmssmmm},MajorMilliseconds:{major:{format:xh.hhmmssmmmuuu,getKeyValues:function(t,i,n,r){return t=1*Math.floor(t/10)*10,hs(t,i,1,void 0,dh)},fitKeyValues:cs({ignore:"first"},2,5)},minor:{format:xh.hhmmssmmmuuu,getKeyValues:function(t,i,n,r){return us(t,i,.1,dh)},fitKeyValues:cs({},2)},defaultValueFormatter:xh.hhmmssmmmuuu},MajorMicroseconds100:{major:{format:xh.hhmmssmmmuuu,getKeyValues:function(t,i,n,r){return t=.1*Math.floor(t/1)*10,hs(t,i,.1,void 0,dh)},fitKeyValues:cs({ignore:"first"},2,5)},minor:{format:xh.hhmmssmmmuuu,getKeyValues:function(t,i,n,r){return us(t,i,.01,dh)},fitKeyValues:cs({},2,3,5)},defaultValueFormatter:xh.hhmmssmmmuuu},MajorMicroseconds10:{major:{format:xh.hhmmssmmmuuu,getKeyValues:function(t,i,n,r){var e=.01;return t=Math.floor(t/.1)*e*10,hs(t,i,e,void 0,dh)},fitKeyValues:cs({ignore:"first"},2,5)},minor:{format:xh.hhmmssmmmuuu,getKeyValues:function(t,i,n,r){return us(t,i,.001,dh)},fitKeyValues:cs({},2,3,5)},defaultValueFormatter:xh.hhmmssmmmuuu},MajorMicroseconds:{major:{format:xh.hhmmssmmmuuunnn,getKeyValues:function(t,i,n,r){var e=.001;return t=Math.floor(t/.01)*e*10,hs(t,i,e,void 0,dh)},fitKeyValues:cs({ignore:"first"},2,5)},minor:{format:xh.hhmmssmmmuuunnn,getKeyValues:function(t,i,n,r){return us(t,i,100*mh,dh)},fitKeyValues:cs({},2,3,5)},defaultValueFormatter:xh.hhmmssmmmuuunnn},MajorNanoseconds100:{major:{format:xh.hhmmssmmmuuunnn,getKeyValues:function(t,i,n,r){var e=100*mh;return t=Math.floor(t/.001)*e*10,hs(t,i,e,void 0,dh)},fitKeyValues:cs({ignore:"first"},2,5)},minor:{format:xh.hhmmssmmmuuunnn,getKeyValues:function(t,i,n,r){return us(t,i,10*mh,dh)},fitKeyValues:cs({},2,3,5)},defaultValueFormatter:xh.hhmmssmmmuuunnn},Unknown:{major:{format:function(t,i,n){return""},getKeyValues:function(t,i,n,r){return[]},fitKeyValues:void 0},minor:{format:function(t,i,n){return""},getKeyValues:function(t,i,n,r){return[]},fitKeyValues:void 0},defaultValueFormatter:function(t,i,n){return""}}},wh=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return vh(i,t),i.prototype.pe=function(t){var i=this.timeOrigin||0,n=[{Oo:"Major ticks",Fd:0,Ce:this.majorTickStyle,be:this.majorFormattingFunction?this.majorFormattingFunction:function(t,n,r){var e=gh(Math.min(n.start,n.end),Math.max(n.start,n.end));return(0,Sh[e].major.format)(t+i,n,r)},ws:function(t,i,n,r,e){var o=gh(n,r);return(0,Sh[o].major.getKeyValues)(t,i,n,r,e)},Ke:{Jo:function(t,i,n,r,e,o){var s=gh(e,o),a=Sh[s].major.fitKeyValues;if(a)return a(t,i,n,r,e,o)},qo:"hide-label"},Ms:void 0}];return fh(this.minorTickStyle)&&n.push({Oo:"Minor ticks",Fd:1,Ce:this.minorTickStyle,be:this.minorFormattingFunction?this.minorFormattingFunction:function(t,n,r){var e=gh(Math.min(n.start,n.end),Math.max(n.start,n.end));return(0,Sh[e].minor.format)(t+i,n,r)},ws:function(t,i,n,r,e){var o=gh(n,r);return(0,Sh[o].minor.getKeyValues)(t,i,n,r,e)},Ke:{Jo:function(t,i,n,r,e,o){var s=gh(e,o),a=Sh[s].minor.fitKeyValues;if(a)return a(t,i,n,r,e,o)},qo:"hide-tick"},Ms:void 0}),{me:[],ge:n,xe:this.cursorFormatter||function(t,n,r){var e=gh(Math.min(n.start,n.end),Math.max(n.start,n.end));return Sh[e].defaultValueFormatter(t+i,n,r)},Se:1e-4,we:864e6}},i.prototype.setTickStyle=function(t){return this.setMajorTickStyle(t).setMinorTickStyle(t)},i.prototype.setMajorTickStyle=function(t){return"function"==typeof t?this.set("majorTickStyle",t(this.get("majorTickStyle"))):this.set("majorTickStyle",t)},i.prototype.getMajorTickStyle=function(){return this.get("majorTickStyle")},i.prototype.setMinorTickStyle=function(t){if("function"==typeof t){var i=this.get("minorTickStyle");return this.set("minorTickStyle",t(i))}return this.set("minorTickStyle",t)},i.prototype.getMinorTickStyle=function(){return this.get("minorTickStyle")},i.prototype.setCursorFormatter=function(t){return this.set("cursorFormatter",t)},i.prototype.getCursorFormatter=function(){return this.get("cursorFormatter")},i.prototype.setTimeOrigin=function(t){return this.set("timeOrigin",t)},i.prototype.getTimeOrigin=function(){return this.get("timeOrigin")},i.prototype.setFormattingFunction=function(t){return this.withMutations((function(i){return i.set("majorFormattingFunction",t).set("minorFormattingFunction",t).set("cursorFormatter",t)}))},i.prototype.getMajorFormattingFunction=function(){return this.get("majorFormattingFunction")},i.prototype.setMajorFormattingFunction=function(t){return this.set("majorFormattingFunction",t)},i.prototype.getMinorFormattingFunction=function(){return this.get("minorFormattingFunction")},i.prototype.setMinorFormattingFunction=function(t){return this.set("minorFormattingFunction",t)},i}(yh),Mh=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ch=function(t,i,n,r,e){return function(o,s){return function(a){var u=new Date(a+o),h={year:s?u.getUTCFullYear():u.getFullYear(),monthIndex:s?u.getUTCMonth():u.getMonth(),day:s?u.getUTCDate():u.getDate(),hours:s?u.getUTCHours():u.getHours(),minutes:s?u.getUTCMinutes():u.getMinutes(),seconds:s?u.getUTCSeconds():u.getSeconds(),millis:s?u.getUTCMilliseconds():u.getMilliseconds()},f=r?r(h):void 0;if(0===t&&!0===f)return a;var c=h[i];e.includes("year")&&(h.year=Math.floor(h.year/n)*n),e.includes("monthIndex")&&(h.monthIndex=0),e.includes("day")&&(h.day=1),e.includes("hours")&&(h.hours=0),e.includes("minutes")&&(h.minutes=0),e.includes("seconds")&&(h.seconds=0),e.includes("millis")&&(h.millis=0);var l=(0===t?1:t)*n;return-1===t&&!1===f&&(l=0),0!==l&&(h[i]=n*(l>0?Math.floor((c+l)/n):Math.ceil((c+l)/n))),s?Date.UTC(h.year,h.monthIndex,h.day,h.hours,h.minutes,h.seconds,h.millis)-o:new Date(h.year,h.monthIndex,h.day,h.hours,h.minutes,h.seconds,h.millis).getTime()-o}}},Th=function(t,i,n){for(var r=[],e=3;e<arguments.length;e++)r[e-3]=arguments[e];return Ch(-1,t,i,n,r)},kh=function(t,i,n){for(var r=[],e=3;e<arguments.length;e++)r[e-3]=arguments[e];return Ch(-1,t,i,n,r)},_h=function(t,i,n){for(var r=[],e=3;e<arguments.length;e++)r[e-3]=arguments[e];return Ch(0,t,i,n,r)},Oh=function(t,i){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Ch(1,t,i,void 0,n)},Fh=function(t){return function(i,n){return function(r){var e=new Date(r+i),o=n?e.getUTCDay():e.getDay(),s=1===o&&0===(n?e.getUTCHours():e.getHours())&&0===(n?e.getUTCMinutes():e.getMinutes())&&0===e.getSeconds()&&0===e.getMilliseconds();if(0===t&&!0===s)return r;var a=n?e.getUTCDate():e.getDate();return-1===t&&1===o&&!1===s||(-1===t?a-=o>=2?o-1:o+6:a+=o>0?8-o:1),n?Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),a,0,0,0,0)-i:new Date(e.getFullYear(),e.getMonth(),a,0,0,0,0).getTime()-i}}},Ih=[{label:"NanoSecond10",unit:1e-5,irregular:!1,greatTicks:void 0,majorTicks:{fitFunction:cs({offset:0},2,5)},minorTicks:{amount:4,fitFunction:cs(void 0,2)}},{label:"NanoSecond100",unit:1e-4,irregular:!1,greatTicks:{getReferenceKeyValue:function(t,i){return function(t){return 1e-4*Math.floor(t/1e-4)}}},majorTicks:{fitFunction:cs({offset:0},2,5)},minorTicks:{amount:4,fitFunction:cs(void 0,2)}},{label:"MicroSecond1",unit:.001,irregular:!1,greatTicks:{getReferenceKeyValue:function(t,i){return function(t){return.001*Math.floor(t/.001)}}},majorTicks:{fitFunction:cs({offset:0},2,5)},minorTicks:{amount:4,fitFunction:cs(void 0,2)}},{label:"MicroSecond10",unit:.01,irregular:!1,greatTicks:{getReferenceKeyValue:function(t,i){return function(t){return.01*Math.floor(t/.01)}}},majorTicks:{fitFunction:cs({offset:0},2,5)},minorTicks:{amount:4,fitFunction:cs(void 0,2)}},{label:"MicroSecond100",unit:.1,irregular:!1,greatTicks:{getReferenceKeyValue:function(t,i){return function(t){return.1*Math.floor(t/.1)}}},majorTicks:{fitFunction:cs({offset:0},2,5)},minorTicks:{amount:4,fitFunction:cs(void 0,2)}},{label:"MilliSecond1",unit:1,irregular:!1,greatTicks:{getReferenceKeyValue:Th("millis",1,(function(t){return t.millis%1==0}),"millis")},majorTicks:{fitFunction:cs({offset:0},2,5)},minorTicks:{amount:4,fitFunction:cs(void 0,2)}},{label:"MilliSecond10",unit:10,irregular:!1,greatTicks:{getReferenceKeyValue:Th("millis",10,(function(t){return t.millis%10==0}),"millis")},majorTicks:{fitFunction:cs({offset:0},2,5)},minorTicks:{amount:4,fitFunction:cs(void 0,2)}},{label:"MilliSecond100",unit:100,irregular:!1,greatTicks:{getReferenceKeyValue:Th("millis",100,(function(t){return t.millis%100==0}),"millis")},majorTicks:{fitFunction:cs({offset:0},2,5)},minorTicks:{amount:4,fitFunction:cs(void 0,2)}},{label:"Second",unit:1e3,irregular:!1,greatTicks:{getReferenceKeyValue:Th("seconds",1,(function(t){return 0===t.millis}),"millis")},majorTicks:{fitFunction:ls(3,5,10,15,30)},minorTicks:{amount:4,fitFunction:cs(void 0,2)}},{label:"Minute",unit:6e4,irregular:!1,greatTicks:{getReferenceKeyValue:Th("minutes",1,(function(t){return 0===t.seconds&&0===t.millis}),"seconds","millis")},majorTicks:{fitFunction:ls(3,5,10,15,30)},minorTicks:{amount:12,fitFunction:cs(void 0,3,6)}},{label:"Hour",unit:36e5,irregular:!1,greatTicks:{getReferenceKeyValue:Th("hours",1,(function(t){return 0===t.minutes&&0===t.seconds&&0===t.millis}),"minutes","seconds","millis")},majorTicks:{fitFunction:ls(3,6,12)},minorTicks:{amount:8,fitFunction:cs(void 0,2,4)}},{label:"Day",unit:864e5,irregular:!1,greatTicks:{getReferenceKeyValue:Th("day",1,(function(t){return 0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"hours","minutes","seconds","millis")},majorTicks:{fitFunction:cs({ignore:"last"},2,4)},minorTicks:{amount:7,fitFunction:cs({ignore:"last"},2,3)}},{label:"Week",unit:6048e5,irregular:!0,getPrevKeyValue:Fh(-1),getNextKeyValueIncludingRef:Fh(0),getNextKeyValue:Fh(1),greatTicks:!0,majorTicks:{fitFunction:cs(void 0,2)},minorTicks:{fitFunction:void 0}},{label:"Month",unit:2592e6,irregular:!0,getPrevKeyValue:kh("monthIndex",1,(function(t){return 1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:_h("monthIndex",1,(function(t){return 1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"day","hours","minutes","seconds","millis"),getNextKeyValue:Oh("monthIndex",1,"day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:cs(void 0,2,3,6)},minorTicks:{fitFunction:cs(void 0,2,4,6)}},{label:"Year",unit:31536e6,irregular:!0,getPrevKeyValue:kh("year",1,(function(t){return 1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:_h("year",1,(function(t){return 1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:Oh("year",1,"monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:cs({ignore:"first"},2,5)},minorTicks:{fitFunction:cs(void 0,2,5)}},{label:"Decade",unit:31536e7,irregular:!0,getPrevKeyValue:kh("year",10,(function(t){return t.year%10==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:_h("year",10,(function(t){return t.year%10==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:Oh("year",10,"year","monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:cs(void 0,2,4)},minorTicks:{fitFunction:cs(void 0,2,5)}},{label:"Century",unit:316224e7,irregular:!0,getPrevKeyValue:kh("year",100,(function(t){return t.year%100==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:_h("year",100,(function(t){return t.year%100==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:Oh("year",100,"year","monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:void 0},minorTicks:void 0},{label:"Millennium",unit:316224e8,irregular:!0,getPrevKeyValue:kh("year",1e3,(function(t){return t.year%1e3==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:_h("year",1e3,(function(t){return t.year%1e3==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:Oh("year",1e3,"year","monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:void 0},minorTicks:void 0}],jh=function(t,i,n,r,e){for(var o,s=i-t,a=e?0:Ih.length-1;e?a<Ih.length:a>=0;e?a+=1:a-=1){var u=s/Ih[a].unit;if((void 0===n||u>=n)&&(void 0===r||u<=r)){o=Ih[a];break}}return o},Bh=function(t,i,n){var r=jh(i,n,void 0,2,!0);if(void 0!==r&&0===Ih.indexOf(r)&&(r=Ih[1]),void 0!==r){if("great"===t)return r;var e="major"===t?1:2,o=Ih[Ih.indexOf(r)-e];return void 0===o?Ih[0]:o}},Dh=function(t,i,n){return function(r,e,o,s){var a=Bh("great",r,e);if(void 0===a)return[];if("Decade"===a.label||"Century"===a.label||"Millennium"===a.label)return[];var u,h=s>o?r:e,f=(r+e)/2,c=s>o?e:r;if(Ih.indexOf(a)<=Ih.findIndex((function(t){return"Hour"===t.label})))return"left"===n?[h]:[];if(!0===a.irregular)u=fs(r,e,a.getPrevKeyValue(t,i),a.getNextKeyValue(t,i));else{var l=a.greatTicks.getReferenceKeyValue(t,i)(r);u=hs(r,e,a.unit,l,void 0)}var v=function(t,i,n){var r,e;try{for(var o=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),s=o.next();!s.done;s=o.next()){var a=s.value;if(a>=t&&a<=i)return a}}catch(t){r={error:t}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}}(r,e,u);return"left"===n?void 0===v||Gn(v,f,c)?[h]:[v]:void 0!==v&&Gn(v,f,c)?[v]:[c]}},Lh=function(t,i,n){return function(r,e,o,s){var a,u=Bh(t,o,s);if(void 0===u)return[];if("great"===t&&void 0!==u.greatTicks)if(!0===u.irregular)a=fs(r,e,u.getPrevKeyValue(i,n),u.getNextKeyValue(i,n));else{var h=u.greatTicks.getReferenceKeyValue(i,n)(r);a=hs(r,e,u.unit,h,void 0)}else if("major"===t&&void 0!==u.majorTicks)a=!0===u.irregular?function(t,i,n,r){for(var e=[],o=n(t),s=0;o<i;)if(e.push(o),o=r(o),(s+=1)>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return e.push(o),e}(r,e,u.getPrevKeyValue(i,n),u.getNextKeyValue(i,n)):function(t,i,n){for(var r=[],e=t,o=0;(e-t)/(i-t)<.98;)if(r.push(e),e=t+(o+=1)*n,o>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return r.push(e),r}(r,e,u.unit);else{if("minor"!==t||void 0===u.minorTicks)return[];if(!0===u.irregular)a=function(t,i,n,r){for(var e=[],o=r(t),s=0;o<i;)if(e.push(o),o=r(o),(s+=1)>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return e}(r,e,u.getNextKeyValueIncludingRef(i,n),u.getNextKeyValue(i,n));else{var f=function(t){if(void 0!==t)return Ih[Ih.indexOf(t)+1]}(u);if(void 0===f)return[];a=us(r,e,f.unit/u.minorTicks.amount,void 0)}}return a}},Eh=function(t){return function(i,n,r,e,o,s){var a,u=Bh(t,o,s);if(void 0!==u)return"major"===t?a=u.majorTicks.fitFunction:u.minorTicks&&(a=u.minorTicks.fitFunction),a?a(i,n,r,e,o,s):void 0}},Ph=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Mh(i,t),i.prototype.pe=function(t){var i=this,n=void 0!==this.dateOrigin?this.dateOrigin.getTime():0,r=function(t){return Ih.map((function(n){var r=function(t,i,n){switch(n.label){case"NanoSecond10":case"NanoSecond100":return t.formatNanosecondRange;case"MicroSecond1":case"MicroSecond10":case"MicroSecond100":return t.formatMicrosecondRange;case"MilliSecond1":case"MilliSecond10":case"MilliSecond100":return"Great"===i?t.formatOptionsGreatMinute:t.formatMillisecondRange;case"Second":return"Great"===i?t.formatOptionsGreatMinute:"Major"===i?t.formatOptionsMajorSecond:t.formatOptionsMinorSecond;case"Minute":return"Great"===i?t.formatOptionsGreatMinute:"Major"===i?t.formatOptionsMajorMinute:t.formatOptionsMinorMinute;default:case"Hour":return"Great"===i?t.formatOptionsGreatHour:"Major"===i?t.formatOptionsMajorHour:t.formatOptionsMinorHour;case"Day":return"Great"===i?t.formatOptionsGreatDay:"Major"===i?t.formatOptionsMajorDay:t.formatOptionsMinorDay;case"Week":return"Great"===i?t.formatOptionsGreatWeek:"Major"===i?t.formatOptionsMajorWeek:t.formatOptionsMinorWeek;case"Month":return"Great"===i?t.formatOptionsGreatMonth:"Major"===i?t.formatOptionsMajorMonth:t.formatOptionsMinorMonth;case"Year":return"Great"===i?t.formatOptionsGreatYear:"Major"===i?t.formatOptionsMajorYear:t.formatOptionsMinorYear;case"Decade":return"Great"===i?void 0:"Major"===i?t.formatOptionsMajorDecade:t.formatOptionsMinorDecade;case"Century":return"Great"===i?void 0:"Major"===i?t.formatOptionsMajorCentury:void 0;case"Millennium":return}}(i,t,n);if("object"!=typeof r)return r;try{return new Intl.DateTimeFormat(i.locale,r)}catch(t){var e="";for(var o in r)e+=" ".concat(o,": ").concat(r[o],",");ci.console.error("Invalid Intl.DateTimeFormat ( locale: ".concat(i.locale,", formatOptions {").concat(e,"} )"))}}))},e=new Map;e.set("great",r("Great")),e.set("major",r("Major")),e.set("minor",r("Minor"));var o=function(t){return String(t)},s=function(t,r){return function(s,a){var u=s,h=s+n,f=a.start,c=a.end,l=f>c,v=Bh(t,l?c:f,l?f:c);if(void 0===v)return o(h);if("great"===t){var d,y=bi(s,"left"===r?f:c);if(u=d=!1===y?s:!1===v.irregular?"left"===r&&!1===l||"right"===r&&!0===l?v.greatTicks.getReferenceKeyValue(n,i.utc)(s):v.greatTicks.getReferenceKeyValue(n,i.utc)(s+1*v.unit):"left"===r&&!1===l||"right"===r&&!0===l?v.getPrevKeyValue(n,i.utc)(s):v.getNextKeyValue(n,i.utc)(s),h=d+n,"right"===r&&!0===y)return"";if("right"===r&&"Week"===v.label)return""}var A=e.get(t);if(void 0===A)return o(h,i.locale);var b=A[Ih.indexOf(v)];return void 0===b?"":"function"==typeof b?b(h,a,i.locale,{valueShifted:u,shiftOrigin:i.dateOrigin?i.dateOrigin.getTime():0}):b.format(h)}},a=[],u=[{Oo:"Great ticks (directive)",Fd:0,Qo:!0,ws:Lh("great",n,this.utc),Ms:void 0},{Oo:"Major ticks",Fd:1,Ce:this.majorTickStyle,be:s("major"),ws:Lh("major",n,this.utc),Ke:{Jo:Eh("major"),qo:"hide-tick"},Ms:void 0}];lh(this.greatTickStyle)||a.push({Oo:"Great ticks (left)",Ce:this.greatTickStyle.setLabelAlignment(-1),be:s("great","left"),ws:Dh(n,this.utc,"left"),Ae:!0,ts:!1}),lh(this.minorTickStyle)||u.push({Oo:"Minor ticks",Fd:2,Ce:this.minorTickStyle,be:s("minor"),ws:Lh("minor",n,this.utc),Ke:{Jo:Eh("minor"),qe:function(t,i,n,r,e,o){var s=Bh("minor",e,o);return!s||"Week"!==s.label},qo:"hide-tick"},Ms:void 0,Ko:2});var h=this.cursorFormatter;return{me:a,ge:u,xe:h?function(t,i,r){return h(n+t,i,r)}:function(t,r,e){var o=jh(Math.min(r.start,r.end),Math.max(r.start,r.end),void 0,1,!0),s=o&&o.unit<=.1,a=o&&o.unit<=100,u=o&&o.unit<=6e4,h=new Date(n+t),f=new Date(n+t);f.setHours(0,0,0,0);var c=s?i.formatNanosecondRange:a?i.formatMicrosecondRange:u?i.formatMillisecondRange:xh.hhmmss;return"".concat(new Intl.DateTimeFormat(e,{year:"numeric",month:"numeric",day:"numeric"}).format(h)," ").concat(c(h.getTime()-f.getTime(),r,i.locale,{valueShifted:t,shiftOrigin:n}))},Se:Math.pow(10,-5),we:31536e9}},i.prototype.setCursorFormatter=function(t){return this.set("cursorFormatter",t)},i.prototype.getCursorFormatter=function(){return this.get("cursorFormatter")},i.prototype.setTickStyle=function(t){return this.setGreatTickStyle(t).setMajorTickStyle(t).setMinorTickStyle(t)},i.prototype.setGreatTickStyle=function(t){if("function"==typeof t){var i=this.get("greatTickStyle");return this.set("greatTickStyle",t(i))}return this.set("greatTickStyle",t)},i.prototype.getGreatTickStyle=function(){return this.get("greatTickStyle")},i.prototype.setMajorTickStyle=function(t){return"function"==typeof t?this.set("majorTickStyle",t(this.get("majorTickStyle"))):this.set("majorTickStyle",t)},i.prototype.getMajorTickStyle=function(){return this.get("majorTickStyle")},i.prototype.setMinorTickStyle=function(t){if("function"==typeof t){var i=this.get("minorTickStyle");return this.set("minorTickStyle",t(i))}return this.set("minorTickStyle",t)},i.prototype.getMinorTickStyle=function(){return this.get("minorTickStyle")},i.prototype.setUTC=function(t){return this.set("utc",t)},i.prototype.getUTC=function(){return this.get("utc")},i.prototype.setLocale=function(t){return this.set("locale",t)},i.prototype.getLocale=function(){return this.get("locale")},i.prototype.setDateOrigin=function(t){return this.set("dateOrigin",t)},i.prototype.getDateOrigin=function(){return this.get("dateOrigin")},i.prototype.setFormatting=function(t,i,n){var r=this;return this.withMutations((function(e){return e.set("formatOptionsGreatYear",t||r.formatOptionsGreatYear).set("formatOptionsGreatMonth",t||r.formatOptionsGreatMonth).set("formatOptionsGreatWeek",t||r.formatOptionsGreatWeek).set("formatOptionsGreatDay",t||r.formatOptionsGreatDay).set("formatOptionsGreatHour",t||r.formatOptionsGreatHour).set("formatOptionsGreatMinute",t||r.formatOptionsGreatMinute).set("formatOptionsMajorCentury",i||r.formatOptionsMajorCentury).set("formatOptionsMajorDecade",i||r.formatOptionsMajorDecade).set("formatOptionsMajorYear",i||r.formatOptionsMajorYear).set("formatOptionsMajorMonth",i||r.formatOptionsMajorMonth).set("formatOptionsMajorWeek",i||r.formatOptionsMajorWeek).set("formatOptionsMajorDay",i||r.formatOptionsMajorDay).set("formatOptionsMajorHour",i||r.formatOptionsMajorHour).set("formatOptionsMajorMinute",i||r.formatOptionsMajorMinute).set("formatOptionsMajorSecond",i||r.formatOptionsMajorSecond).set("formatOptionsMinorDecade",n||r.formatOptionsMinorDecade).set("formatOptionsMinorYear",n||r.formatOptionsMinorYear).set("formatOptionsMinorMonth",n||r.formatOptionsMinorMonth).set("formatOptionsMinorWeek",n||r.formatOptionsMinorWeek).set("formatOptionsMinorDay",n||r.formatOptionsMinorDay).set("formatOptionsMinorHour",n||r.formatOptionsMinorHour).set("formatOptionsMinorMinute",n||r.formatOptionsMinorMinute).set("formatOptionsMinorSecond",n||r.formatOptionsMinorSecond)}))},i.prototype.setFormattingDecade=function(t,i){return this.withMutations((function(n){return t&&(n=n.set("formatOptionsMajorDecade",t)),i&&(n=n.set("formatOptionsMinorYear",i)),n}))},i.prototype.setFormattingYear=function(t,i){return this.withMutations((function(n){return t&&(n=n.set("formatOptionsMajorYear",t)),i&&(n=n.set("formatOptionsMinorMonth",i)),n}))},i.prototype.setFormattingMonth=function(t,i,n){return this.withMutations((function(r){return t&&(r=r.set("formatOptionsGreatYear",t)),i&&(r=r.set("formatOptionsMajorMonth",i)),n&&(r=r.set("formatOptionsMinorWeek",n)),r}))},i.prototype.setFormattingWeek=function(t,i,n){return this.withMutations((function(r){return t&&(r=r.set("formatOptionsGreatMonth",t)),i&&(r=r.set("formatOptionsMajorWeek",i)),n&&(r=r.set("formatOptionsMinorDay",n)),r}))},i.prototype.setFormattingDay=function(t,i,n){return this.withMutations((function(r){return t&&(r=r.set("formatOptionsGreatWeek",t)),i&&(r=r.set("formatOptionsMajorDay",i)),n&&(r=r.set("formatOptionsMinorHour",n)),r}))},i.prototype.setFormattingHour=function(t,i,n){return this.withMutations((function(r){return t&&(r=r.set("formatOptionsGreatDay",t)),i&&(r=r.set("formatOptionsMajorHour",i)),n&&(r=r.set("formatOptionsMinorMinute",n)),r}))},i.prototype.setFormattingMinute=function(t,i,n){return this.withMutations((function(r){return t&&(r=r.set("formatOptionsGreatHour",t)),i&&(r=r.set("formatOptionsMajorMinute",i)),n&&(r=r.set("formatOptionsMinorSecond",n)),r}))},i.prototype.setFormattingSecond=function(t,i,n){return this.withMutations((function(r){return t&&(r=r.set("formatOptionsGreatMinute",t)),i&&(r=r.set("formatOptionsMajorSecond",i)),n&&(r=r.set("formatOptionsMinorMillisecond",n)),r}))},i.prototype.setFormattingMilliSecond=function(t,i){return this.withMutations((function(n){return t&&(n=n.set("formatOptionsGreatSecond",t)),i&&(n=n.set("formatOptionsMajorMilliSecond",i)),n}))},i}(i({utc:!1,locale:void 0,dateOrigin:void 0,cursorFormatter:void 0,greatTickStyle:new hh,majorTickStyle:new hh,minorTickStyle:new hh,formatOptionsMajorCentury:{year:"numeric",hour12:!1},formatOptionsMinorDecade:{year:"numeric",hour12:!1},formatOptionsMajorDecade:{year:"numeric",hour12:!1},formatOptionsMinorYear:{year:"numeric",hour12:!1},formatOptionsMajorYear:{year:"numeric",hour12:!1},formatOptionsMinorMonth:{month:"short",hour12:!1},formatOptionsGreatYear:{year:"numeric",hour12:!1},formatOptionsMajorMonth:{month:"long",hour12:!1},formatOptionsMinorWeek:{day:"numeric",hour12:!1},formatOptionsGreatMonth:{year:"numeric",month:"long",hour12:!1},formatOptionsMajorWeek:{day:"numeric",weekday:"short",hour12:!1},formatOptionsMinorDay:{day:"numeric",weekday:"short",hour12:!1},formatOptionsGreatWeek:function(t,i,n){var r=new Date(t),e=function(t){var i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));i.setUTCDate(i.getUTCDate()+4-(i.getUTCDay()||7));var n=new Date(Date.UTC(i.getUTCFullYear(),0,1));return Math.ceil(((i.getTime()-n.getTime())/864e5+1)/7)}(r);return"".concat(new Intl.DateTimeFormat(n,{year:"numeric",month:"long",hour12:!1}).format(r)," Week ").concat(e)},formatOptionsMajorDay:{weekday:"long",day:"numeric",hour12:!1},formatOptionsMinorHour:{hour:"2-digit",minute:"2-digit",hour12:!1},formatOptionsGreatDay:{year:"numeric",month:"long",day:"numeric",hour12:!1},formatOptionsMajorHour:{hour:"2-digit",minute:"2-digit",hour12:!1},formatOptionsMinorMinute:{hour:"2-digit",minute:"2-digit",hour12:!1},formatOptionsGreatHour:{year:"numeric",month:"long",day:"numeric",hour12:!1},formatOptionsMajorMinute:{hour:"2-digit",minute:"2-digit",hour12:!1},formatOptionsMinorSecond:{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},formatOptionsGreatMinute:{year:"numeric",month:"long",day:"numeric",hour12:!1},formatOptionsMajorSecond:{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},formatOptionsMinorMillisecond:function(t){var i=new Date(t);return i.setHours(0,0,0,0),xh.hhmmssmmm(t-i.getTime())},formatMillisecondRange:function(t){var i=new Date(t);return i.setHours(0,0,0,0),xh.hhmmssmmm(t-i.getTime())},formatMicrosecondRange:function(t){var i=new Date(t);return i.setHours(0,0,0,0),xh.hhmmssmmmuuu(t-i.getTime())},formatNanosecondRange:function(t,i,n,r){var e;return r?((e=new Date(r.valueShifted)).setHours(0,0,0,0),xh.hhmmssmmmuuunnn(r.valueShifted-e.getTime())):((e=new Date(t)).setHours(0,0,0,0),xh.hhmmssmmmuuunnn(t-e.getTime()))},formatOptionsGreatSecond:{},formatOptionsMajorMilliSecond:{}})),zh=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nh=function(t,i){return function(n,r,e,o,s){var a=r-n;if(i){var u=5;s<=125?u=2:s<=250?u=3:s<=500&&(u=4);var h,f=Math.log10(a/u),c=Math.floor(2*f)/2,l=1/(h=c%1==0?Math.pow(10,c-t):Math.pow(10,Math.ceil(c))/2);h=Math.round(h*l)/l;var v=Math.round(Math.floor(n/(10*h))*h*10*l)/l;return hs(v,r,h,void 0,l)}var d=a/5,y=1/d;return d=Math.round(d*y)/y,us(n,r,d,y)}},Vh=function(t,i,n,r,e,o){return 0===i?t.filter((function(t,i){return i%2==0})):1===i?t.filter((function(t,i){return i%5==0})):2===i?t.filter((function(t,i){return i%10==0})):void 0},Rh=function(t,i,n,r,e,o){},Gh=function(t,i,n,r,e,o){return 0===i?t.filter((function(t,i){return i%2==0})):1===i?t.filter((function(t,i){return i%3==0})):2===i?t.filter((function(t,i){return i%4==0})):3===i?t.filter((function(t,i){return i%5==0})):void 0},Uh=function(t,i,n,r,e,o){return 0===i?[t[1],t[3],t[5]]:1===i?[t[0],t[3]]:2===i?[t[1]]:void 0},Yh=function(t,i){var n=gr(t),r=xr(t);if(i)return function(t,i){for(var e=[],o=Math.floor(n(t)),s=Math.ceil(n(i)),a=o-1;a<=s+1;a+=1){var u=Math.pow(r,a);e.push(u)}return e};var e=10===t?9:4;return function(t,i){for(var o=Math.round(n(t)),s=Math.round(n(i)),a=[],u=Math.pow(r,o),h=(Math.pow(r,s)-u)/e,f=1;f<=e;f+=1){var c=u+h*f;c>t&&c<i&&a.push(c)}return a}},Wh=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return zh(i,t),i.prototype.pe=function(t){var i=this.formattingOffset,n=this.get("extremeFormattingFunction")||("logarithmic"===t.type?function(i,n){return Tr.LogarithmicNoExponents(i,n,void 0,t.base)}:Tr.Numeric),r=this.get("majorFormattingFunction")||("logarithmic"===t.type?function(i,n){return Tr.LogarithmicNoExponents(i,n,void 0,t.base)}:Tr.Numeric),e=this.get("minorFormattingFunction")||("logarithmic"===t.type?function(i,n){return Tr.LogarithmicNoExponents(i,n,void 0,t.base)}:Tr.Numeric),o=[],s=[];lh(this.extremeTickStyle)||o.push({Oo:"Extreme ticks",Ce:this.extremeTickStyle,be:void 0===i?n:function(t,r,e){return n(i+t,r,e)},ws:as,Ae:!0,ts:!0});var a={Oo:"Major ticks",Fd:0,Ce:this.majorTickStyle,be:void 0===i?r:function(t,n,e){return r(i+t,n,e)},ws:"logarithmic"===t.type?Yh(t.base,!0):Nh(0,!0),Ke:{qo:"hide-label",Jo:"logarithmic"===t.type?Gh:Vh},Ms:void 0};if(s.push(a),!lh(this.minorTickStyle)){var u="logarithmic"===t.type?Yh(t.base,!1):Nh(1,!1);s.push({Oo:"Minor ticks",Fd:1,Ce:this.minorTickStyle,be:void 0===i?e:function(t,n,r){return e(i+t,n,r)},ws:function(t,i,n,r,e){return u(t,i,n,r,e)},Ke:{qo:"hide-tick",Jo:"logarithmic"===t.type?Uh:Rh},Ms:80})}var h=this.cursorFormatter?this.cursorFormatter:Tr.Numeric;return{me:o,ge:s,xe:void 0===i?h:function(t,n,r){return h(i+t,n,r)},Se:1e-9,we:void 0,zo:this.fallBackToExtremeTicksAutomatically?a:void 0}},i.prototype.setCursorFormatter=function(t){return this.set("cursorFormatter",t)},i.prototype.getCursorFormatter=function(){return this.get("cursorFormatter")},i.prototype.setExtremeTickStyle=function(t){if("function"==typeof t){var i=this.get("extremeTickStyle");return this.set("extremeTickStyle",t(i))}return this.set("extremeTickStyle",t)},i.prototype.getExtremeTickStyle=function(){return this.get("extremeTickStyle")},i.prototype.setFormattingOffset=function(t){return this.set("formattingOffset",t)},i.prototype.getFormattingOffset=function(){return this.get("formattingOffset")},i.prototype.setTickStyle=function(t){var i=this.setMajorTickStyle(t).setMinorTickStyle(t);return i.extremeTickStyle!==ch?i.setExtremeTickStyle(t):i},i.prototype.setMajorTickStyle=function(t){return"function"==typeof t?this.set("majorTickStyle",t(this.get("majorTickStyle"))):this.set("majorTickStyle",t)},i.prototype.getMajorTickStyle=function(){return this.get("majorTickStyle")},i.prototype.setMinorTickStyle=function(t){if("function"==typeof t){var i=this.get("minorTickStyle");return this.set("minorTickStyle",t(i))}return this.set("minorTickStyle",t)},i.prototype.getMinorTickStyle=function(){return this.get("minorTickStyle")},i.prototype.setFormattingFunction=function(t){return this.withMutations((function(i){return i.set("extremeFormattingFunction",t).set("majorFormattingFunction",t).set("minorFormattingFunction",t).set("cursorFormatter",t)}))},i.prototype.getExtremeFormattingFunction=function(){return this.get("extremeFormattingFunction")},i.prototype.setExtremeFormattingFunction=function(t){return this.set("extremeFormattingFunction",t)},i.prototype.getMajorFormattingFunction=function(){return this.get("majorFormattingFunction")},i.prototype.setMajorFormattingFunction=function(t){return this.set("majorFormattingFunction",t)},i.prototype.getMinorFormattingFunction=function(){return this.get("minorFormattingFunction")},i.prototype.setMinorFormattingFunction=function(t){return this.set("minorFormattingFunction",t)},i.prototype.getFallBackToExtremeTicksAutomatically=function(){return this.get("fallBackToExtremeTicksAutomatically")},i.prototype.setFallBackToExtremeTicksAutomatically=function(t){return this.set("fallBackToExtremeTicksAutomatically",t)},i}(i({cursorFormatter:void 0,extremeTickStyle:new hh,majorTickStyle:new hh,minorTickStyle:new hh,formattingOffset:void 0,extremeFormattingFunction:void 0,majorFormattingFunction:void 0,minorFormattingFunction:void 0,fallBackToExtremeTicksAutomatically:!0})),Xh=function(t,i,n,r,e){void 0===n&&(n="image/png"),void 0===e&&(e=1);var o=n.slice(n.indexOf("image/")+6);i+=".".concat(o);var s=t.captureFrame(n,r,void 0,e);if("image/png"!==n&&s.type.includes("image/png"))throw new Error("saveToFile | type not supported by browser: ".concat(n,"\nCheck support table for HTMLCanvasElement.toDataURL"));if(ci.navigator.msSaveBlob)ci.navigator.msSaveBlob(s,i);else{var a=ci.document.createElement("a");ci.document.body.appendChild(a);var u=ci.URL.createObjectURL(s);a.href=u,a.download=i,a.click(),setTimeout((function(){ci.URL.revokeObjectURL(u),ci.document.body.removeChild(a)}),0)}},Hh=function(t,i,n,r,e,o){var s=t.na(i,n,r,e,o,!0);return s.setDraggingMode(Ht.draggable),s},Zh=function(t,i){if("relative"===t)return i;if(t instanceof it)return t;var n=t.x instanceof Ss?t.x.ai:t.x.x,r=t.y instanceof Ss?t.y.ai:t.y.y;return Qr(n,r)},Qh=function(t,i,n,r,e){if(n){var o=t,s=i,a=ah(s)?s:qr(s)?r:void 0;if(a&&Jr(n)){var u=at(o,a,e.ai);return e.Yu({engineX:u.x,engineY:u.y})}if(a&&qr(n))return at(o,a,r);if(a&&ah(n))return at(o,a,n)}else{if(o=t,qr(i))return u=e.Uu(o),at({x:u.engineX,y:u.engineY},e.ai,r);if(ah(i)){var h=i;return u=e.Uu(o),at({x:u.engineX,y:u.engineY},e.ai,h)}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")},Jh=function(){function t(t){this.Yd=[],this.Wd=t}return t.prototype.Xd=function(){var t=this;return this.Hd(),{add:function(){return t.uf()},finishPlot:function(){t.Zd()}}},t.prototype.uf=function(){var t=this.Yd.find((function(t){return t.isFree}));return t||(t={isFree:!1,shape:this.Wd()},this.Yd.push(t)),t.isFree=!1,t.shape},t.prototype.Hd=function(){this.Yd.forEach((function(t){t.isFree=!0}))},t.prototype.Zd=function(){var t=this;this.Yd.filter((function(t){return t.isFree})).forEach((function(i){i.shape.dispose(),t.Yd.splice(t.Yd.indexOf(i),1)}))},t.prototype.Qd=function(){this.Yd.forEach((function(t){return t.shape.dispose()})),this.Yd.length=0},t.prototype.Ds=function(){return this.Yd.map((function(t){return t.shape}))},t}(),Kh=function(){return Kh=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Kh.apply(this,arguments)},qh=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},$h=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},tf=function(t){var i=t.layer,n=t.scale,r=t.panel,e=t.legend,o=void 0,s=r.Ai.gn,a=new Map,u=function(t,i,n,r){var e;a.has(t)||a.set(t,[]),null===(e=a.get(t))||void 0===e||e.push({eventType:i,callback:n}),t.addEventListener(i,n,r)},h=function(){var t,i,n,r;try{for(var e=qh(a.entries()),o=e.next();!o.done;o=e.next()){var s=$h(o.value,2),u=s[0],h=s[1];try{for(var f=(n=void 0,qh(h)),c=f.next();!c.done;c=f.next()){var l=c.value,v=l.eventType,d=l.callback;u.removeEventListener(v,d)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}}}catch(i){t={error:i}}finally{try{o&&!o.done&&(i=e.return)&&i.call(e)}finally{if(t)throw t.error}}a.clear()},f=[],c=[],l=[],v=new Jh((function(){return i.ps(n).As(gn).bs(gn)})),d=new Jh((function(){return i.Ul(n)})),y=i.Ml(n).$r(r.getTheme().uiBackgroundFillStyle).setVisible(!1),A=y.za().kl({extent:8,c_x1_y1:!0,c_x1_y2:!0,c_x2_y1:!0,c_x2_y2:!0}),b=r.getTheme().uiButtonFillStyle,p=r.getTheme().uiButtonFillStyleHidden,m=r.getTheme().uiTextFillStyle,g=r.getTheme().uiTextFillStyleHidden,x=r.getTheme().uiTextFont,S=r.getTheme().uiBackgroundFillStyle,w=r.getTheme().uiBackgroundStrokeStyle,M=r.getTheme().uiButtonStrokeStyle,C=function(){y.setVisible(!1),f.forEach((function(t){return t.setVisible(!1).Io()})),c.forEach((function(t){return t.setVisible(!1)})),l.forEach((function(t){return t.setVisible(!1)}))},T=function(o){var a,c,l,y;h(),o.titleEvents.zi(),o.backgroundEvents.zi(),f.forEach((function(t){return t.dispose()})),f.length=0;var A,S=v.Xd(),w=d.Xd(),C=null!==(a=o.marginInner)&&void 0!==a?a:0,T=o.marginOuter,k=o.chartPadding,_={left:T.left+k.left,right:T.right+k.right,top:T.top+k.top,bottom:T.bottom+k.bottom},O=r.getSizePixels(),F={x:-1,y:1};if("number"==typeof o.position)switch(o.position){case nh.TopLeft:case nh.TopCenter:case nh.TopRight:case nh.BottomLeft:case nh.BottomCenter:case nh.BottomRight:A={x:O.x-o.chartTitleSpace.left-o.chartTitleSpace.right-_.left-_.right,y:O.y-o.chartTitleSpace.top-o.chartTitleSpace.bottom-_.top-_.bottom};break;default:A={x:O.x-_.left-_.right,y:O.y-_.top-_.bottom}}else o.position.origin&&(F=o.position.origin),A={x:O.x-o.position.x*(F.x+1)/2,y:o.position.y*(F.y+1)/2};var I=void 0!==o.orientation?o.orientation===rh.Vertical:"number"==typeof o.position&&o.position<6,j=null!==(c=o.padding)&&void 0!==c?c:{left:5,right:5,top:5,bottom:5},B=j.top+j.bottom,D=j.left+j.right,L=null!==(l=o.entryMargin)&&void 0!==l?l:10,P={left:L,right:L,top:L,bottom:L},z=t.panel.getTheme().uiButtonSize,N=0,V=0,R=0,G=0,U=[],Y=o.title?S.add().Uh({x:-1,y:0}).Wo(o.title).bo(o.titleFont?new E(o.titleFont):x.setWeight("bold")).$r(null!==(y=o.titleFillStyle)&&void 0!==y?y:m).As(P):void 0;if(Y){var W=Y.setVisible(!0).Io().Oc();R=I?W.y:W.x+L,G=I?W.x:W.y,N=W.x,V=W.y,o.titleEvents.Pi(Y)}var X=o.entries.filter((function(t){return!1!==t.options.show})),H=X.map((function(t,o){var a,h,c=void 0!==t.options.text?t.options.text:t.component&&"getName"in t.component?t.component.getName():"",l=t.component&&t.component.getVisible?t.component.getVisible()?void 0!==t.options.textFillStyle?t.options.textFillStyle:m:g:void 0!==t.options.textFillStyle?t.options.textFillStyle:m,v=t.options.textFont?new E(t.options.textFont):x,d=S.add().Uh({x:-1,y:0}).Wo(c).$r(l).bo(v).As(P),y=void 0!==t.options.buttonShape?t.options.buttonShape:t.component&&t.component.Gn?t.component.Gn():ve.Circle,C=$e(y);C&&y.Hn instanceof Image&&u(y.Hn,"load",(function(){e.Ln()}));var T=t.component&&t.component.getVisible?t.component.getVisible()?void 0!==t.options.buttonFillStyle?t.options.buttonFillStyle:t.component&&t.component.re?rn(r.getTheme(),t.options.matchStyleExactly||!1,t.component.re()):b:p:void 0!==t.options.buttonFillStyle?t.options.buttonFillStyle:t.component&&t.component.re?rn(r.getTheme(),t.options.matchStyleExactly||!1,t.component.re()):b,k=null!==(a=t.options.buttonStrokeStyle)&&void 0!==a?a:M,_=void 0!==t.options.buttonSize?t.options.buttonSize:C?Math.max(y.Mt().x,y.Mt().y):c?z:0,O=void 0!==t.options.buttonRotation?t.options.buttonRotation:t.component&&t.component.getPointRotation?t.component.getPointRotation():0,F=w.add().Jd({x:-1,y:0}).Kl(_).Xl(O);T&&F.Rl(T),void 0!==y&&F.Yl(y),F.Ql(k);var j=null===t.options.lut?void 0:t.options.lut?t.options.lut:t.component&&t.component.Rn?null===(h=t.component.Rn())||void 0===h?void 0:h.lut:void 0,Y=void 0;j&&(Y=new Uu(i,n,n,(function(){}),r.getTheme(),I?"vertical":"horizontal").Cv(j),f.push(Y),Y.Cv(j).setVisible(!0).Uh(I?"vertical":"horizontal").setFillStyle(l).setFont(v).setMargin(L).Mv(gn),t.options.lutLength&&Y.kv(t.options.lutLength),t.options.lutThickness&&Y.Ov(t.options.lutThickness),t.options.lutDisplayProportionalSteps&&Y.setLUTDisplayProportionalSteps(t.options.lutDisplayProportionalSteps),t.options.lutStepValueFormatter&&Y.Bv(t.options.lutStepValueFormatter),j.units&&Y.Iv(j.units)),s.mn(d,(function(t){d.Oi(t)}),{animationEnabled:!0}),s.mn(F,(function(t){F.Oi(t)}),{animationEnabled:!0});var W=t.component&&ei(t.component)?t.component:void 0;W&&u(W,"highlightchange",(function(t){var i=t.highlight;d.Oi(i),F.Oi(i),r.Ai.Fn()})),[d,F].forEach((function(i){i&&(u(i,"pointerenter",(function(){!1!==t.options.highlight&&(W&&W.setHighlight(!0),d.Oi(1),F.Oi(1))})),u(i,"pointerleave",(function(){W&&W.setHighlight(!1),d.Oi(0),F.Oi(0)})))})),[d,F,Y].forEach((function(i){i&&(u(i,"pointerenter",(function(){r.engine.setMouseStyle(vo.Point)})),u(i,"pointerleave",(function(){r.engine.clearMouseStyle()})),t.options.events&&Object.entries(t.options.events).forEach((function(n){var r=$h(n,2),e=r[0],o=r[1];u(i,e,(function(i){return o(i,{entry:t,allEntries:X})}))})),u(i,"click",(function(){e.Ln(),r.Ai.Fn()})))}));var H=d.setVisible(!0).Io().Oc(),Z={length:0,thickness:0};if(Y){var Q=Y.Io().getSize();Z=I?{length:Q.y,thickness:Q.x}:{length:Q.x,thickness:Q.y}}var J=I?{width:(_?L+_:0)+Math.max(H.x,Z.thickness),height:Math.max(_,H.y)+Z.length}:{width:(_?L+_:0)+H.x+Z.length,height:Math.max(_,H.y,Z.thickness)};return N=Math.max(J.width,N),V=Math.max(J.height,V),(I?R+J.height<A.y-B:R+J.width<A.x-D)?(G=I?Math.max(J.width,G):Math.max(J.height,G),R+=I?J.height:J.width,o===X.length-1&&U.push(I?{width:G,height:0===U.length?R:A.y-B}:{width:0===U.length?R:A.x-D,height:G})):(U.push(I?{width:G,height:A.y-B}:{width:A.x-D,height:G}),R=I?J.height:J.width,o===X.length-1&&U.push(I?{width:J.width,height:A.y-B}:{width:A.x-D,height:J.height}),G=I?J.width:J.height),{text:c?d:void 0,button:c&&0!==_?F:void 0,buttonSize:_,lut:Y}}));return{entries:H,sectionSizes:U,legendTitle:Y,isVertical:I,availableChartSize:A,horizontalLegendPadding:D,verticalLegendPadding:B,marginInner:C,totalMarginOuter:_,maxEntryWidth:N,maxEntryHeight:V,chartSize:O,legendSpace:{left:0,right:0,top:0,bottom:0},origin:F,legendPadding:j,entryMarginValue:L,shapeProviderText:S,shapeProviderMarker:w}};return{update:function(t){if(!t.visible||t.renderOnTop)return gn;var i=T(t);o=i;var n=i.entries,r=i.sectionSizes,e=i.isVertical,s=i.availableChartSize,a=i.horizontalLegendPadding,u=i.verticalLegendPadding,h=i.marginInner,f=i.totalMarginOuter,c=i.maxEntryWidth,l=i.maxEntryHeight,v=i.legendSpace,d=i.shapeProviderText,y=i.shapeProviderMarker;if(d.finishPlot(),y.finishPlot(),0===n.length&&0===r.length)return gn;var A=rf(e,r,a,u,s);if(t.autoHideThreshold&&nf(t.autoHideThreshold,A,s,e,c,l))return gn;var b=Kh({},v),p=t.chartPadding,m=Math.max(0,f.left-p.left),g=Math.max(0,f.right-p.right),x=Math.max(0,f.top-p.top),S=Math.max(0,f.bottom-p.bottom);switch(t.position){case nh.RightTop:case nh.RightCenter:case nh.RightBottom:b.right=A.width+h+g;break;case nh.LeftTop:case nh.LeftCenter:case nh.LeftBottom:b.left=A.width+h+m;break;case nh.TopLeft:case nh.TopCenter:case nh.TopRight:b.top=A.height+h+x;break;case nh.BottomLeft:case nh.BottomCenter:case nh.BottomRight:b.bottom=A.height+h+S}return b},plot:function(t){var i;if(t.visible){var n=o||T(t);o=void 0;var r=n.entries,e=n.sectionSizes,s=n.legendTitle,a=n.isVertical,u=n.availableChartSize,h=n.horizontalLegendPadding,f=n.verticalLegendPadding,b=n.chartSize,p=n.maxEntryWidth,m=n.maxEntryHeight,g=n.origin,x=n.legendPadding,M=n.entryMarginValue,k=n.shapeProviderText,_=n.shapeProviderMarker,O=n.totalMarginOuter;if(c=v.Ds(),l=d.Ds(),0===r.length&&0===e.length)return C(),k.finishPlot(),void _.finishPlot();var F=rf(a,e,h,f,u);if(t.autoHideThreshold&&nf(t.autoHideThreshold,F,u,a,p,m))return C(),k.finishPlot(),void _.finishPlot();var I=(g.x+1)*F.width/2,j=(g.y+1)*F.height/2;c.forEach((function(t){return t.setVisible(!0)})),l.forEach((function(t){return t.setVisible(!0)}));var B=t.chartTitleSpace,D={leftBottom:{x:0,y:0},leftTop:{x:0,y:0},rightTop:{x:0,y:0},rightBottom:{x:0,y:0}};switch(t.position){case nh.RightTop:case nh.RightCenter:case nh.RightBottom:D={leftBottom:{x:b.x-F.width-O.right,y:0+O.bottom},leftTop:{x:b.x-F.width-O.right,y:b.y-O.top},rightTop:{x:b.x-O.right,y:b.y-O.top},rightBottom:{x:b.x-O.right,y:0+O.bottom}};break;case nh.LeftTop:case nh.LeftCenter:case nh.LeftBottom:D={leftBottom:{x:0+O.left,y:0+O.bottom},leftTop:{x:0+O.left,y:b.y-O.top},rightTop:{x:F.width+O.left,y:b.y-O.top},rightBottom:{x:F.width+O.left,y:0+O.bottom}};break;case nh.TopLeft:case nh.TopCenter:case nh.TopRight:D={leftBottom:{x:0+O.left,y:b.y-F.height-O.top-B.top},leftTop:{x:0+O.left,y:b.y-O.top-B.top},rightTop:{x:b.x-O.right,y:b.y-O.top-B.top},rightBottom:{x:b.x-O.right,y:b.y-F.height-O.top-B.top}};break;case nh.BottomLeft:case nh.BottomCenter:case nh.BottomRight:D={leftBottom:{x:0+O.left,y:0+O.bottom+B.bottom},leftTop:{x:0+O.left,y:F.height+O.bottom+B.bottom},rightTop:{x:b.x-O.right,y:F.height+O.bottom+B.bottom},rightBottom:{x:b.x-O.right,y:0+O.bottom+B.bottom}};break;default:D={leftBottom:{x:t.position.x-I,y:t.position.y-j},leftTop:{x:t.position.x-I,y:t.position.y-j+F.height},rightTop:{x:t.position.x-I+F.width,y:t.position.y-j+F.height},rightBottom:{x:t.position.x-I+F.width,y:t.position.y-j}}}if(t.backgroundVisible){var L={x:0,y:0},E=F.width,P=F.height;switch(t.position){case nh.RightTop:L={x:b.x-F.width-O.right,y:b.y-F.height-O.top};break;case nh.RightCenter:L={x:b.x-F.width-O.right,y:b.y/2-F.height/2-O.top/2+O.bottom/2};break;case nh.RightBottom:L={x:b.x-F.width-O.right,y:0+O.bottom};break;case nh.LeftTop:L={x:0+O.left,y:b.y-F.height-O.top};break;case nh.LeftCenter:L={x:0+O.left,y:b.y/2-F.height/2-O.top/2+O.bottom/2};break;case nh.LeftBottom:L={x:0+O.left,y:0+O.bottom};break;case nh.TopLeft:L={x:0+O.left,y:b.y-F.height-O.top-B.top};break;case nh.TopCenter:L={x:b.x/2-F.width/2+O.left/2-O.right/2,y:b.y-F.height-O.top-B.top};break;case nh.TopRight:L={x:b.x-F.width-O.right,y:b.y-F.height-O.top-B.top};break;case nh.BottomLeft:L={x:0+O.left,y:0+O.bottom+B.bottom};break;case nh.BottomCenter:L={x:b.x/2-F.width/2+O.left/2-O.right/2,y:0+O.bottom+B.bottom};break;case nh.BottomRight:L={x:b.x-F.width-O.right,y:0+O.bottom+B.bottom};break;default:L={x:t.position.x-I,y:t.position.y-j}}A._l(L.x,L.y,L.x+E,L.y+P)}t.backgroundEvents.Pi(y),y.setVisible(null===(i=t.backgroundVisible)||void 0===i||i),y.$r(void 0!==t.backgroundFillStyle?t.backgroundFillStyle:S),y.qr(void 0!==t.backgroundStrokeStyle?t.backgroundStrokeStyle:w);var z={x:0,y:0};switch(t.position){case nh.LeftTop:case nh.RightTop:z={x:D.leftTop.x,y:D.leftTop.y};break;case nh.LeftCenter:case nh.RightCenter:z={x:D.leftBottom.x,y:D.leftBottom.y+(D.leftTop.y-D.leftBottom.y)/2+F.height/2};break;case nh.LeftBottom:case nh.RightBottom:z={x:D.leftBottom.x,y:D.leftBottom.y+F.height};break;case nh.TopLeft:case nh.BottomLeft:z={x:D.leftTop.x,y:D.leftTop.y};break;case nh.TopCenter:case nh.BottomCenter:z={x:D.leftBottom.x+(D.rightBottom.x-D.leftBottom.x)/2-F.width/2,y:D.leftTop.y};break;case nh.TopRight:case nh.BottomRight:z={x:D.rightTop.x-F.width,y:D.leftTop.y};break;default:z={x:D.leftTop.x,y:D.leftTop.y}}z={x:z.x+x.left,y:z.y-x.top};var N=Kh({},z),V=0,R=0,G=[],U=[];if(s){var Y=s.Oc();s.ne(Kh(Kh({},z),{y:z.y-Y.y/2})),R+=a?Y.y:Y.x+M,z=Kh(Kh({},z),a?{y:z.y-Y.y}:{x:z.x+Y.x+M})}r.forEach((function(t){var i=t.text?t.text.Oc():{x:0,y:0},n=t.button?t.buttonSize:0,r=t.lut||void 0,o=ef(i,n,a,M,t.lut);R+o>=(a?e[V].height:e[V].width)&&e.length-1>V&&(G.push(U),U=[],V+=1,R=0),U.push({entry:t,textSize:i,buttonSize:n,lut:r,entryLength:o}),R+=o})),U.length>0&&G.push(U);var W=G.map((function(t,i){var n=t.reduce((function(t,i){return t+i.entryLength}),0);if(0===i&&s){var r=s.Oc();return n+(a?r.y:r.x+M)}return n}));G.forEach((function(i,n){var r,o=W[n],u=G.length>1;if(0===n)if(u)if(a){var h=(c=e[n].height)-o;r={x:N.x,y:N.y-h/2}}else h=(y=e[n].width)-o,r={x:N.x+h/2,y:N.y};else r=Kh({},N);else if(a){var f=e.slice(0,n).reduce((function(t,i){return t+i.width}),0),c=e[n].height,l=void 0;if(u){h=c-o;var v=void 0;switch(t.position){case nh.LeftTop:case nh.RightTop:v=D.leftTop.y-x.top;break;case nh.LeftCenter:case nh.RightCenter:v=D.leftBottom.y+(D.leftTop.y-D.leftBottom.y)/2+c/2;break;case nh.LeftBottom:case nh.RightBottom:v=D.leftBottom.y+c+x.bottom;break;default:v=N.y}l=v-h/2}else l=N.y;r={x:N.x+f,y:l}}else{var d=e.slice(0,n).reduce((function(t,i){return t+i.height}),0),y=e[n].width,A=void 0;if(u){h=y-o;var b=void 0;switch(t.position){case nh.TopLeft:case nh.BottomLeft:b=D.leftTop.x+x.left;break;case nh.TopCenter:case nh.BottomCenter:b=D.leftBottom.x+(D.rightBottom.x-D.leftBottom.x)/2-y/2;break;case nh.TopRight:case nh.BottomRight:b=D.rightTop.x-y-x.right;break;default:b=N.x}A=b+h/2}else A=N.x;r={x:A,y:N.y-d}}if(0===n&&s){var p=s.Oc();a?(s.ne({x:r.x,y:r.y-p.y/2}),r=Kh(Kh({},r),{y:r.y-p.y})):(s.ne({x:r.x,y:r.y-p.y/2}),r=Kh(Kh({},r),{x:r.x+p.x+M}))}var m=Kh({},r);i.forEach((function(t){of(m,t.entry.button,t.entry.text,t.lut,t.textSize,t.buttonSize,a,M),m=Kh(Kh({},m),a?{y:m.y-t.entryLength}:{x:m.x+t.entryLength})}))})),k.finishPlot(),_.finishPlot()}else C()},dispose:function(){h(),v.Qd(),d.Qd(),y.dispose(),f.forEach((function(t){return t.dispose()}))}}},nf=function(t,i,n,r,e,o){return(r?Math.ceil(i.width)>=Math.ceil(n.x*t):Math.ceil(i.height)>=Math.ceil(n.y*t))||e>n.x||o>n.y},rf=function(t,i,n,r,e){return t?{width:i.reduce((function(t,i){return t+i.width}),0)+n,height:i.length>1?e.y:i[0].height+r}:{width:i.length>1?e.x:i[0].width+n,height:i.reduce((function(t,i){return t+i.height}),0)+r}},ef=function(t,i,n,r,e){if(void 0===r&&(r=0),e){var o=e.Io().getSize(),s=n?{length:o.y,thickness:o.x}:{length:o.x,thickness:o.y};return n?Math.max(i,t.y)+s.length:(i?r+i:0)+t.x+s.length}return n?Math.max(i,t.y):(i?r+i:0)+t.x},of=function(t,i,n,r,e,o,s,a){var u,h;if(void 0===a&&(a=0),h=e.y>o?{x:(u={x:t.x+(o?a:0),y:t.y-e.y/2}).x+o,y:t.y-e.y/2}:{x:(u={x:t.x+(o?a:0),y:t.y-o/2}).x+o,y:t.y-o/2},i&&i.Vl(new Ga({schema:{x:{},y:{}}}).appendSample(u),{x:"x",y:"y"}),n&&n.ne(h),r){var f=r.Io().getSize(),c=s?{length:f.y,thickness:f.x}:{length:f.x,thickness:f.y},l=s?{x:h.x+c.thickness/2,y:t.y-Math.max(o,e.y)-c.length/2}:{x:h.x+e.x+c.length/2,y:t.y-c.thickness/2};r.setPosition(l),r.ie()}},sf=function(){return sf=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},sf.apply(this,arguments)},af=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},uf=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},hf=function(t){return"Rn"in t};!function(t){t[t.RightTop=0]="RightTop",t[t.RightCenter=1]="RightCenter",t[t.RightBottom=2]="RightBottom",t[t.LeftTop=3]="LeftTop",t[t.LeftCenter=4]="LeftCenter",t[t.LeftBottom=5]="LeftBottom",t[t.TopLeft=6]="TopLeft",t[t.TopCenter=7]="TopCenter",t[t.TopRight=8]="TopRight",t[t.BottomLeft=9]="BottomLeft",t[t.BottomCenter=10]="BottomCenter",t[t.BottomRight=11]="BottomRight"}(nh||(nh={})),function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(rh||(rh={}));var ff,cf={toggleIndividualVisibility:function(t,i){if(i.entry.component&&i.entry.component.getVisible&&i.entry.component.setVisible){var n=i.entry.component.getVisible();i.entry.component.setVisible(!n)}},focusClicked:function(t,i){if(i.entry.component&&i.entry.component.getVisible&&i.entry.component.setVisible){var n=!1;i.allEntries.forEach((function(t){t.component&&t.component.getVisible&&t.component.getVisible()&&t!==i.entry&&(n=!0)})),i.allEntries.forEach((function(t){t.component&&t.component.setVisible&&t.component.setVisible(!n)})),i.entry.component.setVisible(!0)}},doNothing:function(){}},lf=function(){function t(t,i,n,r,e,o){var s,a=this;this.Kd=[],this.qd=!0,this.Cs=nh.BottomCenter,this.Ve=void 0,this.$d=!1,this.ty=!1,this.iy=!0,this.ny=!1,this.ey={left:0,right:0,top:0,bottom:0},this.fi=!1,this.oy=5,this.sy={x:0,y:0},this.uy=!0,this.hy=.5,this.ly=[],this.vy=!1,this.title=new Nt,this.background=new Nt,this.yy=i,this.Ay=null!==(s=i.getTheme().panelPadding)&&void 0!==s?s:7,this.by={events:{click:cf.toggleIndividualVisibility}},t!==tf&&(this.$d=!0);var u=this.$d?{panel:i}:{panel:i,layer:n,scale:r,legend:this};this.my=t(u),e&&(this.Kd=e),o&&this.setOptions(o),this.yy.Ai.Fn();var h=function(){ci.setTimeout((function(){a.Ln(),a.yy.Ai.Fn()}),0)};ci.setTimeout((function(){a.fi||a.yy.addEventListener("resize",h)}),0),this.gy=function(){a.yy.removeEventListener("resize",h)}}return t.prototype.xy=function(t,i){var n=this,r=t&&"number"==typeof t?sf(sf({},gn),{top:t}):t&&"number"!=typeof t?t:gn,e={visible:this.Kd.length>0&&this.qd,chartTitleSpace:r,marginOuter:this.ey,chartPadding:i,titleEvents:this.title,backgroundEvents:this.background,position:this.Cs,orientation:this.Sy,padding:this.Ls?this.Ls:this.ty?{left:5,right:5,top:5,bottom:5}:gn,entryMargin:this.oy,marginInner:this.Ay,renderOnTop:this.ny,title:this.Ve,titleFont:this.wy,titleFillStyle:this.My,backgroundVisible:this.ty,backgroundFillStyle:this.Cy,backgroundStrokeStyle:this.Ty,autoHideThreshold:this.hy,entries:this.Kd};if(this.$d){var o=this.yy.getTheme().uiTextFillStyle,s=this.yy.getTheme().uiButtonFillStyle,a=this.yy.getTheme().uiTextFont,u=this.Kd.map((function(t){var i,r,e,u,h;return{component:t.component,options:sf(sf({},t.options),{show:null===(i=t.options.show)||void 0===i||i,text:null!==(r=t.options.text)&&void 0!==r?r:t.component&&t.component.getName?t.component.getName():"",textFont:t.options.textFont?t.options.textFont:a,textFillStyle:t.options.textFillStyle?t.options.textFillStyle:o,buttonSize:null!==(e=t.options.buttonSize)&&void 0!==e?e:10,buttonShape:null!==(u=t.options.buttonShape)&&void 0!==u?u:ve.Circle,buttonRotation:null!==(h=t.options.buttonRotation)&&void 0!==h?h:0,buttonFillStyle:t.component&&t.component.re?rn(n.yy.getTheme(),t.options.matchStyleExactly||!1,t.component.re()):s,events:sf({click:cf.toggleIndividualVisibility},t.options.events)})}}));e=sf(sf({},e),{entries:u})}return e},t.prototype.ky=function(){var t=!1,i=this.yy.getSizePixels(),n=this.yy.getMinimumSize(),r=void 0===n||i.x>n.x&&i.y>n.y;return i.x===this.sy.x&&i.y===this.sy.y&&r||(t=!0),this.sy=i,t},t.prototype._y=function(){var t=this,i=this.Kd.map((function(t){return{entryText:t.component&&t.component.getName?t.component.getName():void 0,buttonShape:t.component&&t.component.Gn?t.component.Gn():void 0,legendStyle:t.component&&t.component.re?t.component.re():void 0}}));if(this.ly.length!==i.length)return this.ly=i,!0;var n=i.some((function(i,n){var r,e,o,s,a=t.ly[n];if(i.entryText!==a.entryText)return!0;if(i.buttonShape!==a.buttonShape)return!0;if(i.legendStyle&&a.legendStyle){if(i.legendStyle.fill!==a.legendStyle.fill)return!0;if(i.legendStyle.fill2!==a.legendStyle.fill2)return!0;if(i.legendStyle.stroke!==a.legendStyle.stroke)return!0;if(i.legendStyle.point3D!==a.legendStyle.point3D)return!0;if((null===(r=i.legendStyle.behavior)||void 0===r?void 0:r.colorStep)!==(null===(e=a.legendStyle.behavior)||void 0===e?void 0:e.colorStep))return!0;if((null===(o=i.legendStyle.behavior)||void 0===o?void 0:o.priority)!==(null===(s=a.legendStyle.behavior)||void 0===s?void 0:s.priority))return!0;if(i.legendStyle.lutValue!==a.legendStyle.lutValue)return!0}}));return this.ly=i,n},t.prototype.Oy=function(){this.vy||this.Cs===nh.RightCenter||this.Kd.some((function(t){var i;return!!(t.component&&t.component.Rn&&(null===(i=t.component.Rn())||void 0===i?void 0:i.lut)||Lr(t.component)||t.options.lut)}))&&(this.Cs=nh.RightCenter,this.uy=!0)},t.prototype.Io=function(t,i){var n;if(this.fi)return gn;if((this.ky()||this._y())&&(this.uy=!0),this.Oy(),!this.uy&&!this.$d)return null!==(n=this.Fy)&&void 0!==n?n:gn;var r=this.xy(t,i),e=this.my.update(r);return this.Fy=e||gn,this.Fy},t.prototype.ie=function(t,i){if(!this.fi&&this.uy){var n=this.xy(t,i);this.my.plot(n),this.uy=!1}},t.prototype.lf=function(t,i){var n=this;if(void 0===t||!this.Kd.some((function(i){return i.component===t}))){if(this.Kd.push({component:t,options:sf(sf({},this.by),i)}),t instanceof fe){var r=function(){n.Ln(),n.yy.Ai.Fn()},e=function(){t.removeEventListener("dispose",e),t.removeEventListener("visiblechange",r),n.remove(t),n.yy.Ai.Fn()};t.addEventListener("visiblechange",r),t.addEventListener("dispose",e)}return this.uy=!0,this}},t.prototype.Iy=function(){return this.iy},t.prototype.Ln=function(){return this.uy=!0,this},t.prototype.jy=function(t){var i=this,n=(t=Array.isArray(t)?t:[t]).map((function(t){return hf(t)?i.Kd.find((function(i){return i.component===t})):i.Kd.find((function(i){var n,r,e;return(null===(n=i.component)||void 0===n?void 0:n.Rn)&&(null===(e=null===(r=i.component)||void 0===r?void 0:r.Rn())||void 0===e?void 0:e.lut)===t}))})).filter((function(t){return void 0!==t})),r=this.Kd.filter((function(t){return!n.includes(t)}));return this.Kd=uf(uf([],af(n),!1),af(r),!1),this.uy=!0,this.yy.Ai.Fn(),this},t.prototype.add=function(t,i){var n=this;return void 0===t&&void 0===i||(t instanceof gf?t.By().forEach((function(t){return n.lf(t,i)})):t&&!hf(t)?this.lf({Rn:function(){return{lut:t}}},i):this.lf(t,i),this.uy=!0,this.yy.Ai.Fn()),this},t.prototype.remove=function(t){var i=this.Kd.find((function(i){return i.component===t}));if(i){var n=this.Kd.indexOf(i);this.Kd.splice(n,1)}return this.uy=!0,this.yy.Ai.Fn(),this},t.prototype.clear=function(){return this.Kd=[],this.uy=!0,this.yy.Ai.Fn(),this},t.prototype.dispose=function(){return this.fi||(this.fi=!0,this.gy(),this.my.dispose&&this.my.dispose(),this.uy=!0,this.yy.Ai.Fn()),this},t.prototype.setOptions=function(t){var i,n,r,e,o,s,a,u,h=this;return void 0!==t.addEntriesAutomatically&&(this.iy=t.addEntriesAutomatically),void 0!==t.position&&(this.Cs=t.position,this.vy=!0),void 0!==t.orientation&&(this.Sy=t.orientation),void 0!==t.padding&&("number"==typeof t.padding?this.Ls={left:t.padding,right:t.padding,top:t.padding,bottom:t.padding}:this.Ls={left:null!==(i=t.padding.left)&&void 0!==i?i:0,right:null!==(n=t.padding.right)&&void 0!==n?n:0,top:null!==(r=t.padding.top)&&void 0!==r?r:0,bottom:null!==(e=t.padding.bottom)&&void 0!==e?e:0}),void 0!==t.marginOuter&&("number"==typeof t.marginOuter?this.ey={left:t.marginOuter,right:t.marginOuter,top:t.marginOuter,bottom:t.marginOuter}:this.ey={left:null!==(o=t.marginOuter.left)&&void 0!==o?o:0,right:null!==(s=t.marginOuter.right)&&void 0!==s?s:0,top:null!==(a=t.marginOuter.top)&&void 0!==a?a:0,bottom:null!==(u=t.marginOuter.bottom)&&void 0!==u?u:0}),void 0!==t.entryMargin&&(this.oy=t.entryMargin),void 0!==t.marginInner&&(this.Ay=t.marginInner),void 0!==t.renderOnTop&&(this.ny=t.renderOnTop),void 0!==t.title&&(this.Ve=t.title),void 0!==t.titleFont&&(this.wy=t.titleFont),void 0!==t.titleFillStyle&&(this.My=t.titleFillStyle),void 0!==t.visible&&(this.qd=t.visible),void 0!==t.backgroundVisible&&(this.ty=t.backgroundVisible),void 0!==t.backgroundFillStyle&&(this.Cy=t.backgroundFillStyle),void 0!==t.backgroundStrokeStyle&&(this.Ty=t.backgroundStrokeStyle),void 0!==t.autoHideThreshold&&(this.hy=t.autoHideThreshold),void 0!==t.entries&&(this.by=sf(sf({},this.by),t.entries),this.Kd.forEach((function(t){t.options=sf(sf({},h.by),t.options)}))),this.uy=!0,this.yy.Ai.Fn(),this},t.prototype.getOptions=function(){return{addEntriesAutomatically:this.iy,position:this.Cs,orientation:this.Sy,padding:this.Ls,marginOuter:this.ey,entryMargin:this.oy,marginInner:this.Ay,renderOnTop:this.ny,title:this.Ve,titleFont:new E(this.wy),titleFillStyle:this.My,visible:this.qd,backgroundVisible:this.ty,backgroundFillStyle:this.Cy,backgroundStrokeStyle:this.Ty,autoHideThreshold:this.hy,entries:this.by}},t.prototype.setEntryOptions=function(t,i){var n=hf(t)?this.Kd.find((function(i){return i.component===t})):this.Kd.find((function(i){var n,r,e;return(null===(n=i.component)||void 0===n?void 0:n.Rn)&&(null===(e=null===(r=i.component)||void 0===r?void 0:r.Rn())||void 0===e?void 0:e.lut)===t}));return n&&(n.options=sf(sf({},n.options),i)),this.uy=!0,this.yy.Ai.Fn(),this},t.prototype.getEntryOptions=function(t){var i=hf(t)?this.Kd.find((function(i){return i.component===t})):this.Kd.find((function(i){var n,r,e;return(null===(n=i.component)||void 0===n?void 0:n.Rn)&&(null===(e=null===(r=i.component)||void 0===r?void 0:r.Rn())||void 0===e?void 0:e.lut)===t}));if(i)return i.options},t.prototype.getEntries=function(){return this.Kd},t}(),vf=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),df=function(){return df=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},df.apply(this,arguments)},yf=function(){function t(t,i,n,r,e,o,s,a,u){var f=this;this.coordsRelative="relative",this.coordsClient="client",this.Dy=[],this.Dn=[],this.Ly=void 0,this.Ey=void 0,this.Py=void 0,this.ot=b(0,0,0,0),this.zy=!1,this.fi=!1,this.Ny=function(){f.Vy=!0,f.Ry.Fn()},this.Gy=function(t){return function(i){var n=f.Dy.indexOf(i);-1!==n&&f.Dy.splice(n,1),f.Ai.Fn(),t.V()}},this.Vy=!0,this.background=new Nt,this.Uy=t,this.Yy=n,this.Ry=r,this.removePanel=e,this.xi=i.Ai.xi;var c=i.Ai.Mt();this.uiScale=n.d2({scaleXYConstructor:nt}).ti(0,100).ii(0,100).Z(c),this.hd=n.d2({scaleXYConstructor:nt}).ti(0,this.uiScale.x.getCellSize()).ii(0,this.uiScale.y.getCellSize()).Z(c),this.engine=i.Ai.Wy,this.Ai=i.Ai.Fc,this.yn=this.Ai.yn.An(this,{}),this.Xy=function(){return i.Hy("unidentified ui")},this.Zy=i.Qy(),this.Jy=this.Ry.te(this.uiScale).ne(h(0,0)).Z(h(100,100)).$r(o).qr(s),this.background.Pi(this.Jy),a?(a.addEventListener("resize",this.Ny),this.Ky=function(){return a.removeEventListener("resize",f.Ny)}):(i.Ai.L("resize",this.Ny),this.qy=function(){return i.Ai.N("resize",f.Ny)});var l=function(t){f.zy=t.isInView,f.j.D("inviewchanged",{isInView:f.zy})};i.Ai.L("inviewchanged",l),this.$y=function(){return i.Ai.N("inviewchanged",l)},this.Ly=e,this.legend=new lf(null!=u?u:tf,this,this.Zy,this.hd),this.Dn=[this.legend]}return t.prototype.getTheme=function(){return this.xi},t.prototype.getSizePixels=function(){return this.hd.getInnerIntervalPixels()},t.prototype.setBackgroundFillStyle=function(t){return this.Jy.$r(t),this.Ry.Fn(),this},t.prototype.getBackgroundFillStyle=function(){return this.Jy.vo()},t.prototype.setBackgroundStrokeStyle=function(t){return this.Jy.qr(t),this.Ry.Fn(),this},t.prototype.getBackgroundStrokeStyle=function(){return this.Jy.zu()},t.prototype.translateCoordinate=function(t,i,n){return Qh(t,i,n,this.hd,this.Ai)},t.prototype.tA=function(t){return this.Dy.push(t),this.Ai.Fn(),t},t.prototype.addUIElement=function(t,i){void 0===t&&(t=ku),void 0===i&&(i=this.uiScale),i=Zh(i,this.hd);var n=this.Xy();return this.tA(Hh(t,n,this.uiScale,i,this.Gy(n),this.xi))},t.prototype.dispose=function(){return this.fi||(this.fi=!0,this.qy&&this.qy(),this.Ky&&this.Ky(),Af(this.uiScale),Af(this.hd),this.$y&&this.$y(),this.Ey&&this.Ey(),this.Ry.V(),this.Zy.V(),this.Dy.slice().forEach((function(t){t.dispose()})),this.Dn.forEach((function(t){return t.dispose()})),this.Ai.Fn(),this.Ly&&this.Ly(this),this.j.D("dispose",{})),this},t.prototype.isDisposed=function(){return this.fi},t.prototype.saveToFile=function(t,i,n,r){return Xh(this.engine,t,i,n,r),this},t.prototype.As=function(t){this.ot=t,this.Ny()},t.prototype.Y=function(){return this.hd.Y(),this.uiScale.Y(),this},t.prototype.W=function(){return this.hd.W(),this.uiScale.W(),this},t.prototype.ie=function(t){if(this.Vy){var i=this.Ry.Ai.Mt(),n=i.x,r=i.y;this.uiScale.Z(n,r),this.hd.Z(n,r);var e=[this.ot.left,this.ot.right],o=[this.ot.bottom,this.ot.top];this.uiScale.qt(e),this.uiScale.$t(o);var s=this.uiScale.getInnerIntervalPixels();this.hd.ti(0,s.x).qt(e).ii(0,s.y).$t(o),this.j.D("resize",{width:s.x,height:s.y,engineHeight:r,engineWidth:n})}this.Vy=!1},t.prototype.iA=function(){for(var t=0;t<this.Dy.length;t+=1)this.Dy[t].Io().ie();this.Py&&this.Py()},t.prototype.nA=function(t,i){if(t){var n=t(i);this.addEventListener("resize",n.Io.bind(n)),this.Ey=n.V.bind(n),this.Py=n.Io.bind(n)}},t.prototype.getIsInView=function(){return this.zy},t}(),Af=function(t){t.yt&&t.yt()},bf=function(t){function i(i,n,r,e,o,s,a){var u=t.call(this,i,n,r,n.rA("uipanel bg",0),e,n.Ai.xi.uiPanelBackgroundFillStyle,n.Ai.xi.uiPanelBackgroundStrokeStyle,s)||this;return u.j=new Nt,u.legend.setOptions(df({position:nh.LeftTop},a)),u.nA(o,u.hd),u}return vf(i,t),i.prototype.setMinimumSize=function(t){return this.nv=t,this.Ai.Fn(),this},i.prototype.getMinimumSize=function(){return this.nv},i.prototype.ie=function(i){this.Dn.forEach((function(t){return t.Io(0,gn)})),t.prototype.ie.call(this,i),t.prototype.iA.call(this),this.Dn.forEach((function(t){return t.ie(0,gn)}))},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(yf),pf=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mf=function(){return mf=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},mf.apply(this,arguments)},gf=function(t){function i(i,n,r,e,o,s,a,u,f,c,l,v){var d=t.call(this,i,n,r,e,o,s,a,l,v)||this;return d.eA={},d.Ie=!0,d.oA={left:!1,top:!1,right:!1,bottom:!1},d.title=new Nt,d.sA=n.aA("chart internal ui",0),d.Ls=void 0!==d.xi.panelPadding?{left:d.xi.panelPadding,right:d.xi.panelPadding,top:d.xi.panelPadding,bottom:d.xi.panelPadding}:{left:7,right:7,top:7,bottom:7},d.Ve=d.sA.ps(d.uiScale).Wo("Chart").ne(h(50,100)).Uh(h(0,1)).bo(u).$r(f).setPointerEvents(!1).Yo(c),d.Ve.We=he.ChartTitle,d.title.Pi(d.Ve),d.uA=d.yn.yd([d.Ve]).On(d.xi.effectsText),d}return pf(i,t),i.prototype.addLegend=function(t){var i,n=void 0;(t=mf({addEntriesAutomatically:!1,backgroundVisible:!0},t)).addEntriesAutomatically&&this.legend&&(n=this.legend.getEntries());var r=null!==(i=t.customLegend)&&void 0!==i?i:tf,e=new lf(r,this,this.Zy,this.hd,n,t);return this.Dn.push(e),this.Ai.Fn(),e},i.prototype.setAnimationsEnabled=function(t){return this.Ie=t,this},i.prototype.getAnimationsEnabled=function(){return this.Ie},i.prototype.setTitle=function(t){return this.Ve.Wo(t),this.Ai.Fn(),this},i.prototype.getTitle=function(){return this.Ve.Zo()},i.prototype.getTitleSize=function(){return this.Ve.Io().Oc()},i.prototype.setTitleFillStyle=function(t){return this.Ve.$r(t),this.Ny(),this},i.prototype.getTitleFillStyle=function(){return this.Ve.vo()},i.prototype.setTitleShadow=function(t){return this.Ve.Yo(t),this.Ai.Fn(),this},i.prototype.getTitleShadow=function(){return this.Ve.Lh()},i.prototype.setTitleFont=function(t){return this.Ve.bo(t),this.Ny(),this},i.prototype.getTitleFont=function(){return this.Ve.Ao()},i.prototype.setTitleRotation=function(t){return this.Ve.po(t),this.Ai.Fn(),this},i.prototype.getTitleRotation=function(){return this.Ve.mo()},i.prototype.setTitleEffect=function(t){return this.uA.On(t),this.Ai.Fn(),this},i.prototype.getTitleEffect=function(){return this.uA.In()},i.prototype.setTitleMargin=function(t){var i,n;return this.eA="object"==typeof t?this.eA?(i=this.eA,{left:void 0!==(n=t).left?n.left:i.left,top:void 0!==n.top?n.top:i.top,right:void 0!==n.right?n.right:i.right,bottom:void 0!==n.bottom?n.bottom:i.bottom}):t:{left:t,top:t,right:t,bottom:t},this.Ny(),this},i.prototype.getTitleMargin=function(){return this.eA},i.prototype.bs=function(t,i){var n=this,r="object"==typeof t?m(this.Ls,t):{left:t,top:t,right:t,bottom:t};return r.bottom===this.Ls.bottom&&r.left===this.Ls.left&&r.right===this.Ls.right&&r.top===this.Ls.top||(Object.entries(t).forEach((function(t){var r=t[0],e=t[1];void 0===e||!i&&n.oA[r]||(n.Ls[r]=e,n.oA[r]=i)})),this.Ny()),this},i.prototype.setPadding=function(t){return this.bs("object"==typeof t?t:{left:t,top:t,right:t,bottom:t},!0),this},i.prototype.getPadding=function(){return this.Ls},i.prototype.hA=function(t){var i=t.fA(),n=null==i?void 0:i.height,r=null==i?void 0:i.width;if(void 0!==n&&void 0!==r)return{x:n/2,y:r/2}},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.sA.V(),this},i}(yf),xf=function(t,i){var n,r;return t.vo()!==Vr&&0!==t.Zo().length&&t.getVisible()?t.Io().Oc().y+(null!==(n=i.bottom)&&void 0!==n?n:10)+(null!==(r=i.top)&&void 0!==r?r:10):0},Sf=function(t,i,n,r,e){var o,s=e&&e.left?e.left:0,a=e&&e.right?e.right:0,u={x:50,y:100-n.y*(r.top+(null!==(o=i.top)&&void 0!==o?o:10))};t.ne(u).Uh({x:0,y:1}).As({top:0,bottom:0,right:r.right+(i.right||0)+a,left:r.left+(i.left||0)+s})},wf=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mf=function(){return Mf=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Mf.apply(this,arguments)},Cf=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,e,o)||this;return s.cA=Ie,s.lA=!0,s.vA=!0,s.dA=!0,s.chart=i,s.yA=r,s.vn=new Map,s.axisX=i.axisX,s.axisY=i.axisY,s.axisZ=i.axisZ,s}return wf(i,t),i.prototype.Ji=function(t,i,n){var r=null==t?void 0:t.dataPoint;if(r){var e=this.chart.translateCoordinate(i,this.chart.coordsRelative);return Mf(Mf({cursorPosition:{resultTable:e,resultTableScale:this.chart.hd,axisLocation:r}},r),{series:this,axisX:this.chart.getDefaultAxisX(),axisY:this.chart.getDefaultAxisY(),axisZ:this.chart.getDefaultAxisZ()})}},i.prototype.setCursorEnabled=function(t){return this.lA=t,this},i.prototype.getCursorEnabled=function(){return this.lA},i.prototype.setCursorFormattingOverride=function(t){return this.AA=t,this},i.prototype.getCursorFormattingOverride=function(){return this.AA},i.prototype.bA=function(){return this.getCursorEnabled()},i.prototype.setAutoScrollingEnabled=function(t){return this.vA=t,this.chart.Ai.Fn(),this},i.prototype.getAutoScrollingEnabled=function(){return this.vA},i.prototype.setColorShadingStyle=function(t){return this.cA=t,this.vn.forEach((function(i,n){return n.pA(t)})),this.yA.Fn(),this},i.prototype.getColorShadingStyle=function(){return this.cA},i.prototype.setDepthTestEnabled=function(t){return this.dA=t,this.vn.forEach((function(i,n){return n.mA(t)})),this.yA.Fn(),this},i.prototype.getDepthTestEnabled=function(){return this.dA},i.prototype.gA=function(){},i.prototype.ie=function(){},i.prototype.xA=function(){},i.prototype.getXMax=function(){var t=this.Hh;return t?t.Xi():0},i.prototype.getXMin=function(){var t=this.Hh;return t?t.Wi():0},i.prototype.getYMax=function(){var t=this.Hh;return t?t.Zi():0},i.prototype.getYMin=function(){var t=this.Hh;return t?t.Hi():0},i.prototype.getZMax=function(){var t=this.Hh;return t?t.br():0},i.prototype.getZMin=function(){var t=this.Hh;return t?t.Ar():0},i.prototype.us=function(){var t=this.Hh;return t?l(t.Cf(),t.Tf(),t.SA()):l(0,0,0)},i}(fe),Tf=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kf=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,e,s)||this;return a.Bn="Box Series 3D",a.wA=.25,a.MA=!1,a.j=new Nt,a.Qr=an(a.xi.boxSeries3DFillStyle,o),a.Hh=a.yA.TA().mA(a.dA).$r(a.Qr).CA(a.wA).Oi(a.getHighlight()),a.Sn(a.Hh),a}return Tf(i,t),i.prototype.kA=function(){return this.MA},i.prototype.invalidateData=function(t){var i=t.length;if(0===i)return this;this.MA&&this.chart.Ai.pu(zs._a);var n,r=t[0];if(!r)return this;if("xMin"in r||"yMin"in r||"zMin"in r||"xMax"in r||"yMax"in r||"zMax"in r){n=[];for(var e=0;e<i;e+=1){var o=t[e],s="xMin"in o&&"xMax"in o,a="yMin"in o&&"yMax"in o,u="zMin"in o&&"zMax"in o;n[e]={color:o.color,value:o.value,id:o.id,xCenter:s?(o.xMin+o.xMax)/2:void 0,yCenter:a?(o.yMin+o.yMax)/2:void 0,zCenter:u?(o.zMin+o.zMax)/2:void 0,xSize:s?o.xMax-o.xMin:void 0,ySize:a?o.yMax-o.yMin:void 0,zSize:u?o.zMax-o.zMin:void 0}}}else n=t;return this.Hh._A(n.slice()),this.chart.Ai.Fn(),this.MA=!0,this},i.prototype.clear=function(){return this.Hh.zi(),this.MA=!1,this.chart.Ai.Fn(),this},i.prototype.setFillStyle=function(t){return this.Qr="function"==typeof t?t(this.Qr):t,this.Hh.$r(t),this.chart.Ai.Fn(),this},i.prototype.getFillStyle=function(){return this.Qr},i.prototype.setRoundedEdges=function(t){return void 0!==t&&isNaN(t)&&(console.error("'BoxSeries3D.setRoundedEdges | NaN was supplied.'"),t=void 0),this.wA=void 0!==t?pi(t,0,1):void 0,this.Hh.CA(this.wA),this.yA.Fn(),this},i.prototype.getRoundedEdges=function(){return this.wA},i.prototype.OA=function(){return this.vA&&this.getVisible()},i.prototype.ee=function(t,i){t.Oi(i),this.chart.Ai.Fn()},i.prototype.Rn=function(){return en(this.Qr,this.Hh.Mi())},i.prototype.ie=function(){t.prototype.ie.call(this),this.Hh.Io(!1)},i.prototype.re=function(){return{fill:this.Qr}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(Cf),_f=function(t){if(Ye(t)){var i=t.getThickness(),n=t.getFillStyle();if(Yr(n))return 1===i?Le:new Ee({size:i,fillStyle:n,shape:"sphere"})}return Le},Of={UserSeries:{type:"ApplicationType",args:{type:"UserSeries"}},InternalUI:{type:"ApplicationType",args:{type:"InternalUI"}}},Ff=function(){function t(t,i,n,r,e,o,s,a,u,h){this.S=0,this.ci=!0,this.fi=!1,this.hi=!0,this.j=new Nt,this.Fn=t,this.FA=i,this.IA=n,this.jA=r,this.BA=e,this.DA=o,this.Av=s,this.LA=a,this.EA=u,this.ea=h}return t.prototype.setValue=function(t){return t===this.S||(this.S=t,this.Fn(),this.j.D("valuechange",{value:this.S})),this},t.prototype.getValue=function(){return this.S},t.prototype.setTickStyle=function(t){return this.IA="function"==typeof t?t(this.IA):t,this.Fn(),this},t.prototype.getTickStyle=function(){return this.IA},t.prototype.setTickLength=function(t){return this.jA=t,this.Fn(),this},t.prototype.getTickLength=function(){return this.jA},t.prototype.setGridStrokeStyle=function(t){return this.BA="function"==typeof t?t(this.BA):t,this.Fn(),this},t.prototype.getGridStrokeStyle=function(){return this.BA},t.prototype.setTextPadding=function(t){return this.DA=t,this.Fn(),this},t.prototype.getTextPadding=function(){return this.DA},t.prototype.setTextRotation=function(t){return this.Av=t,this.Fn(),this},t.prototype.getTextRotation=function(){return this.Av},t.prototype.setTextFillStyle=function(t){return this.LA="function"==typeof t?t(this.LA):t,this.Fn(),this},t.prototype.getTextFillStyle=function(){return this.LA},t.prototype.setTextFont=function(t){return this.EA="function"==typeof t?t(this.EA):t,this.Fn(),this},t.prototype.getTextFont=function(){return this.EA},t.prototype.setTextFormatter=function(t){return this.ea=t,this.Fn(),this},t.prototype.dispose=function(){return this.fi||(this.fi=!0,this.FA(),this.Fn(),this.j.D("dispose",{})),this},t.prototype.isDisposed=function(){return this.fi},t.prototype.setVisible=function(t){var i=this.ci!==t;return this.ci=t,i&&(this.j.D("visiblechange",{isVisible:this.ci}),this.Fn()),this},t.prototype.getVisible=function(){return this.ci},t.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},t.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},t.prototype.setPointerEvents=function(t){return this.hi=t,this.Fn(),this},t.prototype.getPointerEvents=function(){return this.hi},t}(),If=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jf=function(){return jf=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},jf.apply(this,arguments)},Bf=function(t){function i(i,n,r,e,o,s,a,u,h,f,c,l,v){var d=t.call(this,i,n,r,e,o,s,a,u,h,f)||this;return d.Cy=c,d.Ty=l,d.Ls=v,d}return If(i,t),i.prototype.setBackgroundFillStyle=function(t){return this.Cy="function"==typeof t?t(this.Cy):t,this.Fn(),this},i.prototype.getBackgroundFillStyle=function(){return this.Cy},i.prototype.setBackgroundStrokeStyle=function(t){return this.Ty="function"==typeof t?t(this.Ty):t,this.Fn(),this},i.prototype.getBackgroundStrokeStyle=function(){return this.Ty},i.prototype.setPadding=function(t){return this.Ls="number"==typeof t?{left:t,top:t,right:t,bottom:t}:jf(jf({},this.Ls),t),this.Fn(),this},i.prototype.getPadding=function(){return this.Ls},i}(Ff),Df=function(){return Df=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Df.apply(this,arguments)},Lf=function(){function t(t,i,n,r){this.PA=[],this.zA=new Map,this.NA=t,this.VA=i,this.RA=n,this.xA=r}return t.prototype.Xd=function(){var t=this;this.RA&&this.RA();var i=[];return{add:function(t,n){i.push({instanceUniqueProperties:t,instanceSharedProperties:n})},finishPlot:function(){var n=[],r=[];i.forEach((function(t){var i=n.find((function(i){return function(t,i){var n,r,e=Object.keys(t);try{for(var o=si(e),s=o.next();!s.done;s=o.next()){var a=s.value;if(t[a]!==i[a])return!1}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!0}(i.sharedProperties,t.instanceSharedProperties)}));i?i.instances.push(t.instanceUniqueProperties):n.push({sharedProperties:t.instanceSharedProperties,instances:[t.instanceUniqueProperties]})}));var e=t.PA.slice(),o=[];n.forEach((function(i){var n=e.shift();n||(n=t.NA(),t.PA.push(n));var s=[],a=n.GA().slice();i.instances.forEach((function(t){var i=a.shift();s.push(Df(Df({},t),{existingMember:i}))}));var u=t.VA(n,s,i.sharedProperties);r=$i(r,u,{canReturnB:!0});for(var h=0;h<i.instances.length;h+=1)o.push({mi:i.instances[h].mi,collection:n,member:u[h]});a.forEach((function(t){null==n||n.tv(t)}))})),e.forEach((function(i){i.dispose();var n=t.PA.indexOf(i);n<0?un(0,(function(){})):t.PA.splice(n,1)})),o.forEach((function(i){var n=t.zA.get(i.mi);n&&i.collection.Ai.Fu({entity:n.collection,collectionMember:n.member},{entity:i.collection,collectionMember:i.member})})),t.zA.clear(),o.forEach((function(i){t.zA.set(i.mi,i)})),t.xA&&t.xA(t.PA,r)}}},t.prototype.Qd=function(){this.PA.forEach((function(t){t.dispose()})),this.PA.length=0},t}(),Ef=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pf=function(){return Pf=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Pf.apply(this,arguments)},zf=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Nf=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Vf=function(t){function i(i,n,r,e,o,s,a,u,h){var f=t.call(this,i,n,r,e,u,{numeric:n.UA({x:i.Ai.xi.xAxis3DNumericTicks,y:i.Ai.xi.yAxis3DNumericTicks,z:i.Ai.xi.zAxis3DNumericTicks}),datetime:n.UA({x:i.Ai.xi.xAxis3DDateTimeTicks,y:i.Ai.xi.yAxis3DDateTimeTicks,z:i.Ai.xi.zAxis3DDateTimeTicks}),time:n.UA({x:i.Ai.xi.xAxis3DTimeTicks,y:i.Ai.xi.yAxis3DTimeTicks,z:i.Ai.xi.zAxis3DTimeTicks})},{type:"linear"})||this;f.zv=[],f.j=new Nt,f.chart=i,f.yA=o,f.YA=s,f.WA=a,f.XA=f.yA.ai;var c=f.no.UA({x:f.xi.xAxis3DStrokeStyle,y:f.xi.yAxis3DStrokeStyle,z:f.xi.zAxis3DStrokeStyle});return f.HA=f.yA.QA([Of.InternalUI],void 0).fe(c).ZA(_f(c)).setPointerEvents(!1),f.Xe=f.YA.ps(f.WA).setPointerEvents(!1).$r(n.UA({x:i.Ai.xi.xAxis3DTitleFillStyle,y:i.Ai.xi.yAxis3DTitleFillStyle,z:i.Ai.xi.zAxis3DTitleFillStyle})).bo(n.UA({x:i.Ai.xi.xAxis3DTitleFont,y:i.Ai.xi.yAxis3DTitleFont,z:i.Ai.xi.zAxis3DTitleFont})).Zu(3),f.JA=new Jh((function(){return f.YA.ps(f.WA).Zu(2).bs(gn).As(gn)})),f.KA=new Lf((function(){return f.YA.qA(f.WA).setPointerEvents(!1).Zu(1)}),(function(t,i,n){return t.$r(n.fillStyle).qr(n.strokeStyle),i.map((function(i){var n=i.positions,r=i.existingMember||t.za();return r.wf(n),r}))})),f.$A=new Lf((function(){return f.yA.Od().setPointerEvents(!1)}),(function(t,i,n){return t.zi().fe(n.lineStyle),i.map((function(i){var n=i.positions;return i.existingMember||t.lf(n)}))})),f.yn=h,f.xo=f.yn.yd([f.Xe]).On(e.effectsText),r.nd=f,f}return Ef(i,t),i.prototype.setTickStrategy=function(i,n){return t.prototype.so.call(this,i,n)},i.prototype.getTickStrategy=function(){return this.ke},i.prototype.addCustomTick=function(){var t=this,i=new Bf((function(){return t.chart.Ai.Fn()}),(function(){var n=t.zv.indexOf(i);n>=0&&t.zv.splice(n,1)}),this.xi.xAxis3DNumericTicks.majorTickStyle.tickStyle,this.xi.xAxis3DNumericTicks.majorTickStyle.tickLength,this.xi.xAxis3DNumericTicks.majorTickStyle.gridStrokeStyle,this.xi.xAxis3DNumericTicks.majorTickStyle.tickPadding,this.xi.xAxis3DNumericTicks.majorTickStyle.labelRotation,this.xi.xAxis3DNumericTicks.majorTickStyle.labelFillStyle,this.xi.xAxis3DNumericTicks.majorTickStyle.labelFont,(function(i){return t.formatValue(i)}),Vr,qt,{left:4,right:4,top:4,bottom:4});return this.zv.push(i),this.chart.Ai.Fn(),i},i.prototype.getCustomTicks=function(){return function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}([],zf(this.zv),!1)},i.prototype.setStrokeStyle=function(t){return this.HA.fe(t).ZA(_f(this.HA.oa())),this.chart.Ai.Fn(),this},i.prototype.getStrokeStyle=function(){return this.HA.oa()},i.prototype.setVisible=function(i){return t.prototype.setVisible.call(this,i),this.HA.setVisible(i),!1===i&&(this.$A.Qd(),this.JA.Qd(),this.KA.Qd()),this.yA.Fn(),this},i.prototype.Sd=function(){return this.chart.getSeries()},i.prototype.vs=function(t,i,n){var r=Math.abs(this.ai.J(Math.abs(i-t))*this.yA.tb(1));return{start:t+n.start*r*Math.sign(t-i),end:i+n.end*r*Math.sign(i-t)}},i.prototype.Lo=function(t){var i=this,n=this.XA,r=l(n.x.$(),n.y.$(),n.z.$()),e=this.no.ib(t.cameraDirection),o=e.gridlinePositionA,s=e.gridlinePositionB,a=e.gridlinePositionC,u=function(t){return{x:-1===t.x?i.XA.x.getInnerStart():1===t.x?i.XA.x.getInnerEnd():0,y:-1===t.y?i.XA.y.getInnerStart():1===t.y?i.XA.y.getInnerEnd():0,z:-1===t.z?i.XA.z.getInnerStart():1===t.z?i.XA.z.getInnerEnd():0}},f=u(o),c=u(s),v=u(a),d=this.no.hv,y=Hn(t.start,t.end,.5),A=Fn.addVec(y,Fn.multiplyVec(Fn.multiply(d,-1),r)),b=this.yA.nb(y)||h(0,0),p=this.yA.nb(A)||h(0,0);return{center:y,wuSize:r,tickDirection3D:d,tickDirection2D:ir(sr(at(b,this.chart.Ai.ai,this.WA),at(p,this.chart.Ai.ai,this.WA))),gridlinePositionA:f,gridlinePositionB:c,gridlinePositionC:v}},i.prototype.No=function(t,i,n,r,e){var o=this.rb(e,t,i.Ce.tickLength,i.Ce.tickPadding);return Pf(Pf({},o),{keyValue:t,tickLevel:i,labelText:n,labelOffset:{x:0,y:0},labelRotation:i.Ce.labelRotation})},i.prototype.Xo=function(t,i){var n=new Rf(i,t,this.YA,this.WA,this.yA);return n.Oo.Zu(0),n},i.prototype.Go=function(t,i,n){return{ticksInfo:i,updatedTicks:n}},i.prototype.Ze=function(){return this.WA},i.prototype.rb=function(t,i,n,r){var e=t.wuSize,o=t.start,s=t.end,a=t.tickDirection3D,u=t.tickDirection2D,f=(i-this.ai.getInnerStart())/(this.ai.getInnerEnd()-this.ai.getInnerStart()),c=Fn.addVec(Hn(o,s,f),Fn.multiplyVec(Fn.multiply(a,this.yA.tb(.5*this.HA.oa().getThickness())),e)),l=Fn.addVec(c,Fn.multiplyVec(Fn.multiply(a,this.yA.tb(n)),e)),v=this.yA.nb(l)||h(0,0);return{labelPosition:or(at(v,this.chart.Ai.ai,this.WA),er(u,r)),labelAlignment:{x:-u.x,y:-u.y},posTickEnd3D:l,posTickStart3D:c,tickPositionRelative:f}},i.prototype.eb=function(t,i,n){var r=i.wuSize,e=i.start,o=i.end,s=i.tickDirection3D,a=(t-this.ai.getInnerStart())/(this.ai.getInnerEnd()-this.ai.getInnerStart()),u=Fn.addVec(Hn(e,o,a),Fn.multiplyVec(Fn.multiply(s,this.yA.tb(.5*this.HA.oa().getThickness())),r)),f=Fn.addVec(u,Fn.multiplyVec(Fn.multiply(s,this.yA.tb(10)),r)),c=this.yA.nb(u)||h(0,0),l=this.yA.nb(f)||h(0,0);return this.YA.ce(this.WA).ve(c).le(l).fe(new Ue({fillStyle:new Ur({color:C(120*n)}),thickness:1}))},i.prototype.fs=function(t,i){return Gf(t,i,this.ai)},i.prototype.ob=function(t){var i,n,r=this.XA;this.sb()?(i=l(r.x.getInnerEnd(),r.y.getInnerStart(),r.z.getInnerStart()),n=l(r.x.getInnerEnd(),r.y.getInnerStart(),r.z.getInnerEnd())):(i=l(r.x.getInnerStart(),r.y.getInnerStart(),r.z.getInnerStart()),n=this.no.ab(l(r.x.getInnerEnd(),r.y.getInnerEnd(),r.z.getInnerEnd()),i));var e=this.yA.nb(i)||h(0,0),o=this.yA.nb(n)||h(0,0);return{cameraDirection:t,physicalAxisSize:rr(sr(e,o)),start:i,end:n,start2D:e,end2D:o}},i.prototype.ie=function(t){var i,n,r,e,o=this;if(this.ci){var s=Math.min(this.ao,this.uo),a=Math.max(this.ao,this.uo);this.HA.zi().lf([t.start,t.end]);var u=this.$A.Xd();try{for(var f=Nf(this._e),c=f.next();!c.done;c=f.next()){var l=zf(c.value,2),v=l[0],d=l[1];try{for(var y=(r=void 0,Nf(d)),A=y.next();!A.done;A=y.next()){var b=zf(A.value,2)[1],p=t.ticksInfo.get(b);if(p){var m=this.ub(t,p);u.add({mi:0,positions:[m.tickStroke.start,m.tickStroke.end]},{lineStyle:v.Ce.tickStyle}),m.gridStroke&&u.add({mi:0,positions:m.gridStroke},{lineStyle:v.Ce.gridStrokeStyle}),b.Oo.ne(p.labelPosition).Uh(p.labelAlignment).po(p.labelRotation).Eh(p.labelOffset.x,p.labelOffset.y)}}}catch(t){r={error:t}}finally{try{A&&!A.done&&(e=y.return)&&e.call(y)}finally{if(r)throw r.error}}}}catch(t){i={error:t}}finally{try{c&&!c.done&&(n=f.return)&&n.call(f)}finally{if(i)throw i.error}}var g=this.JA.Xd(),x=this.KA.Xd(),S={x:0,y:0};this.zv.forEach((function(i){if(!(!i.ci||i.S<s||i.S>a)){var n=o.rb(t,i.S,i.jA,i.DA),r=o.ub(t,n);if(i.LA!==Vr){var e=g.add().ne(n.labelPosition).Uh(n.labelAlignment).$r(i.LA).bo(i.EA).Wo(i.ea(i.S)).po(i.Av).setPointerEvents(i.hi);e.We=i.We;var h=e.Io().Mt();if(S.x=Math.max(S.x,h.x),S.y=Math.max(S.y,h.y),i.Cy!==Vr){var f=e.Tc(),c=[{x:f.min.x-i.Ls.left,y:f.max.y+i.Ls.top},{x:f.max.x+i.Ls.right,y:f.max.y+i.Ls.top},{x:f.max.x+i.Ls.right,y:f.min.y-i.Ls.bottom},{x:f.min.x-i.Ls.left,y:f.min.y-i.Ls.bottom}];x.add({mi:0,positions:c},{fillStyle:i.Cy,strokeStyle:i.Ty}),o.YA.Ai.kc&&i.We===he.CursorTickMarker&&o.YA.Ai.kc.Ed(Pf(Pf({},o.YA.Ai.Wu(f.min,f.max,e.ai,i.Ls)),{blacklist:[he.CursorTickMarker]}))}}u.add({mi:0,positions:[r.tickStroke.start,r.tickStroke.end]},{lineStyle:i.IA}),r.gridStroke&&u.add({mi:0,positions:r.gridStroke},{lineStyle:i.BA})}})),g.finishPlot(),x.finishPlot(),u.finishPlot();var w=this.$o((function(t,i){var n=i.Oo.Io().Mt();return t.x=Math.max(t.x,n.x),t.y=Math.max(t.y,n.y),t}),{x:S.x,y:S.y}),M=Math.atan((t.end2D.y-t.start2D.y)/(t.end2D.x-t.start2D.x));this.Xe.Uh({x:0,y:0}).po(180*-M/Math.PI);var C=Fn.addVec(t.center,Fn.multiplyVec(Fn.multiply(t.tickDirection3D,this.yA.tb(.5*this.HA.oa().getThickness()+this.ns((function(t,i){return Math.max(t,i.tickLength)}),0))),t.wuSize)),T=this.yA.nb(C)||h(0,0),k=or(at(T,this.chart.Ai.ai,this.WA),or(or(ar(w,t.tickDirection2D),er(t.tickDirection2D,this.ns((function(t,i){return Math.max(t)}),0))),ar(er(this.Xe.Io().Mt(),.5),t.tickDirection2D)));this.Xe.ne(k)}},i.prototype.ub=function(t,i){var n,r=t.gridlinePositionA,e=t.gridlinePositionB,o=t.gridlinePositionC,s=i.posTickStart3D,a=i.posTickEnd3D,u=i.tickPositionRelative;return bi(u,0)||bi(u,1)||(n=[this.hb()?Pf(Pf({},r),{x:s.x}):this.fb()?Pf(Pf({},r),{y:s.y}):this.sb()?Pf(Pf({},r),{z:s.z}):{x:0,y:0,z:0},this.hb()?Pf(Pf({},e),{x:s.x}):this.fb()?Pf(Pf({},e),{y:s.y}):this.sb()?Pf(Pf({},e),{z:s.z}):{x:0,y:0,z:0},this.hb()?Pf(Pf({},o),{x:s.x}):this.fb()?Pf(Pf({},o),{y:s.y}):this.sb()?Pf(Pf({},o),{z:s.z}):{x:0,y:0,z:0}]),{gridStroke:n,tickStroke:{start:s,end:a}}},i.prototype.cb=function(t){var i=this.ao,n=this.uo,r=.01*t*(n-i),e=i+r,o=n+r;this.To(e,o,{allowIntervalLengthChange:!1,skipIntervalRestriction:!1})},i.prototype.lb=function(t,i,n){if(0!==i){n<0&&(i*=-1,n*=-1);var r=this.uo-this.ao,e=r*(i>=1?1+.02*n:1-.02*n)-r;"centered"===t?this.To(this.ao+e/2,this.uo-e/2,{allowIntervalLengthChange:!0,skipIntervalRestriction:!1}):"keep-start"===t?this.To(this.ao,this.uo-e/2,{allowIntervalLengthChange:!0,skipIntervalRestriction:!1}):"keep-end"===t&&this.To(this.ao+e/2,this.uo,{allowIntervalLengthChange:!0,skipIntervalRestriction:!1})}},i.prototype.So=function(){t.prototype.So.call(this),this.$A.Qd(),this.JA.Qd(),this.KA.Qd()},i.prototype.hb=function(){return this.no.hb()},i.prototype.fb=function(){return this.no.fb()},i.prototype.sb=function(){return this.no.sb()},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i.prototype.setPointerEvents=function(t){return this.j.setPointerEvents(t),this},i.prototype.getPointerEvents=function(){return this.j.getPointerEvents()},i}(Ss),Rf=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,e,s)||this;return a.yb=o,a}return Ef(i,t),i}(ws),Gf=function(t,i,n){return pi(t+.1*(i-t)+Math.abs(n.$())/100*Math.sign(i-t),Math.min(t,i),Math.max(t,i))},Uf=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Yf=function(t,i,n,r){return{rs:function(n){var r,e,o,s=t();try{for(var a=Uf(s),u=a.next();!u.done;u=a.next()){var h=u.value;if(h.OA()){var f=i(h,n);o=void 0===f?o:void 0!==o?Math.min(o,f):f}}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=a.return)&&e.call(a)}finally{if(r)throw r.error}}return o},es:function(i){var r,e,o,s=t();try{for(var a=Uf(s),u=a.next();!u.done;u=a.next()){var h=u.value;if(h.OA()){var f=n(h,i);o=void 0===f?o:void 0!==o?Math.max(o,f):f}}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=a.return)&&e.call(a)}finally{if(r)throw r.error}}return o},us:function(){var i,n,e,o=t();try{for(var s=Uf(o),a=s.next();!a.done;a=s.next()){var u=a.value;if(u.OA()){var h=r(u);e=void 0===h?e:void 0!==e?Math.max(e,h):h}}}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return e}}},Wf=function(){return Wf=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Wf.apply(this,arguments)},Xf=function(t){return Wf(Wf({},Yf(t,(function(t){return t.getYMin()}),(function(t){return t.getYMax()}),(function(t){return t.us().y}))),{UA:function(t){return t.y},ab:function(t,i){return{x:i.x,y:t.y,z:i.z}},hv:l(-1,0,0),ib:function(t){var i={x:t.x>=0?1:-1,y:t.y>=0?1:-1,z:t.z>=0?1:-1};return{gridlinePositionA:l(i.x,0,i.z),gridlinePositionB:l(i.x,0,-i.z),gridlinePositionC:l(-i.x,0,-i.z)}},hb:function(){return!1},fb:function(){return!0},sb:function(){return!1}})},Hf=function(t){return Wf(Wf({},Yf(t,(function(t){return t.getZMin()}),(function(t){return t.getZMax()}),(function(t){return t.us().z}))),{UA:function(t){return t.z},ab:function(t,i){return{x:i.x,y:i.y,z:t.z}},hv:l(1,0,0),ib:function(t){var i={x:t.x>=0?1:-1,y:t.y>=0?1:-1,z:t.z>=0?1:-1};return{gridlinePositionA:l(i.x,-i.y,0),gridlinePositionB:l(i.x,i.y,0),gridlinePositionC:l(-i.x,i.y,0)}},hb:function(){return!1},fb:function(){return!1},sb:function(){return!0}})},Zf=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qf=function(){return Qf=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Qf.apply(this,arguments)},Jf=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.MA=!1,s.j=new Nt,s}return Zf(i,t),i.prototype.kA=function(){return this.getPointAmount()>0},i.prototype.setStrokeStyle=function(t){this.vc="function"==typeof t?t(this.vc):t;var i=this.vc;return this.Hh.fe(i),this.yA.Fn(),this},i.prototype.getStrokeStyle=function(){return this.vc},i.prototype.add=function(t){return this.MA&&this.chart.Ai.pu(zs._a),this.MA=!0,(t=Array.isArray(t)?t:[t])?(this.Hh.lf(t.slice()),this.yA.Fn(),this):this},i.prototype.clear=function(){return this.Hh.zi(),this},i.prototype.getPointAmount=function(){var t=this.Hh;return t.vf()+t.df()},i.prototype.OA=function(){return this.vA&&this.getPointAmount()>0&&this.getVisible()},i.prototype.ee=function(t,i){t.Oi(i),this.yA.Fn()},i.prototype.re=function(){return{stroke:this.vc}},i.prototype.Rn=function(){return en(this.vc.getFillStyle(),this.Hh.Mi())},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(Cf),Kf=function(t){function i(i,n,r,e,o,s,a){var u=t.call(this,i,n,r,e,s)||this;u.Bn="Line Series 3D",u.vc=an(e.lineSeries3DStrokeStyle,o),u.Ab=ra.pointStyle3D,u.bb(u.vc);var h=Qf({individualLookupValuesEnabled:!1},a);return u.Hh=u.yA.QA([Of.UserSeries],h).mA(u.dA).fe(u.vc).ZA(u.Ab).Oi(u.getHighlight()),u.Sn(u.Hh),u}return Zf(i,t),i.prototype.setStrokeStyle=function(i){t.prototype.setStrokeStyle.call(this,i),this.bb(this.vc);var n=this.Ab;return this.Hh.ZA(n),this},i.prototype.bb=function(t){var i=new Ve.Triangulated({shape:"sphere",fillStyle:t.getFillStyle(),size:t.getThickness()});this.Ab=i},i}(Jf),qf=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$f=function(){return $f=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},$f.apply(this,arguments)},tc=function(t){function i(i,n,r,e,o,s,a){var u=t.call(this,i,n,r,e,s)||this;u.Bn="Point Line Series 3D",u.Ab=an(e.pointLineSeries3DPointStyle,o),u.vc=an(e.lineSeries3DStrokeStyle,o),u.pb();var h=$f({individualLookupValuesEnabled:!1},a);return u.Hh=u.yA.QA([Of.UserSeries],h).mA(u.dA).fe(u.vc).ZA(u.Ab).Oi(u.getHighlight()),u.Sn(u.Hh),u}return qf(i,t),i.prototype.setPointStyle=function(t){return this.Ab="function"==typeof t?t(this.Ab):t,this.pb(),this.Hh.ZA(this.Ab),this.yA.Fn(),this},i.prototype.getPointStyle=function(){return this.Ab},i.prototype.setStrokeStyle=function(i){t.prototype.setStrokeStyle.call(this,i);var n=this.vc,r=Math.abs(n.getThickness()),e=this.Ab,o=e.getSize();r>("object"==typeof o?Math.max(o.x,o.y,o.z):o)&&(this.Ab=e.setSize(r)),this.pb();var s=this.Ab;return this.Hh.ZA(s),this.yA.Fn(),this},i.prototype.Rn=function(){return en(this.vc.getFillStyle(),this.Hh.Mi())||en(this.Ab.getFillStyle(),this.Hh.Mi())},i.prototype.pb=function(){var t=this.Ab,i=t.getSize();this.Ab=t.setSize(i)},i.prototype.ee=function(t,i){t.Oi(i),this.yA.Fn()},i}(Jf),ic=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nc=function(){return nc=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},nc.apply(this,arguments)},rc=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,e,o)||this;return a.MA=!1,a.j=new Nt,((null==s?void 0:s.individualPointSizeAxisEnabled)||(null==s?void 0:s.individualPointSizeEnabled))&&a.chart.Ai.pu(zs.Oa),a}return ic(i,t),i.prototype.kA=function(){return this.getPointAmount()>0},i.prototype.add=function(t){return this.MA&&this.chart.Ai.pu(zs._a),this.MA=!0,(t=Array.isArray(t)?t:[t])?(this.Hh.lf(t.slice()),this.yA.Fn(),this):this},i.prototype.clear=function(){return this.Hh.zi(),this},i.prototype.getPointAmount=function(){var t=this.Hh;return t.vf()+t.df()},i.prototype.OA=function(){return this.vA&&this.getPointAmount()>0&&this.getVisible()},i.prototype.ee=function(t,i){t.Oi(i),this.yA.Fn()},i.prototype.re=function(){return{point3D:this.mb}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(Cf),ec=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,e,o,s)||this;a.Bn="Point Series 3D";var u=void 0!==(null==s?void 0:s.automaticColorIndex)?s.automaticColorIndex:a.chart.getSeries().length;a.mb=an(e.pointSeries3DPointStyle,u);var h=nc({individualPointColorEnabled:!1,individualPointSizeEnabled:!1,individualLookupValuesEnabled:!1,individualPointSizeAxisEnabled:!1},s);return a.Hh=a.yA.xb(h).mA(a.dA).gb(a.mb).Oi(a.getHighlight()),a.Sn(a.Hh),a}return ic(i,t),i.prototype.setPointStyle=function(t){this.mb="function"==typeof t?t(this.mb):t;var i=this.mb;return this.Hh.gb(i),this.yA.Fn(),this},i.prototype.getPointStyle=function(){return this.mb},i.prototype.Rn=function(){return en(this.mb.getFillStyle(),this.Hh.Mi())},i}(rc),oc=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,e,o,s)||this;a.Bn="Point Cloud Series 3D";var u=a.chart.getSeries().length;a.mb=an(e.pointCloudSeries3DPointStyle,u);var h=nc({individualPointColorEnabled:!1,individualPointSizeEnabled:!1,individualLookupValuesEnabled:!1,individualPointSizeAxisEnabled:!1},s);return a.Hh=a.yA.xb(h).gb(a.mb).Oi(a.getHighlight()),a.Sn(a.Hh),a}return ic(i,t),i.prototype.setPointStyle=function(t){this.mb="function"==typeof t?t(this.mb):t;var i=this.mb;return this.Hh.gb(i),this.yA.Fn(),this},i.prototype.getPointStyle=function(){return this.mb},i.prototype.Rn=function(){return en(this.mb.getFillStyle(),this.Hh.Mi())},i}(rc),sc={Triangulated:ec,Pixelated:oc},ac=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uc=function(t){function i(i,n,r,e,o,s,a,u,h,f,c,l){var v=t.call(this,i,n,r,e,o,s,a,u,h,f,c,l)||this;return v.Sb=[],v.wb=0,v.Mb=function(t){var i=v.Sb.indexOf(t);i>=0&&(v.Sb.splice(i,1),v.j.D("seriesdispose",{series:t}))},v.seriesBackground=new Nt,v.Cb=v.yn.yd(),v}return ac(i,t),i.prototype.setAnimationsEnabled=function(i){return t.prototype.setAnimationsEnabled.call(this,i),this.Sb.forEach((function(t){return t.setAnimationHighlight(i)})),this},i.prototype.Tb=function(t,i){this.Cb.wn([i]),this.seriesBackground.Pi(t)},i.prototype.setSeriesBackgroundFillStyle=function(t){return this.kb.$r(t),this.Ai.Fn(),this},i.prototype.getSeriesBackgroundFillStyle=function(){return this.kb.vo()},i.prototype.setSeriesBackgroundStrokeStyle=function(t){return this._b.qr(t),this.Ai.Fn(),this},i.prototype.getSeriesBackgroundStrokeStyle=function(){return this._b.zu()},i.prototype.setSeriesBackgroundEffect=function(t){return this.Cb.On(t),this.Ai.Fn(),this},i.prototype.getSeriesBackgroundEffect=function(){return this.Cb.In()},i.prototype.Ob=function(t,i){this.Sb.push(t),void 0!==this.Fb&&t.setHighlightOnHover(this.Fb),this.j.D("seriesadd",{series:t}),this.Dn.forEach((function(n){n.Iy()&&null!==(null==i?void 0:i.legend)&&n.lf(t,null==i?void 0:i.legend)}))},i.prototype.By=function(){return this.Sb},i.prototype.setSeriesHighlightOnHover=function(t){return this.Fb=t,this.Sb.forEach((function(i){return i.setHighlightOnHover(t)})),this},i.prototype.dispose=function(){return this.Sb.slice().forEach(yi),t.prototype.dispose.call(this)},i}(gf),hc=Fn.normalize({x:-.5610788649579117,y:-.35242840511865414,z:-1.1349149375849081}),fc=function(){function t(t,i,n,r){this.Ib=!0,this.jb=!0,this.Bb=2*-Math.PI/2160,this.Db=2*Math.PI/2160,this.Lb=.1,this.Eb=1*Math.PI/180,this.Pb=t,this.zb=i,this.Nb=n,this.nb=r}return t.prototype.getDefaultCameraConfiguration=function(t,i){var n={direction:hc,location:Fn.multiply(hc,-1)};return this.cameraLocationChanged({boundingBox:t,cameraDirection:n.direction,cameraLocation:n.location,projection:i})||n},t.prototype.applyCameraInteractions=function(t,i){var n=this,r={direction:t.cameraDirection,location:t.cameraLocation};return i.forEach((function(t){"rotate"===t.type?r=n.Vb(r,t):"wheel-zoom"===t.type?r=n.Rb(r,t):"rotate+zoom"===t.type?r=n.Gb(r,t):"fixed-rotate"===t.type?r=n.Ub(r,t):"move"===t.type&&(r=n.Yb(r,t))})),this.Ib?r=this.Wb(t.boundingBox,r):this.jb&&(r=this.Xb(t.boundingBox,t.projection,r)),r},t.prototype.Vb=function(t,i){var n=i.rotation,r=t.location,e=Fn.multiply(Fn.normalize(t.location),-1),o=this.Hb(e),s=o.Right,a=o.Up,u=r,h=this.Zb(e),f=n.x*this.Bb*h;u=Fn.rotateAroundAxis(u,a,f);var c=(n.y>0?1:-1)*Math.min(Math.abs(n.y)*this.Db,h-this.Eb);return 0!==c&&(u=Fn.rotateAroundAxis(u,s,c)),{location:u,direction:Fn.multiply(Fn.normalize(u),-1)}},t.prototype.Rb=function(t,i){var n=i.deltaY;this.Ib&&this.Qb(!1);var r=t.location,e=Fn.multiply(Fn.normalize(r),-1),o=n*this.Lb,s=Fn.length(r)*-o;return{direction:e,location:Fn.addVec(r,Fn.multiply(e,s))}},t.prototype.Gb=function(t,i){var n=i.rotation,r=i.cameraDistance;this.Ib&&this.Qb(!1);var e=this.Vb(t,{type:"rotate",rotation:n}),o=e.location,s=Fn.multiply(Fn.normalize(o),-1),a=Fn.multiply(s,-r);return{direction:Fn.multiply(Fn.normalize(a),-1),location:a}},t.prototype.Ub=function(t,i){this.Ib&&this.Qb(!1);var n=i.rotation,r=t.location,e=t.direction,o=this.Hb(e),s=o.Right,a=o.Up,u=n.x*this.Bb,h=Fn.normalize(Fn.rotateAroundAxis(e,a,u)),f=n.y*this.Db;return{location:r,direction:h=Fn.normalize(Fn.rotateAroundAxis(h,s,f))}},t.prototype.Yb=function(t,i){this.Ib&&this.Qb(!1),this.jb=!1;var n=i.amountRight,r=i.amountForward,e=t.location,o=t.direction,s=this.Hb(o).Right;return{location:Fn.addVec(e,Fn.multiply(o,.01*r),Fn.multiply(s,.01*n)),direction:o}},t.prototype.projectionChanged=function(t,i){return this.viewportChanged(t)},t.prototype.boundingBoxChanged=function(t){var i={location:t.cameraLocation,direction:Fn.multiply(Fn.normalize(t.cameraLocation),-1)};return this.Ib?this.Wb(t.boundingBox,i):this.Xb(t.boundingBox,t.projection,i)},t.prototype.cameraLocationChanged=function(t){var i={location:t.cameraLocation,direction:Fn.multiply(Fn.normalize(t.cameraLocation),-1)};return this.Ib?this.Wb(t.boundingBox,i):this.Xb(t.boundingBox,t.projection,i)},t.prototype.viewportChanged=function(t){var i={location:t.cameraLocation,direction:Fn.multiply(Fn.normalize(t.cameraLocation),-1)};if(this.Ib)return this.Wb(t.boundingBox,i)},t.prototype.Wb=function(t,i,n){var r=i;n=void 0!==n?n:0,r=this.Jb(t,r,100,20,1,n,5);var e=this.Zb(r.direction);return this.Kb(r,this.qb(t,r,100,1),e)},t.prototype.Jb=function(t,i,n,r,e,o,s){var a=this;return cc(o,s,(function(t){return{direction:i.direction,location:Fn.multiply(i.direction,-t)}}),(function(i){return a.$b(t,i)}),n,e,"linear",r)},t.prototype.qb=function(t,i,n,r){var e=this,o=this.Hb(i.direction),s=o.Right,a=o.Left,u=o.Up,h=o.Down,f=this.tp(t,!1,i),c=i,l=r,v=.1;return Math.abs(f.bottom-f.top)>l&&(c=f.bottom<f.top?lc(0,v,(function(t){return{location:c.location,direction:Fn.normalize(Fn.lerp(c.direction,h,t))}}),(function(i){return e.ip(t,i)}),0,l,!0,n):lc(0,v,(function(t){return{location:c.location,direction:Fn.normalize(Fn.lerp(c.direction,u,t))}}),(function(i){return e.ip(t,i)}),0,l,!0,n)),Math.abs(f.left-f.right)>l&&(c=f.left<f.right?lc(0,v,(function(t){return{location:c.location,direction:Fn.normalize(Fn.lerp(c.direction,a,t))}}),(function(i){return e.np(t,i)}),0,l,!0,n):lc(0,v,(function(t){return{location:c.location,direction:Fn.normalize(Fn.lerp(c.direction,s,t))}}),(function(i){return e.np(t,i)}),0,l,!0,n)),c},t.prototype.$b=function(t,i){var n=this.tp(t,!0,i);return Math.min(n.left+n.right,n.top+n.bottom)},t.prototype.np=function(t,i){var n=this.tp(t,!1,i);return Math.abs(n.left-n.right)},t.prototype.ip=function(t,i){var n=this.tp(t,!1,i);return Math.abs(n.top-n.bottom)},t.prototype.tp=function(t,i,n){var r=this,e=Zn(this.rp(t,i,n).map((function(t){return at(t,r.Pb,r.zb)})));return{left:e.min.x,right:this.zb.x.getInnerEnd()-e.max.x,top:this.zb.y.getInnerEnd()-e.max.y,bottom:e.min.y}},t.prototype.rp=function(t,i,n){var r=this,e=this.Nb,o=l(e.x.getInnerStart(),e.y.getInnerStart(),e.z.getInnerStart()),s=l(e.x.getInnerEnd(),e.y.getInnerEnd(),e.z.getInnerEnd()),a=[],u=i?16:4,h=(o.x+s.x)/2,f=(o.z+s.z)/2,c=Math.sqrt(2)*(s.x-h),v=Math.sqrt(2)*(s.z-f);return[o.y,s.y].forEach((function(t){for(var i=0;i<u;i+=1){var n=Math.PI/4+2*Math.PI*i/u,r=h+Math.cos(n)*c,e=f+Math.sin(n)*v;a.push({x:r,y:t,z:e})}})),a.map((function(t){return r.nb(t,n)})).filter((function(t){return void 0!==t}))},t.prototype.Xb=function(t,i,n){var r=Fn.length(n.location),e=this.ep(t,i);return r<e.min?{direction:n.direction,location:Fn.multiply(n.direction,-e.min)}:r>e.max?{direction:n.direction,location:Fn.multiply(n.direction,-e.max)}:n},t.prototype.ep=function(t,i){return{min:("perspective"===i?.8:.5)*Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2)+Math.pow(t.z,2)),max:3*Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2)+Math.pow(t.z,2))}},t.prototype.Hb=function(t){var i=l(0,1,0),n=Fn.normalize(Fn.cross(i,Fn.multiply(t,-1))),r=Fn.cross(n,t);return r.y=Math.abs(r.y),{Right:n,Up:r=Fn.normalize(r),Down:Fn.multiply(r,-1),Left:Fn.multiply(n,-1)}},t.prototype.Zb=function(t){var i={x:0,y:1,z:0},n=Fn.angle(t,i),r=Fn.angle(t,Fn.multiply(i,-1));return Math.min(n,r)},t.prototype.Kb=function(t,i,n){return{location:Fn.lerp(t.location,i.location,n),direction:Fn.normalize(Fn.lerp(t.direction,i.direction,n))}},t.prototype.Qb=function(t){return this.Ib=t,this},t.prototype.op=function(){return this.Ib},t}(),cc=function(t,i,n,r,e,o,s,a){var u,h=0,f=(i+t)/2;do{var c=n(f);if(u={value:f,result:c,score:r(c)},Math.abs(u.score-e)<=o)break;var l=u.score>e;l&&"linear"===s||!l&&"reversed"===s?(f=(u.value+t)/2,i=u.value):(f=(u.value+i)/2,t=u.value),h+=1}while(h<a);return u.result},lc=function(t,i,n,r,e,o,s,a){var u,h=0,f=t;do{var c=n(f),l=r(c);if(void 0===u||Math.abs(l-e)<Math.abs(u.score-e)){if(u={value:f,result:c,score:r(c)},Math.abs(u.score-e)<=o)break}else if(s)break;h+=1,f+=1/(a-1)*(i-t)}while(h<a);return u.result},vc=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dc=function(){return dc=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},dc.apply(this,arguments)},yc=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,o,s)||this;a.Bn="Surface Grid Series 3D",a.sp={},a.MA=!1,a.j=new Nt,a.cA=_e;var u=void 0!==(null==e?void 0:e.automaticColorIndex)?e.automaticColorIndex:a.chart.getSeries().length;a.Qr=an(a.xi.surfaceGridSeries3DFillStyle,u),a.ap=an(a.xi.surfaceGridSeries3DWireframeStyle,u);var h={heatmapDataType:"intensity",dataOrder:e.dataOrder||"columns",columns:e.columns,rows:e.rows};return a.xu=h,a.Hh=a.yA.hp(h).$r(a.Qr).up(a.ap).pA(a.cA).Oi(a.getHighlight()),a.Sn(a.Hh),a.setHighlightOnHover(!1),a}return vc(i,t),i.prototype.kA=function(){return this.MA},i.prototype.Ji=function(t,i,n){var r=null==t?void 0:t.dataPoint;if(r){var e=this.chart.translateCoordinate(i,this.chart.coordsRelative);return dc(dc({cursorPosition:{resultTable:e,resultTableScale:this.chart.hd,axisLocation:r}},r),{series:this,axisX:this.chart.getDefaultAxisX(),axisY:this.chart.getDefaultAxisY(),axisZ:this.chart.getDefaultAxisZ(),lut:Zr(this.Qr)?this.Qr.lut:void 0})}},i.prototype.re=function(){return{fill:this.Qr}},i.prototype.fp=function(){var t,i=this.sp.start||{x:0,z:0};t=this.sp.end?{x:(this.sp.end.x-i.x)/this.xu.columns,z:(this.sp.end.z-i.z)/this.xu.rows}:this.sp.step?this.sp.step:{x:1,z:1},this.Hh.cp(i,t),this.chart.Ai.Fn()},i.prototype.setStart=function(t){return this.sp.start=t,this.fp(),this},i.prototype.getStart=function(){return this.Hh.lp().start},i.prototype.setStep=function(t){return this.sp.step=t,this.fp(),this},i.prototype.getStep=function(){return this.Hh.lp().step},i.prototype.setEnd=function(t){return this.sp.end=t,this.fp(),this},i.prototype.getEnd=function(){return this.Hh.lp().end},i.prototype.setContours=function(t){var i=this;return this.Hh.vp(t?{valueSource:t.valueSource,levels:t.levels.map((function(t){var n,r;return{value:t.value,strokeStyle:null!==(r=null!==(n=t.strokeStyle)&&void 0!==n?n:i.xi.surfaceGridSeriesContourStrokeStyle)&&void 0!==r?r:new Ue({thickness:1,fillStyle:new Ur({color:w(255,0,0)})})}}))}:void 0),this.yA.Fn(),this},i.prototype.getContours=function(){return this.Hh.dp()},i.prototype.setFillStyle=function(t){return this.Qr="function"==typeof t?t(this.Qr):t,this.Hh.$r(this.Qr),this.yA.Fn(),this},i.prototype.getFillStyle=function(){return this.Qr},i.prototype.setWireframeStyle=function(t){return this.ap="function"==typeof t?t(this.ap):t,this.Hh.up(this.ap),this.yA.Fn(),this},i.prototype.getWireframeStyle=function(){return this.Hh.yp()},i.prototype.setIntensityInterpolation=function(t){return t=t||"disabled",this.Hh.Ap(t),this.yA.Fn(),this},i.prototype.getIntensityInterpolation=function(){return this.Hh.bp()},i.prototype.invalidateIntensityValues=function(t){if(this.MA&&this.chart.Ai.pu(zs._a),Array.isArray(t)){if(0===t.length||0===t[0].length)return this;var i={x:t.length,y:t[0].length,columns:"columns"===this.xu.dataOrder?t.length:t[0].length,rows:"rows"===this.xu.dataOrder?t.length:t[0].length},n="columns"===this.xu.dataOrder?this.xu.columns:this.xu.rows,r="columns"===this.xu.dataOrder?this.xu.rows:this.xu.columns;if(i.x>n||i.y>r){if(!0===this.chart.Uy.Su){var e="SurfaceGridSeries3D.invalidateIntensityValues intensity matrix overflow.\n    Grid ".concat(this.xu.columns,"x").concat(this.xu.rows,", input ").concat(i.columns,"x").concat(i.rows,".\n    Excess data will be automatically clipped. This can result in sub-optimal performance.");ci.console.warn(e)}for(var o=[],s=0;s<n;s+=1)o[s]=t[s].slice(0,r);t=o}this.Hh.pp({type:"intensity",lengthPrimary:t.length,lengthSecondary:t[0].length,startPrimary:0,startSecondary:0,values:t})}else if("iColumn"in t&&"iRow"in t&&"values"in t){if(0===t.values.length||0===t.values[0].length)return this;i={primary:t.values.length,secondary:t.values[0].length,columns:"columns"===this.xu.dataOrder?t.values.length:t.values[0].length,rows:"rows"===this.xu.dataOrder?t.values.length:t.values[0].length};var a="columns"===this.xu.dataOrder?t.iColumn:t.iRow,u=a+i.primary-1,h="columns"===this.xu.dataOrder?t.iRow:t.iColumn,f=h+i.secondary-1,c=("columns"===this.xu.dataOrder?this.xu.columns:this.xu.rows)-1,l=("columns"===this.xu.dataOrder?this.xu.rows:this.xu.columns)-1;if(a<0||h<0||u>c||f>l){!0===this.chart.Uy.Su&&(e="SurfaceGridSeries3D.invalidateIntensityValues intensity matrix overflow.\n    Grid ".concat(this.xu.columns,"x").concat(this.xu.rows,", input ").concat(i.columns,"x").concat(i.rows," starting at [").concat(t.iColumn,",").concat(t.iRow,"].\n    Out of bounds data will be automatically clipped. This can result in sub-optimal performance."),ci.console.warn(e));var v=Math.max(-a,0),d=Math.max(-h,0),y=Math.max(u-c,0),A=Math.max(f-l,0),b=i.primary-(v+y);if(o=[],0===d&&0===A)for(s=0;s<b;s+=1)o[s]=t.values[v+s];else for(s=0;s<b;s+=1)o[s]=t.values[v+s].slice(d,0===A?void 0:-A);if(0===o.length||0===o[0].length)return this;t={iColumn:t.iColumn,iRow:t.iRow,values:o},a=Math.max(a,0),h=Math.max(h,0)}this.Hh.pp({type:"intensity",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:a,startSecondary:h,values:t.values})}return this.yA.Fn(),this.MA=!0,this},i.prototype.invalidateHeightMap=function(t){if(this.MA&&this.chart.Ai.pu(zs._a),Array.isArray(t)){if(0===t.length||0===t[0].length)return this;var i={x:t.length,y:t[0].length,columns:"columns"===this.xu.dataOrder?t.length:t[0].length,rows:"rows"===this.xu.dataOrder?t.length:t[0].length},n="columns"===this.xu.dataOrder?this.xu.columns:this.xu.rows,r="columns"===this.xu.dataOrder?this.xu.rows:this.xu.columns;if(i.x>n||i.y>r){if(!0===this.chart.Uy.Su){var e="SurfaceGridSeries3D.invalidateHeightMap height matrix overflow.\n    Grid ".concat(this.xu.columns,"x").concat(this.xu.rows,", input ").concat(i.columns,"x").concat(i.rows,".\n    Excess data will be automatically clipped. This can result in sub-optimal performance.");ci.console.warn(e)}for(var o=[],s=0;s<n;s+=1)o[s]=t[s].slice(0,r);t=o}this.Hh.mp({type:"y",lengthPrimary:t.length,lengthSecondary:t[0].length,startPrimary:0,startSecondary:0,values:t})}else if("iColumn"in t&&"iRow"in t&&"values"in t){if(0===t.values.length||0===t.values[0].length)return this;i={primary:t.values.length,secondary:t.values[0].length,columns:"columns"===this.xu.dataOrder?t.values.length:t.values[0].length,rows:"rows"===this.xu.dataOrder?t.values.length:t.values[0].length};var a="columns"===this.xu.dataOrder?t.iColumn:t.iRow,u=a+i.primary-1,h="columns"===this.xu.dataOrder?t.iRow:t.iColumn,f=h+i.secondary-1,c=("columns"===this.xu.dataOrder?this.xu.columns:this.xu.rows)-1,l=("columns"===this.xu.dataOrder?this.xu.rows:this.xu.columns)-1;if(a<0||h<0||u>c||f>l){!0===this.chart.Uy.Su&&(e="SurfaceGridSeries3D.invalidateHeightMap height matrix overflow.\n    Grid ".concat(this.xu.columns,"x").concat(this.xu.rows,", input ").concat(i.columns,"x").concat(i.rows," starting at [").concat(t.iColumn,",").concat(t.iRow,"].\n    Out of bounds data will be automatically clipped. This can result in sub-optimal performance."),ci.console.warn(e));var v=Math.max(-a,0),d=Math.max(-h,0),y=Math.max(u-c,0),A=Math.max(f-l,0),b=i.primary-(v+y);if(o=[],0===d&&0===A)for(s=0;s<b;s+=1)o[s]=t.values[v+s];else for(s=0;s<b;s+=1)o[s]=t.values[v+s].slice(d,0===A?void 0:-A);if(0===o.length||0===o[0].length)return this;t={iColumn:t.iColumn,iRow:t.iRow,values:o},a=Math.max(a,0),h=Math.max(h,0)}this.Hh.mp({type:"y",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:a,startSecondary:h,values:t.values})}return this.yA.Fn(),this.MA=!0,this},i.prototype.setCullMode=function(t){return this.Hh.gp("boolean"==typeof t?t?"cull-back":"disabled":t),this},i.prototype.getCullMode=function(){return this.Hh.xp()},i.prototype.Rn=function(){return en(this.Qr,this.Hh.Mi())},i.prototype.gA=function(){},i.prototype.ie=function(){},i.prototype.xA=function(){},i.prototype.OA=function(){return this.vA&&this.getVisible()},i.prototype.ee=function(t,i){t.Oi(i),this.yA.Fn()},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(Cf),Ac=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bc=function(){return bc=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},bc.apply(this,arguments)},pc=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,o,s)||this;a.Bn="Surface Grid Series 3D",a.MA=!1,a.sp={},a.j=new Nt,a.chart.Ai.pu(zs._a),a.cA=_e;var u=void 0!==(null==e?void 0:e.automaticColorIndex)?e.automaticColorIndex:a.chart.getSeries().length;a.Qr=an(a.xi.surfaceScrollingGridSeries3DFillStyle,u),a.ap=an(a.xi.surfaceScrollingGridSeries3DWireframeStyle,u);var h={heatmapDataType:"intensity",scrollDimension:e.scrollDimension||"columns",columns:e.columns,rows:e.rows};return a.xu=h,a.Hh=a.yA.Sp(h).$r(a.Qr).up(a.ap).pA(a.cA).Oi(a.getHighlight()),a.Sn(a.Hh),a.setHighlightOnHover(!1),a}return Ac(i,t),i.prototype.kA=function(){return this.MA},i.prototype.Ji=function(t,i,n){var r=null==t?void 0:t.dataPoint;if(r){var e=this.chart.translateCoordinate(i,this.chart.coordsRelative);return bc(bc({cursorPosition:{resultTable:e,resultTableScale:this.chart.hd,axisLocation:r}},r),{series:this,axisX:this.chart.getDefaultAxisX(),axisY:this.chart.getDefaultAxisY(),axisZ:this.chart.getDefaultAxisZ(),lut:Zr(this.Qr)?this.Qr.lut:void 0})}},i.prototype.fp=function(){var t,i=this.sp.start||{x:0,z:0};t=this.sp.step?this.sp.step:{x:1,z:1},this.Hh.cp(i,t),this.chart.Ai.Fn()},i.prototype.setStart=function(t){return this.sp.start=t,this.fp(),this},i.prototype.getStart=function(){return this.Hh.lp().start},i.prototype.setStep=function(t){return this.sp.step=t,this.fp(),this},i.prototype.getStep=function(){return this.Hh.lp().step},i.prototype.setFillStyle=function(t){return this.Qr="function"==typeof t?t(this.Qr):t,this.Hh.$r(this.Qr),this.yA.Fn(),this},i.prototype.getFillStyle=function(){return this.Qr},i.prototype.setWireframeStyle=function(t){return this.ap="function"==typeof t?t(this.ap):t,this.Hh.up(this.ap),this.yA.Fn(),this},i.prototype.getWireframeStyle=function(){return this.Hh.yp()},i.prototype.setIntensityInterpolation=function(t){return t=t||"disabled",this.Hh.Ap(t),this.yA.Fn(),this},i.prototype.getIntensityInterpolation=function(){return this.Hh.bp()},i.prototype.clear=function(){return this.Hh.zi(),this.yA.Fn(),this},i.prototype.addValues=function(t){if(!t)return this;var i=t.yValues,n=t.intensityValues;if(!i&&!n)return this;if(i&&0===i.length&&(i=void 0),n&&0===n.length&&(n=void 0),this.MA=!0,i){var r=i[0].length;if(0+r-1>(a="columns"===this.xu.scrollDimension?this.xu.rows:this.xu.columns)-1){if(!0===this.chart.Uy.Su){var e="SurfaceScrollingGridSeries3D.addValues input yValues overflow.\nGrid was created with ".concat(a," ").concat("columns"===this.xu.scrollDimension?"rows":"columns",", input yValues have ").concat(r,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");ci.console.warn(e)}for(var o=[],s=0;s<i.length;s+=1)o[s]=i[s].slice(0,a+1);i=o}}if(n){var a,u=n[0].length;if(0+u-1>(a="columns"===this.xu.scrollDimension?this.xu.rows:this.xu.columns)-1){for(!0===this.chart.Uy.Su&&(e="SurfaceScrollingGridSeries3D.addValues intensityValues overflow.\nGrid was created with ".concat(a," ").concat("columns"===this.xu.scrollDimension?"rows":"columns",", input intensityValues have ").concat(u,".\nExcess data will be automatically clipped. This can result in sub-optimal performance."),ci.console.warn(e)),o=[],s=0;s<n.length;s+=1)o[s]=n[s].slice(0,a+1);n=o}}if(i&&n){var h=i.length,f=n.length;h!==f&&(!0===this.chart.Uy.Su&&(e="SurfaceScrollingGridSeries3D.addValues input yValues and intensityValues size does not match.\nyValues: ".concat(h,"\nintensityValues: ").concat(f,"\nData will be automatically clipped according to the smaller supplied sample. This can result in sub-optimal performance."),ci.console.warn(e)),h>f?i=i.slice(0,f):n=n.slice(0,h))}var c=i?i.length:null==n?void 0:n.length,l=i?i[0].length:null==n?void 0:n[0].length;return this.Hh.wp({startPrimary:0,startSecondary:0,lengthPrimary:c,lengthSecondary:l,heightMapValues:i,intensityValues:n}),this.yA.Fn(),this},i.prototype.invalidateValues=function(t){return this.Hh.pp(t),this.chart.Ai.Fn(),this},i.prototype.getSampleCount=function(){return this.Hh.Mp()},i.prototype.setCullMode=function(t){return this.Hh.gp("boolean"==typeof t?t?"cull-back":"disabled":t),this},i.prototype.getCullMode=function(){return this.Hh.xp()},i.prototype.Rn=function(){return en(this.Qr,this.Hh.Mi())},i.prototype.gA=function(){},i.prototype.ie=function(){},i.prototype.xA=function(){},i.prototype.OA=function(){return this.vA&&this.getVisible()},i.prototype.ee=function(t,i){t.Oi(i),this.yA.Fn()},i.prototype.re=function(){return{fill:this.Qr}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(Cf),mc=function(t){return!!(t&&"object"==typeof t&&"id"in t&&"chart"in t&&t.chart instanceof Jc)},gc=function(t){return!!(t&&"object"==typeof t&&"x"in t&&"number"==typeof t.x&&"y"in t&&"number"==typeof t.y&&"z"in t&&"number"==typeof t.z)},xc=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sc=function(){return Sc=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Sc.apply(this,arguments)},wc=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Mc=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Cc=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},Tc=function(t,i){return void 0===i&&(i=/\s+/g),Array.from(t.split(i).map(parseFloat))},kc=function(t){if(t.length<=3)return t;for(var i=new Array,n=1;n<t.length-1;n+=1)i.push(t[0]),i.push(t[n]),i.push(t[n+1]);return i},_c={id:"",ambient:w(0,0,0,0),diffuse:w(254,204,0),emissive:w(0,0,0,0),specular:w(255,255,255),specularCoeff:1,opacity:1},Oc=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,e,s)||this;a.Bn="Mesh Model 3D",a.Cp=new Float32Array,a.Tp=new Float32Array,a.kp=new Uint16Array,a.ai={x:1,y:1,z:1},a._p={x:0,y:0,z:0},a.Op={x:0,y:0,z:0},a.Fp={x:0,y:0,z:0},a.Ip={w:1,x:0,y:0,z:0},a.jp={x:0,y:0,z:0},a.Bp=new Array,a.Dp=[],a.Kh=Dn,a.j=new Nt;var u=void 0!==(null==o?void 0:o.automaticColorIndex)?o.automaticColorIndex:a.chart.getSeries().length;return a.Hh=a.yA.Lp().mA(a.dA).$r(an(a.xi.meshModel3DFillStyle||a.xi.pointSeriesFillStyle,u)).Oi(a.getHighlight()),a.Sn(a.Hh),a}return xc(i,t),i.prototype.kA=function(){return this.Cp.length>0},i.prototype.Ji=function(t,i,n){var r=this,e=this.getFillStyle();return wn({series:this,axisX:this.chart.getDefaultAxisX(),axisY:this.chart.getDefaultAxisY(),axisZ:this.chart.getDefaultAxisZ(),lut:Zr(e)?e.lut:void 0},{cursorPosition:0,index:0,x:0,y:0,z:0,value:0,coordAxis:0,coordModel:0},(function(){var n=r.Hh.Ep(t,i);if(n){var o=r.chart.translateCoordinate(i,r.chart.coordsRelative);return Sc(Sc({cursorPosition:{resultTable:o,resultTableScale:r.chart.hd,axisLocation:n.coordAxis}},n.coordAxis),{index:n.index,value:n.value,coordAxis:n.coordAxis,coordModel:n.coordModel,series:r,axisX:r.chart.getDefaultAxisX(),axisY:r.chart.getDefaultAxisY(),axisZ:r.chart.getDefaultAxisZ(),lut:Zr(e)?e.lut:void 0})}}))},i.prototype.setModelGeometry=function(t){for(var i=t.indices,n=t.vertices,r=t.normals,e=jn,o=In,s=jn,a=In,u=jn,h=In,f=0;f<n.length;f+=3){var c=n[f],l=n[f+1],v=n[f+2];e=Math.max(e,c),o=Math.min(o,c),s=Math.max(s,l),a=Math.min(a,l),u=Math.max(u,v),h=Math.min(h,v)}for(this.Kh={min:{x:o,y:a,z:h},max:{x:e,y:s,z:u}},f=0;f<n.length;f+=3)n[f]-=this.Kh.min.x,n[f+1]-=this.Kh.min.y,n[f+2]-=this.Kh.min.z;this.jp={x:this.Kh.max.x-this.Kh.min.x,y:this.Kh.max.y-this.Kh.min.y,z:this.Kh.max.z-this.Kh.min.z},this.Cp=n instanceof Float32Array?n:new Float32Array(n),this.checkedNormals=r&&!Number.isNaN(r[0])?r instanceof Float32Array?r:new Float32Array(r):void 0,this.checkedNormals||this.setColorShadingStyle(_e);var d=new Array,y={indexStart:0,count:i.length,useIndexBuffer:!0,offset:0,material:{id:_c.id,diffuse:_c.diffuse,specular:_c.specular,ambient:_c.ambient,emissive:_c.emissive,specularCoeff:_c.specularCoeff,opacity:1}};return d.push(y),this.Dp=d,this.Hh.Pp({vertices:this.Cp,normals:this.checkedNormals,indices:i instanceof Uint32Array||i instanceof Uint16Array?i:new Uint16Array(i),modelSize:this.jp,parts:this.Dp}),this.chart.Ai.Fn(),this},i.prototype.zp=function(t){var i,n;if(!t)return this;this.Bp=[];var r={id:_c.id,diffuse:_c.diffuse,specular:_c.specular,ambient:_c.ambient,emissive:_c.emissive,specularCoeff:_c.specularCoeff,opacity:1},e=t.split("\n");try{for(var o=wc(e),s=o.next();!s.done;s=o.next()){var a=s.value;if(""!==(a=a.trim())&&!a.startsWith("#")){var u=a.split(/\s+/g);switch(u[0].trim().toLowerCase()){case"ka":var h=Tc(a.substring(2).trim()).map((function(t){return 255*t}));r.ambient=w(h[0],h[1],h[2]);break;case"ke":h=Tc(a.substring(2).trim()).map((function(t){return 255*t})),r.emissive=w(h[0],h[1],h[2]);break;case"kd":h=Tc(a.substring(2).trim()).map((function(t){return 255*t})),r.diffuse=w(h[0],h[1],h[2]);break;case"ks":h=Tc(a.substring(2).trim()).map((function(t){return 255*t})),r.specular=w(h[0],h[1],h[2]);break;case"d":r.opacity=parseFloat(u[1].trim());break;case"tr":r.opacity=1-parseFloat(u[1].trim());break;case"newmtl":r.diffuse=w(255*r.diffuse.r,255*r.diffuse.g,255*r.diffuse.b,255*r.opacity),r.specular=w(255*r.specular.r,255*r.specular.g,255*r.specular.b,255*r.opacity),r.emissive=w(255*r.emissive.r,255*r.emissive.g,255*r.emissive.b,255*r.opacity),r={id:u[1],diffuse:_c.diffuse,specular:_c.specular,ambient:_c.ambient,emissive:_c.emissive,specularCoeff:_c.specularCoeff,opacity:_c.opacity},this.Bp.push(r)}}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return this},i.prototype.setModelMaterial=function(t){var i=this;return t?(this.zp(t),this.setFillStyle(Vr),this.Dp?(this.Dp.forEach((function(t){var n=i.Bp.find((function(i){return i.id.toLowerCase()===t.material.id.toLowerCase()}));n&&(t.material=n)})),this.Dp.sort((function(t,i){return i.material.opacity-t.material.opacity})),this.chart.Ai.Fn(),this):this):this},i.prototype.setModelFromObj=function(t){var i,n;if(!t)return this;var r=new Array,e=new Array,o=new Array,s=new Array,a=new Array,u=new Array,h=new Array,f={indexStart:0,count:0,offset:0,useIndexBuffer:!1,material:{id:_c.id,diffuse:_c.diffuse,specular:_c.specular,ambient:_c.ambient,emissive:_c.emissive,specularCoeff:_c.specularCoeff,opacity:_c.opacity}},c=0,l=0,v=0,d=0,y=0,A=0,b=0,p=jn,m=In,g=jn,x=In,S=jn,w=In,M=t.replace(/\r/g,"").split("\n"),C=function(t){if(""===(t=t.trim())||t.startsWith("#"))return"continue";var i=t.split(/\s+/g),n=0;switch(i[0].trim().toLowerCase()){case"v":var M=Tc(t.substring(1).trim()),C=M[0],k=M[1],_=M[2];p=Math.max(p,C),m=Math.min(m,C),g=Math.max(g,k),x=Math.min(x,k),S=Math.max(S,_),w=Math.min(w,_),r.push.apply(r,Cc([],Mc(M.slice(0,3)),!1)),d=c+=1;break;case"vt":var O=Tc(t.substring(2).trim());e.push.apply(e,Cc([],Mc(O),!1)),y=l+=1;break;case"vn":var F=Tc(t.substring(2).trim());o.push.apply(o,Cc([],Mc(F),!1)),A=v+=1;break;case"usemtl":var I=T.Bp.find((function(t){return t.id.toLowerCase()===i[1].toLowerCase()}));b+=h.length>0?f.count:0,f={indexStart:void 0!==f?3*b*2:0,count:0,offset:void 0!==f?1*b:0,useIndexBuffer:!1,material:I||{id:i[1].toLowerCase(),diffuse:_c.diffuse,specular:_c.specular,ambient:_c.ambient,emissive:_c.emissive,specularCoeff:1,opacity:1}},h.push(f);break;case"fo":n+=1;case"f":n+=1,F=function(t){var i,n,r=t.split(/\s+/g),e=[],o=[],s=[];try{for(var a=wc(r),u=a.next();!u.done;u=a.next()){var h=u.value,f=Tc(h.trim(),"/");e.push(f[0]),f.length>1&&!Number.isNaN(f[1])&&s.push(f[1]),f.length>2&&!Number.isNaN(f[2])&&o.push(f[2])}}catch(t){i={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return{vertexIndex:e=kc(e),textureIndex:(s=kc(s))||void 0,normalIndex:(o=kc(o))||void 0}}(t.substring(n).trim());for(var j=0;j<F.vertexIndex.length;j+=1)(B=F.vertexIndex[j])<0?B+=d:B-=1,B*=3,s.push(r[B]),s.push(r[B+1]),s.push(r[B+2]);if(f.count+=F.vertexIndex.length,F.textureIndex)for(j=0;j<F.textureIndex.length;j+=1)(B=F.textureIndex[j])<0?B+=y:B-=1,B*=3,u.push(e[B]),u.push(e[B+1]),u.push(e[B+2]);if(F.normalIndex)for(j=0;j<F.normalIndex.length;j+=1){var B;(B=F.normalIndex[j])<0?B+=A:B-=1,B*=3,a.push(o[B]),a.push(o[B+1]),a.push(o[B+2])}}},T=this;try{for(var k=wc(M),_=k.next();!_.done;_=k.next())C(_.value)}catch(t){i={error:t}}finally{try{_&&!_.done&&(n=k.return)&&n.call(k)}finally{if(i)throw i.error}}this.Kh={min:{x:m,y:x,z:w},max:{x:p,y:g,z:S}};for(var O=0;O<s.length;O+=3)s[O]-=this.Kh.min.x,s[O+1]-=this.Kh.min.y,s[O+2]-=this.Kh.min.z;if(this.jp={x:this.Kh.max.x-this.Kh.min.x,y:this.Kh.max.y-this.Kh.min.y,z:this.Kh.max.z-this.Kh.min.z},h.length<1&&s.length>0&&(f.count=s.length/3,h.push(f)),this.Dp=h,this.Cp=new Float32Array(s),a.length<1)for(O=0;O<s.length/9;O+=1)for(var F={x:s[9*O],y:s[9*O+1],z:s[9*O+2]},I={x:s[9*O+3],y:s[9*O+4],z:s[9*O+5]},j={x:s[9*O+6],y:s[9*O+7],z:s[9*O+8]},B=Fn.normalize(Fn.cross(Fn.subtractVec(F,I),Fn.subtractVec(F,j))),D=0;D<3;D+=1)a.push(B.x),a.push(B.y),a.push(B.z);return this.Tp=new Float32Array(a.map((function(t,i){return a[i]}))),this.checkedNormals=new Float32Array,this.Bp&&this.Dp.sort((function(t,i){return i.material.opacity-t.material.opacity})),this.Hh.Pp({vertices:this.Cp,normals:this.Tp,indices:this.kp,modelSize:this.jp,parts:this.Dp}),this.chart.Ai.Fn(),this},i.prototype.setVertexValues=function(t){return this.Hh.Np(t),this.chart.Ai.Fn(),this},i.prototype.setScale=function(t){var i={x:"number"==typeof t?t:(null==t?void 0:t.x)||1,y:"number"==typeof t?t:(null==t?void 0:t.y)||1,z:"number"==typeof t?t:(null==t?void 0:t.z)||1};return this.ai=i,this.Hh.Vp(i),this.chart.Ai.Fn(),this},i.prototype.getScale=function(){return this.ai},i.prototype.setModelLocation=function(t){return this.Op=t,this.Hh.Rp(t),this.chart.Ai.Fn(),this},i.prototype.getModelLocation=function(){return this.Op},i.prototype.setModelAlignment=function(t){return this._p=t,this.Hh.Gp(t),this.chart.Ai.Fn(),this},i.prototype.getModelAlignment=function(){return this._p},i.prototype.setModelRotation=function(t){return this.setModelRotationEuler(t)},i.prototype.getModelRotation=function(){return this.Fp},i.prototype.setModelRotationEuler=function(t){var i={x:lr(t.x),y:lr(t.y),z:lr(t.z)};return this.Fp=i,this.Hh.Yp(this.Fp),this.chart.Ai.Fn(),this},i.prototype.getModelRotationEuler=function(){return this.Fp},i.prototype.setModelRotationQuaternion=function(t){return this.Ip=t,this.Hh.Wp(this.Ip),this.chart.Ai.Fn(),this},i.prototype.getModelRotationQuaternion=function(){return this.Ip},i.prototype.setBackfaceCullingMode=function(t){return this.Hh.Xp(t),this.chart.Ai.Fn(),this},i.prototype.getBackfaceCullingMode=function(){return this.Hh.Hp()},i.prototype.setFillStyle=function(t){return this.Hh.$r(t),this.chart.Ai.Fn(),this},i.prototype.getFillStyle=function(){return this.Hh.vo()},i.prototype.setColorShadingStyle=function(i){return this.checkedNormals||i!==Ie?t.prototype.setColorShadingStyle.call(this,i):(console.warn("Phong shading style is not supported without normals. Switching to Simple shading style."),t.prototype.setColorShadingStyle.call(this,new je.Simple))},i.prototype.OA=function(){return!1},i.prototype.ee=function(t,i){t.Oi(i),this.chart.Ai.Fn()},i.prototype.Rn=function(){return en(this.getFillStyle(),this.Hh.Mi())},i.prototype.re=function(){return{fill:this.getFillStyle()}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(Cf),Fc={None:Zs,Rectangle:ru,Circle:eu,Diamond:ou,Pointer:su},Ic=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jc=function(){return jc=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},jc.apply(this,arguments)},Bc=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,e,o,s)||this;return a.Hs=a.xi.cursorResultTableTextFont,a.Av=0,a.LA=a.xi.cursorResultTableTextFillStyle,a.zs=100,a.We=he.CursorResultTable,a}return Ic(i,t),i.prototype.setContent=function(t){var i,n,r=this;void 0===t?n=[]:Array.isArray(t)?(n=[],t.forEach((function(t){n.push(Array.isArray(t)?t:[t])}))):n=[[t]];for(var e=0;e<n.length;e+=1){for(var o=n[e],s=!1,a=0;a<o.length;a+=1){var u=o[a],h="object"==typeof u&&"text"in u?u.text:"string"==typeof u?u:void 0,f="object"==typeof u&&"icon"in u?u.icon:$e(u)?u:void 0,c=u instanceof fe&&u;if(!(h&&h.length>0||f||c)){s=!0;break}}s||(o.unshift(""),o.push(""))}for(var l,v=n.length,d=this.getMembers().length,y=function(t){var e=A.getRow(t,!0);if(t>=v)A.getMembers()[t].dispose(),t-=1,d-=1;else for(var o,s=n[t].length,a=e.getMembers().length,u=function(u){var h,f=n[t][u],c="object"==typeof f&&"font"in f?f.font:void 0,l="object"==typeof f&&"fillStyle"in f?f.fillStyle:void 0,d="object"==typeof f&&"text"in f?f.text:"string"==typeof f?f:void 0,y="object"==typeof f&&"icon"in f?f.icon:$e(f)?f:void 0,b=f instanceof fe&&f||("object"==typeof f&&"component"in f?f.component:void 0),p="object"==typeof f&&"componentColor"in f&&f.componentColor,m="object"==typeof f&&"componentFillStyle"in f&&f.componentFillStyle,g="object"==typeof f&&"rowFillStyle"in f?f.rowFillStyle:void 0,x=e.getMembers();if(u>=s)e.getMembers()[u].dispose(),u-=1,a-=1;else if(void 0!==d&&d.length>0||y||b){var S=c?A.Hs.withMutations((function(t){var i,n;try{for(var r=(i=void 0,function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(c))),e=r.next();!e.done;e=r.next()){var o=e.value,s=c[o];void 0!==s&&t.set(o,s)}}catch(t){i={error:t}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return t})):A.Hs,w=l||A.LA,M=x[u];if(d){var C=void 0;M&&M instanceof iu?C=M:(M&&M.dispose(),C=e.addElement(nu,u)),C.setText(d).setFont(S).setFillStyle(w).setTextRotation(A.Av)}else if(y){var T=void 0;M&&M instanceof au?T=M:(M&&M.dispose(),T=e.addElement(uu,u)),T.setFillStyle(w).setShape(y).setSize({y:S.size,x:S.size}),T.setMargin(null!==(i=A.xi.uiTextPadding)&&void 0!==i?i:5)}else if(b){var k=void 0;M&&"setTextFillStyleHidden"in(h=M)&&"setText"in h?k=M:(M&&M.dispose(),k=e.addElement(Du.setBackground(Fc.None),u).setOn(!0));var _=b.Gn();void 0!==_&&k.setButtonShape(_),k.setText(b.getName()).setTextFont(S).setTextFillStyle(w).setTextRotation(A.Av),p?k.setButtonOnFillStyle(new Ur({color:p})):m?k.setButtonOnFillStyle(m):k.setButtonOnFillStyle(rn(b.chart.getTheme(),!1,b.re()))}g&&e.setBackground((function(i){i.setFillStyle(g);var n=r.getBackground();de(n)&&i instanceof ru&&i.setCornerRadius(n.getCornerRadius(),{topLeft:0===t,topRight:0===t,bottomLeft:t===v-1,bottomRight:t===v-1})}))}else(M=x[u])&&M instanceof cu||(M&&M.dispose(),e.addGap(void 0,u));o=u},h=0;h<Math.max(s,a);h+=1)u(h),h=o;l=t},A=this,b=0;b<Math.max(v,d);b+=1)y(b),b=l;return this.Yn.Fn(),this},i.prototype.ie=function(){if(t.prototype.ie.call(this),this.Yn.Ai.kc&&this.getVisible()){var i=Ds(this);this.Yn.Ai.kc.Ed(jc(jc({},i),{blacklist:[he.CursorResultTable]}))}return this},i.prototype.setTextFillStyle=function(t){this.LA="function"==typeof t?t(this.LA):t;for(var i=0;i<this.getMemberCount();i+=1)for(var n=this.getRow(i),r=0;r<n.getMembers().length;r+=1){var e=n.getMembers()[r];e instanceof iu&&e.setFillStyle(this.LA)}return this.Yn.Fn(),this},i.prototype.getTextFillStyle=function(){return this.LA},i.prototype.setTextFont=function(t){return P(t)?this.Hs=t:this.Hs=t(this.Hs),this.Yn.Fn(),this},i.prototype.getTextFont=function(){return this.Hs},i.prototype.setTextRotation=function(t){return this.Av=t,this.Yn.Fn(),this},i.prototype.getTextRotation=function(){return this.Av},i.prototype.Zp=function(){for(var t=0;t<this.ql.length;t+=1)for(var i=0;i<this.ql[t].getMembers().length;i+=1)this.ql[t].getMembers()[i].dispose()},i.prototype.Io=function(){for(var i=0;i<this.ql.length;i+=1)this.ql[i].setMinimumSize(void 0);for(t.prototype.Io.call(this),i=0;i<this.ql.length;i+=1)this.ql[i].setMinimumSize(this.size.x);return t.prototype.Io.call(this),this},i}(bu),Dc=function(){return Dc=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Dc.apply(this,arguments)},Lc=function(){function t(t,i,n,r,e,o){var s=this;this.Qp=[],this.Jp=!0,this.Kp=!0,this.zy=!1,this.ci=!0,this.fi=!1,this.qp=[],this.$p=!0,this.j=new Nt,this.Yn=t,this.renderingScale=i,this.scale=n,this.tm=r,this.im=e,this.xi=o,this.nm=new Bc(this.Yn,this.renderingScale,this.scale,this.im,Ai,o).setPointerEvents(!1).setBackground((function(t){return t.setFillStyle(o.cursorResultTableFillStyle).setStrokeStyle(o.cursorResultTableStrokeStyle)})).setTextFillStyle(o.cursorResultTableTextFillStyle).setTextFont(o.cursorResultTableTextFont),this.rm=new Pc((function(t){return s.nm.setOrigin(t)}),(function(){return s.nm.getOrigin()})),this.om=new Pc((function(t){return s.nm.setPosition(t)}),(function(){return s.nm.getPosition()}))}return t.prototype.isDisposed=function(){return this.fi},t.prototype.setPointMarkerVisible=function(t){return this.Jp=t,this.Qp.forEach((function(i){return i.pointMarker.setVisible(i.targetVisible&&t)})),this.Yn.Fn(),this},t.prototype.getPointMarkerVisible=function(){return this.Jp},t.prototype.setPointMarker=function(t){return this.Qp.forEach((function(i){return t(i.pointMarker)})),this.qp.push(t),this.Yn.Fn(),this},t.prototype.setResultTableVisible=function(t){return this.Kp=t,this.Yn.Fn(),this},t.prototype.getResultTableVisible=function(){return this.Kp},t.prototype.setResultTable=function(t){return t(this.nm),this.Yn.Fn(),this},t.prototype.setAutoFit=function(t){return this.$p=t,this.rm.resetValue(),this.om.resetValue(),this.Yn.Fn(),this},t.prototype.getAutoFit=function(){return this.$p},t.prototype.setVisible=function(t){return this.ci=t,this.Yn.Fn(),this},t.prototype.getVisible=function(){return this.ci},t.prototype.dispose=function(){return this.Qp.forEach((function(t){return t.pointMarker.dispose()})),this.nm.dispose(),this.qp.length=0,this.tm(this),this.j.D("dispose",{}),this},t.prototype.sm=function(){var t=this.nm,i=this.Yn.Ai.ai,n=at(t.getPosition(h(-1,-1),Wt.PaddedBackground),t.scale,i),r=at(t.getPosition(h(1,1),Wt.PaddedBackground),t.scale,i),e=n.x<i.x.getInnerStart()||r.x>i.x.getInnerEnd(),o=n.y<i.y.getInnerStart()||r.y>i.y.getInnerEnd();return{x:e,y:o,either:e||o,resultTableViewport:this.nm.Yn.Ai.ai,resultTableViewportBounds:{x:{min:Math.min(i.x.getInnerStart(),i.x.getInnerEnd()),max:Math.max(i.x.getInnerStart(),i.x.getInnerEnd())},y:{min:Math.min(i.y.getInnerStart(),i.y.getInnerEnd()),max:Math.max(i.y.getInnerStart(),i.y.getInnerEnd())}}}},t.prototype.ie=function(){var t=this;if(this.ci){(this.rm.isAltered()||this.om.isAltered())&&(this.rm.resetValue(),this.om.resetValue(),this.nm.Io());var i=this.$p&&this.sm();if(i&&i.either){var n=i.resultTableViewport,r=at(this.nm.getPosition(h(-1,-1),Wt.PaddedBackground),this.nm.scale,n),e=at(this.nm.getPosition(h(1,1),Wt.PaddedBackground),this.nm.scale,n),o=i.resultTableViewportBounds,s=this.nm.getOrigin(),a={x:0,y:0},u=Dc({},s);if(e.y>o.y.max?a.y=o.y.max-e.y:r.y<o.y.min&&(a.y=o.y.min-r.y),(e.x>o.x.max||r.x<o.x.min)&&(u.x*=-1),0!==a.x||0!==a.y||u.x!==s.x||u.y!==s.y){var f=this.nm.getPosition(),c=at(f,this.nm.scale,n),l={x:c.x+a.x,y:c.y+a.y},v=at(l,n,this.nm.scale);this.om.alter(v),this.rm.alter(u),this.nm.Io(),(i=this.sm()).x&&(r=at(this.nm.getPosition(h(-1,-1),Wt.PaddedBackground),this.nm.scale,n),(e=at(this.nm.getPosition(h(1,1),Wt.PaddedBackground),this.nm.scale,n)).x>o.x.max?a.x=o.x.max-e.x:r.x<o.x.min&&(a.x=o.x.min-r.x),l={x:c.x+a.x,y:c.y+a.y},v=at(l,n,this.nm.scale),this.om.alter(v),this.nm.Io())}}}return this.Qp.forEach((function(i){return i.pointMarker.setVisible(i.targetVisible&&t.zy&&t.ci&&t.Jp)})),this.Qp.forEach((function(t){return t.pointMarker.ie()})),this.nm.ie(),this},t.prototype.Io=function(){return this.nm.setVisible(this.zy&&this.ci&&this.Kp),this.Qp.forEach((function(t){return t.pointMarker.Io()})),this.nm.Io(),this},t.prototype.am=function(t,i){var n=i===this.scale?t:at(t,i,this.scale);this.nm.setPosition(n)},t.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},t.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},t}(),Ec=function(t,i){return t.setResultTable((function(t){return t.setEffect(!0).setOrigin(h(-1,-1)).setMargin(.5*i.cursorPointMarkerSize.x+2).setBackground((function(t){i.cursorResultTableBorderRadius&&de(t)&&t.setCornerRadius(i.cursorResultTableBorderRadius)}))}))},Pc=function(){function t(t,i){this.um=t,this.hm=i}return t.prototype.alter=function(t){this.fm=void 0!==this.fm?this.fm:this.hm(),this.lm=t,this.um(t)},t.prototype.resetValue=function(){void 0!==this.lm&&(void 0!==this.fm&&this.isAltered()&&this.um(this.fm),this.fm=void 0,this.lm=void 0)},t.prototype.getNormalValue=function(){return void 0!==this.fm?this.fm:this.hm()},t.prototype.isAltered=function(){return void 0!==this.lm&&this.hm()===this.lm},t}(),zc=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nc=function(t){function i(i,n,r,e,o,s,a){var u=t.call(this,i,n,r,e,o,s)||this;return u.chart=a,u.vm=u.chart.getDefaultAxisX().addCustomTick().setVisible(!1).setGridStrokeStyle(s.cursor3DGridStrokeStyleX).setTickStyle(s.cursor3DTickStrokeStyleX).setTextFillStyle(s.cursor3DTickLabelFillStyleX).setTextFont(s.cursor3DTickLabelFontX).setBackgroundFillStyle(s.cursor3DTickLabelBackgroundFillStyleX).setBackgroundStrokeStyle(s.cursor3DTickLabelBackgroundStrokeStyleX).setPadding(s.cursor3DTickLabelPaddingX),u.dm=u.chart.getDefaultAxisY().addCustomTick().setVisible(!1).setGridStrokeStyle(s.cursor3DGridStrokeStyleY).setTickStyle(s.cursor3DTickStrokeStyleY).setTextFillStyle(s.cursor3DTickLabelFillStyleY).setTextFont(s.cursor3DTickLabelFontY).setBackgroundFillStyle(s.cursor3DTickLabelBackgroundFillStyleY).setBackgroundStrokeStyle(s.cursor3DTickLabelBackgroundStrokeStyleY).setPadding(s.cursor3DTickLabelPaddingY),u.ym=u.chart.getDefaultAxisZ().addCustomTick().setVisible(!1).setGridStrokeStyle(s.cursor3DGridStrokeStyleZ).setTickStyle(s.cursor3DTickStrokeStyleZ).setTextFillStyle(s.cursor3DTickLabelFillStyleZ).setTextFont(s.cursor3DTickLabelFontZ).setBackgroundFillStyle(s.cursor3DTickLabelBackgroundFillStyleZ).setBackgroundStrokeStyle(s.cursor3DTickLabelBackgroundStrokeStyleZ).setPadding(s.cursor3DTickLabelPaddingZ),u.vm.We=he.CursorTickMarker,u.dm.We=he.CursorTickMarker,u.ym.We=he.CursorTickMarker,u}return zc(i,t),i.prototype.setTickX=function(t){return t(this.vm),this.chart.Ai.Fn(),this},i.prototype.setTickY=function(t){return t(this.dm),this.chart.Ai.Fn(),this},i.prototype.setTickZ=function(t){return t(this.ym),this.chart.Ai.Fn(),this},i.prototype.setTicks=function(t){return t(this.vm),t(this.dm),t(this.ym),this.chart.Ai.Fn(),this},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.vm.dispose(),this.dm.dispose(),this.ym.dispose(),this},i.prototype.ie=function(){return this.vm.setVisible(this.ci&&this.zy),this.dm.setVisible(this.ci&&this.zy),this.ym.setVisible(this.ci&&this.zy),t.prototype.ie.call(this)},i.prototype.setPosition=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if(0===t.length)return this;var n=t[0];this.zy=!0;var r=this.renderingScale,e=Zh(n.resultTableScale,r),o=e===this.scale?n.resultTable:at(n.resultTable,e,this.scale);this.nm.setPosition(o),this.vm.setValue(n.axisLocation.x),this.dm.setValue(n.axisLocation.y),this.ym.setValue(n.axisLocation.z);var s=this.Qp[0];if(!s){var a=new au(this.Yn,this.renderingScale,this.scale,Ai,this.xi).setPointerEvents(!1).setFillStyle(this.xi.cursorPointMarkerFillStyle).setStrokeStyle(this.xi.cursorPointMarkerStrokeStyle).setSize(this.xi.cursorPointMarkerSize).setShape(this.xi.cursorPointMarkerShape);s={pointMarker:a,targetVisible:!0},this.Qp.push(s),this.qp.forEach((function(t){return t(a)}))}return n.pointMarkerShape&&s.pointMarker.setShape(n.pointMarkerShape),n.pointMarkerSize&&s.pointMarker.setSize(n.pointMarkerSize),n.pointMarkerFillStyle&&s.pointMarker.setFillStyle(n.pointMarkerFillStyle),n.pointMarkerStrokeStyle&&s.pointMarker.setStrokeStyle(n.pointMarkerStrokeStyle),s.pointMarker.setPosition(o),this.chart.Ai.Fn(),this},i}(Lc),Vc=function t(i,n){var r=this;this.Am=[],this.bm=function(t,i){return r.Am.forEach((function(n){return n(t,i)})),t},this.addStyler=function(i){return new t(r.im,r.Am.map((function(t){return t})).concat(i))},this.setResultTableBackground=function(i){return new t(i,r.Am.map((function(t){return t})))},this.pm=function(t,i,n,e,o,s){return r.bm(new Nc(t,i,n,e,r.im,o,s),o)},this.im=i,this.Am=n},Rc=new Vc(ru,[function(t,i){Ec(t,i)}]),Gc=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Uc=function(t,i,n,r){t.background.addEventListener(i,n,r),t.seriesBackground.addEventListener(i,n,r),t.getSeries().forEach((function(t){return t.addEventListener(i,n,r)}));var e=function(t){return t.series.addEventListener(i,n,r)};return t.addEventListener("seriesadd",e),function(){t.background.removeEventListener(i,n),t.seriesBackground.removeEventListener(i,n),t.getSeries().forEach((function(t){return t.removeEventListener(i,n)})),t.removeEventListener("seriesadd",e)}},Yc=function(t,i,n,r){var e,o,s,a,u,h;_n(),i.camera&&n.gm(),i.x&&t.axisX.fit(null!==(e=i.animationsEnabled)&&void 0!==e?e:void 0,null!==(o=i.stopScroll)&&void 0!==o?o:void 0),i.y&&t.axisY.fit(null!==(s=i.animationsEnabled)&&void 0!==s?s:void 0,null!==(a=i.stopScroll)&&void 0!==a?a:void 0),i.z&&t.axisZ.fit(null!==(u=i.animationsEnabled)&&void 0!==u?u:void 0,null!==(h=i.stopScroll)&&void 0!==h?h:void 0);var f=i.cursor;if(null!==f){f=null!=f?f:vo.ZoomOut;var c=t.engine.setMouseStyle(f);ci.setTimeout((function(){t.engine.restoreMouseStyle(c)}),500)}var l=i.on;l&&ci.requestAnimationFrame((function(){return l({event:r})}))},Wc=function(t,i,n,r){_n(),t.restorePreviousZoomState();var e=i.on;e&&ci.requestAnimationFrame((function(){return e({event:r})}))},Xc=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hc=function(){return Hc=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Hc.apply(this,arguments)},Zc=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Qc=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},Jc=function(t){function i(i,n,r,e,o,s,a){var u,f,c=this;(c=t.call(this,i,n,r,n.rA("chart3D bg",0),e,n.Ai.xi.chart3DBackgroundFillStyle,n.Ai.xi.chart3DBackgroundStrokeStyle,n.Ai.xi.chart3DTitleFont,n.Ai.xi.chart3DTitleFillStyle,n.Ai.xi.chart3DTitleShadow,s,null===(u=null==a?void 0:a.legend)||void 0===u?void 0:u.customLegend)||this).xm=1,c.Sm=[],c.wm=2,c.Mm=!0,c.Cm=!0,c.Tm=!0,c.km=0,c.coordsAxis={id:"axes",chart:c},c.coordsWorld={id:"world",chart:c},c.Za=[],c._m=[],c.Om=!1,c.Fm=function(){if(!c.fi){var t=new Map;c.forEachAxis((function(i){void 0!==i.Sd().find((function(t){return t.kA()}))&&t.set(i,Hc(Hc({},i.getInterval()),{stopped:i.getStopped()}))})),t.size<=0||(c._m.push(t),c._m.length>100&&c._m.shift())}},c.su=function(){var t=c.yA.Im();c.Bm.jm(t),c.Dm.jm(t);var i=c.Lm.viewportChanged(c.Em());i&&c.Pm(i),c.Ai.Fn()},c.j=new Nt,c.Ai.pu(zs.ga),c.Ve.Wo("Chart3D"),c.zm=r.d3(),c.zm.x.X(-1,1),c.zm.y.X(-1,1),c.zm.z.X(-1,1),c.yA=n.Nm("chart3D layer3D",0,c.zm),c.Bm=n.Vm("chart3D series bg",0),c.Dm=n.Rm("chart3D axis ui",1),c.Gm={x:new Vf(c,(f=function(){return c.Sb},Wf(Wf({},Yf(f,(function(t){return t.getXMin()}),(function(t){return t.getXMax()}),(function(t){return t.us().x}))),{UA:function(t){return t.x},ab:function(t,i){return{x:t.x,y:i.y,z:i.z}},hv:l(0,-1,0),ib:function(t){var i={x:t.x>=0?1:-1,y:t.y>=0?1:-1,z:t.z>=0?1:-1};return{gridlinePositionA:l(0,i.y,i.z),gridlinePositionB:l(0,i.y,-i.z),gridlinePositionC:l(0,-i.y,-i.z)}},hb:function(){return!0},fb:function(){return!1},sb:function(){return!1}})),c.zm.x,c.xi,c.yA,c.Dm,c.hd,!1,c.yn),y:new Vf(c,Xf((function(){return c.Sb})),c.zm.y,c.xi,c.yA,c.Dm,c.hd,!1,c.yn),z:new Vf(c,Hf((function(){return c.Sb})),c.zm.z,c.xi,c.yA,c.Dm,c.hd,!1,c.yn)},c.Um=c.yA.QA([Of.InternalUI],void 0).setPointerEvents(!1),c.setBoundingBoxStrokeStyle(c.xi.chart3DBoundingBoxStrokeStyle),c.kb=c.Bm.Dc(c.Ai.ai,pa.Simple).$r(c.xi.chart3DSeriesBackgroundFillStyle).qr(qt).setPointerEvents(!0),c._b=c.Bm.Dc(c.Ai.ai,pa.Simple).$r(Vr).qr(c.xi.chart3DSeriesBackgroundStrokeStyle).setPointerEvents(!1),t.prototype.Tb.call(c,c.kb,c._b),c.Ym({x:1,y:1,z:1},!0),c.Lm=new fc(c.Ai.ai,c.hd,c.zm,(function(t,i){return i&&c.Pm(i),c.yA.nb(t)})),c.Wm=c.Lm.getDefaultCameraConfiguration(c.Xm(c.Hm),c.getProjection()),c.Pm(c.Wm);var v=gi(a?a.cursorBuilder:void 0,Rc),d=n.Zm();c.Qm=Up(c,d,v.pm(d,c.hd,c.hd,Ai,c.xi,c),c,"show-pointed",Kc,(function(){return 0})),c.setAnimationsEnabled(!1!==(null==a?void 0:a.animationsEnabled)),c.addEventListener("resize",c.su),c.su(),c.nA(o,c.hd),c.Jm=function(t){var i=!1,n=!1,r=!1,e=function(t){var i=!0,n=t.getCameraLocation(),r=t.getCameraAutomaticFittingEnabled();return{Km:function(){i&&(n=t.getCameraLocation(),r=t.getCameraAutomaticFittingEnabled()),i=!1},gm:function(){t.setCameraLocation(n).setCameraAutomaticFittingEnabled(r),i=!0}}}(t),o={},s=function(){return hi({rotate:{drag:{},ctrl:{drag:!1},shift:{drag:!1},alt:{drag:!1}},zoom:{wheel:{},camera:!0,mode:"centered",pinch:{camera:!1,x:!0,y:!0,z:!0}},restoreDefault:{doubleClick:!0,camera:!0,x:!0,y:!0,z:!0},restorePrevious:!1},o)},a=function(o){var a,u,h=s(),f=!1,c=!1,l=!1;try{for(var v=Gc(Object.keys(h)),d=v.next();!d.done;d=v.next()){var y=h[d.value];"object"==typeof y&&(void 0!==y.ctrl&&(f=!0),void 0!==y.shift&&(c=!0),void 0!==y.alt&&(l=!0))}}catch(t){a={error:t}}finally{try{d&&!d.done&&(u=v.return)&&u.call(v)}finally{if(a)throw a.error}}n=o.ctrlKey,i=o.shiftKey,r=o.altKey,("Control"===o.key&&f||"Shift"===o.key&&c||"Alt"===o.key&&l)&&o.preventDefault();var A=ie(h.restoreDefault,void 0,o,i,n,r);A&&A.code===o.code&&(Pi(o),Yc(t,A,e,o));var b=ie(h.restorePrevious,void 0,o,i,n,r);b&&b.code===o.code&&(Pi(o),Wc(t,b,0,o))},u=function(t){n=t.ctrlKey,i=t.shiftKey,r=t.altKey},f=function(){n=!1,i=!1,r=!1};ci.addEventListener("keydown",a),ci.addEventListener("keyup",u),ci.addEventListener("blur",f),t.addEventListener("dispose",(function(){ci.removeEventListener("keydown",a),ci.removeEventListener("keyup",u),ci.removeEventListener("blur",f)}));var c=function(t){},l=function(o){var a=ne(!1!==t.Ai.xu.Su),u=s(),f=ie(u.rotate,"drag",o,i,n,r),c=ie(u.pan,"drag",o,i,n,r);c&&a.push((function(){return function(t,i,n,r){var e=t.getCursorMode();t.setCursorMode(void 0);var o=i;"mouse"===i.pointerType&&i.preventDefault();var s=function(r){var e,s,a;if(r.pointerId===i.pointerId){Pi(r);var u=r.clientX-o.clientX,h=r.clientY-o.clientY;if(o=r,n&&n.x){var f=u+-h;t.axisX.cb(-Math.sign(f)*(null!==(e=n.sensitivity)&&void 0!==e?e:1)),!1!==n.stopScroll&&t.axisX.setStopped(!0)}n&&n.y&&(f=-u+h,t.axisY.cb(Math.sign(f)*(null!==(s=n.sensitivity)&&void 0!==s?s:1)),!1!==n.stopScroll&&t.axisY.setStopped(!0)),n&&n.z&&(f=-u+h,t.axisZ.cb(Math.sign(f)*(null!==(a=n.sensitivity)&&void 0!==a?a:1)),!1!==n.stopScroll&&t.axisZ.setStopped(!0));var c=null==n?void 0:n.on;c&&ci.requestAnimationFrame((function(){return c({event:r})}))}},a=function(n){n.pointerId===i.pointerId&&(Pi(n),t.setCursorMode(e),ci.removeEventListener("pointermove",s),ci.removeEventListener("pointerup",a),t.engine.container.removeEventListener("pointerdown",u),r())},u=function(n){n.pointerId!==i.pointerId&&(t.setCursorMode(e),ci.removeEventListener("pointermove",s),ci.removeEventListener("pointerup",a),t.engine.container.removeEventListener("pointerdown",u),r())};ci.addEventListener("pointermove",s),ci.addEventListener("pointerup",a),t.engine.container.addEventListener("pointerdown",u),_n()}(t,o,c,v())})),f&&a.push((function(){return function(t,i,n,r,e){var o=t.getCursorMode();t.setCursorMode(void 0);var s=i,a=!1,u=0;"mouse"===i.pointerType&&i.preventDefault();var h=function(r){var o,h;if(r.pointerId===i.pointerId){Pi(r);var f={x:r.clientX-s.clientX,y:r.clientY-s.clientY};s=r,u+=rr(f),e.Km(),t.qm({x:f.x*(null!==(o=n.sensitivity)&&void 0!==o?o:1),y:-f.y*(null!==(h=n.sensitivity)&&void 0!==h?h:1)}),a||(kn(),a=!0);var c=n.on;c&&ci.requestAnimationFrame((function(){return c({event:r})}))}},f=function(n){n.pointerId===i.pointerId&&(Pi(n),t.setCursorMode(o),ci.removeEventListener("pointermove",h),ci.removeEventListener("pointerup",f),t.engine.container.removeEventListener("pointerdown",c),r(),u>=10&&Tn("click"))},c=function(n){n.pointerId!==i.pointerId&&(t.setCursorMode(o),ci.removeEventListener("pointermove",h),ci.removeEventListener("pointerup",f),t.engine.container.removeEventListener("pointerdown",c),r())};ci.addEventListener("pointermove",h),ci.addEventListener("pointerup",f),t.engine.container.addEventListener("pointerdown",c),_n()}(t,o,f,v(),e)}));var l=ie(u.zoom,"drag",o,i,n,r);l&&a.push((function(){return function(t,i,n,r,e){var o=t.getCursorMode();t.setCursorMode(void 0);var s=i;"mouse"===i.pointerType&&i.preventDefault();var a=function(r){var o,a,u,h,f,c,l;if(r.pointerId===i.pointerId){Pi(r);var v=r.clientX-s.clientX,d=r.clientY-s.clientY;if(s=r,n.x){var y=v+-d;t.axisX.lb(null!==(o=n.mode)&&void 0!==o?o:"centered",Math.sign(y),null!==(a=n.sensitivity)&&void 0!==a?a:1),!1!==n.stopScroll&&t.axisX.setStopped(!0)}n.y&&(y=-v+d,t.axisY.lb(null!==(u=n.mode)&&void 0!==u?u:"centered",-Math.sign(y),null!==(h=n.sensitivity)&&void 0!==h?h:1),!1!==n.stopScroll&&t.axisY.setStopped(!0)),n.z&&(y=-v+d,t.axisZ.lb(null!==(f=n.mode)&&void 0!==f?f:"centered",-Math.sign(y),null!==(c=n.sensitivity)&&void 0!==c?c:1),!1!==n.stopScroll&&t.axisZ.setStopped(!0)),n.camera&&(y=v+-d,e.Km(),t.$m(-.15*Math.sign(y)*(null!==(l=n.sensitivity)&&void 0!==l?l:1)));var A=n.on;A&&ci.requestAnimationFrame((function(){return A({event:r})}))}},u=function(n){n.pointerId===i.pointerId&&(Pi(n),t.setCursorMode(o),ci.removeEventListener("pointermove",a),ci.removeEventListener("pointerup",u),t.engine.container.removeEventListener("pointerdown",h),r())},h=function(i){t.setCursorMode(o),ci.removeEventListener("pointermove",a),ci.removeEventListener("pointerup",u),t.engine.container.removeEventListener("pointerdown",h),r()};ci.addEventListener("pointermove",a),ci.addEventListener("pointerup",u),t.engine.container.addEventListener("pointerdown",h),_n()}(t,o,l,v(),e)})),a.end();var d=ie(u.rotate,"pinch",o,i,n,r),y=ie(u.pan,"pinch",o,i,n,r),A=ie(u.zoom,"pinch",o,i,n,r);(d||A||y)&&function(t,i,n,r,e,o,s){if(n||r||e){var a=function(f){if(f.pointerId!==i.pointerId){var c,l=o();t.engine.container.removeEventListener("pointerdown",a),ci.removeEventListener("pointerup",u);var v,d=f,y=f,A=t.getCursorMode();t.setCursorMode(void 0);var b,p,m,g,x=t.getCameraLocation(),S=[],w=function(){var o,a,u,l,A,w,M,C;g=void 0;var T=c,k=d;if(S.forEach((function(t){t.pointerId===i.pointerId?c=t:t.pointerId===f.pointerId&&(d=t)})),S.length=0,v=v||c,void 0!==c&&void 0!==T&&void 0!==v){if(!p||!m){var _=function(t){for(;t<0;)t+=360;for(;t>360;)t-=360;return t},O=function(i,n){var r=t.yA.nb(i),e=t.yA.nb(n);if(!r||!e)return{deg:-1,dir:{x:0,y:0}};var o=t.Ai.Yu({engineX:r.x,engineY:r.y}),s=t.Ai.Yu({engineX:e.x,engineY:e.y});return{deg:_(vr(sr(e,r))),dir:ir(sr({x:s.clientX,y:s.clientY},{x:o.clientX,y:o.clientY}))}},F=t.axisX.getInterval(),I=t.axisY.getInterval(),j=t.axisZ.getInterval(),B={x:O({x:F.start,y:I.start,z:j.start},{x:F.end,y:I.start,z:j.start}),y:O({x:F.start,y:I.start,z:j.start},{x:F.start,y:I.end,z:j.start}),z:O({x:F.end,y:I.start,z:j.start},{x:F.end,y:I.start,z:j.end})},D=t.Ai.Uu(v),L=t.Ai.Uu(y),E=_(vr(sr({x:L.engineX,y:L.engineY},{x:D.engineX,y:D.engineY})));p=["x","y","z"].reduce((function(t,i){var n=Math.abs(B[i].deg-E),r=Math.abs(_(B[i].deg+180)-E),e=Math.min(n,r);return Math.min(e,r)<t.angleDiff?{angleDiff:e,axis:i}:t}),{axis:"x",angleDiff:1e3}).axis,m=B[p].dir}var P=c.clientX-T.clientX,z=c.clientY-T.clientY,N=d.clientX-k.clientX,V=d.clientY-k.clientY,R=Math.sqrt(Math.pow(v.clientX-y.clientX,2)+Math.pow(v.clientY-y.clientY,2)),G=Math.sqrt(Math.pow(c.clientX-d.clientX,2)+Math.pow(c.clientY-d.clientY,2)),U=Fn.length(x),Y=R/G*(null!==(o=null==e?void 0:e.sensitivity)&&void 0!==o?o:1)*U,W=h((null!==(a=null==n?void 0:n.sensitivity)&&void 0!==a?a:1)*(P+N)/2,(null!==(u=null==n?void 0:n.sensitivity)&&void 0!==u?u:1)*-(z+V)/2);s.Km(),(n||(null==e?void 0:e.camera))&&(t.Sm.push({type:"rotate+zoom",rotation:n?W:{x:0,y:0},cameraDistance:(null==e?void 0:e.camera)?Y:U}),t.Ai.Fn());var X=void 0===b?0:G-rr(b)?1:-1,H=b?.25*(null!==(l=null==e?void 0:e.sensitivity)&&void 0!==l?l:1)*(G-rr(b)):0;e&&e.x&&("x"===p||void 0===e.y&&void 0===e.z)&&(t.axisX.lb(null!==(A=e.mode)&&void 0!==A?A:"centered",X,H),!1!==e.stopScroll&&t.axisX.setStopped(!0)),e&&e.y&&("y"===p||void 0===e.x&&void 0===e.z)&&(t.axisY.lb(null!==(w=e.mode)&&void 0!==w?w:"centered",X,H),!1!==e.stopScroll&&t.axisY.setStopped(!0)),e&&e.z&&("z"===p||void 0===e.x&&void 0===e.y)&&(t.axisZ.lb(null!==(M=e.mode)&&void 0!==M?M:"centered",X,H),!1!==e.stopScroll&&t.axisZ.setStopped(!0));var Z=(T.clientX+k.clientX)/2,Q=(T.clientY+k.clientY)/2,J={x:(c.clientX+d.clientX)/2-Z,y:(c.clientY+d.clientY)/2-Q},K=fr(ir(J),m),q=rr(J)*K*.3*(null!==(C=null==r?void 0:r.sensitivity)&&void 0!==C?C:1);r&&r.x&&("x"===p||void 0===r.y&&void 0===r.z)&&(t.axisX.cb(-q),!1!==r.stopScroll&&t.axisX.setStopped(!0)),r&&r.y&&("y"===p||void 0===r.x&&void 0===r.z)&&(t.axisY.cb(-q),!1!==r.stopScroll&&t.axisY.setStopped(!0)),r&&r.z&&("z"===p||void 0===r.x&&void 0===r.y)&&(t.axisZ.cb(-q),!1!==r.stopScroll&&t.axisZ.setStopped(!0)),b={x:Math.abs(c.clientX-d.clientX),y:Math.abs(c.clientY-d.clientY)};var $=(null==r?void 0:r.on)||(null==n?void 0:n.on)||(null==e?void 0:e.on);$&&ci.requestAnimationFrame((function(){return $({event:void 0})}))}},M=function(t){t.pointerId!==i.pointerId&&t.pointerId!==f.pointerId||(Pi(t),S.push(t),g||(g=ci.requestAnimationFrame(w)))},C=function(n){n.pointerId!==i.pointerId&&n.pointerId!==f.pointerId||(Pi(n),t.setCursorMode(A),ci.removeEventListener("pointermove",M),ci.removeEventListener("pointerup",C),l(),g&&ci.cancelAnimationFrame(g))};ci.addEventListener("pointermove",M),ci.addEventListener("pointerup",C),_n()}},u=function(n){n.pointerId===i.pointerId&&(t.engine.container.removeEventListener("pointerdown",a),ci.removeEventListener("pointerup",u))};t.engine.container.addEventListener("pointerdown",a),ci.addEventListener("pointerup",u)}}(t,o,d,y,A,v,e)};Uc(t,"wheel",(function(o){var a=ne(!1!==t.Ai.xu.Su),u=s(),h=ie(u.pan,"wheel",o,i,n,r);h&&a.push((function(){return function(t,i,n){var r,e,o;Pi(i),n.x&&(t.axisX.cb(2*Math.sign(i.deltaY)*(null!==(r=n.sensitivity)&&void 0!==r?r:1)),!1!==n.stopScroll&&t.axisX.setStopped(!0)),n.y&&(t.axisY.cb(2*Math.sign(i.deltaY)*(null!==(e=n.sensitivity)&&void 0!==e?e:1)),!1!==n.stopScroll&&t.axisY.setStopped(!0)),n.z&&(t.axisZ.cb(2*Math.sign(i.deltaY)*(null!==(o=n.sensitivity)&&void 0!==o?o:1)),!1!==n.stopScroll&&t.axisZ.setStopped(!0));var s=n.on;s&&ci.requestAnimationFrame((function(){return s({event:i})}))}(t,o,h)}));var f=ie(u.zoom,"wheel",o,i,n,r);f&&a.push((function(){return function(t,i,n,r){var e,o,s,a,u,h,f;Pi(i),n.x&&(t.axisX.lb(null!==(e=n.mode)&&void 0!==e?e:"centered",-Math.sign(i.deltaY),3*(null!==(o=n.sensitivity)&&void 0!==o?o:1)),!1!==n.stopScroll&&t.axisX.setStopped(!0)),n.y&&(t.axisY.lb(null!==(s=n.mode)&&void 0!==s?s:"centered",-Math.sign(i.deltaY),3*(null!==(a=n.sensitivity)&&void 0!==a?a:1)),!1!==n.stopScroll&&t.axisY.setStopped(!0)),n.z&&(t.axisZ.lb(null!==(u=n.mode)&&void 0!==u?u:"centered",-Math.sign(i.deltaY),3*(null!==(h=n.sensitivity)&&void 0!==h?h:1)),!1!==n.stopScroll&&t.axisZ.setStopped(!0)),n.camera&&(r.Km(),t.$m(.5*Math.sign(i.deltaY)*(null!==(f=n.sensitivity)&&void 0!==f?f:1)));var c=n.on;c&&ci.requestAnimationFrame((function(){return c({event:i})}))}(t,o,f,e)})),a.end()})),Uc(t,"dblclick",(function(o){if(!o.defaultPrevented){var a=ne(!1!==t.Ai.xu.Su),u=s(),h=ie(u.restoreDefault,void 0,o,i,n,r);h&&h.doubleClick&&(Pi(o),Yc(t,h,e,o));var f=ie(u.restorePrevious,void 0,o,i,n,r);f&&f.doubleClick&&(Pi(o),Wc(t,f,0,o)),a.end()}})),Uc(t,"click",(function(o){if(!o.defaultPrevented){var a=ne(!1!==t.Ai.xu.Su),u=s(),h=ie(u.restoreDefault,void 0,o,i,n,r);h&&h.singleClick&&(Pi(o),Yc(t,h,e,o));var f=ie(u.restorePrevious,void 0,o,i,n,r);f&&f.singleClick&&(Pi(o),Wc(t,f,0,o)),a.end()}})),Uc(t,"contextmenu",(function(o){if(!o.defaultPrevented){var a=ne(!1!==t.Ai.xu.Su),u=s(),h=ie(u.restoreDefault,"rmb",o,i,n,r);h&&h.singleClick&&(Pi(o),Yc(t,h,e,o));var f=ie(u.restorePrevious,"rmb",o,i,n,r);f&&f.singleClick&&(Pi(o),Wc(t,f,0,o)),a.end()}}));var v=function(){return d(),y(),function(){d=Uc(t,"pointermove",c),y=Uc(t,"pointerdown",l)}},d=Uc(t,"pointermove",c),y=Uc(t,"pointerdown",l);return{setUserInteractions:function(t){var i,n;if(void 0===t)o={rotate:!1,zoom:!1,pan:!1,restoreDefault:!1,restorePrevious:!1};else if(0===Object.keys(t).length)o={};else try{for(var r=Gc(Object.keys(t)),e=r.next();!e.done;e=r.next()){var s=e.value;!1===t[s]||"object"==typeof t[s]?o[s]=t[s]:o[s]={}}}catch(t){i={error:t}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}},getUserInteractions:s}}(c),c.tg(c.axisX),c.tg(c.axisY),c.tg(c.axisZ);var y=Hc({position:nh.RightCenter,backgroundVisible:!0},null==a?void 0:a.legend);return c.legend.setOptions(y),c}return Xc(i,t),i.prototype.restorePreviousZoomState=function(t){if(this._m.length<=1)return this;this._m.pop();var i=this._m[this._m.length-1];return i?(this.Om=!0,this.forEachAxis((function(n){if(!(null==t?void 0:t.whitelist)||t.whitelist.includes(n)){var r=i.get(n);r?n.ui(r.start,r.end,null==t?void 0:t.animate,void 0!==(null==t?void 0:t.stopAxisAfter)?t.stopAxisAfter:r.stopped,"userSetInterval"):n.fit(null==t?void 0:t.animate,null==t?void 0:t.stopAxisAfter)}})),this.Om=!1,this):this},i.prototype.clearPreviousZoomStateHistory=function(){if(void 0!==this.ig)this._m.length=0;else for(;this._m.length>1;)this._m.unshift();return this},i.prototype.tg=function(t){var i=this,n=function(){i.Om||(i.ig&&ci.clearTimeout(i.ig),i.ig=ci.setTimeout((function(){i.Fm(),i.ig=void 0}),300))};ci.requestAnimationFrame((function(){n()})),t.addEventListener("intervalchange",n),t.addEventListener("dispose",(function(){i._m.forEach((function(i){i.delete(t)}))}))},i.prototype.setUserInteractions=function(t){return this.Jm.setUserInteractions(t),this},i.prototype.getUserInteractions=function(){return this.Jm.getUserInteractions()},i.prototype.setProjection=function(t){this.yA.ng(t);var i=this.Lm.projectionChanged(this.Em(),t);return i&&this.Pm(i),this.Ai.Fn(),this},i.prototype.getProjection=function(){return this.yA.rg()},i.prototype.setCursor=function(t){return this.Qm.setCursor(t),this},i.prototype.getCursor=function(){return this.Qm.getCursor()},i.prototype.setCursorMode=function(t){return this.Qm.setCursorMode(t),this},i.prototype.getCursorMode=function(){return this.Qm.getCursorMode()},i.prototype.setCustomCursor=function(t){return this.Qm.setCustomCursor(t),this},i.prototype.setCursorDynamicBehavior=function(t){return this.Qm.eg(t),this},i.prototype.setCursorFormatting=function(t){return this.Qm.setCursorFormatting(t),this},i.prototype.getCursorFormatting=function(){return this.Qm.getCursorFormatting()},i.prototype.addCursor=function(t){void 0===t&&(t=Rc);var i=this.Xy(),n=t.pm(i,this.hd,this.hd,this.Gy(i),this.xi,this);return this.tA(n),n},i.prototype.addPointSeries=function(t){var i=new(t&&t.type||ec)(this,this.Mb,this.yA,this.xi,this.Ai.yn,t);return this.Ob(i,t),i},i.prototype.addLineSeries=function(t){var i=new Kf(this,this.Mb,this.yA,this.xi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.Sb.length,this.Ai.yn,t);return this.Ob(i,t),i},i.prototype.addPointLineSeries=function(t){var i=new tc(this,this.Mb,this.yA,this.xi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.Sb.length,this.Ai.yn,t);return this.Ob(i,t),i},i.prototype.addSurfaceGridSeries=function(t){var i=new yc(this,this.Mb,this.yA,t,this.xi,this.Ai.yn);return this.Ob(i,t),i},i.prototype.addSurfaceScrollingGridSeries=function(t){var i=new pc(this,this.Mb,this.yA,t,this.xi,this.Ai.yn);return this.Ob(i,t),i},i.prototype.addBoxSeries=function(t){var i=new kf(this,this.Mb,this.yA,this.xi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.Sb.length,this.Ai.yn);return this.Ob(i,t),i},i.prototype.addMeshModel=function(t){var i=new Oc(this,this.Mb,this.yA,this.xi,t,this.Ai.yn);return this.Ob(i,t),i},i.prototype.translateCoordinate=function(t,i,n){if(mc(i)||mc(n)||gc(t)){if(mc(i)&&mc(n)&&gc(t)){if("axes"===i.id&&"world"===n.id)return this.yA.og(t);if("world"===i.id&&"axes"===n.id)return this.yA.sg(t);if(i.id===n.id)return t}var r;if(mc(i)&&Jr(n)&&gc(t))return(r=this.yA.nb(t))?this.Ai.Yu({engineX:r.x,engineY:r.y}):{clientX:-1,clientY:-1};if(mc(i)&&qr(n)&&gc(t))return(r=this.yA.nb(t))?at(r,this.Ai.ai,this.hd):{clientX:-1,clientY:-1};throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")}return Qh(t,i,n,this.hd,this.Ai)},i.prototype.getDefaultAxisX=function(){return this.Gm.x},i.prototype.getDefaultAxisY=function(){return this.Gm.y},i.prototype.getDefaultAxisZ=function(){return this.Gm.z},Object.defineProperty(i.prototype,"axisX",{get:function(){return this.getDefaultAxisX()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"xAxis",{get:function(){return this.getDefaultAxisX()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"axisY",{get:function(){return this.getDefaultAxisY()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"yAxis",{get:function(){return this.getDefaultAxisY()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"axisZ",{get:function(){return this.getDefaultAxisZ()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"zAxis",{get:function(){return this.getDefaultAxisZ()},enumerable:!1,configurable:!0}),i.prototype.getDefaultAxes=function(){return[this.Gm.x,this.Gm.y,this.Gm.z]},i.prototype.setCameraLocation=function(t){var i={location:t,direction:Fn.normalize(Fn.multiply(t,-1))},n=this.Lm.cameraLocationChanged(this.Em(i));return n&&(i=n),this.Pm(i),this.Ai.Fn(),this},i.prototype.getCameraLocation=function(){return this.yA.getCameraLocation()},i.prototype.getCameraDirection=function(){return this.yA.getCameraDirection()},i.prototype.setCameraAutomaticFittingEnabled=function(t){this.Lm.Qb(t);var i=this.Lm.cameraLocationChanged(this.Em());return i&&this.Pm(i),this},i.prototype.getCameraAutomaticFittingEnabled=function(){return this.Lm.op()},i.prototype.setBoundingBoxStrokeStyle=function(t){return this.Um.fe(t).ZA(_f(this.Um.oa())),this.yA.Fn(),this},i.prototype.getBoundingBoxStrokeStyle=function(){return this.Um.oa()},i.prototype.setBoundingBox=function(t){return this.Ym(t,!1),this},i.prototype.Ym=function(t,i){this.Hm=t;var n=this.Xm(t);if(this.zm.x.Z(n.x),this.zm.y.Z(n.y),this.zm.z.Z(-n.z),!i){var r=this.Lm.boundingBoxChanged(this.Em());r&&this.Pm(r)}this.Ai.Fn()},i.prototype.getBoundingBox=function(){return this.Hm},i.prototype.ie=function(i){var n=this,r=xf(this.Ve,this.eA);this.Dn.forEach((function(t){return t.Io(r,n.Ls)}));var e=gn;if(Sf(this.Ve,this.eA,this.uiScale.oi(),this.Ls,e),0!==this.km){var o=this.km*i*.006;this.Sm.push({type:"wheel-zoom",deltaY:o}),this.km=Math.sign(this.km)*Math.max(Math.abs(this.km)-.01*i,0),0!==this.km&&this.Ai.Fn(!0)}var s=this.getCameraDirection();if(this.Sm.length>0){var a=this.Lm.applyCameraInteractions(this.Em(),this.Sm);a&&this.Pm(a),this.Sm.length=0}this.ag&&Fn.equals(this.ag.location,this.Wm.location)&&Fn.equals(this.ag.direction,this.Wm.direction)||this.j.D("camerachange",{cameraLocation:this.getCameraLocation()}),this.ag=this.Wm,t.prototype.ie.call(this,i);for(var u=0;u<this.Sb.length;u+=1)this.Sb[u].gA();for(u=0;u<this.Sb.length;u+=1)this.Sb[u].ie();this.Gm.x.hs(),this.Gm.y.hs(),this.Gm.z.hs();var h=this.Gm.x.Io(this.Gm.x.ob(s)),f=this.Gm.y.Io(this.Gm.y.ob(s)),c=this.Gm.z.Io(this.Gm.z.ob(s));this.Gm.x.ie(h),this.Gm.y.ie(f),this.Gm.z.ie(c),this.Qm.ie(!1,this.Sb,void 0),t.prototype.iA.call(this);var v=this.zm,d=l(v.x.getInnerStart(),v.y.getInnerStart(),v.z.getInnerStart()),y=l(v.x.getInnerEnd(),v.y.getInnerEnd(),v.z.getInnerEnd());this.Um.zi().lf([l(y.x,d.y,d.z),l(y.x,y.y,d.z),l(y.x,y.y,y.z),l(y.x,d.y,y.z),l(d.x,d.y,y.z),l(d.x,y.y,y.z),l(y.x,y.y,y.z),l(y.x,y.y,d.z),l(d.x,y.y,d.z),l(d.x,y.y,y.z),l(d.x,d.y,y.z),l(d.x,d.y,d.z)]);var A,b,p,m,g,x,S,w,M,C,T,k=[l(d.x,d.y,d.z),l(y.x,d.y,d.z),l(d.x,y.y,d.z),l(y.x,y.y,d.z),l(d.x,d.y,y.z),l(y.x,d.y,y.z),l(d.x,y.y,y.z),l(y.x,y.y,y.z)].map((function(t){return n.yA.nb(t)})),_=this.yA.nb(l((d.x+y.x)/2,(d.y+y.y)/2,(d.z+y.z)/2)),O=qi(k,_),F=[];for(u=0;u<O.length;u+=1){var I=O[u];b=_,p=O[u>0?u-1:O.length-1],m=O[u<O.length-1?u+1:0],void 0,void 0,void 0,void 0,void 0,void 0,void 0,g=(A=I).x-m.x,x=A.y-m.y,S=m.x-p.x,M=(w=p.y-m.y)*g+S*x,C=(m.y-b.y)*g+(b.x-m.x)*x,((T=w*(b.x-m.x)+S*(b.y-m.y))<0?M<=0&&C<=0&&M+C>=T:M>=0&&C>=0&&M+C<=T)||F.push(I)}var j=qi(F,_);for(this.kb.wf(j),this._b.wf(j),u=0;u<this.Sb.length;u+=1)this.Sb[u].xA();this.Dn.forEach((function(t){return t.ie(r,n.Ls)}))},i.prototype.dispose=function(){return this.Za.forEach((function(t){t()})),this.Za.length=0,this.zm.V(),this.yA.V(),this.Dm.V(),this.Bm.V(),this.Qm.V(),t.prototype.dispose.call(this)},i.prototype.Y=function(){return this.zm.x.Y(),this.zm.y.Y(),this.zm.z.Y(),t.prototype.Y.call(this)},i.prototype.W=function(){return t.prototype.W.call(this)},i.prototype.Pm=function(t){this.yA.setCameraLocation(t.location).setCameraDirection(t.direction).setLightLocation(Fn.addVec(t.location,Fn.multiply(t.direction,-this.wm))),this.Wm=t,this.Ai.Fn()},i.prototype.Xm=function(t){return Fn.divide(t,Fn.length(t)/this.xm)},i.prototype.Em=function(t){return void 0===t&&(t=this.Wm),{boundingBox:this.Xm(this.Hm),cameraLocation:t.location,cameraDirection:t.direction,projection:this.getProjection()}},i.prototype.forEachAxis=function(t){return t(this.Gm.x),t(this.Gm.y),t(this.Gm.z),this},i.prototype.getSeries=function(){return this.Sb},i.prototype.getMinimumSize=function(){},i.prototype.setAnimationsEnabled=function(i){return t.prototype.setAnimationsEnabled.call(this,i),this.setAnimationZoom(i),this.forEachAxis((function(t){return t.setAnimationsEnabled(i)})),this},i.prototype.setAnimationZoom=function(t){return this.Mm=!!t,this},i.prototype.getAnimationZoom=function(){return this.Mm},i.prototype.qm=function(t){this.Sm.push({type:"rotate",rotation:t}),this.Ai.Fn()},i.prototype.$m=function(t){this.Mm?Math.sign(this.km)!==Math.sign(t)?this.km=t:this.km+=t:this.Sm.push({type:"wheel-zoom",deltaY:t}),this.Ai.Fn()},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(uc),Kc=function(t,i,n){var r,e,o=t.axisX.getTitle()||void 0,s=t.axisY.getTitle()||void 0,a=t.axisZ.getTitle()||void 0;return yt(i)?Np(i,[[{component:i.series,componentColor:Vp(i),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],Qc(Qc([],Zc(o?[o,""]:[]),!1),[{text:ee(i.axisX.formatValue(i.x),i.axisX),font:{weight:"bold"}}],!1),Qc(Qc([],Zc(s?[s,""]:[]),!1),[{text:ee(i.axisY.formatValue(i.y),i.axisY),font:{weight:"bold"}}],!1),Qc(Qc([],Zc(a?[a,""]:[]),!1),[{text:ee(i.axisZ.formatValue(i.z),i.axisZ),font:{weight:"bold"}}],!1),void 0!==i.intensity?["Value","",{text:ee(i.lut?Er(i.lut,i.intensity):i.intensity.toFixed(2),null===(r=i.lut)||void 0===r?void 0:r.units),font:{weight:"bold"}}]:[]]):pt(i)?Np(i,[[{component:i.series,componentColor:Vp(i),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],void 0!==i.value?["Value","",{text:ee(i.lut?Er(i.lut,i.value):i.value.toFixed(2),null===(e=i.lut)||void 0===e?void 0:e.units),font:{weight:"bold"}}]:[]]):Np(i,[[{component:i.series,componentColor:Vp(i),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],Qc(Qc([],Zc(o?[o,""]:[]),!1),[{text:ee(i.axisX.formatValue(i.x),i.axisX),font:{weight:"bold"}}],!1),Qc(Qc([],Zc(s?[s,""]:[]),!1),[{text:ee(i.axisY.formatValue(i.y),i.axisY),font:{weight:"bold"}}],!1),Qc(Qc([],Zc(a?[a,""]:[]),!1),[{text:ee(i.axisZ.formatValue(i.z),i.axisZ),font:{weight:"bold"}}],!1)])},qc=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$c=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return qc(i,t),i.prototype.setPosition=function(){for(var t=this,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var r=this.renderingScale;if(i.length>0){var e=Zh(i[0].resultTableScale,r),o=e===this.scale?i[0].resultTable:at(i[0].resultTable,e,this.scale);this.nm.setPosition(o)}return this.zy=!1,this.Qp.forEach((function(t){t.targetVisible=!1})),i.forEach((function(i,n){var e=Zh(i.pointMarkerScale,r),o=e===t.scale?i.pointMarker:at(i.pointMarker,e,t.scale),s=t.Qp[n];if(!s){var a=new au(t.Yn,t.renderingScale,t.scale,Ai,t.xi).setPointerEvents(!1).setFillStyle(t.xi.cursorPointMarkerFillStyle).setStrokeStyle(t.xi.cursorPointMarkerStrokeStyle).setSize(t.xi.cursorPointMarkerSize).setShape(t.xi.cursorPointMarkerShape);s={pointMarker:a,targetVisible:!0},t.Qp.push(s),t.qp.forEach((function(t){return t(a)}))}i.pointMarkerShape&&s.pointMarker.setShape(i.pointMarkerShape),i.pointMarkerSize&&s.pointMarker.setSize(i.pointMarkerSize),i.pointMarkerFillStyle&&s.pointMarker.setFillStyle(i.pointMarkerFillStyle),i.pointMarkerStrokeStyle&&s.pointMarker.setStrokeStyle(i.pointMarkerStrokeStyle),s.pointMarker.setPosition(o),s.targetVisible=function(t,i,n){void 0===n&&(n=i);var r=i!==n?at(t,i,n):t;return r.x>=n.x.getInnerStart()&&r.x<=n.x.getInnerEnd()&&r.y>=n.y.getInnerStart()&&r.y<=n.y.getInnerEnd()}(i.pointMarker,e),s.targetVisible&&(t.zy=!0)})),this.Yn.Fn(),this},i}(Lc),tl=function t(i,n){void 0===n&&(n=[]);var r=this;this.Am=[],this.bm=function(t,i){return r.Am.forEach((function(n){return n(t,i)})),t},this.addStyler=function(i){return new t(r.im,r.Am.map((function(t){return t})).concat(i))},this.setResultTableBackground=function(i){return new t(i,r.Am.map((function(t){return t})))},this.pm=function(t,i,n,e,o){return r.bm(new $c(t,i,n,e,r.im,o),o)},this.im=i,this.Am=n},il=new tl(ru,[Ec]),nl=il,rl=il,el=il,ol=il,sl=nl,al=new tl(ru,[Ec,function(t){return t.setPointMarkerVisible(!1).setResultTable((function(t){return t.setOrigin(No.LeftBottom)}))}]),ul=il,hl={Angola:{name:"Angola",ISO_A3:"AGO"},Burundi:{name:"Burundi",ISO_A3:"BDI"},Benin:{name:"Benin",ISO_A3:"BEN"},"Burkina Faso":{name:"Burkina Faso",ISO_A3:"BFA"},Botswana:{name:"Botswana",ISO_A3:"BWA"},"Central African Republic":{name:"Central African Republic",ISO_A3:"CAF"},"Ivory Coast":{name:"Ivory Coast",ISO_A3:"CIV"},Cameroon:{name:"Cameroon",ISO_A3:"CMR"},"Democratic Republic of the Congo":{name:"Democratic Republic of the Congo",ISO_A3:"COD"},"Republic of Congo":{name:"Republic of Congo",ISO_A3:"COG"},Comoros:{name:"Comoros",ISO_A3:"COM"},"Cape Verde":{name:"Cape Verde",ISO_A3:"CPV"},Djibouti:{name:"Djibouti",ISO_A3:"DJI"},Algeria:{name:"Algeria",ISO_A3:"DZA"},Egypt:{name:"Egypt",ISO_A3:"EGY"},Eritrea:{name:"Eritrea",ISO_A3:"ERI"},Ethiopia:{name:"Ethiopia",ISO_A3:"ETH"},Gabon:{name:"Gabon",ISO_A3:"GAB"},Ghana:{name:"Ghana",ISO_A3:"GHA"},Guinea:{name:"Guinea",ISO_A3:"GIN"},Gambia:{name:"Gambia",ISO_A3:"GMB"},"Guinea Bissau":{name:"Guinea Bissau",ISO_A3:"GNB"},"Equatorial Guinea":{name:"Equatorial Guinea",ISO_A3:"GNQ"},Israel:{name:"Israel",ISO_A3:"ISR"},Jordan:{name:"Jordan",ISO_A3:"JOR"},Kenya:{name:"Kenya",ISO_A3:"KEN"},Lebanon:{name:"Lebanon",ISO_A3:"LBN"},Liberia:{name:"Liberia",ISO_A3:"LBR"},Libya:{name:"Libya",ISO_A3:"LBY"},Lesotho:{name:"Lesotho",ISO_A3:"LSO"},Morocco:{name:"Morocco",ISO_A3:"MAR"},Madagascar:{name:"Madagascar",ISO_A3:"MDG"},Mali:{name:"Mali",ISO_A3:"MLI"},Malta:{name:"Malta",ISO_A3:"MLT"},Mozambique:{name:"Mozambique",ISO_A3:"MOZ"},Mauritania:{name:"Mauritania",ISO_A3:"MRT"},Mauritius:{name:"Mauritius",ISO_A3:"MUS"},Malawi:{name:"Malawi",ISO_A3:"MWI"},Namibia:{name:"Namibia",ISO_A3:"NAM"},Niger:{name:"Niger",ISO_A3:"NER"},Nigeria:{name:"Nigeria",ISO_A3:"NGA"},Oman:{name:"Oman",ISO_A3:"OMN"},Rwanda:{name:"Rwanda",ISO_A3:"RWA"},"Western Sahara":{name:"Western Sahara",ISO_A3:"ESH"},"Saudi Arabia":{name:"Saudi Arabia",ISO_A3:"SAU"},Sudan:{name:"Sudan",ISO_A3:"SDN"},"South Sudan":{name:"South Sudan",ISO_A3:"SSD"},Senegal:{name:"Senegal",ISO_A3:"SEN"},"Saint Helena":{name:"Saint Helena",ISO_A3:"SHN"},"Sierra Leone":{name:"Sierra Leone",ISO_A3:"SLE"},Somalia:{name:"Somalia",ISO_A3:"SOM"},Swaziland:{name:"Swaziland",ISO_A3:"SWZ"},Seychelles:{name:"Seychelles",ISO_A3:"SYC"},Syria:{name:"Syria",ISO_A3:"SYR"},Chad:{name:"Chad",ISO_A3:"TCD"},Togo:{name:"Togo",ISO_A3:"TGO"},Tunisia:{name:"Tunisia",ISO_A3:"TUN"},"United Republic of Tanzania":{name:"United Republic of Tanzania",ISO_A3:"TZA"},Uganda:{name:"Uganda",ISO_A3:"UGA"},Yemen:{name:"Yemen",ISO_A3:"YEM"},"South Africa":{name:"South Africa",ISO_A3:"ZAF"},Zambia:{name:"Zambia",ISO_A3:"ZMB"},Zimbabwe:{name:"Zimbabwe",ISO_A3:"ZWE"}},fl={Afghanistan:{name:"Afghanistan",ISO_A3:"AFG"},"United Arab Emirates":{name:"United Arab Emirates",ISO_A3:"ARE"},Armenia:{name:"Armenia",ISO_A3:"ARM"},Australia:{name:"Australia",ISO_A3:"AUS"},Azerbaijan:{name:"Azerbaijan",ISO_A3:"AZE"},Bangladesh:{name:"Bangladesh",ISO_A3:"BGD"},Bahrain:{name:"Bahrain",ISO_A3:"BHR"},Brunei:{name:"Brunei",ISO_A3:"BRN"},Bhutan:{name:"Bhutan",ISO_A3:"BTN"},China:{name:"China",ISO_A3:"CHN"},Georgia:{name:"Georgia",ISO_A3:"GEO"},Indonesia:{name:"Indonesia",ISO_A3:"IDN"},India:{name:"India",ISO_A3:"IND"},Iran:{name:"Iran",ISO_A3:"IRN"},Iraq:{name:"Iraq",ISO_A3:"IRQ"},Israel:{name:"Israel",ISO_A3:"ISR"},Jordan:{name:"Jordan",ISO_A3:"JOR"},Japan:{name:"Japan",ISO_A3:"JPN"},Kazakhstan:{name:"Kazakhstan",ISO_A3:"KAZ"},Kyrgyzstan:{name:"Kyrgyzstan",ISO_A3:"KGZ"},Cambodia:{name:"Cambodia",ISO_A3:"KHM"},"South Korea":{name:"South Korea",ISO_A3:"KOR"},Kuwait:{name:"Kuwait",ISO_A3:"KWT"},Laos:{name:"Laos",ISO_A3:"LAO"},Lebanon:{name:"Lebanon",ISO_A3:"LBN"},"Sri Lanka":{name:"Sri Lanka",ISO_A3:"LKA"},Maldives:{name:"Maldives",ISO_A3:"MDV"},Myanmar:{name:"Myanmar",ISO_A3:"MMR"},Mongolia:{name:"Mongolia",ISO_A3:"MNG"},Malaysia:{name:"Malaysia",ISO_A3:"MYS"},Nepal:{name:"Nepal",ISO_A3:"NPL"},Oman:{name:"Oman",ISO_A3:"OMN"},Pakistan:{name:"Pakistan",ISO_A3:"PAK"},Philippines:{name:"Philippines",ISO_A3:"PHL"},"Papua New Guinea":{name:"Papua New Guinea",ISO_A3:"PNG"},"North Korea":{name:"North Korea",ISO_A3:"PRK"},Palestine:{name:"Palestine",ISO_A3:"PSE"},Qatar:{name:"Qatar",ISO_A3:"QAT"},Russia:{name:"Russia",ISO_A3:"RUS"},"Saudi Arabia":{name:"Saudi Arabia",ISO_A3:"SAU"},Singapore:{name:"Singapore",ISO_A3:"SGP"},Syria:{name:"Syria",ISO_A3:"SYR"},Thailand:{name:"Thailand",ISO_A3:"THA"},Tajikistan:{name:"Tajikistan",ISO_A3:"TJK"},Turkmenistan:{name:"Turkmenistan",ISO_A3:"TKM"},Turkey:{name:"Turkey",ISO_A3:"TUR"},Taiwan:{name:"Taiwan",ISO_A3:"TWN"},Uzbekistan:{name:"Uzbekistan",ISO_A3:"UZB"},Vietnam:{name:"Vietnam",ISO_A3:"VNM"},Yemen:{name:"Yemen",ISO_A3:"YEM"}},cl={"New South Wales":{name:"New South Wales"},Victoria:{name:"Victoria"},Queensland:{name:"Queensland"},"South Australia":{name:"South Australia"},"Western Australia":{name:"Western Australia"},Tasmania:{name:"Tasmania"},"Northern Territory":{name:"Northern Territory"},"Australian Capital Territory":{name:"Australian Capital Territory"},"Other Territories":{name:"Other Territories"}},ll={"British Columbia":{name:"British Columbia"},Quebec:{name:"Quebec"},Nunavut:{name:"Nunavut"},"Prince Edward Island":{name:"Prince Edward Island"},Saskatchewan:{name:"Saskatchewan"},Yukon:{name:"Yukon"},Manitoba:{name:"Manitoba"},Ontario:{name:"Ontario"},"New Brunswick":{name:"New Brunswick"},"Northwest Territories":{name:"Northwest Territories"},Alberta:{name:"Alberta"},"Newfoundland and Labrador":{name:"Newfoundland and Labrador"},"Nova Scotia":{name:"Nova Scotia"}},vl={Albania:{name:"Albania",ISO_A3:"ALB"},Austria:{name:"Austria",ISO_A3:"AUT"},Belarus:{name:"Belarus",ISO_A3:"BLR"},Belgium:{name:"Belgium",ISO_A3:"BEL"},Bulgaria:{name:"Bulgaria",ISO_A3:"BGR"},"Bosnia and Herzegovina":{name:"Bosnia and Herzegovina",ISO_A3:"BIH"},Switzerland:{name:"Switzerland",ISO_A3:"CHE"},Cyprus:{name:"Cyprus",ISO_A3:"CYP"},"Czech Republic":{name:"Czech Republic",ISO_A3:"CZE"},Germany:{name:"Germany",ISO_A3:"DEU"},Denmark:{name:"Denmark",ISO_A3:"DNK"},Spain:{name:"Spain",ISO_A3:"ESP"},Estonia:{name:"Estonia",ISO_A3:"EST"},Finland:{name:"Finland",ISO_A3:"FIN"},France:{name:"France",ISO_A3:"FRA"},"United Kingdom":{name:"United Kingdom",ISO_A3:"GBR"},Greece:{name:"Greece",ISO_A3:"GRC"},Croatia:{name:"Croatia",ISO_A3:"HRV"},Hungary:{name:"Hungary",ISO_A3:"HUN"},Ireland:{name:"Ireland",ISO_A3:"IRL"},Iceland:{name:"Iceland",ISO_A3:"ISL"},Italy:{name:"Italy",ISO_A3:"ITA"},Kosovo:{name:"Kosovo",ISO_A3:"-99"},Lithuania:{name:"Lithuania",ISO_A3:"LTU"},Luxembourg:{name:"Luxembourg",ISO_A3:"LUX"},Latvia:{name:"Latvia",ISO_A3:"LVA"},Macedonia:{name:"Macedonia",ISO_A3:"MKD"},Malta:{name:"Malta",ISO_A3:"MLT"},Montenegro:{name:"Montenegro",ISO_A3:"MNE"},Netherlands:{name:"Netherlands",ISO_A3:"NLD"},Norway:{name:"Norway",ISO_A3:"NOR"},Poland:{name:"Poland",ISO_A3:"POL"},Portugal:{name:"Portugal",ISO_A3:"PRT"},Romania:{name:"Romania",ISO_A3:"ROU"},"Republic of Serbia":{name:"Republic of Serbia",ISO_A3:"SRB"},Slovakia:{name:"Slovakia",ISO_A3:"SVK"},Slovenia:{name:"Slovenia",ISO_A3:"SVN"},Sweden:{name:"Sweden",ISO_A3:"SWE"},Ukraine:{name:"Ukraine",ISO_A3:"UKR"},Moldova:{name:"Moldova",ISO_A3:"MDA"},Russia:{name:"Russia",ISO_A3:"RUS"},Turkey:{name:"Turkey",ISO_A3:"TUR"}},dl={Aruba:{name:"Aruba",ISO_A3:"ABW"},Afghanistan:{name:"Afghanistan",ISO_A3:"AFG"},Angola:{name:"Angola",ISO_A3:"AGO"},Anguilla:{name:"Anguilla",ISO_A3:"AIA"},Albania:{name:"Albania",ISO_A3:"ALB"},Aland:{name:"Aland",ISO_A3:"ALA"},Andorra:{name:"Andorra",ISO_A3:"AND"},"United Arab Emirates":{name:"United Arab Emirates",ISO_A3:"ARE"},Argentina:{name:"Argentina",ISO_A3:"ARG"},Armenia:{name:"Armenia",ISO_A3:"ARM"},"American Samoa":{name:"American Samoa",ISO_A3:"ASM"},Antarctica:{name:"Antarctica",ISO_A3:"ATA"},"French Southern and Antarctic Lands":{name:"French Southern and Antarctic Lands",ISO_A3:"ATF"},"Antigua and Barbuda":{name:"Antigua and Barbuda",ISO_A3:"ATG"},Australia:{name:"Australia",ISO_A3:"AUS"},Austria:{name:"Austria",ISO_A3:"AUT"},Azerbaijan:{name:"Azerbaijan",ISO_A3:"AZE"},Burundi:{name:"Burundi",ISO_A3:"BDI"},Belgium:{name:"Belgium",ISO_A3:"BEL"},Benin:{name:"Benin",ISO_A3:"BEN"},"Burkina Faso":{name:"Burkina Faso",ISO_A3:"BFA"},Bangladesh:{name:"Bangladesh",ISO_A3:"BGD"},Bulgaria:{name:"Bulgaria",ISO_A3:"BGR"},Bahrain:{name:"Bahrain",ISO_A3:"BHR"},"The Bahamas":{name:"The Bahamas",ISO_A3:"BHS"},"Bosnia and Herzegovina":{name:"Bosnia and Herzegovina",ISO_A3:"BIH"},Belarus:{name:"Belarus",ISO_A3:"BLR"},Belize:{name:"Belize",ISO_A3:"BLZ"},Bermuda:{name:"Bermuda",ISO_A3:"BMU"},Bolivia:{name:"Bolivia",ISO_A3:"BOL"},Brazil:{name:"Brazil",ISO_A3:"BRA"},Barbados:{name:"Barbados",ISO_A3:"BRB"},Brunei:{name:"Brunei",ISO_A3:"BRN"},Bhutan:{name:"Bhutan",ISO_A3:"BTN"},Botswana:{name:"Botswana",ISO_A3:"BWA"},"Central African Republic":{name:"Central African Republic",ISO_A3:"CAF"},Canada:{name:"Canada",ISO_A3:"CAN"},Switzerland:{name:"Switzerland",ISO_A3:"CHE"},Chile:{name:"Chile",ISO_A3:"CHL"},China:{name:"China",ISO_A3:"CHN"},"Ivory Coast":{name:"Ivory Coast",ISO_A3:"CIV"},Cameroon:{name:"Cameroon",ISO_A3:"CMR"},"Cyprus No Mans Area":{name:"Cyprus No Mans Area",ISO_A3:"-99"},"Democratic Republic of the Congo":{name:"Democratic Republic of the Congo",ISO_A3:"COD"},"Republic of Congo":{name:"Republic of Congo",ISO_A3:"COG"},"Cook Islands":{name:"Cook Islands",ISO_A3:"COK"},Colombia:{name:"Colombia",ISO_A3:"COL"},Comoros:{name:"Comoros",ISO_A3:"COM"},"Cape Verde":{name:"Cape Verde",ISO_A3:"CPV"},"Costa Rica":{name:"Costa Rica",ISO_A3:"CRI"},Cuba:{name:"Cuba",ISO_A3:"CUB"},"Curaao":{name:"Curaao",ISO_A3:"CUW"},"Cayman Islands":{name:"Cayman Islands",ISO_A3:"CYM"},"Northern Cyprus":{name:"Northern Cyprus",ISO_A3:"-99"},Cyprus:{name:"Cyprus",ISO_A3:"CYP"},"Czech Republic":{name:"Czech Republic",ISO_A3:"CZE"},Germany:{name:"Germany",ISO_A3:"DEU"},Djibouti:{name:"Djibouti",ISO_A3:"DJI"},Dominica:{name:"Dominica",ISO_A3:"DMA"},Denmark:{name:"Denmark",ISO_A3:"DNK"},"Dominican Republic":{name:"Dominican Republic",ISO_A3:"DOM"},Algeria:{name:"Algeria",ISO_A3:"DZA"},Ecuador:{name:"Ecuador",ISO_A3:"ECU"},Egypt:{name:"Egypt",ISO_A3:"EGY"},Eritrea:{name:"Eritrea",ISO_A3:"ERI"},"Dhekelia Sovereign Base Area":{name:"Dhekelia Sovereign Base Area",ISO_A3:"-99"},Spain:{name:"Spain",ISO_A3:"ESP"},Estonia:{name:"Estonia",ISO_A3:"EST"},Ethiopia:{name:"Ethiopia",ISO_A3:"ETH"},Finland:{name:"Finland",ISO_A3:"FIN"},Fiji:{name:"Fiji",ISO_A3:"FJI"},"Falkland Islands":{name:"Falkland Islands",ISO_A3:"FLK"},France:{name:"France",ISO_A3:"FRA"},"Faroe Islands":{name:"Faroe Islands",ISO_A3:"FRO"},"Federated States of Micronesia":{name:"Federated States of Micronesia",ISO_A3:"FSM"},Gabon:{name:"Gabon",ISO_A3:"GAB"},"United Kingdom":{name:"United Kingdom",ISO_A3:"GBR"},Georgia:{name:"Georgia",ISO_A3:"GEO"},Guernsey:{name:"Guernsey",ISO_A3:"GGY"},Ghana:{name:"Ghana",ISO_A3:"GHA"},Guinea:{name:"Guinea",ISO_A3:"GIN"},Gambia:{name:"Gambia",ISO_A3:"GMB"},"Guinea Bissau":{name:"Guinea Bissau",ISO_A3:"GNB"},"Equatorial Guinea":{name:"Equatorial Guinea",ISO_A3:"GNQ"},Greece:{name:"Greece",ISO_A3:"GRC"},Grenada:{name:"Grenada",ISO_A3:"GRD"},Greenland:{name:"Greenland",ISO_A3:"GRL"},Guatemala:{name:"Guatemala",ISO_A3:"GTM"},Guam:{name:"Guam",ISO_A3:"GUM"},Guyana:{name:"Guyana",ISO_A3:"GUY"},"Hong Kong S.A.R.":{name:"Hong Kong S.A.R.",ISO_A3:"HKG"},"Heard Island and McDonald Islands":{name:"Heard Island and McDonald Islands",ISO_A3:"HMD"},Honduras:{name:"Honduras",ISO_A3:"HND"},Croatia:{name:"Croatia",ISO_A3:"HRV"},Haiti:{name:"Haiti",ISO_A3:"HTI"},Hungary:{name:"Hungary",ISO_A3:"HUN"},Indonesia:{name:"Indonesia",ISO_A3:"IDN"},"Isle of Man":{name:"Isle of Man",ISO_A3:"IMN"},India:{name:"India",ISO_A3:"IND"},"Indian Ocean Territories":{name:"Indian Ocean Territories",ISO_A3:"-99"},"British Indian Ocean Territory":{name:"British Indian Ocean Territory",ISO_A3:"IOT"},Ireland:{name:"Ireland",ISO_A3:"IRL"},Iran:{name:"Iran",ISO_A3:"IRN"},Iraq:{name:"Iraq",ISO_A3:"IRQ"},Iceland:{name:"Iceland",ISO_A3:"ISL"},Israel:{name:"Israel",ISO_A3:"ISR"},Italy:{name:"Italy",ISO_A3:"ITA"},Jamaica:{name:"Jamaica",ISO_A3:"JAM"},Jersey:{name:"Jersey",ISO_A3:"JEY"},Jordan:{name:"Jordan",ISO_A3:"JOR"},Japan:{name:"Japan",ISO_A3:"JPN"},"Baykonur Cosmodrome":{name:"Baykonur Cosmodrome",ISO_A3:"-99"},"Siachen Glacier":{name:"Siachen Glacier",ISO_A3:"-99"},Kazakhstan:{name:"Kazakhstan",ISO_A3:"KAZ"},Kenya:{name:"Kenya",ISO_A3:"KEN"},Kyrgyzstan:{name:"Kyrgyzstan",ISO_A3:"KGZ"},Cambodia:{name:"Cambodia",ISO_A3:"KHM"},Kiribati:{name:"Kiribati",ISO_A3:"KIR"},"Saint Kitts and Nevis":{name:"Saint Kitts and Nevis",ISO_A3:"KNA"},"South Korea":{name:"South Korea",ISO_A3:"KOR"},Kosovo:{name:"Kosovo",ISO_A3:"-99"},Kuwait:{name:"Kuwait",ISO_A3:"KWT"},Laos:{name:"Laos",ISO_A3:"LAO"},Lebanon:{name:"Lebanon",ISO_A3:"LBN"},Liberia:{name:"Liberia",ISO_A3:"LBR"},Libya:{name:"Libya",ISO_A3:"LBY"},"Saint Lucia":{name:"Saint Lucia",ISO_A3:"LCA"},Liechtenstein:{name:"Liechtenstein",ISO_A3:"LIE"},"Sri Lanka":{name:"Sri Lanka",ISO_A3:"LKA"},Lesotho:{name:"Lesotho",ISO_A3:"LSO"},Lithuania:{name:"Lithuania",ISO_A3:"LTU"},Luxembourg:{name:"Luxembourg",ISO_A3:"LUX"},Latvia:{name:"Latvia",ISO_A3:"LVA"},"Macao S.A.R":{name:"Macao S.A.R",ISO_A3:"MAC"},"Saint Martin":{name:"Saint Martin",ISO_A3:"MAF"},Morocco:{name:"Morocco",ISO_A3:"MAR"},Moldova:{name:"Moldova",ISO_A3:"MDA"},Madagascar:{name:"Madagascar",ISO_A3:"MDG"},Maldives:{name:"Maldives",ISO_A3:"MDV"},Mexico:{name:"Mexico",ISO_A3:"MEX"},"Marshall Islands":{name:"Marshall Islands",ISO_A3:"MHL"},Macedonia:{name:"Macedonia",ISO_A3:"MKD"},Mali:{name:"Mali",ISO_A3:"MLI"},Malta:{name:"Malta",ISO_A3:"MLT"},Myanmar:{name:"Myanmar",ISO_A3:"MMR"},Montenegro:{name:"Montenegro",ISO_A3:"MNE"},Mongolia:{name:"Mongolia",ISO_A3:"MNG"},"Northern Mariana Islands":{name:"Northern Mariana Islands",ISO_A3:"MNP"},Mozambique:{name:"Mozambique",ISO_A3:"MOZ"},Mauritania:{name:"Mauritania",ISO_A3:"MRT"},Montserrat:{name:"Montserrat",ISO_A3:"MSR"},Mauritius:{name:"Mauritius",ISO_A3:"MUS"},Malawi:{name:"Malawi",ISO_A3:"MWI"},Malaysia:{name:"Malaysia",ISO_A3:"MYS"},Namibia:{name:"Namibia",ISO_A3:"NAM"},"New Caledonia":{name:"New Caledonia",ISO_A3:"NCL"},Niger:{name:"Niger",ISO_A3:"NER"},Nigeria:{name:"Nigeria",ISO_A3:"NGA"},Nicaragua:{name:"Nicaragua",ISO_A3:"NIC"},Niue:{name:"Niue",ISO_A3:"NIU"},Netherlands:{name:"Netherlands",ISO_A3:"NLD"},Norway:{name:"Norway",ISO_A3:"NOR"},Nepal:{name:"Nepal",ISO_A3:"NPL"},"New Zealand":{name:"New Zealand",ISO_A3:"NZL"},Oman:{name:"Oman",ISO_A3:"OMN"},Pakistan:{name:"Pakistan",ISO_A3:"PAK"},Panama:{name:"Panama",ISO_A3:"PAN"},"Pitcairn Islands":{name:"Pitcairn Islands",ISO_A3:"PCN"},Peru:{name:"Peru",ISO_A3:"PER"},"Spratly Islands":{name:"Spratly Islands",ISO_A3:"-99"},Philippines:{name:"Philippines",ISO_A3:"PHL"},Palau:{name:"Palau",ISO_A3:"PLW"},"Papua New Guinea":{name:"Papua New Guinea",ISO_A3:"PNG"},Poland:{name:"Poland",ISO_A3:"POL"},"Puerto Rico":{name:"Puerto Rico",ISO_A3:"PRI"},"North Korea":{name:"North Korea",ISO_A3:"PRK"},Portugal:{name:"Portugal",ISO_A3:"PRT"},Paraguay:{name:"Paraguay",ISO_A3:"PRY"},Palestine:{name:"Palestine",ISO_A3:"PSE"},"French Polynesia":{name:"French Polynesia",ISO_A3:"PYF"},Qatar:{name:"Qatar",ISO_A3:"QAT"},Romania:{name:"Romania",ISO_A3:"ROU"},Russia:{name:"Russia",ISO_A3:"RUS"},Rwanda:{name:"Rwanda",ISO_A3:"RWA"},"Western Sahara":{name:"Western Sahara",ISO_A3:"ESH"},"Saudi Arabia":{name:"Saudi Arabia",ISO_A3:"SAU"},Sudan:{name:"Sudan",ISO_A3:"SDN"},"South Sudan":{name:"South Sudan",ISO_A3:"SSD"},Senegal:{name:"Senegal",ISO_A3:"SEN"},Singapore:{name:"Singapore",ISO_A3:"SGP"},"South Georgia and South Sandwich Islands":{name:"South Georgia and South Sandwich Islands",ISO_A3:"SGS"},"Saint Helena":{name:"Saint Helena",ISO_A3:"SHN"},"Solomon Islands":{name:"Solomon Islands",ISO_A3:"SLB"},"Sierra Leone":{name:"Sierra Leone",ISO_A3:"SLE"},"El Salvador":{name:"El Salvador",ISO_A3:"SLV"},Somalia:{name:"Somalia",ISO_A3:"SOM"},"Saint Pierre and Miquelon":{name:"Saint Pierre and Miquelon",ISO_A3:"SPM"},"Republic of Serbia":{name:"Republic of Serbia",ISO_A3:"SRB"},"Sao Tome and Principe":{name:"Sao Tome and Principe",ISO_A3:"STP"},Suriname:{name:"Suriname",ISO_A3:"SUR"},Slovakia:{name:"Slovakia",ISO_A3:"SVK"},Slovenia:{name:"Slovenia",ISO_A3:"SVN"},Sweden:{name:"Sweden",ISO_A3:"SWE"},Swaziland:{name:"Swaziland",ISO_A3:"SWZ"},Seychelles:{name:"Seychelles",ISO_A3:"SYC"},Syria:{name:"Syria",ISO_A3:"SYR"},"Turks and Caicos Islands":{name:"Turks and Caicos Islands",ISO_A3:"TCA"},Chad:{name:"Chad",ISO_A3:"TCD"},Togo:{name:"Togo",ISO_A3:"TGO"},Thailand:{name:"Thailand",ISO_A3:"THA"},Tajikistan:{name:"Tajikistan",ISO_A3:"TJK"},Turkmenistan:{name:"Turkmenistan",ISO_A3:"TKM"},"East Timor":{name:"East Timor",ISO_A3:"TLS"},Tonga:{name:"Tonga",ISO_A3:"TON"},"Trinidad and Tobago":{name:"Trinidad and Tobago",ISO_A3:"TTO"},Tunisia:{name:"Tunisia",ISO_A3:"TUN"},Turkey:{name:"Turkey",ISO_A3:"TUR"},Tuvalu:{name:"Tuvalu",ISO_A3:"TUV"},Taiwan:{name:"Taiwan",ISO_A3:"TWN"},"United Republic of Tanzania":{name:"United Republic of Tanzania",ISO_A3:"TZA"},Uganda:{name:"Uganda",ISO_A3:"UGA"},Ukraine:{name:"Ukraine",ISO_A3:"UKR"},"United States Minor Outlying Islands":{name:"United States Minor Outlying Islands",ISO_A3:"UMI"},Uruguay:{name:"Uruguay",ISO_A3:"URY"},"United States of America":{name:"United States of America",ISO_A3:"USA"},"US Naval Base Guantanamo Bay":{name:"US Naval Base Guantanamo Bay",ISO_A3:"-99"},Uzbekistan:{name:"Uzbekistan",ISO_A3:"UZB"},"Saint Vincent and the Grenadines":{name:"Saint Vincent and the Grenadines",ISO_A3:"VCT"},Venezuela:{name:"Venezuela",ISO_A3:"VEN"},"British Virgin Islands":{name:"British Virgin Islands",ISO_A3:"VGB"},"United States Virgin Islands":{name:"United States Virgin Islands",ISO_A3:"VIR"},Vietnam:{name:"Vietnam",ISO_A3:"VNM"},Vanuatu:{name:"Vanuatu",ISO_A3:"VUT"},"Wallis and Futuna":{name:"Wallis and Futuna",ISO_A3:"WLF"},"Akrotiri Sovereign Base Area":{name:"Akrotiri Sovereign Base Area",ISO_A3:"-99"},Samoa:{name:"Samoa",ISO_A3:"WSM"},Yemen:{name:"Yemen",ISO_A3:"YEM"},"South Africa":{name:"South Africa",ISO_A3:"ZAF"},Zambia:{name:"Zambia",ISO_A3:"ZMB"},Zimbabwe:{name:"Zimbabwe",ISO_A3:"ZWE"},"French Guyana":{name:"French Guyana",ISO_A3:"GUF"}},yl={Alabama:{name:"Alabama"},Alaska:{name:"Alaska"},Arizona:{name:"Arizona"},Arkansas:{name:"Arkansas"},California:{name:"California"},Colorado:{name:"Colorado"},Connecticut:{name:"Connecticut"},Delaware:{name:"Delaware"},"District of Columbia":{name:"District of Columbia"},Florida:{name:"Florida"},Georgia:{name:"Georgia"},Hawaii:{name:"Hawaii"},Idaho:{name:"Idaho"},Illinois:{name:"Illinois"},Indiana:{name:"Indiana"},Iowa:{name:"Iowa"},Kansas:{name:"Kansas"},Kentucky:{name:"Kentucky"},Louisiana:{name:"Louisiana"},Maine:{name:"Maine"},Maryland:{name:"Maryland"},Massachusetts:{name:"Massachusetts"},Michigan:{name:"Michigan"},Minnesota:{name:"Minnesota"},Mississippi:{name:"Mississippi"},Missouri:{name:"Missouri"},Montana:{name:"Montana"},Nebraska:{name:"Nebraska"},Nevada:{name:"Nevada"},"New Hampshire":{name:"New Hampshire"},"New Jersey":{name:"New Jersey"},"New Mexico":{name:"New Mexico"},"New York":{name:"New York"},"North Carolina":{name:"North Carolina"},"North Dakota":{name:"North Dakota"},Ohio:{name:"Ohio"},Oklahoma:{name:"Oklahoma"},Oregon:{name:"Oregon"},Pennsylvania:{name:"Pennsylvania"},"Rhode Island":{name:"Rhode Island"},"South Carolina":{name:"South Carolina"},"South Dakota":{name:"South Dakota"},Tennessee:{name:"Tennessee"},Texas:{name:"Texas"},Utah:{name:"Utah"},Vermont:{name:"Vermont"},Virginia:{name:"Virginia"},Washington:{name:"Washington"},"West Virginia":{name:"West Virginia"},Wisconsin:{name:"Wisconsin"},Wyoming:{name:"Wyoming"}},Al={Anguilla:{name:"Anguilla",ISO_A3:"AIA"},"Antigua and Barbuda":{name:"Antigua and Barbuda",ISO_A3:"ATG"},"The Bahamas":{name:"The Bahamas",ISO_A3:"BHS"},Bermuda:{name:"Bermuda",ISO_A3:"BMU"},Barbados:{name:"Barbados",ISO_A3:"BRB"},Canada:{name:"Canada",ISO_A3:"CAN"},Cuba:{name:"Cuba",ISO_A3:"CUB"},"Cayman Islands":{name:"Cayman Islands",ISO_A3:"CYM"},Dominica:{name:"Dominica",ISO_A3:"DMA"},"Dominican Republic":{name:"Dominican Republic",ISO_A3:"DOM"},Grenada:{name:"Grenada",ISO_A3:"GRD"},Greenland:{name:"Greenland",ISO_A3:"GRL"},Haiti:{name:"Haiti",ISO_A3:"HTI"},Jamaica:{name:"Jamaica",ISO_A3:"JAM"},"Saint Kitts and Nevis":{name:"Saint Kitts and Nevis",ISO_A3:"KNA"},"Saint Lucia":{name:"Saint Lucia",ISO_A3:"LCA"},"Saint Martin":{name:"Saint Martin",ISO_A3:"MAF"},Mexico:{name:"Mexico",ISO_A3:"MEX"},Montserrat:{name:"Montserrat",ISO_A3:"MSR"},"Puerto Rico":{name:"Puerto Rico",ISO_A3:"PRI"},"Saint Pierre and Miquelon":{name:"Saint Pierre and Miquelon",ISO_A3:"SPM"},"Turks and Caicos Islands":{name:"Turks and Caicos Islands",ISO_A3:"TCA"},"Trinidad and Tobago":{name:"Trinidad and Tobago",ISO_A3:"TTO"},"United States of America":{name:"United States of America",ISO_A3:"USA"},"Saint Vincent and the Grenadines":{name:"Saint Vincent and the Grenadines",ISO_A3:"VCT"},"British Virgin Islands":{name:"British Virgin Islands",ISO_A3:"VGB"},"United States Virgin Islands":{name:"United States Virgin Islands",ISO_A3:"VIR"}},bl={Argentina:{name:"Argentina",ISO_A3:"ARG"},Bolivia:{name:"Bolivia",ISO_A3:"BOL"},Brazil:{name:"Brazil",ISO_A3:"BRA"},Chile:{name:"Chile",ISO_A3:"CHL"},Colombia:{name:"Colombia",ISO_A3:"COL"},"Costa Rica":{name:"Costa Rica",ISO_A3:"CRI"},Ecuador:{name:"Ecuador",ISO_A3:"ECU"},"Falkland Islands":{name:"Falkland Islands",ISO_A3:"FLK"},Guyana:{name:"Guyana",ISO_A3:"GUY"},Nicaragua:{name:"Nicaragua",ISO_A3:"NIC"},Panama:{name:"Panama",ISO_A3:"PAN"},Peru:{name:"Peru",ISO_A3:"PER"},Paraguay:{name:"Paraguay",ISO_A3:"PRY"},Suriname:{name:"Suriname",ISO_A3:"SUR"},Uruguay:{name:"Uruguay",ISO_A3:"URY"},Venezuela:{name:"Venezuela",ISO_A3:"VEN"},"French Guyana":{name:"French Guyana",ISO_A3:"GUF"},Guatemala:{name:"Guatemala",ISO_A3:"GTM"},"El Salvador":{name:"El Salvador",ISO_A3:"SLV"},Honduras:{name:"Honduras",ISO_A3:"HND"}},pl={World:dl,USA:yl,NorthAmerica:Al,SouthAmerica:bl,Canada:ll,Europe:vl,Asia:fl,Africa:hl,Australia:cl},ml={World:"World",USA:"USA",NorthAmerica:"NorthAmerica",SouthAmerica:"SouthAmerica",Canada:"Canada",Europe:"Europe",Asia:"Asia",Africa:"Africa",Australia:"Australia"},gl=function(){return gl=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},gl.apply(this,arguments)},xl=function(t,i){var n;if(t===ml.World)n="countries_world.json";else if(t===ml.NorthAmerica)n="countries_northAmerica.json";else if(t===ml.SouthAmerica)n="countries_southAmerica.json";else if(t===ml.Africa)n="countries_africa.json";else if(t===ml.Europe)n="countries_europe.json";else if(t===ml.Asia)n="countries_asia.json";else if(t===ml.USA)n="states_usa.json";else if(t===ml.Canada)n="territoriesProvinces_canada.json";else{if(t!==ml.Australia){var r="LCJS MapChart unidentified `type`: ".concat(t);throw ci.alert(r),new Error(r)}n="territories_australia.json"}return new Promise((function(t,r){!function(t){if(t.resourcesBaseUrl){var i="".concat(t.resourcesBaseUrl).concat(t.fileName);ci.fetch(i).then((function(i){t.success(i)})).catch((function(){t.error({url:i})}))}else{var n="".concat(ci.location.origin,"/resources").concat(t.fileName);ci.fetch(n).then((function(i){if(!i.ok)throw new Error;t.success(i)})).catch((function(){var i="https://lcjs-resources.lightningchart.com/v1".concat(t.fileName);ci.fetch(i).then((function(i){ci.console.warn("LightningChart JS warning | fallbacking publicly hosted asset resources.\nFor more information, please see https://lightningchart.com/js-charts/docs/troubleshooting/warning-using-publicly-hosted-resources/"),t.success(i)})).catch((function(){t.error({url:n})}))}))}}({fileName:"/maps/".concat(n),resourcesBaseUrl:i,success:function(i){return i.json().then(t)},error:function(t){var n=t.url;return bn(i,n,"Map Chart",{shouldCrash:!0})}})}))},Sl=function(t,i){return!(!i.name||t.name.toLowerCase()!==i.name.toLowerCase())||"ISO_A3"in t&&"ISO_A3"in i&&t.ISO_A3.toLowerCase()===i.ISO_A3.toLowerCase()},wl={World:{min:{x:-180,y:-90},max:{x:180.0000000000002,y:83.63410065300012}},Europe:{min:{x:-25,y:34},max:{x:40,y:70}},Africa:{min:{x:-17,y:-40},max:{x:52,y:37.37549753800012}},Asia:{min:{x:27,y:-10.922621351999808},max:{x:180.0000000000002,y:81.85871002800009}},NorthAmerica:{min:{x:-179.1435033839999,y:5.515082098000121},max:{x:-50,y:83.11652252800009}},SouthAmerica:{min:{x:-85,y:-55.9185042229998},max:{x:-35,y:15}},USA:{min:{x:-125,y:24},max:{x:-68,y:50}},Canada:{min:{x:-141.0181,y:41.7297},max:{x:-52.6194,y:75}},Australia:{min:{x:111,y:-43.6586},max:{x:155,y:-9.2199}}},Ml={World:.6,Europe:1/1.4,Africa:1.3,Asia:.8,NorthAmerica:.9,SouthAmerica:1.5,USA:3/4,Canada:6/8,Australia:11/12},Cl=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tl=function(){return Tl=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Tl.apply(this,arguments)},kl=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},_l=function(t){function i(i,n,r,e,o,s,a){var u,h=this;(h=t.call(this,i,n,r,n.rA("mapChart bg",0),e,n.Ai.xi.mapChartBackgroundFillStyle,n.Ai.xi.mapChartBackgroundStrokeStyle,n.Ai.xi.mapChartTitleFont,n.Ai.xi.mapChartTitleFillStyle,n.Ai.xi.mapChartTitleShadow,a,null===(u=null==s?void 0:s.legend)||void 0===u?void 0:u.customLegend)||this).ug=[],h.ai=h.Yy.d2({scaleXYConstructor:nt}),h.hg=!0,h.cg=h.xi.mapChartSeparateRegionFillStyle,h.lg=h.xi.mapChartSeparateRegionStrokeStyle,h.Ie=!0,h.vg=0,h.dg=!0,h.yg=new Map,h.regions=new Nt,h.Ag=function(t){h.ai.x.Z(t.engineWidth).At([h.ot.left+h.Ls.left,h.ot.right+h.Ls.right]),h.ai.y.Z(t.engineHeight).At([h.ot.bottom+h.Ls.bottom,h.ot.top+h.Ls.top+xf(h.Ve,h.eA)]),h.bg&&h.pg(h.mg,h.ai,h.bg)},h.j=new Nt,h.Ai.pu(zs.Sa),h.Ie=!1!==(null==s?void 0:s.animationsEnabled),h.gg=n.Rm("mapChart plotting",0),h.addEventListener("resize",h.Ag),h.Ve.Wo("Map Chart");var f=n.Zm(),c=gi(s?s.cursorBuilder:void 0,al);h.Qm=Up(h,f,c.pm(f,h.uiScale,h.uiScale,Ai,h.xi),void 0,"show-pointed",Fl,(function(){return 0})),h.xg=h.yn.yd(),h.nA(o,h.uiScale),h.Sg=h.gg.qA(h.ai).setPointerEvents(h.hg).$r(h.xi.mapChartFillStyle).qr(h.xi.mapChartStrokeStyle),h.regions.Ni(h.Sg,(function(t){if(h.wg){var i=h.Mg(h.wg,t);if(i)return i.region}})),h.Sg.addEventListener("pointermove",(function(t,i){var n=i.collectionMember;if(h.wg&&n){var r=h.Mg(h.wg,n);h.Cg(r),h.dg&&r&&h.Ai.gn.En(r.region,!0)}})),h.Sg.addEventListener("pointerleave",(function(t,i){var n=i.collectionMember;if(h.wg&&n){var r=h.Mg(h.wg,n);h.Tg(),h.dg&&r&&h.Ai.gn.En(r.region,!1)}})),h.kg=h.gg.qA(h.ai).setPointerEvents(h.hg).$r(h.xi.mapChartOutlierRegionFillStyle).qr(h.xi.mapChartOutlierRegionStrokeStyle);var l=gi(s&&s.type,ml.World);h.mg=l,h._g(l).then((function(){h.j.D("ready",{})}));var v=Tl({renderOnTop:!0,backgroundVisible:!0},null==s?void 0:s.legend);return h.legend.setOptions(v),h}return Cl(i,t),i.prototype.setFillStyle=function(t){var i=this;return this.Sg.$r(t),this.Dn.forEach((function(t){t.Iy()&&t.add(i)})),this.Dn.forEach((function(t){return t.Ln()})),this.Ai.Fn(),this},i.prototype.getFillStyle=function(){return this.Sg.vo()},i.prototype.setStrokeStyle=function(t){return this.Sg.qr(t),this.Ai.Fn(),this},i.prototype.getStrokeStyle=function(){return this.Sg.zu()},i.prototype.setEffect=function(t){return this.xg.On(t),this.Ai.Fn(),this},i.prototype.getEffect=function(){return this.xg.In()},i.prototype.setOutlierRegionFillStyle=function(t){return this.kg.$r(t),this.Ai.Fn(),this},i.prototype.getOutlierRegionFillStyle=function(){return this.kg.vo()},i.prototype.setOutlierRegionStrokeStyle=function(t){return this.kg.qr(t),this.Ai.Fn(),this},i.prototype.getOutlierRegionStrokeStyle=function(){return this.kg.zu()},i.prototype.setSeparateRegionFillStyle=function(t){var i=this;return this.cg="function"==typeof t?t(this.cg):t,this.ug.forEach((function(t){return t.$r(i.cg)})),this.Ai.Fn(),this},i.prototype.getSeparateRegionFillStyle=function(){return this.cg},i.prototype.setSeparateRegionStrokeStyle=function(t){var i=this;return this.lg="function"==typeof t?t(this.lg):t,this.ug.forEach((function(t){return t.qr(i.lg)})),this.Ai.Fn(),this},i.prototype.getSeparateRegionStrokeStyle=function(){return this.lg},i.prototype.invalidateRegionValues=function(t){var i,n,r=this;if(!this.wg||!this.Og)return this.Fg=this.Fg||[],this.Fg.push(t),this;if("function"==typeof t)for(var e=function(i){var n=o.wg.regions[i],r=o.Og[i],e=t(Tl(Tl({},n),{geometry:void 0}),r);if(void 0!==e&&e!==r){o.Og[i]=e;var s=o.yg.get(n);null==s||s.forEach((function(t){t.Ig(e)}))}},o=this,s=0;s<this.wg.regions.length;s+=1)e(s);else{var a=function(t){if(t)for(var i=0;i<u.wg.regions.length;i+=1){var n=u.wg.regions[i],r=u.Og[i];if(void 0!==t.value&&t.value!==r&&Sl(n,t)){u.Og[i]=t.value;var e=u.yg.get(n);null==e||e.forEach((function(i){i.Ig(t.value)}))}}},u=this;try{for(var h=kl(t),f=h.next();!f.done;f=h.next())a(f.value)}catch(t){i={error:t}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(i)throw i.error}}}return this.Dn.forEach((function(t){t.Iy()&&t.add(r)})),this.Ai.Fn(),this},i.prototype.setPointerEvents=function(t){return this.hg=t,this.Sg.setPointerEvents(t),this},i.prototype.getPointerEvents=function(){return this.hg},i.prototype.setHighlight=function(t){var i,n=this;return t=vn(t),this.vg=t,null===(i=this.wg)||void 0===i||i.regions.forEach((function(i){n.Ai.gn.En(i,t)})),this.j.D("highlightchange",{highlight:t}),this},i.prototype.getHighlight=function(){return this.vg},i.prototype.setAnimationHighlight=function(t){var i,n=this;return null===(i=this.wg)||void 0===i||i.regions.forEach((function(i){n.Ai.gn.Pn(i,t)})),this},i.prototype.getAnimationHighlight=function(){var t;return this.Ai.gn.zn(null===(t=this.wg)||void 0===t?void 0:t.regions[0])},i.prototype.setHighlightOnHover=function(t){return this.dg=t,!1===t&&this.getHighlight()>0&&this.setHighlight(!1),this},i.prototype.getHighlightOnHover=function(){return this.dg},i.prototype._g=function(t){return i=this,n=void 0,e=function(){var i,n,r,e,o,s,a,u,h,f,c,l,v,d,y,A,b,p,m,g,x,S;return function(t,i){var n,r,e,o,s={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(e=2&o[0]?r.return:o[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,o[1])).done)return e;switch(r=0,e&&(o=[2&o[0],e.value]),o[0]){case 0:case 1:e=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((e=(e=s.trys).length>0&&e[e.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!e||o[1]>e[0]&&o[1]<e[3])){s.label=o[1];break}if(6===o[0]&&s.label<e[1]){s.label=e[1],e=o;break}if(e&&s.label<e[2]){s.label=e[2],s.ops.push(o);break}e[2]&&s.ops.pop(),s.trys.pop();continue}o=i.call(t,s)}catch(t){o=[6,t],r=0}finally{n=e=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(w){switch(w.label){case 0:return[4,xl(t,this.Uy.pr)];case 1:if(i=w.sent(),this.Og=new Array(i.regions.length).map((function(t){})).fill(void 0),!(n=wl[t]))throw new Error("Unidentified map type.");try{for(r=kl(i.outliers),e=r.next();!e.done;e=r.next()){o=e.value;try{for(m=void 0,s=kl(o.geometry),a=s.next();!a.done;a=s.next())u=a.value,this.kg.za().wf(u)}catch(t){m={error:t}}finally{try{a&&!a.done&&(g=s.return)&&g.call(s)}finally{if(m)throw m.error}}}}catch(t){b={error:t}}finally{try{e&&!e.done&&(p=r.return)&&p.call(r)}finally{if(b)throw b.error}}for(t===ml.USA&&(h=25.8,this.ug.push(this.Ry.te(this.ai).setPointerEvents(!1).$r(this.cg).qr(this.lg).ne({x:-126,y:h}).Z({x:10,y:29.7-h}),this.Ry.te(this.ai).setPointerEvents(!1).$r(this.cg).qr(this.lg).ne({x:-113,y:h}).Z({x:7,y:29.7-h}))),f=this.Ai.gn.Pa(this.Sg,{animationEnabled:this.Ie}),c=function(n){var r,e,o=i.regions[n],s=function(t,i){var n=i.geometry;return n=function(t,i,n){if(t===ml.Asia){for(var r=[],e=0;e<n.length;e+=1){r[e]=[];for(var o=n[e],s=r[e],a=0;a<o.length;a+=1){var u=o[a];u.x<-100?s[a]={x:u.x+360,y:u.y}:s[a]=u}}return r}return n}(t,0,n),function(t,i,n){var r,e=i.name.toLowerCase();if(t===ml.USA&&("alaska"===e?r={translate:{x:55,y:-25},scale:{x:.16,y:.16}}:"hawaii"===e&&(r={translate:{x:48,y:7},scale:{x:1,y:1}})),r){for(var o=r.translate,s=r.scale,a=Zn(mi(n)),u=[],h=0;h<n.length;h+=1){u[h]=[];for(var f=n[h],c=u[h],l=0;l<f.length;l+=1){var v=f[l],d=v.x;"alaska"===e&&1===Math.sign(d)&&(d=-180-(180-d)),c[l]={x:o.x+(d-a.min.x)*s.x+a.min.x,y:o.y+(v.y-a.min.y)*s.y+a.min.y}}}return i.outlier=!0,i.transform=gl(gl({},r),{vertexBoundaries:a}),u}return n}(t,i,n)}(t,o),a=[];try{for(var u=(r=void 0,kl(s)),h=u.next();!h.done;h=u.next()){var c=h.value;c.length<3||a.push(l.Sg.za().wf(c))}}catch(t){r={error:t}}finally{try{h&&!h.done&&(e=u.return)&&e.call(u)}finally{if(r)throw r.error}}l.yg.set(o,a),f.za(o,(function(t){a.forEach((function(i){return i.Oi(t)}))}))},l=this,v=0;v<i.regions.length;v+=1)c(v);if(this.xg.wn([this.Sg]),this.bg=n,this.pg(t,this.ai,n),this.wg=i,this.Fg){try{for(d=kl(this.Fg),y=d.next();!y.done;y=d.next())A=y.value,this.invalidateRegionValues(A)}catch(t){x={error:t}}finally{try{y&&!y.done&&(S=d.return)&&S.call(d)}finally{if(x)throw x.error}}this.Fg=void 0}return this.Ai.Fn(),[2]}}))},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{u(e.next(t))}catch(t){o(t)}}function a(t){try{u(e.throw(t))}catch(t){o(t)}}function u(i){var n;i.done?t(i.value):(n=i.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}u((e=e.apply(i,n||[])).next())}));var i,n,r,e},i.prototype.pg=function(t,i,n){var r=Ml[t],e=i.x.getCellSize(),o=i.y.getCellSize()/e,s={min:{x:n.min.x,y:n.min.y},max:{x:n.max.x,y:n.max.y}};if(o<r){var a=(s.max.x-s.min.x)*(r/o-1);s.min.x-=a/2,s.max.x+=a/2}else o>r&&(a=(s.max.y-s.min.y)*(o/r-1),s.min.y-=a/2,s.max.y+=a/2);i.x.X(s.min.x,s.max.x),i.y.X(s.min.y,s.max.y);var u=this.ai.x.Tt(),h=this.ai.y.Tt();this.j.D("viewchange",{latitudeRange:{start:s.min.y,end:s.max.y},longitudeRange:{start:s.min.x,end:s.max.x},margin:{top:h[1],bottom:h[0],left:u[0],right:u[1]}})},i.prototype.Cg=function(t){this.jg=t,this.Ai.Fn()},i.prototype.Tg=function(){this.jg=void 0,this.Ai.Fn()},i.prototype.Mg=function(t,i){var n=Array.from(this.yg.entries()).findIndex((function(t){var n=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(t,2);return n[0],n[1].includes(i)})),r=null==t?void 0:t.regions[n],e=this.Ai.Au();if(e){var o=this.Ai.Uu(e),s=this.Og&&this.Og[n],a=at({x:o.engineX,y:o.engineY},this.Ai.ai,this.ai),u=(a={x:pi(a.x,this.ai.x.getInnerStart(),this.ai.x.getInnerEnd()),y:pi(a.y,this.ai.y.getInnerStart(),this.ai.y.getInnerEnd())}).x,h=a.y,f=r.transform;r.outlier&&f&&(u=(u-f.translate.x-f.vertexBoundaries.min.x)/f.scale.x+f.vertexBoundaries.min.x,h=(h-f.translate.y-f.vertexBoundaries.min.y)/f.scale.y+f.vertexBoundaries.min.y);var c=this.getFillStyle();return{cursorPosition:{pointMarker:{x:o.engineX,y:o.engineY},pointMarkerScale:this.Ai.ai,resultTable:{x:o.engineX,y:o.engineY},resultTableScale:this.Ai.ai},region:r,value:s,longitude:h,latitude:u,lut:Zr(c)?c.lut:void 0}}},i.prototype.setCursor=function(t){return this.Qm.setCursor(t),this},i.prototype.getCursor=function(){return this.Qm.getCursor()},i.prototype.setCursorMode=function(t){return this.Qm.setCursorMode(t),this},i.prototype.getCursorMode=function(){return this.Qm.getCursorMode()},i.prototype.setCustomCursor=function(t){return this.Qm.setCustomCursor(t),this},i.prototype.setCursorDynamicBehavior=function(t){return this.Qm.eg(t),this},i.prototype.setCursorFormatting=function(t){return this.Qm.setCursorFormatting(t),this},i.prototype.getCursorFormatting=function(){return this.Qm.getCursorFormatting()},i.prototype.addCursor=function(t){void 0===t&&(t=al);var i=this.Xy(),n=t.pm(i,this.uiScale,this.uiScale,this.Gy(i),this.xi);return this.tA(n),n},i.prototype.setAnimationsEnabled=function(t){return this.Ie=!t,this},i.prototype.getAnimationsEnabled=function(){return this.Ie},i.prototype.getMinimumSize=function(){},i.prototype.By=function(){return[this]},i.prototype.ie=function(i){var n=this;t.prototype.ie.call(this,i),t.prototype.iA.call(this);var r=xf(this.Ve,this.eA),e=this.Dn.reduce((function(t,i){var e=i.Io(r,n.Ls);return{top:Math.max(t.top,e.top),bottom:Math.max(t.bottom,e.bottom),left:Math.max(t.left,e.left),right:Math.max(t.right,e.right)}}),{top:0,bottom:0,left:0,right:0});Sf(this.Ve,this.eA,this.uiScale.oi(),this.Ls,e);var o=y(this.ai.x.bt()+e.left,this.ai.y.bt()+e.bottom,this.ai.x.St()-e.right,this.ai.y.St()-e.top);return this.gg.jm(o),this.Qm.ie(!1,[],void 0,{explicitTarget:this.jg}),this.Dn.forEach((function(t){return t.ie(r,n.Ls)})),this},i.prototype.dispose=function(){return this.gg.V(),this.Qm.V(),Af(this.ai),t.prototype.dispose.call(this)},i.prototype.Y=function(){return t.prototype.Y.call(this),this.ai.Y(),this},i.prototype.W=function(){return t.prototype.W.call(this),this.ai.W(),this},i.prototype.Rn=function(){return en(this.getFillStyle(),this.Sg.Mi())},i.prototype.re=function(){return{fill:this.getFillStyle()}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(gf),Ol=function(t,i){var n=t>0,r=[sn(Math.abs(0|t),2)," ",sn(Math.abs(0|(t<0?t=-t:t)%1*60),2),"' "].join("")+(n?"E":"W"),e=i>0,o=[sn(Math.abs(0|i),2)," ",sn(Math.abs(0|(i<0?i=-i:i)%1*60),2),"' "].join("")+(e?"N":"S");return"".concat(r,", ").concat(o)},Fl=function(t,i,n){var r,e=[[{text:i.region.name,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[Ol(i.longitude,i.latitude)]];return void 0!==i.value&&e.push({text:ee(i.lut?Er(i.lut,i.value):i.value.toFixed(2),null===(r=i.lut)||void 0===r?void 0:r.units),font:{weight:"bold"}}),e},Il=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jl=function(t){function i(i,n,r,e,o,s,a,u,h){var f=t.call(this,i,n,n.Bg(r),e,o,{numeric:n.Dg({amplitude:e.polarAmplitudeAxisNumericTicks,radial:e.polarAmplitudeAxisNumericTicks}),datetime:n.Dg({amplitude:e.polarAmplitudeAxisDateTimeTicks,radial:e.polarAmplitudeAxisDateTimeTicks}),time:n.Dg({amplitude:e.polarAmplitudeAxisTimeTicks,radial:e.polarAmplitudeAxisTimeTicks})},{type:"linear"})||this;return f.j=new Nt,f.Lg=s,f.Eg=a,f.Pg=u,f.yn=h,f.zg=r,f.Ng=n.Dg({amplitude:e.polarAmplitudeAxisStrokeStyle,radial:e.polarRadialAxisStrokeStyle}),f.Xe=u.ps(r).setPointerEvents(!1).bo(n.Dg({amplitude:e.polarAmplitudeAxisTitleFont,radial:e.polarRadialAxisTitleFont})).$r(n.Dg({amplitude:e.polarAmplitudeAxisTitleFillStyle,radial:e.polarRadialAxisTitleFillStyle})),f.xo=f.yn.yd([f.Xe]).On(e.effectsText),f}return Il(i,t),i.prototype.setTickStrategy=function(i,n){return t.prototype.so.call(this,i,n)},i.prototype.setStrokeStyle=function(t){return this.Ng="function"==typeof t?t(this.Ng):t,this.Eg.Fn(),this},i.prototype.getStrokeStyle=function(){return this.Ng},i.prototype.Lo=function(t){return{}},i.prototype.No=function(t,i,n,r){var e=this.Vg(this.zg,t,i.Ce);return{keyValue:t,tickLevel:i,labelText:n,labelPosition:or(this.Rg(this.zg,t),e.padding),labelAlignment:e.alignment,labelRotation:e.rotation,labelOffset:e.offset}},i.prototype.Xo=function(t,i,n,r){return new Bl(i,t,this.zg,this.Pg,this.Gg(this.Lg,this.zg),this.Pg.ce(this.zg).setPointerEvents(!1))},i.prototype.Ze=function(){return this.zg},i.prototype.ie=function(t){var i=this;this.Ug(this.zg,this.Ng,t.Cd),this.Yg(this.zg,this.Xe,t.Cd),t.ticksInfo.forEach((function(t,n){n.Oo.ne(t.labelPosition).Uh(t.labelAlignment).po(t.labelRotation).Eh(t.labelOffset.x,t.labelOffset.y),i.Wg&&!1===i.Wg(n)&&n.Oo.setVisible(!1),i.Xg(i.zg,n.Hg,n.Zg,n)}))},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i.prototype.setPointerEvents=function(t){return this.j.setPointerEvents(t),this},i.prototype.getPointerEvents=function(){return this.j.getPointerEvents()},i}(Ss),Bl=function(t){function i(i,n,r,e,o,s,a){var u=t.call(this,i,n,e,r,a)||this;return u.Hg=o,u.Zg=s,o.setPointerEvents(!1),u.vn.push(o,s),u}return Il(i,t),i}(ws),Dl=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ll=function(){return Ll=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Ll.apply(this,arguments)},El=function(t){function i(i,n,r,e,o,s,a,u,h){var f=t.call(this,i,Pl((function(){return f.Sd()})),n,r,e,o,s,a,u)||this;return f.HA=f.Eg.ce(f.zg).setPointerEvents(!1),f.Qg=h,f.setScrollStrategy(rs.expansion),f.setTickStrategy(es.Numeric),f.setTitle("Amplitude"),f.Xe.Yo(r.polarAmplitudeAxisTitleShadow),f}return Dl(i,t),i.prototype.Sd=function(){return this.Qg()},i.prototype.Go=function(t,i,n){var r=this;return{ticksInfo:i,Cd:this.$o((function(t,i){var n=i.gs.Ce,e=.5*r.Ng.getThickness()+n.tickLength+n.tickPadding+Math.abs(i.Oo.Io().Oc().y);return Math.max(t,e)}),0),updatedTicks:n}},i.prototype.fs=function(t,i){return se(t,i,this.zg.y)},i.prototype.vs=function(t,i,n){var r=2*Math.abs(i-t),e=this.zg.x.Qt(r);return{start:t+n.start*e*Math.sign(t-i),end:i+n.end*e*Math.sign(i-t)}},i.prototype.Rg=function(t,i){return{x:t.ur()?i-t.ar().start:t.ar().start-i,y:0}},i.prototype.Gg=function(t,i){return t.Fl(i)},i.prototype.Xg=function(t,i,n,r){var e=r.gs.Ce,o=t.ur()?r.S-t.ar().start:t.ar().start-r.S;bi(r.S,t.ar().start)||bi(r.S,t.ar().end)?i.setVisible(!1):i.setVisible(!0).ac(0).le(360).lc(void 0).cc(0).uc(o).lc(60).$r(Vr).qr(e.gridStrokeStyle);var s=.5*this.Ng.getThickness();n.ve({x:o,y:-s*t.oi().y}).le({x:o,y:-(s+e.tickLength)*t.oi().y}).fe(e.tickStyle)},i.prototype.Vg=function(t,i,n){return{alignment:{x:0,y:1},padding:{x:0,y:t.oi().y*-(.5*this.Ng.getThickness()+n.tickLength+n.tickPadding)},rotation:0,offset:{x:0,y:0}}},i.prototype.Ug=function(t,i,n){var r=t.ur()?t.ar().end-t.ar().start:t.ar().start-t.ar().end;this.HA.ve({x:0,y:0}).le({x:r,y:0}).fe(i)},i.prototype.Yg=function(t,i,n){var r=t.ur()?(t.ar().start+t.ar().end)/2-t.ar().start:t.ar().start-(t.ar().start+t.ar().end)/2;i.Uh({x:0,y:1}).ne({x:r,y:-n*t.oi().y})},i}(jl),Pl=function(t){return Ll(Ll({},Yf(t,(function(t){return t.getAmplitudeMin()}),(function(t){return t.getAmplitudeMax()}),(function(t){}))),{Bg:function(t){return{getInnerStart:function(){return t.ar().start},getInnerEnd:function(){return t.ar().end},X:function(i,n){return t.er(i,n)},nt:function(i,n,r,e,o){return t.y.nt(i,n,r,e,o)}}},Dg:function(t){return t.amplitude}})},zl=function(){function t(t,i,n,r){this.Jg=!1,this.j=new Nt,this.kr=t,this.Kg=i,this.Sb=n,this.Hh=r}return t.prototype.setGeometry=function(t){return this.qg=t,this.Jg=!0,this.kr.Ai.Fn(),this},t.prototype.getGeometry=function(){return this.qg},t.prototype.setPointerEvents=function(t){return this.Hh.setPointerEvents(t),this},t.prototype.dispose=function(){return this.Hh.dispose(),this.Kg(this),this.j.D("dispose",{}),this},t.prototype.setVisible=function(t){var i=this.Hh.getVisible()!==t;return this.Hh.setVisible(t),i&&this.j.D("visiblechange",{isVisible:t}),this.kr.Ai.Fn(),this},t.prototype.getVisible=function(){return this.Hh.getVisible()},t.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},t.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},t}(),Nl=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vl=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.vA=!0,i.lA=!0,i}return Nl(i,t),i.prototype.setAutoScrollingEnabled=function(t){return this.vA=t,this.chart.Ai.Fn(),this},i.prototype.getAutoScrollingEnabled=function(){return this.vA},i.prototype.gA=function(){},i.prototype.ie=function(){},i.prototype.xA=function(){},i.prototype.setCursorEnabled=function(t){return this.lA=t,this},i.prototype.getCursorEnabled=function(){return this.lA},i.prototype.bA=function(){return this.getVisible()&&this.getCursorEnabled()},i.prototype.setCursorFormattingOverride=function(t){return this.AA=t,this},i.prototype.getCursorFormattingOverride=function(){return this.AA},i}(fe),Rl=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gl=function(t){function i(i,n,r,e,o,s){var a=t.call(this,n,r,o,s)||this;return a.Yn=i,a.chart=n,a.scale=e,a}return Rl(i,t),i.prototype.getAmplitudeMin=function(){return this.$g?this.$g.min:void 0},i.prototype.getAmplitudeMax=function(){return this.$g?this.$g.max:void 0},i}(Vl),Ul=function(){return Ul=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Ul.apply(this,arguments)},Yl=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Wl=function(t,i){var n,r,e=[],o=i.ar().start,s=i.ar().end,a=i.ur(),u=i.cr()?1:-1,h=i.vr(),f=Math.abs(s-o),c=Math.min(o,s)+.001*f,l=Math.max(o,s)-.001*f;try{for(var v=Yl(t),d=v.next();!d.done;d=v.next()){var y=d.value,A=pi(y.amplitude,c,l),b=y.angle*Math.PI/180-h,p=Math.cos(b*u)*(a?A-o:o-A),m=Math.sin(b*u)*(a?A-o:o-A),g=y.color;e.push({x:p,y:m,color:g})}}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=v.return)&&r.call(v)}finally{if(n)throw n.error}}return e},Xl=function(t){var i,n,r={min:In,max:jn};try{for(var e=Yl(t),o=e.next();!o.done;o=e.next()){var s=o.value;r.min=Math.min(r.min,s.amplitude),r.max=Math.max(r.max,s.amplitude)}}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=e.return)&&n.call(e)}finally{if(i)throw i.error}}return r},Hl=function(t){return t.slice().map((function(t){return t.angle>=0&&t.angle<=360?t:Ul(Ul({},t),{angle:t.angle%360})}))},Zl=function(t,i){var n=vr(t);for(i.cr()||(n*=-1),n+=180*i.vr()/Math.PI;n<0;)n+=360;n%=360;var r=rr(t),e=i.ar(),o=Math.abs(e.end-e.start);return{angle:n,amplitude:me(e.start,e.end,r/o),color:t.color?k(t.color):void 0}},Ql=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jl=function(){return Jl=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Jl.apply(this,arguments)},Kl=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},ql=function(t){function i(i,n,r,e,o,s,a){var u=t.call(this,i,n,r,e,o,a)||this;return u.Bn="Polygon Series",u.tx=[],u.ix=[],u.nx=function(t){var i=u.ix.indexOf(t);i>=0&&u.ix.splice(i,1);var n=u.tx.findIndex((function(i){return i===t.Hh}));n>=0&&u.tx.splice(n,1),u.Yn.Fn()},u.j=new Nt,u.Qr=an(u.xi.polarPolygonSeriesFillStyle,s),u.Jr=an(u.xi.polarPolygonSeriesStrokeStyle,s),u}return Ql(i,t),i.prototype.solveNearest=function(t,i){var n=this,r=this.chart.Ai.Uu(t),e={x:r.engineX,y:r.engineY},o=te(e,this.tx,(function(t,i){var r=t.wl(i);if(r)return at(r,n.scale,t.Ai.ai)}),Un);if(o){var s=at(o[0],o[1].Ai.ai,this.scale);if(this.ox(o[1])){var a=Zl(s,this.scale);return Jl({cursorPosition:{pointMarker:s,pointMarkerScale:this.scale,resultTable:s,resultTableScale:this.scale},series:this},a)}}},i.prototype.Ji=function(t,i,n){var r=this;return wn({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},i.prototype.addPolygon=function(){var t=new zl(this.chart,this.nx,this,this.sx());return this.ix.push(t),t},i.prototype.setFillStyle=function(t){var i,n;this.Qr="function"==typeof t?t(this.Qr):t;var r=this.Qr;try{for(var e=Kl(this.tx),o=e.next();!o.done;o=e.next())o.value.$r(r)}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=e.return)&&n.call(e)}finally{if(i)throw i.error}}return this.Yn.Fn(),this},i.prototype.getFillStyle=function(){return this.Qr},i.prototype.setStrokeStyle=function(t){var i,n;this.Jr="function"==typeof t?t(this.Jr):t;var r=this.Jr;try{for(var e=Kl(this.tx),o=e.next();!o.done;o=e.next())o.value.qr(r)}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=e.return)&&n.call(e)}finally{if(i)throw i.error}}return this.Yn.Fn(),this},i.prototype.getStrokeStyle=function(){return this.Jr},i.prototype.OA=function(){return this.vA&&void 0!==this.ix.find((function(t){return void 0!==t.ux}))&&this.getVisible()},i.prototype.ie=function(){var t=this;this.ix.forEach((function(i){(i.Jg||t.scale.dr())&&i.hx&&(i.Hh.wf(Wl(i.hx,t.scale)),i.Jg=!1,i.Hh.Io())}))},i.prototype.gA=function(){t.prototype.gA.call(this);var i=d(In,jn);this.ix.forEach((function(t){if(t.qg){var n=!t.Jg&&t.hx?t.hx:Hl(t.qg);t.hx=n;var r=!t.Jg&&t.ux?t.ux:Xl(n);t.ux=r,i.min=Math.min(i.min,r.min),i.max=Math.max(i.max,r.max)}})),this.$g=i},i.prototype.ee=function(t,i){t.Oi(i),this.Yn.Fn()},i.prototype.re=function(){return{fill:this.Qr,stroke:this.Jr}},i.prototype.sx=function(){var t=this.Yn.Dc(this.scale,pa.Simple).$r(this.Qr).qr(this.Jr).Oi(this.getHighlight());return this.tx.push(t),this.Sn(t),t},i.prototype.ox=function(t){return this.ix.find((function(i){return i.Hh===t}))},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(Gl),$l=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tv=function(t){function i(i,n,r,e,o,s,a){var u=t.call(this,i,n,r,e,o,a)||this;return u.Bn="Area Series",u.lx=[],u.vx=!1,u.yx=!1,u.Ax=!1,u.j=new Nt,u.Qr=an(u.xi.polarAreaSeriesFillStyle,s),u.Jr=an(u.xi.polarAreaSeriesStrokeStyle,s),u}return $l(i,t),i.prototype.setData=function(t){0!==this.lx.length&&this.chart.Ai.pu(zs._a);var i=function(t){for(var i,n,r=[],e=!1,o=0;o<t.length;o+=1){var s=t[o],a=!0;if(i){a=!1;var u=s.angle-i.angle;if(bi(u,0))a=!0;else{var h=Math.sign(u);void 0===n?(n=h,a=!0):n===h&&(a=!0)}}a?r.push(s):e=!0,i=s}return{progressivePoints:r,userDataModified:e}}(t);return i.userDataModified&&!1===this.Ax&&(console.warn("".concat(this.Bn," setData data format is faulty. Consecutive 'angle' values should progress in the same direction! Invalid data points have been removed.")),this.Ax=!0),this.lx=i.progressivePoints,this.vx=!0,this.$g=Xl(this.lx),this.Yn.Fn(),this},i.prototype.getData=function(){return this.lx},i.prototype.setFillStyle=function(t){return this.Qr="function"==typeof t?t(this.Qr):t,this.Yn.Fn(),this},i.prototype.getFillStyle=function(){return this.Qr},i.prototype.setStrokeStyle=function(t){return this.Jr="function"==typeof t?t(this.Jr):t,this.Yn.Fn(),this},i.prototype.getStrokeStyle=function(){return this.Jr},i.prototype.setConnectDataAutomaticallyEnabled=function(t){return this.yx=t,this.Yn.Fn(),this},i.prototype.getConnectDataAutomaticallyEnabled=function(){return this.yx},i.prototype.OA=function(){return this.vA&&this.lx.length>0&&this.getVisible()},i.prototype.re=function(){return{fill:this.Qr,stroke:this.Jr}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(Gl),iv=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nv=function(){return nv=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},nv.apply(this,arguments)},rv=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},ev=function(t){function i(i,n,r,e,o,s,a){var u=t.call(this,i,n,r,e,o,s,a)||this;return u.bx=u.Yn.Dc(u.scale,pa.Simple).Oi(u.getHighlight()),u.Sn(u.bx),u}return iv(i,t),i.prototype.solveNearest=function(t,i){var n=this.chart.Ai.Uu(t),r={x:n.engineX,y:n.engineY},e=this.bx.wl(r);if(e){var o=Zl(e,this.scale);return nv({cursorPosition:{pointMarker:e,pointMarkerScale:this.scale,resultTable:e,resultTableScale:this.scale},series:this},o)}},i.prototype.Ji=function(t,i,n){var r=this;return wn({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},i.prototype.ie=function(){if(this.vx||this.scale.dr()){var t=this.lx,i=!0===this.yx?Wl(t,this.scale):rv(rv([],function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(Wl(t,this.scale)),!1),[{x:0,y:0}],!1);this.bx.wf(i).$r(this.Qr).qr(this.Jr),this.vx=!1,this.bx.Io()}},i.prototype.ee=function(t,i){t.Oi(i),this.Yn.Fn()},i}(tv),ov=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sv=function(){return sv=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},sv.apply(this,arguments)},av=function(t){function i(i,n,r,e,o,s,a){var u=t.call(this,i,n,r,e,o,a)||this;return u.Bn="Line Series",u.lx=[],u.vx=!1,u.yx=!1,u.j=new Nt,u.vc=an(u.xi.polarLineSeriesStrokeStyle,s),u.mx=i.QA(e,void 0,[Of.UserSeries]).fe(u.vc).Oi(u.getHighlight()),u.Sn(u.mx),u}return ov(i,t),i.prototype.solveNearest=function(t,i){var n=this.chart.Ai.Uu(t),r={x:n.engineX,y:n.engineY},e=this.mx.gx(r);if(e){var o=Zl(e,this.scale);return sv({cursorPosition:{pointMarker:e,pointMarkerScale:this.scale,resultTable:e,resultTableScale:this.scale},series:this},o)}},i.prototype.Ji=function(t,i,n){var r=this;return wn({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(function(){return r.solveNearest(i,"show-nearest")}))},i.prototype.setData=function(t){return 0!==this.lx.length&&this.chart.Ai.pu(zs._a),this.lx=Hl(t),this.vx=!0,this.$g=Xl(this.lx),this.Yn.Fn(),this},i.prototype.getData=function(){return this.lx},i.prototype.setStrokeStyle=function(t){this.vc="function"==typeof t?t(this.vc):t;var i=this.vc;return this.mx.fe(i),this.Yn.Fn(),this},i.prototype.getStrokeStyle=function(){return this.vc},i.prototype.setConnectDataAutomaticallyEnabled=function(t){return this.yx=t,this.Yn.Fn(),this},i.prototype.getConnectDataAutomaticallyEnabled=function(){return this.yx},i.prototype.OA=function(){return this.vA&&this.lx.length>0&&this.getVisible()},i.prototype.ee=function(t,i){t.Oi(i),this.Yn.Fn()},i.prototype.ie=function(){if(this.vx||this.scale.dr()){var t=Wl(this.lx,this.scale),i=Zn(t);this.yx?(t.push(sv({},t[0])),this.mx.Nf(!0)):this.mx.Nf(!1),this.mx.zi().lf(t).ki(i),this.vx=!1,this.mx.Io()}},i.prototype.re=function(){return{stroke:this.vc}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(Gl),uv=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hv=function(t){function i(i,n,r,e,o,s,a,u,h){var f=t.call(this)||this;return f.mi=xn(),f.fi=!1,f.j=new Nt,f.xx=e,f.Sx=o,f.wx=s,f.Mx=a,f.Cx=u,f.Yn=i,f.scale=n,f.Tx=r,f.xi=h,f}return uv(i,t),i.prototype.kx=function(t){this._x=t},i.prototype.setHighlight=function(t){var i=vn(t);return this.Ox=i<=0?void 0:i,this._x&&this._x.Oi(i),this.j.D("highlightchange",{highlight:i}),this},i.prototype.dispose=function(){return this.Tx&&this.Tx(this),this.Yn.Ai.Fn(),this.j.D("dispose",{}),this.fi=!0,this},i.prototype.setVisible=function(i){return t.prototype.setVisible.call(this,i),this.wx(),this.Yn.Ai.Fn(),this},i.prototype.isDisposed=function(){return this.fi},i.prototype.setPointerEvents=function(t){return this.Mx(this,t),this},i.prototype.getPointerEvents=function(){return this.Cx(this)},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(Fs),fv=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cv=function(){return cv=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},cv.apply(this,arguments)},lv=function(t){function i(i,n,r,e,o,s,a,u,h,f,c,l,v,y,A,b,p,m){var g=t.call(this,n,r,e,o,s,a,u,h,m)||this;return g.Fx=1,g.Ix=1,g.Sb=i,g.Yn=n,g.scale=r,g.dimensionStrategy=f,g.start=c,g.end=l,g.lowerExtreme=v,g.lowerQuartile=y,g.median=A,g.upperQuartile=b,g.upperExtreme=p,g.boundaries=d(g.dimensionStrategy.toPoint(c,v),g.dimensionStrategy.toPoint(l,p)),g.jx=g.xi.boxSeriesBodyFillStyle,g.Bx=g.xi.boxSeriesBodyStrokeStyle,g.vc=g.xi.boxSeriesStrokeStyle,g.Dx=g.xi.boxSeriesMedianStrokeStyle,g.Io(),g}return fv(i,t),i.prototype.Ji=function(t,i){var n=this.Sb.Wn.toPoint((this.start+this.end)/2,this.median);return cv(cv({cursorPosition:{resultTable:n,resultTableScale:this.scale,pointMarker:n,pointMarkerScale:{x:this.Sb.axisX,y:this.Sb.axisY}}},n),{figure:this,start:this.start,end:this.end,lowerExtreme:this.lowerExtreme,lowerQuartile:this.lowerQuartile,median:this.median,upperQuartile:this.upperQuartile,upperExtreme:this.upperExtreme,series:this.Sb,axisX:this.Sb.axisX,axisY:this.Sb.axisY})},i.prototype.Lx=function(){return this.boundaries},i.prototype.setBodyWidth=function(t){return this.Fx=t,this.Io(),this},i.prototype.getBodyWidth=function(){return this.Fx},i.prototype.setBodyFillStyle=function(t){return this.jx="function"==typeof t?t(this.jx):t,this.Sx(),this},i.prototype.getBodyFillStyle=function(){return this.jx},i.prototype.setBodyStrokeStyle=function(t){return this.Bx="function"==typeof t?t(this.Bx):t,this.Sx(),this},i.prototype.getBodyStrokeStyle=function(){return this.Bx},i.prototype.setTailWidth=function(t){return this.Ix=t,this.Io(),this},i.prototype.getTailWidth=function(){return this.Ix},i.prototype.setStrokeStyle=function(t){return this.vc="function"==typeof t?t(this.vc):t,this.Sx(),this},i.prototype.getStrokeStyle=function(){return this.vc},i.prototype.setMedianStrokeStyle=function(t){return this.Dx="function"==typeof t?t(this.Dx):t,this.Sx(),this},i.prototype.getMedianStrokeStyle=function(){return this.Dx},i.prototype.Io=function(){this.xx()},i.prototype.getDominantStyle=function(){return this.getBodyFillStyle()},i}(hv),vv=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dv=function(t){function i(i,n,r,e,o,s,a,u,h,f){var c=t.call(this,i,n,h,f)||this;return c.Un=!0,c.vn=new Map,c.chart=i,c.Yn=r,c.axisX=e,c.axisY=o,c.axisXAttachHandler=s,c.axisYAttachHandler=a,c.scale=Qr(e.ai,o.ai),c.Ex=i.Px,i.Px+=1,c.zx(c.scale),c.attacheAxis(),c}return vv(i,t),Object.defineProperty(i.prototype,"xAxis",{get:function(){return this.axisX},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"yAxis",{get:function(){return this.axisY},enumerable:!1,configurable:!0}),i.prototype.Hu=function(){var t,i,n=Array.from(this.vn.keys());try{for(var r=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e=r.next();!e.done;e=r.next()){var o=e.value.Hu();if(o)return o}}catch(i){t={error:i}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}},i.prototype.setClipping=function(t){return this.Un=t,this.Yn.Fn(),this},i.prototype.getClipping=function(){return this.Un},i.prototype.attacheAxis=function(){this.Nx=this.axisXAttachHandler(this),this.Vx=this.axisYAttachHandler(this)},i.prototype.Sn=function(i,n){t.prototype.Sn.call(this,i,n),i.Zu(this.Ex)},i.prototype.getName=function(){var t=this.xn(),i="ProgressiveY"===t||"RegressiveY"===t?this.axisX.getTitle():this.axisY.getTitle();return this.Bn||i.length>0&&i||"Series"},i.prototype.setDrawOrder=function(t){var i=this;return this.Ex=t.seriesDrawOrderIndex,this.vn.forEach((function(t,n){n.Zu(i.Ex)})),this.chart.Ai.Fn(),this},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.Nx(this),this.Vx(this),this.chart.legend.remove(this),this},i.prototype.xA=function(){t.prototype.xA.call(this),re(this.Un,Array.from(this.vn.keys()),this.scale)},i.prototype.getXMax=function(){var t;return null!==(t=this.Rx(!1))&&void 0!==t?t:0},i.prototype.getXMin=function(){var t;return null!==(t=this.Gx(!1))&&void 0!==t?t:0},i.prototype.getYMax=function(){var t;return null!==(t=this.Ux(!1))&&void 0!==t?t:0},i.prototype.getYMin=function(){var t;return null!==(t=this.Yx(!1))&&void 0!==t?t:0},i.prototype.getBoundaries=function(){return d(h(this.getXMin()||0,this.getYMin()||0),h(this.getXMax()||0,this.getYMax()||0))},i.prototype.setCursorEnabled=function(i){return t.prototype.setCursorEnabled.call(this,i)},i}(Vl),yv=function(t,i,n,r){var e=t.length,o=0;if(void 0!==i){var s=n-i;if(s>0){var a=t.slice(o,s);o+=s,r(a,!0)}}for(;o<e;){var u=t.slice(o,o+n);o+=n,r(u,!1)}},Av=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bv=function(t){function i(i,n,r,e,o,s,a,u,h,f){var c=t.call(this,i,n,r,e,o,s,a,u,h,f)||this;return c.Wx=[],c.Xx=void 0,c.Hx=!1,c.Tx=function(t){var i=c.Wx.findIndex((function(i){return i===t}));i>=0&&c.Wx.splice(i,1),c.Hx=!0,c.Xx=void 0,c.Yn.Fn()},c.xx=function(){c.Xx=void 0,c.Hx=!0,c.chart.Ai.Fn()},c.Sx=function(){c.Hx=!0,c.chart.Ai.Fn()},c.wx=function(){c.Xx=void 0,c.Hx=!0,c.chart.Ai.Fn()},c.Mx=function(t,i){c.setPointerEvents(i)},c.Zx=function(t){return c.getPointerEvents()},c.fn=yr.onHoverIndividual,c}return Av(i,t),i.prototype.getFigures=function(){return this.Wx.slice()},i.prototype.setPointerEvents=function(i){return t.prototype.setPointerEvents.call(this,i),this.vn.forEach((function(t,n){return n.setPointerEvents(i)})),this},i.prototype.kA=function(){return this.Wx.length>0},i.prototype.ie=function(){t.prototype.ie.call(this),this.Hx&&(this.Qx(this.Wx),this.Hx=!1)},i.prototype.clear=function(){return this.Wx.slice().forEach(yi),this.Wx.length=0,this.Hx=!0,this.Xx=void 0,this.Yn.Fn(),this},i.prototype.Jx=function(t,i){var n=this;void 0!==i?this.Wx.splice(i,0,t):this.Wx.push(t),this.Hx=!0,this.Kx&&this.Kx(t),this.j.Vi(t),this.Yn.Fn(),t.addEventListener("pointerenter",(function(){n.fn===yr.onHoverIndividual&&t.setHighlight(!0)})),t.addEventListener("pointerleave",(function(){n.fn===yr.onHoverIndividual&&t.setHighlight(!1)}))},i.prototype.OA=function(){return this.vA&&this.Wx.length>0&&this.getVisible()},i.prototype.setDefaultStyle=function(t){return this.Kx=t,this.Wx.forEach(t),t(this.qx),this.Hx=!0,this.chart.Ai.Fn(),this},i.prototype.setVisible=function(i){return t.prototype.setVisible.call(this,i),i!==this.getVisible()&&this.Wx.forEach((function(t){return t.setVisible(i)})),this},i.prototype.Rx=function(){return this.Xx||(this.Xx=this.$x()),this.Xx.max.x},i.prototype.Gx=function(){return this.Xx||(this.Xx=this.$x()),this.Xx.min.x},i.prototype.Ux=function(){return this.Xx||(this.Xx=this.$x()),this.Xx.max.y},i.prototype.Yx=function(){return this.Xx||(this.Xx=this.$x()),this.Xx.min.y},i.prototype.us=function(){return h(0,0)},i.prototype.$x=function(){for(var t=d(f(In,In),f(jn,jn)),i=0;i<this.Wx.length;i+=1)if(this.Wx[i].getVisible()){var n=this.Wx[i].Lx();t.min.x=Math.min(t.min.x,n.min.x),t.min.y=Math.min(t.min.y,n.min.y),t.max.x=Math.max(t.max.x,n.max.x),t.max.y=Math.max(t.max.y,n.max.y)}return t},i.prototype.re=function(){return{fill:this.Wx.length>0?this.Wx[0].getDominantStyle():this.qx.getDominantStyle()}},i}(dv),pv=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mv=function(){return mv=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},mv.apply(this,arguments)},gv=function(t){function i(i,n,r,e,o,s,a,u,h,f,c,l){var v=t.call(this,i,n,r,e,o,s,a,u,f,c)||this;return v.Bn="Box Series",v.tS=mn(),v.iS=function(t){return at(v.Wn.toPoint((t.start+t.end)/2,t.median),v.scale,v.Yn.Ai.ai)},v.j=new Nt,v.chart.Ai.pu(zs.Ta),v.Wn=h,v.qx=new lv(v,v.Yn,v.scale,v.Tx,Ai,Ai,Ai,Ai,(function(t){return!1}),v.Wn,0,0,0,0,0,0,0,v.xi).dispose(),v.nS=new Lf((function(){var t=v.Yn.Od(v.scale);return v.Sn(t,{setEventHandlers:!1,pointerEventsDisabled:!0}),t}),(function(t,i,n){return t.fe(n.strokeStyle),i.map((function(i){var n=i.existingMember||t.za();return n.Id(i.start,i.end),n}))})),v.rS=new Lf((function(){var t=v.tS.Qi(v.Yn.qA(v.scale));return v.Sn(t,{setEventHandlers:!1}),t}),(function(t,i,n){return t.$r(n.fillStyle).qr(n.strokeStyle),i.map((function(i){var n=i.existingMember||t.za();return n.wf(i.vertices),v.tS.Ki(n,i.figure),i.figure.kx(n),n}))}),(function(){v.tS.zi()}),(function(t,i){v.Cn(i)})),v}return pv(i,t),i.prototype.solveNearest=function(t,i){var n=this.chart.Ai.Uu(t),r={x:n.engineX,y:n.engineY};if(0!==this.Wx.length){var e=te(r,this.Wx.filter((function(t){return t.getVisible()})),this.iS,Un);if(e){var o=at(e[0],this.Yn.Ai.ai,this.scale);return mv(mv({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{figure:e[1],start:e[1].start,end:e[1].end,lowerExtreme:e[1].lowerExtreme,lowerQuartile:e[1].lowerQuartile,median:e[1].median,upperQuartile:e[1].upperQuartile,upperExtreme:e[1].upperExtreme,series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.Ji=function(t,i,n){if(n){var r=this.Wx.find((function(t){return t._x===n}));if(r){var e=this.Wn.toPoint((r.start+r.end)/2,r.median);return mv(mv({cursorPosition:{resultTable:e,resultTableScale:this.scale,pointMarker:e,pointMarkerScale:{x:this.axisX,y:this.axisY}}},e),{start:r.start,end:r.end,lowerExtreme:r.lowerExtreme,lowerQuartile:r.lowerQuartile,median:r.median,upperQuartile:r.upperQuartile,upperExtreme:r.upperExtreme,figure:r,series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.zx=function(t){if(!(t instanceof nt||t instanceof rt))throw new Error("BoxSeries only supports Linear Axes")},i.prototype.Qx=function(t){var i=this,n=this.rS.Xd(),r=this.nS.Xd();t.forEach((function(t){if(t.getVisible()){var e=i.Wn.toPoint((t.start+t.end-t.Fx*(t.end-t.start))/2,t.lowerQuartile),o=i.Wn.toPoint((t.end-t.start)*t.Fx,t.upperQuartile-t.lowerQuartile),s=i.Wn.toPoint((t.start+t.end)/2,t.lowerQuartile),a=i.Wn.toPoint((t.start+t.end)/2,t.lowerExtreme),u=i.Wn.toPoint((t.start+t.end)/2,t.upperQuartile),h=i.Wn.toPoint((t.start+t.end)/2,t.upperExtreme),f=i.Wn.toPoint((t.start+t.end-t.Ix*(t.end-t.start))/2,t.lowerExtreme),c=i.Wn.toPoint((t.start+t.end+t.Ix*(t.end-t.start))/2,t.lowerExtreme),l=i.Wn.toPoint((t.start+t.end-t.Ix*(t.end-t.start))/2,t.upperExtreme),v=i.Wn.toPoint((t.start+t.end+t.Ix*(t.end-t.start))/2,t.upperExtreme),d=i.Wn.toPoint((t.start+t.end-t.Fx*(t.end-t.start))/2,t.median),y=i.Wn.toPoint((t.start+t.end+t.Fx*(t.end-t.start))/2,t.median);n.add({mi:t.mi,vertices:[{x:e.x,y:e.y},{x:e.x,y:e.y+o.y},{x:e.x+o.x,y:e.y+o.y},{x:e.x+o.x,y:e.y}],figure:t},{fillStyle:t.jx,strokeStyle:t.Bx}),r.add({mi:0,start:s,end:a,figure:t},{strokeStyle:t.vc}),r.add({mi:0,start:u,end:h,figure:t},{strokeStyle:t.vc}),r.add({mi:0,start:f,end:c,figure:t},{strokeStyle:t.vc}),r.add({mi:0,start:l,end:v,figure:t},{strokeStyle:t.vc}),r.add({mi:0,start:d,end:y,figure:t},{strokeStyle:t.Dx})}})),n.finishPlot(),r.finishPlot()},i.prototype.add=function(t){var i=new lv(this,this.Yn,this.scale,this.Tx,this.xx,this.Sx,this.wx,this.Mx,this.Zx,this.Wn,t.start,t.end,t.lowerExtreme,t.lowerQuartile,t.median,t.upperQuartile,t.upperExtreme,this.xi);return this.Jx(i),this.Hx=!0,this.chart.Ai.Fn(),i},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(bv),xv=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sv=function(){return Sv=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Sv.apply(this,arguments)},wv=function(t){function i(i,n,r,e,o,s,a,u,f,c,l){var v=t.call(this,n,r,e,o,s,a,u,f,c)||this;return v.dimensions={x:0,y:0,radiusX:0,radiusY:0},v.Kh=d(h(0,0),h(0,0)),v.Sb=i,v.Yn=n,v.scale=r,v.Qr=an(c.ellipseSeriesFillStyle,l),v.Jr=an(c.ellipseSeriesStrokeStyle,l),v}return xv(i,t),i.prototype.Ji=function(t,i){var n=this.getDimensions(),r=h(n.x,n.y);return Sv(Sv(Sv(Sv({cursorPosition:{resultTable:r,resultTableScale:this.scale,pointMarker:r,pointMarkerScale:{x:this.Sb.axisX,y:this.Sb.axisY}}},r),{figure:this}),this.getDimensions()),{series:this.Sb,axisX:this.Sb.axisX,axisY:this.Sb.axisY})},i.prototype.Lx=function(){return this.Kh},i.prototype.setDimensions=function(t){return this.dimensions=t,this.Kh=d(h(t.x-t.radiusX,t.y-t.radiusY),h(t.x+t.radiusX,t.y+t.radiusY)),this.xx(),this.Yn.Fn(),this},i.prototype.getDimensions=function(){return this.dimensions},i.prototype.setFillStyle=function(t){return this.Qr="function"==typeof t?t(this.Qr):t,this.Sx(),this},i.prototype.getFillStyle=function(){return this.Qr},i.prototype.setStrokeStyle=function(t){return this.Jr="function"==typeof t?t(this.Jr):t,this.Sx(),this},i.prototype.getStrokeStyle=function(){return this.Jr},i.prototype.getDominantStyle=function(){return this.Qr},i}(hv),Mv=function(t){function i(i,n,r,e,o,s,a,u,f,c,l){var v=t.call(this,i,n,r,e,o,s,a,u,f,c)||this;return v.Bn="Ellipse Series",v.tS=mn(),v.iS=function(t){var i=t.getDimensions(),n=h(i.x,i.y);return at(n,v.scale,v.Yn.Ai.ai)},v.j=new Nt,v.chart.Ai.pu(zs.Ta),v.eS=l,v.qx=new wv(v,v.Yn,v.scale,Ai,Ai,Ai,Ai,Ai,(function(t){return!1}),v.xi,v.eS).dispose(),v.rS=new Lf((function(){var t=v.tS.Qi(v.Yn.qA(v.scale));return v.Sn(t,{setEventHandlers:!1}),t}),(function(t,i,n){return t.$r(n.fillStyle).qr(n.strokeStyle),i.map((function(i){var n=i.existingMember||t.za();return n.wf(i.vertices),v.tS.Ki(n,i.figure),i.figure.kx(n),n}))}),(function(){v.tS.zi()}),(function(t,i){v.Cn(i)})),v}return xv(i,t),i.prototype.solveNearest=function(t,i){var n=this.chart.Ai.Uu(t),r={x:n.engineX,y:n.engineY};if(0!==this.Wx.length){var e=te(r,this.Wx.filter((function(t){return t.getVisible()})),this.iS,Un);if(e){var o=at(e[0],this.Yn.Ai.ai,this.scale);return Sv(Sv(Sv(Sv({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{figure:e[1]}),e[1].getDimensions()),{series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.Ji=function(t,i,n){if(n){var r=this.Wx.find((function(t){return t._x===n}));if(r){var e=r.getDimensions();return Sv(Sv({cursorPosition:{resultTable:e,resultTableScale:this.scale,pointMarker:e,pointMarkerScale:{x:this.axisX,y:this.axisY}}},e),{figure:r,series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.zx=function(t){if(!(t instanceof nt||t instanceof rt))throw new Error("EllipseSeries only supports Linear Axes")},i.prototype.Qx=function(t){var i=this.rS.Xd();t.forEach((function(t){if(t.getVisible()){for(var n=t.getDimensions(),r=[],e=void 0!==n.drawSteps?n.drawSteps:72,o=0;o<=e;o+=1){var s=o/e*2*Math.PI,a=n.x+n.radiusX*Math.cos(s),u=n.y+n.radiusY*Math.sin(s);r.push({x:a,y:u})}var h=t.getFillStyle(),f=t.getStrokeStyle();i.add({mi:t.mi,vertices:r,figure:t},{fillStyle:h,strokeStyle:f})}})),i.finishPlot()},i.prototype.add=function(t){var i=new wv(this,this.Yn,this.scale,this.Tx,this.xx,this.Sx,this.wx,this.Mx,this.Zx,this.xi,this.eS).setDimensions(t);return this.Jx(i),this.Hx=!0,this.chart.Ai.Fn(),i},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(bv),Cv=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tv=function(){return Tv=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Tv.apply(this,arguments)},kv=function(t){function i(i,n,r,e,o,s,a,u,h,f,c){var l=t.call(this,n,r,e,o,s,a,u,h,f)||this;return l.oS=[],l.Kh=Bn,l.Sb=i,l.Yn=n,l.scale=r,l.Qr=an(f.polygonSeriesFillStyle,c),l.Jr=an(f.polygonSeriesStrokeStyle,c),l}return Cv(i,t),i.prototype.Ji=function(t,i){var n=this.Lx(),r=h((n.min.x+n.max.x)/2,(n.min.y+n.max.y)/2);return Tv(Tv({cursorPosition:{resultTable:r,resultTableScale:this.scale,pointMarker:r,pointMarkerScale:{x:this.Sb.axisX,y:this.Sb.axisY}}},r),{figure:this,coordinates:this.getDimensions(),series:this.Sb,axisX:this.Sb.axisX,axisY:this.Sb.axisY})},i.prototype.Lx=function(){return this.Kh},i.prototype.setDimensions=function(t){return this.oS=t,this.Kh=Zn(this.oS),this.xx(),this.Yn.Fn(),this},i.prototype.getDimensions=function(){return this.oS},i.prototype.setFillStyle=function(t){return this.Qr="function"==typeof t?t(this.Qr):t,this.Sx(),this},i.prototype.getFillStyle=function(){return this.Qr},i.prototype.setStrokeStyle=function(t){return this.Jr="function"==typeof t?t(this.Jr):t,this.Sx(),this},i.prototype.getStrokeStyle=function(){return this.Jr},i.prototype.getDominantStyle=function(){return this.Qr},i}(hv),_v=function(t){function i(i,n,r,e,o,s,a,u,f,c,l){var v=t.call(this,i,n,r,e,o,s,a,u,f,c)||this;return v.Bn="Polygon Series",v.tS=mn(),v.iS=function(t){var i=t.Lx(),n=h((i.min.x+i.max.x)/2,(i.min.y+i.max.y)/2);return at(n,v.scale,v.Yn.Ai.ai)},v.j=new Nt,v.chart.Ai.pu(zs.Ta),v.eS=l,v.qx=new kv(v,v.Yn,v.scale,Ai,Ai,Ai,Ai,Ai,(function(t){return!1}),v.xi,v.eS).dispose(),v.rS=new Lf((function(){var t=v.tS.Qi(v.Yn.qA(v.scale));return v.Sn(t,{setEventHandlers:!1}),t}),(function(t,i,n){return t.$r(n.fillStyle).qr(n.strokeStyle),i.map((function(i){var n=i.existingMember||t.za();return n.wf(i.vertices),v.tS.Ki(n,i.figure),i.figure.kx(n),n}))}),(function(){v.tS.zi()}),(function(t,i){v.Cn(i)})),v}return Cv(i,t),i.prototype.solveNearest=function(t,i){var n=this.chart.Ai.Uu(t),r={x:n.engineX,y:n.engineY};if(0!==this.Wx.length){var e=te(r,this.Wx.filter((function(t){return t.getVisible()})),this.iS,Un);if(e){var o=at(e[0],this.Yn.Ai.ai,this.scale);return Tv(Tv({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{figure:e[1],coordinates:e[1].getDimensions(),series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.Ji=function(t,i,n){if(n){var r=this.Wx.find((function(t){return t._x===n}));if(r){var e=r.Lx(),o=h((e.min.x+e.max.x)/2,(e.min.y+e.max.y)/2);return Tv(Tv({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{coordinates:r.getDimensions(),figure:r,series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.zx=function(t){},i.prototype.Qx=function(t){var i=this.rS.Xd();t.forEach((function(t){if(t.getVisible()){var n=t.getDimensions(),r=t.getFillStyle(),e=t.getStrokeStyle();i.add({mi:t.mi,vertices:n,figure:t},{fillStyle:r,strokeStyle:e})}})),i.finishPlot()},i.prototype.add=function(t){var i=new kv(this,this.Yn,this.scale,this.Tx,this.xx,this.Sx,this.wx,this.Mx,this.Zx,this.xi,this.eS).setDimensions(t);return this.Jx(i),this.Hx=!0,this.chart.Ai.Fn(),i},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(bv),Ov=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fv=function(){return Fv=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Fv.apply(this,arguments)},Iv=function(t){function i(i,n,r,e,o,s,a,u,f,c,l){var v=t.call(this,n,r,e,o,s,a,u,f,c)||this;return v.sS={x:0,y:0,width:0,height:0},v.aS={x1:0,y1:0,x2:0,y2:0},v.Kh=d(h(0,0),h(0,0)),v.Sb=i,v.Qr=an(c.rectangleSeriesFillStyle,l),v.Yn=n,v.scale=r,v.Jr=an(c.rectangleSeriesStrokeStyle,l),v}return Ov(i,t),i.prototype.setCornerRadius=function(t){return this.uS=t,this.xx(),this},i.prototype.getCornerRadius=function(){return this.uS},i.prototype.Ji=function(t,i){var n=this.getDimensionsPositionAndSize(),r=h(n.x+n.width/2,n.y+n.height/2);return Fv(Fv(Fv(Fv({cursorPosition:{resultTable:r,resultTableScale:this.scale,pointMarker:r,pointMarkerScale:{x:this.Sb.axisX,y:this.Sb.axisY}}},r),{figure:this,positionAndSize:this.getDimensionsPositionAndSize()}),this.getDimensionsTwoPoints()),{series:this.Sb,axisX:this.Sb.axisX,axisY:this.Sb.axisY})},i.prototype.Lx=function(){return this.Kh},i.prototype.setDimensions=function(t){return"x"in t?(this.sS=t,this.aS={x1:t.x,y1:t.y,x2:t.x+t.width,y2:t.y+t.height}):(this.aS=t,this.sS={x:t.x1,y:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}),this.Kh=Zn([this.sS,h(this.sS.x+this.sS.width,this.sS.y+this.sS.height)]),this.xx(),this.Yn.Fn(),this},i.prototype.getDimensionsPositionAndSize=function(){return this.sS},i.prototype.getDimensionsTwoPoints=function(){return this.aS},i.prototype.setFillStyle=function(t){return this.Qr="function"==typeof t?t(this.Qr):t,this.Sx(),this},i.prototype.getFillStyle=function(){return this.Qr},i.prototype.setStrokeStyle=function(t){return this.Jr="function"==typeof t?t(this.Jr):t,this.Sx(),this},i.prototype.getStrokeStyle=function(){return this.Jr},i.prototype.getDominantStyle=function(){return this.Qr},i}(hv),jv=function(t){function i(i,n,r,e,o,s,a,u,f,c,l,v){var d=t.call(this,i,n,r,e,o,s,a,u,f,c)||this;return d.Bn="Rectangle Series",d.hS=mn(),d.fS="xy",d.iS=function(t){var i=t.getDimensionsPositionAndSize(),n=h(i.x+i.width/2,i.y+i.height/2);return at(n,d.scale,d.Yn.Ai.ai)},d.j=new Nt,d.chart.Ai.pu(zs.Ta),d.eS=l,d.xu=v,d.qx=new Iv(d,d.Yn,d.scale,Ai,Ai,Ai,Ai,Ai,(function(t){return!1}),d.xi,d.eS).dispose(),d.cS=new Lf((function(){var t=d.hS.Qi(d.Yn.Ml(d.scale));return d.Sn(t,{setEventHandlers:!1}),t}),(function(t,i,n){return t.$r(n.fillStyle).qr(n.strokeStyle),i.map((function(i){var n=i.existingMember||t.za();return n._l(i.x1,i.y1,i.x2,i.y2).kl(i.roundedCorners?{extent:i.roundedCorners,c_x1_y1:!0,c_x1_y2:!0,c_x2_y1:!0,c_x2_y2:!0}:void 0),d.hS.Ki(n,i.figure),i.figure.kx(n),n}))}),(function(){d.hS.zi()}),(function(t,i){d.Cn(i)})),d}return Ov(i,t),i.prototype.lS=function(){var t,i,n,r,e,o=void 0,s=void 0;if(!(null===(n=this.xu)||void 0===n?void 0:n.solvePlane)&&this.Wx.length>=3){var a=void 0;try{for(var u=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.Wx),h=u.next();!h.done;h=u.next()){var f=h.value.getDimensionsPositionAndSize(),c={x:f.x+f.width/2,y:f.y+f.height/2};if(a){var l=c.x-a.x,v=0===l?o:l>0?"progressive":"regressive";o=null===o?null:void 0===o?v:v!==o?null:o;var d=c.y-a.y,y=0===d?s:d>0?"progressive":"regressive";s=null===s?null:void 0===s?y:y!==s?null:s}a=c}}catch(i){t={error:i}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(t)throw t.error}}}var A=null!==(e=null===(r=this.xu)||void 0===r?void 0:r.solvePlane)&&void 0!==e?e:o?"x":s?"y":"xy";this.fS=A},i.prototype.xn=function(){return"x"===this.fS?"ProgressiveX":"y"===this.fS?"ProgressiveY":void 0},i.prototype.solveNearest=function(t,i){var n=this.chart.Ai.Uu(t),r={x:n.engineX,y:n.engineY};if(0!==this.Wx.length){var e="x"===this.fS?function(t,i){return Math.abs(t.x-i.x)}:"y"===this.fS?function(t,i){return Math.abs(t.y-i.y)}:Un,o=te(r,this.Wx.filter((function(t){return t.getVisible()})),this.iS,e);if(o){var s=at(r,this.Yn.Ai.ai,this.scale);if(("x"!==this.fS||Gn(s.x,this.getXMin(),this.getXMax()))&&("y"!==this.fS||Gn(s.y,this.getYMin(),this.getYMax()))){var a=at(o[0],this.Yn.Ai.ai,this.scale);return Fv(Fv(Fv(Fv({cursorPosition:{resultTable:a,resultTableScale:this.scale,pointMarker:a,pointMarkerScale:{x:this.axisX,y:this.axisY}}},a),{figure:o[1],positionAndSize:o[1].getDimensionsPositionAndSize()}),o[1].getDimensionsTwoPoints()),{series:this,axisX:this.axisX,axisY:this.axisY})}}}},i.prototype.Ji=function(t,i,n){if(n){var r=this.Wx.find((function(t){return t._x===n}));if(r){var e=r.getDimensionsPositionAndSize(),o=h(e.x+e.width/2,e.y+e.height/2);return Fv(Fv(Fv(Fv({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{positionAndSize:r.getDimensionsPositionAndSize()}),r.getDimensionsTwoPoints()),{figure:r,series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.zx=function(t){},i.prototype.Qx=function(t){var i=this.cS.Xd();t.forEach((function(t){if(t.getVisible()){var n=t.getDimensionsTwoPoints(),r=t.getFillStyle(),e=t.getStrokeStyle();i.add(Fv({mi:t.mi,figure:t,roundedCorners:t.uS},n),{fillStyle:r,strokeStyle:e})}})),i.finishPlot(),this.lS()},i.prototype.add=function(t){var i=new Iv(this,this.Yn,this.scale,this.Tx,this.xx,this.Sx,this.wx,this.Mx,this.Zx,this.xi,this.eS).setDimensions(t);return this.Jx(i),this.Hx=!0,this.chart.Ai.Fn(),i},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(bv),Bv=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dv=function(){return Dv=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Dv.apply(this,arguments)},Lv=function(t){function i(i,n,r,e,o,s,a,u,f,c,l){var v=t.call(this,n,r,e,o,s,a,u,f,c)||this;return v.dimensions={startX:0,startY:0,endX:0,endY:0},v.Kh=d(h(0,0),h(0,0)),v.Sb=i,v.xi=c,v.Yn=n,v.scale=r,v.Jr=an(c.segmentSeriesStrokeStyle,l),v}return Bv(i,t),i.prototype.Ji=function(t,i){var n=this.getDimensions(),r=h((n.startX+n.endX)/2,(n.startY+n.endY)/2);return Dv(Dv(Dv(Dv({cursorPosition:{resultTable:r,resultTableScale:this.scale,pointMarker:r,pointMarkerScale:{x:this.Sb.axisX,y:this.Sb.axisY}}},r),{figure:this}),this.getDimensions()),{series:this.Sb,axisX:this.Sb.axisX,axisY:this.Sb.axisY})},i.prototype.Lx=function(){return this.Kh},i.prototype.setDimensions=function(t){return this.dimensions=t,this.Kh=d(h(Math.min(t.startX,t.endX),Math.min(t.startY,t.endY)),h(Math.max(t.startX,t.endX),Math.max(t.startY,t.endY))),this.xx(),this.Yn.Fn(),this},i.prototype.getDimensions=function(){return this.dimensions},i.prototype.setStrokeStyle=function(t){return this.Jr="function"==typeof t?t(this.Jr):t,this.Sx(),this},i.prototype.getStrokeStyle=function(){return this.Jr},i.prototype.getDominantStyle=function(){var t=this.Jr;return t!==qt?t.getFillStyle():Vr},i}(hv),Ev=function(t){function i(i,n,r,e,o,s,a,u,f,c,l){var v=t.call(this,i,n,r,e,o,s,a,u,f,c)||this;return v.Bn="Segment Series",v.vS=mn(),v.iS=function(t){var i=t.getDimensions(),n=h((i.startX+i.endX)/2,(i.startY+i.endY)/2);return at(n,v.scale,v.Yn.Ai.ai)},v.j=new Nt,v.chart.Ai.pu(zs.Ta),v.eS=l,v.qx=new Lv(v,v.Yn,v.scale,Ai,Ai,Ai,Ai,Ai,(function(t){return!1}),v.xi,v.eS).dispose(),v.nS=new Lf((function(){var t=v.vS.Qi(v.Yn.Od(v.scale));return v.Sn(t,{setEventHandlers:!1}),t}),(function(t,i,n){return t.fe(n.strokeStyle),i.map((function(i){var n=i.existingMember||t.za();return n.Id(i.start,i.end),v.vS.Ki(n,i.figure),i.figure.kx(n),n}))}),(function(){v.vS.zi()}),(function(t,i){v.Cn(i)})),v}return Bv(i,t),i.prototype.solveNearest=function(t,i){var n=this.chart.Ai.Uu(t),r={x:n.engineX,y:n.engineY};if(0!==this.Wx.length){var e=te(r,this.Wx.filter((function(t){return t.getVisible()})),this.iS,Un);if(e){var o=at(e[0],this.Yn.Ai.ai,this.scale);return Dv(Dv(Dv(Dv({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{figure:e[1]}),e[1].getDimensions()),{series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.Ji=function(t,i,n){if(n){var r=this.Wx.find((function(t){return t._x===n}));if(r){var e=r.getDimensions(),o=h((e.startX+e.endX)/2,(e.startY+e.endY)/2);return Dv(Dv(Dv({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),e),{figure:r,series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.zx=function(t){},i.prototype.Qx=function(t){var i=this.nS.Xd();t.forEach((function(t){if(t.getVisible()){var n=t.getDimensions(),r={x:n.startX,y:n.startY},e={x:n.endX,y:n.endY},o=t.getStrokeStyle();i.add({mi:t.mi,start:r,end:e,figure:t},{strokeStyle:o})}})),i.finishPlot()},i.prototype.add=function(t){var i=new Lv(this,this.Yn,this.scale,this.Tx,this.xx,this.Sx,this.wx,this.Mx,this.Zx,this.xi,this.eS).setDimensions(t);return this.Jx(i),this.Hx=!0,this.chart.Ai.Fn(),i},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(bv),Pv=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zv=function(){return zv=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},zv.apply(this,arguments)},Nv={x:0,y:0},Vv=function(t){function i(i,n,r,e,o,s,a,u,h,f,c){var l,v=this;return(v=t.call(this,n,r,e,o,s,a,u,h,f)||this).uh="Text",v.Ya=Nv,v.cv=Nv,v.ph=0,v.ot=gn,v.Sb=i,v.Qr=f.textSeriesFillStyle?an(f.textSeriesFillStyle,c):f.uiTextFillStyle,v.Hs=null!==(l=f.textSeriesFont)&&void 0!==l?l:f.uiTextFont,v.Hh=v.Yn.ps(r,!1).Yo(f.textSeriesShadow),v.Hh.hh=!0,v.j.Pi(v.Hh,{getExtraData:function(t,i,n){return v.Ji(n,t)}}),v.addEventListener("dispose",(function(){return v.Hh.dispose()})),v}return Pv(i,t),i.prototype.Ji=function(t,i){var n=this.Ya;return zv(zv({cursorPosition:{resultTable:n,resultTableScale:this.scale,pointMarker:n,pointMarkerScale:{x:this.Sb.axisX,y:this.Sb.axisY}}},n),{figure:this,series:this.Sb,axisX:this.Sb.axisX,axisY:this.Sb.axisY})},i.prototype.Lx=function(){return{min:{x:this.Ya.x,y:this.Ya.y},max:{x:this.Ya.x,y:this.Ya.y}}},i.prototype.dS=function(){this.Hh.Wo(this.uh).ne(this.Ya).Uh(this.cv).po(this.ph).As(this.ot).$r(this.Qr).bo(this.Hs)},i.prototype.getSizePixels=function(){return this.dS(),this.Hh.Io().Oc()},i.prototype.getBoundingBox=function(){return this.dS(),this.Hh.Io().Tc()},i.prototype.setText=function(t){return this.uh=t,this.xx(),this},i.prototype.getText=function(){return this.uh},i.prototype.setLocation=function(t){return this.Ya=t,this.xx(),this},i.prototype.getLocation=function(){return this.Ya},i.prototype.setAlignment=function(t){return this.cv=t,this.xx(),this},i.prototype.getAlignment=function(){return this.cv},i.prototype.setRotation=function(t){return this.ph=t,this.xx(),this},i.prototype.getRotation=function(){return this.ph},i.prototype.setMargin=function(t){return this.ot=m(this.ot,t),this.xx(),this},i.prototype.getMargin=function(){return this.ot},i.prototype.setLabelShadow=function(t){return this.Hh.Yo(t),this.Yn.Fn(),this},i.prototype.getLabelShadow=function(){return this.Hh.Lh()},i.prototype.setFillStyle=function(t){return this.Qr="function"==typeof t?t(this.Qr):t,this.Sx(),this},i.prototype.getFillStyle=function(){return this.Qr},i.prototype.setFont=function(t){return this.Hs="function"==typeof t?t(this.Hs):t,this.Sx(),this},i.prototype.getFont=function(){return this.Hs},i.prototype.getDominantStyle=function(){return this.Qr},i}(hv),Rv=function(t){function i(i,n,r,e,o,s,a,u,h,f,c){var l=t.call(this,i,n,r,e,o,s,a,u,h,f)||this;return l.Bn="Text Series",l.iS=function(t){return at(t.getLocation(),l.scale,l.Yn.Ai.ai)},l.j=new Nt,l.eS=c,l.qx=new Vv(l,l.Yn,l.scale,Ai,Ai,Ai,Ai,Ai,(function(t){return!1}),l.xi,l.eS).dispose(),l}return Pv(i,t),i.prototype.zx=function(t){},i.prototype.Qx=function(t){t.forEach((function(t){t.dS(),t.Hh.setVisible(t.getVisible())}))},i.prototype.add=function(t){var i=new Vv(this,this.Yn,this.scale,this.Tx,this.xx,this.Sx,this.wx,this.Mx,this.Zx,this.xi,this.eS);return(null==t?void 0:t.alignment)&&i.setAlignment(t.alignment),(null==t?void 0:t.fillStyle)&&i.setFillStyle(t.fillStyle),(null==t?void 0:t.font)&&i.setFont(t.font),(null==t?void 0:t.location)&&i.setLocation(t.location),(null==t?void 0:t.margin)&&i.setMargin(t.margin),void 0!==(null==t?void 0:t.rotation)&&i.setRotation(t.rotation),(null==t?void 0:t.text)&&i.setText(t.text),this.Jx(i),this.Hx=!0,this.Sn(i.Hh,{setEventHandlers:!1,isText:!0}),this.chart.Ai.Fn(),this.j.Pi(i.Hh,{getExtraData:function(t,n,r){return i.Ji(r,t)}}),i},i.prototype.Ji=function(t,i,n){var r=this;return wn({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,multiHit:0,figure:0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},i.prototype.solveNearest=function(t,i){var n=this.chart.Ai.Uu(t),r={x:n.engineX,y:n.engineY};if(0!==this.Wx.length){var e=te(r,this.Wx.filter((function(t){return t.getVisible()})),this.iS,Un);if(e){var o=at(e[0],this.Yn.Ai.ai,this.scale);return zv(zv({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{figure:e[1],series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(bv),Gv=function(t,i){for(var n=0,r=[];n<t;){var e=n,o=i,s=n>0;o-=s?1:0,o-=n+o<t?1:0;var a=Math.min(o,t-e),u=n-(s?1:0),h={start:u,startUnique:e,sizeData:Math.min(i,t-u),sizeUniqueData:a};r.push(h),n+=a}return r},Uv=function(t,i){for(var n=0,r=[];n<t;){var e=n,o=i,s=n>0;o-=s?1:0,o-=0;var a=Math.min(o,t-e),u=n-(s?1:0),h={start:u,startUnique:e,sizeData:Math.min(i,t-u),sizeUniqueData:a};r.push(h),n+=a}return r},Yv=function(t,i,n,r){if(n){var e=new Map;return i.gridTiles.forEach((function(t){e.set(t,{type:n,dataInvalidationRanges:[{tileInvalidationOffset:{primary:0,secondary:0},tileInvalidationLength:t.sizeHeatmapDataVectors}]})})),e}for(var o=new Map,s=function(n){var e=t[n],s={x:e.startPrimary,y:e.startSecondary},a={x:s.x+e.lengthPrimary-1,y:s.y+e.lengthSecondary-1},u=[s,{x:a.x,y:s.y},a,{x:s.x,y:a.y}];i.gridTiles.forEach((function(t){var i=t.iFirstVector,n=r(t),s={x:i.primary+n.primary-1,y:i.secondary+n.secondary-1},a=[{x:i.primary,y:i.secondary},{x:s.x,y:i.secondary},s,{x:i.primary,y:s.y}];if(Pn(u,a)){var f=o.get(t);f||(f={type:e.type,dataInvalidationRanges:[]},o.set(t,f));for(var c,l,v=(c=u,l=a,d(h(Math.max(Math.min(c[0].x,c[2].x),Math.min(l[0].x,l[2].x)),Math.max(Math.min(c[0].y,c[2].y),Math.min(l[0].y,l[2].y))),h(Math.min(Math.max(c[0].x,c[2].x),Math.max(l[0].x,l[2].x)),Math.min(Math.max(c[0].y,c[2].y),Math.max(l[0].y,l[2].y))))),y={primary:v.min.x-i.primary,secondary:v.min.y-i.secondary},A={primary:1+v.max.x-v.min.x,secondary:1+v.max.y-v.min.y},b=!1,p=[{x:y.primary,y:y.secondary},{x:y.primary+A.primary,y:y.secondary},{x:y.primary+A.primary,y:y.secondary+A.secondary},{x:y.primary,y:y.secondary+A.secondary}],m=0;m<f.dataInvalidationRanges.length;m+=1)if(!b){var g=f.dataInvalidationRanges[m],x=[{x:g.tileInvalidationOffset.primary,y:g.tileInvalidationOffset.secondary},{x:g.tileInvalidationOffset.primary+g.tileInvalidationLength.primary,y:g.tileInvalidationOffset.secondary},{x:g.tileInvalidationOffset.primary+g.tileInvalidationLength.primary,y:g.tileInvalidationOffset.secondary+g.tileInvalidationLength.secondary},{x:g.tileInvalidationOffset.primary,y:g.tileInvalidationOffset.secondary+g.tileInvalidationLength.secondary}];if(Pn(p,x)){var S=zn(p,x);g.tileInvalidationOffset.primary=S.min.x,g.tileInvalidationOffset.secondary=S.min.y,g.tileInvalidationLength.primary=S.max.x-S.min.x,g.tileInvalidationLength.secondary=S.max.y-S.min.y,b=!0}}b||f.dataInvalidationRanges.push({tileInvalidationLength:A,tileInvalidationOffset:y})}}))},a=0;a<t.length;a+=1)s(a);return o},Wv=function(t){return qa(t)||Array.isArray(t)&&"number"==typeof t[0]},Xv=function(t){return!Wv(t)&&Array.isArray(t)},Hv=function(t,i,n,r){if(1!==t.length||0!==i.startPrimary||0!==i.startSecondary||i.lengthPrimary!==t[0].sizeHeatmapDataVectors.primary||i.lengthSecondary!==t[0].sizeHeatmapDataVectors.secondary)t.forEach((function(t){var r=n(t),e=Math.max(i.startPrimary,t.iFirstVector.primary),o=Math.min(i.startPrimary+i.lengthPrimary-1,t.iFirstVector.primary+t.sizeHeatmapDataVectors.primary-1),s=Math.max(i.startSecondary,t.iFirstVector.secondary),a=Math.min(i.startSecondary+i.lengthSecondary-1,t.iFirstVector.secondary+t.sizeHeatmapDataVectors.secondary-1);if(Xv(i.values))for(var u=e;u<=o;u+=1)for(var h=u-i.startPrimary,f=i.values[h],c=(u-t.iFirstVector.primary)*t.sizeHeatmapDataVectors.secondary,l=s;l<=a;l+=1){var v=l-i.startSecondary,d=l-t.iFirstVector.secondary,y=f[v];r[c+d]=y}else for(u=e;u<=o;u+=1)for(h=u-i.startPrimary,c=(u-t.iFirstVector.primary)*t.sizeHeatmapDataVectors.secondary,l=s;l<=a;l+=1){v=l-i.startSecondary,d=l-t.iFirstVector.secondary;var A=h*i.lengthSecondary+v;y=i.values[A],r[c+d]=y}}));else{var e=t[0],o=n(e);if(Xv(i.values))for(var s=0;s<i.lengthPrimary;s+=1){var a=s*e.sizeHeatmapDataVectors.secondary;o.set(i.values[s],a)}else r(e,Ka(i.values)===Float32Array?i.values:new Float32Array(i.values))}},Zv=function(t,i,n){var r,e,o=null===(r=t.gl2)||void 0===r?void 0:r.ctx;if(o)return t.yS(null,o.RED,!1,!0,{x:i,y:n},!1,o.FLOAT,o.R32F);var s=t.gl;return(null===(e=t.gl1)||void 0===e?void 0:e.optional.OES_texture_float)?t.yS(null,s.LUMINANCE,!1,!0,{x:i,y:n},!1,s.FLOAT):t.yS(null,s.RGBA,!1,!0,{x:i,y:n},!1,s.UNSIGNED_BYTE)},Qv=function(t,i,n,r){i.forEach((function(i,e){var o,s,a=n(e),u=r(e),h=t.gl;h.bindTexture(h.TEXTURE_2D,u),h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);var f=null===(o=t.gl2)||void 0===o?void 0:o.ctx,c=i.dataInvalidationRanges.length,l=i.dataInvalidationRanges.reduce((function(t,i){return t+i.tileInvalidationLength.primary}),0)/e.sizeHeatmapDataVectors.primary;1===c&&l<1||l<.5&&c<10?i.dataInvalidationRanges.forEach((function(i){var n,r=i.tileInvalidationOffset.primary*e.sizeHeatmapDataVectors.secondary,o=r+i.tileInvalidationLength.primary*e.sizeHeatmapDataVectors.secondary;if(f)f.texSubImage2D(h.TEXTURE_2D,0,0,i.tileInvalidationOffset.primary,e.sizeHeatmapDataVectors.secondary,i.tileInvalidationLength.primary,f.RED,f.FLOAT,a.subarray(r,o));else if(null===(n=t.gl1)||void 0===n?void 0:n.optional.OES_texture_float)h.texSubImage2D(h.TEXTURE_2D,0,0,i.tileInvalidationOffset.primary,e.sizeHeatmapDataVectors.secondary,i.tileInvalidationLength.primary,h.LUMINANCE,h.FLOAT,a.subarray(r,o));else{var s=new Uint8Array(a.buffer).subarray(4*r,4*o);h.texSubImage2D(h.TEXTURE_2D,0,0,i.tileInvalidationOffset.primary,e.sizeHeatmapDataVectors.secondary,i.tileInvalidationLength.primary,h.RGBA,h.UNSIGNED_BYTE,s)}})):f?f.texImage2D(h.TEXTURE_2D,0,f.R32F,e.sizeHeatmapDataVectors.secondary,e.sizeHeatmapDataVectors.primary,0,f.RED,f.FLOAT,a):(null===(s=t.gl1)||void 0===s?void 0:s.optional.OES_texture_float)?h.texImage2D(h.TEXTURE_2D,0,h.LUMINANCE,e.sizeHeatmapDataVectors.secondary,e.sizeHeatmapDataVectors.primary,0,h.LUMINANCE,h.FLOAT,a):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,e.sizeHeatmapDataVectors.secondary,e.sizeHeatmapDataVectors.primary,0,h.RGBA,h.UNSIGNED_BYTE,new Uint8Array(a.buffer)),h.bindTexture(h.TEXTURE_2D,null)}))},Jv=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kv=function(t){function i(i,n,r,e,o,s,a,u,h,f,c,l){var v=t.call(this,i,n,r,e,o,s,a,u,f,c)||this;v.Bn="Heatmap Grid Series",v.AS=!0,v.sp={},v.chart.Ai.pu(zs.Ca),v.bS=h,v.xi=f;var d=l;v.Qr=an(f.heatmapGridSeriesFillStyle,d),v.ap=an(v.xi.heatmapGridSeriesWireframeStyle,d);var y={heatmapDataType:"intensity",dataOrder:h.dataOrder||"columns",columns:h.columns,rows:h.rows,pS:h.maxTileSize};return v.xu=y,v.mS=v.Yn.gS(v.scale,[],y).$r(v.Qr).up(v.ap).Oi(v.getHighlight()),v.Sn(v.mS),v.AS=!0,v.setHighlightOnHover(!1),v}return Jv(i,t),i.prototype.solveNearest=function(t,i){void 0===i&&(i="show-nearest");var n=this.chart.Ai.Uu(t),r={x:n.engineX,y:n.engineY},e=at(r,this.Yn.Ai.ai,this.scale),o=zp(i)?this.mS.xS(e):this.mS.wl(e);if(o)return{cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}},x:o.x,y:o.y,column:o.column,row:o.row,intensity:o.cellValue,series:this,axisX:this.axisX,axisY:this.axisY,lut:Zr(this.Qr)?this.Qr.lut:void 0}},i.prototype.Ji=function(t,i,n){var r=this;return wn({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,multiHit:0,intensity:0,column:0,row:0,lut:Zr(this.Qr)?this.Qr.lut:void 0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},i.prototype.fp=function(){var t,i=this.sp.start||{x:0,y:0};t=this.sp.end?{x:(this.sp.end.x-i.x)/this.xu.columns,y:(this.sp.end.y-i.y)/this.xu.rows}:this.sp.step?this.sp.step:{x:1,y:1},this.mS.cp(i,t),this.chart.Ai.Fn()},i.prototype.setStart=function(t){return this.sp.start=t,this.fp(),this},i.prototype.getStart=function(){return this.mS.lp().start},i.prototype.setStep=function(t){return this.sp.step=t,this.fp(),this},i.prototype.getStep=function(){return this.mS.lp().step},i.prototype.setEnd=function(t){return this.sp.end=t,this.fp(),this},i.prototype.getEnd=function(){return this.mS.lp().end},i.prototype.setContours=function(t){var i,n,r,e=this;return this.mS.vp(t?{showLabels:null===(i=t.showLabels)||void 0===i||i,levels:t.levels.map((function(t){var i,n,r,o,s,a;return{value:t.value,strokeStyle:null!==(n=null!==(i=t.strokeStyle)&&void 0!==i?i:e.xi.heatmapGridSeriesContourStrokeStyle)&&void 0!==n?n:new Ue({thickness:1,fillStyle:new Ur({color:w(0,0,0)})}),labelFillStyle:new Ur({color:null!==(r=t.labelColor)&&void 0!==r?r:e.xi.heatmapGridSeriesContourLabelColor}),labelFont:(s=t.labelFont,a=null!==(o=e.xi.heatmapGridSeriesContourLabelFont)&&void 0!==o?o:e.xi.uiTextFont,void 0===s?a:P(s)?s:new E(oi({size:a.size,family:a.family,variant:a.variant,type:a.type,style:a.style,weight:a.weight},s))),label:t.label}})),shadows:null!==(r=null!==(n=t.shadows)&&void 0!==n?n:this.xi.heatmapGridSeriesContourLabelShadow)&&void 0!==r?r:null}:void 0),this.Yn.Fn(),this},i.prototype.getContours=function(){return this.mS.dp()},i.prototype.OA=function(){return this.vA&&this.getVisible()},i.prototype.Rn=function(){return en(this.Qr,this.mS.Mi())},i.prototype.re=function(){return{fill:this.Qr}},i.prototype.SS=function(t){this.mS.SS().forEach((function(i){t.mS.pp(i)}))},i.prototype.Rx=function(){var t=this.mS;return t?t.Xi():void 0},i.prototype.Gx=function(){var t=this.mS;return t?t.Wi():void 0},i.prototype.Ux=function(){var t=this.mS;return t?t.Zi():void 0},i.prototype.Yx=function(){var t=this.mS;return t?t.Hi():void 0},i.prototype.us=function(){var t=h(0,0);return t.x=Math.max(t.x,this.mS.Cf()),t.y=Math.max(t.y,this.mS.Tf()),t},i.prototype.zx=function(t){if(!(t instanceof nt))throw new Error("HeatmapGridSeries can only be attached to a pair of Linear Axes.")},i.prototype.ee=function(t,i){t.Oi(i),this.Yn.Fn()},i.prototype.ie=function(){return t.prototype.ie.call(this),this.mS.ki(this.getBoundaries()),this},i}(dv),qv=function(t){function i(i,n,r,e,o,s,a,u,h,f,c,l){var v=t.call(this,i,n,r,e,o,s,a,u,h,f,c,l)||this;return v.MA=!1,v.j=new Nt,v}return Jv(i,t),i.prototype.kA=function(){return this.MA},i.prototype.invalidateIntensityValues=function(t){if(this.MA&&this.chart.Ai.pu(zs._a),qa(t)||Array.isArray(t)&&"number"==typeof t[0]){var i=this.xu.columns*this.xu.rows,n=t.length;if(i!==n)throw new Error("LightningChart JS input error | Heatmap invalidateIntensityValues received typed array whose length does not match heatmap columns x rows (received ".concat(n,", expected ").concat(i,")"));this.mS.pp({type:"intensity",lengthPrimary:"columns"===this.xu.dataOrder?this.xu.columns:this.xu.rows,lengthSecondary:"columns"===this.xu.dataOrder?this.xu.rows:this.xu.columns,startPrimary:0,startSecondary:0,values:t})}else if(Array.isArray(t)){var r=t;if(0===t.length)return this;var e={x:r.length,y:r[0].length,columns:"columns"===this.xu.dataOrder?r.length:r[0].length,rows:"rows"===this.xu.dataOrder?r.length:r[0].length},o="columns"===this.xu.dataOrder?this.xu.columns:this.xu.rows,s="columns"===this.xu.dataOrder?this.xu.rows:this.xu.columns;if(e.x>o||e.y>s){if(!0===this.chart.Uy.Su){var a="HeatmapGridSeries.invalidateIntensityValues intensity matrix overflow.\nGrid ".concat(this.xu.columns,"x").concat(this.xu.rows,", input ").concat(e.columns,"x").concat(e.rows,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");ci.console.warn(a)}for(var u=[],h=0;h<o;h+=1)u[h]=r[h].slice(0,s);r=u}this.mS.pp({type:"intensity",lengthPrimary:e.x,lengthSecondary:e.y,startPrimary:0,startSecondary:0,values:r})}else if("iColumn"in t&&"iRow"in t&&"values"in t&&Xv(t.values)){var f=t.values;if(0===t.values.length)return this;e={primary:f.length,secondary:f[0].length,columns:"columns"===this.xu.dataOrder?f.length:f[0].length,rows:"rows"===this.xu.dataOrder?f.length:f[0].length};var c=(p="columns"===this.xu.dataOrder?t.iColumn:t.iRow)+e.primary-1,l=(m="columns"===this.xu.dataOrder?t.iRow:t.iColumn)+e.secondary-1,v=("columns"===this.xu.dataOrder?this.xu.columns:this.xu.rows)-1,d=("columns"===this.xu.dataOrder?this.xu.rows:this.xu.columns)-1;if(p<0||m<0)return!0===this.chart.Uy.Su&&(a="HeatmapGridSeries.invalidateIntensityValues invalidation start below 0 not permitted.\niColumn: ".concat(t.iColumn,", iRow: ").concat(t.iRow,".\nNo intensity values will be invalidated."),ci.console.warn(a)),this;if(c>v||l>d){!0===this.chart.Uy.Su&&(a="HeatmapGridSeries.invalidateIntensityValues intensity matrix overflow.\nGrid ".concat(this.xu.columns,"x").concat(this.xu.rows,", input ").concat(e.columns,"x").concat(e.rows," starting at [").concat(t.iColumn,",").concat(t.iRow,"].\nOut of bounds data will be automatically clipped. This can result in sub-optimal performance."),ci.console.warn(a));var y=Math.max(c-v,0),A=e.primary-y,b=Math.max(l-d,0);for(u=[],h=0;h<A;h+=1)u[h]=f[h].slice(0,b>0?-b:void 0);t={iColumn:t.iColumn,iRow:t.iRow,values:u}}this.mS.pp({type:"intensity",lengthPrimary:f.length,lengthSecondary:f[0].length,startPrimary:p,startSecondary:m,values:f})}else if("iColumn"in t&&"iRow"in t&&"columns"in t&&"rows"in t&&"values"in t&&Wv(t.values)){if(f=t.values,0===t.values.length)return this;var p,m;if(e={primary:"columns"===this.xu.dataOrder?t.columns:t.rows,secondary:"columns"===this.xu.dataOrder?t.rows:t.columns,columns:t.columns,rows:t.rows},c=(p="columns"===this.xu.dataOrder?t.iColumn:t.iRow)+e.primary-1,l=(m="columns"===this.xu.dataOrder?t.iRow:t.iColumn)+e.secondary-1,v=("columns"===this.xu.dataOrder?this.xu.columns:this.xu.rows)-1,d=("columns"===this.xu.dataOrder?this.xu.rows:this.xu.columns)-1,p<0||m<0)return!0===this.chart.Uy.Su&&(a="HeatmapGridSeries.invalidateIntensityValues invalidation start below 0 not permitted.\niColumn: ".concat(t.iColumn,", iRow: ").concat(t.iRow,".\nNo intensity values will be invalidated."),ci.console.warn(a)),this;if(c>v||l>d)return!0===this.chart.Uy.Su&&(a="HeatmapGridSeries.invalidateIntensityValues intensity matrix overflow.\nGrid ".concat(this.xu.columns,"x").concat(this.xu.rows,", input ").concat(e.columns,"x").concat(e.rows," starting at [").concat(t.iColumn,",").concat(t.iRow,"].\nWith flat array input, this operation is not permitted. No intensity values will be invalidated."),ci.console.warn(a)),this;var g=e.columns*e.rows;if(f.length!==g)return!0===this.chart.Uy.Su&&(a="HeatmapGridSeries.invalidateIntensityValues invalid flat data input.\ncolumns=".concat(t.columns," rows=").concat(t.rows,", array length must be ").concat(g,", received ").concat(f.length,"\nNo intensity values will be invalidated."),ci.console.warn(a)),this;this.mS.pp({type:"intensity",lengthPrimary:e.primary,lengthSecondary:e.secondary,startPrimary:p,startSecondary:m,values:f})}return this.j.D("invalidateintensity",{value:t}),this.Yn.Fn(),this.MA=!0,this},i.prototype.setFillStyle=function(t){return this.Qr="function"==typeof t?t(this.Qr):t,this.mS.$r(this.Qr),this.j.D("stylechange",{}),this.Yn.Fn(),this},i.prototype.getFillStyle=function(){return this.Qr},i.prototype.setIntensityInterpolation=function(t){return t=t||"disabled",this.mS.Ap(t),this.Yn.Fn(),this.j.D("stylechange",{}),this},i.prototype.getIntensityInterpolation=function(){return this.mS.bp()},i.prototype.setAggregation=function(t){return this.mS.wS(t),this.Yn.Fn(),this},i.prototype.getAggregation=function(){return this.mS.MS()},i.prototype.clear=function(){return this.mS.zi(),this.Yn.Fn(),this.j.D("dataclear",{}),this},i.prototype.setWireframeStyle=function(t){return this.ap="function"==typeof t?t(this.ap):t,this.mS.up(this.ap),this.Yn.Fn(),this.j.D("stylechange",{}),this},i.prototype.getWireframeStyle=function(){return this.ap},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(Kv),$v=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),td=function(){return td=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},td.apply(this,arguments)},id=function(t){function i(i,n,r,e,o,s,a,u,h,f,c,l){var v=t.call(this,i,n,r,e,o,s,a,u,f,c)||this;v.Bn="Scrolling Heatmap Grid Series",v.sp={},v.chart.Ai.pu(zs.Ca),v.chart.Ai.pu(zs._a);var d=l;v.Qr=an(f.heatmapScrollingGridSeriesFillStyle,d),v.ap=an(v.xi.heatmapScrollingGridSeriesWireframeStyle,d);var y=td({scrollDimension:"columns",heatmapDataType:"intensity"},h);return v.xu=y,v.CS=v.Yn.TS(v.scale,[],y).$r(v.Qr).up(v.ap).Oi(v.getHighlight()),v.Sn(v.CS),v.setHighlightOnHover(!1),v}return $v(i,t),i.prototype.kA=function(){return this.CS.Mp()>0},i.prototype.solveNearest=function(t,i){void 0===i&&(i="show-nearest");var n=this.chart.Ai.Uu(t),r={x:n.engineX,y:n.engineY},e=at(r,this.Yn.Ai.ai,this.scale),o=zp(i)?this.CS.xS(e):this.CS.wl(e);if(o)return{cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}},x:o.x,y:o.y,column:o.column,row:o.row,intensity:o.cellValue,series:this,axisX:this.axisX,axisY:this.axisY,lut:Zr(this.Qr)?this.Qr.lut:void 0}},i.prototype.Ji=function(t,i,n){var r=this;return wn({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,intensity:0,multiHit:0,column:0,row:0,lut:Zr(this.Qr)?this.Qr.lut:void 0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},i.prototype.fp=function(){var t,i=this.sp.start||{x:0,y:0};t=this.sp.step?this.sp.step:{x:1,y:1},this.CS.cp(i,t),this.chart.Ai.Fn()},i.prototype.setStart=function(t){return this.sp.start=t,this.fp(),this},i.prototype.getStart=function(){return this.CS.lp().start},i.prototype.setStep=function(t){return this.sp.step=t,this.fp(),this},i.prototype.getStep=function(){return this.CS.lp().step},i.prototype.clear=function(){return this.CS.zi(),this.Yn.Fn(),this},i.prototype.setAggregation=function(t){return this.CS.wS(t),this.Yn.Fn(),this},i.prototype.getAggregation=function(){return this.CS.MS()},i.prototype.setWireframeStyle=function(t){return this.ap="function"==typeof t?t(this.ap):t,this.CS.up(this.ap),this.Yn.Fn(),this},i.prototype.getWireframeStyle=function(){return this.ap},i.prototype.setIntensityInterpolation=function(t){return t=t||"disabled",this.CS.Ap(t),this.Yn.Fn(),this},i.prototype.getIntensityInterpolation=function(){return this.CS.bp()},i.prototype.setPixelInterpolationMode=function(t){return this.setIntensityInterpolation(t),this},i.prototype.getPixelInterpolationMode=function(){return this.getIntensityInterpolation()},i.prototype.setDataCleaning=function(t){return this.CS.kS(t),this.Yn.Fn(),this},i.prototype.OA=function(){return this.vA&&this.getVisible()},i.prototype.Rn=function(){return en(this.Qr,this.CS.Mi())},i.prototype.re=function(){return{fill:this.Qr}},i.prototype.$r=function(t){return this.Qr="function"==typeof t?t(this.Qr):t,this.CS.$r(this.Qr),this.Yn.Fn(),this},i.prototype.zx=function(t){if(!(t instanceof nt))throw new Error("HeatmapScrollingGridSeries can only be attached to a pair of Linear Axes.")},i.prototype.Rx=function(){return this.CS.Xi()||0},i.prototype.Gx=function(){return this.CS.Wi()||0},i.prototype.Ux=function(){return this.CS.Zi()||0},i.prototype.Yx=function(){return this.CS.Hi()||0},i.prototype.us=function(){var t=h(0,0);return t.x=Math.max(t.x,this.CS.Cf()),t.y=Math.max(t.y,this.CS.Tf()),t},i.prototype.ee=function(t,i){t.Oi(i),this.Yn.Fn()},i}(dv),nd=function(t){function i(i,n,r,e,o,s,a,u,h,f,c,l){var v=t.call(this,i,n,r,e,o,s,a,u,h,f,c,l)||this;return v.j=new Nt,v}return $v(i,t),i.prototype.addIntensityValues=function(t){if(0===t.length||0===t[0].length)return this;var i={primary:t.length,secondary:t[0].length,columns:"columns"===this.xu.scrollDimension?t.length:t[0].length,rows:"rows"===this.xu.scrollDimension?t.length:t[0].length},n=0+i.secondary-1,r=this.xu.resolution-1;if(n>r){if(!0===this.chart.Uy.Su){var e="HeatmapScrollingGridSeries.addIntensityValues intensity matrix overflow.\nGrid resolution: ".concat(this.xu.resolution,", input ").concat(i.primary,"x").concat(i.secondary,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");ci.console.warn(e)}for(var o=[],s=0;s<i.primary;s+=1)o[s]=t[s].slice(0,r+1);t=o}return this.CS.wp(t),this.Yn.Fn(),this},i.prototype.invalidateIntensityValues=function(t){return this.CS.pp(t.iSample,t.values),this.Yn.Fn(),this},i.prototype.getSampleCount=function(){return this.CS.Mp()},i.prototype.setFillStyle=function(t){return this.$r(t),this},i.prototype.getFillStyle=function(){return this.Qr},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(id),rd=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ed=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},od=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},sd=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i._S=[],i.Sc=[],i.OS=[],i.FS=[],i.IS=1e3,i.jS=0,i.fn=yr.onHover,i.BS=[],i.DS=[],i.LS=!1,i.ES=function(t,n){var r=t.gx(n);if(r)return[at(r[0],i.scale,i.Yn.Ai.ai),at(r[1],i.scale,i.Yn.Ai.ai)]},i.PS=function(t,n){var r=t.zS(n);if(r)return[at(r[0],i.scale,i.Yn.Ai.ai),at(r[1],i.scale,i.Yn.Ai.ai)]},i.NS=function(t){var n=t.length;if(i._S.length>0){var r=i._S.length-1,e=i._S[r];if(n>0){var o=ed(e.sf(),2),s=o[0],a=o[1],u=ed(e.ef(),2),f=u[0],l=u[1];if((f?s.length+f.length:s.length)>=i.IS){var v=f&&f.length>0?f[f.length-1]:s[s.length-1],y=l&&l.length>0?l[l.length-1]:a[s.length-1],A=(v.x+t[0].position)/2,b=cr(A,v,h(t[0].position,t[0].high)).y,p=cr(A,y,h(t[0].position,t[0].low)).y,m=c(A,b,p);e.lf(m,d(h(A,p),h(A,b))).Nf(!0),i.VS([m].concat(t)).Pf(!0)}else e.lf(t)}}else n>0&&i.VS(t)},i.RS=function(t){var n=i.BS,r=t.length;if(i.BS.length>0){if(r>0){var e=n[n.length-1],o=e.sf(),s=e.ef();if(o.length+s.length>=i.IS){var a=s.length>0?s[s.length-1]:o[o.length-1],u=(a.x+t[0].x)/2,f=cr(u,a,h(t[0].x,t[0].y)).y,c=h(u,f);e.lf(c,d(h(u,f),h(u,f))).Nf(!0),n.push(i.GS([c].concat(t),i.US).Pf(!0))}else e.lf(t)}}else r>0&&n.push(i.GS(t))},i.YS=function(t){var n=i.DS,r=t.length;if(i.DS.length>0){if(r>0){var e=n[n.length-1],o=e.sf(),s=e.ef();if(o.length+s.length>=i.IS){var a=s.length>0?s[s.length-1]:o[o.length-1],u=(a.x+t[0].x)/2,f=cr(u,a,h(t[0].x,t[0].y)).y,c=h(u,f);e.lf(c,d(h(u,f),h(u,f))).Nf(!0),n.push(i.WS([c].concat(t)).Pf(!0))}else e.lf(t)}}else r>0&&n.push(i.WS(t))},i}return rd(i,t),i.prototype.xn=function(){return"ProgressiveX"},i.prototype.kA=function(){return this.getPointAmount()>0},i.prototype.setDataCleaning=function(t){var i=t&&t.minDataPointCount;return this.jS=void 0!==i&&i>0?i:0,this.Yn.Fn(),this},i.prototype.clear=function(){for(var t=0;t<this._S.length;t+=1)this._S[t].dispose();for(t=0;t<this.BS.length;t+=1)this.BS[t].dispose();for(t=0;t<this.DS.length;t+=1)this.DS[t].dispose();return this.Sc.length=0,this.OS.length=0,this.FS.length=0,this.US=void 0,this._S.length=0,this.BS.length=0,this.DS.length=0,this.Yn.Fn(),this.j.D("dataclear",{}),this},i.prototype.getPointAmount=function(){return this._S.reduce((function(t,i){return t+i.vf()+i.df()}),this.Sc.length)},i.prototype.Rx=function(){return Oi(this._S,Si,Math.max,Ti,this.US)||0},i.prototype.Gx=function(){return Oi(this._S,xi,Math.min,Ci,this.US)||0},i.prototype.Ux=function(){return Oi(this._S,Mi,Math.max,_i,this.US)||0},i.prototype.Yx=function(){return Oi(this._S,wi,Math.min,ki,this.US)||0},i.prototype.us=function(){var t,i,n=h(0,0);try{for(var r=od(this._S),e=r.next();!e.done;e=r.next()){var o=e.value;n.x=Math.max(n.x,o.Cf()),n.y=Math.max(n.y,o.Tf())}}catch(i){t={error:i}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}return n},i.prototype.Rn=function(){return en(this.XS,void 0)||en(this.HS,void 0)},i.prototype.OA=function(){return this.vA&&this.getPointAmount()>0&&this.getVisible()},i.prototype.zx=function(t){},i.prototype.ZS=function(t,i,n){this.Sc=$i(this.Sc,t,{canReturnB:!1}),this.OS=$i(this.OS,i,{canReturnB:!1}),this.FS=$i(this.FS,n,{canReturnB:!1}),this.Yn.Fn()},i.prototype.QS=function(t,i,n,r){this.JS(i,n,r),this.ZS(Array.isArray(t)?t:[t],i,n)},i.prototype.JS=function(t,i,n){var r=Jn(Zn(t),Zn(i));this.US?this.US=Jn(this.US,r):this.US=r,n&&(this.US=Jn(this.US,n))},i.prototype.KS=function(){var t=this._S.length,i=Math.min(this.scale.x.getInnerStart(),this.scale.x.getInnerEnd()),n=0;if(t>1)for(var r=0;r<t-1;r+=1)this.scale.x.Jt(this._S[r].Xi(),this._S[r].Cf())<i&&(n+=1);return n},i.prototype.qS=function(t,i,n,r){if(n>0){var e=Math.ceil(n/i),o=t.length-e;if(o>0&&r>0){var s=o-r>0?r:o;if(s>0){for(var a=0;a<s;a+=1)t[a].dispose();t.splice(0,s)}}}},i.prototype.$S=function(t){var i=this._S.length>0?this._S[this._S.length-1]:void 0,n=i?i.sf()[0].length+(i.ef()[0]?i.ef()[0].length:0):void 0;yv(t,n,this.IS,this.NS)},i.prototype.tw=function(t){var i=this.BS.length>0?this.BS[this.BS.length-1].sf().length+this.BS[this.BS.length-1].ef().length:void 0;yv(t,i,this.IS,this.RS)},i.prototype.iw=function(t,i){var n=this.BS.length>0?this.BS[this.BS.length-1].sf().length+this.BS[this.BS.length-1].ef().length:void 0;yv(t,n,this.IS,this.RS),yv(i,n,this.IS,this.YS)},i.prototype.VS=function(t,i){var n=this.Yn.nw(this.scale).lf(t,i).$r(this.XS).Lf(this.HS).Oi(this.getHighlight());return this._S.push(n),this.Sn(n),n},i.prototype.rw=function(t,i,n){var r=this.Yn.QA(this.scale,void 0,[Of.UserSeries]).lf(t,n).setPointerEvents(!1).fe(i).Oi(this.getHighlight());return this.Sn(r),r},i.prototype.GS=function(t,i){return this.rw(t,this.ew,i)},i.prototype.WS=function(t,i){return this.rw(t,this.ow,i)},i.prototype.sw=function(t){this.XS="function"==typeof t?t(this.XS):t;for(var i=this.XS,n=0;n<this._S.length;n+=1)this._S[n].$r(i);this.Yn.Fn()},i.prototype.aw=function(t){this.HS="function"==typeof t?t(this.HS):t;for(var i=this.HS,n=0;n<this._S.length;n+=1)this._S[n].Lf(i);this.Yn.Fn()},i.prototype.uw=function(){return this.XS},i.prototype.Ef=function(){return this.HS},i.prototype.hw=function(t){this.ew="function"==typeof t?t(this.ew):t;for(var i=this.ew,n=0;n<this.BS.length;n+=1)this.BS[n].fe(i);this.Yn.Fn()},i.prototype.fw=function(t){this.ow="function"==typeof t?t(this.ow):t;for(var i=this.ow,n=0;n<this.DS.length;n+=1)this.DS[n].fe(i);this.Yn.Fn()},i.prototype.cw=function(){return this.ew},i.prototype.lw=function(){return this.ow},i.prototype.ee=function(t,i){t.Oi(i),this.dw(i),this.Yn.Fn()},i.prototype.dw=function(t){for(var i=0;i<this.BS.length;i+=1)this.BS[i].Oi(t);for(i=0;i<this.DS.length;i+=1)this.DS[i].Oi(t)},i.prototype.gA=function(){if(t.prototype.gA.call(this),this.LS=!1,this.jS>0){var i=this.KS();this.qS(this._S,this.IS,this.jS,i),this.BS.length>0&&this.qS(this.BS,this.IS,this.jS,i),this.DS.length>0&&this.qS(this.DS,this.IS,this.jS,i),this.LS=!0}},i.prototype.ie=function(){var i,n,r,e,o,s;if(t.prototype.ie.call(this),this.Sc.length>0&&(this.$S(this.Sc),this.yw(this.OS,this.FS),this.LS=!0),this.LS){var a=this.getBoundaries();try{for(var u=od(this._S),h=u.next();!h.done;h=u.next())h.value.ki(a)}catch(t){i={error:t}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}try{for(var f=od(this.BS),c=f.next();!c.done;c=f.next())c.value.ki(a)}catch(t){r={error:t}}finally{try{c&&!c.done&&(e=f.return)&&e.call(f)}finally{if(r)throw r.error}}try{for(var l=od(this.DS),v=l.next();!v.done;v=l.next())v.value.ki(a)}catch(t){o={error:t}}finally{try{v&&!v.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}}},i.prototype.xA=function(){t.prototype.xA.call(this),this.US=void 0,this.Sc.length=0,this.OS.length=0,this.FS.length=0},i}(dv),ad=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ud=function(){return ud=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},ud.apply(this,arguments)},hd=function(t){function i(i,n,r,e,o,s,a,u,h,f,c){var l=t.call(this,i,n,r,e,o,s,a,u,h,f)||this;l.j=new Nt,l.chart.Ai.pu(zs.Ma);var v=c;return l.XS=an(l.xi.areaRangeSeriesFillStyle,v),l.ew=an(l.xi.areaRangeSeriesStrokeStyle,v),l.HS=an(l.xi.areaRangeSeriesFillStyleInverted,v),l.ow=an(l.xi.areaRangeSeriesStrokeStyleInverted,v),l}return ad(i,t),i.prototype.solveNearest=function(t,i){void 0===i&&(i=this.chart.getCursorMode()||"show-nearest");var n=this.chart.Ai.Uu(t),r=function(t,i,n){for(var r,e,o=Number.MAX_VALUE,s=0;s<i.length;s+=1){var a=i[s],u=n(a,t);if(u){var h=Un(t,u[0]),f=Un(t,u[1]);(void 0===r||h<o||f<o)&&(r=u,e=a,h<o?o=h:f<o&&(o=f))}}return r&&e?[r,e]:void 0}({x:n.engineX,y:n.engineY},this._S,zp(i)?this.PS:this.ES);if(void 0!==r&&void 0!==r[0]){var e=at(r[0][0],this.Yn.Ai.ai,this.scale),o=at(r[0][1],this.Yn.Ai.ai,this.scale);return ud(ud({cursorPosition:{resultTable:e,resultTableScale:this.scale,pointMarker:e,pointMarkerScale:{x:this.axisX,y:this.axisY}}},e),{series:this,axisX:this.axisX,axisY:this.axisY,multiHit:[e,o]})}},i.prototype.add=function(t){var i=Array.isArray(t)?t:[t],n=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(v(i),2),r=n[0],e=n[1];this.QS(t,r,e);var o=this.Sc[this.Sc.length-1];return this.Aw=o?{position:o.position,high:o.high,low:o.low}:void 0,this.j.D("dataadd",{data:i,boundaries:this.US}),this},i.prototype.addArraysHighLow=function(t,i,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),t.length!==i.length)throw new Error("arrayHigh and arrayLow lengths are not equal");var e=r;return e||(e=this.Aw?this.Aw.position+n:0),this.add(function(t,i,n,r){void 0===n&&(n=1);for(var e=void 0!==r?r:0,o=new Array(t.length),s=0;s<t.length;s+=1)o[s]={position:e+n*s,high:t[s],low:i[s]};return o}(t,i,n,e)),this},i.prototype.yw=function(t,i){this.iw(t,i)},i.prototype.setHighFillStyle=function(t){return this.sw(t),this},i.prototype.setLowFillStyle=function(t){return this.aw(t),this},i.prototype.setHighStrokeStyle=function(t){return this.hw(t),this},i.prototype.setLowStrokeStyle=function(t){return this.fw(t),this},i.prototype.getHighFillStyle=function(){return this.uw()},i.prototype.getLowFillStyle=function(){return this.Ef()},i.prototype.getHighStrokeStyle=function(){return this.cw()},i.prototype.getLowStrokeStyle=function(){return this.lw()},i.prototype.bw=function(){return function(t,i){void 0===i&&(i=function(t){return t});for(var n,r=[],e=0;e<t.length;e+=1){var o=i((n=t[e]).sf()),s=n.ef(),a=s?i(s):[],u=!1,h=!1;"zf"in n&&(u=n.zf(),h=n.Vf()),r.push.apply(r,o.slice(u?1:0,o.length-(h&&0===a.length?1:0))),r.push.apply(r,a.slice(u&&0===o.length?1:0,a.length-(h?1:0)))}return r}(this._S,(function(t){var i=t[0],n=t[1];if(!i||!n)return[];for(var r=[],e=i.length,o=0;o<e;o+=1)r[o]={position:i[o].x,high:i[o].y,low:n[o].y};return r}))},i.prototype.re=function(){return{fill:this.XS,fill2:this.HS,behavior:{colorStep:!0}}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(sd),fd=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cd=function(t){function i(i,n,r,e,o,s,a,u,h,c){var l=t.call(this,i,n,r,e,o,s,a,u,h,c)||this;return l.pw=function(t){return t[4]>=t[1]},l.Xx=d(f(In,In),f(jn,jn)),l.mw=[],l.gw=!1,l.xw=-1,l.Sw=[],l.ww=!0,l.Mw=!1,l.Cw=4,l.Tw=[1e-7,1e-6,1e-5,1e-4,.001,.01,.1,1,5,10,30,60,300,600,1800,3600,7200,14400,28800,36e3,43200,50400,57600,64800,72e3,86400,172800,259200,345600,432e3,604800,1209600,2592e3,7776e3,10368e3,15552e3,31536e3,15768e4,31536e4,63072e4,7884e5,15768e5,31536e5,3942e6,47304e5,63072e5,7884e6,15768e6,31536e6,3942e7,47304e6,63072e6,7884e7,15768e7,31536e7,63072e7,7884e8,15768e8,31536e8,47304e8,63072e8],l.j=new Nt,l.chart.Ai.pu(zs.da),l}return fd(i,t),i.prototype.kA=function(){return this.Sw.length>0},i.prototype.xn=function(){return"ProgressiveX"},i.prototype.bw=function(){return this.Sw},i.prototype.OA=function(){return this.vA&&this.Sw.length>0&&this.getVisible()},i.prototype.kw=function(t){if(!(this.Sw.length<1))return[this.Sw[t][0],this.Sw[t][1],this.Sw[t][2],this.Sw[t][3],this.Sw[t][4]]},i.prototype.solveNearest=function(t,i){var n=this;if(0!==this.Sw.length){var r,e,o,s,a,u=this.chart.translateCoordinate(t,{x:this.axisX,y:this.axisY}).x,f=void 0!==this.getPackDataState();if(f){var c=this._w;if(!c)return;var l=pn(u,c.length-1,(function(t){return c[t][0]})),v=void 0!==l&&c[l];if(!v)return;s=v[3],o=v[2],e=v[1],a=v[4],r=v[0]}else{var d=pn(u,this.Sw.length-1,(function(t){return n.Sw[t][0]})),y=void 0!==d&&this.Sw[d];if(!y)return;r=y[0],e=y[1],o=y[2],s=y[3],a=y[4]}return{cursorPosition:{resultTable:h(r,a),resultTableScale:this.scale,pointMarker:h(r,a),pointMarkerScale:{x:this.axisX,y:this.axisY}},x:r,y:a,open:e,high:o,low:s,close:a,position:r,isPacked:f,series:this,axisX:this.axisX,axisY:this.axisY}}},i.prototype.Ji=function(t,i,n){var r=this;return wn({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,multiHit:0,open:0,high:0,low:0,close:0,position:0,isPacked:0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},i.prototype.zx=function(t){if(!(t.x instanceof q))throw new Error("OHLCSeries must be attached to a Linear X Axis.");this.Ow=t.x},i.prototype.us=function(){return h(5,5)},i.prototype.LS=function(t){var i=t.length-1;if(i<0)return this;for(var n=0;n<=i;n+=1)t[n][3]<this.Xx.min.y&&(this.Xx.min.y=t[n][3]),this.Xx.max.y<t[n][2]&&(this.Xx.max.y=t[n][2]);return this.Xx.min.x=Math.min(this.Xx.min.x,t[0][0]),this.Xx.max.x=Math.max(this.Xx.max.x,t[i][0]),this},i.prototype.Rx=function(){return this.Xx.max.x},i.prototype.Gx=function(){return this.Xx.min.x},i.prototype.Ux=function(){return this.Xx.max.y},i.prototype.Yx=function(){return this.Xx.min.y},i.prototype.add=function(t){this.Sw.length>0&&this.chart.Ai.pu(zs._a);var i=Array.isArray(t[0])?t:[t[0]];if(i.length>0){this.gw=!0;var n=this.Sw.length,r=this.mw.length,e=i.length;this.Sw.length=n+e,this.mw.length=r+e;for(var o=0;o<e;o+=1)this.Sw[n+o]=i[o],this.mw[r+o]=this.Sw[n+o];this.LS(i),this.j.D("dataadd",{data:i}),this.Yn.Fn()}return this},i.prototype.setPackData=function(t){return t!==this.ww&&(this.Mw=!0,this.ww=t,this.chart.Ai.Fn()),this},i.prototype.getPackData=function(){return this.ww},i.prototype.getPackDataState=function(){var t=this.xw;if(!(t<0||void 0===this._w||this._w.length===this.Sw.length))return{figureAxisInterval:t}},i.prototype.setFigureWidth=function(t){return this.Fw=t,this.chart.Ai.Fn(),this},i.prototype.getFigureWidth=function(){return this.Fw},i.prototype.setFigureMinimumGap=function(t){return this.Cw=t,this.chart.Ai.Fn(),this},i.prototype.getFigureMinimumGap=function(){return this.Cw},i.prototype.clear=function(){return this.Sw=[],this.mw=[],this._w=void 0,this.Iw(),this.Xx.min.x=In,this.Xx.min.y=In,this.Xx.max.x=jn,this.Xx.max.y=jn,this.j.D("dataclear",{}),this},i.prototype.jw=function(t){return this.Ow.getPixelSize()*t/1e3},i.prototype.Bw=function(){var t=this,i=this.Tw.length-1,n=this.jw(this.Fw+this.Cw),r=pn(n,i,(function(i){return t.Tw[i]}));return void 0===r?r=n<this.Tw[0]?0:this.Tw[i]<n?i:this.Tw.length/2:this.Tw[r]<n&&(r+=1),this.Tw.length<=r&&(r=i),1e3*this.Tw[r]},i.prototype.ie=function(){if(t.prototype.ie.call(this),!this.ww){this._w=void 0;var i=null;if(this.Mw?(this.Mw=!1,i=this.Sw,this.Iw()):i=this.mw,i.length>=1){for(var n=0;n<i.length;n+=1){var r=i[n],e=r[0];this.pw(r)?this.Dw(e,r):this.Lw(e,r)}this.mw.length=0,this.gw=!1,this.xw=-1}}},i.prototype.xA=function(){t.prototype.xA.call(this);var i=this.Bw();if(this.ww&&this.Sw.length>=1&&(i!==this.xw||this.gw||this.Mw)){this.Mw=!1,this.xw=i,this.gw=!1,this.Iw(),this._w=[];for(var n=this.Sw.length,r=this.Sw[0][0]-this.Sw[0][0]%(i/2)+i,e=0;e<n;){var o=this.kw(e);if(void 0===o)break;var s=o[3],a=o[2],u=e;for(e+=1;e<n&&this.Sw[e][0]<r;)o=this.Sw[e],this.Sw[e][3]<s&&(s=this.Sw[e][3]),a<this.Sw[e][2]&&(a=this.Sw[e][2]),e+=1;var h=e-1,f=o[0];u<h&&(o=[f=this.Sw[h][0],this.Sw[u][1],a,s,this.Sw[h][4]]),o[1]<o[4]?this.Dw(f,o):this.Lw(f,o),this._w.push(o),r+=i}}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(dv),ld=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vd=function(t){function i(i,n,r,e,o,s,a,u,h,f){var c=t.call(this,i,n,r,e,o,s,a,u,h,f)||this;return c.Ew=1175494351e-14,c.Fw=c.xi.ohlcCandleThicknessPixels||5,c.Pw=c.xi.ohlcCandleTailStrokeStylePositive,c.zw=c.xi.ohlcCandleTailStrokeStyleNegative,c.Nw=c.xi.ohlcCandleBodyFillStylePositive,c.Vw=c.xi.ohlcCandleBodyFillStyleNegative,c.Rw=r.Od(c.scale).fe(new Ue({thickness:c.Fw,fillStyle:c.Nw})),c.Rw.gc={x:0,y:1},c.Gw=r.Od(c.scale).fe(new Ue({thickness:c.Fw,fillStyle:c.Vw})),c.Gw.gc={x:0,y:-1},c.Uw=r.Od(c.scale).fe(c.Pw),c.Yw=r.Od(c.scale).fe(c.zw),c.Sn(c.Rw),c.Sn(c.Gw),c.Sn(c.Uw),c.Sn(c.Yw),c}return ld(i,t),i.prototype.setBodyThickness=function(t){return this.Fw=t,this.Rw.fe(new Ue({thickness:this.Fw,fillStyle:this.Nw})),this.Gw.fe(new Ue({thickness:this.Fw,fillStyle:this.Vw})),this.chart.Ai.Fn(),this},i.prototype.getBodyThickness=function(){return this.Fw},i.prototype.setBodyFillStylePositive=function(t){return this.Nw="function"==typeof t?t(this.Nw):t,this.Rw.fe(new Ue({thickness:this.Fw,fillStyle:this.Nw})),this.chart.Ai.Fn(),this},i.prototype.getBodyFillStylePositive=function(){return this.Nw},i.prototype.setBodyFillStyleNegative=function(t){return this.Vw="function"==typeof t?t(this.Vw):t,this.Gw.fe(new Ue({thickness:this.Fw,fillStyle:this.Vw})),this.chart.Ai.Fn(),this},i.prototype.getBodyFillStyleNegative=function(){return this.Vw},i.prototype.setTailStrokeStylePositive=function(t){return this.Pw="function"==typeof t?t(this.Pw):t,this.Uw.fe(this.Pw),this.chart.Ai.Fn(),this},i.prototype.getTailStrokeStylePositive=function(){return this.Pw},i.prototype.setTailStrokeStyleNegative=function(t){return this.zw="function"==typeof t?t(this.zw):t,this.Yw.fe(this.zw),this.chart.Ai.Fn(),this},i.prototype.getTailStrokeStyleNegative=function(){return this.zw},i.prototype.re=function(){return{fill:this.Nw,fill2:this.Vw,behavior:{colorStep:!0}}},i.prototype.Iw=function(){return this.Uw.zi(),this.Yw.zi(),this.Rw.zi(),this.Gw.zi(),this},i.prototype.Dw=function(t,i){return Math.abs(i[1]-i[4])<this.Ew?this.Rw.za().Id({x:t,y:i[1]-this.Ew},{x:t,y:i[1]+this.Ew}):this.Rw.za().Id({x:t,y:i[1]},{x:t,y:i[4]}),i[4]<i[2]&&this.Uw.za().Id({x:t,y:i[4]},{x:t,y:i[2]}),i[3]<i[1]&&this.Uw.za().Id({x:t,y:i[3]},{x:t,y:i[1]}),this},i.prototype.Lw=function(t,i){return Math.abs(i[1]-i[4])<this.Ew?this.Gw.za().Id({x:t,y:i[1]-this.Ew},{x:t,y:i[1]+this.Ew}):this.Gw.za().Id({x:t,y:i[1]},{x:t,y:i[4]}),i[3]<i[4]&&this.Yw.za().Id({x:t,y:i[3]},{x:t,y:i[4]}),i[1]<i[2]&&this.Yw.za().Id({x:t,y:i[1]},{x:t,y:i[2]}),this},i}(cd),dd=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yd=function(t){function i(i,n,r,e,o,s,a,u,h,f){var c=t.call(this,i,n,r,e,o,s,a,u,h,f)||this;return c.Fw=c.xi.ohlcBarThicknessPixels||10,c.Ww=c.xi.ohlcBarStrokeStylePositive,c.Xw=c.xi.ohlcBarStrokeStyleNegative,c.Hw=r.Od(c.scale).fe(c.Ww),c.Sn(c.Hw),c.Zw=r.Od(c.scale).fe(c.Ww),c.Zw.gc={x:-c.Fw/2,y:0},c.Sn(c.Zw),c.Qw=r.Od(c.scale).fe(c.Ww),c.Qw.gc={x:c.Fw/2,y:0},c.Sn(c.Qw),c.Jw=r.Od(c.scale).fe(c.Xw),c.Sn(c.Jw),c.Kw=r.Od(c.scale).fe(c.Xw),c.Kw.gc={x:-c.Fw/2,y:0},c.Sn(c.Kw),c.qw=r.Od(c.scale).fe(c.Xw),c.qw.gc={x:c.Fw/2,y:0},c.Sn(c.qw),c}return dd(i,t),i.prototype.setStrokeStylePositive=function(t){return this.Ww="function"==typeof t?t(this.Ww):t,this.Hw.fe(this.Ww),this.Zw.fe(this.Ww),this.Qw.fe(this.Ww),this.chart.Ai.Fn(),this},i.prototype.getStrokeStylePositive=function(){return this.Ww},i.prototype.setStrokeStyleNegative=function(t){return this.Xw="function"==typeof t?t(this.Xw):t,this.Jw.fe(this.Xw),this.Kw.fe(this.Xw),this.qw.fe(this.Xw),this.chart.Ai.Fn(),this},i.prototype.getStrokeStyleNegative=function(){return this.Xw},i.prototype.re=function(){return{fill:this.Ww.getFillStyle(),fill2:this.Xw.getFillStyle(),behavior:{colorStep:!0}}},i.prototype.setFigureWidth=function(i){return t.prototype.setFigureWidth.call(this,i),this.Zw.gc={x:-i/2,y:0},this.Kw.gc={x:-i/2,y:0},this.Qw.gc={x:i/2,y:0},this.qw.gc={x:i/2,y:0},this},i.prototype.Iw=function(){return this.Jw.zi(),this.Hw.zi(),this.Kw.zi(),this.Zw.zi(),this.qw.zi(),this.Qw.zi(),this},i.prototype.Dw=function(t,i){return this.Hw.za().Id({x:t,y:i[3]},{x:t,y:i[2]}),this.Zw.za().Id({x:t,y:i[1]},{x:t,y:i[1]}),this.Qw.za().Id({x:t,y:i[4]},{x:t,y:i[4]}),this},i.prototype.Lw=function(t,i){return this.Jw.za().Id({x:t,y:i[3]},{x:t,y:i[2]}),this.Kw.za().Id({x:t,y:i[1]},{x:t,y:i[1]}),this.qw.za().Id({x:t,y:i[4]},{x:t,y:i[4]}),this},i}(cd),Ad={Candlesticks:vd,Bars:yd},bd=function(){return bd=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},bd.apply(this,arguments)},pd=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),md=function(t){function i(i,n,r,e,o,s,a,u){var h=t.call(this,i,n,r,e,o,u)||this;return h.$w=!1,h.tM=!1,h.iM=!1,h.nM=!1,h.rM=!1,h.eM=new Map,h.oM=new Map,h.sM=[],h.aM=[],h.uM=!0,h.hM=!0,h.fM=!1,h.cM=[],h.lM=new Set,h.vM=!1,h.im=o,h.dM=s,h.yM=a,h.AM=u.cursorGridStrokeStyleX,h.bM=u.cursorGridStrokeStyleY,h}return pd(i,t),i.prototype.setKeepWithinAxisBoundaries=function(t){return this.$w=t,this.Yn.Fn(),this},i.prototype.getKeepWithinAxisBoundaries=function(){return this.$w},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.eM.forEach((function(t){return t.forEach((function(t){return t.dispose()}))})),this.oM.forEach((function(t){return t.forEach((function(t){return t.dispose()}))})),this.sM.length=0,this.aM.length=0,this.qp.length=0,this},i.prototype.ie=function(){var i=this;return this.fM&&this.ci&&this.setPosition.apply(this,function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}([],function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(this.cM),!1)),this.eM.forEach((function(t){t.forEach((function(t){return t.setVisible(!1).setMarkerVisible(!1)}))})),this.oM.forEach((function(t){t.forEach((function(t){return t.setVisible(!1).setMarkerVisible(!1)}))})),this.sM.forEach((function(t){return t.setVisible(i.ci&&i.zy).setMarkerVisible(i.ci&&i.zy&&i.uM)})),this.aM.forEach((function(t){return t.setVisible(i.ci&&i.zy).setMarkerVisible(i.ci&&i.zy&&i.hM)})),t.prototype.ie.call(this)},i.prototype.sm=function(){if(!this.$w)return t.prototype.sm.call(this);var i=this.nm,n=i.getPosition(h(-1,-1),Wt.PaddedBackground),r=i.getPosition(h(1,1),Wt.PaddedBackground),e=this.cM.map((function(t){var e=t.pointMarkerScale.x,o=t.pointMarkerScale.y,s=at({x:e.ai.R,y:o.ai.R},{x:e,y:o},i.scale),a=at({x:e.ai.G,y:o.ai.G},{x:e,y:o},i.scale),u={x:pi(n.x,s.x,a.x),y:pi(n.y,s.y,a.y)},h={x:pi(r.x,s.x,a.x),y:pi(r.y,s.y,a.y)};return{axisX:e,axisY:o,a:s,b:a,visibleArea:Math.abs(h.x-u.x)*Math.abs(h.y-u.y),clampMin:u,clampMax:h,tableMin:n,tableMax:r}}));e.sort((function(t,i){return i.visibleArea-t.visibleArea}));var o=e[0];if(!o)return t.prototype.sm.call(this);var s=Gn(o.tableMin.x,o.a.x,o.b.x)&&Gn(o.tableMax.x,o.a.x,o.b.x),a=Gn(o.tableMin.y,o.a.y,o.b.y)&&Gn(o.tableMax.y,o.a.y,o.b.y);return{x:!s,y:!a,either:!s||!a,resultTableViewport:{x:o.axisX,y:o.axisY},resultTableViewportBounds:{x:{min:Math.min(o.axisX.ai.R,o.axisX.ai.G),max:Math.max(o.axisX.ai.R,o.axisX.ai.G)},y:{min:Math.min(o.axisY.ai.R,o.axisY.ai.G),max:Math.max(o.axisY.ai.R,o.axisY.ai.G)}}}},i.prototype.setPosition=function(){for(var t,i,n=this,r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];r=r.filter((function(t){return!Number.isNaN(t.pointMarker.x)&&!Number.isNaN(t.pointMarker.y)})),this.cM=r,this.sM.length=0,this.aM.length=0;var o=this.renderingScale;if(r.length>0){var s=r[0].resultTable,a=Zh(r[0].resultTableScale,o),u=a===this.scale?s:at(s,a,this.scale);this.nm.setPosition(u)}this.zy=!1,this.Qp.forEach((function(t){t.targetVisible=!1}));var f=new Map;r.forEach((function(t,i){var r=t.pointMarkerScale.x,e=t.pointMarkerScale.y,s=f.get(r)||[],a=f.get(e)||[],u=!s.includes(t.pointMarker.x),c=!a.includes(t.pointMarker.y);s.push(t.pointMarker.x),a.push(t.pointMarker.y),f.set(r,s),f.set(e,a);var l=t.pointMarker,v=Sd(h(l.x,l.y),r,e);if(u){var d=n.pM(r,!0);d.setValue(l.x),d.setGridStrokeLength(n.tM?v.x:1).setAllocatesAxisSpace(n.vM),n.sM.push(d)}if(c){var y=n.pM(e,!1);y.setValue(l.y),y.setGridStrokeLength(n.iM?v.y:1).setAllocatesAxisSpace(n.vM),n.aM.push(y)}var A=n.Qp[i];if(!A){var b=new au(n.Yn,n.renderingScale,n.scale,Ai,n.xi).setPointerEvents(!1).setFillStyle(n.xi.cursorPointMarkerFillStyle).setStrokeStyle(n.xi.cursorPointMarkerStrokeStyle).setSize(n.xi.cursorPointMarkerSize).setShape(n.xi.cursorPointMarkerShape);A={pointMarker:b,targetVisible:!0},n.Qp.push(A),n.qp.forEach((function(t){return t(b)}))}void 0!==t.pointMarkerShape&&A.pointMarker.setShape(t.pointMarkerShape),void 0!==t.pointMarkerSize&&A.pointMarker.setSize(t.pointMarkerSize),t.pointMarkerFillStyle&&A.pointMarker.setFillStyle(t.pointMarkerFillStyle),t.pointMarkerStrokeStyle&&A.pointMarker.setStrokeStyle(t.pointMarkerStrokeStyle);var p=Zh(t.pointMarkerScale,o),m=p===n.scale?t.pointMarker:at(t.pointMarker,p,n.scale);A.pointMarker.setPosition(m),A.targetVisible=!0;var g=r.getInterval(),x=e.getInterval(),S=Math.min(g.start,g.end),w=Math.max(g.start,g.end),M=Math.min(x.start,x.end),C=Math.max(x.start,x.end);l.x>=S&&l.x<=w&&l.y>=M&&l.y<=C&&(n.zy=!0)}));try{for(var c=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.Qp),l=c.next();!l.done;l=c.next()){var v=l.value;v.targetVisible||(v.pointMarker.dispose(),this.Qp.splice(this.Qp.indexOf(v),1))}}catch(i){t={error:i}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(t)throw t.error}}return this},i.prototype.setTickMarkersAllocateAxisSpace=function(t){return this.vM=t,this.Yn.Fn(),this},i.prototype.getTickMarkersAllocateAxisSpace=function(){return this.vM},i.prototype.pM=function(t,i){this.lM.has(t)||(t.addEventListener("dispose",(function(){var i;null===(i=n.get(t))||void 0===i||i.forEach((function(t){return t.dispose()})),n.delete(t)})),this.lM.add(t));var n=i?this.eM:this.oM,r=i?this.sM:this.aM,e=n.get(t)||[];n.set(t,e);var o=e.find((function(t){return!r.includes(t)}));return o||(o=i?t.Gd(!1,this.dM):t.Gd(!1,this.yM),e.push(o),this.Uo(o,i),o.setPointerEvents(!1)),o},i.prototype.Uo=function(t,i){var n=i?this.AM:this.bM;return t.setGridStrokeStyle(n),t.setPointerEvents(!1),(i?this.uM:this.hM)?t.setMarkerVisible(!0):t.setMarkerVisible(!1),t},i.prototype.setGridStrokeXCut=function(t){return this.tM=t,this.Yn.Fn(),this},i.prototype.getGridStrokeXCut=function(){return this.tM},i.prototype.setGridStrokeYCut=function(t){return this.iM=t,this.Yn.Fn(),this},i.prototype.getGridStrokeYCut=function(){return this.iM},i.prototype.setGridStrokeXStyle=function(t){var i=this;return this.AM=t instanceof Function?t(this.getGridStrokeXStyle()):t,this.eM.forEach((function(t){return t.forEach((function(t){return t.setGridStrokeStyle(i.AM)}))})),this},i.prototype.getGridStrokeXStyle=function(){return this.AM},i.prototype.setGridStrokeYStyle=function(t){var i=this;return this.bM=t instanceof Function?t(this.getGridStrokeYStyle()):t,this.oM.forEach((function(t){return t.forEach((function(t){return t.setGridStrokeStyle(i.bM)}))})),this},i.prototype.getGridStrokeYStyle=function(){return this.bM},i.prototype.setTickMarkerXVisible=function(t){return this.uM=t,this.Yn.Fn(),this},i.prototype.getTickMarkerXVisible=function(){return this.uM},i.prototype.setTickMarkerYVisible=function(t){return this.hM=t,this.Yn.Fn(),this},i.prototype.getTickMarkerYVisible=function(){return this.hM},i.prototype.setTickMarkerX=function(t){return this.eM.forEach((function(i){return i.forEach((function(i){return i.setMarker(t)}))})),this.dM=this.dM.addStyler(t),this.Yn.Fn(),this},i.prototype.setTickMarkerY=function(t){return this.oM.forEach((function(i){return i.forEach((function(i){return i.setMarker(t)}))})),this.yM=this.yM.addStyler(t),this.Yn.Fn(),this},i}(Lc),gd=function t(i,n,r,e){var o=this;this.Am=[],this.bm=function(t,i){return o.Am.forEach((function(n){return n(t,i)})),t},this.addStyler=function(i){return new t(o.im,o.dM,o.yM,o.Am.map((function(t){return t})).concat(i))},this.setResultTableBackground=function(i){return new t(i,o.dM,o.yM,o.Am.map((function(t){return t})))},this.pm=function(t,i,n,r,e){return o.bm(new md(t,i,n,r,o.im,o.dM,o.yM,e),e)},this.im=i,this.Am=e,this.dM=n,this.yM=r},xd=new gd(ru,Zu.PointableTextBox,Zu.PointableTextBox,[function(t,i){Ec(t,i),t.setTickMarkerX((function(t){t.setEffect(!0).setTextFont(i.cursorTickMarkerXTextFont).setTextFillStyle(i.cursorTickMarkerXTextFillStyle),Bs(t)&&t.setBackground((function(t){return t.setFillStyle(i.cursorTickMarkerXBackgroundFillStyle).setStrokeStyle(i.cursorTickMarkerXBackgroundStrokeStyle)}))})),t.setTickMarkerY((function(t){t.setEffect(!0).setTextFont(i.cursorTickMarkerYTextFont).setTextFillStyle(i.cursorTickMarkerYTextFillStyle),Bs(t)&&t.setBackground((function(t){return t.setFillStyle(i.cursorTickMarkerYBackgroundFillStyle).setStrokeStyle(i.cursorTickMarkerYBackgroundStrokeStyle)}))}))}]),Sd=function(t,i,n){var r=i.ai,e=n.ai,o=(t.x-r.getInnerStart())/(r.getInnerEnd()-r.getInnerStart()),s=(t.y-e.getInnerStart())/(e.getInnerEnd()-e.getInnerStart());return 1===n.ed&&(o=1-o),1===i.ed&&(s=1-s),h(s,o)},wd=function(){function t(t,i,n,r){var e=this;this.mM=!1,this.j=new Nt,this.chart=n,this.gM=r,this.pr=t.pr,this.Tr=r||Xo,this.xM=ci.document.createElement("div"),this.xM.style.position="absolute",this.xM.style.pointerEvents="none",ci.document.body.append(this.xM);var o=function(){var t=n.engine.container.getBoundingClientRect();e.xM.style.left="".concat(t.left,"px"),e.xM.style.top="".concat(t.top,"px"),e.xM.style.width="".concat(t.width,"px"),e.xM.style.height="".concat(t.height,"px")};o(),n.addEventListener("resize",o),this.SM(this.xM),this.wM(),this.MM(),this.CM(),this.TM(i),this.chart.kM().push(this)}return t.prototype.SM=function(t){this._M=ci.document.createElement("div"),this._M.style.pointerEvents="all",t.append(this._M),this.OM=ci.document.createElement("div"),this.FM=new Po(this.pr,this.Tr,this.chart,this.OM),this.IM=ci.document.createElement("table"),this.IM.style.borderSpacing="0",this._M.appendChild(this.FM.Lr()),this._M.appendChild(this.OM),this.OM.appendChild(this.IM)},t.prototype.MM=function(){var t=this,i=0,n=0,r=0,e=0,o=!1;this.mM=!1,this._M.onmousedown=function(s){s=s||ci.event,r=s.clientX,e=s.clientY,o=!0,ci.document.onmouseup=function(i){t.mM?t._M.addEventListener("click",Pi,!0):t._M.removeEventListener("click",Pi,!0),o=!1,t.mM=!1,ci.document.onmouseup=null,ci.document.onmousemove=null},ci.document.onmousemove=function(s){s=s||ci.event,o&&(i=r-s.clientX,n=e-s.clientY,r=s.clientX,e=s.clientY,t.mM=!0,t._M.style.top="".concat(t._M.offsetTop-n,"px"),t._M.style.left="".concat(t._M.offsetLeft-i,"px"),t._M.style.removeProperty("right"),t._M.style.removeProperty("bottom"))}}},t.prototype.CM=function(){var t=this,i=0,n=0,r=0,e=0,o=!1;this._M.ontouchstart=function(s){s=s||ci.event,r=s.touches[0].clientX,e=s.touches[0].clientY,o=!0,t._M.ontouchend=function(){o=!1,ci.document.ontouchend=null,ci.document.ontouchmove=null},t._M.ontouchmove=function(s){o&&(Pi(s),s=s||ci.event,i=r-s.touches[0].clientX,n=e-s.touches[0].clientY,r=s.touches[0].clientX,e=s.touches[0].clientY,t._M.style.top="".concat(t._M.offsetTop-n,"px"),t._M.style.left="".concat(t._M.offsetLeft-i,"px"),t._M.style.removeProperty("right"),t._M.style.removeProperty("bottom"))}}},t.prototype.wM=function(){this._M.style.setProperty("top","10px"),this._M.style.setProperty("left","10px"),this._M.style.position="absolute",this._M.style.display="flex",this._M.style.alignItems="flex-start",this.OM.style.setProperty("display","none")},t.prototype.removePositionProperty=function(){this._M.style.removeProperty("top"),this._M.style.removeProperty("left"),this._M.style.removeProperty("bottom"),this._M.style.removeProperty("right")},t.prototype.setPositionProperty=function(t){switch(this.removePositionProperty(),t){case zo.BottomLeft:this._M.style.setProperty("bottom","10px"),this._M.style.setProperty("left","10px");break;case zo.TopLeft:this._M.style.setProperty("top","10px"),this._M.style.setProperty("left","10px");break;case zo.BottomRight:this._M.style.setProperty("bottom","10px"),this._M.style.setProperty("right","10px");break;case zo.TopRight:default:this._M.style.setProperty("top","10px"),this._M.style.setProperty("right","10px")}},t.prototype.TM=function(t){for(var i=0;i<t.length;i+=1)for(var n=this.IM.insertRow(),r=0;r<t[i].length;r+=1){var e=n.insertCell(),o=t[i][r];"object"!=typeof o?this.jM(o,e):this.addCustomButton(o,e)}},t.prototype.jM=function(t,i){switch(t){case ye.ZoomIn:this.BM(new _o(this.pr,this.chart,this.Tr),i);break;case ye.ZoomInX:this.BM(new Oo(this.pr,this.chart,this.Tr),i);break;case ye.ZoomInY:this.BM(new Fo(this.pr,this.chart,this.Tr),i);break;case ye.ZoomOut:this.BM(new Io(this.pr,this.chart,this.Tr),i);break;case ye.ZoomOutX:this.BM(new jo(this.pr,this.chart,this.Tr),i);break;case ye.ZoomOutY:this.BM(new Bo(this.pr,this.chart,this.Tr),i);break;case ye.ZoomToFit:this.BM(new Lo(this.pr,this.chart,this.Tr),i);break;case ye.ToggleAnimations:this.BM(new Do(this.pr,this.chart,this.Tr),i);break;default:console.error('No predefined button like "'.concat(ye[t],'" exists.'))}},t.prototype.BM=function(t,i){i.rowSpan=t.mr.rows,i.colSpan=t.mr.columns,t.Dr(i)},t.prototype.addCustomButton=function(t,i){var n=new Eo(this.pr,t,this.chart);return this.BM(n,i),this},t.prototype.dispose=function(){this.xM.remove(),this.j.D("dispose",{})},t.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},t.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},t}(),Md=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cd=function(){return Cd=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Cd.apply(this,arguments)},Td=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},kd=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},_d=function(t){function i(i,n,r,e,o,s,a,u,h,f,c,l){var v,d=this;return(d=t.call(this,i,n,r,e,o,s,a,u,h,f)||this).DM=function(t){d.j.D(t.type,t)},d.LM=0,d.j=new Nt,d.xu=l,d.Hh=d.Yn.Ul(d.scale).fe(an(d.xi.lineSeriesStrokeStyle,c)).Rl(an(d.xi.pointSeriesFillStyle,c)).Ql(an(d.xi.pointSeriesStrokeStyle,c)).Gl(an(d.xi.areaSeriesPositiveFillStyle,c)).EM(void 0).Kl(7),d.Hh.PM=!1!==(null===(v=d.xu)||void 0===v?void 0:v.allowDataGrouping),d.Sn(d.Hh),d}return Md(i,t),i.prototype.kA=function(){return this.zM().getSampleCount()>0},i.prototype.xn=function(){return this.getDataSet().rl(this.NM)},i.prototype.setDataSet=function(t,i){var n,r=this,e=null===(n=this.Nl)||void 0===n?void 0:n.$i;if(t===e&&i&&this.NM&&Ra(i,this.NM))return this;var o=["change","clear","loop","maxsamplecountexceed"];return e&&o.forEach((function(t){return e.removeEventListener(t,r.DM)})),t?(o.forEach((function(i){return t.addEventListener(i,r.DM)})),!i&&t.Qc&&(i=this.VM(t.Qc)),i&&t.yl(i),this.NM=i,this.RM=!1,(null==i?void 0:i.color)&&this.chart.Ai.pu(zs.Fa),(null==i?void 0:i.size)&&this.chart.Ai.pu(zs.Oa),this.Nl=Sn(t,this.Nl,(function(){return{change:function(){r.LM+=1,r.LM>1&&r.chart.Ai.pu(zs._a),r.chart.Ai.Fn()},clear:function(){r.chart.Ai.Fn()}}})),i&&this.Hh.Vl(t,i),this.chart.Ai.Fn(),this):(this.Hh.Vl(),this)},i.prototype.getDataSet=function(){return this.zM()},i.prototype.setDataMapping=function(t){var i;return(null===(i=this.Nl)||void 0===i?void 0:i.$i)?this.setDataSet(this.getDataSet(),t):this.NM=t,this.RM=!1,this},i.prototype.getDataMapping=function(){return this.NM},i.prototype.setStrokeStyle=function(t){return this.Hh.fe(t),this.Yn.Fn(),this},i.prototype.getStrokeStyle=function(){return this.Hh.oa()},i.prototype.setAreaFillStyle=function(t){return this.Hh.Gl(t),this.Yn.Fn(),this},i.prototype.getAreaFillStyle=function(){return this.Hh.GM()},i.prototype.setPointFillStyle=function(t){return this.Hh.Rl(t),this.Yn.Fn(),this},i.prototype.getPointFillStyle=function(){return this.Hh.Zl()},i.prototype.setPointStrokeStyle=function(t){return this.Hh.Ql(t),this.Yn.Fn(),this},i.prototype.getPointStrokeStyle=function(){return this.Hh.Jl()},i.prototype.setPointSize=function(t){return this.Hh.Kl(t),this.Yn.Fn(),this},i.prototype.getPointSize=function(){return this.Hh.UM()},i.prototype.setPointShape=function(t){return this.Hh.Yl(t),this.Yn.Fn(),this},i.prototype.getPointShape=function(){return this.Hh.Wl()},i.prototype.setPointRotation=function(t){return this.Hh.Xl(t),this.Yn.Fn(),this},i.prototype.getPointRotation=function(){return this.Hh.Hl()},i.prototype.setPointAlignment=function(t){return this.Hh.Jd(t),this.chart.Ai.Fn(),this},i.prototype.getPointAlignment=function(){return this.Hh.YM()},i.prototype.setCurvePreprocessing=function(t){return this.Hh.EM(t),this.Yn.Fn(),this},i.prototype.getCurvePreprocessing=function(){return this.Hh.WM()},i.prototype.appendJSON=function(t,i,n){return this.zM().appendJSON(t,i,n),this.Yn.Ai.Fn(),this},i.prototype.appendSample=function(t,i){return this.zM().appendSample(t,i),this.Yn.Ai.Fn(),this},i.prototype.appendSamples=function(t,i){return this.zM().appendSamples(t,i),this.Yn.Ai.Fn(),this},i.prototype.fill=function(t){return this.zM().fill(t),this.Yn.Fn(),this},i.prototype.setSamples=function(t,i){return this.zM().setSamples(t,i),this.Yn.Fn(),this},i.prototype.alterSamplesStartingFrom=function(t,i,n){return this.zM().alterSamplesStartingFrom(t,i,n),this.Yn.Fn(),this},i.prototype.alterSamplesByIndex=function(t,i){return this.zM().alterSamplesByIndex(t,i),this.Yn.Fn(),this},i.prototype.alterSamplesByMatch=function(t,i,n){return this.zM().alterSamplesByMatch(t,i,n),this.Yn.Fn(),this},i.prototype.getSampleCount=function(){return this.zM().getSampleCount()},i.prototype.getNextSampleIndex=function(){return this.zM().getNextSampleIndex()},i.prototype.setMaxSampleCount=function(t){return this.zM().setMaxSampleCount(t),this.Yn.Fn(),this},i.prototype.getMaxSampleCount=function(){return this.zM().getMaxSampleCount()},i.prototype.clear=function(){return this.zM().clear(),this.Yn.Fn(),this},i.prototype.readBack=function(t){if(this.NM||this.XM(),!this.NM)return{xValues:new Float64Array,yValues:new Float64Array,iSampleFirst:0};var i=this.zM();if(null==t?void 0:t.onlyInRange){var n=i.rl(this.NM),r=n&&be(n);if(!r)throw new Error("LightningChart JS - attempted to use `PointLineAreaSeries.readBack` with `onlyInRange` without a data pattern.\nThis operation is only supported for progressive data");var e=this.NM[r];return i.dl(this.NM,{onlyInRange:{key:e,start:t.onlyInRange.start,end:t.onlyInRange.end}})}return i.dl(this.NM)},i.prototype.solveNearest=function(t,i){void 0===i&&(i=this.chart.getCursorMode()||"show-nearest"),this.NM||this.XM();var n=zp(i);void 0!==this.getCurvePreprocessing()&&(n=!1);var r=this.HM(),e=Kr(t)?this.chart.translateCoordinate(t,{x:this.axisX,y:this.axisY}):t,o=r.wl(this.NM,e,n,this.scale,this.chart.hd);if(void 0!==o)return Cd(Cd({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{series:this,axisX:this.axisX,axisY:this.axisY,pointShape:this.getPointShape()})},i.prototype.Ji=function(t,i,n){var r=this,e=this.getDataSet(),o=null==t?void 0:t.dataPoint;return void 0===e.rl(this.NM)||o?o?Cd(Cd({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{series:this,axisX:this.axisX,axisY:this.axisY,pointShape:this.getPointShape()}):void 0:wn({series:this,axisX:this.axisX,axisY:this.axisY},{x:0,y:0,cursorPosition:0,rotation:0,size:0,color:0,lookupValue:0,multiHit:0,iSample:0,sample:0,pointShape:0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},i.prototype.HM=function(){return this.zM()},i.prototype.Rn=function(){return en(this.getPointFillStyle(),this.Hh.Mi())||en(this.getStrokeStyle().getFillStyle(),this.Hh.Mi())||en(this.getAreaFillStyle(),this.Hh.Mi())},i.prototype.OA=function(){var t,i=null===(t=this.Nl)||void 0===t?void 0:t.$i;return this.getVisible()&&this.getAutoScrollingEnabled()&&void 0!==i&&i.Nc>0},i.prototype.zx=function(t){},i.prototype.Rx=function(t){this.NM||this.XM();var i=this.Hh.Hu();return i&&"y"===i.ZM&&t&&i.QM(),this.Hh.Xi(t)},i.prototype.Gx=function(t){this.NM||this.XM();var i=this.Hh.Hu();return i&&"y"===i.ZM&&t&&i.QM(),this.Hh.Wi(t)},i.prototype.Ux=function(t){this.NM||this.XM();var i=this.Hh.Hu();return i&&"x"===i.ZM&&!t&&i.QM(),this.Hh.Zi(t)},i.prototype.Yx=function(t){this.NM||this.XM();var i=this.Hh.Hu();return i&&"x"===i.ZM&&t&&i.QM(),this.Hh.Hi(t)},i.prototype.us=function(){return{x:this.Hh.Cf(),y:this.Hh.Tf()}},i.prototype.XM=function(){var t,i=null===(t=this.Nl)||void 0===t?void 0:t.$i;if((!this.NM||this.RM)&&i&&i.Qc){var n=i.Qc,r=this.JM,e=!1;if(this.NM&&this.RM&&r){var o=Object.keys(n).length!==Object.keys(r).length,s=Object.entries(n).find((function(t){var i,n=Td(t,2),e=n[0],o=n[1];return e in r&&r[e]!==(null===(i=o.Zc)||void 0===i?void 0:i.effective)}));e=!o&&void 0===s}if(!e){var a=this.VM(i.Qc);!a||this.NM&&Ra(this.NM,a)||(this.NM=a,this.RM=!0,a.color&&this.chart.Ai.pu(zs.Fa),a.size&&this.chart.Ai.pu(zs.Oa),this.Hh.Vl(i,a)),this.JM=Object.fromEntries(Object.entries(i.Qc).map((function(t){var i,n=Td(t,2);return[n[0],null===(i=n[1].Zc)||void 0===i?void 0:i.effective]})))}}},i.prototype.gA=function(){var i,n,r,e;if(t.prototype.gA.call(this),this.XM(),((null===(i=this.xu)||void 0===i?void 0:i.strictMode)||(null===(n=this.Nl)||void 0===n?void 0:n.$i.Xc))&&this.NM&&(null===(r=this.Nl)||void 0===r?void 0:r.$i)){var o=this.Nl.$i.Qc;o&&Object.values(this.NM).forEach((function(t){if(!(t in o))throw new Error("LightningChart JS error - PointLineAreaSeries data mapping is referencing a data property ('".concat(t,"') that doesn't exist in the connected data set. This is not allowed when strict mode is enabled."))}))}var s=be(null!==(e=this.xn())&&void 0!==e?e:"ProgressiveX");this.Hh.KM("x"===s?0===this.xAxis.rd?"bottom":"top":0===this.yAxis.rd?"left":"right")},i.prototype.zM=function(){var t;if(!this.Nl){var i=new Ga(this.xu);return this.setDataSet(i,!0!==this.RM?this.NM:void 0),i}return null===(t=this.Nl)||void 0===t?void 0:t.$i},i.prototype.VM=function(t){var i,n,r;if((null===(n=this.xu)||void 0===n?void 0:n.strictMode)||(null===(r=this.Nl)||void 0===r?void 0:r.$i.Xc))throw new Error("LightningChart JS error - PointLineAreaSeries data mapping is not explicitly defined. This is not allowed when strict mode is enabled.");var e=Object.entries(t),o=e.find((function(t){return t[0].toLowerCase().includes("x")})),s=e.find((function(t){return t[0].toLowerCase().includes("y")})),a=e.find((function(t){return t[0].toLowerCase().includes("size")})),u=e.find((function(t){return t[0].toLowerCase().includes("rot")})),h=e.find((function(t){return t[0].toLowerCase().includes("lookup")||t[0].toLowerCase().includes("value")&&!t[0].toLowerCase().includes("y")&&!t[0].toLowerCase().includes("x")})),f=e.find((function(t){return t[0].toLowerCase().includes("color")})),c={};a&&(c.size=a[0]),u&&(c.rotation=u[0]),h&&(c.lookupValue=h[0]),f&&(c.color=f[0]);var l=e.find((function(t){var i;return Boolean(null===(i=t[1].Zc)||void 0===i?void 0:i.effective)})),v=function(t){for(var i,n,r,o,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];try{for(var u=kd(s),h=u.next();!h.done;h=u.next())if((v=h.value)!==t)return v[0]}catch(t){i={error:t}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}try{for(var f=kd(e),l=f.next();!l.done;l=f.next()){var v;if((v=l.value)!==t&&!Object.keys(c).includes(v[0]))return v[0]}}catch(t){r={error:t}}finally{try{l&&!l.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}};if("xValues"in t&&"yValues"in t)return Cd(Cd({},c),{x:"xValues",y:"yValues"});if("yValues"in t){var d=v(e.find((function(t){return"yValues"===t[0]})));if(d)return Cd(Cd({},c),{x:d,y:"yValues"})}if("xValues"in t){var y=v(e.find((function(t){return"xValues"===t[0]})));if(y)return Cd(Cd({},c),{y:y,x:"xValues"})}if(o&&s)return Cd(Cd({},c),{x:o[0],y:s[0]});if(l){var A=v(l);if(A)return Cd(Cd({},c),((i={}).x=l[0],i.y=A,i))}return e.length>=2?Cd(Cd({},c),{x:e[0][0],y:e[1][0]}):void 0},i.prototype.re=function(){var t=this.getPointFillStyle(),i=this.getAreaFillStyle();return{stroke:this.getStrokeStyle(),fill:t!==Vr?t:i,behavior:{priority:"stroke"}}},i.prototype.Gn=function(){return this.jn||this.getPointShape()},i.prototype.ee=function(t,i){t.Oi(i),this.Yn.Fn()},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(dv),Od=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Fd={pan:!1,zoom:!1,rectangleZoom:!1,restoreDefault:!1,chartInteractions:void 0},Id=function(t,i,n,r){t.seriesBackground.addEventListener(i,n,r),t.getSeries().forEach((function(t){return t.addEventListener(i,n,r)}));var e=function(t){return t.series.addEventListener(i,n,r)};return t.addEventListener("seriesadd",e),function(){t.seriesBackground.removeEventListener(i,n),t.getSeries().forEach((function(t){return t.removeEventListener(i,n)})),t.removeEventListener("seriesadd",e)}},jd=function(t,i,n,r){var e=[];t.forEachAxis((function(t){var o=function(i){return n(t,i)};t.addEventListener(i,o,r),e.push((function(){return t.removeEventListener(i,o)}))}));var o=function(t){var o=function(i){return n(t.axis,i)};t.axis.addEventListener(i,o,r),e.push((function(){return t.axis.removeEventListener(i,o)}))};return t.addEventListener("axisadd",o),e.push((function(){return t.removeEventListener("axisadd",o)})),function(){e.forEach((function(t){return t()}))}},Bd=function(t,i,n){_n();var r=new Map;t.forEachAxis((function(t){var n,e,o=t.ae.chartInteractions;!1===o||"object"==typeof o&&!1===o.restoreDefault||r.set(t,{animate:null!==(n=i.animationsEnabled)&&void 0!==n?n:void 0,stopAxisAfter:null!==(e=i.stopScroll)&&void 0!==e?e:void 0})})),t.qM(r);var e=i.cursor;if(null!==e){e=null!=e?e:vo.ZoomOut;var o=t.engine.setMouseStyle(e);ci.setTimeout((function(){t.engine.restoreMouseStyle(o)}),500)}var s=i.on;s&&ci.requestAnimationFrame((function(){return s({event:n})}))},Dd=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ld=function(){return Ld=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Ld.apply(this,arguments)},Ed=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Pd=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},zd=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Nd=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return function(i,n){return t.forEach((function(t){return t.forEach((function(t){t.axis.ai.Z(i),t.axis.sd.Z(n)}))}))}},Vd=h(10,10);!function(t){t[t.Top=0]="Top",t[t.Bottom=1]="Bottom",t[t.Left=2]="Left",t[t.Right=3]="Right"}(ff||(ff={}));var Rd,Gd,Ud=new Set([ff.Top,ff.Bottom,ff.Left,ff.Right]),Yd=function(t){return t.setStopped(!0)},Wd=function(t,i){if(!t||!i)throw new Error("LightningChart JS error | either X or Y axis didn't exist when creating a series.");var n="linear-highPrecision"===t.eo.type||"linear-highPrecision"===i.eo.type,r="logarithmic"===t.eo.type||"logarithmic"===i.eo.type;if(n&&r){var e="Invalid Axis combination | 'logarithmic' can't be combined with 'linear-highPrecision' (x: ".concat(t.eo.type,", y: ").concat(i.eo.type,")");throw new Error(e)}};!function(t){t[t.seriesBackground=0]="seriesBackground",t[t.gridLine0=1]="gridLine0",t[t.gridLine1=2]="gridLine1",t[t.gridLine2=3]="gridLine2",t[t.highlightersBelow=4]="highlightersBelow"}(Rd||(Rd={})),function(t){t[t.plotting=0]="plotting",t[t.highlightersAbove=1]="highlightersAbove",t[t.fg=2]="fg"}(Gd||(Gd={}));var Xd,Hd=function(t){function i(i,n,r,e,o,s,a){var u,h,f,c,l,v=this;(v=t.call(this,i,n,r,n.rA("chartXY bg",0),e,n.Ai.xi.chartXYBackgroundFillStyle,n.Ai.xi.chartXYBackgroundStrokeStyle,n.Ai.xi.chartXYTitleFont,n.Ai.xi.chartXYTitleFillStyle,n.Ai.xi.chartXYTitleShadow,a,null===(u=null==s?void 0:s.legend)||void 0===u?void 0:u.customLegend)||this).$M=v.Yy.d2({scaleXYConstructor:nt}),v.Pd=[],v.zd=[],v.Vd=[],v.Nd=[],v.tC=new Map,v.iC=!0,v.nC=[],v.rC=v.xi.chartXYZoomingRectangleFillStyle,v.eC=v.xi.chartXYZoomingRectangleStrokeStyle,v.jd=Qd,v.Px=0,v._m=[],v.Fm=function(){if(!v.fi){var t=new Map;v.forEachAxis((function(i){void 0!==i.Sd().find((function(t){return t.kA()}))&&t.set(i,Ld(Ld({},i.getInterval()),{stopped:i.getStopped()}))})),t.size<=0||(v._m.push(t),v._m.length>100&&v._m.shift())}},v.oC=function(t,i,n){var r=t.solveNearest(i,n);return r&&Gn(r.cursorPosition.pointMarker.x,r.axisX.getInterval().start,r.axisX.getInterval().end)&&Gn(r.cursorPosition.pointMarker.y,r.axisY.getInterval().start,r.axisY.getInterval().end)?r:void 0},v.sC=Nd(v.zd,v.Pd),v.aC=Nd(v.Vd,v.Nd),v.uC=function(t){v.sC(t.engineWidth,t.engineHeight),v.aC(t.engineHeight,t.engineWidth),v.$M.Z(t.engineWidth,t.engineHeight),v.Ai.Fn()},v.hC=function(t,i){v.tC.set(t,i)},v.$v=function(t){var i=v.zd.findIndex((function(i){return i.axis===t})),n=v.Pd.findIndex((function(i){return i.axis===t})),r=v.Vd.findIndex((function(i){return i.axis===t})),e=v.Nd.findIndex((function(i){return i.axis===t}));i>=0&&v.zd.splice(i,1),n>=0&&v.Pd.splice(n,1),r>=0&&v.Vd.splice(r,1),e>=0&&v.Nd.splice(e,1),v.tC.delete(t),v.Ai.Fn()},v.addAreaRangeSeries=function(t){var i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||v.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||v.getDefaultAxisY();Wd(i,n);var r=new hd(v,v.Mb,v.gg,i,n,v.fC(i),v.fC(n),v.Xy,v.xi,v.Ai.yn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:v.Sb.length);return v.Ob(r,t),r},v.j=new Nt,v.Ai.pu(zs.wa),v.bs({left:null!==(h=v.xi.panelPadding)&&void 0!==h?h:7,right:null!==(f=v.xi.panelPadding)&&void 0!==f?f:7,top:null!==(c=v.xi.panelPadding)&&void 0!==c?c:7,bottom:null!==(l=v.xi.panelPadding)&&void 0!==l?l:7},!1),v.cC=n.Vm("chartXY series bg",Rd.seriesBackground),v.lC=[Rd.gridLine0,Rd.gridLine1,Rd.gridLine2].map((function(t){return n.vC("chartXY gridline #".concat(t),t)})),v.Kv=n.vC("chartXY highlighters below",Rd.highlightersBelow),v.gg=n.Rm("chartXY plotting",Gd.plotting),v.qv=n.Rm("chartXY highlighters above",Gd.highlightersAbove),v.Jv=n.Rm("chartXY fg",Gd.fg),v.$M.x.X(0,v.uiScale.x.getCellSize()-(v.ot.left+v.ot.right+v.Ls.left+v.Ls.right)),v.$M.y.X(0,v.uiScale.y.getCellSize()-(v.ot.bottom+v.ot.top+v.Ls.bottom+v.Ls.top)),v.$M.Z(v.uiScale.Mt().x,v.uiScale.Mt().y),v.kb=v.cC.te(v.$M).$r(v.xi.chartXYSeriesBackgroundFillStyle).qr(qt),v._b=v.cC.te(v.$M).$r(Vr).qr(v.xi.chartXYSeriesBackgroundStrokeStyle).setPointerEvents(!1),t.prototype.Tb.call(v,v.kb,v._b),v.setSeriesBackgroundEffect(!1);var d=gi(s?s.cursorBuilder:void 0,xd),y=n.Zm();v.Qm=Up(v,y,d.pm(y,v.$M,v.$M,Ai,v.xi),v,"show-all",ty,(function(t,i){var n=v.translateCoordinate(t,{x:t.axisX,y:t.axisY},v.coordsClient);return Math.sqrt(Math.pow(n.clientX-i.clientX,2)+Math.pow(n.clientY-i.clientY,2))})),v.addAxisX(s&&s.defaultAxisX),v.addAxisY(s&&s.defaultAxisY),v.addEventListener("resize",v.uC),v.Ve.Wo("ChartXY"),v.setAnimationsEnabled(!1!==(null==s?void 0:s.animationsEnabled)),v.nA(o,v.$M),v.Jm=function(t){var i={},n=!1,r=!1,e=!1,o=function(){var n,r=t.getAxes().find((function(t){var i,n;return(null===(i=t.getScrollStrategy())||void 0===i?void 0:i.id)===is||(null===(n=t.getScrollStrategy())||void 0===n?void 0:n.id)===ns})),e=t.getSeries().map((function(t){return t.xn()})).find((function(t){return t})),o=t.getSeries().find((function(t){return t instanceof _d&&!Rr(t.getAreaFillStyle())&&t.xn()})),s=r?{type:"scrolling",scrollingAxis:r,x:r.isX,y:r.isY}:e?{type:"progressive",x:"ProgressiveX"===e||"RegressiveX"===e,y:"ProgressiveY"===e||"RegressiveY"===e}:{type:"freeform"};if("progressive"===s.type){var a={zoom:{wheel:{},stopScroll:!0},pan:{lmb:!1,rmb:{drag:{}}},restoreDefault:{doubleClick:!0},rectangleZoom:{lmb:{drag:{}},rmb:!1}},u={pan:{lmb:!1,rmb:{drag:{}}},zoom:{wheel:{},mode:o?"keep-start":"centered"},restoreDefault:{doubleClick:!0},rectangleZoom:{lmb:{drag:{}},rmb:!1}};return hi({rectangleZoom:{x:s.x,y:s.y,rmb:!1},pan:{x:s.x,y:s.y,pinch:{},lmb:!1,rmb:{drag:{}}},paginate:!1,zoom:{x:s.x,y:s.y,wheel:{},pinch:{},stopScroll:!0},restoreDefault:{doubleClick:!0},restorePrevious:{ctrl:{code:"KeyZ"}},xAxis:s.x?a:u,yAxis:s.y?a:u},i)}if("scrolling"===s.type){var h=((null===(n=s.scrollingAxis.ko)||void 0===n?void 0:n.id)===ns?-1:1)*(s.scrollingAxis.getInterval().end>s.scrollingAxis.getInterval().start?1:-1)>0?"keep-end":"keep-start";return a={zoom:{wheel:{},stopScroll:!1,mode:h},pan:{drag:{}},restoreDefault:{doubleClick:!0}},u={rectangleZoom:{lmb:{},rmb:!1,mmb:!1},pan:{lmb:!1,rmb:{drag:{}},mmb:!1},zoom:{drag:!1,wheel:{},mode:o?"keep-start":"centered"},restoreDefault:{doubleClick:!0}},hi({rectangleZoom:!1,pan:{x:s.x,y:s.y,pinch:{},drag:{}},paginate:!1,zoom:{x:s.x,y:s.y,wheel:{},pinch:{stopScroll:!0},stopScroll:!1,mode:h},restoreDefault:{doubleClick:!0},restorePrevious:!1,xAxis:s.x?a:u,yAxis:s.y?a:u},i)}return hi({pan:{x:!0,y:!0,pinch:{},lmb:!1,rmb:{drag:{}}},zoom:{x:!0,y:!0,pinch:{},wheel:{},mode:"toward-pointer"},rectangleZoom:{x:!0,y:!0,lmb:!0,rmb:!1},restoreDefault:{doubleClick:!0},restorePrevious:{ctrl:{code:"KeyZ"}},axes:{pan:{rmb:{drag:{}},lmb:!1},rectangleZoom:{lmb:{drag:{}},rmb:!1},zoom:{wheel:{}},restoreDefault:{doubleClick:!0}}},i)},s=function(t){var i=o(),n=t.getUserInteractions(),r=t.isX?i.xAxis:i.yAxis,e=i.axes;return hi(null!=(e=!1!==e?e:Fd)?e:{},null!=(r=!1!==r?r:Fd)?r:{},n)},a=function(t){},u=function(i){if(t.axisX&&t.axisY){var s=ne(!1!==t.Ai.xu.Su),a=o(),u=ie(a.pan,"drag",i,n,r,e);u&&s.push((function(){return function(t,i,n,r){var e,o=t.getCursorMode(),s=!1,a=i;"mouse"===i.pointerType&&i.preventDefault();var u=function(r){if(r.pointerId===i.pointerId){var o=r.clientX-a.clientX,u=r.clientY-a.clientY;if(a=r,!s){if(!("mouse"===r.pointerType||Math.max(Math.abs(r.clientX-i.clientX),Math.abs(r.clientY-i.clientY))>=10))return;s=!0;var h=n.cursor;null!==h&&(h=null!=h?h:!1===n.x?vo.Vertical:!1===n.y?vo.Horizontal:vo.Move,e=t.engine.setMouseStyle(h)),t.setCursorMode(void 0),kn()}Pi(r),n.x&&t.forEachAxisX((function(t){var i,r=t.ae.chartInteractions;!1===r||"object"==typeof r&&!1===r.pan||(!1!==n.stopScroll&&t.setStopped(!0),t.pan(-o*(null!==(i=n.sensitivity)&&void 0!==i?i:1)))})),n.y&&t.forEachAxisY((function(t){var i,r=t.ae.chartInteractions;!1===r||"object"==typeof r&&!1===r.pan||(!1!==n.stopScroll&&t.setStopped(!0),t.pan(u*(null!==(i=n.sensitivity)&&void 0!==i?i:1)))}));var f=n.on;f&&ci.requestAnimationFrame((function(){return f({event:r})}))}},h=function(n){n.pointerId===i.pointerId&&(ci.removeEventListener("pointermove",u),ci.removeEventListener("pointerup",h),t.engine.container.removeEventListener("pointerdown",f),e=t.engine.restoreMouseStyle(e),r(),t.setCursorMode(o),s&&(Tn("click"),Tn("contextmenu")))},f=function(n){n.pointerId!==i.pointerId&&(ci.removeEventListener("pointermove",u),ci.removeEventListener("pointerup",h),t.engine.container.removeEventListener("pointerdown",f),e=t.engine.restoreMouseStyle(e),r(),t.setCursorMode(o))};ci.addEventListener("pointermove",u),ci.addEventListener("pointerup",h),t.engine.container.addEventListener("pointerdown",f),_n()}(t,i,u,v())}));var h=ie(a.zoom,"drag",i,n,r,e);h&&s.push((function(){return function(t,i,n,r){var e,o=n.cursor;if(null!==o){var s="function"==typeof o?o("in"):o;null!==s&&(s=null!=s?s:vo.ZoomIn,e=t.engine.setMouseStyle(s))}var a=t.getCursorMode();t.setCursorMode(void 0);var u=!1,h=i;"mouse"===i.pointerType&&i.preventDefault();var f=function(r){if(r.pointerId===i.pointerId){Pi(r);var s={x:r.clientX-h.clientX,y:r.clientY-h.clientY};h=r,n.x&&t.forEachAxisX((function(r){var a,u=r.ae.chartInteractions;if(!1!==u&&("object"!=typeof u||!1!==u.zoom)){var h;h="keep-start"===n.mode?r.getInterval().start:"keep-end"===n.mode?r.getInterval().end:"centered"===n.mode?r.ai.Dt((r.ai.bt()+r.ai.xt())/2):t.translateCoordinate(i,{x:r,y:r}).x;var f=.05*r.no.getWidth({x:-s.x,y:s.y})*(null!==(a=n.sensitivity)&&void 0!==a?a:1);if(r.zoom(h,f),!1!==n.stopScroll&&r.setStopped(!0),null!==o){var c="function"==typeof o?o(f<0?"in":"out"):o;null!==c&&(c=null!=c?c:f<0?vo.ZoomIn:vo.ZoomOut,e=t.engine.setMouseStyle(c,e))}}})),n.y&&t.forEachAxisY((function(r){var a,u=r.ae.chartInteractions;if(!1!==u&&("object"!=typeof u||!1!==u.zoom)){var h;h="keep-start"===n.mode?r.getInterval().start:"keep-end"===n.mode?r.getInterval().end:"centered"===n.mode?r.ai.Dt((r.ai.bt()+r.ai.xt())/2):t.translateCoordinate(i,{x:r,y:r}).y;var f=.05*r.no.getWidth({x:-s.x,y:s.y})*(null!==(a=n.sensitivity)&&void 0!==a?a:1);if(r.zoom(h,f),!1!==n.stopScroll&&r.setStopped(!0),null!==o){var c="function"==typeof o?o(f<0?"in":"out"):o;null!==c&&(c=null!=c?c:f<0?vo.ZoomIn:vo.ZoomOut,e=t.engine.setMouseStyle(c,e))}}})),u||(kn(),u=!0);var a=n.on;a&&ci.requestAnimationFrame((function(){return a({event:r})}))}},c=function(n){n.pointerId===i.pointerId&&(ci.removeEventListener("pointermove",f),ci.removeEventListener("pointerup",c),t.engine.container.removeEventListener("pointerdown",l),e=t.engine.restoreMouseStyle(e),r(),t.setCursorMode(a))},l=function(n){n.pointerId!==i.pointerId&&(ci.removeEventListener("pointermove",f),ci.removeEventListener("pointerup",c),t.engine.container.removeEventListener("pointerdown",l),e=t.engine.restoreMouseStyle(e),r(),t.setCursorMode(a))};ci.addEventListener("pointermove",f),ci.addEventListener("pointerup",c),t.engine.container.addEventListener("pointerdown",l),_n()}(t,i,h,v())}));var f=ie(a.rectangleZoom,void 0,i,n,r,e);f&&s.push((function(){return function(t,i,n,r){var e,o=t.getCursorMode(),s=t.addRectangleSeries({legend:null}).setDrawOrder({seriesDrawOrderIndex:1e3}).setPointerEvents(!1).setCursorEnabled(!1).setAutoScrollingEnabled(!1).setClipping(!1),a=s.add({x1:0,x2:0,y1:0,y2:0}),u=!1,h=!1;"mouse"===i.pointerType&&i.preventDefault();var f=function(r){if(r.pointerId===i.pointerId){Pi(r),n.x&&t.forEachAxisX((function(t){var i=t.ae.chartInteractions;!1===i||"object"==typeof i&&!1===i.rectangleZoom||t.setStopped(!0)})),n.y&&t.forEachAxisY((function(t){var i=t.ae.chartInteractions;!1===i||"object"==typeof i&&!1===i.rectangleZoom||t.setStopped(!0)}));var s=t.translateCoordinate(i,t.coordsAxis),f=t.translateCoordinate(r,t.coordsAxis),c=at({x:0,y:0},t.$M,t.coordsAxis),l=at({x:t.$M.x.getInnerEnd(),y:t.$M.y.getInnerEnd()},t.$M,t.coordsAxis);!1===n.x?a.setDimensions({y1:s.y,x1:c.x,y2:f.y,x2:l.x}):!1===n.y?a.setDimensions({x1:s.x,y1:c.y,x2:f.x,y2:l.y}):a.setDimensions({x1:s.x,y1:s.y,x2:f.x,y2:f.y});var v=Un({x:r.clientX,y:r.clientY},{x:n.x?i.clientX:r.clientX,y:n.y?i.clientY:r.clientY})>=20,d=Gn(f.x,c.x,l.x)&&Gn(f.y,c.y,l.y);if(a.setFillStyle(v&&d?t.getZoomingRectangleFillStyle():Vr).setStrokeStyle(v&&d?t.getZoomingRectangleStrokeStyle():qt),u||(kn(),u=!0),t.setCursorMode(v?void 0:o),v){var y=n.cursor;if(null!==y&&(y=null!=y?y:vo.ZoomIn,e=t.engine.setMouseStyle(y,e)),!h){var A=n.start;A&&A({event:r})}}else e=t.engine.restoreMouseStyle(e);h=v}},c=function(a){if(a.pointerId===i.pointerId){var u=Un({x:a.clientX,y:a.clientY},{x:n.x?i.clientX:a.clientX,y:n.y?i.clientY:a.clientY})>=20,h=t.translateCoordinate(a,t.coordsAxis),v=at({x:0,y:0},t.$M,t.coordsAxis),d=at({x:t.$M.x.getInnerEnd(),y:t.$M.y.getInnerEnd()},t.$M,t.coordsAxis),y=Gn(h.x,v.x,d.x)&&Gn(h.y,v.y,d.y);u&&y&&t.forEachAxis((function(r){var e,o;if((!r.isX||n.x)&&(!r.isY||n.y)){var s=r.ae.chartInteractions;if(!1!==s&&("object"!=typeof s||!1!==s.rectangleZoom)){var u=t.translateCoordinate(i,{x:r,y:r}),h=t.translateCoordinate(a,{x:r,y:r}),f=r.no.getWidth(u),c=r.no.getWidth(h),l=Math.sign(c-f),v=Math.sign(r.getInterval().end-r.getInterval().start),d=l===v?f:c,y=l===v?c:f;r.ui(d,y,null!==(e=n.animationsEnabled)&&void 0!==e?e:void 0,null!==(o=n.stopScroll)&&void 0!==o?o:void 0,"interactionSetInterval")}}})),u&&(Tn("click"),Tn("contextmenu")),t.setCursorMode(o),s.dispose(),ci.removeEventListener("pointermove",f),ci.removeEventListener("pointerup",c),t.engine.container.removeEventListener("pointerdown",l),e=t.engine.restoreMouseStyle(e),r();var A=u&&y&&n.on;A&&ci.requestAnimationFrame((function(){return A({event:a})}))}},l=function(n){n.pointerId!==i.pointerId&&(t.setCursorMode(o),s.dispose(),ci.removeEventListener("pointermove",f),ci.removeEventListener("pointerup",c),t.engine.container.removeEventListener("pointerdown",l),e=t.engine.restoreMouseStyle(e),r())};ci.addEventListener("pointermove",f),ci.addEventListener("pointerup",c),t.engine.container.addEventListener("pointerdown",l),_n()}(t,i,f,v())})),s.end();var c=ie(a.pan,"pinch",i,n,r,e),l=ie(a.zoom,"pinch",i,n,r,e);(l||c)&&function(t,i,n,r,e){if(n||r){var o=function(a){if(a.pointerId!==i.pointerId){var u,h=e();t.engine.container.removeEventListener("pointerdown",o),ci.removeEventListener("pointerup",s);var f=a,c=t.getCursorMode();t.setCursorMode(void 0);var l=function(e){var o,s,h,c,l=u,v=f;if(e.pointerId===i.pointerId)u=e;else{if(e.pointerId!==a.pointerId)return;f=e}if(Pi(e),void 0!==u&&void 0!==l){var d={x:(u.clientX-l.clientX+(f.clientX-v.clientX))/2*(null!==(o=null==n?void 0:n.sensitivity)&&void 0!==o?o:1),y:(u.clientY-l.clientY+(f.clientY-v.clientY))/-2*(null!==(s=null==n?void 0:n.sensitivity)&&void 0!==s?s:1)},y=!1;if(n&&n.x&&(y=!0,t.forEachAxisX((function(t){var i=t.ae.chartInteractions;!1===i||"object"==typeof i&&!1===i.pan||t.Ud({},d)}))),n&&n.y&&(y=!0,t.forEachAxisY((function(t){var i=t.ae.chartInteractions;!1===i||"object"==typeof i&&!1===i.pan||t.Ud({},d)}))),y){var A=null==n?void 0:n.on;A&&ci.requestAnimationFrame((function(){return A({event:e})}))}var b=ar(sr({x:Math.abs(l.clientX-v.clientX),y:Math.abs(l.clientY-v.clientY)},{x:Math.abs(u.clientX-f.clientX),y:Math.abs(u.clientY-f.clientY)}),{x:null!==(h=null==r?void 0:r.sensitivity)&&void 0!==h?h:1,y:null!==(c=null==r?void 0:r.sensitivity)&&void 0!==c?c:1}),p=!1;if(r&&r.x&&(p=!0,t.forEachAxisX((function(t){var i,n=t.ae.chartInteractions;!1===n||"object"==typeof n&&!1===n.zoom||t.ui(t.ai.Jt(t.getInterval().start,-t.no.getWidth(b)),t.ai.Jt(t.getInterval().end,t.no.getWidth(b)),!1,null!==(i=r.stopScroll)&&void 0!==i?i:void 0,"interactionZoom")}))),r&&r.y&&(p=!0,t.forEachAxisY((function(t){var i,n=t.ae.chartInteractions;!1===n||"object"==typeof n&&!1===n.zoom||t.ui(t.ai.Jt(t.getInterval().start,-t.no.getWidth(b)),t.ai.Jt(t.getInterval().end,t.no.getWidth(b)),!1,null!==(i=r.stopScroll)&&void 0!==i?i:void 0,"interactionZoom")}))),p){var m=null==r?void 0:r.on;m&&ci.requestAnimationFrame((function(){return m({event:e})}))}}},v=function(n){n.pointerId!==i.pointerId&&n.pointerId!==a.pointerId||(Pi(n),t.setCursorMode(c),ci.removeEventListener("pointermove",l),ci.removeEventListener("pointerup",v),h())};ci.addEventListener("pointermove",l),ci.addEventListener("pointerup",v),_n()}},s=function(n){n.pointerId===i.pointerId&&(t.engine.container.removeEventListener("pointerdown",o),ci.removeEventListener("pointerup",s))};t.engine.container.addEventListener("pointerdown",o),ci.addEventListener("pointerup",s)}}(t,i,c,l,v)}};Id(t,"wheel",(function(i){var s=ne(!1!==t.Ai.xu.Su),a=o(),u=ie(a.pan,"wheel",i,n,r,e);u&&s.push((function(){return function(t,i,n){if(Pi(i),t.forEachAxisX((function(t){var r,e=t.ae.chartInteractions;!1===e||"object"==typeof e&&!1===e.pan||n.x&&(!1!==n.stopScroll&&t.setStopped(!0),t.pan(-30*Math.sign(i.deltaY)*(null!==(r=n.sensitivity)&&void 0!==r?r:1)))})),t.forEachAxisY((function(t){var r,e=t.ae.chartInteractions;!1===e||"object"==typeof e&&!1===e.pan||n.y&&(!1!==n.stopScroll&&t.setStopped(!0),t.pan(-30*Math.sign(i.deltaY)*(null!==(r=n.sensitivity)&&void 0!==r?r:1)))})),n.x||n.y){var r=n.cursor;if(null!==r){r=null!=r?r:!n.x&&n.y?vo.Vertical:n.x&&!n.y?vo.Horizontal:vo.Move;var e=t.engine.setMouseStyle(r);ci.setTimeout((function(){t.engine.restoreMouseStyle(e)}),500)}var o=n.on;o&&ci.requestAnimationFrame((function(){return o({event:i})}))}}(t,i,u)}));var h=ie(a.zoom,"wheel",i,n,r,e);h&&s.push((function(){return function(t,i,n){Pi(i),t.forEachAxisX((function(r){var e,o,s=r.ae.chartInteractions;!1===s||"object"==typeof s&&!1===s.zoom||n.x&&(o="keep-start"===n.mode?r.getInterval().start:"keep-end"===n.mode?r.getInterval().end:"centered"===n.mode?r.ai.Dt((r.ai.bt()+r.ai.xt())/2):t.translateCoordinate(i,{x:r,y:r}).x,r.zoom(o,Math.sign(i.deltaY)*(null!==(e=n.sensitivity)&&void 0!==e?e:1)),!1!==n.stopScroll&&r.setStopped(!0))})),t.forEachAxisY((function(r){var e,o,s=r.ae.chartInteractions;!1===s||"object"==typeof s&&!1===s.zoom||n.y&&(o="keep-start"===n.mode?r.getInterval().start:"keep-end"===n.mode?r.getInterval().end:"centered"===n.mode?r.ai.Dt((r.ai.bt()+r.ai.xt())/2):t.translateCoordinate(i,{x:r,y:r}).y,r.zoom(o,Math.sign(i.deltaY)*(null!==(e=n.sensitivity)&&void 0!==e?e:1)),!1!==n.stopScroll&&r.setStopped(!0))}));var r=n.cursor;if(null!==r){var e="function"==typeof r?r(i.deltaY<0?"in":"out"):r;if(null!==e){e=null!=e?e:i.deltaY<0?vo.ZoomIn:vo.ZoomOut;var o=t.engine.setMouseStyle(e);ci.setTimeout((function(){t.engine.restoreMouseStyle(o)}),500)}}var s=n.on;s&&ci.requestAnimationFrame((function(){return s({event:i})}))}(t,i,h)})),s.end()})),Id(t,"click",(function(i){if(!i.defaultPrevented){var s=ne(!1!==t.Ai.xu.Su),a=o(),u=ie(a.restoreDefault,void 0,i,n,r,e);u&&u.singleClick&&s.push((function(){Pi(i),Bd(t,u,i)}));var h=ie(a.restorePrevious,void 0,i,n,r,e);h&&h.singleClick&&s.push((function(){Pi(i);var n=t.getAxes().filter((function(t){var i=t.ae.chartInteractions;return!(!1===i||"object"==typeof i&&!1===i.restorePrevious)}));t.restorePreviousZoomState({whitelist:n});var r=h.cursor;if(null!==r){r=null!=r?r:vo.ZoomOut;var e=t.engine.setMouseStyle(r);ci.setTimeout((function(){t.engine.restoreMouseStyle(e)}),500)}var o=h.on;o&&ci.requestAnimationFrame((function(){return o({event:i})}))})),s.end()}})),Id(t,"contextmenu",(function(i){if(!i.defaultPrevented){var s=ne(!1!==t.Ai.xu.Su),a=o(),u=ie(a.restoreDefault,"rmb",i,n,r,e);u&&u.singleClick&&s.push((function(){Pi(i),Bd(t,u,i)}));var h=ie(a.restorePrevious,"rmb",i,n,r,e);h&&h.singleClick&&s.push((function(){Pi(i);var n=t.getAxes().filter((function(t){var i=t.ae.chartInteractions;return!(!1===i||"object"==typeof i&&!1===i.restorePrevious)}));t.restorePreviousZoomState({whitelist:n});var r=h.cursor;if(null!==r){r=null!=r?r:vo.ZoomOut;var e=t.engine.setMouseStyle(r);ci.setTimeout((function(){t.engine.restoreMouseStyle(e)}),500)}var o=h.on;o&&ci.requestAnimationFrame((function(){return o({event:i})}))})),s.end()}})),Id(t,"dblclick",(function(i){if(!i.defaultPrevented){var s=ne(!1!==t.Ai.xu.Su),a=o(),u=ie(a.restoreDefault,void 0,i,n,r,e);u&&u.doubleClick&&s.push((function(){Pi(i),Bd(t,u,i)}));var h=ie(a.restorePrevious,void 0,i,n,r,e);h&&h.doubleClick&&s.push((function(){Pi(i);var n=t.getAxes().filter((function(t){var i=t.ae.chartInteractions;return!(!1===i||"object"==typeof i&&!1===i.restorePrevious)}));t.restorePreviousZoomState({whitelist:n});var r=h.cursor;if(null!==r){r=null!=r?r:vo.ZoomOut;var e=t.engine.setMouseStyle(r);ci.setTimeout((function(){t.engine.restoreMouseStyle(e)}),500)}var o=h.on;o&&ci.requestAnimationFrame((function(){return o({event:i})}))})),s.end()}}));var h=function(i,o){var a=ne(!1!==t.Ai.xu.Su),u=s(i),h=ie(u.pan,"drag",o,n,r,e);h&&a.push((function(){return function(t,i,n,r){var e,o=t.chart,s=o.getCursorMode();o.setCursorMode(void 0);var a=n.cursor;null!==a&&(a=null!=a?a:t.isY?vo.Vertical:vo.Horizontal,e=o.engine.setMouseStyle(a));var u=!1,h=i;"mouse"===i.pointerType&&i.preventDefault();var f=function(r){var e;if(r.pointerId===i.pointerId){Pi(r);var o=r.clientX-h.clientX,s=r.clientY-h.clientY;h=r,!1!==n.stopScroll&&t.setStopped(!0),t.pan((t.isX?-o:s)*(null!==(e=n.sensitivity)&&void 0!==e?e:1)),u||(kn(),u=!0);var a=n.on;a&&ci.requestAnimationFrame((function(){return a({event:r})}))}},c=function(n){n.pointerId===i.pointerId&&(Pi(n),ci.removeEventListener("pointermove",f),ci.removeEventListener("pointerup",c),e=t.chart.engine.restoreMouseStyle(e),r(),t.chart.setCursorMode(s))};ci.addEventListener("pointermove",f),ci.addEventListener("pointerup",c)}(i,o,h,v())}));var f=ie(u.zoom,"drag",o,n,r,e);f&&a.push((function(){return function(t,i,n,r){var e,o=t.chart,s=n.cursor;if(null!==s){var a="function"==typeof s?s("in"):s;null!==a&&(a=null!=a?a:vo.ZoomIn,e=o.engine.setMouseStyle(a))}var u=o.getCursorMode();o.setCursorMode(void 0);var h=!1,f=i;"mouse"===i.pointerType&&i.preventDefault();var c=function(r){var a;if(r.pointerId===i.pointerId){Pi(r);var u,c={x:r.clientX-f.clientX,y:r.clientY-f.clientY};f=r,u="keep-start"===n.mode?t.getInterval().start:"keep-end"===n.mode?t.getInterval().end:t.ai.Dt((t.ai.bt()+t.ai.xt())/2);var l=.05*t.no.getWidth({x:-c.x,y:c.y})*(null!==(a=n.sensitivity)&&void 0!==a?a:1);if(t.zoom(u,l),!1!==n.stopScroll&&t.setStopped(!0),null!==s){var v="function"==typeof s?s("in"):s;null!==v&&(v=null!=v?v:l<0?vo.ZoomIn:vo.ZoomOut,e=o.engine.setMouseStyle(v,e))}h||(kn(),h=!0);var d=n.on;d&&ci.requestAnimationFrame((function(){return d({event:r})}))}},l=function(t){t.pointerId===i.pointerId&&(Pi(t),ci.removeEventListener("pointermove",c),ci.removeEventListener("pointerup",l),e=o.engine.restoreMouseStyle(e),o.setCursorMode(u),r())};ci.addEventListener("pointermove",c),ci.addEventListener("pointerup",l)}(i,o,f,v())}));var c=ie(u.rectangleZoom,void 0,o,n,r,e);c&&a.push((function(){return function(t,i,n,r){var e,o=t.chart,s=o.getCursorMode();o.setCursorMode(void 0);var a=n.cursor;null!==a&&(a=null!=a?a:vo.ZoomIn,e=o.engine.setMouseStyle(a));var u=t.addBand({onTop:!0}).setPointerEvents(!1).setValueStart(t.no.getWidth(o.translateCoordinate(i,{x:t,y:t}))).setValueEnd(t.no.getWidth(o.translateCoordinate(i,{x:t,y:t}))).setVisible(!1).setFillStyle(o.getZoomingRectangleFillStyle()).setStrokeStyle(o.getZoomingRectangleStrokeStyle()),h=!1,f=!1;"mouse"===i.pointerType&&i.preventDefault();var c=function(r){if(r.pointerId===i.pointerId){Pi(r),t.setStopped(!0);var e=o.translateCoordinate(r,{x:t,y:t});u.setValueEnd(t.no.getWidth(e));var s=Un({x:r.clientX,y:r.clientY},{x:t.isX?i.clientX:r.clientX,y:t.isY?i.clientY:r.clientY})>=20;if(u.setVisible(s),h||(kn(),h=!0),s&&!f){var a=s&&n.start;a&&a({event:r})}f=s}},l=function(a){var h,f;if(a.pointerId===i.pointerId){Pi(a);var v=Un({x:a.clientX,y:a.clientY},{x:t.isX?i.clientX:a.clientX,y:t.isY?i.clientY:a.clientY})>=20;if(v){var d=t.no.getWidth(o.translateCoordinate(i,{x:t,y:t})),y=t.no.getWidth(o.translateCoordinate(a,{x:t,y:t})),A=Math.sign(y-d),b=Math.sign(t.getInterval().end-t.getInterval().start),p=A===b?d:y,m=A===b?y:d;t.ui(p,m,null!==(h=n.animationsEnabled)&&void 0!==h?h:void 0,null!==(f=n.stopScroll)&&void 0!==f?f:void 0,"interactionSetInterval")}u.dispose(),ci.removeEventListener("pointermove",c),ci.removeEventListener("pointerup",l),e=o.engine.restoreMouseStyle(e),r(),o.setCursorMode(s);var g=v&&n.on;g&&ci.requestAnimationFrame((function(){return g({event:a})}))}};ci.addEventListener("pointermove",c),ci.addEventListener("pointerup",l)}(i,o,c,v())})),a.end()};jd(t,"pointerenter",(function(t,i){var n=s(t);t.getHighlightOnHover()&&(n.pan||n.rectangleZoom||n.restoreDefault||n.zoom)&&t.setHighlight(!0)})),jd(t,"pointerleave",(function(t,i){t.getHighlightOnHover()&&t.setHighlight(!1)})),jd(t,"wheel",(function(i,o){var a=ne(!1!==t.Ai.xu.Su),u=s(i),h=ie(u.zoom,"wheel",o,n,r,e);h&&a.push((function(){return function(t,i,n){var r,e;Pi(i),e="keep-start"===n.mode?t.getInterval().start:"keep-end"===n.mode?t.getInterval().end:"centered"===n.mode?t.ai.Dt((t.ai.bt()+t.ai.xt())/2):t.no.getWidth(t.chart.translateCoordinate(i,{x:t,y:t})),t.zoom(e,Math.sign(i.deltaY)*(null!==(r=n.sensitivity)&&void 0!==r?r:1)),!1!==n.stopScroll&&t.setStopped(!0);var o=n.cursor;if(null!==o){var s="function"==typeof o?o(i.deltaY<0?"in":"out"):o;if(null!==s){s=null!=s?s:i.deltaY<0?vo.ZoomIn:vo.ZoomOut;var a=t.chart.engine.setMouseStyle(s);ci.setTimeout((function(){t.chart.engine.restoreMouseStyle(a)}),500)}}var u=n.on;u&&ci.requestAnimationFrame((function(){return u({event:i})}))}(i,o,h)}));var f=ie(u.pan,"wheel",o,n,r,e);f&&a.push((function(){return function(t,i,n){var r;Pi(i);var e=t.chart;!1!==n.stopScroll&&t.setStopped(!0),t.pan(30*Math.sign(i.deltaY)*t.no.getWidth({x:-1,y:1})*(null!==(r=n.sensitivity)&&void 0!==r?r:1));var o=n.cursor;if(null!==o){o=null!=o?o:t.isY?vo.Vertical:vo.Horizontal;var s=e.engine.setMouseStyle(o);ci.setTimeout((function(){t.chart.engine.restoreMouseStyle(s)}),500)}var a=n.on;a&&ci.requestAnimationFrame((function(){return a({event:i})}))}(i,o,f)})),a.end()})),jd(t,"dblclick",(function(i,o){var a,u;if(!o.defaultPrevented){var h=s(i),f=ie(h.restoreDefault,void 0,o,n,r,e);if(f&&f.doubleClick){Pi(o),i.fit(null!==(a=f.animationsEnabled)&&void 0!==a?a:void 0,null!==(u=f.stopScroll)&&void 0!==u?u:void 0);var c=f.cursor;if(null!==c){c=null!=c?c:vo.ZoomOut;var l=t.engine.setMouseStyle(c);ci.setTimeout((function(){t.engine.restoreMouseStyle(l)}),500)}var v=f.on;v&&ci.requestAnimationFrame((function(){return v({event:o})}))}}}));var f=function(i){var s,a,u,h,f=o(),c=!1,l=!1,v=!1;try{for(var d=Od(Object.keys(f)),y=d.next();!y.done;y=d.next()){var A=y.value,b=f[A];if("object"==typeof b)if("axes"===A||"xAxis"===A||"yAxis"===A){var p=b;if("object"!=typeof p)continue;try{for(var m=(u=void 0,Od(Object.keys(p))),g=m.next();!g.done;g=m.next()){var x=p[g.value];"object"==typeof x&&("ctrl"in x&&void 0!==x.ctrl&&(c=!0),"shift"in x&&void 0!==x.shift&&(l=!0),"alt"in x&&void 0!==x.alt&&(v=!0))}}catch(t){u={error:t}}finally{try{g&&!g.done&&(h=m.return)&&h.call(m)}finally{if(u)throw u.error}}}else"ctrl"in b&&void 0!==b.ctrl&&(c=!0),"shift"in b&&void 0!==b.shift&&(l=!0),"alt"in b&&void 0!==b.alt&&(v=!0)}}catch(t){s={error:t}}finally{try{y&&!y.done&&(a=d.return)&&a.call(d)}finally{if(s)throw s.error}}r=i.ctrlKey,n=i.shiftKey,e=i.altKey,("Control"===i.key&&c||"Shift"===i.key&&l||"Alt"===i.key&&v)&&i.preventDefault();var S=ie(f.restorePrevious,void 0,i,n,r,e);if(S&&S.code===i.code){Pi(i);var w=t.getAxes().filter((function(t){var i=t.ae.chartInteractions;return!(!1===i||"object"==typeof i&&!1===i.restorePrevious)}));t.restorePreviousZoomState({whitelist:w});var M=S.on;M&&ci.requestAnimationFrame((function(){return M({event:i})}))}var C=ie(f.paginate,void 0,i,n,r,e);C&&function(t,i,n){var r,e,o,s,a=null!==(e=null===(r=n.forward)||void 0===r?void 0:r.code)&&void 0!==e?e:"ArrowLeft",u=null!==(s=null===(o=n.backward)||void 0===o?void 0:o.code)&&void 0!==s?s:"ArrowRight",h=i.code===a?1:i.code===u?-1:0;if(0!==h){var f=!1;if(t.forEachAxis((function(t){var i,r=t.ae.chartInteractions;!1===r||"object"==typeof r&&!1===r.paginate||t.isX&&!n.x||t.isY&&!n.y||(f=!0,!1!==n.stopScroll&&t.setStopped(!0),t.pan(-h*(t.uo>t.ao?1:-1)*.5*t.ai.St()*(null!==(i=n.sensitivity)&&void 0!==i?i:1)))})),f){Pi(i);var c=n.cursor;if(null!==c){c=null!=c?c:!n.x&&n.y?vo.Vertical:n.x&&!n.y?vo.Horizontal:vo.Move;var l=t.engine.setMouseStyle(c);ci.setTimeout((function(){t.engine.restoreMouseStyle(l)}),500)}var v=n.on;v&&ci.requestAnimationFrame((function(){return v({event:i})}))}}}(t,i,C);var T=ie(f.restoreDefault,void 0,i,n,r,e);if(T&&T.code===i.code){Pi(i),t.getAxes().forEach((function(t){var i,n,r=t.ae.chartInteractions;!1===r||"object"==typeof r&&!1===r.restoreDefault||t.fit(null!==(i=T.animationsEnabled)&&void 0!==i?i:void 0,null!==(n=T.stopScroll)&&void 0!==n?n:void 0)}));var k=T.on;k&&ci.requestAnimationFrame((function(){return k({event:i})}))}},c=function(t){r=t.ctrlKey,n=t.shiftKey,e=t.altKey},l=function(){r=!1,n=!1,e=!1};ci.addEventListener("keydown",f),ci.addEventListener("keyup",c),ci.addEventListener("blur",l),t.addEventListener("dispose",(function(){ci.removeEventListener("keydown",f),ci.removeEventListener("keyup",c),ci.removeEventListener("blur",l)}));var v=function(){return d(),y(),A(),function(){d=Id(t,"pointermove",a),y=Id(t,"pointerdown",u),A=jd(t,"pointerdown",h)}},d=Id(t,"pointermove",a),y=Id(t,"pointerdown",u),A=jd(t,"pointerdown",h);return{setUserInteractions:function(t){var n,r;if(void 0===t)i={pan:!1,zoom:!1,rectangleZoom:!1,restoreDefault:!1,restorePrevious:!1,axes:!1,xAxis:!1,yAxis:!1};else if(0===Object.keys(t).length)i={};else try{for(var e=Od(Object.keys(t)),o=e.next();!o.done;o=e.next()){var s=o.value;!1===t[s]||"object"==typeof t[s]?i[s]=t[s]:i[s]={}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}},getUserInteractions:o}}(v);var A=Ld({},null==s?void 0:s.legend);return v.legend.setOptions(A),v}return Dd(i,t),Object.defineProperty(i.prototype,"coordsAxis",{get:function(){return{x:this.getDefaultAxisX(),y:this.getDefaultAxisY()}},enumerable:!1,configurable:!0}),i.prototype.getSeries=function(){return this.Sb},i.prototype.restorePreviousZoomState=function(t){if(this._m.length<=1)return this;this._m.pop();var i=this._m[this._m.length-1];return i?(this.dC=ci.performance.now(),this.forEachAxis((function(n){if(!(null==t?void 0:t.whitelist)||t.whitelist.includes(n)){var r=i.get(n);r?n.ui(r.start,r.end,null==t?void 0:t.animate,void 0!==(null==t?void 0:t.stopAxisAfter)?t.stopAxisAfter:r.stopped,"userSetInterval"):n.fit(null==t?void 0:t.animate,null==t?void 0:t.stopAxisAfter)}})),this):this},i.prototype.clearPreviousZoomStateHistory=function(){if(void 0!==this.ig)this._m.length=0;else for(;this._m.length>1;)this._m.unshift();return this},i.prototype.setCursor=function(t){return this.Qm.setCursor(t),this},i.prototype.getCursor=function(){return this.Qm.getCursor()},i.prototype.setCursorMode=function(t){return this.Qm.setCursorMode(t),this},i.prototype.getCursorMode=function(){return this.Qm.getCursorMode()},i.prototype.setCustomCursor=function(t){return this.Qm.setCustomCursor(t),this},i.prototype.setCursorDynamicBehavior=function(t){return this.Qm.eg(t),this},i.prototype.setCursorFormatting=function(t){return this.Qm.setCursorFormatting(t),this},i.prototype.getCursorFormatting=function(){return this.Qm.getCursorFormatting()},i.prototype.solveNearest=function(t,i){return void 0===i&&(i=this.getCursorMode()||"show-nearest"),this.Qm.solveNearest(t,i,this.Sb,this.oC)},i.prototype.addCursor=function(t){void 0===t&&(t=xd);var i=this.Xy(),n=t.pm(i,this.$M,this.$M,this.Gy(i),this.xi);return n.fM=!0,this.tA(n),n},i.prototype.getMinimumSize=function(){var t,i={x:0,y:0};i.x+=this.ot.left+this.ot.right+this.Ls.left+this.Ls.right,i.y+=this.ot.top+this.ot.bottom+this.Ls.top+this.Ls.bottom;var n=this.Ve.Io().Oc(),r=m(Jd(this.jd||Qd,null!==(t=this.xi.chartXYTitleMargin)&&void 0!==t?t:5),this.eA);return i.x+=n.x+r.left+r.right,i.y+=n.y+r.top+r.bottom,this.yC&&(i.x+=this.yC.left,i.x+=this.yC.right,i.y+=this.yC.top,i.y+=this.yC.bottom),i.x+=Vd.x,i.y+=Vd.y,i},i.prototype.getLayout=function(){var t=this,i=this.AC;return this.Ai.bC()||!i?new Promise((function(i){t.addEventListener("layoutchange",i,{once:!0}),t.AC=void 0})):new Promise((function(t){t(i)}))},i.prototype.addAxisX=function(t){var i,n,r,e=oe(t),o=e.opposite,s=e.type;(r="linear"===s.type?this.Yy.d1({dimension:"x",scale1DConstructor:q}):"linear-highPrecision"===s.type?this.Yy.d1({dimension:"x",scale1DConstructor:q}).Et():this.Yy.d1({dimension:"x",scale1DConstructor:mr}).en(s.base)).Z(this.$M.x.Mt());var a,u,h,f=o?this.Pd:this.zd,c=new ih(this.lC,this.Jv,this.sA,this.Kv,this.qv,this.Ai.yn,r,this.$M.y,(h=function(){return c.Sd()},bd(bd({},oh),function(t){return bd({defaultDragMouseStyle:vo.Horizontal,getTitleTextRotation:function(){return 0}},Yf(t,(function(t,i){return t.Gx(i)}),(function(t,i){return t.Rx(i)}),(function(t){return t.us().x})))}(h))),this,o?100:0,this.$v,this.hC,this.xi,this.Ie,s);return void 0===(null==t?void 0:t.iParallel)&&void 0===(null==t?void 0:t.iStack)?(a=f.reduce((function(t,i){return Math.max(t,i.iParallel+1)}),0),u=0):(a=null!==(i=t.iParallel)&&void 0!==i?i:0,u=null!==(n=t.iStack)&&void 0!==n?n:0),f.push({axis:c,iStack:u,iParallel:a}),this.Ai.Fn(),this.j.D("axisadd",{axis:c}),this.tg(c),c},i.prototype.addAxisY=function(t){var i,n,r,e=oe(t),o=e.opposite,s=e.type;(r="linear"===s.type?this.Yy.d1({dimension:"y",scale1DConstructor:q}):"linear-highPrecision"===s.type?this.Yy.d1({dimension:"y",scale1DConstructor:q}).Et():this.Yy.d1({dimension:"y",scale1DConstructor:mr}).en(s.base)).Z(this.$M.y.Mt());var a,u,h,f=o?this.Nd:this.Vd,c=new ih(this.lC,this.Jv,this.sA,this.Kv,this.qv,this.Ai.yn,r,this.$M.x,(h=function(){return c.Sd()},bd(bd({},sh),function(t){return bd({defaultDragMouseStyle:vo.Vertical,getTitleTextRotation:function(t){return 90*t}},Yf(t,(function(t,i){return t.Yx(i)}),(function(t,i){return t.Ux(i)}),(function(t){return t.us().y})))}(h))),this,o?100:0,this.$v,this.hC,this.xi,this.Ie,s);return void 0===(null==t?void 0:t.iParallel)&&void 0===(null==t?void 0:t.iStack)?(a=f.reduce((function(t,i){return Math.max(t,i.iParallel+1)}),0),u=0):(a=null!==(i=t.iParallel)&&void 0!==i?i:0,u=null!==(n=t.iStack)&&void 0!==n?n:0),f.push({axis:c,iParallel:a,iStack:u}),this.Ai.Fn(),this.j.D("axisadd",{axis:c}),this.tg(c),c},i.prototype.tg=function(t){var i=this,n=function(){var n=ci.performance.now();void 0!==i.dC&&n-i.dC<=1e3||t.getVisible()&&(i.pC=n+300)};ci.requestAnimationFrame((function(){n()})),t.addEventListener("intervalchange",n),t.addEventListener("dispose",(function(){i._m.forEach((function(i){i.delete(t)}))}))},i.prototype.swapAxes=function(t,i){var n=[this.zd,this.Vd,this.Nd,this.Pd],r=n.find((function(i){return void 0!==i.find((function(i){return i.axis===t}))})),e=n.find((function(t){return void 0!==t.find((function(t){return t.axis===i}))}));if(!r||!e)return this;if(r!==e)throw new Error("LightningChart JS ChartXY.swapAxes does not support swapping Axes that are on different sides.");var o=r.find((function(i){return i.axis===t})),s=r.find((function(t){return t.axis===i}));if(!o||!s)return this;var a=o.iParallel,u=o.iStack;o.iParallel=s.iParallel,o.iStack=s.iStack,s.iParallel=a,s.iStack=u,this.AC=void 0;var h=[];this.legend.getEntries().forEach((function(t){if(t.component&&t.component instanceof dv){var i=t.component.axisX,n=t.component.axisY,e=r.find((function(t){return t.axis===i||t.axis===n}));e&&h.push({iStack:e.iStack,entry:t.component})}}));var f=h.sort((function(t,i){return i.iStack-t.iStack})).map((function(t){return t.entry}));return this.Dn.forEach((function(t){return t.jy(f)})),this.Ai.Fn(),this},i.prototype.dispose=function(){return this.Qm.V(),this.cC.V(),this.gg.V(),this.Jv.V(),this.lC.forEach((function(t){return t.V()})),this.qv.V(),this.Kv.V(),this.kM().forEach((function(t){return t.dispose()})),Af(this.$M),this.zd.slice().forEach((function(t){return t.axis.dispose()})),this.Vd.slice().forEach((function(t){return t.axis.dispose()})),this.Nd.slice().forEach((function(t){return t.axis.dispose()})),this.Pd.slice().forEach((function(t){return t.axis.dispose()})),this.Sb.slice().forEach((function(t){t.dispose()})),t.prototype.dispose.call(this)},i.prototype.getDefaultAxisX=function(){var t;return null===(t=Pd(Pd([],Ed(this.zd),!1),Ed(this.Pd),!1).find((function(t){return t.axis.getVisible()})))||void 0===t?void 0:t.axis},Object.defineProperty(i.prototype,"axisX",{get:function(){return this.getDefaultAxisX()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"xAxis",{get:function(){return this.getDefaultAxisX()},enumerable:!1,configurable:!0}),i.prototype.getDefaultAxisY=function(){var t;return null===(t=Pd(Pd([],Ed(this.Vd),!1),Ed(this.Nd),!1).find((function(t){return t.axis.getVisible()})))||void 0===t?void 0:t.axis},Object.defineProperty(i.prototype,"axisY",{get:function(){return this.getDefaultAxisY()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"yAxis",{get:function(){return this.getDefaultAxisY()},enumerable:!1,configurable:!0}),i.prototype.getDefaultAxes=function(){return[this.getDefaultAxisX(),this.getDefaultAxisY()]},i.prototype.getAxes=function(){for(var t=this,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var r=i&&i.length>0?new Set(i):Ud;return mi(Array.from(r).map((function(i){switch(i){default:case ff.Top:return t.Pd.slice().sort((function(t,i){return t.iStack-i.iStack})).map((function(t){return t.axis}));case ff.Bottom:return t.zd.slice().sort((function(t,i){return t.iStack-i.iStack})).map((function(t){return t.axis}));case ff.Left:return t.Vd.slice().sort((function(t,i){return t.iStack-i.iStack})).map((function(t){return t.axis}));case ff.Right:return t.Nd.slice().sort((function(t,i){return t.iStack-i.iStack})).map((function(t){return t.axis}))}})))},i.prototype.mC=function(t){var i;return this.forEachAxisX((function(n){i=t===n?"x":i})),this.forEachAxisY((function(n){i=t===n?"y":i})),i},i.prototype.forEachAxisX=function(t){this.zd.forEach((function(i,n,r){return t(i.axis,n,r.map((function(t){return t.axis})))})),this.Pd.forEach((function(i,n,r){return t(i.axis,n,r.map((function(t){return t.axis})))}))},i.prototype.forEachAxisY=function(t){this.Vd.forEach((function(i,n,r){return t(i.axis,n,r.map((function(t){return t.axis})))})),this.Nd.forEach((function(i,n,r){return t(i.axis,n,r.map((function(t){return t.axis})))}))},i.prototype.setTitlePosition=function(t){return this.jd=t,this.Dn.forEach((function(t){return t.Ln()})),this.Ai.Fn(),this},i.prototype.getTitlePosition=function(){return this.jd},i.prototype.ie=function(i,n){var r,e,o,s,a,u,f,c=this;void 0===n&&(n=!1),t.prototype.ie.call(this,i);var l=ci.performance.now();void 0!==this.pC&&this.pC<=l&&(this.Fm(),this.pC=void 0);try{for(var v=zd(this.Sb),d=v.next();!d.done;d=v.next())d.value.gA()}catch(t){r={error:t}}finally{try{d&&!d.done&&(e=v.return)&&e.call(v)}finally{if(r)throw r.error}}try{for(var A=zd(this.Sb),b=A.next();!b.done;b=A.next())b.value.ie()}catch(t){o={error:t}}finally{try{b&&!b.done&&(s=A.return)&&s.call(A)}finally{if(o)throw o.error}}var p=ln(this.Sb.map((function(t){return t.Hu()}))),g=new Set(p.map((function(t){return t.ZM})));if(1===g.size){var x=Array.from(g)[0],S="x"===x?[this.zd,this.Pd]:[this.Vd,this.Nd],w="y"===x?[this.zd,this.Pd]:[this.Vd,this.Nd];S.forEach((function(t){return t.forEach((function(t){return t.axis.hs()}))})),w.forEach((function(t){return t.forEach((function(t){return t.axis.hs()}))}))}else this.Vd.forEach((function(t){return t.axis.hs()})),this.zd.forEach((function(t){return t.axis.hs()})),this.Pd.forEach((function(t){return t.axis.hs()})),this.Nd.forEach((function(t){return t.axis.hs()}));var M=!1;this.forEachAxis((function(t){(t.ds()||t.ys())&&(M=!0)}));var C=!this.iC&&M,T=new Set(this.getAxes().map((function(t){return t.getStackIndex()}))).size>1;this.Qm.ie(C,T?this.Sb.sort((function(t,i){return i.axisY.getStackIndex()-t.axisY.getStackIndex()})):this.Sb,this.oC,{afterCursorPointedAt:function(t){var i=c.Ai.Au();if(t.length>1&&i){var n=c.Ai.Uu(i);c.Qm.gC.am({x:n.engineX,y:n.engineY},c.Ai.ai)}},overrideCursorPositions:function(t,i){return t.map((function(t){return t.multiHit?t.multiHit.map((function(i){return Ld(Ld({},t.cursorPosition),{pointMarker:i})})):[t.cursorPosition]})).flat()}});var k=function(t,i,n,r,e){void 0===e&&(e={});var o=$d(t),s=0,a=[],u=o.parallels.map((function(t){var o=t.stacks.reduce((function(t,i){var n,r;return t+(i.axis.getVisible()?(null!==(n=i.axis.Bd)&&void 0!==n?n:0)+(null!==(r=i.axis.Dd)&&void 0!==r?r:0):0)}),0),u=t.stacks.reduce((function(t,i){return t+(i.axis.getVisible()&&"pixels"in i.axis.Sv?i.axis.Sv.pixels:0)}),0),h=i-o-u,f=0,c=t.stacks.map((function(n){var o,u,c=n.axis,l=c.getVisible(),v=Math.max(i-f,0),d=Math.min(l?"pixels"in c.Sv?c.Sv.pixels:c.Sv.relative/t.sumRelativeSize*h:0,v),y=t.stacks.length,A=Ld(Ld({},e),{availableSpace:i,stack:n,axisLength:d,axisLengthOffset:f,axisThicknessOffset:s,stackAxisCount:y}),b=r(A,a);return a.push(Ld(Ld({},A),b)),l&&(f+=d+(null!==(o=c.Bd)&&void 0!==o?o:0)+(null!==(u=c.Dd)&&void 0!==u?u:0)),Ld(Ld({},b),{stack:n,axis:c})})),l=c.reduce((function(t,i){return i.axis.getVisible()?Math.max(t,i.Cd):t}),0),v=c.reduce((function(t,i){return Math.max(t,i.wd)}),0);return c.forEach((function(t){t.wd=v})),s+=l*n,Ld(Ld({},t),{stacks:c})}));return{parallels:u,thicknessTotal:Math.abs(s)}},_=this.getTitleFillStyle()!==Vr&&this.getTitle().length>0,O=_?this.Ve.Io().Oc():{x:0,y:0},F=m(Jd(this.jd,null!==(f=this.xi.chartXYTitleMargin)&&void 0!==f?f:5),this.eA),I=_?Kd(this.jd,O,F):gn,j=this.Dn.reduce((function(t,i){var n=i.Io(I,c.Ls);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0}),B=this.$M.x.getCellSize()-(this.Ls.left+this.Ls.right+I.left+I.right)-j.left-j.right,D=this.$M.y.getCellSize()-(this.Ls.top+this.Ls.bottom+I.bottom+I.top)-j.top-j.bottom,L=new Map,E=function(t,i){var n=!!i.find((function(t){return!0===t.updatedTicks})),r={physicalAxisSize:t.axisLength,kd:t.axisLength,xC:t.axisLengthOffset,_d:t.axisThicknessOffset,anyPreviousAxisUpdated:n,Ld:t.stackAxisCount};return t.stack.axis.Io(r)},P=k(this.Vd,D,-1,E),z=k(this.Nd,D,1,E),N=k(this.zd,B,-1,E),V=k(this.Pd,B,1,E),R=[this.Ls.left+I.left+P.thicknessTotal+j.left,this.Ls.right+I.right+z.thicknessTotal+j.right],G=[this.Ls.bottom+N.thicknessTotal+I.bottom+j.bottom,this.Ls.top+I.top+V.thicknessTotal+j.top],U=this.$M.x.getCellSize()-(R[0]+R[1]),Y=this.$M.y.getCellSize()-(G[0]+G[1]);this.$M.x.X(0,U),this.$M.y.X(0,Y),this.$M.x.At(R),this.$M.y.At(G),t.prototype.iA.call(this);var W=Pd(Pd(Pd(Pd([],Ed(P.parallels),!1),Ed(N.parallels),!1),Ed(z.parallels),!1),Ed(V.parallels),!1).map((function(t){return t.stacks})).flat(),X=function(t){var i,n,r=t.stack.axis,e=W.find((function(t){return t.axis===r}));if(!e)throw new Error("LightningChart JS unexpected runtime error");var o=r.getVisible()?t.margins[0]+t.axisLengthOffset+(null!==(i=r.Bd)&&void 0!==i?i:0):0,s=r.getVisible()?t.margins[1]+(t.availableSpace-t.axisLengthOffset)-t.axisLength-(null!==(n=r.Bd)&&void 0!==n?n:0):0;r.ai.At([o,s]);var a=t.stack.axis.ie(e);return L.set(t.stack.axis,a),e},H=B-(P.thicknessTotal+z.thicknessTotal),Z=D-(N.thicknessTotal+V.thicknessTotal);k(this.Vd,Z,-1,X,{margins:G}),k(this.Nd,Z,1,X,{margins:G}),k(this.zd,H,-1,X,{margins:R}),k(this.Pd,H,1,X,{margins:R}),this.yC={left:P.thicknessTotal,top:V.thicknessTotal,right:z.thicknessTotal,bottom:N.thicknessTotal};var Q={chartWidth:this.$M.x.getCellSize(),chartHeight:this.$M.y.getCellSize(),viewportWidth:U,viewportHeight:Y,margins:{left:R[0],right:R[1],bottom:G[0],top:G[1]},axes:L},J=this.AC;if(n)this.j.D("layoutchange",Ld(Ld({},Q),{userChangedLayout:function(){}}));else if(!J||Math.abs(J.chartWidth-Q.chartWidth)>=1||Math.abs(J.chartHeight-Q.chartHeight)>=1||Math.abs(J.viewportWidth-Q.viewportWidth)>=1||Math.abs(J.viewportHeight-Q.viewportHeight)>=1||this.getAxes().find((function(t){var i,n,r,e,o,s,a,u,h,f,c,l,v=J.axes.get(t),d=Q.axes.get(t);if(Math.abs((null!==(i=null==v?void 0:v.width)&&void 0!==i?i:0)-(null!==(n=null==d?void 0:d.width)&&void 0!==n?n:0))>=1||Math.abs((null!==(r=null==v?void 0:v.height)&&void 0!==r?r:0)-(null!==(e=null==d?void 0:d.height)&&void 0!==e?e:0))>=1||Math.abs((null!==(o=null==v?void 0:v.left)&&void 0!==o?o:0)-(null!==(s=null==d?void 0:d.left)&&void 0!==s?s:0))>=1||Math.abs((null!==(a=null==v?void 0:v.right)&&void 0!==a?a:0)-(null!==(u=null==d?void 0:d.right)&&void 0!==u?u:0))>=1||Math.abs((null!==(h=null==v?void 0:v.bottom)&&void 0!==h?h:0)-(null!==(f=null==d?void 0:d.bottom)&&void 0!==f?f:0))>=1||Math.abs((null!==(c=null==v?void 0:v.top)&&void 0!==c?c:0)-(null!==(l=null==d?void 0:d.top)&&void 0!==l?l:0))>=1)return t}))){var K=!1;if(this.j.D("layoutchange",Ld(Ld({},Q),{userChangedLayout:function(){K=!0}})),this.Vy||K)return this.engine.layout(),this.uC({width:this.uiScale.Mt().x,height:this.uiScale.Mt().y,engineWidth:this.Ai.ai.Mt().x,engineHeight:this.Ai.ai.Mt().y}),this.Vy=!0,void this.ie(i,!0)}this.AC=Q,this.kb.ne(h(0,0)).Z(h(U,Y)),this._b.ne(h(0,0)).Z(h(U,Y));var q=qd(this.jd,O,F,this.uiScale.oi(),this.Ls,R,G,j);this.Ve.ne(q.position).As(q.margin).zh(q.horizontalAlignment).Rh(q.verticalAlignment),this.Dn.forEach((function(t){return t.ie(I,c.Ls)}));var $=y(this.$M.x.bt(),this.$M.y.bt(),this.$M.x.St(),this.$M.y.St());this.gg.jm($),this.Kv.jm($),this.qv.jm($),this.Py&&this.Py();try{for(var tt=zd(this.Sb),it=tt.next();!it.done;it=tt.next())it.value.xA()}catch(t){a={error:t}}finally{try{it&&!it.done&&(u=tt.return)&&u.call(tt)}finally{if(a)throw a.error}}},i.prototype.qM=function(t){var i=ln(this.Sb.map((function(t){return t.Hu()}))),n=new Set(i.map((function(t){return t.ZM})));if(1===n.size){var r=Array.from(n)[0],e="x"===r?[this.zd,this.Pd]:[this.Vd,this.Nd],o="y"===r?[this.zd,this.Pd]:[this.Vd,this.Nd];e.forEach((function(i){return i.forEach((function(i){var n=t.get(i.axis);n&&i.axis.fit(n.animate,n.stopAxisAfter)}))})),i.forEach((function(t){return t.QM()})),o.forEach((function(i){return i.forEach((function(i){var n=t.get(i.axis);n&&(i.axis.getScrollStrategy()&&void 0===i.axis.getDefaultInterval()?i.axis.setStopped(!1):i.axis.fit(n.animate,n.stopAxisAfter))}))}))}else t.forEach((function(t,i){return i.fit(null==t?void 0:t.animate,null==t?void 0:t.stopAxisAfter)}))},i.prototype.Y=function(){for(var i=0;i<this.zd.length;i+=1)this.zd[i].axis.Y();for(i=0;i<this.Pd.length;i+=1)this.Pd[i].axis.Y();for(i=0;i<this.Vd.length;i+=1)this.Vd[i].axis.Y();for(i=0;i<this.Nd.length;i+=1)this.Nd[i].axis.Y();return t.prototype.Y.call(this)},i.prototype.fC=function(t){if(this.tC.has(t))return this.tC.get(t);throw new Error("No attach handler for axis Make sure that passed axes definitely belong to this chart and that they haven't been disposed of.")},i.prototype.addPointLineAreaSeries=function(t){var i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Wd(i,n);var r=new _d(this,this.Mb,this.gg,i,n,this.fC(i),this.fC(n),this.Xy,this.xi,this.Ai.yn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.Sb.length,t);return this.Ob(r,t),r},i.prototype.addLineSeries=function(t){return this.addPointLineAreaSeries(t).setAreaFillStyle(Vr).setPointFillStyle(Vr)},i.prototype.addPointSeries=function(t){return this.addPointLineAreaSeries(t).setAreaFillStyle(Vr).setStrokeStyle(qt)},i.prototype.addPointLineSeries=function(t){return this.addPointLineAreaSeries(t).setAreaFillStyle(Vr)},i.prototype.addStepSeries=function(t){return this.addPointLineAreaSeries(t).setAreaFillStyle(Vr).setCurvePreprocessing({type:"step"})},i.prototype.addSplineSeries=function(t){return this.addPointLineAreaSeries(t).setAreaFillStyle(Vr).setCurvePreprocessing({type:"spline"})},i.prototype.addAreaSeries=function(t){return this.addPointLineAreaSeries(t).setPointFillStyle(Vr)},i.prototype.addRectangleSeries=function(t){var i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Wd(i,n);var r=new jv(this,this.Mb,this.gg,i,n,this.fC(i),this.fC(n),this.Xy,this.xi,this.Ai.yn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.Sb.length,t);return this.Ob(r,t),r},i.prototype.addPolygonSeries=function(t){var i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY(),r=new _v(this,this.Mb,this.gg,i,n,this.fC(i),this.fC(n),this.Xy,this.xi,this.Ai.yn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.Sb.length);return this.Ob(r,t),r},i.prototype.addSegmentSeries=function(t){var i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Wd(i,n);var r=new Ev(this,this.Mb,this.gg,i,n,this.fC(i),this.fC(n),this.Xy,this.xi,this.Ai.yn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.Sb.length);return this.Ob(r,t),r},i.prototype.addEllipseSeries=function(t){var i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Wd(i,n);var r=new Mv(this,this.Mb,this.gg,i,n,this.fC(i),this.fC(n),this.Xy,this.xi,this.Ai.yn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.Sb.length);return this.Ob(r,t),r},i.prototype.addBoxSeries=function(t){var i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Wd(i,n);var r=t&&t.dimensionStrategy?t.dimensionStrategy:oh,e=new gv(this,this.Mb,this.gg,i,n,this.fC(i),this.fC(n),this.Xy,r,this.xi,this.Ai.yn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.Sb.length);return this.Ob(e,t),e},i.prototype.addTextSeries=function(t){var i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Wd(i,n);var r=new Rv(this,this.Mb,this.gg,i,n,this.fC(i),this.fC(n),this.Xy,this.xi,this.Ai.yn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.Sb.length);return this.Ob(r,t),r},i.prototype.addHeatmapGridSeries=function(t){var i,n=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),r=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();if(void 0!==t.heatmapDataType&&"intensity"!==t.heatmapDataType)throw new Error("Unsupported Heatmap Grid heatmapDataType: '".concat(t.heatmapDataType,"'"));return i=new qv(this,this.Mb,this.gg,n,r,this.fC(n),this.fC(r),this.Xy,t,this.xi,this.Ai.yn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.Sb.length),this.Ob(i,t),i},i.prototype.addHeatmapScrollingGridSeries=function(t){var i,n=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),r=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();if(void 0!==t.heatmapDataType&&"intensity"!==t.heatmapDataType)throw new Error("Unsupported Heatmap Grid heatmapDataType: '".concat(t.heatmapDataType,"'"));return i=new nd(this,this.Mb,this.gg,n,r,this.fC(n),this.fC(r),this.Xy,t,this.xi,this.Ai.yn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.Sb.length),this.Ob(i,t),i},i.prototype.addOHLCSeries=function(t){var i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Wd(i,n);var r=new(t&&t.type?t.type:Ad.Candlesticks)(this,this.Mb,this.gg,i,n,this.fC(i),this.fC(n),this.Xy,this.xi,this.Ai.yn);return this.Ob(r,t),r},i.prototype.addOnScreenMenu=function(t,i){return new wd(this.Uy,t,this,i)},i.prototype.setZoomingRectangleFillStyle=function(t){return this.rC="function"==typeof t?t(this.rC):t,this.Ai.Fn(),this},i.prototype.getZoomingRectangleFillStyle=function(){return this.rC},i.prototype.setZoomingRectangleStrokeStyle=function(t){return this.eC="function"==typeof t?t(this.eC):t,this.Ai.Fn(),this},i.prototype.getZoomingRectangleStrokeStyle=function(){return this.eC},i.prototype.pan=function(t){this.forEachAxisX((function(i){i.setStopped(!0).pan(t.x)})),this.forEachAxisY((function(i){i.setStopped(!0).pan(t.y)}))},i.prototype.zoom=function(t,i){this.forEachAxis(Yd),this.forEachAxisX((function(n){n.zoom(n.ai.Dt(t.x),i.x)})),this.forEachAxisY((function(n){n.zoom(n.ai.Dt(t.y),i.y)}))},i.prototype.setAnimationsEnabled=function(i){return t.prototype.setAnimationsEnabled.call(this,i),this.forEachAxis((function(t){return t.setAnimationsEnabled(i)})),this},i.prototype.By=function(){var i=[];return this.forEachAxis((function(t){return t.pd((function(t){return i.push(t)}))})),t.prototype.By.call(this).concat(i)},i.prototype.kM=function(){return this.nC},i.prototype.Yr=function(){return this.hA(this.gg)},i.prototype.setCursorEnabledDuringAxisAnimation=function(t){return this.iC=t,this},i.prototype.getCursorEnabledDuringAxisAnimation=function(){return this.iC},i.prototype.forEachAxis=function(t){return this.forEachAxisX(t),this.forEachAxisY(t),this},i.prototype.translateCoordinate=function(t,i,n){if(n){var r=t,e=i,o=ah(e)?e:qr(e)?this.hd:void 0;if(o&&Jr(n)){var s=at(r,o,this.Ai.ai);return this.Ai.Yu({engineX:s.x,engineY:s.y})}if(o&&qr(n))return at(r,o,this.hd);if(o&&ah(n))return at(r,o,n)}else{if(r=t,qr(i))return s=this.Ai.Uu(r),at({x:s.engineX,y:s.engineY},this.Ai.ai,this.hd);if(ah(i)){var a=i;return s=this.Ai.Uu(r),at({x:s.engineX,y:s.engineY},this.Ai.ai,a)}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n),"layoutchange"===t&&this.AC&&i(Ld(Ld({},this.AC),{userChangedLayout:function(){}}))},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i.prototype.setUserInteractions=function(t){return this.Jm.setUserInteractions(t),this},i.prototype.getUserInteractions=function(){return this.Jm.getUserInteractions()},i}(uc);!function(t){t.CenterTop="center-top",t.RightTop="right-top",t.LeftTop="left-top",t.CenterBottom="center-bottom",t.RightBottom="right-bottom",t.LeftBottom="left-bottom",t.SeriesCenterTop="series-center-top",t.SeriesRightTop="series-right-top",t.SeriesLeftTop="series-left-top",t.SeriesCenterBottom="series-center-bottom",t.SeriesRightBottom="series-right-bottom",t.SeriesLeftBottom="series-left-bottom"}(Xd||(Xd={}));var Zd,Qd=Xd.CenterTop,Jd=function(t,i){switch(t){case"center-top":case"series-center-bottom":return{left:0,right:0,top:0,bottom:i};case"left-top":return{left:20,right:0,top:0,bottom:i};case"right-top":return{left:0,right:20,top:0,bottom:i};case"center-bottom":return{left:0,right:0,top:0,bottom:0};case"left-bottom":return{left:20,right:0,top:0,bottom:0};case"right-bottom":return{left:0,right:20,top:0,bottom:0};case"series-center-top":return{left:0,right:0,top:i,bottom:0};case"series-left-top":return{left:i,right:0,top:i,bottom:0};case"series-right-top":return{left:0,right:i,top:i,bottom:0};case"series-left-bottom":return{left:i,right:0,top:0,bottom:i};case"series-right-bottom":return{left:0,right:i,top:0,bottom:i}}return dn(0,"Unexpected ChartXY title position selection ".concat(t))},Kd=function(t,i,n){switch(t){case"center-top":case"left-top":case"right-top":return{top:i.y+n.top+n.bottom,right:0,bottom:0,left:0};case"center-bottom":case"left-bottom":case"right-bottom":return{bottom:i.y+n.top+n.bottom,right:0,left:0,top:0};default:return gn}},qd=function(t,i,n,r,e,o,s,a){var u=(n.left-n.right)*r.x,h=(n.bottom-n.top)*r.y,f={top:0,left:a.left+e.left,right:a.right+e.right,bottom:0};switch(t){case"center-top":return{horizontalAlignment:0,verticalAlignment:1,position:{x:50+u,y:100-(e.top+n.top)*r.y},margin:f};case"left-top":return{horizontalAlignment:-1,verticalAlignment:1,position:{x:u,y:100-(e.top-n.top)*r.y},margin:f};case"right-top":return{horizontalAlignment:1,verticalAlignment:1,position:{x:100+u,y:100-(e.top-n.top)*r.y},margin:f};case"center-bottom":return{horizontalAlignment:0,verticalAlignment:-1,position:{x:50+u,y:(e.bottom+n.bottom)*r.y},margin:f};case"left-bottom":return{horizontalAlignment:-1,verticalAlignment:-1,position:{x:u,y:(e.bottom+n.bottom)*r.y},margin:f};case"right-bottom":return{horizontalAlignment:1,verticalAlignment:-1,position:{x:100+u,y:(e.bottom+n.bottom)*r.y},margin:f};case"series-center-top":return{horizontalAlignment:0,verticalAlignment:1,position:{x:50+u,y:100-s[1]*r.y+h},margin:f};case"series-left-top":return{horizontalAlignment:-1,verticalAlignment:1,position:{x:o[0]*r.x+u,y:100-s[1]*r.y+h},margin:gn};case"series-right-top":return{horizontalAlignment:1,verticalAlignment:1,position:{x:100-o[1]*r.x+u,y:100-s[1]*r.y+h},margin:gn};case"series-center-bottom":return{horizontalAlignment:0,verticalAlignment:-1,position:{x:50,y:s[0]*r.y+h},margin:f};case"series-left-bottom":return{horizontalAlignment:-1,verticalAlignment:-1,position:{x:o[0]*r.x+u,y:s[0]*r.y+h},margin:gn};case"series-right-bottom":return{horizontalAlignment:1,verticalAlignment:-1,position:{x:100-o[1]*r.x+u,y:s[0]*r.y+h},margin:gn}}return dn(0,"Unexpected ChartXY title position selection ".concat(t))},$d=function(t){var i=[];t.forEach((function(t,n){var r=i.find((function(i){return i.iParallel===t.iParallel}));r?(r.stacks.push(Ld({},t)),r.stacks.sort((function(t,i){return t.iStack-i.iStack}))):i.push({iParallel:t.iParallel,stacks:[Ld({},t)]})}));var n=i.map((function(t){var i=t.stacks.reduce((function(t,i){return t+(i.axis.getVisible()&&"relative"in i.axis.Sv?i.axis.Sv.relative:0)}),0);return Ld(Ld({},t),{sumRelativeSize:i})}));return n.sort((function(t,i){return t.iParallel-i.iParallel})),{parallels:n}},ty=function(t,i,n){var r,e=Array.from(new Set(n.map((function(t){return t.series.xn()})))),o=1===e.length&&void 0!==e[0]?e[0]:void 0,s="ProgressiveY"===o||"RegressiveY"===o?{progressiveDimension:i.axisY.getTitle()||void 0,progressiveAxis:i.axisY,valueDimension:i.axisX.getTitle()||void 0,hitValueAxis:function(t){return t.axisX},value:function(t){return t.x},position:function(t){return t.y}}:{progressiveDimension:i.axisX.getTitle()||void 0,progressiveAxis:i.axisX,valueDimension:i.axisY.getTitle()||void 0,hitValueAxis:function(t){return t.axisY},value:function(t){return t.y},position:function(t){return t.x}};return dt(i)?Np(i,[[{component:i.series,componentColor:Vp(i),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[t.getDefaultAxisX().getTitle()||"X","",{text:ee(i.axisX.formatValue(i.x),i.axisX),font:{weight:"bold"}}],[t.getDefaultAxisY().getTitle()||"Y","",{text:ee(i.axisY.formatValue(i.y),i.axisY),font:{weight:"bold"}}],void 0!==i.intensity?["Value","",{text:ee(i.lut?Er(i.lut,i.intensity):i.intensity.toFixed(2),null===(r=i.lut)||void 0===r?void 0:r.units),font:{weight:"bold"}}]:[]]):o?Pd([[{text:ee(s.progressiveAxis.formatValue(s.position(i)),s.progressiveAxis),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}]],Ed(n.map((function(t){return t.multiHit?Np(t,[[{component:t.series,componentColor:Vp(t)},""],Pd(Pd([],Ed(s.valueDimension?["".concat(s.valueDimension,"1"),""]:[]),!1),[{text:ee(s.hitValueAxis(t).formatValue(s.value(t.multiHit[0])),s.hitValueAxis(t)),font:{weight:"bold"}}],!1),Pd(Pd([],Ed(s.valueDimension?["".concat(s.valueDimension,"2"),""]:[]),!1),[{text:ee(s.hitValueAxis(t).formatValue(s.value(t.multiHit[1])),s.hitValueAxis(t)),font:{weight:"bold"}}],!1)]):Np(t,[[{component:t.series,componentColor:Vp(t)},"",{text:ee(s.hitValueAxis(t).formatValue(s.value(t)),s.hitValueAxis(t)),font:{weight:"bold"}}]])})).flat()),!1):n.map((function(i){return Np(i,[[{component:i.series,componentColor:Vp(i),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],Pd(Pd([],Ed(s.progressiveDimension?["".concat(s.progressiveDimension),""]:[]),!1),[{text:ee(s.progressiveAxis.formatValue(s.position(i)),s.progressiveAxis),font:{weight:"bold"}}],!1),Pd(Pd([],Ed(s.valueDimension?["".concat(s.valueDimension),""]:[]),!1),[{text:ee(s.hitValueAxis(i).formatValue(s.value(i)),s.hitValueAxis(i)),font:{weight:"bold"}}],!1)])})).flat()},iy=function(){return iy=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},iy.apply(this,arguments)},ny=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},ry=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},ey=function(t){return t instanceof hd||t instanceof qv||t instanceof cd||t instanceof _d},oy=function(){function t(t,i,n,r,e,o,s){var a,u=this;this.coordsRelative="relative",this.coordsClient="client",this.SC=[],this.wC=new Map,this.Sb=new Map,this.MC=!0,this.CC=new Set,this.TC=function(){u.kC.Ai.Fn()},this._C=function(t,i,n){0!==u.Sb.size&&void 0!==ry([],ny(u.Sb.values()),!1).find((function(t){return!0===t.series.getVisible()}))||u.OC.ui(i,n,!1,!1,"zoomBandChartOther"),u.kC.Ai.Fn()},this.FC=!0,this.j=new Nt,i.Ai.pu(zs.xa),this.Uy=t,this.Sy=(null==o?void 0:o.orientation)||"x",this.IC=void 0!==(null==o?void 0:o.useSharedValueAxis)&&o.useSharedValueAxis,this.jC=r,this.Qs="x"===this.Sy?oh:sh;var h=iy(iy({},o),{defaultAxisX:this.Qs.getWidth({x:null==o?void 0:o.defaultAxis,y:void 0}),defaultAxisY:this.Qs.getHeight({x:null==o?void 0:o.defaultAxis,y:void 0}),legend:null!==(a=null==o?void 0:o.legend)&&void 0!==a?a:{addEntriesAutomatically:!1}});this.kC=new Hd(t,i,n,Ai,e,h,s).setTitle("Zoom Band Chart").setUserInteractions(void 0).setCursorMode(void 0),this.engine=this.kC.engine;var f=this.kC.getDefaultAxisX().setPointerEvents(!1),c=this.kC.getDefaultAxisY().setPointerEvents(!1);this.OC=this.Qs.getWidth({x:f,y:c}).setScrollStrategy(rs.fitting()).setAnimationScroll(!1).setStrokeStyle(qt).setTickStrategy(es.Empty),(null==o?void 0:o.useSharedValueAxis)?this.BC=this.Qs.getHeight({x:f,y:c}):this.Qs.getHeight({x:f,y:c}).dispose();var l=this.getTheme().zoomBandChartDefocusOverlayFillStyle||new Ur({color:this.getTheme().isDark?w(0,0,0,180):w(255,255,255,180)});this.DC=[this.kC.Jv.te(this.OC.ad).$r(l).qr(qt),this.kC.Jv.te(this.OC.ad).$r(l).qr(qt)];var v=this.kC.Jv.Od(this.OC.ad).fe(this.getTheme().zoomBandChartSplitterStrokeStyle||this.getTheme().chartXYSeriesBackgroundStrokeStyle);this.LC={collection:v,members:new Array(5).fill(0).map((function(t){return v.za()}))};var d=this.getTheme(),y="function"==typeof d.zoomBandChartKnobFillStyle?fi({resourcesBaseUrl:this.Uy.pr,styleFactory:d.zoomBandChartKnobFillStyle,apply:function(t){return u.setKnobFillStyle(t)}}):d.zoomBandChartKnobFillStyle||Vr;this.EC=[this.kC.Jv.te(this.kC.hd).$r(y).qr(qt),this.kC.Jv.te(this.kC.hd).$r(y).qr(qt)],this.PC=this.getTheme().zoomBandChartKnobSize||{x:0,y:0},this.zC()}return Object.defineProperty(t.prototype,"chart",{get:function(){return this.kC},enumerable:!1,configurable:!0}),t.prototype.setUserInteractions=function(t){return this.ae=void 0===t?{pan:{drag:!1,click:!1},zoom:{wheel:void 0,dragKnob:!1}}:t,this},t.prototype.getUserInteractions=function(){return hi({pan:{drag:!0,click:!0},zoom:{wheel:{},dragKnob:!0}},this.ae)},t.prototype.add=function(t){var i=this;this.CC.has(t.chart)||(this.CC.add(t.chart),t.chart.addEventListener("layoutchange",this.TC));var n=this.SC.map((function(t){return t.axis})),r="x"===this.Sy?t.axisX:t.axisY;if(!n.includes(r)){var e=function(t){i._C(r,t.start,t.end)};r.addEventListener("intervalchange",e),this.SC.push({axis:r,deattach:function(){r.removeEventListener("intervalchange",e)}}),this.OC.Mo(r.wo(),r.getTickStrategy()),this.NC&&this.NC.remove(),this.NC=ct.apply(void 0,ry([],ny(this.SC.map((function(t){return t.axis}))),!1))}var o,s=this.Qs.getHeight({x:t.axisX,y:t.axisY});if(this.IC)o=this.BC;else{var a=this.wC.get(s);a?o=a:(o=this.Qs.getHeight({x:this.kC.addAxisX.bind(this.kC),y:this.kC.addAxisY.bind(this.kC)})({type:s.eo.type}),this.VC(o)),this.wC.set(s,o)}var u,h=this.Qs.getWidth({x:this.OC,y:o}),f=this.Qs.getHeight({x:this.OC,y:o}),c=[];if(t instanceof _d)(u=this.kC.addPointLineAreaSeries(iy(iy({},t.xu),{axisX:h,axisY:f,xAxis:h,yAxis:f})).setStrokeStyle(t.getStrokeStyle()).setAreaFillStyle(t.getAreaFillStyle()).setPointFillStyle(t.getPointFillStyle()).setPointAlignment(t.getPointAlignment()).setPointRotation(t.getPointRotation()).setPointShape(t.getPointShape()).setPointSize(t.getPointSize()).setCurvePreprocessing(t.getCurvePreprocessing())).setDataSet(t.HM(),t.getDataMapping());else if(t instanceof cd){var l=this.kC.addPointLineAreaSeries({axisX:h,axisY:f,xAxis:h,yAxis:f});!function(t,i){var n=function(t){if(0!==t.length)if("x"in t[0]){var n=t;i.appendJSON(n)}else{n=t;for(var r=[],e=0;e<n.length;e+=1){var o=n[e];r.push({x:o[0],y:o[4]})}i.appendJSON(r)}},r=t.bw();n(r);var e=function(t){n(t.data)},o=function(){i.clear()};t.addEventListener("dataadd",e),t.addEventListener("dataclear",o),c.push((function(){t.removeEventListener("dataadd",e),t.removeEventListener("dataclear",o)}))}(t,l),u=l}else if(t instanceof hd){var v=this.kC.addAreaRangeSeries({axisX:h,axisY:f,xAxis:h,yAxis:f}).setLowFillStyle(t.getLowFillStyle()).setHighFillStyle(t.getHighFillStyle()).setLowStrokeStyle(t.getLowStrokeStyle()).setHighStrokeStyle(t.getHighStrokeStyle()).add(t.bw()),d=function(t){return v.add(t.data)};t.addEventListener("dataadd",d),c.push((function(){return t.removeEventListener("dataadd",d)})),u=v;var y=function(t){return v.clear()};t.addEventListener("dataclear",y),c.push((function(){t.removeEventListener("dataclear",y)}))}else{if(!(t instanceof Kv))throw new Error("LightningChart JS Zoom Band Chart unsupported series type");var A=this.kC.addHeatmapGridSeries(iy(iy({},t.bS),{axisX:h,axisY:f,xAxis:h,yAxis:f})),b=function(){A.setWireframeStyle(t.getWireframeStyle()).setIntensityInterpolation(t.getIntensityInterpolation()).setFillStyle(t.getFillStyle()).setContours(t.getContours())};b(),u=A,t.SS(u);var p=function(t){return A.invalidateIntensityValues(t.value)};t.addEventListener("stylechange",b),c.push((function(){t.removeEventListener("invalidateintensity",p),t.removeEventListener("stylechange",b)}));var m=function(){A.clear()};t.addEventListener("dataclear",m),c.push((function(){t.removeEventListener("dataclear",m)}))}u.setPointerEvents(!1);var g=function(t){u.setVisible(t.isVisible)};t.addEventListener("visiblechange",g),c.push((function(){t.removeEventListener("visiblechange",g)}));var x=function(t){u.setHighlight(t.highlight)};c.push((function(){t.addEventListener("highlightchange",x),t.removeEventListener("highlightchange",x)}));var S=function(){i.disposeSeries(t)};return t.addEventListener("dispose",S),c.push((function(){t.removeEventListener("dispose",S)})),this.Sb.set(t,{series:u,clearReferences:function(){return c.forEach((function(t){return t()}))}}),u},t.prototype.disposeSeries=function(t){var i=this,n=this.Sb.get(t);if(n){(0,n.clearReferences)(),this.Sb.delete(t),n.series.dispose();var r=this.Qs.getHeight({x:t.axisX,y:t.axisY}),e=this.wC.get(r);e&&0===e.Sd().length&&(this.wC.delete(r),e.dispose())}var o="x"===this.Sy?t.axisX:t.axisY;if(!Array.from(this.Sb.keys()).find((function(t){return o===("x"===i.Sy?t.axisX:t.axisY)}))){var s=this.SC.findIndex((function(t){return t.axis===o}));s>=0&&(this.SC[s].deattach(),this.SC.splice(s,1))}var a=Array.from(this.Sb.keys()).find((function(t){return t.chart==t.chart}));return a||(t.chart.removeEventListener("layoutchange",this.TC),this.CC.delete(t.chart)),this},t.prototype.setDefocusOverlayFillStyle=function(t){return this.DC.forEach((function(i){return i.$r(t)})),this.kC.Ai.Fn(),this},t.prototype.getDefocusOverlayFillStyle=function(){return this.DC[0].vo()},t.prototype.setSplitterStrokeStyle=function(t){return this.LC.collection.fe(t),this.kC.Ai.Fn(),this},t.prototype.getSplitterStrokeStyle=function(){return this.LC.collection.oa()},t.prototype.setKnobFillStyle=function(t){return this.EC.forEach((function(i){return i.$r(t)})),this.kC.Ai.Fn(),this},t.prototype.getKnobFillStyle=function(){return this.EC[0].vo()},t.prototype.setKnobStrokeStyle=function(t){return this.EC.forEach((function(i){return i.qr(t)})),this.kC.Ai.Fn(),this},t.prototype.getKnobStrokeStyle=function(){return this.EC[0].zu()},t.prototype.setKnobSize=function(t){return this.PC=t,this.kC.Ai.Fn(),this},t.prototype.getKnobSize=function(){return this.PC},t.prototype.getDefaultAxisX=function(){return this.kC.getDefaultAxisX()},t.prototype.getDefaultAxisY=function(){return this.kC.getDefaultAxisY()},Object.defineProperty(t.prototype,"axisX",{get:function(){return this.getDefaultAxisX()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xAxis",{get:function(){return this.getDefaultAxisX()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"axisY",{get:function(){return this.getDefaultAxisY()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yAxis",{get:function(){return this.getDefaultAxisY()},enumerable:!1,configurable:!0}),t.prototype.VC=function(t){t.setTickStrategy(es.Empty).setPointerEvents(!1).setStrokeStyle(qt)},t.prototype.setStopAxisOnInteraction=function(t){return this.MC=t,this},t.prototype.getStopAxisOnInteraction=function(){return this.MC},t.prototype.zC=function(){var t,i=this,n=function(t,n,r,e){var o,s,a="x"===i.Sy?null===(o=Array.from(i.Sb.keys())[0])||void 0===o?void 0:o.axisX:null===(s=Array.from(i.Sb.keys())[0])||void 0===s?void 0:s.axisY;if(a){var u=a.getInterval(),h=i.OC.getInterval(),f=Math.abs(i.OC.ai.Bt(t)-i.OC.ai.Bt(n));r.preventTooSmall&&f<10||Math.sign(n-t)!==Math.sign(u.end-u.start)||Math.min(t,n)<Math.min(h.start,h.end)||Math.max(t,n)>Math.max(h.start,h.end)&&Math.max(u.start,u.end)<Math.max(t,n)||a.ui(t,n,r.animated,i.MC,e)}};this.EC.forEach((function(r,e){r.addEventListener("pointerenter",(function(){var n;(null===(n=i.getUserInteractions().zoom)||void 0===n?void 0:n.dragKnob)&&(t=i.engine.setMouseStyle(i.Qs.getWidth({x:vo.Horizontal,y:vo.Vertical}),t))})),r.addEventListener("pointerleave",(function(){t=i.engine.restoreMouseStyle(t)})),r.addEventListener("pointerdown",(function(t){var r,o,s;if(null===(r=i.getUserInteractions().zoom)||void 0===r?void 0:r.dragKnob){var a="x"===i.Sy?null===(o=Array.from(i.Sb.keys())[0])||void 0===o?void 0:o.axisX:null===(s=Array.from(i.Sb.keys())[0])||void 0===s?void 0:s.axisY;if(a){Pi(t);var u=function(r){if(r.pointerId===t.pointerId){Pi(r);var o=i.Qs.getWidth(i.kC.translateCoordinate(r,i.kC.coordsAxis)),s=a.getInterval(),u=0===e?o:s.start,h=1===e?o:s.end;n(u,h,{animated:!1,preventTooSmall:!0},"zoomBandChartOther")}},h=function(i){i.pointerId===t.pointerId&&(Pi(i),Tn("click"),ci.removeEventListener("pointermove",u),ci.removeEventListener("pointerup",h))};ci.addEventListener("pointermove",u),ci.addEventListener("pointerup",h)}}}))})),this.kC.seriesBackground.addEventListener("pointerenter",(function(){var n;(null===(n=i.getUserInteractions().pan)||void 0===n?void 0:n.drag)&&(t=i.engine.setMouseStyle(vo.Move,t))})),this.kC.seriesBackground.addEventListener("pointerleave",(function(){t=i.engine.restoreMouseStyle(t)})),this.kC.seriesBackground.addEventListener("pointerdown",(function(t){var r,e;if("x"===i.Sy?null===(r=Array.from(i.Sb.keys())[0])||void 0===r?void 0:r.axisX:null===(e=Array.from(i.Sb.keys())[0])||void 0===e?void 0:e.axisY){Pi(t);var o=t,s=function(r){if(r.pointerId===t.pointerId){var e={x:r.clientX-o.clientX,y:o.clientY-r.clientY};o=r,function(t,r){var e,o,s;if(null===(e=i.getUserInteractions().pan)||void 0===e?void 0:e.drag){var a="x"===i.Sy?null===(o=Array.from(i.Sb.keys())[0])||void 0===o?void 0:o.axisX:null===(s=Array.from(i.Sb.keys())[0])||void 0===s?void 0:s.axisY;if(a){var u=a.getInterval(),h=i.OC.ai.Jt(u.start,i.Qs.getWidth(t)),f=i.OC.ai.Jt(u.end,i.Qs.getWidth(t));n(h,f,{animated:!1,preventTooSmall:!0},"zoomBandChartOther"),Pi(r)}}}(e,r)}},a=function(i){i.pointerId===t.pointerId&&(Pi(i),kn(),Tn("click"),ci.removeEventListener("pointermove",s),ci.removeEventListener("pointerup",a))};ci.addEventListener("pointermove",s),ci.addEventListener("pointerup",a)}})),this.kC.seriesBackground.addEventListener("wheel",(function(t){var r,e,o,s,a=i.getUserInteractions();if(null===(r=a.zoom)||void 0===r?void 0:r.wheel){var u="x"===i.Sy?null===(e=Array.from(i.Sb.keys())[0])||void 0===e?void 0:e.axisX:null===(o=Array.from(i.Sb.keys())[0])||void 0===o?void 0:o.axisY;if(u){var h=u.getInterval(),f=i.OC.getInterval(),c=i.Qs.getWidth(i.kC.translateCoordinate(t,i.kC.coordsAxis)),l=i.OC.ai.Bt(h.start),v=i.OC.ai.Bt(h.end),d=i.OC.ai.Bt(c),y=pi((d-l)/(v-l),0,1),A=.2*Math.abs(v-l)*(null!==(s=a.zoom.wheel.sensitivity)&&void 0!==s?s:1),b=y*A*-Math.sign(t.deltaY),p=(1-y)*A*Math.sign(t.deltaY),m=pi(i.OC.ai.Jt(h.start,b),f.start,f.end),g=pi(i.OC.ai.Jt(h.end,p),f.start,f.end);n(m,g,{animated:!1,preventTooSmall:!0},"zoomBandChartOther"),Pi(t)}}})),this.DC.forEach((function(r,e){r.addEventListener("pointerenter",(function(){var n;(null===(n=i.getUserInteractions().pan)||void 0===n?void 0:n.click)&&(t=i.engine.setMouseStyle(vo.Point,t))})),r.addEventListener("pointerleave",(function(){t=i.engine.restoreMouseStyle(t)})),r.addEventListener("click",(function(t){var r,e,o;if(!t.defaultPrevented&&(null===(r=i.getUserInteractions().pan)||void 0===r?void 0:r.click)){var s="x"===i.Sy?null===(e=Array.from(i.Sb.keys())[0])||void 0===e?void 0:e.axisX:null===(o=Array.from(i.Sb.keys())[0])||void 0===o?void 0:o.axisY;if(s){var a=i.Qs.getWidth(i.kC.translateCoordinate(t,i.kC.coordsAxis)),u=s.getInterval(),h=i.OC.getInterval(),f=pi(a-(u.end-u.start)/2,Math.min(h.start,h.end),Math.max(h.start,h.end)-Math.abs(u.end-u.start)),c=f+(u.end-u.start);n(f,c,{animated:!0,preventTooSmall:!1},"zoomBandChartClick"),Pi(t)}}}))}))},t.prototype.getSizePixels=function(){return this.kC.getSizePixels()},t.prototype.As=function(t){this.kC.As(t)},t.prototype.getMinimumSize=function(){return this.kC.getMinimumSize()},t.prototype.Y=function(){return this.kC.Y()},t.prototype.W=function(){return this.kC.W()},t.prototype.ie=function(t){var i,n,r,e,o=this,s=cn(Array.from(this.Sb.keys()).map((function(t){return t.chart}))),a="x"===this.Sy?null===(i=Array.from(this.Sb.keys())[0])||void 0===i?void 0:i.axisX:null===(n=Array.from(this.Sb.keys())[0])||void 0===n?void 0:n.axisY,u=function(){var t,i=null===(t=o.SC.find((function(t){return t.axis.getVisible()})))||void 0===t?void 0:t.axis;return!!i&&Math.sign(i.getInterval().end-i.getInterval().start)}(),h=Math.sign(this.OC.getInterval().end-this.OC.getInterval().start);if(h!==u&&0!==h&&0!==u&&this.OC.ui(this.OC.getInterval().end,this.OC.getInterval().start,!1,this.OC.getStopped(),"zoomBandChartOther"),this.Sb.forEach((function(t,i){var n=t.series;i instanceof _d&&n instanceof _d&&n.setDataSet(i.getDataSet(),i.getDataMapping())})),this.FC)if("x"===this.Sy){var f=s.reduce((function(t,i){var n=[];i.forEachAxisY((function(t){if(t.getVisible()&&0===t.rd){var i=n.find((function(i){return i.iParallel===t.getParallelIndex()}));i||(i={iParallel:t.getParallelIndex(),maxHeight:0},n.push(i)),i.maxHeight=Math.max(i.maxHeight,t.Rd())}}));var r=n.reduce((function(t,i){return t+i.maxHeight}),0);return Math.max(t,r)}),0),c=s.reduce((function(t,i){var n=[];i.forEachAxisY((function(t){if(t.getVisible()&&100===t.rd){var i=n.find((function(i){return i.iParallel===t.getParallelIndex()}));i||(i={iParallel:t.getParallelIndex(),maxHeight:0},n.push(i)),i.maxHeight=Math.max(i.maxHeight,t.Rd())}}));var r=n.reduce((function(t,i){return t+i.maxHeight}),0);return Math.max(t,r)}),0),l=s.reduce((function(t,i){return Math.max(t,i.getPadding().left)}),0),v=s.reduce((function(t,i){return Math.max(t,i.getPadding().right)}),0);this.kC.forEachAxisY((function(t){return t.setThickness(0)})),null===(r=this.getDefaultAxisY())||void 0===r||r.setThickness(f),this.kC.setPadding({left:l+(0===s.length?10:0),right:v+c+(0===s.length?10:0)})}else{var d=s.reduce((function(t,i){var n=[];i.forEachAxisX((function(t){if(t.getVisible()&&0===t.rd){var i=n.find((function(i){return i.iParallel===t.getParallelIndex()}));i||(i={iParallel:t.getParallelIndex(),maxHeight:0},n.push(i)),i.maxHeight=Math.max(i.maxHeight,t.Rd())}}));var r=n.reduce((function(t,i){return t+i.maxHeight}),0);return Math.max(t,r)}),0),y=s.reduce((function(t,i){var n=[];i.forEachAxisX((function(t){if(t.getVisible()&&100===t.rd){var i=n.find((function(i){return i.iParallel===t.getParallelIndex()}));i||(i={iParallel:t.getParallelIndex(),maxHeight:0},n.push(i)),i.maxHeight=Math.max(i.maxHeight,t.Rd())}}));var r=n.reduce((function(t,i){return t+i.maxHeight}),0);return Math.max(t,r)}),0),A=s.reduce((function(t,i){return Math.max(t,i.getPadding().bottom)}),0),b=s.reduce((function(t,i){return Math.max(t,i.getPadding().top)}),0);this.kC.forEachAxisX((function(t){return t.setThickness(0)})),null===(e=this.getDefaultAxisX())||void 0===e||e.setThickness(d),this.kC.setPadding({bottom:A+(0===s.length?10:0),top:b+y+(0===s.length?10:0)})}this.kC.ie(t);var p=this.OC.getInterval().start,m=this.OC.getInterval().end,g=pi(a?a.getInterval().start:p,p,m),x=pi(a?a.getInterval().end:m,p,m),S=this.Qs.getHeight(this.kC.$M.getInnerIntervalPixels());this.DC[0].ne(this.Qs.toPoint(p,0)).Z(this.Qs.toPoint(g-p,S)),this.DC[1].ne(this.Qs.toPoint(x,0)).Z(this.Qs.toPoint(m-x,S)),this.LC.members[0].Id(this.Qs.toPoint(p,S),this.Qs.toPoint(g,S)),this.LC.members[1].Id(this.Qs.toPoint(g,S),this.Qs.toPoint(g,0)),this.LC.members[2].Id(this.Qs.toPoint(g,0),this.Qs.toPoint(x,0)),this.LC.members[3].Id(this.Qs.toPoint(x,0),this.Qs.toPoint(x,S)),this.LC.members[4].Id(this.Qs.toPoint(x,S),this.Qs.toPoint(m,S));var w=at(this.Qs.toPoint(g,S/2),this.OC.ad,this.kC.hd),M=at(this.Qs.toPoint(x,S/2),this.OC.ad,this.kC.hd),C=this.PC;this.EC[0].ne({x:w.x-C.x/2,y:w.y-C.y/2}).Z({x:C.x,y:C.y}).po(this.Qs.getWidth({x:0,y:90})),this.EC[1].ne({x:M.x-C.x/2,y:M.y-C.y/2}).Z({x:C.x,y:C.y}).po(this.Qs.getWidth({x:0,y:90}))},t.prototype.setSeriesBackgroundFillStyle=function(t){return this.kC.setSeriesBackgroundFillStyle(t),this.kC.Ai.Fn(),this},t.prototype.getSeriesBackgroundFillStyle=function(){return this.kC.getSeriesBackgroundFillStyle()},t.prototype.setSeriesBackgroundStrokeStyle=function(t){return this.kC.setSeriesBackgroundStrokeStyle(t),this.kC.Ai.Fn(),this},t.prototype.getSeriesBackgroundStrokeStyle=function(){return this.kC.getSeriesBackgroundStrokeStyle()},t.prototype.setSeriesBackgroundEffect=function(t){return this.kC.setSeriesBackgroundEffect(t),this.kC.Ai.Fn(),this},t.prototype.getSeriesBackgroundEffect=function(){return this.kC.getSeriesBackgroundEffect()},t.prototype.getTheme=function(){return this.kC.getTheme()},t.prototype.setTitle=function(t){return this.kC.setTitle(t),this},t.prototype.getTitle=function(){return this.kC.getTitle()},t.prototype.setTitleFillStyle=function(t){return this.kC.setTitleFillStyle(t),this},t.prototype.getTitleFillStyle=function(){return this.kC.getTitleFillStyle()},t.prototype.setTitleFont=function(t){return this.kC.setTitleFont(t),this},t.prototype.getTitleFont=function(){return this.kC.getTitleFont()},t.prototype.setTitleMargin=function(t){return this.kC.setTitleMargin(t),this},t.prototype.getTitleMargin=function(){return this.kC.getTitleMargin()},t.prototype.setPadding=function(t){return void 0===t?this.FC=!0:(this.FC=!1,this.kC.setPadding(t),this.kC.forEachAxis((function(t){return t.setThickness(void 0)}))),this.kC.Ai.Fn(),this},t.prototype.getPadding=function(){return this.kC.getPadding()},t.prototype.setBackgroundFillStyle=function(t){return this.kC.setBackgroundFillStyle(t),this},t.prototype.getBackgroundFillStyle=function(){return this.kC.getBackgroundFillStyle()},t.prototype.setBackgroundStrokeStyle=function(t){return this.kC.setBackgroundStrokeStyle(t),this},t.prototype.getBackgroundStrokeStyle=function(){return this.kC.getBackgroundStrokeStyle()},t.prototype.translateCoordinate=function(t,i,n){return Qh(t,i,n,this.kC.hd,this.kC.Ai)},t.prototype.addUIElement=function(t,i){return this.kC.addUIElement(t,i)},t.prototype.saveToFile=function(t,i,n){return this.kC.saveToFile(t,i,n),this},t.prototype.dispose=function(){return this.kC.dispose(),this.wC.clear(),this.Sb.clear(),this.jC(this),this},t.prototype.isDisposed=function(){return this.kC.isDisposed()},t.prototype.getLayout=function(){return this.kC.getLayout()},t.prototype.addEventListener=function(t,i,n){this.kC.addEventListener(t,i,n)},t.prototype.removeEventListener=function(t,i){this.kC.removeEventListener(t,i)},t}(),sy=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ay=function(){return ay=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},ay.apply(this,arguments)},uy=function(t){function i(i,n,r,e,o,s,a){var u=t.call(this,i,n,r,e,o,a)||this;return u.Bn="Point Line Series",u.lx=[],u.vx=!1,u.yx=!1,u.RC=3,u.ph=0,u.GC=ve.Circle,u.j=new Nt,u.Qr=an(u.xi.polarPointLineSeriesFillStyle,s),u.vc=an(u.xi.polarPointLineSeriesStrokeStyle,s),u.mx=i.QA(e,void 0,[Of.UserSeries]).fe(u.vc).Oi(u.getHighlight()),u.Sn(u.mx),u.UC=i.Ul(e).Gl(Vr).fe(qt).Rl(u.Qr).Yl(u.GC).Kl(u.RC).Oi(u.getHighlight()),u.Sn(u.UC),u}return sy(i,t),i.prototype.solveNearest=function(t,i){var n=this.chart.Ai.Uu(t),r={x:n.engineX,y:n.engineY},e=this.mx.gx(r);if(e){var o=Zl(e,this.scale);return ay({cursorPosition:{pointMarker:e,pointMarkerScale:this.scale,resultTable:e,resultTableScale:this.scale},series:this},o)}},i.prototype.Ji=function(t,i,n){var r=this;return wn({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},i.prototype.setData=function(t){return 0!==this.lx.length&&this.chart.Ai.pu(zs._a),this.lx=Hl(t),this.vx=!0,this.$g=Xl(this.lx),this.Yn.Fn(),this},i.prototype.getData=function(){return this.lx},i.prototype.setStrokeStyle=function(t){this.vc="function"==typeof t?t(this.vc):t;var i=this.vc;return this.mx.fe(i),this.Yn.Fn(),this},i.prototype.getStrokeStyle=function(){return this.vc},i.prototype.setPointFillStyle=function(t){this.Qr="function"==typeof t?t(this.Qr):t;var i=this.Qr;return this.UC.Rl(i),this.Yn.Fn(),this},i.prototype.getPointFillStyle=function(){return this.Qr},i.prototype.setPointSize=function(t){return this.RC=t,this.UC.Kl(t),this.Yn.Fn(),this},i.prototype.getPointSize=function(){return this.RC},i.prototype.setPointShape=function(t){return this.GC=t,this.UC.Yl(this.GC),this},i.prototype.getPointShape=function(){return this.GC},i.prototype.setPointRotation=function(t){return this.ph=t,this.UC.Xl(t),this.Yn.Fn(),this},i.prototype.getPointRotation=function(){return this.ph},i.prototype.re=function(){return{fill:this.Qr,stroke:this.vc}},i.prototype.setConnectDataAutomaticallyEnabled=function(t){return this.yx=t,this.Yn.Fn(),this},i.prototype.getConnectDataAutomaticallyEnabled=function(){return this.yx},i.prototype.OA=function(){return this.vA&&this.lx.length>0&&this.getVisible()},i.prototype.ee=function(t,i){t.Oi(i),this.Yn.Fn()},i.prototype.ie=function(){if(this.vx||this.scale.dr()){var t=Wl(this.lx,this.scale),i=Zn(t);this.yx?(t.push(ay({},t[0])),this.mx.Nf(!0)):this.mx.Nf(!1),this.mx.zi().lf(t).ki(i),this.UC.Vl((new Ga).appendJSON(t),{x:"x",y:"y"}).ki(i),this.vx=!1,this.mx.Io(),this.UC.Io()}},i.prototype.Gn=function(){return this.jn||this.GC},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(Gl),hy=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fy=function(){return fy=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},fy.apply(this,arguments)},cy=function(t){function i(i,n,r,e,o,s,a){var u=t.call(this,i,n,r,e,o,a)||this;return u.Bn="Point Series",u.lx=[],u.vx=!1,u.RC=3,u.ph=0,u.j=new Nt,u.Qr=an(u.xi.polarPointSeriesFillStyle,s),u.Jr=an(u.xi.polarPointSeriesStrokeStyle,s),u.Nl=new Ga({schema:{x:{pattern:null},y:{pattern:null},color:{pattern:null,storage:Uint32Array}}}),u.Hh=i.Ul(e).fe(qt).Gl(Vr).Rl(u.Qr).Ql(u.Jr).Yl(ve.Circle).Kl(u.RC).Oi(u.getHighlight()).Vl(u.Nl,{x:"x",y:"y",color:"color"}),u.Sn(u.Hh),u}return hy(i,t),i.prototype.solveNearest=function(t,i){void 0===i&&(i="show-nearest");var n=this.chart.translateCoordinate(t,this.chart.coordsAxis),r=Wl([n],this.scale)[0],e=this.Nl.wl({x:"x",y:"y",color:"color"},r,zp(i),this.scale,this.chart.hd);if(e){var o=Zl(e,this.scale);return fy({cursorPosition:{pointMarker:e,pointMarkerScale:this.scale,resultTable:e,resultTableScale:this.scale},series:this},o)}},i.prototype.Ji=function(t,i,n){var r=this;return wn({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},i.prototype.setData=function(t){return 0!==this.lx.length&&this.chart.Ai.pu(zs._a),this.lx=Hl(t),this.vx=!0,this.$g=Xl(this.lx),this.Yn.Fn(),this},i.prototype.getData=function(){return this.lx},i.prototype.setPointAlignment=function(t){return this.Hh.Jd(t),this.chart.Ai.Fn(),this},i.prototype.getPointAlignment=function(){return this.Hh.YM()},i.prototype.setPointFillStyle=function(t){this.Qr="function"==typeof t?t(this.Qr):t;var i=this.Qr;return this.Hh.Rl(i),this.Yn.Fn(),this},i.prototype.getPointFillStyle=function(){return this.Qr},i.prototype.setPointStrokeStyle=function(t){return this.Jr="function"==typeof t?t(this.Jr):t,this.Hh.Ql(this.Jr),this.Yn.Fn(),this},i.prototype.getPointStrokeStyle=function(){return this.Jr},i.prototype.setPointSize=function(t){return this.RC=t,this.Hh.Kl(t),this.Yn.Fn(),this},i.prototype.getPointSize=function(){return this.RC},i.prototype.setPointShape=function(t){return this.Hh.Yl(t),this.chart.Ai.Fn(),this},i.prototype.getPointShape=function(){return this.Hh.Wl()},i.prototype.setPointRotation=function(t){return this.ph=t,this.Hh.Xl(t),this.Yn.Fn(),this},i.prototype.getPointRotation=function(){return this.ph},i.prototype.OA=function(){return this.vA&&this.lx.length>0&&this.getVisible()},i.prototype.ee=function(t,i){t.Oi(i),this.Yn.Fn()},i.prototype.ie=function(){if(this.vx||this.scale.dr()){var t=Wl(this.lx,this.scale),i=Zn(t);this.Nl.clear().appendJSON(t),this.Hh.ki(i),this.vx=!1,this.Hh.Io()}},i.prototype.re=function(){return{fill:this.Qr}},i.prototype.Gn=function(){return this.jn||this.getPointShape()},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(Gl),ly=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vy=function(t){function i(i,n,r,e,o,s,a){var u=t.call(this,i,n,r,e,o,s)||this;u.Bn="Heatmap Series",u.YC=!0,u.MA=!1,u.j=new Nt;var h=u.chart.getSeries().length;u.Qr=an(u.xi.polarHeatmapSeriesFillStyle||u.xi.heatmapGridSeriesFillStyle,h);var f=a.amplitudeStart||0,c=a.amplitudeEnd?(a.amplitudeEnd-f)/(a.annuli-1):a.amplitudeStep||1,l={sectors:a.sectors,annuli:a.annuli,amplitudeStart:f,amplitudeStep:c,heatmapDataType:"intensity",dataOrder:a.dataOrder||"annuli"};u.xu=l,u.WC=i.XC(e,[],l).$r(u.Qr).Oi(u.getHighlight()),u.Sn(u.WC);var v=Math.min(l.amplitudeStart,l.amplitudeStart+(l.annuli-1)*l.amplitudeStep),d=Math.max(l.amplitudeStart,l.amplitudeStart+(l.annuli-1)*l.amplitudeStep);return u.$g={min:v,max:d},u.setHighlightOnHover(!1),u}return ly(i,t),i.prototype.solveNearest=function(t,i){void 0===i&&(i="show-nearest");var n=this.chart.Ai.Uu(t),r={x:n.engineX,y:n.engineY},e=at(r,this.chart.Ai.ai,this.scale),o=Zl(e,this.scale),s=zp(i)?this.WC.xS(o):this.WC.wl(o);if(s){var a=Wl([s],this.scale)[0];return{cursorPosition:{pointMarker:a,pointMarkerScale:this.scale,resultTable:a,resultTableScale:this.scale},series:this,angle:s.angle,amplitude:s.amplitude,intensity:s.cellValue,annulus:s.iAnnulus,sector:s.iSector,lut:Zr(this.Qr)?this.Qr.lut:void 0}}},i.prototype.Ji=function(t,i,n){var r=this;return wn({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0,intensity:0,sector:0,annulus:0,lut:Zr(this.Qr)?this.Qr.lut:void 0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},i.prototype.invalidateIntensityValues=function(t){if(this.MA&&this.chart.Ai.pu(zs._a),Array.isArray(t)){if(0===t.length||0===t[0].length)return this;var i={x:t.length,y:t[0].length,sectors:"annuli"===this.xu.dataOrder?t[0].length:t.length,annuli:"annuli"===this.xu.dataOrder?t.length:t[0].length},n="annuli"===this.xu.dataOrder?this.xu.annuli:this.xu.sectors,r="annuli"===this.xu.dataOrder?this.xu.sectors:this.xu.annuli;if(i.x>n||i.y>r){if(!0===this.chart.Uy.Su){var e="PolarHeatmapSeries.invalidateIntensityValues intensity matrix overflow.\nHeatmap ".concat(n,"x").concat(r,", input ").concat(i.x,"x").concat(i.y,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");ci.console.warn(e)}for(var o=[],s=0;s<n;s+=1)o[s]=t[s].slice(0,r);if(0===(t=o).length||0===t[0].length)return this}this.WC.pp({type:"intensity",lengthPrimary:i.x,lengthSecondary:i.y,startPrimary:0,startSecondary:0,values:t})}else if("iSector"in t&&"iAnnulus"in t&&"values"in t){if(0===t.values.length||0===t.values[0].length)return this;i={primary:t.values.length,secondary:t.values[0].length,sectors:"annuli"===this.xu.dataOrder?t.values[0].length:t.values.length,annuli:"annuli"===this.xu.dataOrder?t.values.length:t.values[0].length};var a="annuli"===this.xu.dataOrder?t.iAnnulus:t.iSector,u=a+i.primary-1,h="annuli"===this.xu.dataOrder?t.iSector:t.iAnnulus,f=h+i.secondary-1,c="annuli"===this.xu.dataOrder?this.xu.annuli-1:this.xu.sectors-1,l="annuli"===this.xu.dataOrder?this.xu.sectors-1:this.xu.annuli-1;if(a<0||h<0)return!0===this.chart.Uy.Su&&(e="PolarHeatmapSeries.invalidateIntensityValues invalidation start below 0 not permitted.\niSector: ".concat(t.iSector,", iAnnuli: ").concat(t.iAnnulus,".\nNo intensity values will be invalidated."),ci.console.warn(e)),this;if(u>c||f>l){!0===this.chart.Uy.Su&&(e="PolarHeatmapSeries.invalidateIntensityValues intensity matrix overflow.\nMax indexes ".concat(c,"x").concat(l,", input ").concat(i.primary,"x").concat(i.secondary," starting at [").concat(a,",").concat(h,"].\nOut of bounds data will be automatically clipped. This can result in sub-optimal performance."),ci.console.warn(e));var v=Math.max(u-c,0),d=i.primary-v,y=Math.max(f-l,0);for(o=[],s=0;s<d;s+=1)o[s]=t.values[s].slice(0,y>0?-y:void 0);if(0===(t={iSector:t.iSector,iAnnulus:t.iAnnulus,values:o}).values.length||0===t.values[0].length)return this}this.WC.pp({type:"intensity",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:a,startSecondary:h,values:t.values})}return this.Yn.Fn(),this.MA=!0,this},i.prototype.setFillStyle=function(t){return this.Qr="function"==typeof t?t(this.Qr):t,this.WC.$r(this.Qr),this.Yn.Fn(),this},i.prototype.getFillStyle=function(){return this.Qr},i.prototype.clear=function(){return this.WC.zi(),this.Yn.Fn(),this},i.prototype.setIntensityInterpolation=function(t){return t=t||"disabled",this.WC.Ap(t),this.Yn.Fn(),this},i.prototype.getIntensityInterpolation=function(){return this.WC.bp()},i.prototype.Rn=function(){return en(this.Qr,this.WC.Mi())},i.prototype.OA=function(){return this.vA&&this.getVisible()},i.prototype.ee=function(t,i){t.Oi(i),this.Yn.Fn()},i.prototype.ie=function(){},i.prototype.re=function(){return{fill:this.Qr}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(Gl),dy=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yy=function(t){function i(i,n,r,e,o,s,a,u){var h,f=this;return(f=t.call(this,i,by,n,r,e,o,s,a,u)||this).HC=90,f.ZC=12,f.QC=Ay,f.HA=f.Eg.Fl(f.zg).setPointerEvents(!1),f.Wg=function(t){if(0!==f.getTitle().length&&!Rr(f.getTitleFillStyle())){for(var i=180*(t.S-f.zg.vr())/Math.PI%360;i<0;)i+=360;for(;i>360;)i-=360;return!(i>=0&&i<=20||i>=340&&i<=360)&&void 0}},f.ko=void 0,f.setTickStyle(r.polarRadialAxisTickStyle),f.setTitle("Degrees"),f.setNorth(f.HC),f.JC=null!==(h=f.xi.polarRadialAxisMarginAfterTicks)&&void 0!==h?h:7,f}return dy(i,t),i.prototype.setTickStyle=function(t){return this.KC="function"==typeof t?t(this.KC):t,this.qC(),this.Eg.Fn(),this},i.prototype.getTickStyle=function(){return this.KC},i.prototype.setTickFormattingFunction=function(t){return this.QC=t,this.qC(),this.Eg.Fn(),this},i.prototype.getTickFormattingFunction=function(){return this.QC},i.prototype.setClockwise=function(t){this.zg.hr(t);var i=this.HC*Math.PI/180;return t?this.zg.lr(i+Math.PI/2):this.zg.lr(i-Math.PI/2),this.Eg.Fn(),this},i.prototype.getClockwise=function(){return!this.zg.cr()},i.prototype.setNorth=function(t){for(;t<0;)t+=360;t%=360,this.HC=t;var i=t*Math.PI/180;return this.getClockwise()?this.zg.lr(i+Math.PI/2):this.zg.lr(i-Math.PI/2),this.Eg.Fn(),this},i.prototype.getNorth=function(){return 180*this.zg.vr()/Math.PI},i.prototype.setDivision=function(t){return this.ZC=t,this.qC(),this.Eg.Fn(),this},i.prototype.getDivision=function(){return this.ZC},i.prototype.getMarginAfterTicks=function(){return this.JC},i.prototype.setMarginAfterTicks=function(t){return this.JC=t,this.chart.Ai.Fn(),this},i.prototype.Sd=function(){return[]},i.prototype.Go=function(t,i,n){var r=this;return{ticksInfo:i,Cd:this.$o((function(t,i){var n=i.gs.Ce,e=.5*r.Ng.getThickness()+n.tickLength+n.tickPadding+Math.abs(i.Oo.Io().Oc().y);return Math.max(t,e)}),0)+this.JC,updatedTicks:n}},i.prototype.fs=function(t,i){return i},i.prototype.vs=function(t,i,n){return{start:t,end:i}},i.prototype.Rg=function(t,i){var n=t.cr()?1:-1,r=t.vr(),e=t.ur()?t.ar().end-t.ar().start:t.ar().start-t.ar().end;return{x:Math.cos((i-r)*n)*e,y:Math.sin((i-r)*n)*e}},i.prototype.Gg=function(t,i){return t.ce(i)},i.prototype.Xg=function(t,i,n,r){var e=this.KC,o=t.cr()?1:-1,s=t.vr(),a=(r.S-s)*o,u=Math.cos(a),h=Math.sin(a),f=t.ur()?t.ar().end-t.ar().start:t.ar().start-t.ar().end,c={x:u*f,y:h*f};i.ve({x:0,y:0}).le(c);var l={x:c.x+u*e.tickLength*t.oi().x,y:c.y+h*e.tickLength*t.oi().y};n.ve(c).le(l),i.fe(e.gridStrokeStyle),n.fe(e.tickStyle)},i.prototype.Vg=function(t,i,n){for(var r,e=t.cr()?1:-1,o=(i-t.vr())*e;o<0;)o+=2*Math.PI;for(;o>=2*Math.PI;)o-=2*Math.PI;r=o>0&&o<=Math.PI?-o+Math.PI/2:-o-Math.PI/2;var s=Math.cos(o),a=Math.sin(o),u=n.tickLength+n.tickPadding;return{alignment:{x:0,y:0},padding:{x:s*u*t.oi().x,y:a*u*t.oi().y},rotation:180*r/Math.PI,offset:{x:0,y:0}}},i.prototype.Ug=function(t,i,n){var r=t.ur()?t.ar().end-t.ar().start:t.ar().start-t.ar().end;this.HA.ac(0).le(360).cc(0).uc(r+.5*i.getThickness()*t.oi().x).lc(360).$r(Vr).qr(i)},i.prototype.Yg=function(t,i,n){var r=t.vr(),e=this.Vg(t,0+r,this.KC),o=t.ur()?t.ar().end-t.ar().start:t.ar().start-t.ar().end;i.Uh(e.alignment).po(e.rotation).Eh(e.offset.x,e.offset.y).ne(or({x:o,y:0},e.padding))},i.prototype.qC=function(){var t=this;this.Mo({me:[],ge:[{Oo:"Radial ticks",Fd:0,Ce:this.KC,be:this.QC,ws:function(i,n,r,e){for(var o=[],s=2*Math.PI/t.ZC,a=0;a<2*Math.PI;a+=s)o.push(a);return o},Ke:{Jo:function(){},qe:function(){return!1},qo:"hide-label"},Ms:void 0}],xe:Ay,Se:void 0,we:void 0},"Numeric")},i}(jl),Ay=function(t,i,n){return(180*t/Math.PI).toFixed(0)},by={rs:function(){},es:function(){},us:function(){},Bg:function(t){return{getInnerStart:function(){return 0},getInnerEnd:function(){return 2*Math.PI},X:function(t,i){},nt:function(i,n,r,e,o){return t.x.nt(i,n,r,e,o)}}},Dg:function(t){return t.radial}},py=function(t){return!!(t&&"object"==typeof t&&"axisAmplitude"in t&&"axisRadial"in t)},my=function(t){return!!(t&&"object"==typeof t&&"angle"in t&&"number"==typeof t.angle&&"amplitude"in t&&"number"==typeof t.amplitude)},gy=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xy=function(t){function i(i,n,r,e,o,s){var a=t.call(this,n,r,o,s)||this;return a.Bn="Sector",a.$C=0,a.tT=1*Math.PI/2,a.iT=void 0,a.nT=void 0,a.j=new Nt,a.Yn=i,a.zg=e,a.bx=a.Yn.Dc(a.zg).Oi(a.getHighlight()),a.Sn(a.bx),a.Qr=o.polarSectorFillStyle,a.Jr=o.polarSectorStrokeStyle,a.setPointerEvents(!1),a}return gy(i,t),i.prototype.setAngleStart=function(t){return this.$C=t,this.Yn.Fn(),this},i.prototype.getAngleStart=function(){return this.$C},i.prototype.setAngleEnd=function(t){return this.tT=t,this.Yn.Fn(),this},i.prototype.getAngleEnd=function(){return this.tT},i.prototype.setAmplitudeStart=function(t){return this.iT=t,this.Yn.Fn(),this},i.prototype.getAmplitudeStart=function(){return this.iT},i.prototype.setAmplitudeEnd=function(t){return this.nT=t,this.Yn.Fn(),this},i.prototype.getAmplitudeEnd=function(){return this.nT},i.prototype.setFillStyle=function(t){return this.Qr="function"==typeof t?t(this.Qr):t,this.Yn.Fn(),this},i.prototype.getFillStyle=function(){return this.Qr},i.prototype.setStrokeStyle=function(t){return this.Jr="function"==typeof t?t(this.Jr):t,this.Yn.Fn(),this},i.prototype.getStrokeStyle=function(){return this.Jr},i.prototype.ie=function(){for(var t=this.zg.ar(),i=void 0!==this.iT?pi(this.iT,t.start,t.end):t.start,n=void 0!==this.nT?pi(this.nT,t.start,t.end):t.end,r=[],e=Math.min(this.$C,this.tT),o=Math.max(this.$C,this.tT),s=e;s<=o;s+=1)r.push({angle:s,amplitude:i});for(s=o;s>=e;s-=1)r.push({angle:s,amplitude:n});var a=Wl(r,this.zg);this.bx.wf(a).$r(this.Qr).qr(this.Jr)},i.prototype.ee=function(t,i){t.Oi(i),this.Yn.Fn()},i.prototype.re=function(){return{fill:this.Qr,stroke:this.Jr}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(fe),Sy=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wy=function(){return wy=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},wy.apply(this,arguments)},My=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Cy=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Ty=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},ky=function(t){function i(i,n,r,e,o,s,a){var u,h=this;(h=t.call(this,i,n,r,n.rA("polarChart bg",0),e,n.Ai.xi.polarChartBackgroundFillStyle,n.Ai.xi.polarChartBackgroundStrokeStyle,n.Ai.xi.polarChartTitleFont,n.Ai.xi.polarChartTitleFillStyle,n.Ai.xi.polarChartTitleShadow,a,null===(u=null==s?void 0:s.legend)||void 0===u?void 0:u.customLegend)||this).coordsClient="client",h.Rv=[],h.rT=function(t){h.zg.Z(t.engineWidth,t.engineHeight)},h.Wv=Xi(h.Rv),h.eT=function(t){h.Rv.push(t)},h.oT=function(){return h.Sb},h.j=new Nt,h.Ai.pu(zs.ma),h.cC=n.Vm("polarChart series bg",0),h.sT=n.Rm("polarChart axis gridlines",0),h.aT=n.Rm("polarChart series",1),h.uT=n.Rm("polarChart axis lines",2),h.hT=n.Rm("polarChart axis ticks",3),h.zg=r.d2({scaleXYConstructor:eo}),h.addEventListener("resize",h.rT),h.Ve.Wo("Polar Chart"),h.kb=h.cC.Fl(h.zg).$r(h.xi.polarChartSeriesBackgroundFillStyle).qr(qt).ac(0).le(360).cc(0),h._b=h.cC.Fl(h.zg).$r(Vr).qr(h.xi.polarChartSeriesBackgroundStrokeStyle).ac(0).le(360).cc(0),t.prototype.Tb.call(h,h.kb,h._b),h.nA(o,h.hd),h.fT=new El(h,h.zg,h.xi,!1!==(null==s?void 0:s.animationsEnabled),h.sT,h.uT,h.hT,h.yn,h.oT),h.cT=new yy(h,h.zg,h.xi,!1!==(null==s?void 0:s.animationsEnabled),h.sT,h.uT,h.hT,h.yn),h.coordsAxis={axisAmplitude:h.fT,axisRadial:h.cT};var f=n.Zm(),c=gi(s?s.cursorBuilder:void 0,sl);h.Qm=Up(h,f,c.pm(f,h.uiScale,h.uiScale,Ai,h.xi),h,"show-nearest",Oy,(function(t,i){var n=h.translateCoordinate(t,h.coordsClient);return Math.sqrt(Math.pow(n.clientX-i.clientX,2)+Math.pow(n.clientY-i.clientY,2))})),h.setAnimationsEnabled(!1!==(null==s?void 0:s.animationsEnabled));var l=wy({backgroundVisible:!0},null==s?void 0:s.legend);return h.legend.setOptions(l),h}return Sy(i,t),i.prototype.getSeries=function(){return this.Sb},i.prototype.setCursor=function(t){return this.Qm.setCursor(t),this},i.prototype.getCursor=function(){return this.Qm.getCursor()},i.prototype.setCursorMode=function(t){return this.Qm.setCursorMode(t),this},i.prototype.getCursorMode=function(){return this.Qm.getCursorMode()},i.prototype.setCustomCursor=function(t){return this.Qm.setCustomCursor(t),this},i.prototype.setCursorDynamicBehavior=function(t){return this.Qm.eg(t),this},i.prototype.setCursorFormatting=function(t){return this.Qm.setCursorFormatting(t),this},i.prototype.getCursorFormatting=function(){return this.Qm.getCursorFormatting()},i.prototype.solveNearest=function(t,i){return void 0===i&&(i=this.getCursorMode()||"show-nearest"),this.Qm.solveNearest(t,i,this.Sb,(function(t,i,n){return t.solveNearest(i,n)}))},i.prototype.addCursor=function(t){void 0===t&&(t=sl);var i=this.Xy(),n=t.pm(i,this.uiScale,this.uiScale,this.Gy(i),this.xi);return this.tA(n),n},i.prototype.translateCoordinate=function(t,i,n){if(n){var r=t,e=this.hd;if(Jr(a=n)){var o=at(r,e,this.Ai.ai);return this.Ai.Yu({engineX:o.x,engineY:o.y})}if(qr(a))return r;if(py(a)){var s=at(r,e,this.zg);return Zl(s,this.zg)}}else{var a=i;if(Kr(r=t)){if(py(a))return o=this.Ai.Uu(r),s=at({x:o.engineX,y:o.engineY},this.Ai.ai,this.zg),Zl(s,this.zg);if(Jr(a))return r;if(qr(a))return o=this.Ai.Uu(r),at({x:o.engineX,y:o.engineY},this.Ai.ai,this.hd)}else if(my(r)){if(py(a))return r;if(s=Wl([r],this.zg)[0],Jr(a)){var u=at(s,this.zg,this.Ai.ai);return o={engineX:u.x,engineY:u.y},this.Ai.Yu(o)}if(qr(a))return at(s,this.zg,this.hd)}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")},i.prototype.addLineSeries=function(t){var i=new av(this.aT,this,this.Mb,this.zg,this.xi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.Sb.length,this.Ai.yn);return this.Ob(i,t),i},i.prototype.addPointSeries=function(t){var i=new cy(this.aT,this,this.Mb,this.zg,this.xi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.Sb.length,this.Ai.yn);return this.Ob(i,t),i},i.prototype.addPointLineSeries=function(t){var i=new uy(this.aT,this,this.Mb,this.zg,this.xi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.Sb.length,this.Ai.yn);return this.Ob(i,t),i},i.prototype.addAreaSeries=function(t){var i=new ev(this.aT,this,this.Mb,this.zg,this.xi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.Sb.length,this.Ai.yn);return this.Ob(i,t),i},i.prototype.addPolygonSeries=function(t){var i=new ql(this.aT,this,this.Mb,this.zg,this.xi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.Sb.length,this.Ai.yn);return this.Ob(i,t),i},i.prototype.addHeatmapSeries=function(t){var i=new vy(this.aT,this,this.Mb,this.zg,this.xi,this.Ai.yn,t);return this.Ob(i,t),i},i.prototype.addSector=function(t){var i=new xy(this.aT,this,this.Wv,this.zg,this.xi,this.Ai.yn);return this.eT(i),this.Dn.forEach((function(n){n.Iy()&&null!==t&&n.lf(i,t)})),i},i.prototype.getAmplitudeAxis=function(){return this.fT},Object.defineProperty(i.prototype,"amplitudeAxis",{get:function(){return this.fT},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"axisAmplitude",{get:function(){return this.fT},enumerable:!1,configurable:!0}),i.prototype.getRadialAxis=function(){return this.cT},Object.defineProperty(i.prototype,"radialAxis",{get:function(){return this.cT},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"axisRadial",{get:function(){return this.cT},enumerable:!1,configurable:!0}),i.prototype.ie=function(i){var n,r,e,o,s,a,u,h,f=this;t.prototype.ie.call(this,i);var c=xf(this.Ve,this.eA),l=this.Dn.reduce((function(t,i){var n=i.Io(c,f.Ls);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0});Sf(this.Ve,this.eA,this.uiScale.oi(),this.Ls,l);try{for(var v=My(this.Sb),d=v.next();!d.done;d=v.next())d.value.gA()}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=v.return)&&r.call(v)}finally{if(n)throw n.error}}this.fT.hs(),this.cT.hs();try{for(var y=My(this.Sb),A=y.next();!A.done;A=y.next())A.value.ie()}catch(t){e={error:t}}finally{try{A&&!A.done&&(o=y.return)&&o.call(y)}finally{if(e)throw e.error}}var b=this.zg.getInnerIntervalPixels().x/2,p=this.fT.Io({physicalAxisSize:b}),m=this.cT.Io({physicalAxisSize:2*Math.PI*b});this.fT.ie(p),this.cT.ie(m);var g=[this.Ls.left+m.Cd+l.left,this.Ls.right+m.Cd+l.right],x=[this.Ls.bottom+m.Cd+l.bottom,this.Ls.top+m.Cd+c+l.top];this.zg.qt(g).$t(x);var S=this.zg.ar().start,w=this.zg.ar().end,M=this.zg.ur()?(m.Cd||0)*this.zg.x.getPixelSize()+w-S:(m.Cd||0)*this.zg.x.getPixelSize()+S-w;this.kb.uc(M).lc(360),this._b.uc(M).lc(360);try{for(var C=My(this.Rv),T=C.next();!T.done;T=C.next())T.value.ie()}catch(t){s={error:t}}finally{try{T&&!T.done&&(a=C.return)&&a.call(C)}finally{if(s)throw s.error}}this.Qm.ie(!1,this.Sb,(function(t,i,n){return t.solveNearest(i,n)}));try{for(var k=My(this.Sb),_=k.next();!_.done;_=k.next())_.value.xA()}catch(t){u={error:t}}finally{try{_&&!_.done&&(h=k.return)&&h.call(k)}finally{if(u)throw u.error}}return t.prototype.iA.call(this),this.Dn.forEach((function(t){return t.ie(c,f.Ls)})),this.lT(),this},i.prototype.setAnimationsEnabled=function(i){return t.prototype.setAnimationsEnabled.call(this,i),this.fT.setAnimationsEnabled(i),this.cT.setAnimationsEnabled(i),this},i.prototype.getMinimumSize=function(){return h(_y,_y)},i.prototype.lT=function(){},i.prototype.forEachAxis=function(t){return t(this.fT),t(this.cT),this},i.prototype.dispose=function(){return this.Rv.slice().forEach((function(t){return t.dispose()})),this.Qm.V(),this.cC.V(),this.sT.V(),this.aT.V(),this.uT.V(),this.hT.V(),t.prototype.dispose.call(this)},i.prototype.By=function(){return Ty(Ty([],Cy(this.Sb),!1),Cy(this.Rv),!1)},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(uc),_y=300,Oy=function(t,i,n){var r;return bt(i)?Np(i,[[{component:i.series,componentColor:Vp(i),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],["Angle","",{text:i.angle.toFixed(0),font:{weight:"bold"}}],["Amplitude","",{text:ee(t.getAmplitudeAxis().formatValue(i.amplitude),t.amplitudeAxis),font:{weight:"bold"}}],["Intensity","",{text:ee(i.lut?Er(i.lut,i.intensity):i.intensity.toFixed(2),null===(r=i.lut)||void 0===r?void 0:r.units),font:{weight:"bold"}}]]):Np(i,[[{component:i.series,componentColor:Vp(i),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],["Angle","",{text:i.angle.toFixed(0),font:{weight:"bold"}}],["Amplitude","",{text:ee(t.getAmplitudeAxis().formatValue(i.amplitude),t.amplitudeAxis),font:{weight:"bold"}}]])},Fy=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Iy=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r,e)||this;return o.Bn="Slice",o.S=0,ci.requestAnimationFrame((function(){o.addEventListener("pointermove",(function(){o.chart.Ai.Fn()}))})),o}return Fy(i,t),i}(fe),jy=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),By=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return jy(i,t),i}(Iy),Dy=function(t){function i(i,n,r,e,o,s,a,u){var h=t.call(this,e,s,a,u)||this;return h.Bn="Slice",h.S=0,h.vT=!1,h.dT=Vr,h.yT=Vr,h.AT=h.S,h.bT=Ut((function(){return h.chart.Ai.Fn()})),h.pT=function(){h.mT=void 0},h.j=new Nt,h.index=i,h.chart=e,h.scale=o,h.ln=s,h.bx=n.Dc(o,pa.Simple).Oi(h.getHighlight()),h.Sn(h.bx),h.Oo=r.ps(o).Oi(h.getHighlight()),h.Sn(h.Oo,{isText:!0}),h}return jy(i,t),i.prototype.setValue=function(t){var i=this;return this.chart.getAnimationsEnabled()?this.getVisible()&&this.gT(this.AT,t,(function(){return i.chart.Dn.forEach((function(t){return t.Ln()}))})):this.AT=t,this.S=t,this.chart.Dn.forEach((function(t){return t.Ln()})),this.chart.Ai.Fn(),this},i.prototype.getValue=function(){return this.S},i.prototype.setVisible=function(i){var n=this;return!1===i?this.chart.getAnimationsEnabled()&&Math.abs(this.AT)>0?(this.mT&&(this.mT.finish(!1),this.mT=void 0),this.gT(this.AT,0,(function(){return t.prototype.setVisible.call(n,!1)}))):(this.AT=0,t.prototype.setVisible.call(this,!1)):this.chart.getAnimationsEnabled()?(this.mT&&(this.mT.finish(!1),this.mT=void 0),t.prototype.setVisible.call(this,!0),this.gT(this.AT,this.S)):(this.AT=this.S,t.prototype.setVisible.call(this,!0)),this},i.prototype.gT=function(t,i,n){var r=this;this.mT=this.bT(300,Rt.ease)([[t,i]],(function(t){var i=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(t,1)[0];r.AT=i,r.chart.Ai.Fn()})),this.mT.addEventListener("everyAnimationEnd",this.pT),n&&this.mT.addEventListener("end",n)},i.prototype.setStyle=function(t,i,n,r,e){this.dT=t,this.yT=n,this.bx.$r(this.dT).qr(i),this.Oo.$r(this.yT).bo(r).Yo(e)},i.prototype.getAnimatedValue=function(){return this.AT},i.prototype.ee=function(t,i){return t.Oi(i),this.chart.Ai.Fn(),this},i.prototype.re=function(){return{fill:this.dT,stroke:this.bx.zu()}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(By);!function(t){t[t.LabelsInsideSlices=0]="LabelsInsideSlices",t[t.LabelsOnSides=1]="LabelsOnSides"}(Zd||(Zd={}));var Ly,Ey={SortByName:function(t,i){return t.getName().localeCompare(i.getName(),void 0,{numeric:!0})},SortByValueAscending:function(t,i){return Math.abs(t.getAnimatedValue())-Math.abs(i.getAnimatedValue())},SortByValueDescending:function(t,i){return Math.abs(i.getAnimatedValue())-Math.abs(t.getAnimatedValue())},None:function(){return 0}},Py={Name:function(t){return"".concat(t.getName())},NamePlusValue:function(t){return"".concat(t.getName(),": ").concat(Math.round(t.getAnimatedValue()))},NamePlusRelativeValue:function(t,i){return"".concat(t.getName(),": ").concat((100*i).toFixed(2),"%")}},zy=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ny=function(){return Ny=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Ny.apply(this,arguments)};!function(t){t[t.VariableHeight=0]="VariableHeight",t[t.VariableWidth=1]="VariableWidth"}(Ly||(Ly={}));var Vy,Ry=function(t,i){return t<=0?0:i*((t>=100?100:t)/100)},Gy=function(t,i,n,r,e,o,s,a,u){void 0===o&&(o=0),void 0===s&&(s=Ly.VariableHeight),i=Ry(i,r.x),n=Ry(n,r.x);var h,f=t.length,c=0;h=t.reduce((function(t,i){return t+Math.abs(i.getAnimatedValue())}),0);var l={x:a-i/2+u.left,y:r.y+e.bottom+u.bottom},v={x:a+i/2+u.left,y:r.y+e.bottom+u.bottom},d={x:0,y:e.bottom},y={x:0,y:e.bottom},A=0,b=0;if(o)for(var p=0;p<t.length;p+=1){var m=t[p];b+=Math.abs(m.getAnimatedValue());var g=s===Ly.VariableWidth?(r.y-o*f)/f:r.y+e.bottom-b/h*r.y;if(s===Ly.VariableWidth){o=g-o<10?Math.max(20,g-10):o;break}0!==A&&A-g-o<10&&(o=Math.max(0,A-g-10)),A=g}var x=(i-n)/2/r.y;for(p=0;p<f;p+=1){m=t[p],c+=Math.abs(m.getAnimatedValue());var S,w=s===Ly.VariableWidth?(r.y-o*f)/f:r.y+e.bottom-c/h*r.y;p>0&&(l={x:d.x+x*o,y:d.y-o},v={x:y.x-x*o,y:y.y-o}),d={x:a-(S=(i+c/h*(n-i))/2)+u.left,y:s===Ly.VariableWidth?l.y-w:w+u.bottom},y={x:a+S+u.left,y:s===Ly.VariableWidth?v.y-w:w+u.bottom},v.x>=l.x&&y.x>d.x&&m.bx.wf([d,l,v,y])}},Uy=function(t){function i(i,n,r,e,o,s,a){var u,h=this;(h=t.call(this,i,n,r,n.rA("funnelChart bg",0),e,n.Ai.xi.funnelChartBackgroundFillStyle,n.Ai.xi.funnelChartBackgroundStrokeStyle,n.Ai.xi.funnelChartTitleFont,n.Ai.xi.funnelChartTitleFillStyle,n.Ai.xi.funnelChartTitleShadow,s,null===(u=null==a?void 0:a.legend)||void 0===u?void 0:u.customLegend)||this).xT=[],h.ST=Ey.None,h.wT=!0,h.MT=h.xi.funnelChartSliceLabelShadow,h.CT=0,h.TT=20,h.kT=5,h._T=Ly.VariableHeight,h.OT=!0,h.FT=function(t){var i=h.xT.indexOf(t);i>=0&&(h.xT.splice(i,1),h.IT())},h.j=new Nt,h.Ai.pu(zs.Aa),h.jT=h.xi.effectsText,h.BT=n.Rm("funnelChart bottom",0),h.DT=n.Rm("funnelChart top",1),h.Ve.Wo("Funnel Chart"),h.LT=h.xi.funnelChartSliceFillStylePalette,h.ET=h.xi.funnelChartSliceStrokeStyle,h.PT=h.xi.funnelChartSliceLabelFont,h.zT=h.xi.funnelChartSliceLabelFillStyle;var f=n.Zm(),c=gi(a?a.cursorBuilder:void 0,el);h.Qm=Up(h,f,c.pm(f,h.uiScale,h.uiScale,Ai,h.xi),void 0,"show-pointed",Yy,(function(){return 0})),h.setAnimationsEnabled(!1!==(null==a?void 0:a.animationsEnabled)),h.nA(o,h.hd);var l=Ny({backgroundVisible:!0},null==a?void 0:a.legend);return h.legend.setOptions(l),h}return zy(i,t),i.prototype.setCursor=function(t){return this.Qm.setCursor(t),this},i.prototype.getCursor=function(){return this.Qm.getCursor()},i.prototype.setCursorMode=function(t){return this.Qm.setCursorMode(t),this},i.prototype.getCursorMode=function(){return this.Qm.getCursorMode()},i.prototype.setCustomCursor=function(t){return this.Qm.setCustomCursor(t),this},i.prototype.setCursorDynamicBehavior=function(t){return this.Qm.eg(t),this},i.prototype.setCursorFormatting=function(t){return this.Qm.setCursorFormatting(t),this},i.prototype.getCursorFormatting=function(){return this.Qm.getCursorFormatting()},i.prototype.addCursor=function(t){void 0===t&&(t=el);var i=this.Xy(),n=t.pm(i,this.uiScale,this.uiScale,this.Gy(i),this.xi);return this.tA(n),n},i.prototype.addSlice=function(t,i){var n=new Dy(this.CT,this.BT,this.DT,this,this.hd,this.FT,this.xi,this.Ai.yn);return this.CT+=1,n.setName(t),n.setValue(i),n.yn.bn.On(this.jT),n.yn.pn.On(this.OT),this.xT.push(n),this.Ai.Fn(),n.setHighlightOnHover(this.wT),this.Dn.forEach((function(t){t.Iy()&&t.lf(n)})),n},i.prototype.addSlices=function(t){for(var i=[],n=0;n<t.length;n+=1)i.push(this.addSlice(t[n].name,t[n].value));return i},i.prototype.getSlices=function(){return this.xT},i.prototype.setNeckWidth=function(t){return this.TT=pi(t,1,99),this.Ai.Fn(),this},i.prototype.getNeckWidth=function(){return this.TT},i.prototype.setSliceGap=function(t){return this.kT=Math.min(Math.max(t,0),20),this.Ai.Fn(),this},i.prototype.setSliceMode=function(t){return this._T=t,this.Ai.Fn(),this},i.prototype.getFunnelSliceMode=function(){return this._T},i.prototype.setLUT=function(t){return this.Tv=t,this.Ai.Fn(),this},i.prototype.setSliceFillStyle=function(t){return this.LT=t,this.Ai.Fn(),this},i.prototype.getSliceFillStyle=function(){return this.LT},i.prototype.setSliceStrokeStyle=function(t){return this.ET="function"==typeof t?t(this.ET):t,this.Ai.Fn(),this},i.prototype.getSliceStrokeStyle=function(){return this.ET},i.prototype.setSliceEffect=function(t){return this.OT=t,this.xT.forEach((function(i){return i.yn.pn.On(t)})),this.Ai.Fn(),this},i.prototype.getSliceEffect=function(){return this.OT},i.prototype.setSliceSorter=function(t){return this.ST=t,this.xT=this.xT.sort(this.ST),this.Ai.Fn(),this},i.prototype.getSliceSorter=function(){return this.ST},i.prototype.setLabelFillStyle=function(t){return this.zT="function"==typeof t?t(this.zT):t,this.Ai.Fn(),this},i.prototype.getLabelFillStyle=function(){return this.zT},i.prototype.setLabelShadow=function(t){return this.MT=t,this.Ai.Fn(),this},i.prototype.getLabelShadow=function(){return this.MT},i.prototype.setLabelFont=function(t){return this.PT="function"==typeof t?t(this.PT):t,this.Ai.Fn(),this},i.prototype.getLabelFont=function(){return this.PT},i.prototype.setLabelEffect=function(t){return this.jT=t,this.xT.forEach((function(i){return i.yn.bn.On(t)})),this.Ai.Fn(),this},i.prototype.getLabelEffect=function(){return this.jT},i.prototype.setLabelFormatter=function(t){return this.NT=t,this.Ai.Fn(),this},i.prototype.getLabelFormatter=function(){return this.NT},i.prototype.setSliceHighlightOnHover=function(t){return this.wT=t,this.xT.forEach((function(i){return i.setHighlightOnHover(t)})),this},i.prototype.ie=function(i){var n=this;t.prototype.ie.call(this,i),t.prototype.iA.call(this),this.xT=this.xT.sort(this.ST);for(var r=0,e=this.xT.length;r<e;r+=1)this.VT(this.xT[r],r);var o=this.xT.filter((function(t){return Math.abs(t.getAnimatedValue())>0})),s=xf(this.Ve,this.eA),a=this.Dn.reduce((function(t,i){var r=i.Io(s,n.Ls);return{top:Math.max(t.top,r.top),bottom:Math.max(t.bottom,r.bottom),left:Math.max(t.left,r.left),right:Math.max(t.right,r.right)}}),{top:0,bottom:0,left:0,right:0});Sf(this.Ve,this.eA,this.uiScale.oi(),this.Ls,a);var u=h(this.hd.x.getInnerInterval()-(this.Ls.left+this.Ls.right),this.hd.y.getInnerInterval()-(this.Ls.bottom+this.Ls.top+s)),f=h(u.x-a.left-a.right,u.y-a.top-a.bottom),c=h(this.Ls.left+(u.x+a.left-a.right)/2,this.Ls.bottom+(u.y+a.bottom-a.top)/2),l=0;for(r=0;r<o.length;r+=1)l+=Math.abs(o[r].getAnimatedValue());var v,d=[];for(r=0;r<o.length;r+=1)d.push((v=Math.abs(o[r].getAnimatedValue()))>0?v/l:0);for(r=0;r<o.length;r+=1){var y=o[r];y.Oo.Wo(this.NT(y,d[r])).Io()}d.push(l),this.Qm.ie(!1,this.xT,(function(t,i,r){var e=d[o.indexOf(t)]||0,s=n.Ai.Uu(i);return{cursorPosition:{pointMarker:{x:s.engineX,y:s.engineY},pointMarkerScale:n.Ai.ai,resultTable:{x:s.engineX,y:s.engineY},resultTableScale:n.Ai.ai},slice:t,category:t.getName(),value:t.getValue(),relativeValue:e}})),this.Dn.forEach((function(t){return t.ie(s,n.Ls)})),this.RT(o,d,c,f,a)},i.prototype.VT=function(t,i){t.setStyle(this.Tv?new Ur({color:this.Tv.getColors(t.getAnimatedValue(),void 0)}):this.LT(i,t),this.ET,this.zT,this.PT,this.MT)},i.prototype.IT=function(){this.xT=this.xT.sort(this.ST),this.Ai.Fn()},i.prototype.By=function(){return this.xT},i.prototype.dispose=function(){return this.xT.slice().forEach((function(t){return t.dispose()})),this.Qm.V(),this.BT.V(),this.DT.V(),t.prototype.dispose.call(this)},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(gf),Yy=function(t,i,n){return[[{component:i.slice,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[{text:i.value.toString(),font:{weight:"bold"}}]]},Wy=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xy=function(t,i,n){var r=t.Mf();if(0===r.length)return{x:0,y:0};var e=(r[1].y-r[0].y)/2+r[0].y;return{x:i===Vy.Left?(r[0].x-r[1].x)/2+r[1].x-n:(r[2].x-(4===r.length?r[3].x:r[1].x))/2+(4===r.length?r[3].x:r[1].x)+n,y:e}},Hy=function(t){var i=t.Mf();if(i.length>0)return{x:(i[2].x-i[1].x)/2+i[1].x,y:(i[1].y-i[0].y)/2+i[0].y}},Zy=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.NT=Py.NamePlusValue,i.GT=0,i.UT=10,i.YT=30,i.WT=10,i.XT=Vy.Left,i.HT=[],i.ZT=i.xi.funnelChartConnectorStrokeStyle,i}return Wy(i,t),i.prototype.setLabelConnectorStyle=function(t){this.ZT=t;for(var i=0;i<this.HT.length;i+=1)this.HT[i].fe(this.ZT);return this.Ai.Fn(),this},i.prototype.getLabelConnectorStyle=function(){return this.ZT},i.prototype.setLabelConnectorGapBeforeLabel=function(t){return this.UT=t,this.Ai.Fn(),this},i.prototype.getLabelConnectorGapBeforeLabel=function(){return this.UT},i.prototype.setLabelConnectorGapBeforeSlice=function(t){return this.GT=t,this.Ai.Fn(),this},i.prototype.getLabelConnectorGapBeforeSlice=function(){return this.GT},i.prototype.setLabelConnectorLengthAfterSlice=function(t){return this.YT=t,this.Ai.Fn(),this},i.prototype.getLabelConnectorLengthAfterSlice=function(){return this.YT},i.prototype.setLabelConnectorMinLengthBeforeSlice=function(t){return this.WT=t,this.Ai.Fn(),this},i.prototype.getLabelConnectorMinLengthBeforeSlice=function(){return this.WT},i.prototype.setLabelSide=function(t){return this.XT=t,this.Ai.Fn(),this},i.prototype.getLabelSide=function(){return this.XT},i.prototype.RT=function(t,i,n,r,e){for(var o=0,s=0,a=0;a<t.length;a+=1){var u=t[a].Oo.setVisible(!0).Io().Oc();o=Math.max(o,u.x),s+=u.y}var h=.4*r.x,f=r.x-h-(this.GT+this.YT+this.WT+this.UT),c=!0;f<50?c=!1:o>f&&(t.forEach((function(t){var i=t.Oo.Zo(),n=t.Oo.Oc().x/i.length,r=Math.floor(f/n);if(r<i.length){var e=i.slice(0,r-3)+"...";t.Oo.Wo(e).Io()}})),s=0,o=t.reduce((function(t,i){var n=i.Oo.Oc();return s+=n.y,Math.max(t,n.x)}),0));var l=this.XT===Vy.Left?this.Ls.left+e.left:this.Ls.left+r.x,v=this.XT===Vy.Left?-1:1,d=r.y-s;d<0&&(c=!1);var y=c?o+this.UT+this.WT+this.YT+this.GT:0,A=r.x-y,b=this.XT===Vy.Left?this.Ls.left+y:this.Ls.left,p=this.XT===Vy.Left?b+A:this.Ls.left+A,m=(b+p)/2;Gy(t,100,this.TT,{x:A,y:r.y},this.Ls,this.kT,this._T,m,e);var g=t.filter((function(t){return c&&0!==t.bx.Mf().length?(t.Oo.setVisible(!0),!0):(t.Oo.setVisible(!1),!1)})),x=d/(g.length+1),S=this.Ls.bottom+r.y-(this._T==Ly.VariableHeight?x:0)+e.bottom;this._T==Ly.VariableWidth&&(S-=s/t.length/2);var w=this.XT===Vy.Left?b:p,M=this.XT===Vy.Left?m-.5*this.TT/100*A:m+.5*this.TT/100*A,C=this.Ls.bottom+r.y+e.bottom,T=this.Ls.bottom+e.bottom;for(a=0;a<this.HT.length;a+=1)this.HT[a].setVisible(!1);for(a=0;a<g.length;a+=1){var k=g[a],_=k.bx,O=k.Oo,F=(u=O.Oc(),Xy(_,this.XT,this.GT));if(this._T==Ly.VariableHeight){k.Oo.ne({x:l,y:S}).Uh({x:v,y:1});var I=S-.5*u.y,j={x:D=this.XT===Vy.Left?Math.min(me(w,M,(I-C)/(T-C))-this.YT,F.x):Math.max(me(w,M,(I-C)/(T-C))+this.YT,F.x),y:I},B={x:this.XT===Vy.Left?O.Bh().x+u.x+this.UT:O.Bh().x-u.x-this.UT,y:I};this.QT([F,j,B]),S-=u.y+x}else{var D=this.XT===Vy.Left?l+u.x+this.UT:l-u.x-this.UT;k.Oo.ne({x:l,y:F.y}).Uh({x:v,y:0}),this.QT([F,{x:D,y:F.y}])}}},i.prototype.getMinimumSize=function(){return h(500,300)},i.prototype.QT=function(t){if(t){for(var i=void 0,n=0;n<this.HT.length;n+=1)if(!this.HT[n].getVisible()){i=this.HT[n].setVisible(!0);break}void 0===i&&(i=this.DT.QA(this.hd,void 0,[Of.InternalUI]).fe(this.ZT),this.HT.push(i)),i.zi().lf(t)}},i}(Uy),Qy=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.NT=Py.Name,i}return Wy(i,t),i.prototype.RT=function(t,i,n,r,e){var o=this.Ls.left+r.x/2;Gy(t,100,this.TT,r,this.Ls,this.kT,this._T,o,e);for(var s=0;s<t.length;s+=1){var a=t[s],u=a.bx,h=a.Oo,f=Hy(u);f&&h.ne(f).zh(0).Rh(0)}},i.prototype.getMinimumSize=function(){return h(200,200)},i}(Uy),Jy={LabelsOnSides:Zy,LabelsInsideSlices:Qy};!function(t){t[t.Right=0]="Right",t[t.Left=1]="Left"}(Vy||(Vy={}));var Ky,qy=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$y=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},tA=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return qy(i,t),i}(Iy),iA=function(t){function i(i,n,r,e,o,s,a,u){var h=t.call(this,e,s,a,u)||this;return h.vT=!1,h.JT=Vr,h.yT=Vr,h.AT=h.S,h.KT=h.vT?1:0,h.qT=h.getVisible(),h.bT=Ut((function(){return h.chart.Ai.Fn()})),h.$T=Ut((function(){return h.chart.Ai.Fn()})),h.pT=function(){h.mT=void 0},h.tk=function(){h.ik=void 0},h.j=new Nt,h.index=i,h.chart=e,h.scale=o,h.ln=s,h.nk=n.Fl(o).Oi(h.getHighlight()),h.Sn(h.nk),h.Oo=r.ps(o).Oi(h.getHighlight()),h.Sn(h.Oo,{isText:!0}),h.addEventListener("click",(function(t){t.defaultPrevented||function(t,i){Pi(i),t.setExploded(!t.getExploded())}(h,t)})),h}return qy(i,t),i.prototype.setValue=function(t){var i=this;return this.chart.getAnimationsEnabled()?this.qT&&this.gT(this.AT,t,(function(){return i.chart.Dn.forEach((function(t){return t.Ln()}))})):this.AT=t,this.S=t,this.chart.Dn.forEach((function(t){return t.Ln()})),this.chart.Ai.Fn(),this},i.prototype.getValue=function(){return this.S},i.prototype.setExploded=function(t){var i=this;if(t&&!1===this.chart.getMultipleSliceExplosion())for(var n=this.chart.getSlices(),r=0;r<n.length;r+=1)n[r]!==this&&n[r].getExploded()&&n[r].setExploded(!1);return this.chart.getAnimationsEnabled()?(this.ik&&this.ik.finish(),this.ik=this.$T(300,Rt.ease)([[this.KT,t?1:0]],(function(t){var n=$y(t,1)[0];i.KT=n,i.chart.Ai.Fn()})),this.ik.addEventListener("everyAnimationEnd",this.tk),this.vT=!this.vT):!1!==this.chart.getMultipleSliceExplosion()||t?(this.KT=this.vT?0:1,this.vT=!this.vT):(this.KT=0,this.vT=!this.vT),this.chart.Ai.Fn(),this},i.prototype.getExploded=function(){return this.vT},i.prototype.setVisible=function(i){var n=this;return this.qT=i,!1===i?this.chart.getAnimationsEnabled()&&Math.abs(this.AT)>0?(this.mT&&(this.mT.finish(!1),this.mT=void 0),this.gT(this.AT,0,(function(){return t.prototype.setVisible.call(n,!1)}))):(this.AT=0,t.prototype.setVisible.call(this,!1)):this.chart.getAnimationsEnabled()?(this.mT&&(this.mT.finish(!1),this.mT=void 0),t.prototype.setVisible.call(this,!0),this.gT(this.AT,this.S)):(this.AT=this.S,t.prototype.setVisible.call(this,!0)),this},i.prototype.gT=function(t,i,n){var r=this;this.mT=this.bT(300,Rt.ease)([[t,i]],(function(t){var i=$y(t,1)[0];r.AT=i,r.chart.Ai.Fn()})),this.mT.addEventListener("everyAnimationEnd",this.pT),n&&this.mT.addEventListener("end",n)},i.prototype.setStyle=function(t,i,n,r,e){this.JT=t,this.yT=n,this.nk.$r(this.JT).qr(i),this.Oo.$r(this.yT).bo(r).Yo(e)},i.prototype.getAnimatedValue=function(){return this.AT},i.prototype.getAnimatedExplosion=function(){return this.KT},i.prototype.re=function(){return{fill:this.JT,stroke:this.nk.zu()}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(tA),nA=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rA=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return nA(i,t),i}(Iy),eA=function(t){function i(i,n,r,e,o,s,a,u){var h=t.call(this,e,s,a,u)||this;return h.Bn="Slice",h.S=0,h.vT=!1,h.dT=Vr,h.yT=Vr,h.AT=h.S,h.bT=Ut((function(){return h.chart.Ai.Fn()})),h.pT=function(){h.mT=void 0},h.j=new Nt,h.index=i,h.chart=e,h.scale=o,h.ln=s,h.bx=n.Dc(o,pa.Simple).Oi(h.getHighlight()),h.Sn(h.bx),h.Oo=r.ps(o).Oi(h.getHighlight()),h.Sn(h.Oo,{isText:!0}),h}return nA(i,t),i.prototype.setValue=function(t){var i=this;return this.chart.getAnimationsEnabled()?this.getVisible()&&this.gT(this.AT,t,(function(){return i.chart.Dn.forEach((function(t){return t.Ln()}))})):this.AT=t,this.S=t,this.chart.Dn.forEach((function(t){return t.Ln()})),this.chart.Ai.Fn(),this},i.prototype.getValue=function(){return this.S},i.prototype.setVisible=function(i){var n=this;return!1===i?this.chart.getAnimationsEnabled()&&Math.abs(this.AT)>0?(this.mT&&(this.mT.finish(!1),this.mT=void 0),this.gT(this.AT,0,(function(){return t.prototype.setVisible.call(n,!1)}))):(this.AT=0,t.prototype.setVisible.call(this,!1)):this.chart.getAnimationsEnabled()?(this.mT&&(this.mT.finish(!1),this.mT=void 0),t.prototype.setVisible.call(this,!0),this.gT(this.AT,this.S)):(this.AT=this.S,t.prototype.setVisible.call(this,!0)),this},i.prototype.gT=function(t,i,n){var r=this;this.mT=this.bT(300,Rt.ease)([[t,i]],(function(t){var i=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(t,1)[0];r.AT=i,r.chart.Ai.Fn()})),this.mT.addEventListener("everyAnimationEnd",this.pT),n&&this.mT.addEventListener("end",n)},i.prototype.setStyle=function(t,i,n,r,e){this.dT=t,this.yT=n,this.bx.$r(this.dT).qr(i),this.Oo.$r(this.yT).bo(r).Yo(e)},i.prototype.getAnimatedValue=function(){return this.AT},i.prototype.re=function(){return{fill:this.dT,stroke:this.bx.zu()}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(rA),oA=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sA=function(){return sA=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},sA.apply(this,arguments)};!function(t){t[t.VariableHeight=0]="VariableHeight",t[t.VariableWidth=1]="VariableWidth"}(Ky||(Ky={}));var aA,uA,hA=function(t,i){return t<=0?0:i*((t>=100?100:t)/100)},fA=function(t,i,n,r,e,o,s,a,u){void 0===o&&(o=0),void 0===s&&(s=Ky.VariableHeight),void 0===u&&(u=gn),i=hA(i,r.x),n=hA(n,r.x);var h,f=t.length,c=0;h=t.reduce((function(t,i){return t+Math.abs(i.getAnimatedValue())}),0);var l={x:a-i/2+u.left,y:r.y+e.bottom+u.bottom},v={x:a+i/2+u.left,y:r.y+e.bottom+u.bottom},d={x:0,y:e.bottom},y={x:0,y:e.bottom},A=0,b=0;if(o)for(var p=0;p<t.length;p+=1){b+=Math.abs(t[p].getAnimatedValue());var m=s===Ky.VariableWidth?(r.y-o*f)/f:r.y+e.bottom-b/h*r.y;if(s===Ky.VariableWidth){o=m-o<10?Math.max(20,m-10):o;break}0!==A&&A-m-o<10&&(o=Math.max(0,A-m-10)),A=m}var g=(i-n)/2/r.y;for(p=0;p<f;p+=1){var x=t[p];c+=Math.abs(x.getAnimatedValue());var S,w=s===Ky.VariableWidth?(r.y-o*f)/f:r.y+e.bottom-c/h*r.y;p>0&&(l={x:d.x+g*o,y:d.y-o},v={x:y.x-g*o,y:y.y-o}),d={x:a-(S=(i+c/h*(n-i))/2)+u.left,y:s===Ky.VariableWidth?l.y-w:w+u.bottom},y={x:a+S+u.left,y:s===Ky.VariableWidth?v.y-w:w+u.bottom},v.x>=l.x&&y.x>=d.x&&x.bx.wf([d,l,v,y])}},cA=function(t){function i(i,n,r,e,o,s,a){var u,h=this;(h=t.call(this,i,n,r,n.rA("pyramidChart bg",0),e,n.Ai.xi.pyramidChartBackgroundFillStyle,n.Ai.xi.pyramidChartBackgroundStrokeStyle,n.Ai.xi.pyramidChartTitleFont,n.Ai.xi.pyramidChartTitleFillStyle,n.Ai.xi.pyramidChartTitleShadow,s,null===(u=null==a?void 0:a.legend)||void 0===u?void 0:u.customLegend)||this).xT=[],h.ST=Ey.None,h.LT=h.xi.pyramidChartSliceFillStylePalette,h.ET=h.xi.pyramidChartSliceStrokeStyle,h.wT=!0,h.PT=h.xi.pyramidChartSliceLabelFont,h.zT=h.xi.pyramidChartSliceLabelFillStyle,h.MT=h.xi.pyramidChartSliceLabelShadow,h.CT=0,h.TT=100,h.kT=5,h._T=Ky.VariableHeight,h.OT=!0,h.FT=function(t){var i=h.xT.indexOf(t);i>=0&&(h.xT.splice(i,1),h.IT())},h.j=new Nt,h.Ai.pu(zs.Aa),h.jT=h.xi.effectsText,h.BT=n.Rm("pyramidChart bottom",0),h.DT=n.Rm("pyramidChart top",1),h.Ve.Wo("Pyramid Chart");var f=n.Zm(),c=gi(a?a.cursorBuilder:void 0,el);h.Qm=Up(h,f,c.pm(f,h.uiScale,h.uiScale,Ai,h.xi),void 0,"show-pointed",lA,(function(){return 0})),h.nA(o,h.hd),h.setAnimationsEnabled(!1!==(null==a?void 0:a.animationsEnabled));var l=sA({backgroundVisible:!0},null==a?void 0:a.legend);return h.legend.setOptions(l),h}return oA(i,t),i.prototype.setCursor=function(t){return this.Qm.setCursor(t),this},i.prototype.getCursor=function(){return this.Qm.getCursor()},i.prototype.setCursorMode=function(t){return this.Qm.setCursorMode(t),this},i.prototype.getCursorMode=function(){return this.Qm.getCursorMode()},i.prototype.setCustomCursor=function(t){return this.Qm.setCustomCursor(t),this},i.prototype.setCursorDynamicBehavior=function(t){return this.Qm.eg(t),this},i.prototype.setCursorFormatting=function(t){return this.Qm.setCursorFormatting(t),this},i.prototype.getCursorFormatting=function(){return this.Qm.getCursorFormatting()},i.prototype.addCursor=function(t){void 0===t&&(t=el);var i=this.Xy(),n=t.pm(i,this.uiScale,this.uiScale,this.Gy(i),this.xi);return this.tA(n),n},i.prototype.addSlice=function(t,i){var n=new eA(this.CT,this.BT,this.DT,this,this.hd,this.FT,this.xi,this.Ai.yn);return this.CT+=1,n.setName(t),n.setValue(i),n.yn.bn.On(this.jT),n.yn.pn.On(this.OT),this.xT.push(n),this.Ai.Fn(),this.Dn.forEach((function(t){t.Iy()&&t.lf(n)})),n},i.prototype.addSlices=function(t){for(var i=[],n=0;n<t.length;n+=1)i.push(this.addSlice(t[n].name,t[n].value));return i},i.prototype.getSlices=function(){return this.xT},i.prototype.setNeckWidth=function(t){return this.TT=pi(t,1,100),this.Ai.Fn(),this},i.prototype.getNeckWidth=function(){return this.TT},i.prototype.setSliceGap=function(t){return this.kT=Math.min(Math.max(t,0),20),this.Ai.Fn(),this},i.prototype.setSliceMode=function(t){return this._T=t,this.Ai.Fn(),this},i.prototype.getPyramidSliceMode=function(){return this._T},i.prototype.setLUT=function(t){return this.Tv=t,this.Ai.Fn(),this},i.prototype.setSliceFillStyle=function(t){return this.LT=t,this.Ai.Fn(),this},i.prototype.getSliceFillStyle=function(){return this.LT},i.prototype.setSliceStrokeStyle=function(t){return this.ET="function"==typeof t?t(this.ET):t,this.Ai.Fn(),this},i.prototype.getSliceStrokeStyle=function(){return this.ET},i.prototype.setSliceEffect=function(t){return this.OT=t,this.xT.forEach((function(i){return i.yn.pn.On(t)})),this.Ai.Fn(),this},i.prototype.getSliceEffect=function(){return this.OT},i.prototype.setSliceSorter=function(t){return this.ST=t,this.xT=this.xT.sort(this.ST),this.Ai.Fn(),this},i.prototype.getSliceSorter=function(){return this.ST},i.prototype.setLabelFillStyle=function(t){return this.zT="function"==typeof t?t(this.zT):t,this.Ai.Fn(),this},i.prototype.getLabelFillStyle=function(){return this.zT},i.prototype.setLabelShadow=function(t){return this.MT=t,this.Ai.Fn(),this},i.prototype.getLabelShadow=function(){return this.MT},i.prototype.setLabelFont=function(t){return this.PT="function"==typeof t?t(this.PT):t,this.Ai.Fn(),this},i.prototype.getLabelFont=function(){return this.PT},i.prototype.setLabelEffect=function(t){return this.jT=t,this.xT.forEach((function(i){return i.yn.bn.On(t)})),this.Ai.Fn(),this},i.prototype.getLabelEffect=function(){return this.jT},i.prototype.setLabelFormatter=function(t){return this.NT=t,this.Ai.Fn(),this},i.prototype.getLabelFormatter=function(){return this.NT},i.prototype.setSliceHighlightOnHover=function(t){return this.wT=t,this.xT.forEach((function(i){return i.setHighlightOnHover(t)})),this},i.prototype.ie=function(i){var n=this;t.prototype.ie.call(this,i),t.prototype.iA.call(this),this.xT=this.xT.sort(this.ST);for(var r=0,e=this.xT.length;r<e;r+=1)this.VT(this.xT[r],r);var o=this.xT.filter((function(t){return Math.abs(t.getAnimatedValue())>0})),s=xf(this.Ve,this.eA),a=this.Dn.reduce((function(t,i){var r=i.Io(s,n.Ls);return{top:Math.max(t.top,r.top),bottom:Math.max(t.bottom,r.bottom),left:Math.max(t.left,r.left),right:Math.max(t.right,r.right)}}),{top:0,bottom:0,left:0,right:0});Sf(this.Ve,this.eA,this.uiScale.oi(),this.Ls,a);var u=h(this.hd.x.getInnerInterval()-(this.Ls.left+this.Ls.right),this.hd.y.getInnerInterval()-(this.Ls.bottom+this.Ls.top+s)),f=h(u.x-a.left-a.right,u.y-a.top-a.bottom),c=h(this.Ls.left+(u.x+a.left-a.right)/2,this.Ls.bottom+(u.y+a.bottom-a.top)/2),l=0;for(r=0;r<o.length;r+=1)l+=Math.abs(o[r].getAnimatedValue());var v,d=[];for(r=0;r<o.length;r+=1)d.push((v=Math.abs(o[r].getAnimatedValue()))>0?v/l:0);for(r=0;r<o.length;r+=1){var y=o[r];y.Oo.Wo(this.NT(y,d[r])).Io()}d.push(l),this.Qm.ie(!1,this.xT,(function(t,i,r){var e=d[o.indexOf(t)]||0,s=n.Ai.Uu(i);return{cursorPosition:{pointMarker:{x:s.engineX,y:s.engineY},pointMarkerScale:n.Ai.ai,resultTable:{x:s.engineX,y:s.engineY},resultTableScale:n.Ai.ai},slice:t,category:t.getName(),value:t.getValue(),relativeValue:e}})),this.Dn.forEach((function(t){return t.ie(s,n.Ls)})),this.RT(o,d,c,f,a)},i.prototype.VT=function(t,i){t.setStyle(this.Tv?new Ur({color:this.Tv.getColors(t.getAnimatedValue(),void 0)}):this.LT(i,t),this.ET,this.zT,this.PT,this.MT)},i.prototype.IT=function(){this.xT=this.xT.sort(this.ST),this.Ai.Fn()},i.prototype.By=function(){return this.xT},i.prototype.dispose=function(){return this.xT.slice().forEach((function(t){return t.dispose()})),this.Qm.V(),this.BT.V(),this.DT.V(),t.prototype.dispose.call(this)},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(gf),lA=function(t,i,n){return[[{component:i.slice,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[{text:i.value.toString(),font:{weight:"bold"}}]]},vA=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dA=function(t,i,n){var r=t.Mf();if(0===r.length)return{x:0,y:0};var e=(r[1].y-r[0].y)/2+r[0].y;return{x:i===aA.Left?(r[0].x-r[1].x)/2+r[1].x-n:(r[2].x-(4===r.length?r[3].x:r[1].x))/2+(4===r.length?r[3].x:r[1].x)+n,y:e}},yA=function(t){var i=t.Mf();if(i.length>0)return{x:(i[2].x-i[1].x)/2+i[1].x,y:(i[1].y-i[0].y)/2+i[0].y}},AA=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.NT=Py.NamePlusValue,i.GT=0,i.UT=10,i.YT=30,i.WT=10,i.XT=aA.Left,i.rk=Zd.LabelsOnSides,i.HT=[],i.ZT=i.xi.pyramidChartConnectorStrokeStyle,i}return vA(i,t),i.prototype.setLabelConnectorStyle=function(t){this.ZT=t;for(var i=0;i<this.HT.length;i+=1)this.HT[i].fe(this.ZT);return this.Ai.Fn(),this},i.prototype.getLabelConnectorStyle=function(){return this.ZT},i.prototype.setLabelConnectorGapBeforeLabel=function(t){return this.UT=t,this.Ai.Fn(),this},i.prototype.getLabelConnectorGapBeforeLabel=function(){return this.UT},i.prototype.setLabelConnectorGapBeforeSlice=function(t){return this.GT=t,this.Ai.Fn(),this},i.prototype.getLabelConnectorGapBeforeSlice=function(){return this.GT},i.prototype.setLabelConnectorLengthAfterSlice=function(t){return this.YT=t,this.Ai.Fn(),this},i.prototype.getLabelConnectorLengthAfterSlice=function(){return this.YT},i.prototype.setLabelConnectorMinLengthBeforeSlice=function(t){return this.WT=t,this.Ai.Fn(),this},i.prototype.getLabelConnectorMinLengthBeforeSlice=function(){return this.WT},i.prototype.setLabelSide=function(t){return this.XT=t,this.Ai.Fn(),this},i.prototype.getLabelSide=function(){return this.XT},i.prototype.RT=function(t,i,n,r,e){for(var o=0,s=0,a=0;a<t.length;a+=1){var u=t[a].Oo.Oc();o=Math.max(o,u.x),s+=u.y}var h=.4*r.x,f=r.x-h-(this.GT+this.YT+this.WT+this.UT),c=!0;f<50?c=!1:o>f&&(t.forEach((function(t){var i=t.Oo.Zo(),n=t.Oo.Oc().x/i.length,r=Math.floor(f/n);if(r<i.length){var e=i.slice(0,r-3)+"...";t.Oo.Wo(e).Io()}})),s=0,o=t.reduce((function(t,i){var n=i.Oo.Oc();return s+=n.y,Math.max(t,n.x)}),0));var l=this.XT===aA.Left?this.Ls.left+e.left:this.Ls.left+r.x,v=this.XT===aA.Left?-1:1,d=r.y-s;d<0&&(c=!1);var y=c?o+this.UT+this.WT+this.YT+this.GT:0,A=r.x-y,b=this.XT===aA.Left?this.Ls.left+y:this.Ls.left,p=this.XT===aA.Left?b+A:this.Ls.left+A,m=(b+p)/2;fA(t,.001,this.TT,{x:A,y:r.y},this.Ls,this.kT,this._T,m,e);var g=t.filter((function(t){return c&&0!==t.bx.Mf().length?(t.Oo.setVisible(!0),!0):(t.Oo.setVisible(!1),!1)})),x=d/(g.length+1),S=this.Ls.bottom+r.y-(this._T==Ky.VariableHeight?x:0)+e.bottom;this._T==Ky.VariableWidth&&(S-=s/t.length/2);var w=m,M=this.XT===aA.Left?b:p,C=this.Ls.bottom+r.y+e.bottom,T=this.Ls.bottom+e.bottom;for(a=0;a<this.HT.length;a+=1)this.HT[a].setVisible(!1);for(a=0;a<g.length;a+=1){var k=g[a],_=k.bx,O=k.Oo,F=(u=O.Oc(),dA(_,this.XT,this.GT));if(this._T==Ky.VariableHeight){k.Oo.ne({x:l,y:S}).Uh({x:v,y:1});var I=S-.5*u.y,j={x:D=this.XT===aA.Left?Math.min(me(w,M,(I-C)/(T-C))-this.YT,F.x):Math.max(me(w,M,(I-C)/(T-C))+this.YT,F.x),y:I},B={x:this.XT===aA.Left?O.Bh().x+u.x+this.UT:O.Bh().x-u.x-this.UT,y:I};this.QT([F,j,B]),S-=u.y+x}else{var D=this.XT===aA.Left?l+u.x+this.UT:l-u.x-this.UT;k.Oo.ne({x:l,y:F.y}).Uh({x:v,y:0}),this.QT([F,{x:D,y:F.y}])}}},i.prototype.getMinimumSize=function(){return h(500,300)},i.prototype.QT=function(t){for(var i,n=0;n<this.HT.length;n+=1)if(!this.HT[n].getVisible()){i=this.HT[n].setVisible(!0);break}void 0===i&&(i=this.DT.QA(this.hd,void 0,[Of.InternalUI]).fe(this.ZT),this.HT.push(i)),i.zi().lf(t)},i}(cA),bA=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.NT=Py.Name,i.rk=Zd.LabelsInsideSlices,i}return vA(i,t),i.prototype.RT=function(t,i,n,r,e){var o=this.Ls.left+r.x/2;fA(t,.001,this.TT,r,this.Ls,this.kT,this._T,o,e);for(var s=0;s<t.length;s+=1){var a=t[s].bx,u=t[s].Oo,h=yA(a);h&&u.ne(h).zh(0).Rh(0)}},i.prototype.getMinimumSize=function(){return h(200,200)},i}(cA),pA={LabelsOnSides:AA,LabelsInsideSlices:bA};!function(t){t[t.Right=0]="Right",t[t.Left=1]="Left"}(aA||(aA={})),function(t){t[t.Normal=0]="Normal",t[t.Circle=1]="Circle"}(uA||(uA={}));var mA=function(){function t(t,i,n,r,e,o,s,a,u){var h=this;this.je=!1,this.ek=rs.fitting({start:!1}),this.sk=function(t){return h.axisScale.Ht(t,Tr.Numeric)},this.formatValue=function(t){return h.sk(t,{start:h.axisScale.R,end:h.axisScale.G})},this.ak=t,this.xs=i,this.scale=n,this.chart=r,this.tag=e,this.axisScale=ot.d1({scale1DConstructor:q,dimension:"x"}).X(0,1),this.uk=o,this.ek=a,u&&(this.sk=u),s&&this.setInterval(s),this.hk=this.ak.ce(this.scale).setPointerEvents(!1),this.fk=this.xs.ps(this.scale).Wo(this.tag).setPointerEvents(!1),this.ck=this.ak.QA(this.scale,void 0,[Of.InternalUI]).fe(this.chart.getNibStyle()),this.uk.wn([this.fk])}return t.prototype.RT=function(t,i,n,r,e,o,s){var a=i.length,u=i[n>0?n-1:a-1],f=i[n],c=i[n<a-1?n+1:0],l=this.chart.getNibLength();this.hk.ve(t).le(f).fe(this.chart.getAxisStyle()),this.ck.zi().lf(o===uA.Normal?[Xn(f,u,pi(.5*l/rr(sr(u,f)),0,1)),f,Xn(f,c,pi(.5*l/rr(sr(c,f)),0,1))]:function(t,i,n,r,e){void 0===e&&(e=2);for(var o=r/n,s=[],a=-r/2;a<=r/2;a+=e){var u=o*(a/r)+i,f=h(t.x+Math.cos(u)*n,t.y+Math.sin(u)*n);s.push(f)}return s}(t,r,e,l)),s?this.fk.setVisible(!0).ne(or(f,h(s.paddingX,s.paddingY))).zh(s.alignmentX).Rh(s.alignmentY):this.fk.setVisible(!1)},t.prototype.hs=function(t){if(this.ek&&!this.je){var i=this.ek.apply({axis:this,curStart:this.axisScale.getInnerStart(),curEnd:this.axisScale.getInnerEnd(),seriesDataRange:t});i&&this.axisScale.X(i.start,i.end)}},t.prototype.getLabelSize=function(){return this.fk.bo(this.chart.getAxisLabelFont()).$r(this.chart.getAxisLabelStyle()).Io().Mt()},t.prototype.dispose=function(){this.hk&&this.hk.dispose(),this.fk&&this.fk.dispose(),this.ck&&this.ck.dispose()},t.prototype.getTag=function(){return this.tag},t.prototype.setInterval=function(t){var i=t.start,n=t.end,r=t.stopAxisAfter;return void 0!==r&&(this.je=r),this.axisScale.X(null!=i?i:this.axisScale.getInnerStart(),null!=n?n:this.axisScale.getInnerEnd()),this.chart.Ai.Fn(),this},t.prototype.getInterval=function(){return{start:this.axisScale.getInnerStart(),end:this.axisScale.getInnerEnd()}},t.prototype.setScaleLabelFormatter=function(t){return this.sk=t,this.chart.Ai.Fn(),this},t.prototype.setScrollStrategy=function(t){return this.ek=ys(t),this.chart.Ai.Fn(),this},t.prototype.getScrollStrategy=function(){return this.ek},t}(),gA=function(t,i,n,r,e,o){return t.alignmentX=(e+Math.PI/2)%(2*Math.PI)<=Math.PI?-1:1,t.alignmentY=e%(2*Math.PI)<=Math.PI?-1:1,t.paddingX=Math.cos(e)*o,t.paddingY=Math.sin(e)*o,t},xA=function(t){if(0===t.axisIndex)return t.paddingX=t.labelPadding,t.alignmentX=-1,t;var i=!1,n=t.chart.getAxes();if(n.length>1){var r=n[0].getInterval();i=n.some((function(t){var i=t.getInterval();return i.start!==r.start||i.end!==r.end}))}return i?(t.paddingX=t.labelPadding,t.alignmentX=-1,t):void 0},SA=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wA=function(t){function i(i,n,r,e,o,s,a,u,h,f,c,l){var v,d,y=t.call(this,i,h,f,l)||this;return y.Bn="Spider Series",y.lk=new Map,y.vk=new Map,y.fn=yr.onHover,y.RC=8,y.ph=0,y.dk=(d=Ut((function(){})),function(t,i,n,r){var e,o=null==r?void 0:r.onStart,s=null==r?void 0:r.onCompleted,a=(null==r?void 0:r.easing)||Rt.ease,u=(null==r?void 0:r.durationMs)||1e3;if(v)if(0===v.nextAnimations.length){var h=v.NextAnimation([[t,i]],(function(t){var i=ai(t,1)[0];v=h,n(i)}),u,a);e=h}else{t=v.nextAnimations.pop().values[0][0];var f=v.NextAnimation([[t,i]],(function(t){var i=ai(t,1)[0];v=f,n(i)}),u,a);e=f}else e=d(u,a)([[t,i]],(function(t){var i=ai(t,1)[0];n(i)})),v=e;e.addEventListener("end",(function(){v=void 0})),o&&e.addEventListener("start",o),s&&e.addEventListener("end",s)}),y.yk={},y.Ak={},y.qT=y.getVisible(),y.bk=1,y.pk=function(t,i){var n,r,e=Ut((function(){})),o=1;return function(s,a,u){if(s!==r){r=s;var h=(null==u?void 0:u.easing)||Rt.ease,f=(null==u?void 0:u.durationMs)||1e3;n&&(n.finish(!1),n=void 0),!1===s?a&&o&&((n=e(f,h)([[o,0]],(function(i){var n=ai(i,1)[0];t(o=n)}))).addEventListener("end",(function(){n=void 0,i(!1)})),o=0,i(!1)):a?(i(!0),(n=e(f,h)([[o,1]],(function(i){var n=ai(i,1)[0];t(o=n)}))).addEventListener("end",(function(){n=void 0}))):(o=1,i(!0))}}}((function(t){y.bk=t,y.Yn.Ai.Fn()}),(function(i){t.prototype.setVisible.call(y,i)})),y.mk=!1,y.j=new Nt,y.chart=i,y.Yn=n,y.GC=e,y.gk=o,y.Gm=s,y.xk=a,y.Sk=u,y.scale=r,y.wk=an(f.spiderSeriesFillStyle,c),y.Mk=an(f.spiderSeriesStrokeStyle,c),y.Ck=an(f.spiderSeriesPointFillStyle,c),y}return SA(i,t),i.prototype.Tk=function(){return this.mk},i.prototype.Ji=function(t,i,n){var r=this.Sk(i);if(void 0!==r&&this.lk.has(r.tag)){var e=this.lk.get(r.tag),o=this.xk(r.tag,e);return{cursorPosition:{pointMarker:o,pointMarkerScale:this.scale,resultTable:o,resultTableScale:this.scale},series:this,axis:r.tag,value:e}}},i.prototype.OA=function(){return this.vA&&this.lk.size>0&&this.getVisible()},i.prototype.addPoints=function(){for(var t=this,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var r,e=0===this.lk.size;e||this.chart.Ai.pu(zs._a),i=i.filter((function(t){return void 0!==t.axis}));for(var o=0;o<i.length;o+=1){var s=i[o].axis;this.gk(s)}if(this.chart.getAnimationsEnabled()&&void 0!==this.yk)i.forEach((function(i){return t.vk.set(i.axis,i.value)})),this.dk(0,1,(function(i){t.vk.forEach((function(n,e){var o=(null==r?void 0:r.get(e))||0;t.lk.set(e,o+i*(n-o)),t.Yn.Ai.Fn()}))}),{easing:this.yk.easing,durationMs:this.yk.durationMs,onStart:function(){t.mk=e,r=new Map(t.lk)},onCompleted:function(){t.mk=!1}});else for(o=0;o<i.length;o+=1){var a=i[o].axis;this.lk.set(a,i[o].value),this.vk.set(a,i[o].value)}return this.Yn.Fn(),this},i.prototype.getValue=function(t,i){if(void 0===i&&(i=!1),this.chart.getAxis(t))return i?this.lk.get(t):this.vk.get(t)},i.prototype.setAnimationAddPoints=function(t,i){return this.yk=t?{easing:t,durationMs:i}:void 0,this.Yn.Fn(),this},i.prototype.setVisibleStateChangedAnimation=function(t,i){return this.Ak=t?{easing:t,durationMs:i}:void 0,this.Yn.Fn(),this},i.prototype.setFillStyle=function(t){return this.wk="function"==typeof t?t(this.wk):t,this.bx&&(this.bx.$r(this.wk),this.Yn.Fn()),this},i.prototype.getFillStyle=function(){return this.wk},i.prototype.setStrokeStyle=function(t){return this.Mk="function"==typeof t?t(this.Mk):t,this.bx&&(this.bx.qr(this.Mk),this.Yn.Fn()),this},i.prototype.getStrokeStyle=function(){return this.Mk},i.prototype.setPointFillStyle=function(t){return this.Ck="function"==typeof t?t(this.Ck):t,this.UC&&(this.UC.Rl(this.Ck),this.Yn.Fn()),this},i.prototype.getPointFillStyle=function(){return this.Ck},i.prototype.setPointSize=function(t){return this.RC=t,this.UC&&this.UC.Kl(t),this},i.prototype.getPointSize=function(){return this.RC},i.prototype.getPointShape=function(){return this.GC},i.prototype.setPointRotation=function(t){return this.ph=t,this.UC&&this.UC.Xl(t),this.Yn.Fn(),this},i.prototype.getPointRotation=function(){return this.ph},i.prototype.ie=function(){if(t.prototype.ie.call(this),!this.fi){for(var i=new Array(this.Gm.length),n=0;n<this.Gm.length;n+=1){var r=this.Gm[n].getInterval().start,e=this.lk.get(this.Gm[n].tag);i[n]=void 0!==e?this.xk(this.Gm[n].tag,r+this.bk*(e-r)):this.xk(this.Gm[n].tag,r)}Zi(i),i.length>=3&&(this.bx||(this.bx=this.Yn.Dc(this.scale,pa.Simple).qr(this.Mk).$r(this.wk).Oi(this.getHighlight()),this.Sn(this.bx)),this.bx.wf(i),this.UC||(this.UC=this.Yn.Ul(this.scale).Gl(Vr).fe(qt).Kl(this.RC).Yl(this.GC).Xl(this.ph).Rl(this.Ck).Oi(this.getHighlight()),this.Sn(this.UC)),this.UC.Vl(new Ga({schema:{x:{pattern:null},y:{pattern:null}}}).appendJSON(i),{x:"x",y:"y"}))}},i.prototype.re=function(){return{fill:this.wk,stroke:this.Mk}},i.prototype.Gn=function(){return this.jn||this.GC},i.prototype.ee=function(t,i){return t.Oi(i),this.Yn.Fn(),this},i.prototype.setVisible=function(t){var i,n;return this.qT=t,this.pk(t,this.chart.getAnimationsEnabled()&&void 0!==this.Ak,{easing:null===(i=this.Ak)||void 0===i?void 0:i.easing,durationMs:null===(n=this.Ak)||void 0===n?void 0:n.durationMs}),this},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(Vl),MA=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CA=function(){return CA=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},CA.apply(this,arguments)},TA=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},kA=function(t,i){var n=Math.PI/2-2*t*Math.PI/i;return n>=0?n:n+2*Math.PI},_A=function(t){return t.fk.Tc()},OA=function(t){return t.Tc()},FA=function(t,i,n,r){return t.cc(0).ne(n).ac(90).le(-270).lc(i===uA.Circle?void 0:r.length)},IA={alignmentX:0,alignmentY:0,paddingX:0,paddingY:0},jA={alignmentX:0,alignmentY:0,paddingX:0,paddingY:0},BA=function(){jA.alignmentX=0,jA.alignmentY=0,jA.paddingX=0,jA.paddingY=0},DA=function(t){function i(i,n,r,e,o,s,a){var u,h=this;(h=t.call(this,i,n,r,n.rA("spiderChart bg",0),e,n.Ai.xi.spiderChartBackgroundFillStyle,n.Ai.xi.spiderChartBackgroundStrokeStyle,n.Ai.xi.spiderChartTitleFont,n.Ai.xi.spiderChartTitleFillStyle,n.Ai.xi.spiderChartTitleShadow,a,null===(u=null==s?void 0:s.legend)||void 0===u?void 0:u.customLegend)||this).Gm=[],h.kk=[],h._k=[],h.ek=rs.fitting({start:!1}),h.Ok=!0,h.Fk=xA,h.Ik=gA,h.jk=uA.Normal,h.Bk=4,h.Dk=h.xi.spiderChartWebStyle,h.Lk=h.xi.spiderChartScaleLabelFillStyle,h.Ek=h.xi.spiderChartScaleLabelShadow,h.Pk=h.xi.spiderChartScaleLabelFont,h.zk=5,h.Nk=h.xi.spiderChartAxisLabelFillStyle,h.Vk=h.xi.spiderChartAxisLabelFont,h.Rk=5,h.Gk=h.xi.spiderChartAxisStrokeStyle,h.Uk=h.xi.spiderChartAxisNibStrokeStyle,h.Yk=10,h.Wk=b(),h.hasAxis=function(t){return h.Gm.reduce((function(i,n){return i||n.tag===t}),!1)},h.Xk=function(){var t=h.Gm.map(_A).concat(h._k.map(OA));return Nn(t)},h.Hk=function(){return h.Zk.Fl(h.hd).setPointerEvents(!1)},h.Qk=function(t){return t.dispose()},h.Jk=function(){return h.Jv.ps(h.hd).setPointerEvents(!1)},h.Kk=function(t){return t.dispose()},h.qk=function(t){h.Ok&&!h.hasAxis(t)&&h.addAxis(t)},h.xk=function(t,i){var n,r;try{for(var e=TA(h.Gm),o=e.next();!o.done;o=e.next()){var s=o.value;if(s.tag===t){var a=Math.max(Math.min((i-s.axisScale.getInnerStart())/(s.axisScale.getInnerEnd()-s.axisScale.getInnerStart()),1),0);return Xn(s.hk.Ut(),s.hk.Rt(),a)}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}},h.Sk=function(t){var i,n;if(0!==h.Gm.length){var r,e=sr(h.translateCoordinate(t,h.coordsRelative),h.Gm[0].hk.Ut()),o=Math.atan2(e.y,e.x),s=In;try{for(var a=TA(h.Gm),u=a.next();!u.done;u=a.next()){var f=u.value,c=sr(f.hk.Rt(),f.hk.Ut()),l=Math.atan2(c.y,c.x),v=Math.abs(o-l);v<s&&(r=f,s=v)}}catch(t){i={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return r}},h.j=new Nt,h.Ai.pu(zs.pa),h.cC=n.Vm("spiderChart series bg",0),h.Zk=n.Rm("spiderChart web shapes",0),h.$k=n.Rm("spiderChart axis bg",1),h.gg=n.Rm("spiderChart plotting",2),h.Jv=n.Rm("spiderChart fg",3),h.uk=h.yn.yd().On(h.xi.effectsText),h.Ve.Wo("Spider Chart"),h.kb=h.cC.Fl(h.hd).$r(h.xi.spiderChartSeriesBackgroundFillStyle).qr(qt).ac(90).le(-270).cc(0),h._b=h.cC.Fl(h.hd).$r(Vr).qr(h.xi.spiderChartSeriesBackgroundStrokeStyle).ac(90).le(-270).cc(0),t.prototype.Tb.call(h,h.kb,h._b);var f=n.Zm(),c=gi(s?s.cursorBuilder:void 0,nl);h.Qm=Up(h,f,c.pm(f,h.uiScale,h.uiScale,Ai,h.xi),h,"show-pointed",LA,(function(){return 0})),h.setAnimationsEnabled(!1!==(null==s?void 0:s.animationsEnabled)),h.nA(o,h.hd);var l=CA({backgroundVisible:!0},null==s?void 0:s.legend);return h.legend.setOptions(l),h}return MA(i,t),i.prototype.getSeries=function(){return this.Sb},i.prototype.getAxes=function(){return this.Gm},i.prototype.getAxis=function(t){var i=this.Gm.find((function(i){return i.getTag()===t}));if(!i)throw new Error('Axis with tag "'.concat(t,'" was not found.'));return i},i.prototype.setCursor=function(t){return this.Qm.setCursor(t),this},i.prototype.getCursor=function(){return this.Qm.getCursor()},i.prototype.setCursorMode=function(t){return this.Qm.setCursorMode(t),this},i.prototype.getCursorMode=function(){return this.Qm.getCursorMode()},i.prototype.setCustomCursor=function(t){return this.Qm.setCustomCursor(t),this},i.prototype.setCursorDynamicBehavior=function(t){return this.Qm.eg(t),this},i.prototype.setCursorFormatting=function(t){return this.Qm.setCursorFormatting(t),this},i.prototype.getCursorFormatting=function(){return this.Qm.getCursorFormatting()},i.prototype.addCursor=function(t){void 0===t&&(t=nl);var i=this.Xy(),n=t.pm(i,this.uiScale,this.uiScale,this.Gy(i),this.xi);return this.tA(n),n},i.prototype.addAxis=function(t){var i=this.Gm.find((function(i){return i.tag===t}));if(i)return i;var n=new mA(this.$k,this.Jv,this.hd,this,t,this.uk,this.t_,this.ek,this.scaleLabelFormatter);return this.Gm.push(n),this.uk.wn(this.Gm.map((function(t){return t.fk}))),this.Ai.Fn(),n},i.prototype.addSeries=function(t){var i=void 0!==(null==t?void 0:t.pointShape)?t.pointShape:ve.Circle,n=void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.Sb.length,r=new wA(this,this.gg,this.hd,i,this.qk,this.Gm,this.xk,this.Sk,this.Mb,this.xi,n,this.Ai.yn);return this.Ob(r,t),r},i.prototype.getSeriesCount=function(){return this.Sb.length},i.prototype.setWebMode=function(t){return this.jk=t,this.Ai.Fn(),this},i.prototype.getWebMode=function(){return this.jk},i.prototype.setWebCount=function(t){return this.Bk=t,this.Ai.Fn(),this},i.prototype.getWebCount=function(){return this.Bk},i.prototype.setWebStyle=function(t){return this.Dk="function"==typeof t?t(this.Dk):t,this.Ai.Fn(),this},i.prototype.getWebStyle=function(){return this.Dk},i.prototype.setScaleLabelStyle=function(t){return this.Lk="function"==typeof t?t(this.Lk):t,this.Ai.Fn(),this},i.prototype.getScaleLabelStyle=function(){return this.Lk},i.prototype.setScaleLabelShadow=function(t){return this.Ek=t,this.Ai.Fn(),this},i.prototype.getScaleLabelShadow=function(){return this.Ek},i.prototype.setScaleLabelFont=function(t){return this.Pk="function"==typeof t?t(this.Pk):t,this.Ai.Fn(),this},i.prototype.getScaleLabelFont=function(){return this.Pk},i.prototype.setScaleLabelPadding=function(t){return this.zk=t,this.Ai.Fn(),this},i.prototype.getScaleLabelPadding=function(){return this.zk},i.prototype.setScaleLabelStrategy=function(t){return this.Fk=t,this.Ai.Fn(),this},i.prototype.setScaleLabelFormatter=function(t){return this.scaleLabelFormatter=t,this.Gm.forEach((function(i){i.setScaleLabelFormatter(t)})),this.Ai.Fn(),this},i.prototype.setAxisLabelStyle=function(t){return this.Nk="function"==typeof t?t(this.Nk):t,this.Ai.Fn(),this},i.prototype.getAxisLabelStyle=function(){return this.Nk},i.prototype.setAxisLabelFont=function(t){return this.Vk="function"==typeof t?t(this.Vk):t,this.Ai.Fn(),this},i.prototype.getAxisLabelFont=function(){return this.Vk},i.prototype.setAxisLabelEffect=function(t){return this.uk.On(t),this.Ai.Fn(),this},i.prototype.getAxisLabelEffect=function(){return this.uk.In()},i.prototype.setAxisLabelPadding=function(t){return this.Rk=t,this.Ai.Fn(),this},i.prototype.getAxisLabelPadding=function(){return this.Rk},i.prototype.setAxisLabelStrategy=function(t){return this.Ik=t,this.Ai.Fn(),this},i.prototype.setAxisStyle=function(t){return this.Gk="function"==typeof t?t(this.Gk):t,this.Ai.Fn(),this},i.prototype.getAxisStyle=function(){return this.Gk},i.prototype.setNibStyle=function(t){return this.Uk="function"==typeof t?t(this.Uk):t,this.Ai.Fn(),this},i.prototype.getNibStyle=function(){return this.Uk},i.prototype.setNibLength=function(t){return this.Yk=t,this.Ai.Fn(),this},i.prototype.getNibLength=function(){return this.Yk},i.prototype.setAutoAxis=function(t){return this.Ok=t,this},i.prototype.getAutoAxis=function(){return this.Ok},i.prototype.setScrollStrategy=function(t){return this.ek=ys(t),this.Gm.forEach((function(i){return i.setScrollStrategy(t)})),this.Ai.Fn(),this},i.prototype.setAxisInterval=function(t){return this.t_=t,this.Gm.forEach((function(i){return i.setInterval(t)})),this},i.prototype.ie=function(i){var n,r,e,o,s,a,u=this;t.prototype.ie.call(this,i);var f=this.Gm.length,c=xf(this.Ve,this.eA),l=this.Dn.reduce((function(t,i){var n=i.Io(c,u.Ls);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0});Sf(this.Ve,this.eA,this.uiScale.oi(),this.Ls,l);var v,d,y,A,p=h(this.hd.x.getInnerInterval()-(this.Ls.left+this.Ls.right),this.hd.y.getInnerInterval()-(this.Ls.bottom+this.Ls.top+c)),m=h(p.x-l.left-l.right,p.y-l.top-l.bottom),g=(void 0===(v=0)&&(v=0),void 0===(d=0)&&(d=0),void 0===(y=0)&&(y=0),void 0===(A=0)&&(A=0),{left:v,top:d,right:y,bottom:A});if(void 0!==this.Ik)for(var x=Math.min(m.x,m.y)/2,S=0;S<f;S+=1){var w=kA(S,f),M=Math.cos(w),C=Math.sin(w),T=this.Gm[S].getLabelSize();BA();var k=this.Ik(jA,S,f,this.Gm[S].tag,w,this.Rk),_=h(M*x+k.paddingX,C*x+k.paddingY);M>0?g.right=Math.max(g.right,_.x+.5*(1-k.alignmentX)*T.x-x):g.left=Math.max(g.left,-_.x+.5*(k.alignmentX+1)*T.x-x),C>0?g.top=Math.max(g.top,_.y+.5*(1-k.alignmentY)*T.y-x):g.bottom=Math.max(g.bottom,-_.y+.5*(k.alignmentY+1)*T.y-x)}this.Gm.forEach((function(t){var i=!u.getSeries().some((function(t){return t.Tk()}))&&u.getSeriesCount()>1,n=u.i_(t.tag,i);n&&t.hs(n)}));var O=h(this.hd.x.getInnerStart()+this.Ls.left+l.left+m.x/2,this.hd.y.getInnerStart()+this.Ls.bottom+l.bottom+m.y/2),F=Math.min(m.x/2-(g.left+g.right)/2,m.y/2-(g.bottom+g.top)/2);this.Wk=b(this.ot.left+this.Ls.left+g.left,this.ot.top+this.Ls.top+c+g.top,this.ot.right+this.Ls.right+g.right,this.ot.bottom+this.Ls.bottom+g.bottom),this.RT(O,F);try{for(var I=TA(this.Sb),j=I.next();!j.done;j=I.next())j.value.gA()}catch(t){n={error:t}}finally{try{j&&!j.done&&(r=I.return)&&r.call(I)}finally{if(n)throw n.error}}try{for(var B=TA(this.Sb),D=B.next();!D.done;D=B.next())D.value.ie()}catch(t){e={error:t}}finally{try{D&&!D.done&&(o=B.return)&&o.call(B)}finally{if(e)throw e.error}}this.Qm.ie(!1,this.Sb,void 0),t.prototype.iA.call(this),this.Dn.forEach((function(t){return t.ie(c,u.Ls)}));try{for(var L=TA(this.Sb),E=L.next();!E.done;E=L.next())E.value.xA()}catch(t){s={error:t}}finally{try{E&&!E.done&&(a=L.return)&&a.call(L)}finally{if(s)throw s.error}}},i.prototype.dispose=function(){return this.cC.V(),this.Zk.V(),this.$k.V(),this.gg.V(),this.Jv.V(),this.Qm.V(),t.prototype.dispose.call(this)},i.prototype.getMinimumSize=function(){return h(this.Wk.left+this.Wk.right+100,this.Wk.bottom+this.Wk.top+100)},i.prototype.RT=function(t,i){for(var n,r,e,o,s=this.Gm.length,a=[],u=0;u<s;u+=1){var f=kA(u,s),c=h(t.x+Math.cos(f)*i,t.y+Math.sin(f)*i);a.push(c)}FA(this.kb,this.jk,t,a),FA(this._b,this.jk,t,a),this.kb.uc(i),this._b.uc(i),function(t,i,n,r,e,o,s,a){for(var u=t.length,h=o.length,f=i>0&&h>1,c=0;c<Math.max(i,u);c+=1)if(f&&c<i){c>=u&&t.push(s());var l=t[c];FA(l,n,r,o);var v=e*((c+1)/i);l.uc(v)}else c<t.length&&a(t[c]);t.length=f?i:0}(this.kk,this.Bk,this.jk,t,i,a,this.Hk,this.Qk);try{for(var l=TA(this.kk),v=l.next();!v.done;v=l.next())v.value.$r(Vr).qr(this.Dk)}catch(t){n={error:t}}finally{try{v&&!v.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}for(u=0;u<s;u+=1){var d=this.Gm[u],y=kA(u,s);BA();var A=void 0!==this.Ik?this.Ik(jA,u,s,this.Gm[u].tag,y,this.Rk):void 0;d.RT(t,a,u,y,i,this.jk,A)}!function(t,i,n,r,e,o,s,a,u){var f=e.length,c=t.length,l=0;void 0!==i&&e.forEach((function(e,u){for(var v,d,y,A,b=e.tag,p=kA(u,f),m=0;m<n;m+=1){IA.alignmentX=0,IA.alignmentY=0,IA.paddingX=0,IA.paddingY=0;var g=i(CA(CA({},IA),{chart:e.chart,axis:e,axisIndex:u,axisCount:f,axisTag:b,axisAngle:p,webIndex:m,webCount:n,labelPadding:r}));if(void 0!==g){l>=c&&t.push(a());var x=t[l];l+=1;var S=(n-m)/n,w=e.formatValue(e.axisScale.getInnerStart()+S*(e.axisScale.getInnerEnd()-e.axisScale.getInnerStart())),M=Xn(o,s[u],S);x.ne(or(M,h(null!==(v=g.paddingX)&&void 0!==v?v:0,null!==(d=g.paddingY)&&void 0!==d?d:0))).zh(null!==(y=g.alignmentX)&&void 0!==y?y:0).Rh(null!==(A=g.alignmentY)&&void 0!==A?A:0).Wo(w)}}}));for(var v=l;v<c;v+=1)u(t[v]);t.length=l}(this._k,this.Fk,this.Bk,this.zk,this.Gm,t,a,this.Jk,this.Kk);try{for(var b=TA(this._k),p=b.next();!p.done;p=b.next())p.value.$r(this.Lk).bo(this.Pk).Yo(this.Ek)}catch(t){e={error:t}}finally{try{p&&!p.done&&(o=b.return)&&o.call(b)}finally{if(e)throw e.error}}},i.prototype.i_=function(t,i){var n,r,e,o,s=this.getAxis(t);try{for(var a=TA(this.Sb),u=a.next();!u.done;u=a.next()){var h=u.value.getValue(s.tag,i);void 0!==h&&(e=void 0===e?h:Math.min(e,h),o=void 0===o?h:Math.max(o,h))}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}if(void 0!==e&&void 0!==o)return d(e,o)},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(uc),LA=function(t,i,n){return Np(i,[[{component:i.series,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[i.axis],[{text:t.getAxis(i.axis).formatValue(i.value),font:{weight:"bold"}}]])},EA={je:!1,Be:0,De:!1,Ee:0,Le:!1,Pe:0,ze:0,ko:rs.fitting({})},PA=function(){return PA=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},PA.apply(this,arguments)},zA=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},NA=function(t){if(!t||"object"!=typeof t||null===t)return!1;var i=t.type;return!(!i||!["spark-line","spark-bar","spark-win-loss","spark-area","spark-pie"].includes(i))},VA=function(t,i,n,r){return{x:GA(t.x,i.x,n.x,r),y:UA(t.y,i.y,n.y,r)}},RA=function(t,i,n,r){return{position:GA(t.position,i.x,n.x,r),high:UA(t.high,i.y,n.y,r),low:UA(t.low,i.y,n.y,r)}},GA=function(t,i,n,r){var e=pi(t,i,i+n);return r[0].x+r[1].x*(e-i)/n},UA=function(t,i,n,r){var e=pi(t,i,i+n);return r[0].y+r[1].y*(e-i)/n},YA=function(t,i,n,r,e,o,s,a){var u,h;try{for(var f=zA(t),c=f.next();!c.done;c=f.next()){var l=c.value;"point"===l.type&&WA(l,i,n,e,o,s,a),"axis-band"===l.type&&XA(l,n,e,o,s,a),"constant-line"===l.type&&HA(l,n,r,e,o,s,a)}}catch(t){u={error:t}}finally{try{c&&!c.done&&(h=f.return)&&h.call(f)}finally{if(u)throw u.error}}},WA=function(t,i,n,r,e,o,s){var a,u,h,f,c=t.value,l=t.fillStyle,v=t.shape,d=t.size,y=t.rotation,A={x:NaN,y:NaN};if("start"===c&&(A=i[0]),"end"===c&&(A=i[i.length-1]),"min"===c){A=i[0];try{for(var b=zA(i),p=b.next();!p.done;p=b.next()){var m=p.value;A=A.y<m.y?A:m}}catch(t){a={error:t}}finally{try{p&&!p.done&&(u=b.return)&&u.call(b)}finally{if(a)throw a.error}}}if("max"===c){A=i[0];try{for(var g=zA(i),x=g.next();!x.done;x=g.next())m=x.value,A=A.y>m.y?A:m}catch(t){h={error:t}}finally{try{x&&!x.done&&(f=g.return)&&f.call(g)}finally{if(h)throw h.error}}}("object"!=typeof c||function(t,i){var n=i[0],r=i[1],e=t.x,o=t.y;return n.x<=e&&e<=n.x+r.x&&n.y<=o&&o<=n.y+r.y}(A=VA(c,n,r,e),e))&&o.pointSet.add().Yl(void 0!==v?v:ve.Circle).Xl(y||0).Kl(d||5).Rl(l||s.sparkPointChartFillStyle).Vl((new Ga).appendSample(A),{x:"x",y:"y"})},XA=function(t,i,n,r,e,o){var s=t.axis,a=t.start,u=t.end,f=t.fillStyle,c=t.strokeStyle,l=h(jn,In),v=h(jn,In);"x"===s&&(l=VA({x:a,y:jn},i,n,r),v=VA({x:u,y:In},i,n,r)),"y"===s&&(l=VA({x:jn,y:a},i,n,r),v=VA({x:In,y:u},i,n,r));var d=r[0],y=r[1],A=pi(l.x,d.x,d.x+y.x),b=pi(l.y,d.y,d.y+y.y),p=pi(v.x,d.x,d.x+y.x),m=pi(v.y,d.y,d.y+y.y);e.rect.add().bf(A).pf(b).Z(h(p-A,m-b)).$r(f||o.sparkChartBandFillStyle).qr(c||o.sparkChartBandStrokeStyle).qr(qt)},HA=function(t,i,n,r,e,o,s){var a=t.axis,u=t.value,f=t.strokeStyle,c=u||0,l=i.y,v=n.y,d=i.x,y=n.x,A=[];if("y"===a&&l<=c&&c<=v){var b=VA(h(d,c),{x:d,y:l},r,e),p=VA(h(y,c),{x:d,y:l},r,e);A.push([b,p])}if("x"===a&&d<=c&&c<=y){var m=VA(h(c,l),{x:d,y:l},r,e),g=VA(h(c,v),{x:d,y:l},r,e);A.push([m,g])}A.length>0&&o.line.add().fe(f||s.sparkChartConstantLineStrokeStyle).ve(A[0][0]).le(A[0][1])},ZA=function(t,i,n,r,e,o){var s=t.strokeStyle,a=t.data,u=t.markers,h=a.length;h>1e4&&e.Su&&ci.console.warn("LightningChart JS warning: SparkLineChart has over 10000 data points. This feature is not designed for large data sets which might show as performance drop. If you want to request improvements to this, contact https://lightningchart.com/js-charts/docs/contact. To disable this warning, use LightningChartOptions.warning property (refer to API documentation for more detail).");for(var f=In,c=jn,l=In,v=jn,d=0;d<h;d+=1){var y=a[d];f=Math.min(f,y.x),c=Math.max(c,y.x),l=Math.min(l,y.y),v=Math.max(v,y.y)}var A={x:c-f,y:v-l},b=a.map((function(t){return VA(t,{x:f,y:l},A,n)}));i.lineSet.add().Oi(o).fe(s||r.sparkLineChartStrokeStyle).zi().lf(b),u&&YA(u,b,{x:f,y:l},{x:c,y:v},A,n,i,r)},QA=function(t,i,n,r,e,o){var s,a,u=t.data,h=t.fillStyle,f=t.strokeStyle,c=t.threshold,l=t.winFillStyle,v=t.lossFillStyle,d=t.barSize||1,y=t.gap||1,A=t.winLoss,b=c||0,p=y/d*1,m=In,g=jn;if(A)m=-1,g=1;else try{for(var x=zA(u),S=x.next();!S.done;S=x.next()){var w=S.value;m=Math.min(m,w),g=Math.max(g,w)}}catch(t){s={error:t}}finally{try{S&&!S.done&&(a=x.return)&&a.call(x)}finally{if(s)throw s.error}}var M={x:0,y:A?-1:Math.min(0,m)},C={x:1*u.length+(u.length-1)*p,y:A?2:Math.max(g,1e-5)};u.map((function(t,i){var r={x:1*(i+1)+i*p,y:A?t>=b?1:0:t},e=VA({x:1*i+i*p,y:A?t>=b?0:-1:0},M,C,n),o=VA(r,M,C,n);return{value:t,position:e,width:o.x-e.x,height:o.y-e.y}})).forEach((function(t){var n;i.rect.add().Oi(o).ne(t.position).gf(t.height).mf(t.width).$r((n=t.value,A?(n>=b?l:v)||r.sparkBarChartFillStyle:h||r.sparkBarChartFillStyle)).qr(f||r.sparkBarChartStrokeStyle)}))},JA=function(t,i,n,r,e,o){var s,a,u=t.data,h=t.fillStyle,f=t.strokeStyle,l=t.markers,v=u.length;v>1e4&&e.Su&&ci.console.warn("LightningChart JS warning: SparkAreaChart has over 10000 data points. This feature is not designed for large data sets which might show as performance drop. If you want to request improvements to this, contact https://lightningchart.com/js-charts/docs/contact. To disable this warning, use LightningChartOptions.warning property (refer to API documentation for more detail).");for(var d=In,y=jn,A=In,b=jn,p=0;p<v;p+=1){var m=u[p];d=Math.min(d,m.x),y=Math.max(y,m.x),A=Math.min(A,m.y),b=Math.max(b,m.y)}var g={x:y-d,y:b-A},x=[],S=[];try{for(var w=zA(u),M=w.next();!M.done;M=w.next()){var C=M.value,T=c(C.x,C.y,A);x.push(RA(T,{x:d,y:A},g,n)),S.push(VA(C,{x:d,y:A},g,n))}}catch(t){s={error:t}}finally{try{M&&!M.done&&(a=w.return)&&a.call(w)}finally{if(s)throw s.error}}i.junction.add().Oi(o).zi().lf(x).$r(h||r.sparkAreaChartFillStyle),i.lineSet.add().Oi(o).zi().lf(S).fe(f||r.sparkAreaChartStrokeStyle),l&&YA(l,S,{x:d,y:A},{x:y,y:b},g,n,i,r)},KA=function(t,i,n,r,e,o){var s=t.data,a=t.strokeStyle,u=s.map((function(t){return"number"==typeof t?t:t.value})),f=s.map((function(t){return"object"==typeof t?t.fillStyle:void 0})),c=u.reduce((function(t,i){return t+i}),0),l=VA(h(50,50),{x:0,y:0},{x:100,y:100},n),v=n[1],d=v.x<=v.y?v.x/2:v.y/2,y=90;u.forEach((function(t,n){var e=t/c*360;i.arc.add().Oi(o).ne(l).uc(d).cc(0).ac(y).le(y+e).$r(f[n]||an(r.sparkPieChartFillStyle,n)).qr(a||r.sparkPieChartStrokeStyle),y+=e}))},qA={XY:xd,Spider:nl,BarChart:rl,Map:al,Polar:sl,D3:Rc},$A={Column:mu,Row:gu},tb=function(){return tb=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},tb.apply(this,arguments)},ib=function(){return ib=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},ib.apply(this,arguments)},nb=function(t,i){var n=function(t){var i=w(0,0,0),n=w(255,255,255),r=new Ur({color:t.uiStrokeColorContrastHigh}),e=new Ur({color:t.uiStrokeColorContrastMedium}),o=new Ur({color:t.uiStrokeColorContrastLow}),s=new E({family:t.fontFamily,weight:"normal",style:"normal"}),a=t.isDark?w(0,0,0,255):void 0,u=s.setSize(18*t.fontScaler),h=s.setSize(16*t.fontScaler),f=s.setSize(14*t.fontScaler),c=s.setSize(10*t.fontScaler),l=s.withMutations((function(i){return i.set("size",14*t.fontScaler).set("weight","bold")})),v=s.setSize(13*t.fontScaler),d=new Ue({thickness:2,fillStyle:o}),y=new Ur({color:t.dataHighlightOverlayColor}),A=new Ue({thickness:2,fillStyle:t.legendBackgroundBorderFillStyle}),b=t.dataColorPalette.map((function(t){return new Ur({color:t.stroke})})),p=function(t){return b[t%b.length]},m=b.map((function(t){return new Ue({thickness:2,fillStyle:t})})),g=function(t){return m[t%m.length]},x=t.dataColorPalette.map((function(t){return new Ur({color:t.border})})).map((function(t){return new Ue({thickness:2,fillStyle:t})})),S=function(t){return x[t%x.length]},C=t.dataColorPalette.map((function(t){var i=t.area;return new U({angle:0,stops:[{offset:0,color:i.setA(0)},{offset:.8,color:i}]})})),T=function(t){return C[t%C.length]},k=t.dataColorPaletteInverted.map((function(t){var i=t.area;return new U({angle:180,stops:[{offset:0,color:i.setA(0)},{offset:.8,color:i}]})})),_=function(t){return k[t%k.length]},O=t.dataColorPalette.map((function(t){var i=t.area;return new U({angle:180,stops:[{color:kt(i,w(255,255,255,i.getA()),.3),offset:0},{color:i,offset:.5},{color:kt(i,w(0,0,0,i.getA()),.3),offset:1}]})})),F=function(t){return O[t%O.length]},I=t.dataColorPaletteInverted.map((function(t){return new Ur({color:t.border})})).map((function(t){return new Ue({thickness:2,fillStyle:t})})),j=function(t){return I[t%I.length]},B=new Ur({color:t.dataColorPositive}),D=new Ur({color:t.dataColorNegative}),L=new Ue({thickness:1,fillStyle:new Ur({color:t.dataStrokeColorContrastHigh.setA(50)})}),P=new Ue({thickness:2,fillStyle:t.axisLineFillStyle}),z=new Ur({color:w(0,0,0,1)}),N=new Ue({thickness:1,fillStyle:t.axisGridMajorFillStyle}),V=new Ue({thickness:1,fillStyle:t.axisTickMajorFillStyle}),R=f,G=t.axisLabelMajorFillStyle,Y=new Ue({thickness:1,fillStyle:t.axisGridMinorFillStyle}),W=new Ue({thickness:1,fillStyle:t.axisTickMinorFillStyle}),X=c,H=G,Z=ch,Q=new hh({gridStrokeStyle:N,tickStyle:V,tickLength:7,tickPadding:5,labelFont:R,labelFillStyle:G,labelShadow:a}),J=new hh({gridStrokeStyle:Y,tickStyle:W,tickLength:4,tickPadding:10,labelFont:X,labelFillStyle:H,labelShadow:a}),K=new Wh({extremeTickStyle:Z,majorTickStyle:Q,minorTickStyle:J.setLabelFillStyle(Vr)}),q=new Ph({greatTickStyle:ch,majorTickStyle:Q,minorTickStyle:J}),$=q,tt=q,it=new wh({majorTickStyle:Q,minorTickStyle:J}),nt=new Ur({color:t.dataHighlightOverlayColor}),rt=new Ue({thickness:1,fillStyle:e}),et=new Ue({thickness:2,fillStyle:e}),ot=function(t){return new Ve.Triangulated({shape:"sphere",size:10,fillStyle:b[t%b.length]})},st=b[0],at=t.uiTextFillStyle,ut=t.legendBackgroundFillStyle,ht=new Ue({thickness:1,fillStyle:t.legendBackgroundBorderFillStyle}),ft=nn(t.legendButtonDefaultColor),ct=nn(t.isDark?w(70,70,70,255):w(170,170,170,255)),lt=new Ur({color:t.isDark?w(70,70,70,255):w(170,170,170,255)}),vt=new Ue({thickness:1,fillStyle:r}),dt=new Ze({thickness:1,fillStyle:t.cursorGridFillStyle,pattern:He.DashedEqual,patternScale:3}),yt=new Ue({thickness:1,fillStyle:t.cursorGridFillStyle}),At=t.zoomBandChartDefocusOverlayFillStyle,bt=new Ue({thickness:2,fillStyle:new Ur({color:t.zoomBandChartSplitterColor})}),pt=new Ur({color:t.uiBackgroundColor}),mt=new Ue({thickness:1,fillStyle:new Ur({color:t.isDark?n:i})}),gt={isDark:t.isDark,effect:t.effect,effectsText:t.effectsText,effectsDashboardSplitters:t.effectsDashboardSplitters,lcjsBackgroundFillStyle:t.lcjsBackgroundFillStyle,lcjsBackgroundStrokeStyle:qt,highlightColorOffset:t.highlightColorOffset,highlightColorOffsetAxisOverlay:t.highlightColorOffsetAxisOverlay,dashboardSplitterStyle:new Ue({thickness:4,fillStyle:t.dashboardSplitterFillStyle}),panelPadding:7,chartXYBackgroundFillStyle:t.panelBackgroundFillStyle,chartXYBackgroundStrokeStyle:qt,chartXYTitleFont:u,chartXYTitleFillStyle:t.titleFillStyle,chartXYTitleShadow:a,chartXYTitleMargin:5,chartXYSeriesBackgroundFillStyle:t.seriesBackgroundFillStyle,chartXYSeriesBackgroundStrokeStyle:d,chartXYZoomingRectangleFillStyle:y,chartXYZoomingRectangleStrokeStyle:A,lineSeriesStrokeStyle:g,pointLineSeriesStrokeStyle:g,pointLineSeriesFillStyle:p,pointSeriesFillStyle:p,pointSeriesStrokeStyle:mt,ellipseSeriesFillStyle:p,ellipseSeriesStrokeStyle:g,polygonSeriesFillStyle:p,polygonSeriesStrokeStyle:g,rectangleSeriesFillStyle:p,rectangleSeriesStrokeStyle:qt,segmentSeriesStrokeStyle:g,boxSeriesBodyFillStyle:p(0),boxSeriesBodyStrokeStyle:qt,boxSeriesStrokeStyle:new Ue({thickness:1,fillStyle:b[0]}),boxSeriesMedianStrokeStyle:new Ue({thickness:1,fillStyle:new Ur({color:i})}),ohlcCandleThicknessPixels:5,ohlcCandleBodyFillStylePositive:B,ohlcCandleBodyFillStyleNegative:D,ohlcCandleTailStrokeStylePositive:new Ue({thickness:1,fillStyle:new Ur({color:t.uiStrokeColorContrastHigh})}),ohlcCandleTailStrokeStyleNegative:new Ue({thickness:1,fillStyle:new Ur({color:t.uiStrokeColorContrastHigh})}),ohlcBarThicknessPixels:10,ohlcBarStrokeStylePositive:new Ue({thickness:2,fillStyle:B}),ohlcBarStrokeStyleNegative:new Ue({thickness:2,fillStyle:D}),heatmapGridSeriesFillStyle:p,heatmapGridSeriesWireframeStyle:L,heatmapScrollingGridSeriesFillStyle:p,heatmapScrollingGridSeriesWireframeStyle:L,heatmapGridSeriesContourStrokeStyle:new Ue({thickness:1,fillStyle:new Ur({color:w(0,0,0)})}),heatmapGridSeriesContourLabelColor:Yr(at)?at.getColor():st.getColor(),heatmapGridSeriesContourLabelFont:v,heatmapGridSeriesContourLabelShadow:a,areaRangeSeriesFillStyle:T,areaRangeSeriesStrokeStyle:S,areaRangeSeriesFillStyleInverted:_,areaRangeSeriesStrokeStyleInverted:j,areaSeriesBipolarHighFillStyle:T,areaSeriesBipolarHighStrokeStyle:S,areaSeriesBipolarLowFillStyle:_,areaSeriesBipolarLowStrokeStyle:j,areaSeriesPositiveFillStyle:T,areaSeriesPositiveStrokeStyle:S,areaSeriesNegativeFillStyle:_,areaSeriesNegativeStrokeStyle:j,xAxisTitleFont:h,xAxisTitleFillStyle:t.axisTitleFillStyle,xAxisStrokeStyle:P,xAxisOverlayStyle:z,xAxisZoomingBandFillStyle:y,xAxisZoomingBandStrokeStyle:qt,xAxisNumericTicks:K,xAxisDateTimeTicks:$,xAxisTimeTicks:it,yAxisTitleFont:h,yAxisTitleFillStyle:t.axisTitleFillStyle,yAxisStrokeStyle:P,yAxisOverlayStyle:z,yAxisZoomingBandFillStyle:y,yAxisZoomingBandStrokeStyle:qt,yAxisNumericTicks:K,yAxisDateTimeTicks:tt,yAxisTimeTicks:it,bandFillStyle:nt,bandStrokeStyle:rt,constantLineStrokeStyle:et,barChartBackgroundFillStyle:t.panelBackgroundFillStyle,barChartBackgroundStrokeStyle:qt,barChartTitleFont:u,barChartTitleFillStyle:t.titleFillStyle,barChartTitleShadow:a,barChartSeriesBackgroundFillStyle:Vr,barChartSeriesBackgroundStrokeStyle:qt,barChartBarFillStyle:p,barChartBarStrokeStyle:new Ue({thickness:1,fillStyle:o}),barChartValueAxisTitleFont:h,barChartValueAxisTitleFillStyle:t.axisTitleFillStyle,barChartValueAxisStrokeStyle:P,barChartValueAxisTicks:K.setMajorTickStyle((function(t){return t.setGridStrokeStyle(qt)})).setMinorTickStyle((function(t){return t.setGridStrokeStyle(qt)})),barChartCategoryAxisTitleFont:h,barChartCategoryAxisTitleFillStyle:t.axisTitleFillStyle,barChartCategoryAxisStrokeStyle:P,barChartCategoryLabels:{formatter:function(t,i){return t},labelFillStyle:K.majorTickStyle.labelFillStyle,labelFont:K.majorTickStyle.labelFont,labelMargin:8,labelRotation:0,labelAlignment:0,tickStyle:K.majorTickStyle.tickStyle,tickLength:0,labelShadow:a},barChartValueLabelsAfterBars:{position:"after-bar",formatter:function(t){return t.chart.valueAxis.formatValue(t.value)},labelFillStyle:K.majorTickStyle.labelFillStyle,labelFont:K.majorTickStyle.labelFont,labelMargin:8,labelRotation:0,labelAlignment:0,displayStackedIndividuals:!1,displayStackedSum:!0,labelShadow:a},barChartValueLabelsInsideBars:{position:"inside-bar",formatter:function(t){return t.chart.valueAxis.formatValue(t.value)},labelFillStyle:K.majorTickStyle.labelFillStyle,labelFont:K.majorTickStyle.labelFont,labelMargin:8,labelRotation:0,labelAlignment:0,displayStackedIndividuals:!1,displayStackedSum:!0,labelShadow:a},barChartCornerRadius:10,chart3DBackgroundFillStyle:t.panelBackgroundFillStyle,chart3DBackgroundStrokeStyle:qt,chart3DTitleFont:u,chart3DTitleFillStyle:t.titleFillStyle,chart3DTitleShadow:a,chart3DSeriesBackgroundFillStyle:t.seriesBackgroundFillStyle,chart3DSeriesBackgroundStrokeStyle:d,chart3DBoundingBoxStrokeStyle:qt,xAxis3DTitleFont:h,xAxis3DTitleFillStyle:t.axisTitleFillStyle,xAxis3DStrokeStyle:P,xAxis3DNumericTicks:K,xAxis3DDateTimeTicks:q,xAxis3DTimeTicks:it,yAxis3DTitleFont:h,yAxis3DTitleFillStyle:t.axisTitleFillStyle,yAxis3DStrokeStyle:P,yAxis3DNumericTicks:K,yAxis3DDateTimeTicks:q,yAxis3DTimeTicks:it,zAxis3DTitleFont:h,zAxis3DTitleFillStyle:t.axisTitleFillStyle,zAxis3DStrokeStyle:P,zAxis3DNumericTicks:K,zAxis3DDateTimeTicks:q,zAxis3DTimeTicks:it,lineSeries3DStrokeStyle:g,pointLineSeries3DStrokeStyle:g,pointLineSeries3DPointStyle:ot,pointSeries3DPointStyle:ot,pointCloudSeries3DPointStyle:function(t){return new Ve.Pixelated({size:5,fillStyle:b[t%b.length]})},surfaceGridSeries3DFillStyle:p,surfaceGridSeries3DWireframeStyle:L,surfaceGridSeriesContourStrokeStyle:m[0],surfaceScrollingGridSeries3DFillStyle:p,surfaceScrollingGridSeries3DWireframeStyle:L,boxSeries3DFillStyle:p,meshModel3DFillStyle:p(0),polarChartBackgroundFillStyle:t.panelBackgroundFillStyle,polarChartBackgroundStrokeStyle:qt,polarChartTitleFont:u,polarChartTitleFillStyle:t.titleFillStyle,polarChartTitleShadow:a,polarChartSeriesBackgroundFillStyle:t.seriesBackgroundFillStyle,polarChartSeriesBackgroundStrokeStyle:d,polarSectorFillStyle:nt,polarSectorStrokeStyle:rt,polarAmplitudeAxisTitleFont:h,polarAmplitudeAxisTitleFillStyle:t.axisTitleFillStyle,polarAmplitudeAxisTitleShadow:a,polarAmplitudeAxisStrokeStyle:P,polarAmplitudeAxisNumericTicks:K,polarAmplitudeAxisDateTimeTicks:q,polarAmplitudeAxisTimeTicks:it,polarRadialAxisTitleFont:h,polarRadialAxisTitleFillStyle:t.axisTitleFillStyle,polarRadialAxisStrokeStyle:P,polarRadialAxisTickStyle:Q.setTickPadding(10),polarRadialAxisMarginAfterTicks:0,polarLineSeriesStrokeStyle:g,polarPointLineSeriesFillStyle:p,polarPointLineSeriesStrokeStyle:g,polarPointSeriesFillStyle:p,polarPointSeriesStrokeStyle:mt,polarPolygonSeriesFillStyle:F,polarPolygonSeriesStrokeStyle:S,polarAreaSeriesFillStyle:F,polarAreaSeriesStrokeStyle:S,polarHeatmapSeriesFillStyle:p,mapChartBackgroundFillStyle:t.panelBackgroundFillStyle,mapChartBackgroundStrokeStyle:qt,mapChartTitleFont:u,mapChartTitleFillStyle:t.titleFillStyle,mapChartTitleShadow:a,mapChartFillStyle:st,mapChartStrokeStyle:new Ue({thickness:1,fillStyle:new Ur({color:t.dataStrokeColorContrastMedium})}),mapChartOutlierRegionFillStyle:Vr,mapChartOutlierRegionStrokeStyle:new Ue({thickness:1,fillStyle:o}),mapChartSeparateRegionFillStyle:ut,mapChartSeparateRegionStrokeStyle:ht,dataGridBackgroundFillStyle:t.panelBackgroundFillStyle,dataGridBackgroundStrokeStyle:qt,dataGridTitleFont:u,dataGridTitleFillStyle:t.titleFillStyle,dataGridTitleShadow:a,dataGridTextFont:f,dataGridTextFillStyle:st,dataGridCellBackgroundFillStyle:new Ur({color:t.uiBackgroundColor}),dataGridBorderStrokeStyle:new Ue({thickness:.4,fillStyle:new Ur({color:t.uiBackgroundBorderColor})}),dataGridScrollBarBackgroundFillStyle:t.seriesBackgroundFillStyle,dataGridScrollBarBackgroundStrokeStyle:qt,dataGridScrollBarFillStyle:t.seriesBackgroundFillStyle,dataGridScrollBarStrokeStyle:ht,dataGridScrollBarButtonFillStyle:t.seriesBackgroundFillStyle,dataGridScrollBarButtonStrokeStyle:ht,dataGridScrollBarButtonArrowFillStyle:new Ur({color:t.legendButtonDefaultColor}),dataGridScrollBarThickness:20,dataGridCellPadding:5,sparkLineChartStrokeStyle:g(0),sparkPointChartFillStyle:p(0),sparkBarChartFillStyle:p(0),sparkBarChartStrokeStyle:S(0),sparkAreaChartFillStyle:T(0),sparkAreaChartStrokeStyle:S(0),sparkPieChartFillStyle:p,sparkPieChartStrokeStyle:ht,sparkChartBandFillStyle:nt,sparkChartBandStrokeStyle:rt,sparkChartConstantLineStrokeStyle:et,dataGridTextShadow:a,textSeriesShadow:a,spiderChartBackgroundFillStyle:t.panelBackgroundFillStyle,spiderChartBackgroundStrokeStyle:qt,spiderChartTitleFont:u,spiderChartTitleFillStyle:t.titleFillStyle,spiderChartTitleShadow:a,spiderChartSeriesBackgroundFillStyle:t.seriesBackgroundFillStyle,spiderChartSeriesBackgroundStrokeStyle:d,spiderChartWebStyle:new Ue({thickness:2,fillStyle:o}),spiderChartScaleLabelFillStyle:t.axisLabelMajorFillStyle,spiderChartScaleLabelFont:f,spiderChartAxisLabelFillStyle:t.axisTitleFillStyle,spiderChartAxisLabelFont:h,spiderChartAxisStrokeStyle:new Ue({thickness:2,fillStyle:e}),spiderChartAxisNibStrokeStyle:new Ue({thickness:2,fillStyle:r}),spiderSeriesFillStyle:F,spiderSeriesStrokeStyle:S,spiderSeriesPointFillStyle:p,spiderChartScaleLabelShadow:a,pieChartBackgroundFillStyle:t.panelBackgroundFillStyle,pieChartBackgroundStrokeStyle:qt,pieChartTitleFont:u,pieChartTitleFillStyle:t.titleFillStyle,pieChartTitleShadow:a,pieChartSliceFillStylePalette:p,pieChartSliceStrokeStyle:ht,pieChartSliceLabelFont:v,pieChartSliceLabelFillStyle:t.uiTextFillStyle,pieChartConnectorStrokeStyle:vt,pieChartSliceLabelShadow:a,funnelChartBackgroundFillStyle:t.panelBackgroundFillStyle,funnelChartBackgroundStrokeStyle:qt,funnelChartTitleFont:u,funnelChartTitleFillStyle:t.titleFillStyle,funnelChartTitleShadow:a,funnelChartSliceFillStylePalette:p,funnelChartSliceStrokeStyle:ht,funnelChartSliceLabelFont:v,funnelChartSliceLabelFillStyle:t.uiTextFillStyle,funnelChartConnectorStrokeStyle:vt,funnelChartSliceLabelShadow:a,pyramidChartBackgroundFillStyle:t.panelBackgroundFillStyle,pyramidChartBackgroundStrokeStyle:qt,pyramidChartTitleFont:u,pyramidChartTitleFillStyle:t.titleFillStyle,pyramidChartTitleShadow:a,pyramidChartSliceFillStylePalette:p,pyramidChartSliceStrokeStyle:ht,pyramidChartSliceLabelFont:v,pyramidChartSliceLabelFillStyle:t.uiTextFillStyle,pyramidChartConnectorStrokeStyle:vt,gaugeChartValueLabelFont:v.setSize(60),gaugeChartUnitLabelFont:v.setSize(40),gaugeChartTickFont:v.setSize(30),gaugeChartBarThickness:40,gaugeChartValueIndicatorThickness:10,gaugeChartRoundedEdges:!0,gaugeChartNeedleLength:40,gaugeChartStartAngle:225,gaugeChartEndAngle:-45,gaugeChartNeedleAlignment:0,gaugeChartGapBetweenBarAndValueIndicators:10,gaugeChartTickFillStyle:t.uiTextFillStyle,gaugeChartBarGradient:!0,gaugeChartBarStrokeStyle:qt,gaugeChartUnitLabelFillStyle:t.uiTextFillStyle,gaugeChartValueLabelFillStyle:t.uiTextFillStyle,gaugeChartBarColor:n,gaugeChartGlowColor:w(255,255,64),gaugeChartNeedleFillStyle:new Ur({color:n}),gaugeChartNeedleThickness:10,gaugeChartNeedleStrokeStyle:new Ue({thickness:2,fillStyle:new Ur({color:i})}),pyramidChartSliceLabelShadow:a,gaugeChartBackgroundFillStyle:t.panelBackgroundFillStyle,gaugeChartBackgroundStrokeStyle:qt,gaugeChartTitleFont:u,gaugeChartTitleFillStyle:t.titleFillStyle,gaugeChartTitleShadow:a,treeMapChartBackgroundFillStyle:t.panelBackgroundFillStyle,treeMapChartBackgroundStrokeStyle:qt,treeMapChartParentColor:t.treeMapChartParentColor,treeMapChartNodeColors:t.treeMapChartNodeColors,treeMapChartNodeStrokeStyle:new Ue({thickness:1,fillStyle:new Ur({color:M("000")})}),treeMapChartTitleFillStyle:t.titleFillStyle,treeMapChartTitleShadow:a,treeMapChartTitleFont:u,treeMapChartPathLabelFillStyle:at,treeMapChartPathLabelFont:v,treeMapChartLabelHeaderFillStyle:t.treeMapChartLabelHeaderFillStyle,treeMapChartLabelHeaderFont:u,treeMapChartLabelFillStyle:t.treeMapChartLabelFillStyle,treeMapChartLabelFont:v,treeMapChartCornerRadius:8,uiPanelBackgroundFillStyle:t.panelBackgroundFillStyle,uiPanelBackgroundStrokeStyle:qt,zoomBandChartDefocusOverlayFillStyle:At,zoomBandChartSplitterStrokeStyle:bt,zoomBandChartKnobFillStyle:t.zoomBandChartKnobFillStyle,zoomBandChartKnobSize:t.zoomBandChartKnobSize,onScreenMenuBackgroundColor:w(254,204,0,.7),parallelCoordinateChartBackgroundFillStyle:t.panelBackgroundFillStyle,parallelCoordinateChartBackgroundStrokeStyle:qt,parallelCoordinateChartTitleFont:u,parallelCoordinateChartTitleFillStyle:t.titleFillStyle,parallelCoordinateChartTitleShadow:a,parallelCoordinateChartSeriesBackgroundFillStyle:t.seriesBackgroundFillStyle,parallelCoordinateChartSeriesBackgroundStrokeStyle:d,parallelCoordinateChartSeriesColor:function(i){return t.dataColorPalette[i%t.dataColorPalette.length].stroke},parallelCoordinateChartSeriesColorUnselected:t.dataColorUnselected,parallelCoordinateChartSeriesLineThickness:2,parallelCoordinateChartPointedSeriesLineStyle:m[0],parallelCoordinateAxisTitleFont:h,parallelCoordinateAxisTitleFillStyle:t.axisTitleFillStyle,parallelCoordinateAxisNumericTicks:K,parallelCoordinateAxisDateTimeTicks:q,parallelCoordinateAxisTimeTicks:it,parallelCoordinateAxisStrokeStyle:P,parallelCoordinateAxisRangeSelectorFillStyle:t.seriesBackgroundFillStyle,parallelCoordinateAxisRangeSelectorStrokeStyle:ht,parallelCoordinateAxisBackgroundFillStyle:new U({angle:90,stops:[{offset:0,color:t.isDark?w(0,0,0,0):w(255,255,255,0)},{offset:1,color:t.isDark?w(0,0,0,255):w(255,255,255,180)}]}),uiButtonFillStyle:ft,uiButtonFillStyleHidden:ct,uiButtonStrokeStyle:t.isDark?qt:new Ue({thickness:1,fillStyle:new Ur({color:i})}),uiButtonSize:10,uiBackgroundFillStyle:ut,uiBackgroundStrokeStyle:ht,uiTextFillStyle:at,uiTextFillStyleHidden:lt,uiTextFont:v,uiTextPadding:5,legendTitleFillStyle:at,legendTitleFont:l,legendBorderRadius:5,legendPadding:5,legendLUTLabelMargin:7,legendLUTUnitLabelMargin:7,legendLUTCornerRadius:5,legendLUTLengthHorizontal:160,legendLUTThicknessHorizontal:15,legendLUTLengthVertical:140,legendLUTThicknessVertical:25,cursorTickMarkerXBackgroundFillStyle:ut,cursorTickMarkerXBackgroundStrokeStyle:ht,cursorTickMarkerXTextFillStyle:at,cursorTickMarkerXTextFont:v,cursorTickMarkerYBackgroundFillStyle:ut,cursorTickMarkerYBackgroundStrokeStyle:ht,cursorTickMarkerYTextFillStyle:at,cursorTickMarkerYTextFont:v,cursorPointMarkerSize:{x:9,y:9},cursorPointMarkerShape:ve.Circle,cursorPointMarkerFillStyle:dt.getFillStyle(),cursorPointMarkerStrokeStyle:qt,cursorDynamicBehavior:{pointMarkerFill:function(r){return new Ur({color:kt(r,t.isDark?i:n,.2,230)})},pointMarkerStroke:function(r){return new Ue({thickness:2,fillStyle:new Ur({color:kt(r,t.isDark?n:i,t.isDark?.8:.6,204)})})},pointMarkerSize:function(t){return{x:t+3,y:t+3}}},cursorResultTableFillStyle:t.resultTableBackgroundFillStyle,cursorResultTableStrokeStyle:new Ue({thickness:1,fillStyle:t.resultTableBackgroundBorderFillStyle}),cursorResultTableTextFillStyle:at,cursorResultTableTextFont:v,cursorResultTableHeaderBackgroundFillStyle:t.resultTableHeaderBackgroundFillStyle,cursorResultTableBorderRadius:5,cursorGridStrokeStyleX:dt,cursorGridStrokeStyleY:dt,cursor3DGridStrokeStyleX:yt,cursor3DGridStrokeStyleY:yt,cursor3DGridStrokeStyleZ:yt,cursor3DTickStrokeStyleX:Q.tickStyle,cursor3DTickStrokeStyleY:Q.tickStyle,cursor3DTickStrokeStyleZ:Q.tickStyle,cursor3DTickLabelFillStyleX:at,cursor3DTickLabelFillStyleY:at,cursor3DTickLabelFillStyleZ:at,cursor3DTickLabelFontX:v,cursor3DTickLabelFontY:v,cursor3DTickLabelFontZ:v,cursor3DTickLabelBackgroundFillStyleX:pt,cursor3DTickLabelBackgroundFillStyleY:pt,cursor3DTickLabelBackgroundFillStyleZ:pt,cursor3DTickLabelBackgroundStrokeStyleX:ht,cursor3DTickLabelBackgroundStrokeStyleY:ht,cursor3DTickLabelBackgroundStrokeStyleZ:ht,cursor3DTickLabelPaddingX:{left:4,right:4,top:4,bottom:4},cursor3DTickLabelPaddingY:{left:4,right:4,top:4,bottom:4},cursor3DTickLabelPaddingZ:{left:4,right:4,top:4,bottom:4}};return t.overrideThemeProperties&&(gt=tb(tb({},gt),t.overrideThemeProperties)),gt}(t),r=ib(ib({},i),{header1Font:n.xAxisTitleFont,header2Font:n.xAxisNumericTicks.getMajorTickStyle().labelFont,header3Font:n.uiTextFont,mainDataColor:t.dataColorPalette[0].stroke});return ib(ib({},n),{examples:r})},rb="Segoe UI, -apple-system, Verdana, Helvetica",eb=function(t,i){var n=new Image;n.crossOrigin="*";var r="".concat(t,"/").concat(i);return n.src=r,n},ob=function(t,i,n){return function(r){var e=!0===t?i[r%i.length].stroke:kt(i[r%i.length].stroke,w(255,255,255),.5);return new R({stops:[{color:kt(e,w(255,255,255),.5*n).setA(100),offset:0},{color:e.setA(100),offset:.5},{color:kt(e,w(30,30,30),.5*n).setA(100),offset:1}]})}},sb=function(t,i,n){return function(r){var e=!0===t?i[r%i.length].stroke:kt(i[r%i.length].stroke,w(255,255,255),.2);return new R({stops:[{color:kt(e,w(255,255,255),.2*n),offset:0},{color:e,offset:.5},{color:kt(e,w(0,0,0),.2*n),offset:1}]})}},ab=function(t,i,n){return function(r){var e=!0===t?i[r%i.length].stroke:kt(i[r%i.length].stroke,w(255,255,255),.2);return new U({angle:90,stops:[{color:kt(e,w(255,255,255),.5*n),offset:0},{color:e,offset:.35},{color:kt(e,w(30,30,30),.5*n),offset:1}]})}},ub=function(t,i,n){return r=function(n){var r=!0===t?i[n%i.length].stroke:kt(i[n%i.length].stroke,w(255,255,255),.3);return new U({angle:90,stops:[{color:kt(r,w(255,255,255),.5),offset:0},{color:r,offset:.35},{color:kt(r,w(30,30,30),.5),offset:1}]})},e=new Map,function(t){var i=e.get(t);if(i)return i;var n=r(t);return e.set(t,n),n};var r,e},hb=yn((function(){var t=w(255,255,255),i=new Ur({color:t}),n=!0,r=new io({spread:1,blur:9,offset:{x:0,y:0},color:w(0,0,0,150)}),s=new R({position:{x:.8,y:.8},extent:o.farthestCorner,shape:e.ellipse,stops:[{offset:0,color:w(50,51,52)},{offset:.5,color:w(14,15,16)},{offset:1,color:w(0,0,0)}]}),a=new Ur({color:w(45,45,45)}),u=new R({position:{x:.5,y:.5},extent:o.farthestCorner,shape:e.circle,stops:[{offset:0,color:w(120,120,120,100)},{offset:1,color:w(0,0,0,50)}]}),h=new R({position:{x:.5,y:.5},extent:o.farthestCorner,shape:e.circle,stops:[{offset:0,color:w(30,30,30,200)},{offset:1,color:w(0,0,0,255)}]}),f=rb,c=new Ur({color:w(255,255,220)}),l=new Ur({color:w(255,255,166)}),v=new Ur({color:w(255,255,220)}),d=new Ur({color:w(255,255,200)}),y=d,A=y,b=new U({angle:45,stops:[{offset:0,color:w(230,230,230)},{offset:1,color:w(150,150,150)}]}),p=new Ur({color:w(220,220,220)}),m=new Ur({color:w(200,200,200,50)}),g=new Ur({color:w(200,200,200,150)}),x=new Ur({color:w(200,200,200,20)}),S=new Ur({color:w(220,220,220)}),M=new U({angle:0,stops:[{offset:0,color:w(10,10,10,220)},{offset:1,color:w(30,30,30,220)}]}),C=i,T=w(255,255,200),k=new Ur({color:w(0,0,0,224)}),_=new Ur({color:w(166,166,166)}),O=new Ur({color:w(49,53,58)}),F=w(20,20,20),I=w(0,0,0),j=t,B=w(150,150,150),D=w(50,50,50),L=w(50,50,50),E=w(100,100,100),P=w(200,200,200),z=[w(255,255,91,255),w(255,205,91,255),w(255,155,91,255),w(255,196,188,255),w(255,148,184,255),w(219,148,198,255),w(235,196,224,255),w(169,148,198,255),w(148,226,198,255),w(148,255,176,255),w(180,255,165,255)].map((function(t){return{stroke:t,border:t,area:t.setA(180)}})),N=t.setA(20),V=w(176,255,157,255),G=w(255,112,76,255),Y={mapChartFillStyle:new U({angle:135,stops:[{color:w(255,255,91,255),offset:0},{color:w(255,155,91,255),offset:1}]}),spiderSeriesFillStyle:ob(n,z,.5),pieChartSliceFillStylePalette:sb(n,z,1),funnelChartSliceFillStylePalette:ab(n,z,1),pyramidChartSliceFillStylePalette:ab(n,z,1),rectangleSeriesFillStyle:ub(n,z),gaugeChartBarColor:w(255,255,91,255),gaugeChartGlowColor:w(255,255,91,64)},W=new Ur({color:w(176,255,157,255)}),X=new Ur({color:w(255,146,146,255)}),H=new Ur({color:w(176,255,157,255)}),Z=new Ur({color:w(230,63,63,255)}),Q=new Ur({color:w(176,255,157,120)}),J=new Ur({color:w(229,63,63,180)}),K=new Ur({color:w(27,37,36,255)}),q=new Ur({color:w(62,27,27,255)}),$=[w(255,0,0),w(255,255,0),w(0,255,0)],tt=[w(10,10,255),w(10,190,255),w(251,255,0),w(255,38,0)],it=[w(255,255,0),w(255,204,0),w(255,128,0),w(255,0,0)],nt=[w(0,0,0),w(167,4,69,255),w(255,0,0),w(252,252,168,255)],rt=new R({stops:[{color:w(61,61,80,100),offset:0},{color:w(44,44,55,30),offset:1}]}),et=new Ur({color:w(148,148,198,255)}),ot=Q.getColor().setA(255),st=w(100,100,100),at=[w(255,241,149,200),w(255,230,65,200),w(238,211,32,200),w(238,176,32,200),w(255,159,13,200),w(254,120,37,200),w(253,91,56,200),w(253,75,84,200),w(254,95,124,200),w(227,56,160,200),w(226,53,134,200),w(216,90,166,200),w(254,151,206,200),w(237,151,254,200),w(243,177,255,200),w(233,133,252,200),w(210,101,230,200),w(178,61,200,200),w(193,81,156,200),w(217,95,145,200)];return nb({isDark:n,highlightColorOffset:w(60,60,60,60),highlightColorOffsetAxisOverlay:w(255,255,255,40),effect:r,effectsText:!0,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:s,dashboardSplitterFillStyle:a,panelBackgroundFillStyle:u,seriesBackgroundFillStyle:h,fontFamily:f,fontScaler:1,titleFillStyle:c,axisTitleFillStyle:l,axisLabelMajorFillStyle:v,uiTitleFillStyle:d,uiTextFillStyle:y,cursorTextFillStyle:A,axisLineFillStyle:b,axisTickMajorFillStyle:p,axisGridMajorFillStyle:m,axisTickMinorFillStyle:g,axisGridMinorFillStyle:x,cursorGridFillStyle:S,legendBackgroundFillStyle:M,legendBackgroundBorderFillStyle:C,legendButtonDefaultColor:T,resultTableBackgroundFillStyle:k,resultTableBackgroundBorderFillStyle:_,resultTableHeaderBackgroundFillStyle:O,uiBackgroundColor:F,uiBackgroundBorderColor:I,uiStrokeColorContrastHigh:j,uiStrokeColorContrastMedium:B,uiStrokeColorContrastLow:D,dataStrokeColorContrastHigh:L,dataStrokeColorContrastMedium:E,dataStrokeColorContrastLow:P,dataColorPalette:z,dataColorPaletteInverted:[{area:w(190,50,50,100),border:w(210,80,80)}],dataHighlightOverlayColor:N,dataColorPositive:V,dataColorNegative:G,zoomBandChartDefocusOverlayFillStyle:new Ur({color:w(0,0,0,180)}),zoomBandChartSplitterColor:w(251,251,90),zoomBandChartKnobFillStyle:function(t){return new Qt({source:eb(t,"zoomBandChart/darkgold-selector.png"),fitMode:_t.Fill})},zoomBandChartKnobSize:{x:14,y:30},dataColorUnselected:w(255,255,255,24),overrideThemeProperties:Y,treeMapChartParentColor:w(24,30,33),treeMapChartNodeColors:at,treeMapChartLabelFillStyle:new Ur({color:w(33,33,33)}),treeMapChartLabelHeaderFillStyle:new Ur({color:w(250,250,250)})},{positiveTextFillStyle:W,negativeTextFillStyle:X,positiveFillStyle:H,negativeFillStyle:Z,positiveAreaFillStyle:Q,negativeAreaFillStyle:J,positiveBackgroundFillStyle:K,negativeBackgroundFillStyle:q,badGoodColorPalette:$,coldHotColorPalette:tt,intensityColorPalette:it,spectrogramColorPalette:nt,bollingerFillStyle:rt,bollingerBorderFillStyle:et,highlightPointColor:t,highlightDataGridColor:ot,unfocusedDataColor:st})})),fb=yn((function(){var t=w(255,255,255),i=new Ur({color:t}),n=!0,r=new io({spread:0,blur:9,offset:{x:0,y:0},color:w(105,255,236,40)}),e=new Ur({color:w(2,21,30)}),o=new R({stops:[{color:w(19,40,66,150),offset:0},{color:w(0,0,0,150),offset:1}]}),s=new Ur({color:w(0,5,8,150)}),a=rb,u=i,h=i,f=i,c=i,l=i,v=l,d=new Ur({color:w(20,224,250,255)}),y=i,A=new Ur({color:w(61,94,110,100)}),b=new Ur({color:w(61,94,110,255)}),p=new Ur({color:w(61,94,110,40)}),m=i,g=new Ur({color:w(0,18,23,255)}),x=i,S=t,M=new Ur({color:w(0,0,0,225)}),C=i,T=new Ur({color:w(18,66,75)}),k=w(0,38,48,220),_=w(0,0,0),O=t,F=w(150,150,150),I=w(19,78,93),j=w(50,50,50),B=w(0,36,48),D=w(200,200,200),L=[w(45,253,253,255),w(44,172,247,255),w(46,100,248,255),w(96,84,199,255),w(184,104,245,255),w(98,160,218,255),w(43,238,245,255),w(38,140,206,255),w(112,96,224,255),w(206,157,255,255)].map((function(t){return{stroke:t,border:t,area:t.setA(180)}})),E=t.setA(50),P=w(3,217,194,255),z=w(230,63,63,255),N={mapChartFillStyle:new U({angle:135,stops:[{color:w(118,248,231,255),offset:0},{color:w(45,177,255,255),offset:1}]}),spiderSeriesFillStyle:ob(n,L,1),pieChartSliceFillStylePalette:sb(n,L,1),funnelChartSliceFillStylePalette:ab(n,L,1),pyramidChartSliceFillStylePalette:ab(n,L,1),rectangleSeriesFillStyle:ub(n,L),gaugeChartBarColor:w(3,217,194,255),gaugeChartGlowColor:w(3,217,194,120)},V=new Ur({color:w(45,253,253,255)}),G=new Ur({color:w(255,146,146,255)}),Y=new Ur({color:w(45,253,253,255)}),W=new Ur({color:w(230,63,63,255)}),X=new Ur({color:w(1,190,164,120)}),H=new Ur({color:w(229,63,63,180)}),Z=new Ur({color:w(1,53,57,255)}),Q=new Ur({color:w(62,27,27,255)}),J=[w(1,104,119,255),w(0,165,144,255),w(0,246,214,255)],K=[w(0,87,95,255),w(0,125,124,255),w(1,209,182,255),w(0,255,221,255),w(218,112,112,255),w(172,47,47,255)],q=[w(126,255,253,255),w(50,233,230,255),w(0,196,193,255),w(62,138,178,255),w(139,88,191,255),w(162,55,143,255)],$=[w(13,31,52,255),w(101,50,118,255),w(1,142,172,255),w(2,196,170,255),w(0,255,221,255)],tt=new R({stops:[{color:w(122,103,254,70),offset:0},{color:w(178,168,255,10),offset:1}]}),it=new Ur({color:w(122,103,254,255)}),nt=X.getColor().setA(255),rt=w(15,83,83),et=[w(139,252,252,150),w(60,239,239,150),w(2,201,201,150),w(26,159,159,150),w(15,146,187,150),w(65,168,200,150),w(67,146,207,150),w(64,108,209,150),w(189,64,233,150),w(219,84,238,150),w(192,55,212,150),w(212,98,229,150),w(248,110,211,150),w(251,154,225,150),w(251,154,184,150),w(233,105,144,150),w(255,133,170,150),w(249,110,135,150),w(245,72,101,150),w(210,57,84,150)];return nb({isDark:n,highlightColorOffset:w(60,60,60,60),highlightColorOffsetAxisOverlay:w(255,255,255,40),effect:r,effectsText:!1,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:function(t){return new Qt({source:eb(t,"themes/turquoiseHexagon.jpg"),fitMode:_t.Fill})},dashboardSplitterFillStyle:e,panelBackgroundFillStyle:o,seriesBackgroundFillStyle:s,fontFamily:a,fontScaler:1,titleFillStyle:u,axisTitleFillStyle:h,axisLabelMajorFillStyle:f,uiTitleFillStyle:c,uiTextFillStyle:l,cursorTextFillStyle:v,axisLineFillStyle:d,axisTickMajorFillStyle:y,axisGridMajorFillStyle:A,axisTickMinorFillStyle:b,axisGridMinorFillStyle:p,cursorGridFillStyle:m,legendBackgroundFillStyle:g,legendBackgroundBorderFillStyle:x,legendButtonDefaultColor:S,resultTableBackgroundFillStyle:M,resultTableBackgroundBorderFillStyle:C,resultTableHeaderBackgroundFillStyle:T,uiBackgroundColor:k,uiBackgroundBorderColor:_,uiStrokeColorContrastHigh:O,uiStrokeColorContrastMedium:F,uiStrokeColorContrastLow:I,dataStrokeColorContrastHigh:j,dataStrokeColorContrastMedium:B,dataStrokeColorContrastLow:D,dataColorPalette:L,dataColorPaletteInverted:[{area:w(170,60,210,100),border:w(210,100,250)}],dataHighlightOverlayColor:E,dataColorPositive:P,dataColorNegative:z,zoomBandChartDefocusOverlayFillStyle:new Ur({color:w(0,0,0,180)}),zoomBandChartSplitterColor:w(43,244,244),zoomBandChartKnobFillStyle:function(t){return new Qt({source:eb(t,"zoomBandChart/turquoise-selector.png"),fitMode:_t.Fill})},zoomBandChartKnobSize:{x:14,y:30},dataColorUnselected:w(255,255,255,24),overrideThemeProperties:N,treeMapChartParentColor:w(0,35,41),treeMapChartNodeColors:et,treeMapChartLabelFillStyle:new Ur({color:w(33,33,33)}),treeMapChartLabelHeaderFillStyle:new Ur({color:w(250,250,250)})},{positiveTextFillStyle:V,negativeTextFillStyle:G,positiveFillStyle:Y,negativeFillStyle:W,positiveAreaFillStyle:X,negativeAreaFillStyle:H,positiveBackgroundFillStyle:Z,negativeBackgroundFillStyle:Q,badGoodColorPalette:J,coldHotColorPalette:K,intensityColorPalette:q,spectrogramColorPalette:$,bollingerFillStyle:tt,bollingerBorderFillStyle:it,highlightPointColor:t,highlightDataGridColor:nt,unfocusedDataColor:rt})})),cb=yn((function(){var t=!1,i=new io({spread:0,blur:6,offset:{x:2,y:-2},color:w(0,0,0,30)}),n=new R({position:{x:.8,y:.8},extent:o.farthestCorner,shape:e.ellipse,stops:[{offset:0,color:w(255,255,255)},{offset:1,color:w(255,255,255)}]}),r=new Ur({color:w(219,227,233,255)}),s=new R({position:{x:.5,y:.5},extent:o.farthestCorner,shape:e.circle,stops:[{offset:0,color:w(255,255,255,200)},{offset:1,color:w(240,244,246,200)}]}),a=new R({position:{x:.5,y:.5},extent:o.farthestCorner,shape:e.circle,stops:[{offset:0,color:w(255,255,255,255)},{offset:1,color:w(255,255,255,255)}]}),u=rb,h=new Ur({color:w(33,43,49)}),f=new Ur({color:w(33,43,49)}),c=new Ur({color:w(33,43,49)}),l=new Ur({color:w(33,43,49)}),v=l,d=v,y=new U({angle:45,stops:[{offset:0,color:w(225,225,225)},{offset:1,color:w(225,225,225)}]}),A=new Ur({color:w(150,150,150,255)}),b=new Ur({color:w(150,150,150,170)}),p=new Ur({color:w(150,150,150,150)}),m=new Ur({color:w(150,150,150,100)}),g=new Ur({color:w(60,70,80)}),x=new U({angle:0,stops:[{offset:0,color:w(255,255,255,240)},{offset:1,color:w(255,255,255,240)}]}),S=new Ur({color:w(168,186,199)}),M=w(150,150,150),C=new Ur({color:w(255,255,255,230)}),T=new Ur({color:w(168,186,199)}),k=new Ur({color:w(228,235,243)}),_=w(255,255,255,255),O=w(168,168,199,255),F=w(168,186,199,255),I=w(168,186,199,255),j=w(168,186,199,255),B=w(168,186,199,255),D=w(100,100,100),L=w(200,200,200),E=[w(28,181,140,255),w(255,132,0,255),w(240,39,39,255),w(86,121,251,255),w(2,181,213,255),w(13,212,158,255),w(22,167,3,255),w(234,103,232,255),w(62,183,179,255),w(140,93,3,255),w(155,158,186,255)].map((function(t){return{stroke:t,border:t,area:t.setA(180)}})),P=w(150,150,150,80),z=w(46,182,120,255),N=w(255,66,66,255),V=new Ue({thickness:2,fillStyle:new Ur({color:w(168,186,199,255)})}),G={mapChartFillStyle:new U({angle:-45,stops:[{color:w(2,181,213,255),offset:0},{color:w(175,243,255,255),offset:1}]}),spiderSeriesFillStyle:ob(t,E,.8),pieChartSliceFillStylePalette:sb(t,E,.8),funnelChartSliceFillStylePalette:ab(t,E,.5),pyramidChartSliceFillStylePalette:ab(t,E,.5),rectangleSeriesFillStyle:ub(t,E),gaugeChartBarColor:w(46,182,120,255),gaugeChartGlowColor:w(46,182,120,120),chartXYSeriesBackgroundStrokeStyle:V,chart3DSeriesBackgroundStrokeStyle:V,polarChartSeriesBackgroundStrokeStyle:V,spiderChartSeriesBackgroundStrokeStyle:V,dataGridTextFillStyle:new Ur({color:w(0,88,64,255)})},Y=new Ur({color:w(4,146,108,255)}),W=new Ur({color:w(240,39,39,255)}),X=new Ur({color:w(28,181,140,255)}),H=new Ur({color:w(230,88,88,255)}),Z=new Ur({color:w(28,181,140,180)}),Q=new Ur({color:w(230,88,88,180)}),J=new Ur({color:w(229,243,228)}),K=new Ur({color:w(232,225,216)}),q=[w(193,48,48,255),w(240,234,60,255),w(45,191,55,255)],$=[w(10,19,255,255),w(15,191,250,255),w(249,255,2,255),w(253,133,0,255),w(255,24,0,255)],tt=[w(50,99,213),w(8,179,77),w(255,246,0),w(255,126,0),w(189,36,30)],it=[w(16,64,176),w(8,179,77),w(255,246,0),w(255,126,0),w(168,6,0)],nt=new Ur({color:w(185,198,207,255)}),rt=new R({stops:[{color:w(151,190,220,10),offset:0},{color:w(151,190,220,50),offset:1}]}),et=Z.getColor().setA(255),ot=w(150,150,150),st=[w(255,243,136,125),w(254,237,99,125),w(255,216,109,125),w(255,172,100,125),w(255,133,101,125),w(255,113,142,125),w(230,103,129,125),w(242,126,219,125),w(255,155,235,125),w(255,181,240,125),w(203,143,255,125),w(208,154,255,125),w(171,188,255,125),w(197,209,255,125),w(171,187,255,125),w(84,167,239,125),w(38,196,214,125),w(38,214,196,125),w(69,225,141,125),w(36,191,88,125)];return nb({isDark:t,highlightColorOffset:w(-60,-60,-60,60),highlightColorOffsetAxisOverlay:w(0,0,0,40),effect:i,effectsText:!1,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:n,dashboardSplitterFillStyle:r,panelBackgroundFillStyle:s,seriesBackgroundFillStyle:a,fontFamily:u,fontScaler:1,titleFillStyle:h,axisTitleFillStyle:f,axisLabelMajorFillStyle:c,uiTitleFillStyle:l,uiTextFillStyle:v,cursorTextFillStyle:d,axisLineFillStyle:y,axisTickMajorFillStyle:A,axisGridMajorFillStyle:b,axisTickMinorFillStyle:p,axisGridMinorFillStyle:m,cursorGridFillStyle:g,legendBackgroundFillStyle:x,legendBackgroundBorderFillStyle:S,legendButtonDefaultColor:M,resultTableBackgroundFillStyle:C,resultTableBackgroundBorderFillStyle:T,resultTableHeaderBackgroundFillStyle:k,uiBackgroundColor:_,uiBackgroundBorderColor:O,uiStrokeColorContrastHigh:F,uiStrokeColorContrastMedium:I,uiStrokeColorContrastLow:j,dataStrokeColorContrastHigh:B,dataStrokeColorContrastMedium:D,dataStrokeColorContrastLow:L,dataColorPalette:E,dataColorPaletteInverted:[{area:w(190,50,50,100),border:w(210,80,80)}],dataHighlightOverlayColor:P,dataColorPositive:z,dataColorNegative:N,zoomBandChartDefocusOverlayFillStyle:new Ur({color:w(255,255,255,180)}),zoomBandChartSplitterColor:w(80,93,101),zoomBandChartKnobFillStyle:function(t){return new Qt({source:eb(t,"zoomBandChart/light-selector.png"),fitMode:_t.Fill})},zoomBandChartKnobSize:{x:14,y:30},dataColorUnselected:w(0,0,0,24),overrideThemeProperties:G,treeMapChartParentColor:w(217,217,217),treeMapChartNodeColors:st,treeMapChartLabelFillStyle:new Ur({color:w(0,0,0)}),treeMapChartLabelHeaderFillStyle:new Ur({color:w(33,33,33)})},{positiveTextFillStyle:Y,negativeTextFillStyle:W,positiveFillStyle:X,negativeFillStyle:H,positiveAreaFillStyle:Z,negativeAreaFillStyle:Q,positiveBackgroundFillStyle:J,negativeBackgroundFillStyle:K,badGoodColorPalette:q,coldHotColorPalette:$,intensityColorPalette:tt,spectrogramColorPalette:it,bollingerFillStyle:rt,bollingerBorderFillStyle:nt,highlightPointColor:w(0,0,0),highlightDataGridColor:et,unfocusedDataColor:ot})})),lb=yn((function(){var t=!1,i=new R({position:{x:.8,y:.8},extent:o.farthestCorner,shape:e.ellipse,stops:[{offset:0,color:w(255,255,255)},{offset:1,color:w(255,255,255)}]}),n=new Ur({color:w(214,236,216,255)}),r=new R({position:{x:.5,y:.5},extent:o.farthestCorner,shape:e.circle,stops:[{offset:0,color:w(233,244,231,70)},{offset:1,color:w(233,244,231,200)}]}),s=new R({position:{x:.5,y:.5},extent:o.farthestCorner,shape:e.circle,stops:[{offset:0,color:w(255,255,255,255)},{offset:1,color:w(255,255,255,255)}]}),a=rb,u=new Ur({color:w(1,61,53)}),h=new Ur({color:w(1,61,53)}),f=new Ur({color:w(1,61,53)}),c=new Ur({color:w(1,61,53)}),l=c,v=l,d=new U({angle:45,stops:[{offset:0,color:w(225,225,225)},{offset:1,color:w(225,225,225)}]}),y=new Ur({color:w(188,211,186,255)}),A=new Ur({color:w(188,211,186,150)}),b=new Ur({color:w(188,211,186,50)}),p=new Ur({color:w(188,211,186,50)}),m=new Ur({color:w(104,148,111,255)}),g=new U({angle:0,stops:[{offset:0,color:w(255,255,255,240)},{offset:1,color:w(255,255,255,240)}]}),x=new Ur({color:w(104,148,111)}),S=w(150,150,150),M=new Ur({color:w(255,255,255,230)}),C=new Ur({color:w(104,148,111)}),T=new Ur({color:w(226,236,224)}),k=w(255,255,255,255),_=w(179,201,183,255),O=w(188,211,186,255),F=w(188,211,186,255),I=w(188,211,186,255),j=w(188,211,186,255),B=w(100,100,100),D=w(200,200,200),L=[w(138,195,142,255),w(193,161,114,255),w(178,99,99,255),w(142,156,210,255),w(154,209,219,255),w(164,212,199,255),w(104,156,97,255),w(196,147,195,255),w(92,190,187,255),w(126,100,51,255),w(136,138,157,255)].map((function(t){return{stroke:t,border:t,area:t.setA(180)}})),E=w(150,150,150,80),P=w(46,182,84,255),z=w(232,96,96,255),N=new Ue({thickness:2,fillStyle:new Ur({color:w(188,211,186,255)})}),V={mapChartFillStyle:new U({angle:-45,stops:[{color:w(118,160,121,255),offset:0},{color:w(174,227,178,255),offset:1}]}),spiderSeriesFillStyle:ob(t,L,.8),pieChartSliceFillStylePalette:sb(t,L,.8),pyramidChartSliceFillStylePalette:ab(t,L,.5),funnelChartSliceFillStylePalette:ab(t,L,.5),rectangleSeriesFillStyle:ub(t,L),gaugeChartBarColor:w(46,182,84,255),gaugeChartGlowColor:w(46,182,84,120),chartXYSeriesBackgroundStrokeStyle:N,chart3DSeriesBackgroundStrokeStyle:N,polarChartSeriesBackgroundStrokeStyle:N,spiderChartSeriesBackgroundStrokeStyle:N,dataGridTextFillStyle:new Ur({color:w(77,66,21,255)})},G=new Ur({color:w(93,151,97,255)}),Y=new Ur({color:w(178,99,99,255)}),W=new Ur({color:w(138,195,142,255)}),X=new Ur({color:w(178,99,99,255)}),H=new Ur({color:w(138,195,142,180)}),Z=new Ur({color:w(178,99,99,180)}),Q=new Ur({color:w(224,240,237)}),J=new Ur({color:w(251,227,227)}),K=[w(178,99,99,255),w(215,224,111,255),w(80,186,88,255)],q=[w(62,64,142,255),w(66,131,77,255),w(250,250,135,255),w(202,161,78,255),w(179,53,53,255)],$=[w(64,86,138),w(123,192,205),w(255,252,149),w(220,155,92),w(184,78,74)],tt=[w(64,86,138),w(123,192,205),w(255,252,149),w(220,155,92),w(132,60,57)],it=new Ur({color:w(185,198,207,255)}),nt=new R({stops:[{color:w(151,190,220,10),offset:0},{color:w(151,190,220,50),offset:1}]}),rt=H.getColor().setA(255),et=w(150,150,150),ot=[w(242,239,210,150),w(243,238,183,150),w(210,222,136,150),w(204,217,148,150),w(157,190,124,150),w(143,178,72,150),w(198,147,88,150),w(216,148,71,150),w(229,142,103,150),w(225,174,152,150),w(219,149,203,150),w(216,188,209,150),w(109,198,189,150),w(172,206,202,150),w(164,223,217,150),w(174,215,233,150),w(203,225,235,150),w(220,227,243,150),w(207,213,227,150),w(171,182,209,150)];return nb({isDark:t,highlightColorOffset:w(-60,-60,-60,60),highlightColorOffsetAxisOverlay:w(0,0,0,40),effect:void 0,effectsText:!1,effectsDashboardSplitters:!1,lcjsBackgroundFillStyle:i,dashboardSplitterFillStyle:n,panelBackgroundFillStyle:r,seriesBackgroundFillStyle:s,fontFamily:a,fontScaler:1,titleFillStyle:u,axisTitleFillStyle:h,axisLabelMajorFillStyle:f,uiTitleFillStyle:c,uiTextFillStyle:l,cursorTextFillStyle:v,axisLineFillStyle:d,axisTickMajorFillStyle:y,axisGridMajorFillStyle:A,axisTickMinorFillStyle:b,axisGridMinorFillStyle:p,cursorGridFillStyle:m,legendBackgroundFillStyle:g,legendBackgroundBorderFillStyle:x,legendButtonDefaultColor:S,resultTableBackgroundFillStyle:M,resultTableBackgroundBorderFillStyle:C,resultTableHeaderBackgroundFillStyle:T,uiBackgroundColor:k,uiBackgroundBorderColor:_,uiStrokeColorContrastHigh:O,uiStrokeColorContrastMedium:F,uiStrokeColorContrastLow:I,dataStrokeColorContrastHigh:j,dataStrokeColorContrastMedium:B,dataStrokeColorContrastLow:D,dataColorPalette:L,dataColorPaletteInverted:[{area:w(210,70,70,100),border:w(200,110,110)}],dataHighlightOverlayColor:E,dataColorPositive:P,dataColorNegative:z,zoomBandChartDefocusOverlayFillStyle:new Ur({color:w(255,255,255,180)}),zoomBandChartSplitterColor:w(68,106,64),zoomBandChartKnobFillStyle:function(t){return new Qt({source:eb(t,"zoomBandChart/lightnature-selector.png"),fitMode:_t.Fill})},zoomBandChartKnobSize:{x:14,y:30},dataColorUnselected:w(0,0,0,24),overrideThemeProperties:V,treeMapChartParentColor:w(239,247,238),treeMapChartNodeColors:ot,treeMapChartLabelFillStyle:new Ur({color:w(0,0,0)}),treeMapChartLabelHeaderFillStyle:new Ur({color:w(33,33,33)})},{positiveTextFillStyle:G,negativeTextFillStyle:Y,positiveFillStyle:W,negativeFillStyle:X,positiveAreaFillStyle:H,negativeAreaFillStyle:Z,positiveBackgroundFillStyle:Q,negativeBackgroundFillStyle:J,badGoodColorPalette:K,coldHotColorPalette:q,intensityColorPalette:$,spectrogramColorPalette:tt,bollingerFillStyle:nt,bollingerBorderFillStyle:it,highlightPointColor:w(0,0,0),highlightDataGridColor:rt,unfocusedDataColor:et})})),vb=yn((function(){var t=w(255,255,255),i=new Ur({color:t}),n=!0,r=new io({spread:1,blur:9,offset:{x:0,y:0},color:w(255,255,255,30)}),e=new Ur({color:w(6,15,36)}),o=new R({stops:[{color:w(46,13,87,50),offset:0},{color:w(0,0,0,150),offset:1}]}),s=new Ur({color:w(0,5,8,150)}),a=rb,u=i,h=i,f=i,c=i,l=i,v=l,d=new U({angle:45,stops:[{offset:0,color:w(241,133,255,255)},{offset:1,color:w(115,207,238,255)}]}),y=i,A=new Ur({color:w(61,94,110,100)}),b=new Ur({color:w(61,94,110,255)}),p=new Ur({color:w(61,94,110,40)}),m=i,g=new Ur({color:w(0,18,23,255)}),x=i,S=w(115,207,238,255),M=new Ur({color:w(0,0,0,224)}),C=i,T=new Ur({color:w(68,31,78)}),k=w(0,38,48,255),_=w(0,0,0),O=t,F=w(150,150,150),I=w(19,57,93),j=w(50,50,50),B=w(0,17,48),D=w(200,200,200),L=[w(20,211,237,255),w(98,147,252,255),w(164,73,250,255),w(129,117,253,255),w(95,134,252,255),w(22,133,212,255),w(35,200,242,255),w(104,121,233,255),w(137,69,232,255),w(70,72,241,255)].map((function(t){return{stroke:t,border:t,area:t.setA(180)}})),E=t.setA(50),P=w(3,217,194,255),z=w(243,21,110,255),N={mapChartFillStyle:new U({angle:135,stops:[{color:w(118,248,231,255),offset:0},{color:w(45,177,255,255),offset:1}]}),spiderSeriesFillStyle:ob(n,L,.5),pieChartSliceFillStylePalette:sb(n,L,2),funnelChartSliceFillStylePalette:ab(n,L,1),pyramidChartSliceFillStylePalette:ab(n,L,1),rectangleSeriesFillStyle:ub(n,L),gaugeChartBarColor:w(3,217,194,255),gaugeChartGlowColor:w(3,217,194,150)},V=new Ur({color:w(20,211,237,255)}),G=new Ur({color:w(253,145,178,255)}),Y=new Ur({color:w(20,211,237,255)}),W=new Ur({color:w(239,68,121,255)}),X=new Ur({color:w(20,211,237,120)}),H=new Ur({color:w(239,68,121,180)}),Z=new Ur({color:w(1,53,57,255)}),Q=new Ur({color:w(94,19,42,255)}),J=[w(174,51,132,255),w(204,107,218,255),w(189,215,253,255)],K=[w(0,63,95,255),w(0,149,255,255),w(0,225,255,255),w(255,154,254,255),w(204,98,170,255),w(139,39,84,255)],q=[w(197,241,255,255),w(70,210,255,255),w(0,164,217,255),w(90,99,222,255),w(138,75,192,255),w(151,27,162,255)],$=[w(13,31,52,255),w(129,54,130,255),w(131,108,176,255),w(7,162,213,255),w(26,247,255,255)],tt=new R({stops:[{color:w(219,42,235,60),offset:0},{color:w(237,73,252,10),offset:1}]}),it=new Ur({color:w(237,73,252,255)}),nt=X.getColor().setA(255),rt=w(8,70,100),et=[w(149,230,255,150),w(93,213,243,150),w(20,189,223,150),w(5,151,181,150),w(2,138,198,150),w(2,113,198,150),w(97,148,236,150),w(93,111,230,150),w(151,120,223,150),w(128,87,227,150),w(153,52,230,150),w(179,92,245,150),w(248,110,211,150),w(255,155,228,150),w(251,88,207,150),w(255,0,162,150),w(214,73,177,150),w(209,71,159,150),w(238,101,169,150),w(210,57,134,150)];return nb({isDark:n,highlightColorOffset:w(60,60,60,60),highlightColorOffsetAxisOverlay:w(255,255,255,40),effect:r,effectsText:!0,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:function(t){return new Qt({source:eb(t,"themes/cyberSpace.jpg"),fitMode:_t.Fill})},dashboardSplitterFillStyle:e,panelBackgroundFillStyle:o,seriesBackgroundFillStyle:s,fontFamily:a,fontScaler:1,titleFillStyle:u,axisTitleFillStyle:h,axisLabelMajorFillStyle:f,uiTitleFillStyle:c,uiTextFillStyle:l,cursorTextFillStyle:v,axisLineFillStyle:d,axisTickMajorFillStyle:y,axisGridMajorFillStyle:A,axisTickMinorFillStyle:b,axisGridMinorFillStyle:p,cursorGridFillStyle:m,legendBackgroundFillStyle:g,legendBackgroundBorderFillStyle:x,legendButtonDefaultColor:S,resultTableBackgroundFillStyle:M,resultTableBackgroundBorderFillStyle:C,resultTableHeaderBackgroundFillStyle:T,uiBackgroundColor:k,uiBackgroundBorderColor:_,uiStrokeColorContrastHigh:O,uiStrokeColorContrastMedium:F,uiStrokeColorContrastLow:I,dataStrokeColorContrastHigh:j,dataStrokeColorContrastMedium:B,dataStrokeColorContrastLow:D,dataColorPalette:L,dataColorPaletteInverted:[{area:w(41,130,255,100),border:w(45,110,240)}],dataHighlightOverlayColor:E,dataColorPositive:P,dataColorNegative:z,zoomBandChartDefocusOverlayFillStyle:new Ur({color:w(0,0,0,180)}),zoomBandChartSplitterColor:w(219,119,255),zoomBandChartKnobFillStyle:function(t){return new Qt({source:eb(t,"zoomBandChart/cyberspace-selector.png"),fitMode:_t.Fill})},zoomBandChartKnobSize:{x:14,y:30},dataColorUnselected:w(255,255,255,24),overrideThemeProperties:N,treeMapChartParentColor:w(30,30,59),treeMapChartNodeColors:et,treeMapChartLabelFillStyle:new Ur({color:w(33,33,33)}),treeMapChartLabelHeaderFillStyle:new Ur({color:w(250,250,250)})},{positiveTextFillStyle:V,negativeTextFillStyle:G,positiveFillStyle:Y,negativeFillStyle:W,positiveAreaFillStyle:X,negativeAreaFillStyle:H,positiveBackgroundFillStyle:Z,negativeBackgroundFillStyle:Q,badGoodColorPalette:J,coldHotColorPalette:K,intensityColorPalette:q,spectrogramColorPalette:$,bollingerFillStyle:tt,bollingerBorderFillStyle:it,highlightPointColor:t,highlightDataGridColor:nt,unfocusedDataColor:rt})})),db={};Object.defineProperty(db,"darkGold",{get:hb,enumerable:!0}),Object.defineProperty(db,"turquoiseHexagon",{get:fb,enumerable:!0}),Object.defineProperty(db,"light",{get:cb,enumerable:!0}),Object.defineProperty(db,"lightNature",{get:lb,enumerable:!0}),Object.defineProperty(db,"cyberSpace",{get:vb,enumerable:!0});var yb,Ab=db,bb=Ab.darkGold,pb=function(){return pb=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},pb.apply(this,arguments)},mb=function(t){return pb(pb({},t),{effect:void 0})},gb=function(t){var i,n,r;return pb(pb({},t),{dataGridTextShadow:void 0,pieChartSliceLabelShadow:void 0,funnelChartSliceLabelShadow:void 0,spiderChartScaleLabelShadow:void 0,pyramidChartSliceLabelShadow:void 0,xAxisTimeTicks:t.xAxisTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),yAxisTimeTicks:t.yAxisTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),xAxis3DTimeTicks:t.xAxis3DTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),yAxis3DTimeTicks:t.yAxis3DTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),zAxis3DTimeTicks:t.zAxis3DTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),xAxisNumericTicks:t.xAxisNumericTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),yAxisNumericTicks:t.yAxisNumericTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),xAxisDateTimeTicks:t.xAxisDateTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),yAxisDateTimeTicks:t.yAxisDateTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),xAxis3DNumericTicks:t.xAxis3DNumericTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),yAxis3DNumericTicks:t.yAxis3DNumericTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),zAxis3DNumericTicks:t.zAxis3DNumericTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),xAxis3DDateTimeTicks:t.xAxis3DDateTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),yAxis3DDateTimeTicks:t.yAxis3DDateTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),zAxis3DDateTimeTicks:t.zAxis3DDateTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),barChartValueAxisTicks:t.barChartValueAxisTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),polarAmplitudeAxisNumericTicks:t.polarAmplitudeAxisNumericTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),parallelCoordinateAxisTimeTicks:null===(i=t.parallelCoordinateAxisTimeTicks)||void 0===i?void 0:i.setTickStyle((function(t){return t.setLabelShadow(void 0)})),parallelCoordinateAxisNumericTicks:null===(n=t.parallelCoordinateAxisNumericTicks)||void 0===n?void 0:n.setTickStyle((function(t){return t.setLabelShadow(void 0)})),parallelCoordinateAxisDateTimeTicks:null===(r=t.parallelCoordinateAxisDateTimeTicks)||void 0===r?void 0:r.setTickStyle((function(t){return t.setLabelShadow(void 0)}))})},xb=function(t,i){var n=Object.fromEntries(Object.entries(t).map((function(t){var n=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(t,2),r=n[0],e=n[1];if(P(e))return[r,e.setSize(e.getSize()*i)];if("panelPadding"===r||"chartXYPadding"===r)return[r,e*i];if("polarRadialAxisTickStyle"===r){var o=e;return[r,o.setTickLength(o.getTickLength()*i).setLabelFont((function(t){return t.setSize(t.getSize()*i)})).setTickPadding(o.getTickPadding()*i)]}if("object"==typeof e&&"setTickStyle"in e)return[r,e.setTickStyle((function(t){return t.setTickLength(t.getTickLength()*i).setLabelFont((function(t){return t.setSize(t.getSize()*i)})).setTickPadding(t.getTickPadding()*i)}))];if("barChartValueLabelsAfterBars"===r||"barChartValueLabelsInsideBars"===r||"barChartCategoryLabels"===r){var s=e;return[r,pb(pb({},s),{labelFont:s.labelFont.setSize(s.labelFont.getSize()*i)})]}return[r,e]})));[["uiButtonSize",10],["chartXYTitleMargin",5],["legendPadding",5],["uiTextPadding",5],["legendLUTLabelMargin",7],["legendLUTUnitLabelMargin",7],["legendLUTLengthHorizontal",160],["legendLUTLengthVertical",140],["legendLUTThicknessHorizontal",15],["legendLUTThicknessVertical",25],["dataGridCellPadding",5],["dataGridScrollBarThickness",20],["gaugeChartBarThickness",40],["gaugeChartValueIndicatorThickness",10],["gaugeChartNeedleLength",40],["gaugeChartNeedleThickness",10],["gaugeChartGapBetweenBarAndValueIndicators",10]].forEach((function(t){var r,e=t[0],o=t[1];n[e]=(null!==(r=n[e])&&void 0!==r?r:o)*i})),n.cursorPointMarkerSize={x:n.cursorPointMarkerSize.x*i,y:n.cursorPointMarkerSize.y*i};var r=n.cursorDynamicBehavior;return r&&(n.cursorDynamicBehavior=pb(pb({},r),{pointMarkerSize:r.pointMarkerSize?function(t){if(!r.pointMarkerSize)return{x:0,y:0};var n=r.pointMarkerSize(t);return{x:n.x*i,y:n.y*i}}:void 0})),n},Sb=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wb=function(){return wb=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},wb.apply(this,arguments)},Mb=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Cb=function(t){function i(i,n,r,e,o,s){var a,u,h,f,c,l=this;return(l=t.call(this,i,n,r,n.rA("dataGrid bg",0),e,n.Ai.xi.dataGridBackgroundFillStyle,n.Ai.xi.dataGridBackgroundStrokeStyle,n.Ai.xi.dataGridTitleFont,n.Ai.xi.dataGridTitleFillStyle,n.Ai.xi.dataGridTitleShadow,s)||this).n_=[],l.r_=[],l.e_=[],l.o_=new Map,l.s_=!0,l.a_=!0,l.u_=!0,l.h_=!0,l.f_=!0,l.c_=!0,l.l_=!0,l.v_=!0,l.d_=!0,l.y_=!0,l.A_=!0,l.b_=!0,l.p_=!0,l.m_=!0,l.g_=!0,l.x_=!0,l.S_=new Set,l.w_=new Set,l.M_=!0,l.C_=!0,l.T_=function(t,i){t.borders=void 0===i?_b:wb(wb({},t.borders),i),l.k_(t),l.b_=!0,l.Ai.Fn()},l.k_=function(t){t.borders&&(!1===t.borders.top&&l.__(t.column,t.row-1,(function(t){t.borders=t.borders?wb(wb({},null==t?void 0:t.borders),{bottom:!1}):wb(wb({},l.O_),{bottom:!1})})),!1===t.borders.bottom&&l.__(t.column,t.row+1,(function(t){t.borders=t.borders?wb(wb({},t.borders),{top:!1}):wb(wb({},l.O_),{top:!1})})),!1===t.borders.left&&l.__(t.column-1,t.row,(function(t){t.borders=t.borders?wb(wb({},t.borders),{right:!1}):wb(wb({},l.O_),{right:!1})})),!1===t.borders.right&&l.__(t.column+1,t.row,(function(t){t.borders=t.borders?wb(wb({},t.borders),{left:!1}):wb(wb({},l.O_),{left:!1})})),!0===t.borders.top&&l.__(t.column,t.row-1,(function(t){t.borders=t.borders?wb(wb({},null==t?void 0:t.borders),{bottom:!0}):wb(wb({},l.O_),{bottom:!0})})),!0===t.borders.bottom&&l.__(t.column,t.row+1,(function(t){t.borders=t.borders?wb(wb({},t.borders),{top:!0}):wb(wb({},l.O_),{top:!0})})),!0===t.borders.left&&l.__(t.column-1,t.row,(function(t){t.borders=t.borders?wb(wb({},t.borders),{right:!0}):wb(wb({},l.O_),{right:!0})})),!0===t.borders.right&&l.__(t.column+1,t.row,(function(t){t.borders=t.borders?wb(wb({},t.borders),{left:!0}):wb(wb({},l.O_),{left:!0})})))},l.F_={x:0,y:0},l.cells=new Nt,l.j=new Nt,l.Ai.pu(zs.fa),l.Ve.Wo("Data Grid"),l.I_=r.d2({scaleXYConstructor:nt}),l.I_.x.nd=EA,l.j_=r.d2({scaleXYConstructor:nt}),l.B_={x:0,y:0},l.D_=l.xi.dataGridTextFont,l.L_=l.xi.dataGridTextFillStyle,l.O_={top:!0,bottom:!0,left:!0,right:!0},l.E_=l.xi.dataGridCellBackgroundFillStyle,l.P_=l.xi.dataGridBorderStrokeStyle,l.z_="left-center",l.N_={left:null!==(a=l.xi.dataGridCellPadding)&&void 0!==a?a:5,right:null!==(u=l.xi.dataGridCellPadding)&&void 0!==u?u:5,bottom:null!==(h=l.xi.dataGridCellPadding)&&void 0!==h?h:5,top:null!==(f=l.xi.dataGridCellPadding)&&void 0!==f?f:5},l.V_=n.Vm("dataGrid grid bg",0),l.R_=n.Vm("dataGrid cell bg",1),l.G_=n.Rm("dataGrid cell content",0),l.U_=n.Rm("dataGrid scrollbar bg",1),l.Y_=n.Rm("dataGrid scrollbar fg",2),l.W_=l.V_.Dc(l.j_).$r(l.xi.dataGridBackgroundFillStyle).qr(qt).setPointerEvents(!1),l.X_=l.G_.Od(l.I_).setPointerEvents(!1),l.H_=new Jh((function(){var t=l.R_.te(l.I_).setPointerEvents(!0);return l.cells.Pi(t,{getExtraData:function(){return l.o_.get(t)},continueIfNotPrevented:function(t,i,n){var r=ie(l.getUserInteractions().scroll,"wheel",i,i.shiftKey,i.ctrlKey,i.altKey);if(r&&"wheel"===t&&i instanceof WheelEvent){Pi(i),l.Z_({x:!0===r.x?Math.sign(i.deltaY):0,y:!0===r.y?Math.sign(i.deltaY):0});var e=r.on;e&&e({event:i})}}}),t})),l.Q_=new Jh((function(){return l.G_.te(l.I_).setPointerEvents(!1)})),l.J_=new Jh((function(){return l.G_.ps(l.I_,!1).setPointerEvents(!1)})),l.K_=new Jh((function(){return l.G_.QA(l.I_,{},[Of.InternalUI,{type:"DataPattern",args:{pattern:"ProgressiveX"}}]).setPointerEvents(!1)})),l.q_=new Jh((function(){return l.G_.ce(l.I_).setPointerEvents(!1)})),l.tO=new Jh((function(){return l.G_.Ul(l.I_).Gl(Vr).fe(qt).setPointerEvents(!1)})),l.iO=new Jh((function(){return l.G_.te(l.I_).setPointerEvents(!1)})),l.nO=new Jh((function(){return l.G_.nw(l.I_).setPointerEvents(!1)})),l.rO=new Jh((function(){return l.G_.Fl(l.I_).setPointerEvents(!1)})),l.eO={background:l.U_.te(l.j_).setPointerEvents(!0).$r(l.xi.dataGridScrollBarBackgroundFillStyle).qr(l.xi.dataGridScrollBarBackgroundStrokeStyle),scrollbar:l.Y_.te(l.j_).setPointerEvents(!0).$r(l.xi.dataGridScrollBarFillStyle).qr(l.xi.dataGridScrollBarStrokeStyle),button1:l.U_.te(l.j_).setPointerEvents(!0).$r(l.xi.dataGridScrollBarButtonFillStyle).qr(l.xi.dataGridScrollBarButtonStrokeStyle),button2:l.U_.te(l.j_).setPointerEvents(!0).$r(l.xi.dataGridScrollBarButtonFillStyle).qr(l.xi.dataGridScrollBarButtonStrokeStyle),buttonIcon1:l.Y_.Ul(l.j_).setPointerEvents(!1).fe(qt).Rl(l.xi.dataGridScrollBarButtonArrowFillStyle).Yl(ve.Triangle),buttonIcon2:l.Y_.Ul(l.j_).setPointerEvents(!1).fe(qt).Rl(l.xi.dataGridScrollBarButtonArrowFillStyle).Yl(ve.Triangle)},l.oO={background:l.U_.te(l.j_).setPointerEvents(!0).$r(l.xi.dataGridScrollBarBackgroundFillStyle).qr(l.xi.dataGridScrollBarBackgroundStrokeStyle),scrollbar:l.Y_.te(l.j_).setPointerEvents(!0).$r(l.xi.dataGridScrollBarFillStyle).qr(l.xi.dataGridScrollBarStrokeStyle),button1:l.U_.te(l.j_).setPointerEvents(!0).$r(l.xi.dataGridScrollBarButtonFillStyle).qr(l.xi.dataGridScrollBarButtonStrokeStyle),button2:l.U_.te(l.j_).setPointerEvents(!0).$r(l.xi.dataGridScrollBarButtonFillStyle).qr(l.xi.dataGridScrollBarButtonStrokeStyle),buttonIcon1:l.Y_.Ul(l.j_).setPointerEvents(!1).fe(qt).Rl(l.xi.dataGridScrollBarButtonArrowFillStyle).Yl(ve.Triangle),buttonIcon2:l.Y_.Ul(l.j_).setPointerEvents(!1).fe(qt).Rl(l.xi.dataGridScrollBarButtonArrowFillStyle).Yl(ve.Triangle)},l.eO.scrollbar.addEventListener("pointerenter",(function(t){c=l.engine.setMouseStyle(vo.Vertical,c)})),l.eO.scrollbar.addEventListener("pointerleave",(function(t){c=l.engine.restoreMouseStyle(c)})),l.eO.scrollbar.addEventListener("pointerdown",(function(t){Pi(t);var i=t,n=function(t){var n=t.clientY-i.clientY;i=t,l.sO({x:0,y:-n})},r=function(i){i.pointerId===t.pointerId&&(ci.removeEventListener("pointermove",n),ci.removeEventListener("pointerup",r))};ci.addEventListener("pointermove",n),ci.addEventListener("pointerup",r)})),l.eO.scrollbar.addEventListener("wheel",(function(t){Pi(t),l.Z_({x:0,y:Math.sign(t.deltaY)})})),l.eO.background.addEventListener("pointerenter",(function(t){c=l.engine.setMouseStyle(vo.Vertical,c)})),l.eO.background.addEventListener("pointerleave",(function(t){c=l.engine.restoreMouseStyle(c)})),l.eO.background.addEventListener("click",(function(t){Pi(t);var i=l.Ai.Uu(t),n=at({x:i.engineX,y:i.engineY},l.Ai.ai,l.j_);l.Z_({x:0,y:n.y>l.eO.scrollbar.Bh().y?-1:1})})),l.eO.background.addEventListener("wheel",(function(t){Pi(t),l.Z_({x:0,y:Math.sign(t.deltaY)})})),l.eO.button1.addEventListener("pointerenter",(function(t){c=l.engine.setMouseStyle(vo.Point,c)})),l.eO.button1.addEventListener("pointerleave",(function(t){c=l.engine.restoreMouseStyle(c)})),l.eO.button1.addEventListener("click",(function(t){Pi(t),l.Z_({x:0,y:1})})),l.eO.button2.addEventListener("click",(function(t){Pi(t),l.Z_({x:0,y:-1})})),l.eO.button2.addEventListener("pointerenter",(function(t){c=l.engine.setMouseStyle(vo.Point,c)})),l.eO.button2.addEventListener("pointerleave",(function(t){c=l.engine.restoreMouseStyle(c)})),l.oO.scrollbar.addEventListener("pointerenter",(function(t){c=l.engine.setMouseStyle(vo.Horizontal,c)})),l.oO.scrollbar.addEventListener("pointerleave",(function(t){c=l.engine.restoreMouseStyle(c)})),l.oO.scrollbar.addEventListener("pointerdown",(function(t){Pi(t);var i=t,n=function(t){var n=t.clientX-i.clientX;i=t,l.sO({x:n,y:0})},r=function(i){i.pointerId===t.pointerId&&(ci.removeEventListener("pointermove",n),ci.removeEventListener("pointerup",r))};ci.addEventListener("pointermove",n),ci.addEventListener("pointerup",r)})),l.oO.scrollbar.addEventListener("wheel",(function(t){Pi(t),l.Z_({x:Math.sign(t.deltaY),y:0})})),l.oO.background.addEventListener("pointerenter",(function(t){c=l.engine.setMouseStyle(vo.Horizontal,c)})),l.oO.background.addEventListener("pointerleave",(function(t){c=l.engine.restoreMouseStyle(c)})),l.oO.background.addEventListener("click",(function(t){Pi(t);var i=l.Ai.Uu(t),n=at({x:i.engineX,y:i.engineY},l.Ai.ai,l.j_);l.Z_({x:n.x<l.oO.scrollbar.Bh().x?-1:1,y:0})})),l.oO.background.addEventListener("wheel",(function(t){Pi(t),l.Z_({x:Math.sign(t.deltaY),y:0})})),l.oO.button1.addEventListener("pointerenter",(function(t){c=l.engine.setMouseStyle(vo.Point,c)})),l.oO.button1.addEventListener("pointerleave",(function(t){c=l.engine.restoreMouseStyle(c)})),l.oO.button1.addEventListener("click",(function(t){Pi(t),l.Z_({x:-1,y:0})})),l.oO.button2.addEventListener("click",(function(t){Pi(t),l.Z_({x:1,y:0})})),l.oO.button2.addEventListener("pointerenter",(function(t){c=l.engine.setMouseStyle(vo.Point,c)})),l.oO.button2.addEventListener("pointerleave",(function(t){c=l.engine.restoreMouseStyle(c)})),l.nA(o,l.uiScale),l.addEventListener("resize",(function(){l.s_=!0,l.Ai.Fn(),l.I_.Z(l.hd.Mt()),l.j_.Z(l.hd.Mt())})),l.aO=l.yn.yd([l.W_]),l}return Sb(i,t),i.prototype.getMinimumSize=function(){return{x:200,y:200}},i.prototype.setAnimationsEnabled=function(t){return this},i.prototype.By=function(){return[]},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.V_.V(),this.R_.V(),this.G_.V(),this.U_.V(),this.Y_.V(),Af(this.I_),Af(this.j_),this.J_.Qd(),this.H_.Qd(),this.Q_.Qd(),this.K_.Qd(),this.q_.Qd(),this.tO.Qd(),this.iO.Qd(),this.nO.Qd(),this.rO.Qd(),this},i.prototype.Y=function(){return t.prototype.Y.call(this),this.I_.Y(),this.j_.Y(),this},i.prototype.W=function(){return t.prototype.W.call(this),this.I_.W(),this.j_.W(),this},i.prototype.setBackgroundEffect=function(t){return this.aO.On(t),this.Ai.Fn(),this},i.prototype.getBackgroundEffect=function(){return this.aO.In()},i.prototype.setUserInteractions=function(t){return this.ae=void 0===t?{scroll:!1}:t,this},i.prototype.getUserInteractions=function(){return hi({scroll:{wheel:{x:!1,y:!0},ctrl:{wheel:{x:!0,y:!1}}}},this.ae)},i.prototype.setGridBackgroundFillStyle=function(t){return this.W_.$r(t),this.Ai.Fn(),this},i.prototype.getGridBackgroundFillStyle=function(){return this.W_.vo()},i.prototype.setCellContent=function(t,i,n,r,e){var o,s;if("number"==typeof n&&void 0!==r&&void 0!==e){for(var a=n,u=r,h=e,f=[],c=t;c<t+a;c+=1)for(var l=i;l<i+u;l+=1){var v=this.__(c,l);v&&f.push(v)}f=cn(f);var d={highlight:0};try{for(var y=Mb(f),A=y.next();!A.done;A=y.next()){var b=A.value,p=this.n_.indexOf(b);p<0||(d=wb(wb({},d),{highlight:b.highlight,textFont:b.textFont,textFillStyle:b.textFillStyle,contentAlignment:b.contentAlignment,borders:b.borders,padding:b.padding,backgroundFillStyle:b.backgroundFillStyle}),this.n_.splice(p,1))}}catch(t){o={error:t}}finally{try{A&&!A.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}var m=wb(wb({},d),{column:t,row:i,columnSpan:a,rowSpan:u,content:h});this.n_.push(m),this.h_=!0,"string"==typeof m.content||"number"==typeof m.content?this.a_=!0:this.u_=!0,this.Ai.Fn()}else this.uO(t,i,n);return this},i.prototype.setColumnContent=function(t,i){var n=i.length;if(0===n)return this;for(var r=0;r<n;r+=1){var e=i[r];this.uO(t,r,e)}return this},i.prototype.setRowContent=function(t,i){var n=i.length;if(0===n)return this;for(var r=0;r<n;r+=1){var e=i[r];this.uO(r,t,e)}return this},i.prototype.setTableContent=function(t){var i=t.length;if(0===i)return this;var n=t[0].length;if(0===n)return this;for(var r=0;r<n;r+=1)for(var e=0;e<i;e+=1){var o=t[e][r];this.uO(r,e,o)}return this},i.prototype.setColumnWidth=function(t,i){var n=this.r_.find((function(i){return i.column===t}));return n||(n={column:t,min:void 0,max:void 0},this.r_.push(n)),"object"==typeof i?(n.min=i.min,n.max=i.max):void 0===i?this.r_.splice(this.r_.indexOf(n),1):(n.min=i,n.max=i),this.c_=!0,this.Ai.Fn(),this},i.prototype.setRowHeight=function(t,i){var n=this.e_.find((function(i){return i.row===t}));return n||(n={row:t,min:void 0,max:void 0},this.e_.push(n)),"object"==typeof i?(n.min=i.min,n.max=i.max):void 0===i?this.e_.splice(this.e_.indexOf(n),1):(n.min=i,n.max=i),this.c_=!0,this.Ai.Fn(),this},i.prototype.setColumnPaddings=function(t,i){var n=this;return"number"==typeof i&&(i=p(i,i,i,i)),this.hO(t,(function(t){return n.fO(t,i)})),this},i.prototype.setRowPaddings=function(t,i){var n=this;return"number"==typeof i&&(i=p(i,i,i,i)),this.cO(t,(function(t){return n.fO(t,i)})),this},i.prototype.setCellPadding=function(t,i,n){var r=this;return"number"==typeof n&&(n=p(n,n,n,n)),this.__(t,i,(function(t){return r.fO(t,n)})),this},i.prototype.setCellsPaddings=function(t){var i=this;return"number"==typeof t&&(t=p(t,t,t,t)),this.N_=wb(wb({},this.N_),t),this.lO((function(t){return i.fO(t,i.N_)})),this},i.prototype.setCellBorders=function(t,i,n){var r=this;return this.__(t,i,(function(t){return r.T_(t,n)})),this},i.prototype.setRowBorders=function(t,i){var n=this;return this.cO(t,(function(t){return n.T_(t,i)})),this},i.prototype.setColumnBorders=function(t,i){var n=this;return this.hO(t,(function(t){return n.T_(t,i)})),this},i.prototype.setCellsBorders=function(t){var i=this;return this.O_=void 0===t?_b:t,this.lO((function(t){return i.T_(t,i.O_)})),this},i.prototype.setCellsBorderStrokeStyle=function(t){return this.P_="function"==typeof t?t(this.P_):t,this.m_=!0,this.Ai.Fn(),this},i.prototype.setColumnTextFillStyle=function(t,i){var n=this;return this.hO(t,(function(t){return n.vO(t,i)})),this},i.prototype.setRowTextFillStyle=function(t,i){var n=this;return this.cO(t,(function(t){return n.vO(t,i)})),this},i.prototype.setCellTextFillStyle=function(t,i,n){var r=this;return this.__(t,i,(function(t){return r.vO(t,n)})),this},i.prototype.setCellsTextFillStyle=function(t){var i=this;return this.L_="function"==typeof t?t(this.L_):t,this.lO((function(t){return i.vO(t,i.L_)})),this},i.prototype.setColumnTextFont=function(t,i){var n=this;return this.hO(t,(function(t){return n.dO(t,i)})),this},i.prototype.setRowTextFont=function(t,i){var n=this;return this.cO(t,(function(t){return n.dO(t,i)})),this},i.prototype.setCellTextFont=function(t,i,n){var r=this;return this.__(t,i,(function(t){return r.dO(t,n)})),this},i.prototype.setCellsTextFont=function(t){var i=this;return this.D_="function"==typeof t?t(this.D_):t,this.lO((function(t){return i.dO(t,i.D_)})),this},i.prototype.setColumnContentAlignment=function(t,i){var n=this;return this.hO(t,(function(t){return n.yO(t,i)})),this},i.prototype.setRowContentAlignment=function(t,i){var n=this;return this.cO(t,(function(t){return n.yO(t,i)})),this},i.prototype.setCellContentAlignment=function(t,i,n){var r=this;return this.__(t,i,(function(t){return r.yO(t,n)})),this},i.prototype.setCellsContentAlignment=function(t){var i=this;return this.z_=t,this.lO((function(t){return i.yO(t,i.z_)})),this},i.prototype.setCellBackgroundFillStyle=function(t,i,n){var r=this;return this.__(t,i,(function(t){return r.AO(t,n)})),this},i.prototype.setColumnBackgroundFillStyle=function(t,i){var n=this;return this.hO(t,(function(t){return n.AO(t,i)})),this},i.prototype.setRowBackgroundFillStyle=function(t,i){var n=this;return this.cO(t,(function(t){return n.AO(t,i)})),this},i.prototype.setCellsBackgroundFillStyle=function(t){var i=this;return this.E_="function"==typeof t?t(this.E_):t,this.lO((function(t){return i.AO(t,i.E_)})),this},i.prototype.setCellHighlight=function(t,i,n){return this.__(t,i,(function(t){t.highlight=vn(n)})),this.p_=!0,this.Ai.Fn(),this},i.prototype.setColumnHighlight=function(t,i){var n=vn(i);return this.hO(t,(function(t){t.highlight=n})),this.p_=!0,this.Ai.Fn(),this},i.prototype.setRowHighlight=function(t,i){var n=vn(i);return this.cO(t,(function(t){t.highlight=n})),this.p_=!0,this.Ai.Fn(),this},i.prototype.removeCell=function(t,i){var n=this;return this.__(t,i,(function(t){return n.n_.splice(n.n_.indexOf(t),1)})),this.f_=!0,this.Ai.Fn(),this},i.prototype.removeRow=function(t){var i=this;return this.cO(t,(function(t){return i.n_.splice(i.n_.indexOf(t),1)})),this.n_.filter((function(i){return i.row>t})).forEach((function(t){t.row-=1})),this.f_=!0,this.Ai.Fn(),this},i.prototype.removeColumn=function(t){var i=this;return this.hO(t,(function(t){return i.n_.splice(i.n_.indexOf(t),1)})),this.n_.filter((function(i){return i.column>t})).forEach((function(t){t.column-=1})),this.f_=!0,this.Ai.Fn(),this},i.prototype.removeCells=function(){return this.n_.splice(0),this.f_=!0,this.Ai.Fn(),this},i.prototype.getColumnMax=function(){return 0===this.n_.length?0:this.n_.reduce((function(t,i){return Math.max(t,i.column+i.columnSpan-1)}),0)},i.prototype.getRowMax=function(){return 0===this.n_.length?0:this.n_.reduce((function(t,i){return Math.max(t,i.row+i.rowSpan-1)}),0)},i.prototype.ie=function(i){var n,r=this;t.prototype.ie.call(this,i),Sf(this.Ve,this.eA,this.uiScale.oi(),this.Ls),t.prototype.iA.call(this);var e=Math.round(this.P_.Yi()),o=e/2,s=this.a_||this.u_||this.h_||this.f_||this.c_||this.l_||this.A_||this.b_||this.m_||this.x_;if(s){this.n_.forEach((function(t){r.w_.add(t.column)})),this.n_.forEach((function(t){r.S_.add(t.row)}));var a=this.J_.Xd(),u=this.bO(o,a);a.finishPlot();var h=this.pO(this.w_.size,u),f=this.mO(this.S_.size,u),c=h.reduce(Vn,0)+e,l=f.reduce(Vn,0)+e,v=new Array(h.length+1).fill(0).map((function(t,i){return h.reduce((function(t,n,r){return t+(r<i?n:0)}),0)})),d=new Array(f.length+1).fill(0).map((function(t,i){return f.reduce((function(t,n,r){return t+(r<i?n:0)}),0)}));if(this.gO){var y=this.gO.columnWidths.every((function(t,i){return t===h[i]})),A=this.gO.rowHeights.every((function(t,i){return t===f[i]}));y&&A&&(s=!1)}this.gO={columnWidths:h,rowHeights:f,dataGridWidth:c,dataGridHeight:l,columnWidthsCumulative:v,rowHeightsCumulative:d,cellsContentSizes:u}}var b=s||this.u_||this.h_||this.f_||this.v_||this.d_||this.y_||this.b_||this.p_||this.m_||this.s_||this.x_;if((b||this.g_)&&this.gO){var p=this.hd.getInnerIntervalPixels(),m=xf(this.Ve,this.eA),g=[this.Ls.left+o,this.Ls.right+o],x=[this.Ls.bottom+o,this.Ls.top+m+o],S={x:p.x-g[0]-g[1],y:p.y-x[0]-x[1]},w=[this.Ls.left,this.Ls.right],M=[this.Ls.bottom,this.Ls.top+m],C={x:Math.round(p.x-w[0]-w[1]),y:Math.round(p.y-M[0]-M[1])},T={x:Math.ceil(o),y:Math.floor(C.y-o)};this.j_.qt(g).$t(x).ti(0,S.x).ii(0,S.y);var k=null!==(n=this.xi.dataGridScrollBarThickness)&&void 0!==n?n:20,_={x:Math.min(S.x,this.gO.dataGridWidth+k)-k,y:Math.min(S.y,this.gO.dataGridHeight+k)-k};0===this.F_.x&&0===this.F_.y||(this.B_.y+=this.gO.dataGridHeight*this.F_.y/_.y,this.B_.x+=this.gO.dataGridWidth*this.F_.x/_.x,this.F_.x=0,this.F_.y=0),this.B_.y=pi(this.B_.y,S.y-this.gO.dataGridHeight-k,0),this.B_.x=pi(this.B_.x,0,this.gO.dataGridWidth-S.x+k);var O=this.B_;this.I_.qt(w).$t(M).ti(O.x,C.x+O.x).ii(O.y,C.y+O.y);var F={x:this.I_.x.bt(),y:this.I_.y.bt()+k,width:this.I_.x.St()+e-k,height:this.I_.y.St()+e-k};this.G_.jm(F),this.R_.jm(F);var I=this.gO,j=[{x:this.I_.x.getInnerStart(),y:this.I_.y.getInnerStart()},{x:this.I_.x.getInnerEnd(),y:this.I_.y.getInnerStart()},{x:this.I_.x.getInnerEnd(),y:this.I_.y.getInnerEnd()},{x:this.I_.x.getInnerStart(),y:this.I_.y.getInnerEnd()}];I.cellsContentSizes.forEach((function(t){var i,n={x:T.x+I.columnWidthsCumulative[t.cell.column],y:T.y-I.rowHeightsCumulative[t.cell.row+t.cell.rowSpan]},r={x:n.x+I.columnWidths[t.cell.column],y:n.y+I.rowHeights[t.cell.row]},e=Pn([n,{x:r.x,y:n.y},r,{x:n.x,y:r.y}],j);null===(i=t.text)||void 0===i||i.setVisible(e)})),b&&this.xO(T,this.gO,e);var B=S.y-k<this.gO.dataGridHeight;this.eO.background.setVisible(B).ne({x:_.x,y:k}).Z({x:k,y:_.y}),this.eO.scrollbar.setVisible(B).ne({x:_.x,y:k+_.y-k+-(_.y-2*k)*(-this.B_.y/this.gO.dataGridHeight)}).Z({x:k,y:-(_.y-2*k)*(_.y/this.gO.dataGridHeight)}),this.eO.button1.setVisible(B).ne({x:_.x,y:k}).Z({x:k,y:k}),this.eO.buttonIcon1.setVisible(B).Kl(.5*k).Xl(0).Vl((new Ga).appendSample({x:_.x+k/2,y:1.5*k}),{x:"x",y:"y"}),this.eO.button2.setVisible(B).ne({x:_.x,y:_.y}).Z({x:k,y:k}),this.eO.buttonIcon2.setVisible(B).Kl(.5*k).Xl(180).Vl((new Ga).appendSample({x:_.x+k/2,y:_.y+k/2}),{x:"x",y:"y"});var D=S.x-k<this.gO.dataGridWidth,L=Math.max(S.y-this.gO.dataGridHeight-k,0);this.oO.background.setVisible(D).ne({x:0,y:L}).Z({x:_.x,y:k}),this.oO.scrollbar.setVisible(D).ne({x:k+(_.x-2*k)*(this.B_.x/this.gO.dataGridWidth),y:L}).Z({x:(_.x-2*k)*(_.x/this.gO.dataGridWidth),y:k}),this.oO.button1.setVisible(D).ne({x:0,y:L}).Z({x:k,y:k}),this.oO.buttonIcon1.setVisible(D).Kl(.5*k).Xl(90).Vl((new Ga).appendSample({x:k/2,y:L+k/2}),{x:"x",y:"y"}),this.oO.button2.setVisible(D).ne({x:_.x-k,y:L}).Z({x:k,y:k}),this.oO.buttonIcon2.setVisible(D).Kl(.5*k).Xl(270).Vl((new Ga).appendSample({x:_.x-k/2,y:L+k/2}),{x:"x",y:"y"}),this.W_.wf([T,{x:T.x+_.x+(B?k:0),y:T.y},{x:T.x+_.x+(B?k:0),y:T.y-_.y},{x:T.x+_.x,y:T.y-_.y},{x:T.x+_.x,y:T.y-_.y-(D?k:0)},{x:T.x,y:T.y-_.y-(D?k:0)}])}this.s_=!1,this.a_=!1,this.u_=!1,this.h_=!1,this.f_=!1,this.c_=!1,this.l_=!1,this.v_=!1,this.d_=!1,this.y_=!1,this.A_=!1,this.b_=!1,this.p_=!1,this.m_=!1,this.g_=!1,this.x_=!1},i.prototype.bO=function(t,i){var n,r,e=this,o=[],s={left:Math.ceil(t),right:Math.ceil(t),top:Math.ceil(t),bottom:Math.ceil(t)};try{for(var a=Mb(this.n_),u=a.next();!u.done;u=a.next()){var h=u.value,f=h.content,c=wb(wb({},this.N_),h.padding),l={x:0,y:0},v=void 0,d=void 0,y=void 0;if("string"==typeof f||"number"==typeof f){var A=String(f);l=(v=i.add()).Wo(A).bo(h.textFont||this.D_).Io().Oc()}if(NA(f)&&(d=f,l={x:200,y:50}),$e(f)){var b=this.Ai.SO(f);b.wO()?l=(y=f).Mt():b.MO((function(){e.x_=!0,e.Ai.Fn()}))}if(v||d||y){c.top=Math.round(c.top),c.left=Math.round(c.left),c.right=Math.round(c.right),c.bottom=Math.round(c.bottom);var p={x:Math.round(l.x+c.left+c.right+s.left+s.right),y:Math.round(l.y+c.top+c.bottom+s.top+s.bottom)};o.push({cell:h,contentSize:p,text:v,sparkChart:d,icon:y,cellPadding:c,cellMargin:s})}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o},i.prototype.xO=function(t,i,n){var r,e,o,s,a=i.cellsContentSizes,u=i.columnWidths,h=i.columnWidthsCumulative,f=i.rowHeights,c=i.rowHeightsCumulative;this.X_.fe(this.P_),this.o_.clear();var l={cellBackground:this.H_.Xd(),cellIconRect:this.Q_.Xd(),lineSet:this.K_.Xd(),line:this.q_.Xd(),pointSet:this.tO.Xd(),rect:this.iO.Xd(),junction:this.nO.Xd(),arc:this.rO.Xd()},v=[],d=function(i){var r=i.cell,e=i.text,o=i.sparkChart,s=i.icon,a=i.cellPadding,d=i.cellMargin,A={column:r.column,row:r.row},b={x:t.x+h[r.column],y:t.y-c[r.row+r.rowSpan]},p=b.x+d.left,m=b.y+d.bottom,g={x:p+a.left,y:m+a.bottom},x={x:new Array(r.columnSpan).fill(0).reduce((function(t,i,n){return t+u[r.column+n]}),0),y:new Array(r.rowSpan).fill(0).reduce((function(t,i,n){return t+f[r.row+n]}),0)},S=x.x-d.left-d.right,w=x.y-d.top-d.bottom,M={x:S-a.left-a.right,y:w-a.top-a.bottom};if(e){var C=kb(g,M,r.contentAlignment||y.z_);e.ne(C[0]).Uh({x:C[1],y:C[2]}).$r(y.CO(r.textFillStyle||y.L_,r.content,y.L_)).Oi(r.highlight).Yo(y.xi.dataGridTextShadow)}var T=y.CO(r.backgroundFillStyle||y.E_,r.content);if(T!==Vr){var k=l.cellBackground.add();k.ne(b).Z(x).$r(T).qr(qt).Oi(r.highlight),y.o_.set(k,A)}var _=r.borders||y.O_;if(_&&Tb(b,x,_,n,v),o){var O=g,F=M;!function(t,i,n,r,e,o,s,a){var u=t.type;if(0!==t.data.length){var h=[r,e];"spark-line"===u&&ZA(t,i,h,o,s,a),"spark-bar"===u&&QA(PA(PA({},t),{winLoss:!1}),i,h,o,s,a),"spark-win-loss"===u&&QA(PA(PA({},t),{winLoss:!0}),i,h,o,s,a),"spark-area"===u&&JA(t,i,h,o,s,a),"spark-pie"===u&&KA(t,i,h,o,s,a)}}(o,l,y.I_,O,F,y.xi,y.Uy,r.highlight)}if(s){var I=s.Mt(),j=kb(g,M,r.contentAlignment||y.z_);l.cellIconRect.add().ne({x:j[0].x+I.x*(-.5-j[1]/2),y:j[0].y+I.y*(-.5-j[2]/2)}).Z(I).$r(new Qt({source:s.Hn,fitMode:_t.Stretch})).qr(qt).Oi(r.highlight)}},y=this;try{for(var A=Mb(a),b=A.next();!b.done;b=A.next())d(b.value)}catch(t){r={error:t}}finally{try{b&&!b.done&&(e=A.return)&&e.call(A)}finally{if(r)throw r.error}}this.X_.zi();try{for(var p=Mb(v),m=p.next();!m.done;m=p.next()){var g=m.value;this.X_.za().Id(g[0],g[1])}}catch(t){o={error:t}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}l.cellBackground.finishPlot(),l.cellIconRect.finishPlot(),l.lineSet.finishPlot(),l.line.finishPlot(),l.pointSet.finishPlot(),l.rect.finishPlot(),l.junction.finishPlot(),l.arc.finishPlot()},i.prototype.pO=function(t,i){var n,r,e=new Array(t).fill(0),o=function(t){var n=i.filter((function(i){return t>=i.cell.column&&t+1<=i.cell.column+i.cell.columnSpan})).reduce((function(t,i){var n=i.contentSize.x/i.cell.columnSpan;return Math.max(t,n)}),0),r=s.r_.find((function(i){return i.column===t})),o=r?pi(n,void 0!==r.min?r.min:jn,void 0!==r.max?r.max:In):n;e[t]=o},s=this;try{for(var a=Mb(this.w_.values()),u=a.next();!u.done;u=a.next())o(u.value)}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return e},i.prototype.mO=function(t,i){var n,r,e=new Array(t).fill(0),o=function(t){var n=i.filter((function(i){return t>=i.cell.row&&t+1<=i.cell.row+i.cell.rowSpan})).reduce((function(t,i){var n=i.contentSize.y/i.cell.rowSpan;return Math.max(t,n)}),0),r=s.e_.find((function(i){return i.row===t})),o=r?pi(n,void 0!==r.min?r.min:jn,void 0!==r.max?r.max:In):n;e[t]=o},s=this;try{for(var a=Mb(this.S_.values()),u=a.next();!u.done;u=a.next())o(u.value)}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return e},i.prototype.CO=function(t,i,n){if(Zr(t)){try{var r=Number(i);return new Ur({color:t.getPalette().getColors(r,void 0)})}catch(t){}return n||Vr}return t},i.prototype.vO=function(t,i){t.textFillStyle="function"==typeof i?i(t.textFillStyle||this.L_):i,this.y_=!0,this.Ai.Fn()},i.prototype.dO=function(t,i){t.textFont="function"==typeof i?i(t.textFont||this.D_):i,this.A_=!0,this.Ai.Fn()},i.prototype.AO=function(t,i){t.backgroundFillStyle="function"==typeof i?i(t.backgroundFillStyle||this.E_):i,this.d_=!0,this.Ai.Fn()},i.prototype.yO=function(t,i){t.contentAlignment=i,this.v_=!0,this.Ai.Fn()},i.prototype.fO=function(t,i){t.padding=wb(wb({},t.padding),i),this.l_=!0,this.Ai.Fn()},i.prototype.uO=function(t,i,n){var r=this.__(t,i);r?r.content=n:(r={column:t,row:i,columnSpan:1,rowSpan:1,content:n,highlight:0},this.n_.push(r),this.h_=!0),"string"==typeof r.content||"number"==typeof r.content?this.a_=!0:this.u_=!0,this.Ai.Fn()},i.prototype.lO=function(t){this.n_.forEach((function(i){return t(i)}))},i.prototype.__=function(t,i,n){var r=this.n_.find((function(n){return t>=n.column&&t+1<=n.column+n.columnSpan&&i>=n.row&&i+1<=n.row+n.rowSpan}));return r&&n&&n(r),r},i.prototype.hO=function(t,i){var n,r,e=this.n_.filter((function(i){return t>=i.column&&t+1<=i.column+i.columnSpan}));try{for(var o=Mb(e),s=o.next();!s.done;s=o.next()){var a=s.value;a&&i(a)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},i.prototype.cO=function(t,i){var n,r,e=this.n_.filter((function(i){return t>=i.row&&t+1<=i.row+i.rowSpan}));try{for(var o=Mb(e),s=o.next();!s.done;s=o.next()){var a=s.value;a&&i(a)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},i.prototype.Z_=function(t){var i,n,r,e,o,s,a=this;if(this.gO){if(0!==t.y){var u=null!==(n=null===(i=this.gO.rowHeightsCumulative.map((function(t,i){return{value:t,index:i}})).reverse().find((function(i){return-a.B_.y+(t.y>0?1:0)>=i.value})))||void 0===i?void 0:i.index)&&void 0!==n?n:0,h=null!==(r=this.gO.rowHeightsCumulative[u+t.y])&&void 0!==r?r:0;this.B_.y=-h,this.g_=!0,this.Ai.Fn()}0!==t.x&&(u=null!==(o=null===(e=this.gO.columnWidthsCumulative.map((function(t,i){return{value:t,index:i}})).reverse().find((function(i){return a.B_.x+(t.x>0?1:0)>=i.value})))||void 0===e?void 0:e.index)&&void 0!==o?o:0,h=null!==(s=this.gO.columnWidthsCumulative[u+t.x])&&void 0!==s?s:0,this.B_.x=h,this.g_=!0,this.Ai.Fn())}},i.prototype.sO=function(t){this.gO&&(this.F_.x+=t.x,this.F_.y+=t.y,this.g_=!0,this.Ai.Fn())},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(gf);!function(t){t.Center="center",t.RightCenter="right-center",t.LeftCenter="left-center",t.RightTop="right-top",t.LeftTop="left-top",t.RightBottom="right-bottom",t.LeftBottom="left-bottom",t.CenterTop="center-top",t.CenterBottom="center-bottom"}(yb||(yb={}));var Tb=function(t,i,n,r,e){var o={x:t.x,y:t.y},s={x:t.x,y:t.y+i.y},a={x:t.x+i.x,y:t.y},u={x:t.x+i.x,y:t.y+i.y};n.top&&e.push([s,u]),n.bottom&&e.push([o,a]),n.left&&e.push([o,s]),n.right&&e.push([a,u])},kb=function(t,i,n){var r=t.x,e=t.x+i.x,o=t.x+i.x/2,s=t.y+i.y,a=t.y,u=t.y+i.y/2;switch(n){case"left-center":return[h(r,u),-1,0];case"right-center":return[h(e,u),1,0];case"center":return[h(o,u),0,0];case"left-bottom":return[h(r,a),-1,-1];case"right-bottom":return[h(e,a),1,-1];case"center-bottom":return[h(o,a),0,-1];case"left-top":return[h(r,s),-1,1];case"right-top":return[h(e,s),1,1];case"center-top":return[h(o,s),0,1]}return dn(0,"Unidentified DataGrid cell content alignment option: ".concat(n))},_b={top:!1,bottom:!1,left:!1,right:!1},Ob=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fb=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,{es:function(){},rs:function(){},us:function(){}},e,n,r,{numeric:n.xAxisNumericTicks.setFallBackToExtremeTicksAutomatically(!1),datetime:n.xAxisDateTimeTicks,time:n.xAxisTimeTicks},{type:"linear"})||this;return a.j=new Nt,a.chart=i,a.yn=s,a.Yn=o,a.Xe=o.ps(i.TO).bo(a.xi.barChartCategoryAxisTitleFont||a.xi.xAxisTitleFont).$r(a.xi.barChartCategoryAxisTitleFillStyle||a.xi.xAxisTitleFillStyle),a.setTitleRotation(a.chart.Wn.getWidth({x:0,y:-90})),a.xo=a.yn.yd([a.Xe]).On(n.effectsText),a.kO=o.ce(i.TO).fe(n.barChartCategoryAxisStrokeStyle||n.xAxisStrokeStyle),a}return Ob(i,t),i.prototype.setThickness=function(t){return"number"==typeof t?(this.gd=t,this.xd=t):"object"==typeof t&&(this.gd=t.min,this.xd=t.max),this.chart.Ai.Fn(),this},i.prototype.getThickness=function(){return{min:this.gd,max:this.xd}},i.prototype.setStrokeStyle=function(t){return this.kO.fe(t),this.chart.Ai.Fn(),this},i.prototype.getStrokeStyle=function(){return this.kO.oa()},i.prototype.ie=function(t){var i=this.getInterval(),n=this.chart.valueAxis.getInterval();this.kO.ve(this.chart.Wn.toPoint(i.start,n.start)).le(this.chart.Wn.toPoint(i.end,n.start)).setVisible(this.ci),this.Xe.ne(this.chart.Wn.toPoint(.5*(i.start+i.end),this.chart.valueAxis.ai.Jt(n.start,-t.wd))).Uh(this.chart.Wn.toPoint(0,1)).setVisible(this.ci),t.ticksInfo.forEach((function(t,i){i.Oo.ne(t.labelPosition).Uh(t.labelAlignment).po(t.labelRotation).Eh(t.labelOffset.x,t.labelOffset.y)}))},i.prototype.Lo=function(t){return{}},i.prototype.No=function(t,i,n,r){return{keyValue:t,tickLevel:i,labelText:n,labelAlignment:{x:0,y:0},labelPosition:{x:0,y:0},labelOffset:{x:0,y:0},labelRotation:0}},i.prototype.Xo=function(t,i){return new ws(i,t,this.Yn,this.chart.TO)},i.prototype.Go=function(t,i,n){var r=t.wd,e=this.chart.Wn.getHeight(this.Xe.Io().Oc());return{Md:e,wv:pi(this.kO.oa().Yi()/2+r+e,void 0!==this.gd?this.gd:0,void 0!==this.xd?this.xd:In),ticksInfo:i,updatedTicks:n}},i.prototype.Ze=function(){return this.chart.uiScale},i.prototype.fs=function(t,i){return i},i.prototype.vs=function(t,i,n){return{start:t,end:i}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i.prototype.setPointerEvents=function(t){return this.j.setPointerEvents(t),this},i.prototype.getPointerEvents=function(){return this.j.getPointerEvents()},i}(Ss),Ib=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jb=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Bb=function(t){function i(i,n,r,e,o,s,a){var u=t.call(this,i,{es:function(){var t;if(i._O){if("positive"===i.OO||"bipolar"===i.OO){if("after-bar"===(null===(t=i.FO)||void 0===t?void 0:t.position)){var n=u.ai.St();return u.ai.Jt(i._O.max,Math.min(u.chart.Wn.getHeight(u.chart.IO())+i.FO.labelMargin,.3*n))}return i._O.max}return i.jO?pi(-1,-1e-6,i._O.max):0}},rs:function(){var t;if(i._O){if("negative"===i.OO||"bipolar"===i.OO){if("after-bar"===(null===(t=i.FO)||void 0===t?void 0:t.position)){var n=u.ai.St();return u.ai.Jt(i._O.min,-Math.min(u.chart.Wn.getHeight(u.chart.IO())+i.FO.labelMargin,.3*n))}return i._O.min}return i.jO?pi(1,1e-6,i._O.min):0}},us:function(){}},e,n,r,{numeric:n.barChartValueAxisTicks||n.yAxisNumericTicks,datetime:n.yAxisDateTimeTicks,time:n.yAxisTimeTicks},a)||this;return u.j=new Nt,u.chart=i,u.yn=s,u.Yn=o,u.Xe=o.ps(i.TO).bo(u.xi.barChartValueAxisTitleFont||u.xi.yAxisTitleFont).$r(u.xi.barChartValueAxisTitleFillStyle||u.xi.yAxisTitleFillStyle),u.setTitleRotation(u.chart.Wn.getHeight({x:0,y:-90})),u.xo=u.yn.yd([u.Xe]).On(n.effectsText),u.kO=o.ce(i.TO).fe(n.barChartValueAxisStrokeStyle||u.xi.yAxisStrokeStyle),u}return Ib(i,t),i.prototype.setThickness=function(t){return"number"==typeof t?(this.gd=t,this.xd=t):"object"==typeof t&&(this.gd=t.min,this.xd=t.max),this.chart.Ai.Fn(),this},i.prototype.getThickness=function(){return{min:this.gd,max:this.xd}},i.prototype.setStrokeStyle=function(t){return this.kO.fe(t),this.chart.Ai.Fn(),this},i.prototype.getStrokeStyle=function(){return this.kO.oa()},i.prototype.setTickStrategy=function(i,n){return t.prototype.so.call(this,i,n)},i.prototype.ie=function(t){var i=this.getInterval();this.kO.ve(this.chart.Wn.toPoint(-.5,this.ao)).le(this.chart.Wn.toPoint(-.5,this.uo)).setVisible(this.ci);var n="logarithmic"===this.eo.type?Math.sqrt(i.start+i.end):.5*(i.start+i.end),r=this.chart.Wn.toPoint(this.chart.categoryAxis.ai.Jt(-.5,t.wd*this.chart.Wn.BO),n),e=this.chart.Wn.toPoint(this.chart.Wn.DO,0);this.Xe.ne(r).Uh(e).setVisible(this.ci),t.ticksInfo.forEach((function(i,n){n.Oo.ne(i.labelPosition).Uh(i.labelAlignment).po(i.labelRotation).Eh(i.labelOffset.x,i.labelOffset.y);var r=n.gs.Ce;r.tickStyle!==qt&&0!==r.tickLength&&t.plotLines.add({positions:[i.positionTicklineStart,i.positionTicklineEnd]},{lineStyle:r.tickStyle}),r.gridStrokeStyle!==qt&&r.gridStrokeLength>0&&t.plotLines.add({positions:[i.positionTicklineStart,i.positionGridlineEnd]},{lineStyle:r.gridStrokeStyle})}))},i.prototype.Lo=function(t){return{}},i.prototype.No=function(t,i,n,r,e){var o=i.Ce,s=this.chart.Wn.toPoint(-.5,t),a=this.chart.TO.Jt(s,this.chart.Wn.toPoint(o.getTickLength()*this.chart.Wn.BO,0)),u=this.chart.TO.Jt(s,this.chart.Wn.toPoint(o.gridStrokeLength*r.oppositeAxisSize*-this.chart.Wn.BO,0));return{keyValue:t,tickLevel:i,labelText:n,labelPosition:this.chart.TO.Jt(a,this.chart.Wn.toPoint(o.getTickPadding()*this.chart.Wn.BO,0)),labelAlignment:this.chart.Wn.toPoint(this.chart.Wn.DO,o.getLabelAlignment()),labelOffset:{x:0,y:0},labelRotation:i.Ce.labelRotation,positionTicklineStart:s,positionTicklineEnd:a,positionGridlineEnd:u}},i.prototype.Xo=function(t,i){return new ws(i,t,this.Yn,this.chart.TO)},i.prototype.Go=function(t,i,n){var r,e,o,s,a=0;try{for(var u=jb(this._e.values()),h=u.next();!h.done;h=u.next()){var f=h.value;try{for(var c=(o=void 0,jb(f.values())),l=c.next();!l.done;l=c.next()){var v=l.value,d=v.gs.Ce,y=this.chart.Wn.getWidth(v.Oo.Io().Oc()),A=d.getTickLength()+d.getTickPadding()+y;a=Math.max(a,A)}}catch(t){o={error:t}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}}}catch(t){r={error:t}}finally{try{h&&!h.done&&(e=u.return)&&e.call(u)}finally{if(r)throw r.error}}var b=a+this.kO.oa().Yi()/2,p=this.chart.Wn.getWidth(this.Xe.Io().Oc());return{wd:b,Md:p,wv:pi(b+p,void 0!==this.gd?this.gd:0,void 0!==this.xd?this.xd:In),ticksInfo:i,updatedTicks:n}},i.prototype.Ze=function(){return this.chart.TO},i.prototype.fs=function(t,i){return"linear"===this.eo.type?se(t,i,this.ai):ae(t,i,this.ai)},i.prototype.vs=function(t,i,n){return{start:t,end:i}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i.prototype.setPointerEvents=function(t){return this.j.setPointerEvents(t),this},i.prototype.getPointerEvents=function(){return this.j.getPointerEvents()},i}(Ss),Db=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lb=function(t){function i(i,n,r,e,o,s,a){var u=t.call(this,i,n,r,e)||this;return u.mi=xn(),u.S=0,u.LO=!1,u.j=new Nt,u.chart=i,u.chart=i,u.category=o,u.subCategory=s,u.Bn=o,u.Qr=an(r.barChartBarFillStyle||r.rectangleSeriesFillStyle,a),u.Jr=an(r.barChartBarStrokeStyle||r.rectangleSeriesStrokeStyle,a),u.addEventListener("visiblechange",(function(){return u.chart.EO()})),u.addEventListener("dispose",(function(){u.chart.EO(),u.chart.PO.delete(u.category),u.chart.zO.delete(u)})),u}return Db(i,t),i.prototype.Ji=function(t,i,n){var r=this.chart.Ai.Uu(i);return{cursorPosition:{pointMarker:{x:r.engineX,y:r.engineY},pointMarkerScale:this.chart.Ai.ai,resultTable:{x:r.engineX,y:r.engineY},resultTableScale:this.chart.Ai.ai},category:this.category,subCategory:this.subCategory,bar:this,value:this.getValue()}},i.prototype.setValue=function(t){return this.LO=!0,this.S=t,this.chart.EO(),this.chart.Ai.Fn(),this.chart.PO.delete(this.category),this.chart.zO.delete(this),this},i.prototype.getValue=function(){return this.S},Object.defineProperty(i.prototype,"value",{get:function(){return this.S},enumerable:!1,configurable:!0}),i.prototype.setFillStyle=function(t){return this.Qr="function"==typeof t?t(this.Qr):t,this.chart.EO(),this},i.prototype.getFillStyle=function(){return this.Qr},i.prototype.setStrokeStyle=function(t){return this.Jr="function"==typeof t?t(this.Jr):t,this.chart.EO(),this},i.prototype.getStrokeStyle=function(){return this.Jr},i.prototype.OA=function(){return this.vA},i.prototype.setEffect=function(t){return this.chart.setBarsEffect(t),this},i.prototype.re=function(){return{fill:this.Qr,lutValue:this.value}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(Vl),Eb=function(t){return!!(t&&"object"==typeof t&&"iCategory"in t&&"number"==typeof t.iCategory&&"value"in t&&"number"==typeof t.value)},Pb=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zb=function(){return zb=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},zb.apply(this,arguments)},Nb=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Vb=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Rb=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},Gb=function(t){function i(i,n,r,e,o,s,a){var u,h,f,c=this;(c=t.call(this,i,n,r,n.rA("barChart bg",0),e,n.Ai.xi.barChartBackgroundFillStyle||n.Ai.xi.chartXYBackgroundFillStyle,n.Ai.xi.barChartBackgroundStrokeStyle||n.Ai.xi.chartXYBackgroundStrokeStyle,n.Ai.xi.barChartTitleFont||n.Ai.xi.chartXYTitleFont,n.Ai.xi.barChartTitleFillStyle||n.Ai.xi.chartXYTitleFillStyle,n.Ai.xi.barChartTitleShadow||n.Ai.xi.chartXYTitleShadow,s,null===(u=null==a?void 0:a.legend)||void 0===u?void 0:u.customLegend)||this).coordsBars="barChart",c.NO=Yb.Descending,c.VO=c.xi.barChartCategoryLabels,c.FO=c.xi.barChartValueLabelsAfterBars,c.RO=!0,c.hS=mn(),c.PO=new Map,c.zO=new Map,c.OO="positive",c.GO="columns",c.UO=!0,c.YO=new Map,c.WO={speed:1},c.mT={speed:1},c.XO=.08,c.HO=[],c.ZO=new Map,c.QO=!1,c.JO={left:2,right:2,top:2,bottom:2},c.KO=[],c.su=function(t){c.TO.Z(t.engineWidth,t.engineHeight),c.QO=!0},c.j=new Nt,c.Ai.pu(zs.ya),c.qO=c.xi.barChartCornerRadius,c.Wn="horizontal"===(null==a?void 0:a.type)?Xb:Wb,c.Ve.Wo("Bar Chart"),c.$O=n.Rm("barChart plotting 1",0),c.tF=n.Rm("barChart plotting 2",1),c.jO="logarithmic"===(null===(h=null==a?void 0:a.valueAxis)||void 0===h?void 0:h.type),c.jO?"horizontal"===c.Wn.iF?(f=r.d1({scale1DConstructor:q,dimension:"y"}),c.TO=(new rt).Kt(r.d1({scale1DConstructor:mr,dimension:"x"}),f)):(f=r.d1({scale1DConstructor:q,dimension:"x"}),c.TO=(new rt).Kt(f,r.d1({scale1DConstructor:mr,dimension:"y"}))):(c.TO=r.d2({scaleXYConstructor:nt}),f=c.Wn.getWidth(c.TO)),c.nF=c.yn.yd(),c.cS=new Lf((function(){return c.hS.Qi(c.$O.Ml(c.TO).Zu(0))}),(function(t,i,n){return t.$r(n.fillStyle).qr(n.strokeStyle),i.map((function(i){var n=i.existingMember||t.za();return n._l(i.x1,i.y1,i.x2,i.y2).kl(i.rounding),c.hS.Ki(n,i.bar),i.bar.Cn([n]),n}))}),(function(){c.hS.zi()}),(function(t){c.nF.wn(t)})),c.kb=c.Ry.te(c.TO).$r(c.xi.barChartSeriesBackgroundFillStyle||Vr).qr(qt),c._b=c.Ry.te(c.TO).$r(Vr).qr(c.xi.barChartSeriesBackgroundStrokeStyle||qt).setPointerEvents(!1),t.prototype.Tb.call(c,c.kb,c._b),c.categoryAxis=new Fb(c,c.xi,!1!==(null==a?void 0:a.animationsEnabled),f,c.tF,c.yn),c.categoryAxis.setInterval(c.Wn.getWidth({x:{start:-.5,end:.5},y:{start:.5,end:-.5}}));var l=oe(null==a?void 0:a.valueAxis);c.valueAxis=new Bb(c,c.xi,!1!==(null==a?void 0:a.animationsEnabled),c.Wn.getHeight(c.TO),c.tF,c.yn,l.type),c.rF=new Jh((function(){return c.tF.ps(c.TO).bs(gn).As(gn).Zu(1)})),c.eF=new Lf((function(){return c.Ry.Od(c.TO).setPointerEvents(!1)}),(function(t,i,n){return t.fe(n.lineStyle),i.map((function(i){var n=i.positions;return(i.existingMember||t.za()).Id(n[0],n[1])}))}));var v=n.Zm(),d=gi(a?a.cursorBuilder:void 0,rl);return c.Qm=Up(c,v,d.pm(v,c.uiScale,c.uiScale,Ai,c.xi),c,"show-pointed",Hb,(function(){return 0})),c.addEventListener("resize",c.su),c.nA(o,c.TO),c.setAnimationsEnabled(!1!==(null==a?void 0:a.animationsEnabled)),void 0!==(null==a?void 0:a.legend)&&c.legend.setOptions(a.legend),c}return Pb(i,t),i.prototype.getSeries=function(){return this.Sb},i.prototype.setCornerRadius=function(t){return this.qO=t,this.RO=!0,this.Ai.Fn(),this},i.prototype.getCornerRadius=function(){return this.qO},i.prototype.setCursor=function(t){return this.Qm.setCursor(t),this},i.prototype.getCursor=function(){return this.Qm.getCursor()},i.prototype.setCursorMode=function(t){return this.Qm.setCursorMode(t),this},i.prototype.getCursorMode=function(){return this.Qm.getCursorMode()},i.prototype.setCustomCursor=function(t){return this.Qm.setCustomCursor(t),this},i.prototype.setCursorDynamicBehavior=function(t){return this.Qm.eg(t),this},i.prototype.setCursorFormatting=function(t){return this.Qm.setCursorFormatting(t),this},i.prototype.getCursorFormatting=function(){return this.Qm.getCursorFormatting()},i.prototype.addCursor=function(t){void 0===t&&(t=rl);var i=this.Xy(),n=t.pm(i,this.uiScale,this.uiScale,this.Gy(i),this.xi);return this.tA(n),n},i.prototype.setBarsMargin=function(t){return this.XO=pi(t,0,.49),this.RO=!0,this.Ai.Fn(),this},i.prototype.getBarsMargin=function(){return this.XO},i.prototype.setBarsEffect=function(t){return this.nF.On(t),this.Ai.Fn(),this},i.prototype.getBarsEffect=function(){return this.nF.In()},i.prototype.setData=function(t){var i,n,r;if(Array.isArray(t))r=[],t.forEach((function(t,i){"string"==typeof t?r.push({category:t}):"number"==typeof t?r.push({category:"Category ".concat(i+1),value:t}):"object"==typeof t&&r.push(t)}));else{r=[];var e=Object.keys(t);try{for(var o=Nb(e),s=o.next();!s.done;s=o.next()){var a=s.value,u=t[a];r.push({category:a,value:"number"==typeof u?u:void 0})}}catch(t){i={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}}return this.oF("columns",r),this},i.prototype.setDataStacked=function(t,i){var n=[];return i.forEach((function(i){var r=i.subCategory;i.values.forEach((function(i,e){var o=t[e];n.push({category:o,subCategory:r,value:i})}))})),this.oF("stacks",n),this},i.prototype.setDataGrouped=function(t,i){var n=[];return i.forEach((function(i){var r=i.subCategory;i.values.forEach((function(i,e){var o=t[e];n.push({category:o,subCategory:r,value:i})}))})),this.oF("groups",n),this},i.prototype.oF=function(t,i){var n,r,e=this;this.Sb.length>0&&this.Ai.pu(zs._a),this.GO=t,this.KO=i.map((function(t){return{category:t.category,subCategory:t.subCategory}})),this.sF(i);var o=cn(i.map((function(t){return t.category}))),s=o.length,a=cn(i.map((function(t){return t.subCategory}))).filter((function(t){return void 0!==t}));if(i.forEach((function(i){var n=e.Sb.find((function(t){return t.category===i.category&&t.subCategory===i.subCategory}));if(!n){var r=o.indexOf(i.category),s=void 0!==i.subCategory&&a.includes(i.subCategory)?a.indexOf(i.subCategory):void 0;n=new Lb(e,e.Mb,e.xi,e.Ai.yn,i.category,i.subCategory,gi(s,r)),e.Ob(n,"groups"===t||"stacks"===t?{legend:null}:void 0),e.YO.set(n,{category:r,valueStart:e.jO?1e-6:0,valueEnd:void 0!==i.value?i.value:0})}void 0!==i.value&&n.setValue(i.value)})),this.Sb.slice().forEach((function(t){void 0===i.find((function(i){return i.category===t.category&&i.subCategory===t.subCategory}))&&(t.dispose(),e.YO.delete(t))})),this.categoryAxis.setInterval(this.Wn.getWidth({x:{start:-.5,end:Math.max(s,1)-.5},y:{start:Math.max(s,1)-.5,end:-.5}})),this._O=0===this.Sb.length?void 0:"stacks"!==t?this.Sb.reduce((function(t,i){return{min:Math.min(t.min,i.getValue()),max:Math.max(t.max,i.getValue())}}),{min:In,max:jn}):{min:0,max:o.reduce((function(t,n){return Math.max(t,i.reduce((function(t,i){return i.category!==n?t:void 0!==i.value?t+i.value:t}),0))}),0)},this._O&&(this.OO=this._O.min>=0?"positive":this._O.max<=0?"negative":"bipolar",("bipolar"===this.OO||"negative"===this.OO)&&this.jO))throw new Error("LightningChart JS BarChart bipolar/negative data + logarithmic value axis combination not supported.");if(this.aF&&this.aF(),"groups"===t||"stacks"===t){var u=a.map((function(t){return function(t){var i=!1,n=new Array;return t.forEach((function(r){var e=function(n){i||(i=!0,t.forEach((function(t){return r!==t?t.setHighlight(n.highlight):void 0})),i=!1)};r.addEventListener("highlightchange",e),n.push((function(){return r.removeEventListener("highlightchange",e)}))})),t.forEach((function(i){var r=function(){var n=t.indexOf(i);n>=0&&t.splice(n,1)};i.addEventListener("dispose",r),n.push((function(){return i.removeEventListener("dispose",r)}))})),function(){n.forEach((function(t){return t()}))}}(e.Sb.filter((function(i){return i.subCategory===t})))}));this.aF=function(){return u.forEach((function(t){return t()}))}}var h=new Set(a),f=function(t){h.has(t)||(c.Dn.forEach((function(i){if(i.Iy()){var n=i.getEntries(),r=e.ZO.get(t),o=n.find((function(t){return t.component===r}));r&&o&&i.remove(r)}})),c.ZO.delete(t))},c=this;try{for(var l=Nb(this.ZO.keys()),v=l.next();!v.done;v=l.next())f(v.value)}catch(t){n={error:t}}finally{try{v&&!v.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}this.Dn.forEach((function(t){t.Iy()&&t.add(e)})),this.sF(this.Sb),this.PO.clear(),this.zO.clear(),this.RO=!0,this.Ai.Fn()},i.prototype.setCategoryLabels=function(t){var i="function"==typeof t?this.VO?t(this.VO):this.VO:t;return this.VO=i?zb(zb({},this.xi.barChartCategoryLabels),i):void 0,this.PO.clear(),this.Ai.Fn(),this.QO=!0,this},i.prototype.getCategoryLabels=function(){return this.VO},i.prototype.setValueLabels=function(t){var i,n="function"==typeof t?this.FO?t(this.FO):this.FO:t,r=(null==n?void 0:n.position)||(null===(i=this.FO)||void 0===i?void 0:i.position);return n&&r?"after-bar"===r?this.FO=zb(zb({},this.xi.barChartValueLabelsAfterBars),n):"inside-bar"!==r&&"inside-bar-start"!==r&&"inside-bar-centered"!==r&&"inside-bar-end"!==r||(this.FO=zb(zb({},this.xi.barChartValueLabelsInsideBars),n)):this.FO=void 0,this.zO.clear(),this.Ai.Fn(),this.QO=!0,this},i.prototype.getValueLabels=function(){return this.FO},i.prototype.setLabelFittingEnabled=function(t){return this.UO=t,this.Ai.Fn(),this},i.prototype.getLabelFittingEnabled=function(){return this.UO},i.prototype.setLabelFittingMargins=function(t){return this.JO="object"==typeof t?t:"number"==typeof t?{left:t,right:t,top:t,bottom:t}:gn,this.QO=!0,this.Ai.Fn(),this},i.prototype.getLabelFittingMargins=function(){return this.JO},i.prototype.getBar=function(t,i){if(("groups"===this.GO||"stacks"===this.GO)&&void 0===i)throw new Error("LightningChart JS BarChart.getBar() | `subCategory` parameter is required for grouped and stacked bar charts!");var n=this.Sb.find((function(n){return n.category===t&&(void 0===i||i===n.subCategory)}));if(!n)throw new Error('BarChart.getBar() no such bar: "'.concat(t,'" ').concat(i?'"'.concat(i,'"'):""));return n},i.prototype.getBars=function(){return this.Sb},i.prototype.setSorting=function(t){var i;this.NO=t;var n=this.Sb.slice();return this.Sb.length=0,(i=this.Sb).push.apply(i,Rb([],Vb(ln(this.KO.map((function(t){return n.find((function(i){return i.category===t.category&&(void 0===t.subCategory||t.subCategory===i.subCategory)}))})))),!1)),this.sF(this.Sb),this.Ai.Fn(),this.RO=!0,this},i.prototype.getSorting=function(){return this.NO},i.prototype.setAnimationCategoryPosition=function(t,i){return void 0===i&&(i=1),this.WO=t?{speed:i}:void 0,this.Ai.Fn(),this},i.prototype.setAnimationValues=function(t,i){return void 0===i&&(i=1),this.mT=t?{speed:i}:void 0,this.Ai.Fn(),this},i.prototype.translateCoordinate=function(i,n,r){if(r&&$r(i)&&qr(n))return t.prototype.translateCoordinate.call(this,i,n,r);var e,o=n;if(Kr(i))e=this.Ai.Uu(i);else if($r(i))e={engineX:(s=at(i,this.hd,this.Ai.ai)).x,engineY:s.y};else{if(!Eb(i))throw new Error("LightningChart JS BarChart.translateCoordinate unexpected error. Input coordinate system not recognized.");var s;e={engineX:(s=at(this.Wn.toPoint(i.iCategory,i.value),this.TO,this.Ai.ai)).x,engineY:s.y}}if(Jr(o))return this.Ai.Yu(e);if("barChart"===o){var a=at({x:e.engineX,y:e.engineY},this.Ai.ai,this.TO);return{iCategory:this.Wn.getWidth(a),value:this.Wn.getHeight(a)}}if(qr(o))return at({x:e.engineX,y:e.engineY},this.Ai.ai,this.hd);throw new Error("LightningChart JS BarChart.translateCoordinate unexpected error. Target coordinate system not recognized.")},i.prototype.By=function(){var t=this;if("columns"===this.GO)return this.Sb;var i=cn(ln(this.Sb.map((function(t){return t.subCategory}))));return ln(i.map((function(i){if(t.ZO.has(i))return t.ZO.get(i);var n=t.Sb.filter((function(t){return t.subCategory===i})),r=n[0];if(r){var e={Rn:function(){},getVisible:function(){return r.getVisible()},setVisible:function(t){n.forEach((function(i){return i.setVisible(t)}))},getName:function(){return i},re:function(){return r.re()}};return t.ZO.set(i,e),e}})))},i.prototype.ie=function(i){var n,r,e,o=this;t.prototype.ie.call(this,i);var s,a=this.rF.Xd(),u=this.eF.Xd(),h=this.Sb.filter((function(t){return t.getVisible()&&t.LO})),f=cn(h.map((function(t){return t.category}))),c=cn(ln(h.map((function(t){return t.subCategory})))),l=5e-4*i*((null===(n=this.WO)||void 0===n?void 0:n.speed)||0),v=.003*i*((null===(r=this.WO)||void 0===r?void 0:r.speed)||0),d=this.valueAxis.ai,y=d instanceof q?function(t,i){var n;return se(t,i,d,(null===(n=o.mT)||void 0===n?void 0:n.speed)||0)}:function(t,i){var n;return ae(t,i,d,(null===(n=o.mT)||void 0===n?void 0:n.speed)||0)},A=null!==(e="positive"===this.OO&&this._O?Math.min(this._O.min,this.valueAxis.getInterval().start,this.valueAxis.getInterval().end)-(this._O.max-this._O.min):"negative"===this.OO&&this._O?Math.max(this._O.max,this.valueAxis.getInterval().start,this.valueAxis.getInterval().end)+(this._O.max-this._O.min):void 0)&&void 0!==e?e:0;"columns"===this.GO?s=h.map((function(t){return{bar:t,position:{category:f.indexOf(t.category),valueStart:o.jO?1e-6:A,valueEnd:t.value}}})):"groups"===this.GO?s=h.map((function(t){var i=f.indexOf(t.category),n=c.indexOf(t.subCategory),r=1/(c.length+2*(c.length+1)*o.XO),e=o.XO*r;return{bar:t,position:{category:i+(n-(c.length-1)/2)*(r+e),valueStart:o.jO?1e-6:A,valueEnd:t.value}}})):(s=[],f.forEach((function(t){var i=h.filter((function(i){return i.category===t})),n=o.jO?1e-6:0;i.forEach((function(i){s.push({bar:i,position:{category:f.indexOf(t),valueStart:n,valueEnd:n+i.value}}),n+=i.value}))}))),s.forEach((function(t){var i,n,r=t.bar,e=t.position,s=o.YO.get(r);void 0===s&&(s=e);var a=e.valueStart;if(o.WO&&s.category!==e.category){var u=Math.sign(e.category-s.category);i=s.category+l*u+v*(e.category-s.category),u!==Math.sign(e.category-i)&&(i=e.category)}else i=e.category;o.mT&&s.valueEnd!==e.valueEnd?(u=Math.sign(e.valueEnd-s.valueEnd),n=y(s.valueEnd,e.valueEnd),u!==Math.sign(e.valueEnd-n)&&(n=e.valueEnd)):n=e.valueEnd,o.YO.set(r,{category:i,valueStart:a,valueEnd:n}),i===e.category&&n===e.valueEnd||o.Ai.Fn(!0),i===s.category&&n===s.valueEnd||(o.RO=!0)}));var b=Rb([],Vb(this.Sb),!1);(this.HO.length!==b.length||this.HO.some((function(t,i){return t!==b[i]})))&&(this.Dn.forEach((function(t){return t.jy(o.Sb)})),this.HO=b);var p=xf(this.Ve,this.eA),m=this.Dn.reduce((function(t,i){var n=i.Io(p,o.Ls);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0});Sf(this.Ve,this.eA,this.uiScale.oi(),this.Ls,m);var g=h.length>0;this.categoryAxis.hs(),this.valueAxis.hs();var x=g?this.uF(f,c,h,a,u):{labelMarginBeforeCategoryAxisPixels:0,labels:[]},S=x.labelMarginBeforeCategoryAxisPixels,w=x.labels,M=this.categoryAxis.Io({physicalAxisSize:this.categoryAxis.ai.St(),wd:S}),C=this.valueAxis.Io({plotLines:u,physicalAxisSize:this.valueAxis.ai.St(),oppositeAxisSize:this.Wn.getWidth(this.TO).St()});this.TO.$t([this.ot.bottom+this.Ls.bottom+m.bottom+("vertical"===this.Wn.iF?M.wv:0),this.ot.top+this.Ls.top+p+m.top+("horizontal"===this.Wn.iF?C.wv:0)]),this.TO.qt([this.ot.left+this.Ls.left+m.left+this.Wn.getHeight({x:M.wv,y:C.wv}),this.ot.right+this.Ls.right+m.right]),this.$O.jm({x:this.TO.x.bt(),y:this.TO.y.bt(),width:this.TO.x.St(),height:this.TO.y.St()}),this.Py&&this.Py();var T={x:Math.min(this.TO.x.getInnerStart(),this.TO.x.getInnerEnd()),y:Math.min(this.TO.y.getInnerStart(),this.TO.y.getInnerEnd())},k=Math.max(this.TO.x.getInnerStart(),this.TO.x.getInnerEnd()),_=Math.max(this.TO.y.getInnerStart(),this.TO.y.getInnerEnd()),O={x:k-T.x,y:_-T.y};if(this.kb.ne(T),this.kb.Z(O),this._b.ne(T),this._b.Z(O),this.categoryAxis.ie(M),this.valueAxis.ie(C),t.prototype.iA.call(this),this.Qm.ie(!1,this.Sb,void 0),(this.RO||this.QO)&&this.UO)for(var F=w.map((function(t){var i=t.setVisible(!0).Io().Tc();if(0!==o.JO.bottom||0!==o.JO.left||0!==o.JO.right||0!==o.JO.top){var n=Math.sign(o.TO.x.G-o.TO.x.R),r=Math.sign(o.TO.y.G-o.TO.y.R),e=r>0?i.min.y:i.max.y,s=r>0?i.max.y:i.min.y,a=n>0?i.min.x:i.max.x,u=n>0?i.max.x:i.min.x,h=t.ai.Jt({x:a,y:e},{x:-o.JO.left,y:-o.JO.bottom}),f=t.ai.Jt({x:u,y:s},{x:o.JO.right,y:o.JO.top});return{min:{x:Math.min(h.x,f.x),y:Math.min(h.y,f.y)},max:{x:Math.max(h.x,f.x),y:Math.max(h.y,f.y)}}}return i})),I=function(t){if(!w[t].getVisible())return"continue";var i=F[t],n=void 0;do{(n=w.findIndex((function(n,r){return r!==t&&w[r].getVisible()&&En(i,F[r])})))>=0&&w[n].setVisible(!1)}while(n>=0)},j=0;j<w.length;j+=1)I(j);if(this.RO){var B=this.cS.Xd(),D="groups"===this.GO?1/(c.length+2*(c.length+1)*this.XO):1-2*this.XO;h.forEach((function(t){var i=o.YO.get(t);if(void 0!==i){var n,r=i.category-.5*D,e=i.category+.5*D,s=o.Wn.toPoint(r,i.valueStart),a=o.Wn.toPoint(e,i.valueEnd);o.qO&&(n={extent:o.qO,c_x1_y2:"vertical"===o.Wn.iF,c_x2_y2:"vertical"===o.Wn.iF||"horizontal"===o.Wn.iF,c_x1_y1:!1,c_x2_y1:"horizontal"===o.Wn.iF},"stacks"===o.GO&&t.subCategory&&c.indexOf(t.subCategory)!==c.length-1&&(n=void 0)),B.add({mi:t.mi,bar:t,x1:s.x,y1:s.y,x2:a.x,y2:a.y,rounding:n},{fillStyle:t.Qr,strokeStyle:t.Jr})}})),B.finishPlot()}a.finishPlot(),u.finishPlot(),this.RO=!1,this.QO=!1,this.Dn.forEach((function(t){return t.ie(p,o.Ls)}))},i.prototype.setAnimationsEnabled=function(i){return t.prototype.setAnimationsEnabled.call(this,i),this.setAnimationCategoryPosition(i),this.setAnimationValues(i),this.valueAxis.setAnimationsEnabled(i),this.categoryAxis.setAnimationsEnabled(i),this},i.prototype.dispose=function(){return this.tF.V(),this.$O.V(),this.Qm.V(),t.prototype.dispose.call(this)},i.prototype.sF=function(t){var i=this.NO;i&&t.sort((function(n,r){return i({category:n.category,value:t.reduce((function(t,i){return t+(i.category===n.category&&i.value||0)}),0)},{category:r.category,value:t.reduce((function(t,i){return t+(i.category===r.category&&i.value||0)}),0)})}))},i.prototype.uF=function(t,i,n,r,e){var o,s,a,u=this,h=0,f=this.VO,c=this.FO,l=this.valueAxis.getInterval(),v=[];if(f&&f.labelFillStyle!==Vr){var d=f.tickLength+f.labelMargin,y=this.Wn.toPoint(f.labelAlignment,1),A={vv:t.map((function(t,i){var r=n.reduce((function(i,n){return n.category!==t?i:i+n.value}),0),e=f.formatter(t,r);if(e){var o=i;if(void 0!==o)return{text:e,position:u.Wn.toPoint(o,u.valueAxis.ai.Jt(l.start,-d)),alignment:y,rotation:f.labelRotation,sizePixels:u.hF(t,r)}}})),Hs:f.labelFont,ai:this.TO};A.vv.forEach((function(t){t&&v.push(r.add().Wo(t.text).ne(t.position).Uh(t.alignment).po(t.rotation).$r(f.labelFillStyle).bo(f.labelFont).Yo(f.labelShadow))})),f.tickStyle!==qt&&0!==f.tickLength&&A.vv.forEach((function(t){if(t){var i=u.Wn.getWidth(t.position);e.add({positions:[u.Wn.toPoint(i,u.valueAxis.ai.getInnerStart()),u.Wn.toPoint(i,u.valueAxis.ai.Jt(l.start,-f.tickLength))]},{lineStyle:f.tickStyle})}})),h=A.vv.reduce((function(t,i){return i?Math.max(t,u.Wn.getHeight(i.sizePixels)):t}),0)+f.tickLength+f.labelMargin}if(c&&c.labelFillStyle!==Vr){var b={vv:[],Hs:c.labelFont,ai:this.TO};"stacks"===this.GO&&c.displayStackedSum&&(o=b.vv).push.apply(o,Rb([],Vb(t.map((function(t,r){var e=n.reduce((function(i,n){return i+(n.category===t?n.value:0)}),0),o=c.formatter({chart:u,bar:void 0,category:t,value:e,subCategory:void 0});if(o){var s=n.filter((function(i){return i.category===t})).sort((function(t,n){var r,e;return i.indexOf(null!==(r=t.subCategory)&&void 0!==r?r:"")-i.indexOf(null!==(e=n.subCategory)&&void 0!==e?e:"")})),a=s[s.length-1],h=u.YO.get(a);if(void 0!==h)return{text:o,position:u.Wn.toPoint(h.category,u.valueAxis.ai.Jt(h.valueEnd,c.labelMargin*Math.sign(h.valueEnd))),alignment:u.Wn.toPoint(0,-1*Math.sign(h.valueEnd)),rotation:c.labelRotation,sizePixels:u.Ai.Je.Me(o,c.labelFont,c.labelRotation)}}}))),!1)),"after-bar"!==c.position||"stacks"===this.GO&&!c.displayStackedIndividuals?"inside-bar"!==c.position&&"inside-bar-start"!==c.position&&"inside-bar-centered"!==c.position&&"inside-bar-end"!==c.position||(a=b.vv).push.apply(a,Rb([],Vb(n.map((function(t,i){var n=c.formatter({chart:u,bar:t,category:t.category,value:t.value,subCategory:t.subCategory});if(n){var r=u.YO.get(t);if(void 0!==r){var e="bipolar"===u.OO?Math.sign(r.valueEnd):"negative"===u.OO?-1:1,o=u.Wn.toPoint(0,"inside-bar"===c.position||"inside-bar-end"===c.position?1*e:"inside-bar-centered"===c.position?0:-1*e);return{text:n,position:u.Wn.toPoint(r.category,"inside-bar"===c.position||"inside-bar-end"===c.position?u.valueAxis.ai.Jt(r.valueEnd,-c.labelMargin*e):"inside-bar-centered"===c.position?(r.valueStart+r.valueEnd)/2:u.valueAxis.ai.Jt(r.valueStart,c.labelMargin*e)),alignment:o,rotation:c.labelRotation,sizePixels:u.fF(t)}}}}))),!1)):(s=b.vv).push.apply(s,Rb([],Vb(n.map((function(t,i){var n=c.formatter({chart:u,bar:t,category:t.category,value:t.value,subCategory:t.subCategory});if(n){var r=u.YO.get(t);if(void 0!==r)return{text:n,position:u.Wn.toPoint(r.category,u.valueAxis.ai.Jt(r.valueEnd,c.labelMargin*Math.sign(r.valueEnd))),alignment:u.Wn.toPoint(c.labelAlignment,-1*Math.sign(r.valueEnd)),rotation:c.labelRotation,sizePixels:u.fF(t)}}}))),!1)),b&&b.vv.forEach((function(t){t&&v.push(r.add().Wo(t.text).ne(t.position).Uh(t.alignment).po(t.rotation).$r(c.labelFillStyle).bo(c.labelFont).Yo(c.labelShadow).setPointerEvents(!1))}))}return{labelMarginBeforeCategoryAxisPixels:h,labels:v}},i.prototype.hF=function(t,i){if(!this.VO||this.VO.labelFillStyle===Vr)return{x:0,y:0};var n=this.PO.get(t);if(n)return n;var r=this.VO.formatter(t,i),e=this.Ai.Je.Me(r,this.VO.labelFont,this.VO.labelRotation);return e.isEstimate?this.Ai.Fn(!0):this.PO.set(t,e),e},i.prototype.fF=function(t){if(!this.FO||this.FO.labelFillStyle===Vr)return{x:0,y:0};var i=this.zO.get(t);if(i)return i;var n=this.Ai.Je.Me(this.FO.formatter({chart:this,bar:t,category:t.category,value:t.value,subCategory:t.subCategory}),this.FO.labelFont,this.FO.labelRotation);return n.isEstimate?this.Ai.Fn(!0):this.zO.set(t,n),n},i.prototype.IO=function(){var t=this;return this.Sb.reduce((function(i,n){var r=t.fF(n);return{x:Math.max(i.x,r.x),y:Math.max(i.y,r.y)}}),{x:0,y:0})},i.prototype.EO=function(){this.RO=!0,this.Ai.Fn()},i.prototype.Y=function(){return t.prototype.Y.call(this),this.TO.Y(),this},i.prototype.W=function(){return t.prototype.W.call(this),this.TO.W(),this},i.prototype.getMinimumSize=function(){return{x:200,y:200}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(uc),Ub={Horizontal:"horizontal",Vertical:"vertical"},Yb={Disabled:void 0,None:void 0,Ascending:function(t,i){return t.value-i.value},Descending:function(t,i){return i.value-t.value},Alphabetical:function(t,i){return t.category.localeCompare(i.category)}},Wb=zb(zb({},oh),{iF:"vertical",BO:-1,DO:1}),Xb=zb(zb({},sh),{iF:"horizontal",BO:1,DO:-1}),Hb=function(t,i,n){var r=[[{component:i.bar,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}]],e=t.valueAxis.getTitle();return e&&r.push([e]),i.subCategory?r.push([i.subCategory,"",{text:ee(t.valueAxis.formatValue(i.bar.getValue()),t.valueAxis),font:{weight:"bold"}}]):r.push({text:ee(t.valueAxis.formatValue(i.bar.getValue()),t.valueAxis),font:{weight:"bold"}}),r},Zb=function(){return Zb=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Zb.apply(this,arguments)},Qb=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Jb=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},Kb=function(t,i){return Math.abs(t)+Math.abs(i)};function qb(t,i){var n,r=t.reduce(Kb,0),e=(n=t,Math.max.apply(Math,Jb([],Qb(n.map((function(t){return t}))),!1))),o=function(t){return Math.min.apply(Math,Jb([],Qb(t.map((function(t){return t}))),!1))}(t);return Math.max(Math.pow(i,2)*e/Math.pow(r,2),Math.pow(r,2)/(Math.pow(i,2)*o))}var $b,tp=function(t){var i=t.height,n=t.width;return i>n?{value:n,vertical:!1}:{value:i,vertical:!0}},ip=function(t){var i=t.data,n=t.dimensions,r=n.x,e=n.y,o=n.width,s=n.height,a=i.map((function(t){return t.value})).reduce(Kb,0),u=i.map((function(t){return t.animatedValue})).reduce(Kb,0),h=i.map((function(t){return t.animatedValue*s*o/u})),f=h.reduce((function(t,i){return t+i}),0),c=h.map((function(t){return t/f*100})),l=h.filter((function(t,i){return c[i]})),v={children:[],id:0,parentID:-1,name:"Main Rectangle",value:a,animatedValue:u,x:r,y:e,width:o,height:s,nodeIndex:-1,userNode:{name:"Main Rectangle",value:a}};if(1===i.length){var d=Zb(Zb({},i[0]),{x:n.x,y:n.y,width:n.width,height:n.height,userNode:Zb(Zb({},i[0].userNode),{value:i[0].value})});v.children.push(d)}else rp(l,tp(v).value,i,v);return v.children},np=function(t,i,n,r,e){var o=t.reduce(Kb,0)/i;t.forEach((function(t,i){var s=Math.abs(t)/o,a=e.x,u=e.y,h=e.children,f=r[h.length],c=Zb(Zb({},f),{x:a,y:u,width:n?o:s,height:n?s:o,userNode:Zb(Zb({},f.userNode),{value:f.value})});n?e.y-=s:e.x+=s,h.push(c)})),n?(e.x+=o,e.y+=i,e.width-=o):(e.x-=i,e.y-=o,e.height-=o)},rp=function(t,i,n,r){for(var e=[{children:t,width:i,row:[]}];e.length>0;){var o=e.pop();if(o){for(var s=o.children,a=o.width,u=o.row,h=0,f=Jb([],Qb(u),!1);h<s.length;){var c=Jb(Jb([],Qb(f),!1),[s[h]],!1),l=qb(f,a),v=qb(c,a);if(!(0===f.length||l>v)){np(f,a,tp(r).vertical,n,r),e.push({children:s.slice(h),width:tp(r).value,row:[]});break}f.push(s[h]),h+=1}h===s.length&&np(f,a,tp(r).vertical,n,r)}}},ep=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),op=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},sp=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},ap=function(t){function i(i,n,r,e,o,s,a){var u,h=this;if((h=t.call(this,i,n,r,n.rA("treeMapChart bg",0),e,n.Ai.xi.treeMapChartBackgroundFillStyle||n.Ai.xi.chartXYSeriesBackgroundFillStyle,n.Ai.xi.treeMapChartBackgroundStrokeStyle||n.Ai.xi.chartXYBackgroundStrokeStyle,n.Ai.xi.treeMapChartTitleFont||n.Ai.xi.chartXYTitleFont,n.Ai.xi.treeMapChartTitleFillStyle||n.Ai.xi.chartXYTitleFillStyle,n.Ai.xi.treeMapChartTitleShadow||n.Ai.xi.chartXYTitleShadow,a,null===(u=null==s?void 0:s.legend)||void 0===u?void 0:u.customLegend)||this).cF=new Map,h.lF=[],h.vF={},h.dF=A([]),h.mT={speed:1},h.yF=In,h.AF="Go Back",h.bF=[],h.pF=h.xi.treeMapChartPathLabelFillStyle||h.xi.uiTextFillStyle,h.mF=h.xi.treeMapChartPathLabelFont||h.xi.uiTextFont,h.gF=h.xi.treeMapChartLabelHeaderFillStyle||h.xi.uiTextFillStyle,h.xF=h.xi.treeMapChartLabelHeaderFont||h.xi.uiTextFont,h.SF=h.xi.treeMapChartLabelFillStyle||h.xi.uiTextFillStyle,h.wF=h.xi.treeMapChartLabelFont||h.xi.uiTextFont,h.dg=!0,h.uy=!1,h.MF=h.xi.treeMapChartParentColor||j,h.CF=h.xi.treeMapChartNodeStrokeStyle||h.xi.uiBackgroundStrokeStyle,h.TF=gn,h.uS=h.xi.treeMapChartCornerRadius,h.Ag=function(){h.Ai.Fn(),h.uy=!0},h.kF=function(t,i){var n,r=i.collectionMember,e=h._F(r);e&&(h.jg=h.OF(e,t),h.dg&&h.Ai.gn.En(r,!0),(null===(n=h.getUserInteractions().drillDown)||void 0===n?void 0:n.click)&&h.engine.setMouseStyle(vo.Point),h.Ai.Fn())},h.FF=function(t,i){var n=i.collectionMember;h._F(n)&&(h.jg=void 0,h.dg&&h.Ai.gn.En(n,!1),h.engine.setMouseStyle(vo.Default),h.Ai.Fn())},h.IF=function(t,i){var n,r=i.collectionMember,e=h._F(r);e&&(h.jg=h.OF(e,t),h.dg&&h.Ai.gn.En(r,!0),(null===(n=h.getUserInteractions().drillDown)||void 0===n?void 0:n.click)&&h.engine.setMouseStyle(vo.Point),h.Ai.Fn())},h.jF=function(t,i){var n;if(!t.defaultPrevented){var r=i.collectionMember,e=h._F(r);if(e){if(null===(n=h.getUserInteractions().drillDown)||void 0===n?void 0:n.click){var o=(null==e?void 0:e.children.length)?e:e.parentID?h.vF[e.parentID]:void 0;o&&(h.dF.C([o]),h.jg=void 0,h.j.D("viewchange",{nodes:h.dF.T().map((function(t){return t.userNode}))}),h.uy=!0),t&&Pi(t)}h.Ai.Fn()}}},h.BF=function(t){var i=h.vF[h.bF[t].id]?[h.vF[h.bF[t].id]]:h.lF;h.dF.C(i),h.j.D("viewchange",{nodes:i.map((function(t){return t.userNode}))}),h.uy=!0,h.Ai.Fn()},h.nodes=new Nt,h.j=new Nt,h.xi.treeMapChartNodeColors)h.DF=h.xi.treeMapChartNodeColors;else{var f=h.xi.pointSeriesFillStyle,c=function(t){return Yr(t)?t.getColor():j};h.DF="function"==typeof f?new Array(5).fill(0).map((function(t,i){return c(f(i))})):[c(f)]}h.Ai.pu(zs.Ia),h.BT=n.Vm("TreeMapChart plotting",0),h.DT=n.Vm("TreeMap UI plotting",1),h.addEventListener("resize",h.Ag),h.Ve.Wo("TreeMap Chart");var l=n.Zm(),v=gi(s?s.cursorBuilder:void 0,ol);return h.Qm=Up(h,l,v.pm(l,h.uiScale,h.uiScale,Ai,h.xi),void 0,"show-pointed",up,(function(){return 0})),h.LF=h.yn.yd(),h.nA(o,h.uiScale),h.pv=h.BT.Ml(h.hd).$r(new Wr).qr(h.CF),h.EF=h.Ai.gn.Pa(h,{animationEnabled:!1!==(null==s?void 0:s.animationsEnabled)}),h.PF=new Jh((function(){return h.DT.ps(h.hd).setPointerEvents(!1)})),h.zF=new Jh((function(){return h.DT.ps(h.uiScale)})),h.pv.setPointerEvents(!0),h.nodes.Ni(h.pv,(function(t){var i=h._F(t);if(i)return i.userNode})),h.setAnimationsEnabled(!1!==(null==s?void 0:s.animationsEnabled)),h.pv.addEventListener("pointerenter",h.kF),h.pv.addEventListener("pointerleave",h.FF),h.pv.addEventListener("click",h.jF),h.pv.addEventListener("pointermove",h.IF),void 0!==(null==s?void 0:s.legend)&&h.legend.setOptions(s.legend),h}return ep(i,t),i.prototype.setCornerRadius=function(t){return this.uS=t,this.uy=!0,this.Ai.Fn(),this},i.prototype.getCornerRadius=function(){return this.uS},i.prototype.setData=function(t){var i=this;t=Array.isArray(t)?t.slice():[t];var n,r=(0,(n=0,{NF:function(t){for(var i,r=t.map((function(t,i){return{node:t,parent:null}})),e=[],o=function(){var t=r.pop();if(!t)return"continue";var o=t.node,s=t.parent,a={id:n+=1,parentID:null==s?void 0:s.id,name:o.name,value:Number(o.value)||0,animatedValue:Number(o.value)||0,children:[],nodeIndex:s?s.nodeIndex:-1,userNode:o};s?s.children.push(a):e.push(a),null===(i=o.children)||void 0===i||i.forEach((function(t){r.push({node:t,parent:a})}))};r.length>0;)o();var s=function(t){t.children.forEach(s),t.children.length>0&&(t.value+=t.children.reduce((function(t,i){return t+i.value}),0),t.animatedValue+=t.children.reduce((function(t,i){return t+i.animatedValue}),0),t.children.sort((function(t,i){return i.animatedValue-t.animatedValue})))};e.forEach(s);var a=1===t.length?e[0].children:e;return a.sort((function(t,i){return i.animatedValue-t.animatedValue})),a.forEach((function(t,i){t.nodeIndex=i;var n=function(i){i.children.forEach((function(i){i.nodeIndex=t.nodeIndex,n(i)}))};n(t)})),e}}).NF)(t);return r.forEach((function(t){var n=i.vF[t.id];n&&i.VF(t,n)})),this.jg=void 0,this.dF.C(r),this.lF=r,this.vF=this.RF(r),this.uy=!0,this.Ai.Fn(),this},i.prototype.setAnimationValues=function(t,i){return void 0===i&&(i=1),this.mT=t?{speed:i}:void 0,this.Ai.Fn(),this},i.prototype.setInitPathButtonText=function(t){return this.AF=t,this.uy=!0,this.Ai.Fn(),this},i.prototype.setDisplayedLevelsCount=function(t){return this.yF=t,this.uy=!0,this.Ai.Fn(),this},i.prototype.setDrillDownNode=function(t){var i,n;if(this.jg=void 0,void 0===t)this.dF.C(this.lF);else for(var r=sp([],op(this.lF),!1);r.length>0;){var e=r.pop();if(e){if(void 0!==e.value&&e.userNode===t||e.parentID&&Array.isArray(t)&&(null===(n=null===(i=this.vF[e.parentID])||void 0===i?void 0:i.userNode)||void 0===n?void 0:n.children)===t){var o=e.children.length?e:e.parentID?this.vF[e.parentID]:this.lF[0];this.dF.C([o]);break}if(e.children)for(var s=e.children.length-1;s>=0;s-=1)r.push(e.children[s])}}return this.j.D("viewchange",{nodes:this.dF.T().map((function(t){return t.userNode}))}),this.uy=!0,this.Ai.Fn(),this},i.prototype.setNodeColoring=function(t){var i=this;return t instanceof Array?(this.pv.$r(new Wr),this.DF=t):(this.pv.$r(t),this.Dn.forEach((function(t){t.Iy()&&t.add(i)}))),this.Dn.forEach((function(t){return t.Ln()})),this.uy=!0,this.Ai.Fn(),this},i.prototype.setParentNodeColor=function(t){return this.MF=t,this.uy=!0,this.Ai.Fn(),this},i.prototype.setPathLabelFillStyle=function(t){return this.pF="function"==typeof t?t(this.pF):t,this.uy=!0,this.Ai.Fn(),this},i.prototype.getPathLabelFillStyle=function(){return this.pF},i.prototype.setPathLabelFont=function(t){return P(t)?this.mF=t:this.mF=t(this.mF),this.uy=!0,this.Ai.Fn(),this},i.prototype.getPathLabelFont=function(){return this.mF},i.prototype.setHeaderFont=function(t){return P(t)?this.xF=t:this.xF=t(this.xF),this.uy=!0,this.Ai.Fn(),this},i.prototype.getHeaderFont=function(){return this.xF},i.prototype.setHeaderFillStyle=function(t){return this.gF="function"==typeof t?t(this.gF):t,this.uy=!0,this.Ai.Fn(),this},i.prototype.getHeaderFillStyle=function(){return this.gF},i.prototype.setLabelFont=function(t){return P(t)?this.wF=t:this.wF=t(this.wF),this.uy=!0,this.Ai.Fn(),this},i.prototype.getLabelFont=function(){return this.wF},i.prototype.setLabelFillStyle=function(t){return this.SF="function"==typeof t?t(this.SF):t,this.uy=!0,this.Ai.Fn(),this},i.prototype.getLabelFillStyle=function(){return this.SF},i.prototype.setNodeBorderStyle=function(t){return this.pv.qr(t),this.uy=!0,this.Ai.Fn(),this},i.prototype.getNodeBorderStyle=function(){return this.pv.zu()},i.prototype.setNodeEffect=function(t){return this.LF.On(t),this.Ai.Fn(),this},i.prototype.getNodeEffect=function(){return this.LF.In()},i.prototype.setCursor=function(t){return this.Qm.setCursor(t),this},i.prototype.getCursor=function(){return this.Qm.getCursor()},i.prototype.setCursorMode=function(t){return this.Qm.setCursorMode(t),this},i.prototype.getCursorMode=function(){return this.Qm.getCursorMode()},i.prototype.setCustomCursor=function(t){return this.Qm.setCustomCursor(t),this},i.prototype.setCursorDynamicBehavior=function(t){return this.Qm.eg(t),this},i.prototype.setCursorFormatting=function(t){return this.Qm.setCursorFormatting(t),this},i.prototype.getCursorFormatting=function(){return this.Qm.getCursorFormatting()},i.prototype.addCursor=function(t){void 0===t&&(t=ol);var i=this.Xy(),n=t.pm(i,this.uiScale,this.uiScale,this.Gy(i),this.xi);return this.tA(n),n},i.prototype.setAnimationHighlight=function(t){return this.EF.Va(t),this},i.prototype.getAnimationHighlight=function(){return this.EF.Ra()},i.prototype.setHighlightOnHover=function(t){return this.dg=t,this},i.prototype.getHighlightOnHover=function(){return this.dg},i.prototype.OF=function(t,i){var n=this.Ai.Uu(i);return{cursorPosition:{pointMarker:{x:n.engineX,y:n.engineY},pointMarkerScale:this.Ai.ai,resultTable:{x:n.engineX,y:n.engineY},resultTableScale:this.Ai.ai},name:t.name,value:t.value,node:t.userNode}},i.prototype.getMinimumSize=function(){},i.prototype.By=function(){return[this]},i.prototype.ie=function(i){var n=this;t.prototype.ie.call(this,i),t.prototype.iA.call(this);var r=xf(this.Ve,this.eA),e=this.Dn.reduce((function(t,i){var e=i.Io(r,n.Ls);return{top:Math.max(t.top,e.top),bottom:Math.max(t.bottom,e.bottom),left:Math.max(t.left,e.left),right:Math.max(t.right,e.right)}}),{top:0,bottom:0,left:0,right:0});if(e.bottom===this.TF.bottom&&e.right===this.TF.right&&e.top===this.TF.top&&e.left===this.TF.left||(this.uy=!0,this.TF=e),Sf(this.Ve,this.eA,this.uiScale.oi(),this.Ls,e),this.uy&&this.dF.T().length){this.pv.zi(),this.cF.clear(),this.EF.Na(),this.Ie&&this.GF(i);var o=ip({data:this.dF.T(),dimensions:{x:0+this.Ls.left+e.left,y:this.hd.y.getInnerEnd()-r-this.Ls.top-e.top,width:this.hd.x.getInnerEnd()-this.Ls.right-this.Ls.left-e.right-e.left,height:this.hd.y.getInnerEnd()-r-this.Ls.top-this.Ls.bottom-e.top-e.bottom}}),s=this.PF.Xd();this.UF(o,s),s.finishPlot(),this.YF(),this.lF!==this.dF.T()&&this.lF.length>1&&this.bF.unshift({name:this.AF,id:0});var a=0,u=this.zF.Xd(),h=this.mF;this.bF.forEach((function(t,i){var r,e=u.add(),o=n.Ai.Je.Me(t.name,h,0);e.Wo(" ".concat(t.name)).bo(h).ne({x:0,y:100}).Uh({x:-1,y:1}).As({left:n.Ls.left+a,top:n.Ls.top,right:0,bottom:0}).$r(n.pF),e.addEventListener("click",(function(){return n.BF(i)})),e.addEventListener("pointerenter",(function(){r=n.engine.setMouseStyle(vo.Point,r)})),e.addEventListener("pointerleave",(function(){n.engine.restoreMouseStyle(r)})),a+=o.x+25})),u.finishPlot(),this.dF.T().every((function(t){return t.value===t.animatedValue}))?this.uy=!1:this.Ai.Fn(!0)}return this.Qm.ie(!1,[],void 0,{explicitTarget:this.jg}),this.Dn.forEach((function(t){return t.ie(r,n.Ls)})),this},i.prototype.dispose=function(){return this.DT.V(),this.BT.V(),this.Qm.V(),this.pv.dispose(),this.cF.clear(),this.PF.Qd(),this.zF.Qd(),t.prototype.dispose.call(this)},i.prototype.Y=function(){return t.prototype.Y.call(this),this},i.prototype.W=function(){return t.prototype.W.call(this),this},i.prototype.Rn=function(){return en(this.pv.vo(),this.pv.Mi())},i.prototype.UF=function(t,i,n,r){void 0===n&&(n=!1),void 0===r&&(r=0);for(var e=t.map((function(t,i){return{node:t,isChild:n,visibleDepth:r}})),o=this.uS?{extent:this.uS,c_x1_y1:!0,c_x1_y2:!0,c_x2_y1:!0,c_x2_y2:!0}:void 0,s=function(){var t=e.pop();if(!t)return"continue";var n=t.node,r=t.visibleDepth,s=t.opacity,u=n.x,h=n.y,f=n.height,c=n.width,l=n.children,v=n.animatedValue,d=n.name,y=n.nodeIndex,A=a.DF,b=0===r&&1===a.dF.T().length?a.MF:A[y%A.length],p=a.pv.za()._l(u,h,u+c,h-f).WF(b.setA(b.getA()*((null!=s?s:255)/255))).Ig(v).kl(o);a.cF.set(p,n),a.EF.za(p,(function(t){return p.Oi(t)}));var m=u+5,g=h+25+5,x=Math.max(f-25-5,0),S=Math.max(c-5-5,0);if(l&&l.length&&r<a.yF&&S>15&&x>15)for(var w=ip({data:l,dimensions:{x:S>0?m:u,y:x>0?h-25:g,width:S,height:x}}),M=0;M<w.length;M+=1){var C=(255-(l.length>7?50:150))/(l.length-1),T=1===n.id&&1===a.lF.length||a.lF===a.dF.T()?255:s?s/(r+1):255-M*C;e.push({node:w[M],isChild:!0,visibleDepth:r+1,opacity:T})}var k=0===r&&1===a.dF.T().length?a.gF:a.SF,_=0===r?a.xF:a.wF,O=a.XF(d,c-25,_),F=a.Ai.Je.Me(O,_,0),I=i.add();c-25>F.x&&f>25?I.Wo(O).ne({x:u+5,y:h-2.5}).Uh({x:-1,y:1}).$r(k).bo(_):I.Wo("")},a=this;e.length>0;)s()},i.prototype.RF=function(t){for(var i={},n=sp([],op(t),!1);n.length>0;){var r=n.pop();r&&(i[r.id]=r,r.children&&n.push.apply(n,sp([],op(r.children),!1)))}return i},i.prototype._F=function(t){if(!this.uy&&t)return this.cF.get(t)},i.prototype.YF=function(){this.bF=[];for(var t=this.dF.T()[0].id,i=this.vF[t].parentID;i;)this.bF.push({name:this.vF[i].name,id:i}),i=this.vF[i].parentID;return this.bF.reverse()},i.prototype.XF=function(t,i,n){var r=this.Ai.Je.Me(t,n,0).x;if(r<=i)return t;for(var e=t.split(" "),o=t;e.length>1&&r>i;)e.pop(),o="".concat(e.join(" "),"..."),r=this.Ai.Je.Me(o,n,0).x;if(r>i){var s=e[0];for(o="".concat(s,"..."),r=this.Ai.Je.Me(o,n,0).x;o.length>3&&r>i;)o="".concat(o.substring(0,o.length-4),"..."),r=this.Ai.Je.Me(o,n,0).x}return o.length<=3&&r>i?"":o},i.prototype.GF=function(t){for(var i,n=sp([],op(this.lF),!1);n.length>0;){var r=n.pop();if(r){var e=r.value-r.animatedValue;if(Math.abs(e)<.0015*r.value||void 0===this.mT)r.animatedValue=r.value;else{var o=e/255*((null===(i=this.mT)||void 0===i?void 0:i.speed)||1)*t;r.animatedValue+=o,(e>0&&r.animatedValue>r.value||e<0&&r.animatedValue<r.value)&&(r.animatedValue=r.value)}r.children&&r.children.length>0&&n.push.apply(n,sp([],op(r.children),!1))}}},i.prototype.VF=function(t,i){for(var n=[{current:t,previous:i}],r=function(){var t=n.pop();if(!t)return"continue";var i=t.current,r=t.previous;i.animatedValue=e.Ie?r.animatedValue:i.value,r.nodeIndex<0?i.nodeIndex=0:i.nodeIndex=r.nodeIndex;var o=new Map(r.children.map((function(t){return[t.id,t]})));i.children.forEach((function(t,i){var e=o.get(t.id);n.push({current:t,previous:e||r})}))},e=this;n.length>0;)r()},i.prototype.setUserInteractions=function(t){return this.ae=void 0===t?{drillDown:{click:!1}}:t,this},i.prototype.getUserInteractions=function(){return hi({drillDown:{click:!0}},this.ae)},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(gf),up=function(t,i,n){return[[{text:i.name,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[{text:i.value.toString(),font:{weight:"bold"}}]]},hp=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fp=function(){return fp=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},fp.apply(this,arguments)},cp=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},lp=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},vp=function(t){function i(i,n,r,e,o,s,a){var u,h=this;(h=t.call(this,i,n,r,n.rA("gaugeChart bg",0),e,n.Ai.xi.gaugeChartBackgroundFillStyle,n.Ai.xi.gaugeChartBackgroundStrokeStyle,n.Ai.xi.gaugeChartTitleFont,n.Ai.xi.gaugeChartTitleFillStyle,n.Ai.xi.gaugeChartTitleShadow,s,null===(u=null==a?void 0:a.legend)||void 0===u?void 0:u.customLegend)||this).Qf=h.xi.gaugeChartStartAngle,h.Jf=h.xi.gaugeChartEndAngle,h.HF={start:0,end:100},h.S=0,h.ZF=[],h.QF=h.xi.gaugeChartBarThickness,h.JF=h.xi.gaugeChartValueIndicatorThickness,h.KF=h.xi.gaugeChartNeedleLength,h.qF=h.xi.gaugeChartNeedleThickness,h.$F=h.xi.gaugeChartNeedleFillStyle,h.tI=h.xi.gaugeChartNeedleStrokeStyle,h.Tl=h.xi.gaugeChartRoundedEdges,h.iI=!0,h.nI=!0,h.rI=!0,h.eI=[],h.oI=[],h.sI=!0,h.aI=!0,h.AT=h.S,h.uI=function(t){return Number.isInteger(t)?t.toString():t.toFixed(2)},h.hI=h.xi.gaugeChartBarGradient,h.fI=function(t){return Number.isInteger(t)?t.toString():t.toFixed(2)},h.cI=h.xi.gaugeChartTickFont,h.lI=h.xi.gaugeChartValueLabelFont,h.vI=h.xi.gaugeChartValueLabelFillStyle,h.dI=h.xi.gaugeChartUnitLabelFont,h.yI=h.xi.gaugeChartUnitLabelFillStyle,h.AI=h.xi.gaugeChartTickFillStyle,h.bI=h.xi.gaugeChartBarColor,h.pI=h.xi.gaugeChartGlowColor,h.mI=h.xi.gaugeChartGlowColor.getA(),h.gI=1,h.xI=1,h.SI=h.xi.gaugeChartNeedleAlignment,h.wI=!1,h.MI=h.xi.gaugeChartGapBetweenBarAndValueIndicators,h.CI=h.xi.gaugeChartBarStrokeStyle,h.TF=gn,h.TI=!1,h.j=new Nt,h.Ai.pu(zs.ba),h.Ve.Wo("Gauge Chart"),h.nA(o,h.hd),h.setAnimationsEnabled(!1!==(null==a?void 0:a.animationsEnabled)),h.kI=h.bI,h._I=h.pI,h.OI=w(0,0,0,0),h.FI=h.yn.yd(),h.II=h.yn.yd().On(h.xi.effectsText),h.jI=h.Ry.Dc(h.hd).qr(h.CI).setPointerEvents(!1),h.BI=h.Ry.Fl(h.hd).ac(0).le(360).cc(0).qr(qt).setPointerEvents(!1),h.DI=h.sA.ce(h.hd).fe(h.xi.gaugeChartNeedleStrokeStyle).setPointerEvents(!1),h.LI=h.sA.ce(h.hd).fe(new Ue({thickness:h.qF,fillStyle:h.$F})).setPointerEvents(!1),h.EI=h.sA.ps(h.hd).bo(h.lI).$r(h.vI).setPointerEvents(!1),h.mv=h.sA.ps(h.hd).bo(h.dI).$r(h.yI).Wo("").setPointerEvents(!1),h.zI=h.Ry.ps(h.hd).bo(h.cI).$r(h.AI).setPointerEvents(!1),h.NI=h.Ry.ps(h.hd).bo(h.cI).$r(h.AI).setPointerEvents(!1),h.FI.wn([h.jI]),h.II.wn([h.EI,h.mv,h.zI,h.NI]),h.VI(),h.addEventListener("resize",(function(){h.wI=!0}));var f=fp({backgroundVisible:!0},null==a?void 0:a.legend);return h.legend.setOptions(f),h}return hp(i,t),i.prototype.VI=function(){var t=this;this.LI.fe((function(i){return i.setThickness(t.qF)})),this.DI.fe((function(i){return i.setThickness(2*t.tI.getThickness()+t.qF)}))},i.prototype.setAnimationsEnabled=function(t){return this.Ie=t,this.aI=t,this.sI=t,this},i.prototype.setInterval=function(t,i){return this.HF={start:t,end:i},this.wI=!0,this.Ai.Fn(),this},i.prototype.getInterval=function(){return this.HF},i.prototype.setTickFillStyle=function(t){return this.AI="function"==typeof t?t(this.AI):t,this.oI.forEach((function(i){i.start.$r(t),i.end.$r(t)})),this.zI.$r(t),this.NI.$r(t),this.wI=!0,this.Ai.Fn(),this},i.prototype.getTickFillStyle=function(){return this.AI},i.prototype.setTickFont=function(t){return this.cI="function"==typeof t?t(this.cI):t,this.oI.forEach((function(i){i.start.bo(t),i.end.bo(t)})),this.zI.bo(t),this.NI.bo(t),this.wI=!0,this.Ai.Fn(),this},i.prototype.getTickFont=function(){return this.cI},i.prototype.setTickFormatter=function(t){return this.uI=t,this.wI=!0,this.Ai.Fn(),this},i.prototype.getTickFormatter=function(){return this.uI},i.prototype.setValueLabelFillStyle=function(t){return this.vI="function"==typeof t?t(this.vI):t,this.EI.$r(t),this.wI=!0,this.Ai.Fn(),this},i.prototype.getValueLabelFillStyle=function(){return this.EI.vo()},i.prototype.setValueLabelFont=function(t){return this.lI="function"==typeof t?t(this.lI):t,this.EI.bo(t),this.wI=!0,this.Ai.Fn(),this},i.prototype.getValueLabelFont=function(){return this.EI.Ao()},i.prototype.setValueFormatter=function(t){return this.fI="string"==typeof t?function(i){return t}:t,this.wI=!0,this.Ai.Fn(),this},i.prototype.getValueLabel=function(){return this.EI.Zo()||this.fI},i.prototype.setUnitLabelFillStyle=function(t){return this.yI="function"==typeof t?t(this.yI):t,this.mv.$r(t),this.wI=!0,this.Ai.Fn(),this},i.prototype.getUnitLabelFillStyle=function(){return this.mv.vo()},i.prototype.setUnitLabelFont=function(t){return this.dI="function"==typeof t?t(this.dI):t,this.mv.bo(t),this.wI=!0,this.Ai.Fn(),this},i.prototype.getUnitLabelFont=function(){return this.mv.Ao()},i.prototype.setUnitLabel=function(t){return this.mv.Wo(t),this.wI=!0,this.Ai.Fn(),this},i.prototype.getUnitLabel=function(){return this.mv.Zo()},i.prototype.setNeedleFillStyle=function(t){return this.$F="function"==typeof t?t(this.$F):t,this.LI.fe((function(i){return i.setFillStyle(t)})),this.wI=!0,this.Ai.Fn(),this},i.prototype.getNeedleFillStyle=function(){return this.LI.oa().getFillStyle()},i.prototype.setNeedleThickness=function(t){return this.qF=t,this.VI(),this.wI=!0,this.Ai.Fn(),this},i.prototype.getNeedleThickness=function(){return this.qF},i.prototype.setNeedleStrokeStyle=function(t){return this.tI="function"==typeof t?t(this.tI):t,this.DI.fe(t),this.VI(),this.wI=!0,this.Ai.Fn(),this},i.prototype.getNeedleStrokeStyle=function(){return this.DI.oa()},i.prototype.setNeedleLength=function(t){return this.KF=t,this.wI=!0,this.Ai.Fn(),this},i.prototype.getNeedleLength=function(){return this.KF},i.prototype.setBarColor=function(t){return this.bI=t,this.wI=!0,this.Ai.Fn(),this},i.prototype.getBarColor=function(){return this.kI},i.prototype.setBarGradient=function(t){return this.hI=t,this.wI=!0,this.Ai.Fn(),this},i.prototype.getBarGradient=function(){return this.hI},i.prototype.setBarStrokeStyle=function(t){return this.CI="function"==typeof t?t(this.CI):t,this.jI.qr(t),this.wI=!0,this.Ai.Fn(),this},i.prototype.getBarStrokeStyle=function(){return this.jI.zu()},i.prototype.setBarThickness=function(t){return this.QF=t,this.wI=!0,this.Ai.Fn(),this},i.prototype.getBarThickness=function(){return this.QF},i.prototype.setAngleInterval=function(t,i){return Math.abs(t-i)>360&&(i=t<i?t+360:t-360),this.Qf=t,this.Jf=i,this.wI=!0,this.Ai.Fn(),this},i.prototype.getAngleInterval=function(){return{start:this.Qf,end:this.Jf}},i.prototype.setValue=function(t){return this.TI&&this.Ai.pu(zs._a),this.TI=!0,this.S=t,this.sI||(this.AT=this.S),this.wI=!0,this.Ai.Fn(),this},i.prototype.getValue=function(){return this.S},i.prototype.setValueAnimation=function(t,i){return void 0===i&&(i=1),this.sI=t,this.gI=Math.max(0,i),this.wI=!0,this.Ai.Fn(),this},i.prototype.setColorAnimation=function(t,i){return void 0===i&&(i=1),this.aI=t,this.xI=Math.max(0,i),this.wI=!0,this.Ai.Fn(),this},i.prototype.setRoundedEdges=function(t){return this.Tl=t,this.wI=!0,this.Ai.Fn(),this},i.prototype.getRoundedEdges=function(){return this.Tl},i.prototype.setValueIndicators=function(t){var i=this;return this.ZF=t,this.eI.forEach((function(t){t.dispose()})),this.eI.length=0,this.oI.forEach((function(t){t.start.dispose(),t.end.dispose()})),this.oI.length=0,this.ZF.forEach((function(t){var n=new Ur({color:t.color}),r=i.Ry.Dc(i.hd).qr(qt).$r(n).setPointerEvents(!1);i.eI.push(r);var e=i.Ry.ps(i.hd).bo(i.cI).$r(i.AI).setPointerEvents(!1),o=i.Ry.ps(i.hd).bo(i.cI).$r(i.AI).setPointerEvents(!1);i.oI.push({start:e,end:o})})),this.FI.wn(lp([this.jI],cp(this.eI),!1)),this.II.wn(lp([this.EI,this.mv,this.zI,this.NI],cp(this.oI.map((function(t){return[t.start,t.end]})).flat()),!1)),this.wI=!0,this.Ai.Fn(),this},i.prototype.getValueIndicators=function(){return this.ZF},i.prototype.setValueIndicatorThickness=function(t){return this.JF=t,this.wI=!0,this.Ai.Fn(),this},i.prototype.getValueIndicatorThickness=function(){return this.JF},i.prototype.setAutomaticBarColoring=function(t){return this.rI=!!t,this.wI=!0,this.Ai.Fn(),this},i.prototype.getAutomaticBarColoring=function(){return this.rI},i.prototype.setGlowColor=function(t){return void 0===t?(this.iI=!1,this._I=void 0):"object"==typeof t&&"auto"in t?(this.nI=t.auto,t.auto&&(this._I=void 0),void 0!==t.alpha&&(this.mI=t.alpha),this.iI=!0):(this._I=t,this.mI=t.getA(),this.nI=!1,this.iI=!0),this.wI=!0,this.Ai.Fn(),this},i.prototype.getAutomaticGlowColoring=function(){return this.nI},i.prototype.setNeedleAlignment=function(t){return this.SI=t,this.wI=!0,this.Ai.Fn(),this},i.prototype.getNeedleAlignment=function(){return this.SI},i.prototype.setGapBetweenBarAndValueIndicators=function(t){return this.MI=t,this.wI=!0,this.Ai.Fn(),this},i.prototype.getGapBetweenBarAndValueIndicators=function(){return this.MI},i.prototype.setBarEffect=function(t){return this.FI.On(t),this.Ai.Fn(),this},i.prototype.getBarEffect=function(){return this.FI.In()},i.prototype.setLabelEffect=function(t){return this.II.On(t),this.Ai.Fn(),this},i.prototype.getLabelEffect=function(){return this.II.In()},i.prototype.ie=function(i){var n,r=this;if(t.prototype.ie.call(this,i),t.prototype.iA.call(this),this.AT!==this.S){if(this.sI){var e=5e-4*i,s=.003*i,a=Math.sign(this.S-this.AT);this.AT=this.AT+e*a+s*this.gI*(this.S-this.AT),a!==Math.sign(this.S-this.AT)?this.AT=this.S:this.Ai.Fn(!0)}else this.AT=this.S;this.wI=!0}var u=this.ZF.find((function(t){return r.AT>=t.start&&r.AT<=t.end}));if(u||(this.AT<this.HF.start?u=this.ZF.find((function(t){return t.start===r.HF.start})):this.AT>this.HF.end&&(u=this.ZF.find((function(t){return t.end===r.HF.end})))),this.kI=this.rI&&u?u.color:this.bI,this.aI){if(this.OI!==this.kI){var h=this.OI.getR(),f=this.OI.getG(),c=this.OI.getB(),l=this.kI.getR(),v=this.kI.getG(),d=this.kI.getB(),y=Math.sign(l-h),A=Math.sign(v-f),b=Math.sign(d-c);e=.005*i,s=.003*i,this.OI=w(h+e*y+s*this.xI*(l-h),f+e*A+s*this.xI*(v-f),c+e*b+s*this.xI*(d-c));var p=Math.abs(l-this.OI.getR()),m=Math.abs(v-this.OI.getG()),g=Math.abs(d-this.OI.getB());p<1&&m<1&&g<1?this.OI=this.kI:this.Ai.Fn(!0),this.wI=!0}}else this.OI=this.kI;var x=xf(this.Ve,this.eA),S=this.Dn.reduce((function(t,i){var n=i.Io(x,r.Ls);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0});if(S.right===this.TF.right&&S.bottom===this.TF.bottom&&S.top===this.TF.top&&S.left===this.TF.left||(this.wI=!0,this.TF=S),this.wI){var C=In,T=jn,k=In,_=jn;if(new Array(100).fill(0).forEach((function(t,i,n){var e=r.Qf+i/n.length*(r.Jf-r.Qf),o=Math.sin(e*Math.PI/180),s=Math.cos(e*Math.PI/180);o<C&&(C=o),o>T&&(T=o),s<k&&(k=s),s>_&&(_=s)})),this.hI?this.jI.$r(new R({stops:[{offset:0,color:M("#000000")},{offset:1,color:this.OI}],position:{x:.5,y:.5}})):this.jI.$r(new Ur({color:this.OI})),this.iI){var O=this.nI&&u?this.OI:null!==(n=this._I)&&void 0!==n?n:this.pI;this.BI.$r(new R({stops:[{offset:0,color:O.setA(this.mI)},{offset:1,color:O.setA(0)}],position:{x:.5,y:.5},extent:o.farthestSide}))}else this.BI.$r(Vr);var F=this.uI(this.HF.start),I=this.uI(this.HF.end),j=0,B=0,D=this.Ai.Je.Me(F,this.zI.Ao(),this.zI.mo()),L=this.Ai.Je.Me(I,this.NI.Ao(),this.NI.mo());D.x>j&&(j=D.x),D.y>B&&(B=D.y),L.x>j&&(j=L.x),L.y>B&&(B=L.y),this.oI.forEach((function(t,i){if(!(i>=r.ZF.length)){var n=r.ZF[i],e=r.uI(n.start),o=r.uI(n.end),s=r.Ai.Je.Me(e,t.start.Ao(),t.start.mo()),a=r.Ai.Je.Me(o,t.end.Ao(),t.end.mo());s.x>j&&(j=s.x),s.y>B&&(B=s.y),a.x>j&&(j=a.x),a.y>B&&(B=a.y)}}));var E=this.ZF.length>0?this.JF:0,P=this.hd.getInnerIntervalPixels();Sf(this.Ve,this.eA,this.uiScale.oi(),this.Ls,S);var z={x:P.x-(this.Ls.left+this.Ls.right),y:P.y-(this.Ls.bottom+this.Ls.top)-x},N={x:z.x-S.left-S.right,y:z.y-S.top-S.bottom},V={x:this.Ls.left+(z.x+S.left-S.right)/2,y:this.Ls.bottom+(z.y+S.bottom-S.top)/2},G=E+2*this.MI+this.QF/2,U=j+G,Y=B+G,W=N.y-(Y+x+Y),X=N.x-(U+U),H=Math.max(0,W<X?W:X),Z=.5*H,Q=.5*Z,J=(C+T)*Q,K=(k+_)*Q,q={x:V.x-K,y:V.y-J},$=H>0;if(this.jI.setVisible($),this.eI.forEach((function(t){return t.setVisible($)})),this.LI.setVisible($),this.DI.setVisible($),this.BI.setVisible($),this.mv.setVisible($),this.EI.setVisible($),this.zI.setVisible($),this.NI.setVisible($),this.oI.forEach((function(t){t.start.setVisible($),t.end.setVisible($)})),!$)return;var tt={x:V.x-.5*K,y:V.y-.5*J};this.BI.ne(V).uc(.5*Math.min(N.x,P.y)),this.EI.ne(tt).Wo(this.fI(this.AT));var it=this.EI.Oc(),nt=this.mv.Oc();0===it.y&&(it=this.Ai.Je.Me(this.EI.Zo(),this.EI.Ao(),this.EI.mo())),0===nt.y&&(nt=this.Ai.Je.Me(this.mv.Zo(),this.mv.Ao(),this.mv.mo())),this.mv.ne({x:tt.x,y:tt.y-it.y-nt.y/4});var rt=Ap(this.HF,this.Qf,this.Jf,this.AT,q,Z+this.SI*(this.KF/2+this.QF/2)),et=rt.angle*(Math.PI/180),ot=.5*this.KF,st=Math.cos(et),at=Math.sin(et);this.LI.ve({x:rt.x+ot*st,y:rt.y+ot*at}).le({x:rt.x-ot*st,y:rt.y-ot*at}),this.DI.ve({x:rt.x+ot*st,y:rt.y+ot*at}).le({x:rt.x-ot*st,y:rt.y-ot*at});var ut=dp(q,Z,this.Qf,this.Jf,this.QF,this.Tl,!1,!1);this.jI.wf(ut).ki({min:{x:q.x-Z,y:q.y-Z},max:{x:q.x+Z,y:q.y+Z}});var ht=q.y+Z,ft=q.y-Z,ct=q.x+Z,lt=q.x-Z,vt=cp(this.HF.start<this.HF.end?[this.HF.start,this.HF.end]:[this.HF.end,this.HF.start],2),dt=vt[0],yt=vt[1],At=Z+.5*this.QF+E/2+this.MI,bt=At+E/2;this.ZF.forEach((function(t,i){var n,e,o=t.start>=dt&&t.end<=yt;r.eI[i].setVisible(o),r.oI[i].start.setVisible(o),r.oI[i].end.setVisible(o);var s=Ap(r.HF,r.Qf,r.Jf,t.start,q,bt),a=Ap(r.HF,r.Qf,r.Jf,t.end,q,bt),u=dp(q,At,s.angle,a.angle,r.JF,r.Tl,!(0===i),!(i===r.ZF.length-1));r.eI[i].wf(u);var h=r.HF.start===t.start||r.HF.end===t.start,f=r.HF.start===t.end||r.HF.end===t.end||r.ZF.some((function(i){return i.start===t.end&&i!==t}));r.oI[i].start.ne({x:s.x,y:s.y}).Uh({x:Math.min(1,Math.max(-1,2*(s.x-ct)/(lt-ct)-1)),y:Math.min(1,Math.max(-1,2*(s.y-ht)/(ft-ht)-1))}).Wo(null!==(n=t.startLabel)&&void 0!==n?n:h?"":r.uI(t.start)),r.oI[i].end.ne({x:a.x,y:a.y}).Uh({x:Math.min(1,Math.max(-1,2*(a.x-ct)/(lt-ct)-1)),y:Math.min(1,Math.max(-1,2*(a.y-ht)/(ft-ht)-1))}).Wo(null!==(e=t.endLabel)&&void 0!==e?e:f?"":r.uI(t.end))}));var pt=this.ZF.some((function(t){return t.start<t.end?r.HF.start>=t.start&&r.HF.start<=t.end:r.HF.start<=t.start&&r.HF.start>=t.end})),mt=Ap(this.HF,this.Qf,this.Jf,this.HF.start,q,pt?bt:At-this.MI);this.zI.ne({x:mt.x,y:mt.y}).Uh({x:Math.min(1,Math.max(-1,2*(mt.x-ct)/(lt-ct)-1)),y:Math.min(1,Math.max(-1,2*(mt.y-ht)/(ft-ht)-1))}).Wo(F);var gt=this.ZF.some((function(t){return t.start<t.end?r.HF.end>=t.start&&r.HF.end<=t.end:r.HF.end<=t.start&&r.HF.end>=t.end})),xt=Ap(this.HF,this.Qf,this.Jf,this.HF.end,q,gt?bt:At-this.MI);this.NI.ne({x:xt.x,y:xt.y}).Uh({x:Math.min(1,Math.max(-1,2*(xt.x-ct)/(lt-ct)-1)),y:Math.min(1,Math.max(-1,2*(xt.y-ht)/(ft-ht)-1))}).Wo(I),this.wI=!1}this.Dn.forEach((function(t){return t.ie(x,r.Ls)}))},i.prototype.getMinimumSize=function(){return{x:150,y:150}},i.prototype.By=function(){return[]},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(gf),dp=function(t,i,n,r,e,o,s,a){void 0===o&&(o=!0),void 0===s&&(s=!0),void 0===a&&(a=!0);var u=[],h=.5*e,f=n>r,c=Math.sign(n-r),l=-1*c;if(o){var v=h/(2*Math.PI*i)*360+.1;s&&(n+=v*l),a&&(r+=v*c)}else n+=.1*l,r+=.1*c;var d=yp(t,i+h,n,r,f);if(u.push.apply(u,lp([],cp(d),!1)),o){var y,A={x:t.x+i*Math.cos(r*(Math.PI/180)),y:t.y+i*Math.sin(r*(Math.PI/180))};y=n>r?yp(A,h,r+180,r+360,f):yp(A,h,r-180,r-360,f),u.push.apply(u,lp([],cp(y),!1))}var b=yp(t,i-h,r,n,!f);if(u.push.apply(u,lp([],cp(b),!1)),o){A={x:t.x+i*Math.cos(n*(Math.PI/180)),y:t.y+i*Math.sin(n*(Math.PI/180))};var p;p=n>r?yp(A,h,n-180,n-360,f):yp(A,h,n+180,n+360,f),u.push.apply(u,lp([],cp(p),!1))}return u},yp=function(t,i,n,r,e){var o;n<r&&(o=cp([r,n],2),n=o[0],r=o[1]);for(var s=[],a=e?-2:2,u=e?function(t){return t>r}:function(t){return t<n},h=e?n:r;u(h);h+=a){var f=h*(Math.PI/180),c=t.x+i*Math.cos(f),l=t.y+i*Math.sin(f);s.push({x:c,y:l})}var v=(e?r:n)*(Math.PI/180),d=t.x+i*Math.cos(v),y=t.y+i*Math.sin(v);return s.push({x:d,y:y}),s},Ap=function(t,i,n,r,e,o){var s=cp(t.start<t.end?[t.start,t.end]:[t.end,t.start],2),a=s[0],u=s[1],h=Math.max(a,Math.min(u,r)),f=t.start<t.end?n-i:i-n,c=t.start<t.end?i+(h-t.start)/(t.end-t.start)*f:i-(h-t.start)/(t.end-t.start)*f,l=c*(Math.PI/180);return{x:e.x+o*Math.cos(l),y:e.y+o*Math.sin(l),angle:Math.round(c)}},bp=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pp=function(t){function i(i,n,r,e,o,s,a,u,h,f,c){var l=t.call(this,i,n,r,e,o,s,a,u,h,f)||this;return l.RI=c,l}return bp(i,t),i.prototype.setLabelAlignment=function(t){return this.RI=t,this.Fn(),this},i.prototype.getLabelAlignment=function(){return this.RI},i}(Ff),mp=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gp=function(){return gp=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},gp.apply(this,arguments)},xp=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Sp=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},wp=function(t){function i(i,n,r,e,o,s,a){var u,h=t.call(this,i,{es:function(){return i.GI?i.GI[h.key].max:void 0},rs:function(){return i.GI?i.GI[h.key].min:void 0},us:function(){}},s,n,r,{numeric:n.parallelCoordinateAxisNumericTicks||n.yAxisNumericTicks,datetime:n.parallelCoordinateAxisDateTimeTicks||n.yAxisDateTimeTicks,time:n.parallelCoordinateAxisTimeTicks||n.yAxisTimeTicks},{type:"linear"})||this;return h.UI=[],h.zv=[],h.YI=8,h.fi=!1,h.j=new Nt,h.chart=i,h.key=e,h.userID=o,h.yn=h.chart.Ai.yn.An(h,{}),h.Yn=a,h.WI=a.te(i.XI).$r(h.xi.parallelCoordinateAxisBackgroundFillStyle||Vr).qr(qt).setPointerEvents(!1),h.Xe=a.ps(i.XI).bo(h.xi.parallelCoordinateAxisTitleFont||h.xi.yAxisTitleFont).$r(h.xi.parallelCoordinateAxisTitleFillStyle||h.xi.yAxisTitleFillStyle).setPointerEvents(!1).As(gn).bs(gn),h.xo=h.yn.yd([h.Xe]).On(n.effectsText),h.kO=a.ce(i.XI).fe(n.parallelCoordinateAxisStrokeStyle||n.yAxisStrokeStyle),h.setAnimationsEnabled(!1),h.addEventListener("intervalchange",(function(t){i.HI(h,t.start,t.end)})),h.kO.addEventListener("pointerenter",(function(){var t,i;(null===(i=null===(t=h.chart.getUserInteractions().rangeSelectors)||void 0===t?void 0:t.create)||void 0===i?void 0:i.doubleClickAxis)&&(u=h.chart.engine.setMouseStyle(vo.Point))})),h.kO.addEventListener("pointerleave",(function(){u=h.chart.engine.restoreMouseStyle(u)})),h.kO.addEventListener("dblclick",(function(t){var i,n;t.defaultPrevented||(null===(n=null===(i=h.chart.getUserInteractions().rangeSelectors)||void 0===i?void 0:i.create)||void 0===n?void 0:n.doubleClickAxis)&&(h.addRangeSelector(),Pi(t))})),h.setTitle(e),h}return mp(i,t),i.prototype.setBackgroundFillStyle=function(t){return this.WI.$r(t),this.Yn.Fn(),this},i.prototype.getBackgroundFillStyle=function(){return this.WI.vo()},i.prototype.setStrokeStyle=function(t){var i="function"==typeof t?t(this.kO.oa()):t,n=i.getFillStyle();return Zr(n)?(this.ZI=n.lut,this.chart.QI=!0):this.ZI=void 0,this.kO.fe(i),this.chart.Ai.Fn(),this},i.prototype.getStrokeStyle=function(){return this.kO.oa()},i.prototype.setTickStrategy=function(i,n){return t.prototype.so.call(this,i,n)},i.prototype.getTickStrategy=function(){return this.ke},i.prototype.addRangeSelector=function(){var t,i=this,n=this.jo(),r=this.Yn.te(this.chart.XI).$r(this.xi.parallelCoordinateAxisRangeSelectorFillStyle||this.xi.dataGridScrollBarFillStyle).qr(this.xi.parallelCoordinateAxisRangeSelectorStrokeStyle||this.xi.dataGridScrollBarStrokeStyle),e=function(n){var r,e;(null===(e=null===(r=i.chart.getUserInteractions().rangeSelectors)||void 0===r?void 0:r.move)||void 0===e?void 0:e.drag)&&(t=i.chart.engine.setMouseStyle(vo.Vertical,t))},o=function(n){t=i.chart.engine.restoreMouseStyle(t)};r.addEventListener("pointermove",e),r.addEventListener("pointerleave",o),r.addEventListener("pointerdown",(function(n){var a,u;if(null===(u=null===(a=i.chart.getUserInteractions().rangeSelectors)||void 0===a?void 0:a.move)||void 0===u?void 0:u.drag){var h,f=i.chart.getCursorMode();i.chart.setCursorMode(void 0);var c=i.chart.Ai.Uu(n),l=at({x:c.engineX,y:c.engineY},i.chart.Ai.ai,i.chart.XI),v=i.chart.XI.y.Jt(r.Hi(),10),d=i.chart.XI.y.Jt(r.Zi(),-10);h=l.y<=v?"scaleMin":l.y>=d?"scaleMax":"move",Pi(n);var y=n,A=function(t){if(void 0!==i.JI){var n=.05*Math.abs(i.uo-i.ao),r=(t.clientX,y.clientX,t.clientY-y.clientY);if(y=t,"move"===h){var e=s.max-s.min,o=i.chart.KI(s.max,i.JI,i).y,a=i.chart.XI.y.Jt(o,-r),u=i.chart.qI(a,i.JI,i);s.max=pi(u,Math.max(i.ao,i.uo),Math.min(i.ao,i.uo)+e),s.min=s.max-e}else if("scaleMax"===h)o=i.chart.KI(s.max,i.JI,i).y,a=i.chart.XI.y.Jt(o,-r),u=i.chart.qI(a,i.JI,i),s.max=pi(u,s.min+n,Math.max(i.ao,i.uo));else if("scaleMin"===h){var f=i.chart.KI(s.min,i.JI,i).y,c=i.chart.XI.y.Jt(f,-r),l=i.chart.qI(c,i.JI,i);s.min=pi(l,s.max-n,Math.min(i.ao,i.uo))}i.chart.$I(),Pi(t)}},b=function(s){s.pointerId===n.pointerId&&(i.chart.setCursorMode(f),r.addEventListener("pointermove",e),r.addEventListener("pointerleave",o),ci.removeEventListener("pointermove",A),ci.removeEventListener("pointerup",b),t=i.chart.engine.restoreMouseStyle(t))};r.removeEventListener("pointermove",e),r.removeEventListener("pointerleave",o),ci.addEventListener("pointermove",A),ci.addEventListener("pointerup",b)}})),r.addEventListener("dblclick",(function(t){var n,r;if(null===(r=null===(n=i.chart.getUserInteractions().rangeSelectors)||void 0===n?void 0:n.dispose)||void 0===r?void 0:r.doubleClick){var e=i.UI.indexOf(s);e>=0&&i.UI.splice(e,1),s.shape.dispose(),i.chart.$I(),Pi(t)}}));var s={min:n.min+.25*(n.max-n.min),max:n.max-.25*(n.max-n.min),shape:r};this.UI.push(s),this.chart.$I();var a={setInterval:function(t,n){return s.min=Math.min(t,n),s.max=Math.max(t,n),i.chart.$I(),a},setPointerEvents:function(t){return r.setPointerEvents(t),a},dispose:function(){var t=i.UI.indexOf(s);return t>=0&&(i.UI.splice(t,1),i.chart.$I()),a}};return a},i.prototype.addCustomTick=function(){var t=this,i=new pp((function(){return t.chart.Ai.Fn()}),(function(){var n=t.zv.indexOf(i);n>=0&&t.zv.splice(n,1)}),(this.xi.parallelCoordinateAxisNumericTicks||this.xi.yAxisNumericTicks).majorTickStyle.tickStyle,(this.xi.parallelCoordinateAxisNumericTicks||this.xi.yAxisNumericTicks).majorTickStyle.tickLength,(this.xi.parallelCoordinateAxisNumericTicks||this.xi.yAxisNumericTicks).majorTickStyle.gridStrokeStyle,(this.xi.parallelCoordinateAxisNumericTicks||this.xi.yAxisNumericTicks).majorTickStyle.tickPadding,(this.xi.parallelCoordinateAxisNumericTicks||this.xi.yAxisNumericTicks).majorTickStyle.labelRotation,(this.xi.parallelCoordinateAxisNumericTicks||this.xi.yAxisNumericTicks).majorTickStyle.labelFillStyle,(this.xi.parallelCoordinateAxisNumericTicks||this.xi.yAxisNumericTicks).majorTickStyle.labelFont,(function(i){return t.formatValue(i)}),(this.xi.parallelCoordinateAxisNumericTicks||this.xi.yAxisNumericTicks).majorTickStyle.labelAlignment);return this.zv.push(i),this.chart.Ai.Fn(),i},i.prototype.getCustomTicks=function(){return function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}([],xp(this.zv),!1)},i.prototype.ie=function(t){var i,n,r,e,o=this;this.JI=t.parallelAxisIndex;var s=Math.min(this.ao,this.uo),a=Math.max(this.ao,this.uo);try{for(var u=Sp(this._e),h=u.next();!h.done;h=u.next()){var f=xp(h.value,2),c=f[0],l=f[1];try{for(var v=(r=void 0,Sp(l)),d=v.next();!d.done;d=v.next()){var y=xp(d.value,2)[1],A=t.ticksInfo.get(y);A&&(t.plotAxisLines.add({positions:[A.positionTicklineStart,A.positionTicklineEnd]},{lineStyle:c.Ce.tickStyle}),y.Oo.ne(A.labelPosition).Uh(A.labelAlignment).po(A.labelRotation).Eh(A.labelOffset.x,A.labelOffset.y))}}catch(t){r={error:t}}finally{try{d&&!d.done&&(e=v.return)&&e.call(v)}finally{if(r)throw r.error}}}}catch(t){i={error:t}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}this.zv.forEach((function(i){if(!(!i.ci||i.S<s||i.S>a)){var n=o.tj(t.parallelAxisIndex,t.halfAxisThickness,i.S,i.jA,i.DA,i.RI);t.plotAxisLines.add({positions:[n.positionTicklineStart,n.positionTicklineEnd]},{lineStyle:i.IA}),t.plotAxisText.add().ne(n.labelPosition).Uh(n.labelAlignment).$r(i.LA).bo(i.EA).Wo(i.ea(i.S)).po(i.Av).setPointerEvents(i.hi)}})),this.kO.ve({x:t.parallelAxisIndex,y:0}).le({x:t.parallelAxisIndex,y:1}),this.Xe.ne({x:t.parallelAxisIndex,y:this.chart.XI.y.Jt(0,-(t.halfAxisThickness+this.YI))}).po(this.getTitleRotation()).Uh({x:0,y:1});var b=0===t.parallelAxisIndex?t.parallelAxisIndex:this.chart.XI.x.Jt(t.parallelAxisIndex,-1.2*t.wd);this.WI.ne({x:b,y:0}).Z({x:t.parallelAxisIndex-b,y:1});var p=this.chart.XI.oi();this.UI.forEach((function(i){var n=o.chart.KI(i.min,t.parallelAxisIndex,o),r=o.chart.KI(i.max,t.parallelAxisIndex,o),e={x:t.parallelAxisIndex-10*p.x*.5,y:n.y},s=t.parallelAxisIndex+10*p.x*.5,a=r.y;i.shape.ne(e).Z({x:s-e.x,y:a-e.y})}))},i.prototype.V=function(){this.WI.dispose(),this.Xe.dispose(),this.kO.dispose(),this.UI.forEach((function(t){return t.shape.dispose()})),this.UI.length=0,this.So(),this.Ro(),this.fi=!0,this.j.D("dispose",{})},i.prototype.isDisposed=function(){return this.fi},i.prototype.tj=function(t,i,n,r,e,o){var s=this.chart.XI.Jt({x:t,y:(n-this.ao)/(this.uo-this.ao)},{x:0-i,y:0}),a=this.chart.XI.Jt(s,{x:-r,y:0});return{positionTicklineStart:s,positionTicklineEnd:a,labelPosition:this.chart.XI.Jt(a,{x:-e,y:0}),labelAlignment:{x:1,y:o}}},i.prototype.Lo=function(t){var i=this.kO.oa();return{halfAxisThickness:Ye(i)?i.getThickness()/2:0}},i.prototype.No=function(t,i,n,r,e){var o=i.Ce,s=this.getInterval(),a=this.tj(r.parallelAxisIndex,e.halfAxisThickness,t,o.getTickLength(),o.getTickPadding(),2*(t-s.start)/(s.end-s.start)-1);return gp(gp({},a),{keyValue:t,tickLevel:i,labelText:n,labelRotation:o.labelRotation,labelOffset:{x:0,y:0}})},i.prototype.Xo=function(t,i){return new ws(i,t,this.Yn,this.chart.XI)},i.prototype.Go=function(t,i,n){var r=this,e=this.Xe&&this.Xe.Zo().length>0&&this.getTitleFillStyle()!==Vr?this.Xe.Io().Oc():{x:0,y:0},o=0;this._e.forEach((function(t,i){var n=i.Ce.tickLength+i.Ce.tickPadding;t.forEach((function(t){if(t.Oo.getVisible()){var i=n+t.Oo.Io().Oc().x;o=Math.max(o,i)}else o=Math.max(o,n)}))}));var s=this.zv.reduce((function(t,i){return Math.max(t,i.ci?r.chart.Ai.Je.Me(i.ea(i.S),i.EA,i.Av).x+i.jA+i.DA:0)}),0);o=Math.max(o,s);var a=e.y+this.YI,u=o=Math.max(o,e.x/2);return{wd:o,ij:a,nj:e.x,wv:u,ticksInfo:i,updatedTicks:n}},i.prototype.Ze=function(){return this.chart.XI},i.prototype.fs=function(t,i){return se(t,i,this.ai)},i.prototype.vs=function(t,i,n){return{start:t,end:i}},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i.prototype.setPointerEvents=function(t){return this.j.setPointerEvents(t),this},i.prototype.getPointerEvents=function(){return this.j.getPointerEvents()},i}(Ss),Mp=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cp=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e)||this;s.Bn="Parallel Coordinate Series",s.rj=!1,s.j=new Nt,s.chart=i;var a,u=void 0!==(null==o?void 0:o.automaticColorIndex)?o.automaticColorIndex:s.chart.getSeries().length;return s.ej=an(s.xi.parallelCoordinateChartSeriesColor,u)||(a=an(s.xi.lineSeriesStrokeStyle,u).getFillStyle(),(Yr(a)?a.getColor():void 0)||w(255,255,0)),s.addEventListener("visiblechange",(function(t){s.chart.oj()})),s.addEventListener("dispose",(function(t){s.chart.oj()})),s.setHighlightOnHover(!1),s}return Mp(i,t),i.prototype.setData=function(t){var i=void 0!==this.sj;return this.sj=this.chart.aj(t),i&&this.chart.uj(),this},i.prototype.getData=function(){return this.sj},i.prototype.setColor=function(t){var i="function"==typeof t?t(this.ej):t;return i===this.ej||(this.ej=i,this.chart.Ai.Fn(),this.chart.hj(this)),this},i.prototype.getColor=function(){return this.ej},i.prototype.OA=function(){return this.getAutoScrollingEnabled()},i.prototype.gA=function(){},i.prototype.ie=function(){},i.prototype.xA=function(){},i.prototype.re=function(){return{fill:new Ur({color:this.ej})}},i.prototype.bA=function(){return t.prototype.bA.call(this)&&!this.rj},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(Vl),Tp=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kp=function(){return kp=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},kp.apply(this,arguments)},_p=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Op=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Fp=function(t){function i(i,n,r,e,o,s,a){var u,h,f,c=this;(c=t.call(this,i,n,r,n.rA("parallelAxisChart bg",0),e,n.Ai.xi.parallelCoordinateChartBackgroundFillStyle||n.Ai.xi.chartXYBackgroundFillStyle,n.Ai.xi.parallelCoordinateChartBackgroundStrokeStyle||n.Ai.xi.chartXYBackgroundStrokeStyle,n.Ai.xi.parallelCoordinateChartTitleFont||n.Ai.xi.chartXYTitleFont,n.Ai.xi.parallelCoordinateChartTitleFillStyle||n.Ai.xi.chartXYTitleFillStyle,n.Ai.xi.parallelCoordinateChartTitleShadow||n.Ai.xi.chartXYTitleShadow,s,null===(u=null==a?void 0:a.legend)||void 0===u?void 0:u.customLegend)||this).axes=[],c.fj=!0,c.cj=mn(),c.lj=new Map,c.vj=c.xi.parallelCoordinateChartSeriesColorUnselected||w(255,255,255,30),c.dj=A({resolution:32}),c.QI=!1,c.yj=!1,c.Aj=!0,c.bj=!1,c.pj=!1,c.mj=!1,c.gj=!1,c.su=function(t){c.XI.Z(t.engineWidth,t.engineHeight)},c.j=new Nt,c.aT=n.Rm("parallelAxisChart series",0),c.xj=n.Rm("parallelAxisChart labels",1),c.Ve.Wo("Parallel Coordinate Chart"),c.Ai.pu(zs.ja),c.XI=c.Yy.d2({scaleXYConstructor:nt}).ii(0,1),c.nA(o,c.XI),c.kb=c.Ry.te(c.XI).ne({x:0,y:0}).Z({x:0,y:1}).$r(c.xi.parallelCoordinateChartSeriesBackgroundFillStyle||c.xi.chartXYSeriesBackgroundFillStyle).qr(qt).setPointerEvents(!0),c._b=c.Ry.te(c.XI).ne({x:0,y:0}).Z({x:0,y:1}).$r(Vr).qr(c.xi.parallelCoordinateChartSeriesBackgroundStrokeStyle||c.xi.chartXYBackgroundStrokeStyle).setPointerEvents(!1),t.prototype.Tb.call(c,c.kb,c._b),c.setSeriesBackgroundEffect(!1),c.Sj=new Ue({thickness:null!==(h=c.xi.parallelCoordinateChartSeriesLineThickness)&&void 0!==h?h:2,fillStyle:new Wr}),c.wj=new Ue({thickness:null!==(f=c.xi.parallelCoordinateChartSeriesLineThickness)&&void 0!==f?f:2,fillStyle:new Ur({color:c.xi.parallelCoordinateChartSeriesColorUnselected})}),c.Mj=c.cj.Qi(c.aT.Od(c.XI)).fe(c.Sj),c.Mj.xc=5e4,c.Cj=c.aT.Od(c.XI).fe(c.xi.parallelCoordinateChartPointedSeriesLineStyle||an(c.xi.lineSeriesStrokeStyle,0)).setPointerEvents(!1),c.Tj=new Jh((function(){return c.xj.ps(c.XI)})),c.kj=new Lf((function(){return c.xj.Od(c.XI).setPointerEvents(!1)}),(function(t,i,n){return t.zi().fe(n.lineStyle),i.map((function(i){var n=i.positions;return t.za().Id(n[0],n[1])}))}));var l=n.Zm(),v=gi(a?a.cursorBuilder:void 0,ul);return c.Qm=Up(c,l,v.pm(l,c.uiScale,c.uiScale,Ai,c.xi),c,"show-nearest",Ip,(function(){return 0})),c.addEventListener("resize",c.su),void 0!==(null==a?void 0:a.legend)&&c.legend.setOptions(a.legend),c}return Tp(i,t),i.prototype.setCursor=function(t){return this.Qm.setCursor(t),this},i.prototype.getCursor=function(){return this.Qm.getCursor()},i.prototype.setCursorMode=function(t){return this.Qm.setCursorMode(t),this},i.prototype.getCursorMode=function(){return this.Qm.getCursorMode()},i.prototype.setCustomCursor=function(t){return this.Qm.setCustomCursor(t),this},i.prototype.setCursorDynamicBehavior=function(t){return this.Qm.eg(t),this},i.prototype.setCursorFormatting=function(t){return this.Qm.setCursorFormatting(t),this},i.prototype.getCursorFormatting=function(){return this.Qm.getCursorFormatting()},i.prototype.addCursor=function(t){void 0===t&&(t=ul);var i=this.Xy(),n=t.pm(i,this.uiScale,this.uiScale,this.Gy(i),this.xi);return this.tA(n),n},i.prototype.setUnselectedSeriesColor=function(t){return this.vj="function"==typeof t?t(this.vj):t,this.wj=new Ue({thickness:this.getSeriesStrokeThickness(),fillStyle:new Ur({color:this.vj})}),this.Ai.Fn(),this},i.prototype.getUnselectedSeriesColor=function(){return this.vj},i.prototype.setPointedSeriesStrokeStyle=function(t){return this.Cj.fe(t),this.Ai.Fn(),this},i.prototype.getPointedSeriesStrokeStyle=function(){return this.Cj.oa()},i.prototype.setSpline=function(t,i){return t?this.dj.C({resolution:void 0!==(null==i?void 0:i.resolution)?i.resolution:32}):this.dj.C(void 0),this.Ai.Fn(),this},i.prototype.setAxes=function(t){var i=this,n=Array.isArray(t)?t.map((function(t,i){return{key:t,id:i}})):"object"==typeof t?Object.entries(t).map((function(t,i){return{key:t[0],id:t[1]}})):void 0;if(!n)return this;var r=n.filter((function(t){return void 0===i.axes.find((function(i){return i.key===t.key}))})),e=this.axes.filter((function(t){return void 0===n.find((function(i){return t.key===i.key}))}));return r.forEach((function(t){var n=i._j(),r=new wp(i,i.xi,!i.Ie,t.key,t.id,n,i.xj),e=function(){i.Aj=!0};r.addEventListener("visiblechange",e),r.addEventListener("dispose",(function(){return r.removeEventListener("visiblechange",e)})),i.axes.push(r)})),e.forEach((function(t){t.V();var n=i.axes.indexOf(t);n>=0&&i.axes.splice(n,1)})),this.axes=n.map((function(t){return i.axes.find((function(i){return i.key===t.key}))})),this.Aj=!0,this.GI=void 0,this.Ai.Fn(),this},i.prototype.getAxis=function(t){var i=this.Oj(t);if(!i)throw new Error('ParallelAxisChart.getAxis | no such axis: "'.concat(t,'". Found: ').concat(this.axes.map((function(t){return void 0!==t.userID?"".concat(t.key,", ").concat(t.userID):t.key})).join(", ")));return i},i.prototype.hasAxis=function(t){return void 0!==this.Oj(t)},i.prototype.addSeries=function(i){var n,r,e=new Cp(this,this.Mb,this.xi,this.Ai.yn,i);return t.prototype.Ob.call(this,e,kp(kp({},i),{legend:kp(kp({},null==i?void 0:i.legend),{show:null!==(r=null===(n=null==i?void 0:i.legend)||void 0===n?void 0:n.show)&&void 0!==r&&r})})),this.pj=!0,this.GI=void 0,this.Ai.Fn(),e},i.prototype.setSeriesStrokeThickness=function(t){return this.Sj=this.Sj.setThickness(t),this.wj=this.wj.setThickness(t),this.Mj.fe(this.Sj),this.Ai.Fn(),this},i.prototype.getSeriesStrokeThickness=function(){return this.Sj.getThickness()},i.prototype.setLUT=function(t){var i=this;return this.Tv=t,this.Tv&&0===this.Tv.lut.units.length&&(this.Tv.lut=this.Tv.lut.setUnits(this.Tv.axis.getTitle())),this.Dn.forEach((function(t){t.Iy()&&t.add(i)})),this.gj=!0,this.Dn.forEach((function(t){return t.Ln()})),this.Ai.Fn(),this},i.prototype.ie=function(i){var n,r,e,o,s,a,u=this;t.prototype.ie.call(this,i);var h=this.axes.filter((function(t){return t.getVisible()}));this.XI.ti(0,h.length-1),this.kb.Z({x:h.length-1,y:1}),this._b.Z({x:h.length-1,y:1});var f=void 0===this.GI;if(!this.GI){var c={};h.forEach((function(t){c[t.key]={min:In,max:jn}})),this.Sb.forEach((function(t){t.sj&&Object.entries(t.sj).forEach((function(t){var i=_p(t,2),n=i[0],r=i[1],e=c[n];e&&!Number.isNaN(r)&&(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}))})),this.GI=c}if(this.mj||this.bj||this.pj){var l=h.map((function(t,i){return t.UI}));this.Sb.forEach((function(t){var i=t.sj;if(i){for(var n=!1,r=function(t){var r=h[t],e=l[t],o=void 0!==e.find((function(t){return Gn(i[r.key],t.min,t.max)}));if(e.length>0&&!o)return n=!0,"break"},e=0;e<h.length&&"break"!==r(e);e+=1);t.rj=n}}));var v=this.Sb.filter((function(t){return!t.rj}));this.j.D("seriesselect",{selectedSeries:v})}try{for(var d=Op(this.Sb),A=d.next();!A.done;A=d.next())A.value.gA()}catch(t){n={error:t}}finally{try{A&&!A.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}try{for(var b=Op(this.Sb),p=b.next();!p.done;p=b.next())p.value.ie()}catch(t){e={error:t}}finally{try{p&&!p.done&&(o=b.return)&&o.call(b)}finally{if(e)throw e.error}}t.prototype.iA.call(this);var m=this.Ai.Vn(this.kb)||void 0!==this.Sb.find((function(t){return t.getPointed()}))?this.Fj():void 0;this.Qm.ie(!1,this.Sb,void 0,{explicitTarget:m,afterCursorPointedAt:function(t){var i=u.Ai.Au();if(t.length>1&&i){var n=u.Ai.Uu(i);u.Qm.gC.am({x:n.engineX,y:n.engineY},u.Ai.ai)}}});var g=xf(this.Ve,this.eA),x=this.Dn.reduce((function(t,i){var n=i.Io(g,u.Ls);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0});if(Sf(this.Ve,this.eA,this.uiScale.oi(),this.Ls,x),h.length>=2){var S=this.Tj.Xd(),w=this.kj.Xd(),M=h.map((function(t,i){return t.hs(),t.Io({plotAxisLines:w,plotAxisText:S,physicalAxisSize:u.XI.y.St(),parallelAxisIndex:i})}));this.XI.qt([this.ot.left+this.Ls.left+M[0].wv+x.left,this.ot.right+this.Ls.right+M[M.length-1].nj/2+x.right]),this.XI.$t([this.ot.bottom+this.Ls.bottom+M.reduce((function(t,i){return Math.max(t,i.ij)}),0)+x.bottom,this.ot.top+this.Ls.top+g+x.top]),M.forEach((function(t,i){return h[i].ie(t)})),S.finishPlot(),w.finishPlot(),(f||this.QI)&&h.forEach((function(t,i){if(t.ZI){var n=t.ZI.steps.map((function(n){return kp(kp({},n),{value:u.KI(n.value,i,t).y})})),r=t.ZI.setSteps(n);t.kO.fe((function(t){return t.setFillStyle(new Hr({lookUpProperty:"y",lut:r}))}))}}));var C=this.Aj||this.bj||this.fj||this.dj.o;C&&(this.Mj.zi(),this.cj.zi(),this.lj.clear(),this.Sb.forEach((function(t){var i=t.sj;if(t.getVisible()&&i){var n=u.Ij(t,i,h,u.Mj,u.cj);u.lj.set(t,n),t.Cn(n)}}))),(C||this.mj||this.gj||this.bj)&&this.jj(this.Sb),!C&&this.pj&&this.Sb.forEach((function(t){if(!(t.cn.length>0)){var i=t.sj;if(t.getVisible()&&i){var n=u.Ij(t,i,h,u.Mj,u.cj);u.lj.set(t,n),t.Cn(n),u.jj([t])}}})),this.Sb.find((function(t){return t.sj&&Object.keys(t.sj).length>0}))&&(this.yj=!0)}var T=1===(null==m?void 0:m.length)?m[0]:void 0;(T!==this.Bj||this.bj)&&(this.Cj.zi(),T&&T.series.sj?(this.Ij(T.series,T.series.sj,h,this.Cj,void 0),this.Mj.fe(this.wj)):this.Mj.fe(this.Sj));var k=y(this.XI.x.bt(),this.XI.y.bt(),this.XI.x.St(),this.XI.y.St());this.aT.jm(k),this.Dn.forEach((function(t){return t.ie(g,u.Ls)}));try{for(var _=Op(this.Sb),O=_.next();!O.done;O=_.next())O.value.xA()}catch(t){s={error:t}}finally{try{O&&!O.done&&(a=_.return)&&a.call(_)}finally{if(s)throw s.error}}this.fj=!1,this.mj=!1,this.Aj=!1,this.bj=!1,this.pj=!1,this.gj=!1,this.dj.o=!1,this.QI=!1,this.Bj=T},i.prototype.jj=function(t){var i=this,n=this.Tv&&{lut:this.Tv.lut,key:this.Tv.axis.key};t.forEach((function(t){var r=t.sj,e=i.lj.get(t);if(r&&e){var o;if(t.rj)o=i.vj;else if(n){var s=r[n.key],a=i.GI&&i.GI[n.key];o=n.lut.getColors(s,a)}else o=t.ej;e.forEach((function(t){return t.WF(o)}))}}))},i.prototype.oj=function(){this.bj=!0,this.Ai.Fn()},i.prototype.uj=function(){this.yj&&this.Ai.pu(zs._a),this.bj=!0,this.Ai.Fn()},i.prototype.Oj=function(t){return this.axes.find((function(i){return i.key===t}))||this.axes.find((function(i){return i.userID===t}))},i.prototype._j=function(){return ot.d1({scale1DConstructor:q,dimension:"x"}).X(0,1)},i.prototype.aj=function(t){var i=this;if(this.GI=void 0,this.Ai.Fn(),Array.isArray(t)){var n={};return t.forEach((function(t,r){var e;if("number"==typeof t){var o=null===(e=i.axes[r])||void 0===e?void 0:e.key;if(!o)throw new Error("ParallelCoordinateSeries Axis count doesnt match supplied data");n[o]=t}else"object"==typeof t&&(n[t.key]=t.value)})),n}if("object"==typeof t)return t;throw new Error("ParallelCoordinateSeries unidentified data format")},i.prototype.HI=function(t,i,n){this.fj=!0,this.Ai.Fn()},i.prototype.KI=function(t,i,n){return{x:i,y:(t-n.ai.R)/(n.ai.G-n.ai.R)}},i.prototype.qI=function(t,i,n){var r=n.getInterval();return r.start+t*(r.end-r.start)},i.prototype.hj=function(t){this.gj=!0,this.Ai.Fn()},i.prototype.$I=function(){this.mj=!0,this.Ai.Fn()},i.prototype.getSeries=function(){return this.Sb},i.prototype.By=function(){return[this]},i.prototype.Rn=function(){return this.Tv?{lut:this.Tv.lut}:void 0},i.prototype.getMinimumSize=function(){return{x:200,y:200}},i.prototype.forEachAxis=function(t){return this.axes.slice().forEach((function(i){return t(i)})),this},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.axes.forEach((function(t){return t.V()})),this.Qm.V(),this.aT.V(),this.xj.V(),this},i.prototype.Ij=function(t,i,n,r,e){for(var o,s=[],a=0;a<n.length;a+=1){var u=n[a],h=i[u.key],f=this.KI(h,a,u),c=this.dj.T();if(c){if(void 0!==o)for(var l=c.resolution,v=void 0,d=0;d<=l;d+=1){var y=(d-1)/l,A=d/l,b=A<.5?4*A*A*A:1-Math.pow(-2*A+2,3)/2;if(void 0!==v){var p={x:o.x+y*(f.x-o.x),y:o.y+v*(f.y-o.y)},m={x:o.x+A*(f.x-o.x),y:o.y+b*(f.y-o.y)},g=r.za();e&&e.Ki(g,t),s.push(g),g.Id(p,m)}v=b}}else void 0!==o&&(g=r.za(),e&&e.Ki(g,t),s.push(g),g.Id(o,f));o=f}return s},i.prototype.Fj=function(){var t=this,i=this.getCursorMode(),n=this.Ai.Au();if(i&&n){var r=this.Ai.Uu(n),e=at({x:r.engineX,y:r.engineY},this.Ai.ai,this.XI),o=Math.round(e.x),s=this.axes.filter((function(t){return t.getVisible()}))[o];if(!s)return;var a=s.key,u=ln(this.Sb.map((function(i){if(i.sj&&i.bA()){var n=i.sj[a],r=t.KI(n,o,s);return{cursorPosition:{pointMarker:r,pointMarkerScale:t.XI,resultTable:r,resultTableScale:t.XI},value:n,series:i,axis:s}}})));return"show-nearest"===i?[u.filter((function(t){return!Number.isNaN(t.cursorPosition.pointMarker.y)})).sort((function(t,i){return Math.abs(t.cursorPosition.pointMarker.y-e.y)-Math.abs(i.cursorPosition.pointMarker.y-e.y)}))[0]]:("show-nearest-interpolated"!==i&&"show-all-interpolated"!==i||ci.console.warn('LightningChart JS ParallelCoordinateChart does not support "interpolated" cursor modes.'),u)}},i.prototype.setUserInteractions=function(t){return this.ae=void 0===t?{rangeSelectors:{create:{doubleClickAxis:!1},move:{drag:!1},dispose:{doubleClick:!1}}}:t,this},i.prototype.getUserInteractions=function(){return hi({rangeSelectors:{create:{doubleClickAxis:!0},move:{drag:!0},dispose:{doubleClick:!0}}},this.ae)},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(uc),Ip=function(t,i,n){if(n.length>1)return function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}([[{text:n[0].axis.getTitle(),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}]],_p(ln(n.map((function(t){var i=t.series.getData(),n=i?i[t.axis.key]:void 0;if(void 0!==n)return Np(t,[[t.series,"",ee(t.axis.formatValue(n),t.axis)]])})).flat())),!1);var r=n[0],e=[[{component:r.series,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}]];return t.axes.forEach((function(i){var n=r.series.getData();if(n){var o=n[i.key];if(void 0!==o){var s=t.axes.filter((function(t){return t.getVisible()}))[r.cursorPosition.pointMarker.x]===i?{weight:"bold"}:{};e.push([{text:i.getTitle(),font:s},"",{text:i.formatValue(o),font:s}])}}})),e},jp=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bp=function(){return Bp=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Bp.apply(this,arguments)},Dp=function(t){function i(i,n,r,e,o,s,a){var u,h=this;return(h=t.call(this,i,n,r,e,o,s)||this).legend=new lf(tf,h,h.Zy,h.hd),h.legend.setOptions(Bp({position:nh.LeftTop,autoHideThreshold:1},a)),null===(u=h.Dn)||void 0===u||u.push(h.legend),h}return jp(i,t),i.prototype.add=function(t){var i=this;return t instanceof ym?(t.getCells().forEach((function(t){t.panel instanceof gf&&i.add(t.panel)})),this.Ai.Fn(),this):(this.legend.add(t),this.Ai.Fn(),this)},i.prototype.getMinimumSize=function(){return t.prototype.getMinimumSize.call(this)},i}(bf),Lp=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Ep=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},Pp=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},zp=function(t){return"show-all-interpolated"===t||"show-nearest-interpolated"===t||"show-pointed-interpolated"===t},Np=function(t,i){var n="series"in t?t.series:void 0;if(!n||!("getCursorFormattingOverride"in n))return i;var r=n.getCursorFormattingOverride();return r?r(t,i):i},Vp=function(t){var i,n,r="series"in t?t.series:"slice"in t?t.slice:"bar"in t?t.bar:void 0,e=r&&hf(r)&&r.Rn(),o="x"in t&&t.x,s="y"in t&&t.y,a="z"in t&&t.z,u="color"in t&&t.color,h=null!==(n=null!==(i="lookupValue"in t?t.lookupValue:void 0)&&void 0!==i?i:"intensity"in t?t.intensity:void 0)&&void 0!==n?n:"value"in t?t.value:void 0;if(void 0!==h&&e&&"value"===e.lookUpProperty)return e.lut.getColors(h,e.valueRange);if(void 0!==o&&!1!==o&&e&&"x"===e.lookUpProperty)return e.lut.getColors(o,Rp(r)?{min:r.getXMin(),max:r.getXMax()}:void 0);if(void 0!==s&&!1!==s&&e&&"y"===e.lookUpProperty)return e.lut.getColors(s,Rp(r)?{min:r.getYMin(),max:r.getYMax()}:void 0);if(void 0!==a&&!1!==a&&e&&"z"===e.lookUpProperty)return e.lut.getColors(a,Gp(r)?{min:r.getZMin(),max:r.getZMax()}:void 0);if(u)return"number"==typeof u?k(u):u;if(r){var f=r.re(),c=rn(r.chart.getTheme(),!0,f);if(Yr(c))return c.getColor()}},Rp=function(t){return!(!t||"object"!=typeof t||!("getXMin"in t))},Gp=function(t){return!(!t||"object"!=typeof t||!("getZMin"in t))},Up=function(t,i,n,r,e,o,s){var a,u,h,f=e,c=t.getTheme().cursorDynamicBehavior,l=o,v=null,d=!0;r&&(d=!1,r.seriesBackground.addEventListener("pointerenter",(function(){var i;d=!0,t.getCursorMode()&&(u&&y&&!("explicitTarget"in(null!==(i=y[3])&&void 0!==i?i:{}))?A():t.Ai.Fn())})),r.seriesBackground.addEventListener("pointerleave",(function(){var i;d=!1,t.getCursorMode()&&(u&&y&&!("explicitTarget"in(null!==(i=y[3])&&void 0!==i?i:{}))?A():t.Ai.Fn())})),r.seriesBackground.addEventListener("pointermove",(function(){var i;d=!0,t.getCursorMode()&&(u&&y&&!("explicitTarget"in(null!==(i=y[3])&&void 0!==i?i:{}))?A():t.Ai.Fn())})),r.addEventListener("seriesadd",(function(i){var n=i.series;n.addEventListener("pointerenter",(function(i,r){var e;n.bA()&&(u||t.Ai.Fn(),a=r||void 0),t.getCursorMode()&&(u&&y&&!("explicitTarget"in(null!==(e=y[3])&&void 0!==e?e:{}))?A():t.Ai.Fn())})),n.addEventListener("pointermove",(function(i,r){var e;n.bA()&&(u||t.Ai.Fn(),a=r||void 0),t.getCursorMode()&&(u&&y&&!("explicitTarget"in(null!==(e=y[3])&&void 0!==e?e:{}))?A():t.Ai.Fn())})),n.addEventListener("pointerleave",(function(i){var r;n.bA()&&(u||t.Ai.Fn(),a=void 0),t.getCursorMode()&&(u&&y&&!("explicitTarget"in(null!==(r=y[3])&&void 0!==r?r:{}))?A():t.Ai.Fn())}))})));var y,A=function(){if(h&&(ci.cancelAnimationFrame(h),h=void 0),y){var t=y;h=ci.requestAnimationFrame((function(){return b.ie.apply(b,Ep([],Lp(t),!1))}))}},b={setCursor:function(i){return i(n),t},getCursor:function(){return n},setCursorMode:function(i){return f=i,t.Ai.Fn(),t},getCursorMode:function(){return f},setCustomCursor:function(t){u=t},eg:function(i){c=i,t.Ai.Fn()},setCursorFormatting:function(i){return l=i,t.Ai.Fn(),t},getCursorFormatting:function(){return l},V:function(){n.dispose(),i.V()},ie:function(i,r,e,o){var A,b,p;h&&(ci.cancelAnimationFrame(h),h=void 0),y=[i,r,e,o];var m=t.Ai.Au(),g=[];if((null==o?void 0:o.explicitTarget)&&f)g=Array.isArray(o.explicitTarget)?o.explicitTarget:[o.explicitTarget];else if(!i&&f){var x=r.find((function(t){return t.getPointed()})),S=m&&x&&(!x.getCursorEnabled||x.getCursorEnabled())&&x.kn?x.kn(m):void 0;if((a=S||a)&&"show-all"!==f&&"show-all-interpolated"!==f)g=[a];else if("show-all"===f||"show-all-interpolated"===f||"show-nearest"===f||"show-nearest-interpolated"===f){if((d||void 0!==x)&&m&&e){try{for(var w=Pp(r),M=w.next();!M.done;M=w.next()){var C=M.value;!C.getVisible()||C.getCursorEnabled&&!C.getCursorEnabled()||(T=e(C,m,f))&&g.push(T)}}catch(t){A={error:t}}finally{try{M&&!M.done&&(b=w.return)&&b.call(w)}finally{if(A)throw A.error}}"show-nearest"!==f&&"show-nearest-interpolated"!==f||(g.sort((function(t,i){return s(t,m)-s(i,m)})),g.length=1)}}else if("show-pointed"===f||"show-pointed-interpolated"===f){var T;m&&x&&(!x.getCursorEnabled||x.getCursorEnabled())&&e&&(T=e(x,m,f))&&(g=[T])}}g=ln(g.map((function(t){return Mn(t)})));var k=(null==o?void 0:o.overrideCursorPositions)||function(t,i){return i},_=g[0],O=g.length>0?g:void 0;if(_!==v&&m&&(u&&u({hit:_,hits:O,mouseLocation:m}),t.j.D("cursortargetchange",{hit:_,hits:O,mouseLocation:m}),v=_),u)n.getVisible()&&(n.setVisible(!1),n.Io().ie());else{var F=!1;if(g&&g.length>0){var I=l(t,g[0],g);(p=n.setVisible(!0)).setPosition.apply(p,Ep([],Lp(k(g,g.map((function(t){var i=t.cursorPosition;if(c){var n=Vp(t);void 0!==n&&(i.pointMarkerFillStyle=c.pointMarkerFill&&c.pointMarkerFill(n),i.pointMarkerStrokeStyle=c.pointMarkerStroke&&c.pointMarkerStroke(n));var r=function(t){if(Ct(t))return void 0!==t.size?t.size:t.series instanceof _d?t.series.getPointSize():void 0}(t);if(void 0!==r&&(i.pointMarkerSize=c.pointMarkerSize&&c.pointMarkerSize(r)),!1!==c.matchPointMarkerShape){var e=function(t){var i=Ct(t)&&t.series instanceof _d?t.series.getPointShape():void 0;return void 0===i||$e(i)?void 0:i}(t);void 0!==e&&(i.pointMarkerShape=e)}}return i})))),!1)).setResultTable((function(t){return t.setContent(I)})),F=!0}else n.getVisible()&&(n.setVisible(!1).setPosition().setResultTable((function(t){return t.setContent([])})),F=!0);(null==o?void 0:o.afterCursorPointedAt)&&o.afterCursorPointedAt(g),F&&(n.Io(),n.ie())}},solveNearest:function(i,n,r,e){var o,a,u=i||t.Ai.Au();if(!u)return[];var h=[];if("show-all"===n||"show-all-interpolated"===n||"show-nearest"===n||"show-nearest-interpolated"===n){try{for(var f=Pp(r),c=f.next();!c.done;c=f.next()){var l=c.value;if(l.getCursorEnabled()&&l.getVisible()){var v=e(l,u,n);v&&h.push(v)}}}catch(t){o={error:t}}finally{try{c&&!c.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}"show-nearest"!==n&&"show-nearest-interpolated"!==n||(h.sort((function(t,i){return s(t,u)-s(i,u)})),h.length=1)}return ln(h.map((function(t){return Mn(t)})))},gC:n};return b},Yp=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wp=function(){return Wp=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Wp.apply(this,arguments)},Xp=function(t,i,n){return or(i,er(dr(.5*(t.$f()+t.Rt())*Math.PI/180),n))},Hp=function(t,i,n,r,e,o){for(var s=t.length,a=90,u=0;u<s;u+=1){var h=t[u],f=a-360*i[u],c=h.getAnimatedExplosion();if(0===c||1===s)h.nk.ne(n);else{var l=or(n,er(dr(.5*(a+f)*Math.PI/180),o*c));h.nk.ne(l)}h.nk.ac(a).le(f).hc(r).fc(r).cc(e),a=f}},Zp=function(t){function i(i,n,r,e,o,s,a){var u,h=this;(h=t.call(this,i,n,r,n.rA("pieChart bg",0),e,n.Ai.xi.pieChartBackgroundFillStyle,n.Ai.xi.pieChartBackgroundStrokeStyle,n.Ai.xi.pieChartTitleFont,n.Ai.xi.pieChartTitleFillStyle,n.Ai.xi.pieChartTitleShadow,s,null===(u=null==a?void 0:a.legend)||void 0===u?void 0:u.customLegend)||this).xT=[],h.ST=Ey.SortByName,h.Xf=0,h.LT=h.xi.pieChartSliceFillStylePalette,h.ET=h.xi.pieChartSliceStrokeStyle,h.wT=!0,h.PT=h.xi.pieChartSliceLabelFont,h.zT=h.xi.pieChartSliceLabelFillStyle,h.MT=h.xi.pieChartSliceLabelShadow,h.CT=0,h.Dj=!1,h.Lj=20,h.OT=!0,h.jT=!0,h.FT=function(t){var i=h.xT.indexOf(t);i>=0&&(h.xT.splice(i,1),h.IT())},h.j=new Nt,h.Ai.pu(zs.Aa),h.BT=n.Rm("pieChart bottom",0),h.DT=n.Rm("pieChart top",1),h.Ve.Wo("Pie Chart"),h.nA(o,h.hd),h.background.addEventListener("dblclick",(function(t){t.defaultPrevented||function(t){for(var i=t.getSlices(),n=0;n<i.length;n+=1)i[n].setExploded(!1)}(h)}));var f=n.Zm(),c=gi(a?a.cursorBuilder:void 0,el);h.Qm=Up(h,f,c.pm(f,h.uiScale,h.uiScale,Ai,h.xi),void 0,"show-pointed",Qp,(function(){return 0})),h.setAnimationsEnabled(!1!==(null==a?void 0:a.animationsEnabled));var l=Wp({backgroundVisible:!0},null==a?void 0:a.legend);return h.legend.setOptions(l),h}return Yp(i,t),i.prototype.setCursor=function(t){return this.Qm.setCursor(t),this},i.prototype.getCursor=function(){return this.Qm.getCursor()},i.prototype.setCursorMode=function(t){return this.Qm.setCursorMode(t),this},i.prototype.getCursorMode=function(){return this.Qm.getCursorMode()},i.prototype.setCustomCursor=function(t){return this.Qm.setCustomCursor(t),this},i.prototype.setCursorDynamicBehavior=function(t){return this.Qm.eg(t),this},i.prototype.setCursorFormatting=function(t){return this.Qm.setCursorFormatting(t),this},i.prototype.getCursorFormatting=function(){return this.Qm.getCursorFormatting()},i.prototype.addCursor=function(t){void 0===t&&(t=el);var i=this.Xy(),n=t.pm(i,this.uiScale,this.uiScale,this.Gy(i),this.xi);return this.tA(n),n},i.prototype.addSlice=function(t,i){var n=new iA(this.CT,this.BT,this.DT,this,this.hd,this.FT,this.xi,this.Ai.yn);this.CT+=1,n.setName(t);var r=this.Ie;return this.Ie=!1,n.setValue(i),this.Ie=r,n.setEffect(this.OT),this.VT(n),this.xT.push(n),this.IT(),n.setHighlightOnHover(this.wT),this.Dn.forEach((function(t){t.Iy()&&t.lf(n)})),n},i.prototype.addSlices=function(t){for(var i=[],n=0;n<t.length;n+=1)i.push(this.addSlice(t[n].name,t[n].value));return i},i.prototype.getSlices=function(){return this.xT},i.prototype.setMultipleSliceExplosion=function(t){return this.Dj=t,this},i.prototype.getMultipleSliceExplosion=function(){return this.Dj},i.prototype.setInnerRadius=function(t){return this.Xf=t,this.Ai.Fn(),this},i.prototype.getInnerRadius=function(){return this.Xf},i.prototype.setSliceExplosionOffset=function(t){return this.Lj=t,this.Ai.Fn(),this},i.prototype.getSliceExplosionOffset=function(){return this.Lj},i.prototype.setLUT=function(t){return this.Tv=t,this.Ai.Fn(),this},i.prototype.setSliceFillStyle=function(t){this.LT=t;for(var i=0;i<this.xT.length;i+=1)this.VT(this.xT[i]);return this.Ai.Fn(),this},i.prototype.getSliceFillStyle=function(){return this.LT},i.prototype.setSliceStrokeStyle=function(t){this.ET="function"==typeof t?t(this.ET):t;for(var i=0;i<this.xT.length;i+=1)this.VT(this.xT[i]);return this.Ai.Fn(),this},i.prototype.getSliceStrokeStyle=function(){return this.ET},i.prototype.setSliceEffect=function(t){return this.OT=t,this.xT.forEach((function(i){return i.yn.pn.On(t)})),this.Ai.Fn(),this},i.prototype.getSliceEffect=function(){return this.OT},i.prototype.setSliceSorter=function(t){return this.ST=t,this.xT=this.xT.sort(this.ST),this.Ai.Fn(),this},i.prototype.getSliceSorter=function(){return this.ST},i.prototype.setLabelFillStyle=function(t){this.zT="function"==typeof t?t(this.zT):t;for(var i=0;i<this.xT.length;i+=1)this.VT(this.xT[i]);return this.Ai.Fn(),this},i.prototype.getLabelFillStyle=function(){return this.zT},i.prototype.setLabelShadow=function(t){return this.MT=t,this.Ai.Fn(),this},i.prototype.getLabelShadow=function(){return this.MT},i.prototype.setLabelFont=function(t){this.PT="function"==typeof t?t(this.PT):t;for(var i=0;i<this.xT.length;i+=1)this.VT(this.xT[i]);return this.Ai.Fn(),this},i.prototype.getLabelFont=function(){return this.PT},i.prototype.setLabelEffect=function(t){return this.jT=t,this.xT.forEach((function(i){return i.yn.bn.On(t)})),this.Ai.Fn(),this},i.prototype.getLabelEffect=function(){return this.jT},i.prototype.setLabelFormatter=function(t){return this.NT=t,this.Ai.Fn(),this},i.prototype.getLabelFormatter=function(){return this.NT},i.prototype.setSliceHighlightOnHover=function(t){return this.wT=t,this.xT.forEach((function(i){return i.setHighlightOnHover(t)})),this},i.prototype.ie=function(i){var n=this;t.prototype.ie.call(this,i),t.prototype.iA.call(this);var r=xf(this.Ve,this.eA),e=this.Dn.reduce((function(t,i){var e=i.Io(r,n.Ls);return{top:Math.max(t.top,e.top),bottom:Math.max(t.bottom,e.bottom),left:Math.max(t.left,e.left),right:Math.max(t.right,e.right)}}),{top:0,bottom:0,left:0,right:0});Sf(this.Ve,this.eA,this.uiScale.oi(),this.Ls,e);var o=h(this.hd.x.getInnerInterval()-(this.Ls.left+this.Ls.right),this.hd.y.getInnerInterval()-(this.Ls.bottom+this.Ls.top+r)),s=h(o.x-e.left-e.right,o.y-e.top-e.bottom),a=h(this.Ls.left+(o.x+e.left-e.right)/2,this.Ls.bottom+(o.y+e.bottom-e.top)/2);if(this.Tv){var u=this.Tv;this.xT.forEach((function(t){n.VT(t,new Ur({color:u.getColors(t.getAnimatedValue(),void 0)}))}))}for(var f=0;f<this.xT.length;f+=1){var c=Math.abs(this.xT[f].getAnimatedValue())>0;this.xT[f].nk.setVisible(c),this.xT[f].Oo.setVisible(c)}this.xT=this.xT.sort(this.ST);var l=this.xT.filter((function(t){return Math.abs(t.getAnimatedValue())>0})),v=0;for(f=0;f<l.length;f+=1)v+=Math.abs(l[f].getAnimatedValue());var d,y=[];for(f=0;f<l.length;f+=1)y.push((d=Math.abs(l[f].getAnimatedValue()))>0?d/v:0);for(f=0;f<l.length;f+=1){var A=l[f];A.Oo.Wo(this.NT(A,y[f])).Io()}this.Qm.ie(!1,this.xT,(function(t,i,r){var e=y[l.indexOf(t)]||0,o=n.Ai.Uu(i);return{cursorPosition:{pointMarker:{x:o.engineX,y:o.engineY},pointMarkerScale:n.Ai.ai,resultTable:{x:o.engineX,y:o.engineY},resultTableScale:n.Ai.ai},slice:t,category:t.getName(),value:t.getValue(),relativeValue:e}})),this.Dn.forEach((function(t){return t.ie(r,n.Ls)})),this.RT(l,y,a,s)},i.prototype.VT=function(t,i){void 0===i&&(i=this.LT(t.index,t)),t.setStyle(i,this.ET,this.zT,this.PT,this.MT)},i.prototype.IT=function(){this.xT=this.xT.sort(this.ST),this.Ai.Fn()},i.prototype.By=function(){return this.xT},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.xT.slice().forEach((function(t){return t.dispose()})),this.Qm.V(),this.DT.V(),this.BT.V(),this},i.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},i}(gf),Qp=function(t,i,n){return[[{component:i.slice,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[{text:i.value.toString(),font:{weight:"bold"}}]]},Jp=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kp=function(t){function i(i,n,r,e,o,s,a){var u=t.call(this,i,n,r,e,o,s,a)||this;return u.NT=Py.NamePlusValue,u.HT=[],u.Ej=40,u.Pj=5,u.zj=10,u.ZT=u.xi.pieChartConnectorStrokeStyle,u}return Jp(i,t),i.prototype.setLabelConnectorStyle=function(t){this.ZT=t;for(var i=0;i<this.HT.length;i+=1)this.HT[i].fe(this.ZT);return this.Ai.Fn(),this},i.prototype.getLabelConnectorStyle=function(){return this.ZT},i.prototype.setLabelSliceOffset=function(t){return this.Ej=t,this.Ai.Fn(),this},i.prototype.getLabelSliceOffset=function(){return this.Ej},i.prototype.setLabelConnectorGapStart=function(t){return this.Pj=t,this.Ai.Fn(),this},i.prototype.getLabelConnectorGapStart=function(){return this.Pj},i.prototype.setLabelConnectorEndLength=function(t){return this.zj=t,this.Ai.Fn(),this},i.prototype.getLabelConnectorEndLength=function(){return this.zj},i.prototype.RT=function(t,i,n,r){var e=this,o=this.PT.getSize(),s=this.Ej,a=this.zj,u=this.Pj,f=Math.min(this.Lj,s-u),c=0;if(1===t.length)c=t[0].Oo.Oc().x;else for(var l=0;l<t.length;l+=1)c=Math.max(c,t[l].Oo.Oc().x);var v=Math.max(.5*(Math.min(r.x-2*c-2*a,r.y-2*o)-2*s),0);if(v<50){var d=Math.max(.5*Math.min(r.x,r.y-2*o),0);Hp(t,i,n,d,this.Xf,f),t.forEach((function(t){return t.Oo.setVisible(!1)})),this.HT.forEach((function(t){return t.setVisible(!1)}))}else{Hp(t,i,n,v,this.Xf,f);var y=90,A=t.map((function(t,r){var e=360*i[r],o=y-e,u=dr(lr(.5*(y+o))),h=u.x>=0?-1:1,f=or(or(n,er(u,v+s)),{x:h*-a,y:0});y=o;var c={x:h,y:0};t.Oo.ne(f).Uh(c),t.Oo.Io();var l=t.Oo.Tc();return{position:f,alignment:c,shape:t.Oo,boundaries:l,sliceAngleVec:u,slice:t}})),b=[];for(l=0;l<A.length;l+=1){var p=A[l],m=b[b.length-1];m&&!1!==Nn([m.boundaries,p.boundaries])?p.shape.setVisible(!1):(b.push(p),p.shape.setVisible(!0))}for(l=0;l<this.HT.length;l+=1)this.HT[l].setVisible(!1);b.forEach((function(t,i){var r,o,s,a,c,l=t.slice.nk,d=Xp(l,n,v+u+f*t.slice.getAnimatedExplosion()),y=(r=t.position.y,o=d,a=((s=n).y-o.y)/(s.x-o.x),c=o.x+(r-o.y)/a,h(c,r)),A=t.position;e.QT([d,y,A])}))}},i.prototype.getMinimumSize=function(){return h(500,300)},i.prototype.QT=function(t){for(var i,n=0;n<this.HT.length;n+=1)if(!this.HT[n].getVisible()){i=this.HT[n].setVisible(!0);break}void 0===i&&(i=this.DT.QA(this.hd,void 0,[Of.InternalUI]).fe(this.ZT).setPointerEvents(!1),this.HT.push(i)),i.zi().lf(t)},i}(Zp),qp=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.NT=Py.Name,i.Nj=.5,i}return Jp(i,t),i.prototype.RT=function(t,i,n,r){var e=this.Lj,o=Math.max(0,.5*Math.min(r.x,r.y)-e);Hp(t,i,n,o,this.Xf,e);for(var s=0;s<t.length;s+=1){var a=t[s],u=a.nk,h=a.Oo,f=this.Xf/100,c=((1-f)*this.Nj+f)*o+a.getAnimatedExplosion()*e,l=Xp(u,n,c);h.ne(l).zh(0).Rh(0)}},i.prototype.getMinimumSize=function(){return h(200,200)},i.prototype.setLabelPosition=function(t){return this.Nj=t,this.Ai.Fn(),this},i.prototype.getLabelPosition=function(){return this.Nj},i}(Zp),$p={LabelsOnSides:Kp,LabelsInsideSlices:qp},tm=100001,im=200002,nm=300002,rm=400001,em=510001,om=function(t,i){var n=Math.floor(99999/i),r=Math.floor(99999/i),e=Math.floor(99998/i),o=Math.floor(99998/i),s=Math.floor(99999/(i+1)),a=Math.floor(89999/(i+1)),u=em+i*a,h=0;return{Vj:function(){var i=t.Rj("dashboard ui",u+h);return h+=1,i},Gj:function(){return t.Rj("dashboard legend",51e4)},Uj:function(i){var u=1+i*n,h=tm+i*r,f=im+i*e,c=nm+i*o,l=rm+i*s,v=em+i*a,d=0;return{Ai:t,rA:function(i,n){var r=u+n;return t.Rj(i,r)},Vm:function(i,n){var r=h+n;return t.Rj(i,r)},vC:function(i,n){var r=f+n;return t.Rj(i,r)},Rm:function(i,n){var r=c+n;return t.Rj(i,r)},Nm:function(i,n,r){var e=c+n;return t.Yj(i,e,r)},aA:function(i,n){var r=l+n;return t.Rj(i,r)},Hy:function(i){var n=v+d,r=t.Rj(i,n);return d+=1,r},Qy:function(){return t.Rj("panel legend",500002+i)},Zm:function(){return t.Rj("panel cursor",600001+i)}}}}},sm=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),am=function(t){function i(n,r){var e,o="ChartError: ".concat(n," ").concat(r?"in ".concat(r.constructor.name):"");return e=t.call(this,o)||this,Object.setPrototypeOf(e,i.prototype),e}return sm(i,t),i}(Error),um=function(t){function i(n,r,e){void 0===e&&(e=!1);var o,s="EngineError: ".concat(n," ").concat(r?"in ".concat(r.constructor.name):"");return o=t.call(this,s)||this,e&&ci.alert(s),Object.setPrototypeOf(o,i.prototype),o}return sm(i,t),i}(Error),hm=function(t){function i(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,i.prototype),r}return sm(i,t),i}(um),fm=function(){function t(t){this.j=new Nt,this.S=t}return t.prototype.C=function(t){return this.S=t,this.j.D("change",{value:t}),this},t.prototype.T=function(){return this.S},t.prototype.L=function(t,i,n){this.j.addEventListener(t,i,n)},t.prototype.N=function(t,i){this.j.removeEventListener(t,i)},t}(),cm=function(){return cm=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},cm.apply(this,arguments)},lm=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},vm=function(t,i){return i?t.x:t.y},dm=function(t,i,n,r,e,o){for(var s=i.length,a=Math.sign(r),u=[],h=i.reduce((function(t,i){return t+i})),f=1;f<=s-1;f+=1)u.push(vm(e,o)*i.slice(0,f).reduce((function(t,i){return t+i}),0)/h);var c=u.map((function(t){return 0})),l=u[n-1]+r,v=function(i){var r=t.filter((function(t){return function(t,i,n,r){return 1===i&&r===(n?t.columnIndex:t.rowIndex)||-1===i&&r===(n?t.columnIndex+t.columnSpan:t.rowIndex+t.rowSpan)}(t,a,o,i)})),s=r.reduce((function(t,i){return Math.max(t,vm(i.panel.getMinimumSize()||{x:0,y:0},o))}),20),h=u[i-1];return 1===a&&l>vm(e,o)-s||-1===a&&l<0+s?(c.fill(0),"break"):i!==n&&(1===a?h>l:h<l)?"break":(c[i-1]=l-h,void(l+=s*a))};for(f=n;f>0&&f<s&&"break"!==v(f);f+=a);var d=c.map((function(t,i){return u[i]+t})),y=d.map((function(t,i){return(t-(i>0?d[i-1]:0))/vm(e,o)}));return y.push(1-y.reduce((function(t,i){return t+i}),0)),y},ym=function(){function t(t,i,n,r,e,o){var s=this;this.coordsRelative="relative",this.coordsClient="client",this.fi=!1,this.n_=new Array,this.Wj=[],this.Xj=void 0,this.Hj=!0,this.Zj=!0,this.Qj=!0,this.zy=!1,this.Jj=!0,this.Kj=function(){s.Jj=!0,s.Ai.Fn()},this.qj=[],this.$j=function(t){for(var i=0;i<s.n_.length;i+=1)if(s.n_[i].panel===t){s.n_.splice(i,1),s.Hj=!0,s.Ai.Fn();break}},this.tB=function(t){var i=s.Wj.indexOf(t);i>=0&&s.Wj.splice(i,1)},this.iB=function(t,i,n,r,e){if(s.nB(i,n,r,e)){var o={panel:t,columnIndex:i,rowIndex:n,columnSpan:r,rowSpan:e};return s.n_.push(o),s.rB(o),s.Hj=!0,t}throw new am("Out of dashboard range.")},this.j=new Nt,this.eB=i.numberOfRows,this.oB=i.numberOfColumns,this.Uy=t,this.sB=i,this.aB=r;var a=this.oB*this.eB;this.uB={x:new fm(new Array(this.oB).fill(1)),y:new fm(new Array(this.eB).fill(1))},this.xi=n.xi,this.hB=this.xi.dashboardSplitterStyle,this.Ie=!1!==(null==i?void 0:i.animationsEnabled),this.fB=om(n,a),this.cB=n.Rj("dashboard splitters",500001),this.lB=function(){return s.fB.Vj()},this.Zy=this.fB.Gj(),this.yn=n.yn.An(this,{vB:{}}),this.yn.vB.On(this.xi.effectsDashboardSplitters);var u=n.Mt();this.uiScale=ot.d2({scaleXYConstructor:nt}).ti(0,100).ii(0,100).Z(u),this.hd=ot.d2({scaleXYConstructor:nt}).ti(0,this.uiScale.x.getCellSize()).ii(0,this.uiScale.y.getCellSize()).Z(u),this.dB=n.yB.bind(n),this.AB=n.bB.bind(n),this.pB=n.mB.bind(n),this.gB=n.xB.bind(n),this.Bu=n.Bu.bind(n),this.Lu=n.Lu.bind(n),this.engine=n.Wy,this.Ai=n.Fc,n.L("resize",this.Kj),n.Fn();var h=function(t){s.zy=t.isInView,s.j.D("inviewchange",{isInView:s.zy})};n.L("inviewchanged",h),this.$y=function(){n.N("inviewchanged",h)},this.SB(),this.setAnimationsEnabled(this.Ie),this.createChartXY=function(t){var i=Am(t,s.sB,s.Ie);return s.iB(new Hd(s.Uy,s.fB.Uj(s.wB(t.columnIndex,t.rowIndex)),s.MB(i,s.uB),s.$j,o,i,s),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createSpiderChart=function(t){var i=Am(t,s.sB,s.Ie);return s.iB(new DA(s.Uy,s.fB.Uj(s.wB(t.columnIndex,t.rowIndex)),s.MB(i,s.uB),s.$j,o,i,s),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createPolarChart=function(t){var i=Am(t,s.sB,s.Ie);return s.iB(new ky(s.Uy,s.fB.Uj(s.wB(t.columnIndex,t.rowIndex)),s.MB(i,s.uB),s.$j,o,i,s),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createPieChart=function(t){var i=Am(t,s.sB,s.Ie),n=i&&i.type?i.type:Kp;return s.iB(new n(s.Uy,s.fB.Uj(s.wB(t.columnIndex,t.rowIndex)),s.MB(i,s.uB),s.$j,o,s,i),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createGaugeChart=function(t){var i=Am(t,s.sB,s.Ie);return s.iB(new vp(s.Uy,s.fB.Uj(s.wB(t.columnIndex,t.rowIndex)),s.MB(i,s.uB),s.$j,o,s,i),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createFunnelChart=function(t){var i=Am(t,s.sB,s.Ie),n=i&&i.type?i.type:Zy;return s.iB(new n(s.Uy,s.fB.Uj(s.wB(t.columnIndex,t.rowIndex)),s.MB(i,s.uB),s.$j,o,s,i),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createPyramidChart=function(t){var i=Am(t,s.sB,s.Ie),n=t&&t.type?t.type:AA;return s.iB(new n(s.Uy,s.fB.Uj(s.wB(t.columnIndex,t.rowIndex)),s.MB(i,s.uB),s.$j,o,s,i),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createUIPanel=function(t){var i=Am(t,s.sB,s.Ie);return s.iB(new bf(s.Uy,s.fB.Uj(s.wB(t.columnIndex,t.rowIndex)),s.MB(i,s.uB),s.$j,o,s),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createLegendPanel=function(t){var i=Am(t,s.sB,s.Ie);return s.iB(new Dp(s.Uy,s.fB.Uj(s.wB(t.columnIndex,t.rowIndex)),s.MB(i,s.uB),s.$j,o,s,t.legend),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createZoomBandChart=function(t){var i=Am(t,s.sB,s.Ie);return s.iB(new oy(s.Uy,s.fB.Uj(s.wB(t.columnIndex,t.rowIndex)),s.MB(i,s.uB),s.$j,o,i,s),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createMapChart=function(t){var i=Am(t,s.sB,s.Ie);return s.iB(new _l(s.Uy,s.fB.Uj(s.wB(t.columnIndex,t.rowIndex)),s.MB(i,s.uB),s.$j,o,i,s),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createChart3D=function(t){var i=Am(t,s.sB,s.Ie),n=new Jc(s.Uy,s.fB.Uj(s.wB(t.columnIndex,t.rowIndex)),s.MB(i,s.uB),s.$j,o,s,i);return s.iB(n,i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createDataGrid=function(t){var i=Am(t,s.sB,s.Ie),n=new Cb(s.Uy,s.fB.Uj(s.wB(t.columnIndex,t.rowIndex)),s.MB(i,s.uB),s.$j,o,s);return s.iB(n,i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createBarChart=function(t){var i=Am(t,s.sB,s.Ie),n=new Gb(s.Uy,s.fB.Uj(s.wB(t.columnIndex,t.rowIndex)),s.MB(i,s.uB),s.$j,o,s,i);return s.iB(n,i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createParallelCoordinateChart=function(t){var i=Am(t,s.sB,s.Ie),n=new Fp(s.Uy,s.fB.Uj(s.wB(t.columnIndex,t.rowIndex)),s.MB(i,s.uB),s.$j,o,s,i);return s.iB(n,i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)}}return t.prototype.wB=function(t,i){return t+i*this.oB},t.prototype.MB=function(t,i){var n=this;return{d1:function(r){return new r.scale1DConstructor("x"===r.dimension?t.columnIndex:t.rowIndex,"x"===r.dimension?t.columnSpan:t.rowSpan,"x"===r.dimension?n.oB:n.eB,"x"===r.dimension?i.x:i.y)},d2:function(r){return(new r.scaleXYConstructor).ei({x:t.columnIndex,y:t.rowIndex},{x:t.columnSpan,y:t.rowSpan},{x:n.oB,y:n.eB},i)},d3:function(){return new H({x:t.columnIndex,y:t.rowIndex},{x:t.columnSpan,y:t.rowSpan},{x:n.oB,y:n.eB},i)}}},t.prototype.setWidth=function(t){return t instanceof Array||(t=[t,t]),this.dB(t[0]),this.AB(t[1]),this},t.prototype.setHeight=function(t){return t instanceof Array||(t=[t,t]),this.pB(t[0]),this.gB(t[1]),this},t.prototype.getWidth=function(){return this.Bu()},t.prototype.getHeight=function(){return this.Lu()},t.prototype.setBackgroundFillStyle=function(t){return this.engine.setBackgroundFillStyle(t),this.cB.Fn(),this},t.prototype.getBackgroundFillStyle=function(){return this.engine.getBackgroundFillStyle()},t.prototype.setBackgroundStrokeStyle=function(t){return this.engine.setBackgroundStrokeStyle(t),this.cB.Fn(),this},t.prototype.getBackgroundStrokeStyle=function(){return this.engine.getBackgroundStrokeStyle()},t.prototype.getTheme=function(){return this.xi},t.prototype.setSplitterStyle=function(t){var i=this.hB;return this.hB="function"==typeof t?t(this.hB):t,this.CB(i),this},t.prototype.getSplitterStyle=function(){return this.hB},t.prototype.setSplitterEffect=function(t){return this.yn.vB.On(t),this.Ai.Fn(),this},t.prototype.getSplitterEffect=function(){return this.yn.vB.In()},t.prototype.setAnimationHighlight=function(t){var i=this;return this.Qj=t,this.qj.forEach((function(n){return i.Ai.gn.Pn(n.line,t)})),this},t.prototype.getAnimationHighlight=function(){return this.Qj},t.prototype.CB=function(t){var i,n;try{for(var r=lm(this.qj),e=r.next();!e.done;e=r.next())e.value.line.fe(this.hB)}catch(t){i={error:t}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}this.SB()},t.prototype.setColumnWidth=function(t,i){var n=this.uB.x.T();return t>=0&&t<n.length&&(n[t]=i,this.uB.x.C(n)),this.Kj(),this},t.prototype.getColumnWidth=function(t){var i=this.uB.x.T();if(t>=i.length)throw new am("Column index is out of dashboard range.");return i[t]},t.prototype.setRowHeight=function(t,i){var n=this.uB.y.T();return t>=0&&t<n.length&&(n[Math.abs(n.length-1-t)]=i,this.uB.y.C(n)),this.Kj(),this},t.prototype.getRowHeight=function(t){var i=this.uB.y.T();if(t>=i.length)throw new am("Row index is out of dashboard range.");return i[Math.abs(i.length-1-t)]},t.prototype.getSizePixels=function(){return this.hd.getInnerIntervalPixels()},t.prototype.TB=function(t,i,n){var r,e;if(n&&Math.abs(t.x)>0)this.kB(i,t.x);else{if(n||!(Math.abs(t.y)>0))return;this._B(i,t.y)}try{for(var o=lm(this.n_),s=o.next();!s.done;s=o.next())s.value.panel.W()}catch(t){r={error:t}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}this.Kj()},t.prototype._B=function(t,i){var n=dm(this.n_,this.uB.y.T(),t,i,this.hd.Mt(),!1);this.uB.y.C(n),this.Kj()},t.prototype.kB=function(t,i){var n=dm(this.n_,this.uB.x.T(),t,i,this.hd.Mt(),!0);this.uB.x.C(n),this.Kj()},t.prototype.OB=function(){var t=this;this.qj.forEach((function(t){return t.line.dispose()})),this.qj.length=0;for(var i=function(i){for(var r=function(r){if(void 0!==n.n_.find((function(t){return Gn(r,t.rowIndex,t.rowIndex+t.rowSpan-1)&&(i===t.columnIndex||i===t.columnIndex+t.columnSpan)}))){var e=n.cB.ce(n.hd).fe(n.hB);e.addEventListener("pointerenter",(function(n){t.qj.forEach((function(n){"vertical"===n.alignment&&n.column===i&&(t.Ai.gn.En(n.line,1),t.cB.FB(n.line))})),t.Xj=t.engine.setMouseStyle(vo.ResizeColumn,t.Xj),t.Ai.Fn()})),e.addEventListener("pointerleave",(function(n){t.qj.forEach((function(n){"vertical"===n.alignment&&n.column===i&&t.Ai.gn.En(n.line,0)})),t.Xj=t.engine.restoreMouseStyle(t.Xj),t.Ai.Fn()})),e.addEventListener("pointerdown",(function(n){Pi(n);var r=n,e=function(n){Pi(n),t.Xj=t.engine.setMouseStyle(vo.ResizeColumn,t.Xj),t.qj.forEach((function(n){"vertical"===n.alignment&&n.column===i&&(t.Ai.gn.En(n.line,1),t.cB.FB(n.line))}));var e={x:n.clientX-r.clientX,y:n.clientY-r.clientY};r=n,t.TB(e,i,!0)},o=function(r){r.pointerId===n.pointerId&&(t.qj.forEach((function(n){"vertical"===n.alignment&&n.column===i&&t.Ai.gn.En(n.line,0)})),t.Xj=t.engine.restoreMouseStyle(t.Xj),ci.removeEventListener("pointermove",e),ci.removeEventListener("pointerup",o))};ci.addEventListener("pointermove",e),ci.addEventListener("pointerup",o)})),n.Ai.gn.mn(e,(function(t){return e.Oi(t)}),{animationEnabled:n.Qj}),n.qj.push({row:r,column:i,line:e,alignment:"vertical"})}},e=0;e<=n.eB-1;e+=1)r(e)},n=this,r=1;r<=this.oB-1;r+=1)i(r);for(var e=function(i){for(var n=function(n){if(void 0!==o.n_.find((function(t){return Gn(n,t.columnIndex,t.columnIndex+t.columnSpan-1)&&(i===t.rowIndex||i===t.rowIndex+t.rowSpan)}))){var r=o.cB.ce(o.hd).fe(o.hB);r.addEventListener("pointerenter",(function(n){t.qj.forEach((function(n){"horizontal"===n.alignment&&n.row===i&&(t.Ai.gn.En(n.line,1),t.cB.FB(n.line))})),t.Xj=t.engine.setMouseStyle(vo.ResizeRow,t.Xj),t.Ai.Fn()})),r.addEventListener("pointerleave",(function(n){t.qj.forEach((function(n){"horizontal"===n.alignment&&n.row===i&&t.Ai.gn.En(n.line,0)})),t.Xj=t.engine.restoreMouseStyle(t.Xj),t.Ai.Fn()})),r.addEventListener("pointerdown",(function(n){Pi(n);var r=n,e=function(n){Pi(n),t.Xj=t.engine.setMouseStyle(vo.ResizeRow,t.Xj),t.qj.forEach((function(n){"horizontal"===n.alignment&&n.row===i&&(t.Ai.gn.En(n.line,1),t.cB.FB(n.line))}));var e={x:n.clientX-r.clientX,y:-(n.clientY-r.clientY)};r=n,t.TB(e,i,!1)},o=function(r){r.pointerId===n.pointerId&&(t.qj.forEach((function(n){"horizontal"===n.alignment&&n.row===i&&t.Ai.gn.En(n.line,0)})),t.Xj=t.engine.restoreMouseStyle(t.Xj),ci.removeEventListener("pointermove",e),ci.removeEventListener("pointerup",o))};ci.addEventListener("pointermove",e),ci.addEventListener("pointerup",o)})),o.Ai.gn.mn(r,(function(t){return r.Oi(t)}),{animationEnabled:o.Qj}),o.qj.push({row:i,column:n,line:r,alignment:"horizontal"})}},r=0;r<=o.oB-1;r+=1)n(r)},o=this,s=1;s<=this.eB-1;s+=1)e(s);this.yn.vB.wn(this.qj.map((function(t){return t.line})))},t.prototype.IB=function(){var t=this.hd.Mt(),i=this.uB.x.T(),n=i.reduce((function(t,i){return t+i})),r=this.uB.y.T(),e=r.reduce((function(t,i){return t+i}));this.qj.forEach((function(o){if("vertical"===o.alignment){var s=h(t.x*i.slice(0,o.column).reduce((function(t,i){return t+i}),0)/n,t.y*r.slice(0,o.row).reduce((function(t,i){return t+i}),0)/e),a=h(s.x,t.y*r.slice(0,o.row+1).reduce((function(t,i){return t+i}),0)/e);o.line.ve(s).le(a)}else s=h(t.x*i.slice(0,o.column).reduce((function(t,i){return t+i}),0)/n,t.y*r.slice(0,o.row).reduce((function(t,i){return t+i}),0)/e),a=h(t.x*i.slice(0,o.column+1).reduce((function(t,i){return t+i}),0)/n,s.y),o.line.ve(s).le(a)}))},t.prototype.setAnimationsEnabled=function(t){return this.Ie=t,this.getCells().filter((function(t){return t.panel instanceof gf})).forEach((function(i){return i.panel.setAnimationsEnabled(t)})),this.setAnimationHighlight(this.Ie),this},t.prototype.getAnimationsEnabled=function(){return this.Ie},t.prototype.getCells=function(){return this.n_.slice()},t.prototype.dispose=function(){return this.fi||(this.$y&&this.$y(),this.n_.slice().forEach((function(t){return t.panel.dispose()})),this.Wj.slice().forEach((function(t){return t.dispose()})),this.fi=!0,this.aB(),this.j.D("dispose",{})),this},t.prototype.isDisposed=function(){return this.fi},t.prototype.getIsInView=function(){return this.zy},t.prototype.saveToFile=function(t,i,n,r){return Xh(this.engine,t,i,n,r),this},t.prototype.Ic=function(t){var i,n;if(this.Jj){var r=this.Ai.ai.Mt(),e=r.x,o=r.y;this.uiScale.Z(e,o),this.hd.Z(e,o);var s=this.uiScale.getInnerIntervalPixels();this.hd.ti(0,s.x).ii(0,s.y),this.j.D("resize",{width:s.x,height:s.y,engineWidth:e,engineHeight:o}),this.Zj=!0}this.Hj&&(this.OB(),this.Hj=!1,this.Zj=!0),this.Zj&&(this.IB(),this.Zj=!1);try{for(var a=lm(this.n_),u=a.next();!u.done;u=a.next())u.value.panel.ie(t)}catch(t){i={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return this.Wj.forEach((function(t){return t.Io()})),this.Wj.forEach((function(t){return t.ie()})),this.Jj=!1,this},t.prototype.Y=function(){var t,i;try{for(var n=lm(this.n_),r=n.next();!r.done;r=n.next())r.value.panel.Y()}catch(i){t={error:i}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}return this.hd.x.Y(),this.hd.y.Y(),this.uiScale.x.Y(),this.uiScale.y.Y(),this},t.prototype.W=function(){var t,i;try{for(var n=lm(this.n_),r=n.next();!r.done;r=n.next())r.value.panel.W()}catch(i){t={error:i}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}return this.hd.x.W(),this.hd.y.W(),this.uiScale.x.W(),this.uiScale.y.W(),this},t.prototype.translateCoordinate=function(t,i,n){return Qh(t,i,n,this.hd,this.Ai)},t.prototype.addUIElement=function(t,i){void 0===t&&(t=ku),void 0===i&&(i=this.uiScale),i=Zh(i,this.hd);var n=Hh(t,this.lB(),this.uiScale,i,this.tB,this.xi);return this.Wj.push(n),n},t.prototype.nB=function(t,i,n,r){return i>=0&&t>=0&&i+r<=this.eB&&t+n<=this.oB},t.prototype.rB=function(t){var i=this.hB,n=i===qt?0:i.getThickness()/2,r={left:t.columnIndex>0?n:0,top:t.rowIndex<this.eB-1?n:0,right:t.columnIndex<this.oB-1?n:0,bottom:t.rowIndex>0?n:0};t.panel.As(r)},t.prototype.SB=function(){var t,i;this.uiScale.x.At([0,0]),this.uiScale.y.At([0,0]),this.hd.x.At([0,0]),this.hd.y.At([0,0]);try{for(var n=lm(this.n_),r=n.next();!r.done;r=n.next()){var e=r.value;this.rB(e)}}catch(i){t={error:i}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}this.Ai.Fn()},t.prototype.addEventListener=function(t,i,n){this.j.addEventListener(t,i,n)},t.prototype.removeEventListener=function(t,i){this.j.removeEventListener(t,i)},t}(),Am=function(t,i,n){var r,e,o=cm(cm({},t),{columnSpan:t.columnSpan||1,rowSpan:t.rowSpan||1,animationsEnabled:void 0!==t.animationsEnabled?t.animationsEnabled:n});return o.rowIndex=(r=o.rowIndex,e=o.rowSpan,i.numberOfRows-(r+e)),o},bm=function(t,i,n){void 0===i&&(i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAgCAYAAADwkoGKAAAsa2NhQlgAACxranVtYgAAAB5qdW1kYzJwYQARABCAAACqADibcQNjMnBhAAAALEVqdW1iAAAAR2p1bWRjMm1hABEAEIAAAKoAOJtxA3Vybjp1dWlkOjlmZDBkZjkzLTVmMDMtNDczYi1hZThhLTFhNDM4NmMzNmJhYQAAAAGzanVtYgAAAClqdW1kYzJhcwARABCAAACqADibcQNjMnBhLmFzc2VydGlvbnMAAAAA12p1bWIAAAAmanVtZGNib3IAEQAQgAAAqgA4m3EDYzJwYS5hY3Rpb25zAAAAAKljYm9yoWdhY3Rpb25zgaNmYWN0aW9ua2MycGEuZWRpdGVkbXNvZnR3YXJlQWdlbnRtQWRvYmUgRmlyZWZseXFkaWdpdGFsU291cmNlVHlwZXhTaHR0cDovL2N2LmlwdGMub3JnL25ld3Njb2Rlcy9kaWdpdGFsc291cmNldHlwZS9jb21wb3NpdGVXaXRoVHJhaW5lZEFsZ29yaXRobWljTWVkaWEAAACranVtYgAAAChqdW1kY2JvcgARABCAAACqADibcQNjMnBhLmhhc2guZGF0YQAAAAB7Y2JvcqVqZXhjbHVzaW9uc4GiZXN0YXJ0GCFmbGVuZ3RoGSx3ZG5hbWVuanVtYmYgbWFuaWZlc3RjYWxnZnNoYTI1NmRoYXNoWCBvErgv+J0u7bVCYViyMUgw5yMb8idAv1erA3/DALx9NWNwYWRIAAAAAAAAAAAAAAIDanVtYgAAACRqdW1kYzJjbAARABCAAACqADibcQNjMnBhLmNsYWltAAAAAddjYm9yqGhkYzp0aXRsZW9HZW5lcmF0ZWQgaW1hZ2VpZGM6Zm9ybWF0aWltYWdlL3BuZ2ppbnN0YW5jZUlEeCh4bXAuaWlkOjI3NEMxQjdDN0E0MDExRUVBQkZFQUNFQjJDOTA0NzVCb2NsYWltX2dlbmVyYXRvcng2QWRvYmVfUGhvdG9zaG9wLzI1LjIuMCBhZG9iZV9jMnBhLzAuNy42IGMycGEtcnMvMC4yNS4ydGNsYWltX2dlbmVyYXRvcl9pbmZvgb9kbmFtZW9BZG9iZSBQaG90b3Nob3BndmVyc2lvbmYyNS4yLjD/aXNpZ25hdHVyZXgZc2VsZiNqdW1iZj1jMnBhLnNpZ25hdHVyZWphc3NlcnRpb25zgqJjdXJseCdzZWxmI2p1bWJmPWMycGEuYXNzZXJ0aW9ucy9jMnBhLmFjdGlvbnNkaGFzaFggSmnBvf+o3kEweL4k7cz4MTrB0WSVNFZxoA1rBrM31K+iY3VybHgpc2VsZiNqdW1iZj1jMnBhLmFzc2VydGlvbnMvYzJwYS5oYXNoLmRhdGFkaGFzaFggL2g6Dghd536quyA5vPlS/9NGA5WvLRkkKJmqn0VxCoFjYWxnZnNoYTI1NgAAKEBqdW1iAAAAKGp1bWRjMmNzABEAEIAAAKoAOJtxA2MycGEuc2lnbmF0dXJlAAAAKBBjYm9y0oREoQE4JKNmc2lnVHN0oWl0c3RUb2tlbnOBoWN2YWxZDjYwgg4yMAMCAQAwgg4pBgkqhkiG9w0BBwKggg4aMIIOFgIBAzEPMA0GCWCGSAFlAwQCAQUAMIGCBgsqhkiG9w0BCRABBKBzBHEwbwIBAQYJYIZIAYb9bAcBMDEwDQYJYIZIAWUDBAIBBQAEIHj4VpJDPzaO0x4hOPnj/w1GTHuwXU0IpBf4VVocIQzoAhB3SsxvHza2JR1fKj3Mjr0yGA8yMDIzMTEwMzExNTcyNloCCQCyOL6wAOGCbaCCC70wggUHMIIC76ADAgECAhAFHp6R1x6RCrvkPVzt0N3ZMA0GCSqGSIb3DQEBCwUAMGMxCzAJBgNVBAYTAlVTMRcwFQYDVQQKEw5EaWdpQ2VydCwgSW5jLjE7MDkGA1UEAxMyRGlnaUNlcnQgVHJ1c3RlZCBHNCBSU0E0MDk2IFNIQTI1NiBUaW1lU3RhbXBpbmcgQ0EwHhcNMjMwOTA4MDAwMDAwWhcNMzQxMjA3MjM1OTU5WjBYMQswCQYDVQQGEwJVUzEXMBUGA1UEChMORGlnaUNlcnQsIEluYy4xMDAuBgNVBAMTJ0RpZ2lDZXJ0IEFkb2JlIEFBVEwgVGltZXN0YW1wIFJlc3BvbmRlcjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABE0srlH5A/+15/MFl1asNh8Q8TubOsEVfu0qlJrF0smjtwL1IeHZ/AB7J59u1Trpho1BDN85lfTY30rNBsfT+myjggGLMIIBhzAOBgNVHQ8BAf8EBAMCB4AwDAYDVR0TAQH/BAIwADAWBgNVHSUBAf8EDDAKBggrBgEFBQcDCDAgBgNVHSAEGTAXMAgGBmeBDAEEAjALBglghkgBhv1sBwEwHwYDVR0jBBgwFoAUuhbZbU2FL3MpdpovdYxqII+eyG8wHQYDVR0OBBYEFLA1qlbDIamLztO4vIsWJVed7zThMFoGA1UdHwRTMFEwT6BNoEuGSWh0dHA6Ly9jcmwzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydFRydXN0ZWRHNFJTQTQwOTZTSEEyNTZUaW1lU3RhbXBpbmdDQS5jcmwwgZAGCCsGAQUFBwEBBIGDMIGAMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC5kaWdpY2VydC5jb20wWAYIKwYBBQUHMAKGTGh0dHA6Ly9jYWNlcnRzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydFRydXN0ZWRHNFJTQTQwOTZTSEEyNTZUaW1lU3RhbXBpbmdDQS5jcnQwDQYJKoZIhvcNAQELBQADggIBAHgrjELHhBCEWJSCyRX7lsL0C9LJgbX1ryVYySNRxHkMR2LqC7PQZRJgDNR+kJop8P5v2Bzp/jMrzw4U4pY6rYv3I8HpFlJa4uBwUTIUgHWpi8Xxd1JEEX94POODi7HySekX60A055BozFb7GGVaxb0LreQTRXnkr6ggPNUPX9Gh+2ScOxlTdQQLgZbkdYvxo3Ap6cy9riZijRxOZqiOyWSxMUhgKxeKzwrFW6Xbe0awNhOUXZzIxc4ixpKzWSItpPJ30ZiBQn49U3ADYTnshbN9ZkTA1pHf/Nov2ZUvvddkZ8UYvwo9vBvLTDvnmABnRMBKaXYAs3ZCvw9CkDPOWTeUJMFRAtmUx52ohaA3nD8bCJ6UfpQ2pFfOdShwpb6GKv0g+BgcdIG2LHPJ0Ufmr+XmpgZgq/HIge0hjcCADpjDgq2z4B0L4xtAA1M8MrUx02hxb7104nFKqMuv5zJTQl3sgwqXUyP+9zHQP9y/Z5Fx/AQWrOXCW56dV7P4cFBJl8zHqinlhkOStZ1m22+9Hlq+eC0hJ2lkF1LuzRdJJb/51LXoPKRnopFDng6XpoD7eG6w4YpAx9+P00JuUoBsYSrdsuFiyWyQQGBAnjI69ggbSLcW+hJytuinaxawVlItJkS2eV5Z4XsxPg7f82uRkdtN0hTHeI93CN3OWeRebnK7MIIGrjCCBJagAwIBAgIQBzY3tyRUfNhHrP0oZipeWzANBgkqhkiG9w0BAQsFADBiMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMSEwHwYDVQQDExhEaWdpQ2VydCBUcnVzdGVkIFJvb3QgRzQwHhcNMjIwMzIzMDAwMDAwWhcNMzcwMzIyMjM1OTU5WjBjMQswCQYDVQQGEwJVUzEXMBUGA1UEChMORGlnaUNlcnQsIEluYy4xOzA5BgNVBAMTMkRpZ2lDZXJ0IFRydXN0ZWQgRzQgUlNBNDA5NiBTSEEyNTYgVGltZVN0YW1waW5nIENBMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAxoY1BkmzwT1ySVFVxyUDxPKRN6mXUaHW0oPRnkyibaCwzIP5WvYRoUQVQl+kiPNo+n3znIkLf50fng8zH1ATCyZzlm34V6gCff1DtITaEfFzsbPuK4CEiiIY3+vaPcQXf6sZKz5C3GeO6lE98NZW1OcoLevTsbV15x8GZY2UKdPZ7Gnf2ZCHRgB720RBidx8ald68Dd5n12sy+iEZLRS8nZH92GDGd1ftFQLIWhuNyG7QKxfst5Kfc71ORJn7w6lY2zkpsUdzTYNXNXmG6jBZHRAp8ByxbpOH7G1WE15/tePc5OsLDnipUjW8LAxE6lXKZYnLvWHpo9OdhVVJnCYJn+gGkcgQ+NDY4B7dW4nJZCYOjgRs/b2nuY7W+yB3iIU2YIqx5K/oN7jPqJz+ucfWmyU8lKVEStYdEAoq3NDzt9KoRxrOMUp88qqlnNCaJ+2RrOdOqPVA+C/8KI8ykLcGEh/FDTP0kyr75s9/g64ZCr6dSgkQe1CvwWcZklSUPRR8zZJTYsg0ixXNXkrqPNFYLwjjVj33GHek/45wPmyMKVM1+mYSlg+0wOI/rOP015LdhJRk8mMDDtbiiKowSYI+RQQEgN9XyO7ZONj4KbhPvbCdLI/Hgl27KtdRnXiYKNYCQEoAA6EVO7O6V3IXjASvUaetdN2udIOa5kM0jO0zbECAwEAAaOCAV0wggFZMBIGA1UdEwEB/wQIMAYBAf8CAQAwHQYDVR0OBBYEFLoW2W1NhS9zKXaaL3WMaiCPnshvMB8GA1UdIwQYMBaAFOzX44LScV1kTN8uZz/nupiuHA9PMA4GA1UdDwEB/wQEAwIBhjATBgNVHSUEDDAKBggrBgEFBQcDCDB3BggrBgEFBQcBAQRrMGkwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmRpZ2ljZXJ0LmNvbTBBBggrBgEFBQcwAoY1aHR0cDovL2NhY2VydHMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0VHJ1c3RlZFJvb3RHNC5jcnQwQwYDVR0fBDwwOjA4oDagNIYyaHR0cDovL2NybDMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0VHJ1c3RlZFJvb3RHNC5jcmwwIAYDVR0gBBkwFzAIBgZngQwBBAIwCwYJYIZIAYb9bAcBMA0GCSqGSIb3DQEBCwUAA4ICAQB9WY7Ak7ZvmKlEIgF+ZtbYIULhsBguEE0TzzBTzr8Y+8dQXeJLKftwig2qKWn8acHPHQfpPmDI2AvlXFvXbYf6hCAlNDFnzbYSlm/EUExiHQwIgqgWvalWzxVzjQEiJc6VaT9Hd/tydBTX/6tPiix6q4XNQ1/tYLaqT5Fmniye4Iqs5f2MvGQmh2ySvZ180HAKfO+ovHVPulr3qRCyXen/KFSJ8NWKcXZl2szwcqMj+sAngkSumScbqyQeJsG33irr9p6xeZmBo1aGqwpFyd/EjaDnmPv7pp1yr8THwcFqcdnGE4AJxLafzYeHJLtPo0m5d2aR8XKc6UsCUqc3fpNTrDsdCEkPlM05et3/JWOZJyw9P2un8WbDQc1PtkCbISFA0LcTJM3cHXg65J6t5TRxktcma+Q4c6umAU+9Pzt4rUyt+8SVe+0KXzM5h0F4ejjpnOHdI/0dKNPH+ejxmF/7K9h+8kaddSweJywm228Vex4Ziza4k9Tm8heZWcpw8De/mADfIBZPJ/tgZxahZrrdVcA6KYawmKAr7ZVBtzrVFZgxtGIJDwq9gdkT/r+k0fNX2bwE+oLeMt8EifAAzV3C+dAjfwAL5HYCJtnwZXZCpimHCUcr5n8apIUP/JiW9lVUKx+A+sDyDivl1vupL0QVSucTDh3bNzgaoSv27dZ8/DGCAbgwggG0AgEBMHcwYzELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDkRpZ2lDZXJ0LCBJbmMuMTswOQYDVQQDEzJEaWdpQ2VydCBUcnVzdGVkIEc0IFJTQTQwOTYgU0hBMjU2IFRpbWVTdGFtcGluZyBDQQIQBR6ekdcekQq75D1c7dDd2TANBglghkgBZQMEAgEFAKCB0TAaBgkqhkiG9w0BCQMxDQYLKoZIhvcNAQkQAQQwHAYJKoZIhvcNAQkFMQ8XDTIzMTEwMzExNTcyNlowKwYLKoZIhvcNAQkQAgwxHDAaMBgwFgQU2Rq5M/4XremCHqYT9aQ6cU4+fn0wLwYJKoZIhvcNAQkEMSIEIGmY+GsCefCDmP0PFcYjdxBUfi0EgKYuEZb9pUMyLNuVMDcGCyqGSIb3DQEJEAIvMSgwJjAkMCIEIILa8ZSVezaEAkWP1ScAaf5ixxRW+p4Lhqv4J+hTICfZMAoGCCqGSM49BAMCBEcwRQIgcxxuf7QHV9Fkpj1VhPrFqhNFh8dZzl8qUU/2N3Sr4eoCIQDKu0KGYL++CSsDAXjJciMDbr5ImTy3jw0yQU5GYYeLimd4NWNoYWluglkGMzCCBi8wggQXoAMCAQICEBtbCzvasORd8vMNnlTR2tIwDQYJKoZIhvcNAQELBQAwdTELMAkGA1UEBhMCVVMxIzAhBgNVBAoTGkFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkMR0wGwYDVQQLExRBZG9iZSBUcnVzdCBTZXJ2aWNlczEiMCAGA1UEAxMZQWRvYmUgUHJvZHVjdCBTZXJ2aWNlcyBHMzAeFw0yMzAyMDEwMDAwMDBaFw0yNDAyMDEyMzU5NTlaMIGhMREwDwYDVQQDDAhjYWktcHJvZDEcMBoGA1UECwwTQ29udGVudCBDcmVkZW50aWFsczETMBEGA1UECgwKQWRvYmUgSW5jLjERMA8GA1UEBwwIU2FuIEpvc2UxEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMSQwIgYJKoZIhvcNAQkBFhVncnAtY2FpLW9wc0BhZG9iZS5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDv0wCnfYY9lkHDsykrTG7FYlnYHBcyualuD5u9ULjzv+FsTWOLg8Nhrz9RTxI9EeBbu3Wm7f4vqPsQYfxkEp0wIa6DVmEOZhbAeRfbhybWQ/D4Wvvck4mEZR+QZmTpIn7HX61gbtMFHlJUxkYBctIoAt9TBAFbz9d5Ig2WG0bsH39b6/8USXnIIk4FB6dtBRT1xeEwSDtwOd1YBpXXNBJmRWHXNJZZ85of2tBTesg/kMvTrOJJxYDZ97U416wcvbVomlees+NXUY3/ZB4xH+NsZils7m1bL2v2hSnHiLoqZeUKklbHUmT4ZpjrZCdtuIsWm5j2PPXKr7HKUuCbZSXBAgMBAAWjggGMMIIBiDAMBgNVHRMBAf8EAjAAMA4GA1UdDwEB/wQEAwIHgDAeBgNVHSUEFzAVBgkqhkiG9y8BAQwGCCsGAQUFBwMEMIGOBgNVHSAEgYYwgYMwgYAGCSqGSIb3LwECAzBzMHEGCCsGAQUFBwICMGUMY1lvdSBhcmUgbm90IHBlcm1pdHRlZCB0byB1c2UgdGhpcyBMaWNlbnNlIENlcnRpZmljYXRlIGV4Y2VwdCBhcyBwZXJtaXR0ZWQgYnkgdGhlIGxpY2Vuc2UgYWdyZWVtZW50LjBdBgNVHR8EVjBUMFKgUKBOhkxodHRwOi8vcGtpLWNybC5zeW1hdXRoLmNvbS9jYV83YTVjM2EwYzczMTE3NDA2YWRkMTkzMTJiYzFiYzIzZi9MYXRlc3RDUkwuY3JsMDcGCCsGAQUFBwEBBCswKTAnBggrBgEFBQcwAYYbaHR0cDovL3BraS1vY3NwLnN5bWF1dGguY29tMB8GA1UdIwQYMBaAFFcpejJNzP7kNU7AHyRzznNTq99qMA0GCSqGSIb3DQEBCwUAA4ICAQBXjlGa3yAK/Gijn6n/JNU9FZm72MP6vc5czrWe9y0T+EawuRvhpD5Edi1TnXkrpe8sMkgSjTGdbY+yGhq8zlCWQeXN1/aWo3L9Xr1uNxY/oVpLn0uWWfnfJ7yR9gKl/yoMfhjydT4t1fXHi/MhfhrWSVRHqX2U31UFGz/e298P2kv+vqhzpIUo1bj+jibtoPLMMQcCOTtKiJOTh4o3VSZpwQDERCzo91NkF+LnZjwYl6fE5USIkg/oCoomXxSPpowybDrcRJ9ilbtJcER48/LGgwzv/c7OYdron4PnEXm1FkOaVj+QRf7OwiNTizonhIzLR5Vfp0QHOWv/bPzvCjPQd+Xr0Q4032WlSxQwostNTAPtoVAU4OCwVH3Ech38emJ00/6fkDCdr7MN8/4n2LSNrMUvaBEZdmLqDCBnO02dbFrmpg3pTc0FqRQ4GL/88pjRNSMy5tU9SoQnSCGYqIsjfL8AzgPEGiXXRgABYc1uXecf4/eayb3K2MPs7hnWTbUKpHHJIwxpdN3vTGdZNWpz9Oxfuo3eELQlkTvACHgqkaXi/FAanHe5PChn6fr1/4cNF8goD0buPApgS3zzwqjRhxrH8ISwPfJn8JqzurMaLDMnnc18tHzUiMtX73jf6oXh7voCxX/T4D3nFPlxU3om2cpcLQ1Wd4026x18rlSGR1kGpTCCBqEwggSJoAMCAQICEAyotlR7iebSBol1zYubieIwDQYJKoZIhvcNAQELBQAwbDELMAkGA1UEBhMCVVMxIzAhBgNVBAoTGkFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkMR0wGwYDVQQLExRBZG9iZSBUcnVzdCBTZXJ2aWNlczEZMBcGA1UEAxMQQWRvYmUgUm9vdCBDQSBHMjAeFw0xNjExMjkwMDAwMDBaFw00MTExMjgyMzU5NTlaMHUxCzAJBgNVBAYTAlVTMSMwIQYDVQQKExpBZG9iZSBTeXN0ZW1zIEluY29ycG9yYXRlZDEdMBsGA1UECxMUQWRvYmUgVHJ1c3QgU2VydmljZXMxIjAgBgNVBAMTGUFkb2JlIFByb2R1Y3QgU2VydmljZXMgRzMwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQC3Hy69vQmzXEhs/gyDrmwB6lF4JaSAPomnsbKIZNr2iXaB+fkd85X8eJiNmI7P5O4cVT4Nc1p3zrESqBV4ZUyW8gcZ78QdwoHG8QNd2VNcHnMgSR+XT9Iafsnq9Nfww3Jt9KL3l5ANQ5n1+MJqr48EWNLll942bOL/JH4ywDSMoqhZqtJEIUUUGlQVBZ8CAvJc7LE6ddA5C52PE2Ppa7RfQgHXf4gfXVZwpxYRZcziPiOHqEvLb0J3cShUbejFxV6cwX8QyAPa1ePHg1RtM0HX+D34xHo3DkyGnmT+Ddq00TEDGG26AL5PdINKFIQl+zaq6KJFQe1fdGE5wrWzU4mBPmzaz3EbLn+7FWlwAhorYqIMldbfHE3ydc+aTU1JW7+bG19qmvhO9IluGtTtQDeqFBj2fg6faxsfVfVPD7stN6TwoIDlkOCE4RE+Iin8m3z3eqi/VsTmsmRqBxWDRaqOHz02EJoEDxXJG3ei+UbIIp01XZQvdufm90WxOTuqqan2ZqTPX9K5VdjEh/ovr7xFc5q1dZo+Sa5y4sTVM854/tLU3klOgUKzzSXYPYS3GhBcYJHjwr9xNRHnNX99D6F0g7OijScWfvtjxh13aTv/H0ETvymah4yfDpVdh9cK5YSCPqnuOlsujFAyhYwJXOWDvZZU2EkWVLDhoPx9zp7N4QIDAQABo4IBNDCCATAwEgYDVR0TAQH/BAgwBgEB/wIBADA1BgNVHR8ELjAsMCqgKKAmhiRodHRwOi8vY3JsLmFkb2JlLmNvbS9hZG9iZXJvb3RnMi5jcmwwDgYDVR0PAQH/BAQDAgEGMBQGA1UdJQQNMAsGCSqGSIb3LwEBBzBXBgNVHSAEUDBOMEwGCSqGSIb3LwECAzA/MD0GCCsGAQUFBwIBFjFodHRwczovL3d3dy5hZG9iZS5jb20vbWlzYy9wa2kvcHJvZF9zdmNlX2Nwcy5odG1sMCQGA1UdEQQdMBukGTAXMRUwEwYDVQQDEwxTWU1DLTQwOTYtMzMwHQYDVR0OBBYEFFcpejJNzP7kNU7AHyRzznNTq99qMB8GA1UdIwQYMBaAFKYc4W1UJEyoj0hyv26pjNXk7DHUMA0GCSqGSIb3DQEBCwUAA4ICAQBxzuUHjKbcLdzI4DtlXgCSgZXrlSAkr59pOF3JfPG42qVNAGU7JcEYXJ6+WbfcGwY7WYMl+jO7IvJPb7shXFYW9bnJgxX7lLU14KExchmcLNY1ee6IhBJ2Y8PzZMRUKSd5CkURPg0PBLGjz/KR/DofHx+G4rPTCOGORYxeYrd01lci5hVxvKccvIk7MD69ZTewfZPSM+0WnsU3f0Zmd7hgbRpUyWceG0eHFpdUKK/ZFWhHjDVC28odCnN885tHncKXviItK0ZUUo/AIthFKlhEXsnq9VL9fFbgvO83ZvpUQo5y8mY3cuGnEVGXdhjNb53CfC1u4dbpYmWaN99subUzEsUaUb3loLPfVfzDOpg2y9v37kBdy/wuXr20teY7U62xj/fAgs1QSnhUtlMTfCqbefyEycKVmKIrJkJLsvgTSYKVvH4FFIwfd5WjqOC97jX98rcVAzhAI0iSkazsWOMvL6m0L4nLJapx+85GsVX8Y6AHmEP4bmCElwil6KAP+UewJFiw5rmwV2pESHAhYuZJa03B8tl0nd2QJzvJGmbeBqXqpF9ORinFM3HErK8puRokOjFH2+1asLeI2tB31W/ELdNe27Ogduq6Z6qBwCp59YX27qydDhD0WRfN64kCs25K88iGAGNW2CAfTDS+b+WYJBiIL9jXYZ4LF+BiUvfdu2NwYWRZC70AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPZZAQBKX2Q2ihN2fLDLReHISpfOF0xIqNpOZXbBwZ0XanWG98erbIBdawl7r9nVma/uZjYH457wp00TVpKYUTJHMnzJMKskvM2Df4K6t5pUKGtJqEvMXLUy3g9kJq53aYDwikcUE+8wv+CYtu/+vii4XYSXQIxT4NN+JKoTDXmrNH1G46Nmpfq6SKk0g9GQ2brbkW3fzGR0xDxY3BXRy71guSBxN9TAbQGqUjMnkIyBcwV9wUQ2oCW9oIMNKASjW0CRkcFEzzmrQ+y+zHYpNvUaG7QehHcyhvOec3plzlyP6DZeQWp3PHA5bmonI8t5j6Qj15X1KnQiXuJ0rW+xoMA89aIVmpx4VgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAOSaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA5LjEtYzAwMSA3OS4xNDYyODk5Nzc3LCAyMDIzLzA2LzI1LTIzOjU3OjE0ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjYyYTdmYWExLWJmZTMtMjE0Ny04MjAwLWMxM2NlMGU4ZTc1NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNzRDMUI3RDdBNDAxMUVFQUJGRUFDRUIyQzkwNDc1QiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNzRDMUI3QzdBNDAxMUVFQUJGRUFDRUIyQzkwNDc1QiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjUuMiAoMjAyMzEwMjQubS4yMzc0IDRhYjk0MzkpICAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphYjQzZjNjYy1hNTY4LTRkNGQtOTdiZC1iYjk0YjBlZjhjYmQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjJhN2ZhYTEtYmZlMy0yMTQ3LTgyMDAtYzEzY2UwZThlNzU0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+HNvo5wAADZFJREFUeNrsXFtPVUkW3gc4yP0qDigKON517FFbHRGn1TamjaOJvvhsjIkvPplgfEKe1AefNDE+GP+AmWTszPTYcbpn2piJzc1GWwlOekRBEBFQ7jeZ9ZVrnVkUtfc5CGp3h5VU9qUuu3bVV9+67DonND4+7omEQiHPJaWlpYlxcXGLKX8epTCdB5aXNnHU6c2bN5POcaREp+O9dHxSX1/f5s3KL1ImYCkasMrKyvIISJspD+AyZSTpOrodDSaIBpQCkwtgSM8oVd2/f39M2quoqAijmcrKyjG/l7L77vde+v6sfCRgbdu2LY3AtJNSgg0qDa5oTOViKQtM9nXTgQMHaqmpPEoLKXUQqJpcYIqPj/cSEhLMUZgUbYyNjZkjRPpu50n+VEUvKtditMEb7Xom5OrVqzvpkOXIukFps5XXTunO4cOHR7heKp1/ye1gEX9BCcdv6H4330cbCyh9iXrRgJUQ1FmarFWUIqDS4ApiCT9AobxMpj24uI/209LSvMLCwiLKz6fyQModAlW73TeAac6cOV5SUpIBlasv9qKRvgBYIyMj3tDQkDmPdaLRPzwrHA6bhGsNWr9xsMfEZnC7XDSg+tzv4lRCCRPfjJtHjhzpu3LlCkDVx4BKZICsx9gy4PT4rmFQQbIpdfM5ynX7gWrS/Phl7NixI0SDWCCD52Is14vqAXIByoluAkl+fr43f/58Lyvr7cIaHh4OJSYmfkug6rXZApOamprqUb6vned3X4CBujj29/cbkEl/7EUj74o+og4S2gh6xkypk6mUPXnyZN25c+fCDKzm8vLyOuQzqCAtJ06cuH/+/PkwAytMLCR57VjQFy5cmKeAiXJZGOeLFy/iPBVt4Nqeb60dogKLBm9O/FvxXIwVxBAaUBpgixYt8np7e7329vYJZUtKSkwSefHihVdTU9N2586dXrtfmNj09HQz0dMRvAsYD0dhLryrvG8s7/w+ZCrPcJSdx8duAb+6l0WgWqeu/8uMZMoDWCTr+BpMVoZ8jLUq18XXgdohEFg0cXF6kF2s5Uf9NqBwxL0FCxaYSXz58qWZSNzr6+vzioqKIm01NTV5ZLgbT9HuExgGAzBdUOmJEeb6EKD5AJKt1KJ9TwAFNrpz6tSpljNnzgiQuuh8DbNSNx9HlF0mx26/cbTHLy6AsSKGcVCyjWepJwnS2trqbdiwwZyDJaDyUBbslZmZGTG6Hz9+7D18+NDdUSqTkpIyY6B6V5b4mYsBAIGm27rXR/f+DFXGKm5Ega6P7a5lqvw6sbMIcFkKlCUAI6esQI0QBCwBjxirNqCkDACSkZFhQKLVCSassbHR27Jli6kvsnDhQnN8/vy5t3Hjxsj95ubmSQ6CVoEA5a8IBO+LsSKgoskPKxaC1DKo1mmDXF1/AwAyCO+rNoX1FrANVqLA6V6sfuGGgwcPphBovrCBIuwCgRp7+vSpAUd2dra5bmtrM6pvdHTUu3fvnrGdNHhEbt265XV1dXn79+9/y8V0XltbGwkDkKpsqqqqqhG2AmgBrFn5+Qo0Uyw21gRm0kwCLwqAAgC2b99u2AQCVYWyACtUGkRUoC2bNm0yYBIBe/l5ncKaWmg1hrj/47TCRu32ebUam4LyAweEymK1QG+PUdk3PmXCrGZicrej9e99CD0znvs4NsPtRh2fmMMNLmBBYHgDmTC4ly1bNslWAbhu375tyh06dGgCw2kB+yDEAIEh39HR4RsjE+/NkgJKf0DwlNJ3jkndi2Yo/QXOZ5RxWElpOaUqSk99QLWPErzUr2OcD+j7T+GPUKqZocldyu2mWWbMv1mt4T3q2OObSVnNz46MD49xMfelE85ArOGGiA2FSR0cHDRggVe3fv16Lzc317cXCBeUlZUZu8sVBLUF7YrnaDMWygsjWpLJx1eOvCS8LKX+GFeYdPS1T356wLOC7NcOK/g4HSbaSmku2zZtlo0D6l8U5R2mIxmO91/F79iP8aY+lmhAR2Us09PXr439hAles2ZNoK2Tl5dnwgorV66clHfz5k1v165dk8CFuJYfWwm4/Twgn4FMZqO0U00OPg/lsgck0k3Ae6JACq8HamsAJgPl9fOAzef8VLpey1HtVGXUQoZ45b7QawzgojqpauJNZIYnpEXUFpWZw8ZxMqsdEdgUixlUqPMt1RlygE8mv4jO5/M7tFHZXs4HI+uJG4YFQvldnF+sAPRGjd8SSjl8fzGVG6I6Dxk76GcKl8uOlbESh4eHDVOBpWCcQ/1F88qQv2fPnknlnjx5YsIJOBYXF/9/NqhtANcV8ZbYlc8zswJYJJ8H5Eem7A3WxEYmjdVcigycyltBeV/RsVANbDKDrJnL5jom+Dsa+A5e0WDOn7g/Kx3PR/06qpPDjBS28gG6e6pfDT6gimeV5LF6iqh4focxHo84Ne8hzv8ng2sJA6tfjUedROkZbPkqRhbie8JauTEBi7y6ePncAQaaO3fulKLaWgDQgYEBoxrh+WlgiW3l9znFNtp5IBN5kv0YS6vJYgYVVlU120mfUPot58sqbeaBxJh8zqs7TIN+i573R2aMfykGQD2w21dcfx2DMI3yXjOosLqH6Fr6U8VqDHGhzVw2ns8T2BaTWNMefrc09a7PA1R1iNuuYibZwfXmUB8Qq/qrZa9tZjs1i65fcRswHf5O1zuYgZ7yeG1jdq3SbM9gauFF8yimOBYABaN66dKlUwKVS0TVQT2+evVqgjcIYAWxXxQ12O/jcWUq0MlqvwtQsIeo8zOUWoQHOcCTNMbqQsqPcTARE5PCk/+a64woB6HPYf/JMzq57KgqW8AAaKa8Jn4fbfOlKe92wGeoMq13GFQqdwD95aDmZ5Q+Z9AJwwwoYL5Wn3vqHH2JCOU9pkMjg7jWMgH8GYtspVx8cIwW6QYDrV271rccgATGAkhgm8GTfPDggbd161YTWIUqdLGVnPt4lQKsQQebJTCVj7CNlO4YmAwFlCUaBAo0XVR/nK6T+RqTNh5g7GuwLrTyMxlMfY760r/eKI4J+hJSffA1rlm9o989DK5SLtOmnpOm+pCr6zNoojpJVK6HnxFbuKGiomI5u5hRQVVdXW0+0UjowGa97u6Jn5ewewExMIAN3mA0lepjX8nLgsYXMy2P8SAmWJM6zGoJhnkrr7BEBRwbJLYHJJ/zQ5gwZhx7IkMMkEFWfZF8BcxOFU9zAes33L9+yzERMKLP66nMM8V4HjNFpgPI0r9kft4AmwLjzE4wD0Z58S0OMCvk/RMDgB1zHGtZtIoIgopKe/TokRNYnZ2dzroAIsAFo93Vrq0OAxgLdPZ7TZBsLOtBAl2vZbvqE1VWT4JWM/YkDfJk4P4+GtxqR5l07otrYjMdk6Ydj24ebxjwO23CZ6A+YGegiJOn+vY3xcC9jncY5TwA7E92+zGEW/r5+CnbUjdijbXYbJXs8E6ck11aWmp2G+B7oC1Qc2AsP+AAVHqT3RR3Vd5nQ9dO93hw6ik95hX9H7jonF/PIQBjj7ARC9f5rhUTQrlWrt/L9e/y/XbOq1ce0ihfy0A85useZop6K2gJ8P8A0FACo/7De7tV5Qd4sgIa8QDp2IBoDTNOvU7Mlo1sQ44rwNSzwS3t19l14WWq/tb4qLW76rn3Yp2gSd8KCVjwWMqC1JP6nmei8Ddu3DBRdgmI4jshDHbkByVpQ5+rY9P3339fk5OT46m9RVMNLGLQf2cxdCGff62M3I8m1EcY73nqVg4nhBYe/FK+EwJH+E4cpAozgxoQlhEQwGNctWqVUW2rV6+OGOx++96jbcm193bJBrx3lBQV3NRu8o+xgCrWvervsoddWD8pKamQ40Py9QEM00htNrzrnvxY3yeW/kUTIRlbO7kYa4OlxyMsZG87loQ8Yhdv9+7dJkIPYGk28mOrFStWGOMeux+wdx0foq9fvx7Z3QDGgmeK9D63y8j74D2QpI+unZHTAZdsgJzKxE33vfQzowEuluC3q57eyx/EWBn2DQQ3MdDa9bd/xrV8+fLIpx8beH4/HigoKHgbKi4u9s6ePeuVl5cbYOkOIxwB0M30Bj+0DRDhy4LE7KSfszJ9SbAMd0+5vxEjG6EB+SWMRq3eepycnGwMdq0mfX7aNWHbsrAhovvXrl2bpCKRB2DDSZjuKpd2AVa0qX9EMSszK3GOmEWCjopLgBMJE4GEyZajVh8OA9zJXBpUOL98+bJ37Ngxr6WlRbPbuIABrILPS+8KAtRD/3t6ekzsTBbLLKg+HLC0GrxLkzCmAaWTDSptm0QDGf92cMKvdy5duuQdPXpU6+sB7TAAWFCzOI8VTCiLOoinIeaGNqbyO8JZmXlg3a2srPyJANQqQHIBTIPLBlYQc8GTxM5SAdHevXvNr3NgSylGe2Z7owAG2AZHcSbshHJgOJQDoCSeNgumj2hjMbAMqHBBE/IAv0imiU6AjSUGvN9Pv1z2lAtc2AiILTg4r6mpMfGP48ePew0NDdJGU21t7SuXaysAt3e26l85z7LSx5cJ4YbTp0/PJVBN2G6wb9++PJrAzdif5fpBhTaK/f70I1qygPeMrqvq6upi0nmuPyWZlY8XJPWNY7mEVJX5GyNK8yiFg34J7fM3RYEgIyCN09H8jVF1dfXs3xj9CoD1PwEGAKorJqR4atjIAAAAAElFTkSuQmCC");var r,e=0,o=0,s=[],a=function(t){var i=new ci.Image;i.src=t,i.onload=function(){s.forEach((function(t){var n,r=new Qt({source:i,fitMode:_t.Stretch});null===(n=t.Cl)||void 0===n||n.$r(r),e=i.width,o=i.height,l(t)}))}};a(i);var u,h=function(t){a(t.logoDataURI)};if(t.mu.addEventListener("logochange",h),new ci.Image instanceof ci.HTMLImageElement)(f=new ci.Image).src=i,u=new Qt({source:f,fitMode:_t.Stretch});else if(ci.lcjs_setup){var f;(f=new ci.Image).src=i;var c=ci.lcjs_setup(f.naturalWidth,f.naturalHeight);c.getContext("2d").drawImage(f,0,0),u=new Qt({source:c,fitMode:_t.Stretch})}else u=new Ur({color:M("#f00")});var l=function(t){if(t.Cl){var i=t.ai.Jt({x:t.ai.x.getInnerEnd(),y:t.ai.y.getInnerStart()},{x:-(3+e),y:3}),n=t.ai.Jt({x:t.ai.x.getInnerEnd(),y:t.ai.y.getInnerStart()},{x:-3,y:3+o}),s={x:n.x-i.x,y:n.y-i.y};t.Cl.ne(i).Z(s)}r&&r.Fn()};return r=t.Rj("logo",Number.MAX_SAFE_INTEGER),function(i){var e={ai:i};return function(i){var e,o=n&&"cGx1Z2lu"in n&&"cHl0aG9u"===n.cGx1Z2lu?mm:pm;i.Cl&&i.Cl.dispose(),r&&(i.Cl=r.te(i.ai).$r(u).setPointerEvents(!0).qr(qt),i.Cl.addEventListener("pointerenter",(function(){e=t.Fs(vo.Point)})),i.Cl.addEventListener("pointerleave",(function(){e=t.Is(e)})),i.Cl.addEventListener("click",o),l(i))}(e),s.push(e),{Io:function(){return l(e)},V:function(){return function(i){i.Cl&&(i.Cl.dispose(),i.Cl=void 0);var n=s.indexOf(i);n>=0&&s.splice(n,1),s.length<=0&&t.mu.removeEventListener("logochange",h)}(e)}}}},pm=function(){return ci.open("https://lightningchart.com/lightningchart-js/")},mm=function(){return ci.open("https://lightningchart.com/python-charts/")},gm=function(){function t(){this.jB=this.BB.bind(this),ci.addEventListener("scroll",this.jB,{passive:!0})}return t.prototype.V=function(){this.jB&&ci.removeEventListener("scroll",this.jB),this.jB=void 0},t}(),xm=function(t,i){this.gh=t,this.U=i,this.DB=!0,this.LB=null,this.EB=null},Sm=function(){function t(t){this.PB=!1,this.zB=1,this.NB=t,this.VB={gh:h(0,0),U:h(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),DB:!0,LB:null,EB:null},this.RB=h(64,64),this.GB=new Uint8ClampedArray(this.RB.x*this.RB.y*this.zB)}return t.prototype.UB=function(t,i){if(!t.DB)return null;if(t.LB&&t.EB){var n=this.UB(t.LB,i);return null!==n?n:this.UB(t.EB,i)}var r,e,o=f(t.U.x,t.U.y);if(t.gh.x+t.U.x>=Number.MAX_SAFE_INTEGER&&(o.x=this.RB.x-t.gh.x-1),t.gh.y+t.U.y>=Number.MAX_SAFE_INTEGER&&(o.y=this.RB.y-t.gh.y-1),t.U.x===i.x&&t.U.y===i.y)return t.DB=!1,t;if(o.x<i.x||o.y<i.y)return null;var s=o.x-i.x,a=o.y-i.y,u=s<a;return 0===s&&0===a&&(u=!(t.U.x>t.U.y)),u?(r=new xm(or(t.gh,{x:0,y:1}),h(t.U.x,i.y)),e=new xm(or(t.gh,{x:0,y:i.y+1}),h(t.U.x,t.U.y-1-i.y))):(r=new xm(or(t.gh,{x:1,y:0}),h(i.x,t.U.y)),e=new xm(or(t.gh,{x:i.x+1,y:0}),h(t.U.x-1-i.x,t.U.y))),t.LB=r,t.EB=e,this.UB(t.LB,i)},t.prototype.YB=function(t,i){var n={WB:!1,gh:null},r=this.UB(this.VB,i);if(null===r)for(;null===r&&this.RB.x<this.NB&&this.RB.y<this.NB;){if(!this.XB(h(2*this.RB.x,2*this.RB.y)))return this.PB=!0,null;n.WB=!0,r=this.UB(this.VB,i)}if(null===r)return this.PB=!0,null;for(var e=0;e<i.y;e+=1)for(var o=0;o<i.x;o+=1){var s=r.gh.y+e,a=r.gh.x+o;this.GB[s*this.zB*this.RB.x+a*this.zB+0]=t[e*this.zB*i.x+o*this.zB+0]}return n.gh=r.gh,n},t.prototype.XB=function(t){if(t.x>this.NB||t.y>this.NB)return!1;for(var i=new Uint8ClampedArray(t.x*t.y*this.zB),n=0;n<this.RB.y;n+=1)for(var r=0;r<this.RB.x;r+=1)i[n*t.x*this.zB+r*this.zB+0]=this.GB[n*this.RB.x*this.zB+r*this.zB+0];return this.RB=t,this.GB=i,!0},t}(),wm=function(){return wm=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},wm.apply(this,arguments)},Mm=function(){function t(t){this.HB=new Map,this.NB=t,this.HB.set(this.HB.size,new Sm(this.NB))}return t.prototype.ZB=function(t){return this.HB.get(t)},t.prototype.YB=function(t,i){for(var n=-1,r=Array.from(this.HB.values()),e=0;e<r.length;e+=1){var o=r[e];if(!o)break;if(!o.PB){n=e;break}}-1===n&&(n=this.HB.size,this.HB.set(this.HB.size,new Sm(this.NB)));var s=this.HB.get(n);if(!s)return null;var a=s.YB(t,i);if(!a&&s.PB){var u=this.HB.size,h=new Sm(this.NB);this.HB.set(u,h),n=u,a=h.YB(t,i)}return a?wm({QB:n},a):null},t}();!function(t){t[t.Fail=0]="Fail",t[t.Success=1]="Success",t[t.Resize=2]="Resize"}($b||($b={}));var Cm=on("font-texture"),Tm=function(){function t(t){this.JB=new Map,this.KB=new Map,this.mi=Cm(),this.qB=t,this.$B=new Mm(this.qB.tD||4096)}return t.prototype.jc=function(){var t=this;return this.KB.forEach((function(i){t.qB.iD(i)})),this.KB.clear(),this},t.prototype.nD=function(t,i){var n=this.JB.get(i);if(n)return n.get(t)},t.prototype.rD=function(t,i,n){var r=this.JB.get(i);if(r||(r=new Map,this.JB.set(i,r)),r.has(t.glyph))return $b.Success;var e=this.$B.YB(n,t.size);if(!e||!e.gh)return $b.Fail;e.WB&&this.eD();var o=this.$B.ZB(e.QB);if(!o)return $b.Fail;var s=this.KB.get(e.QB);if(!s){var a=this.qB.gl.createTexture();if(!a)throw new um("Failed to create texture for font!");s=a,this.KB.set(e.QB,a)}var u=e.gh,h=o.RB.x,f=o.RB.y,c=-t.offsetX,l=t.baseline-t.size.y,v=-t.offsetX+t.size.x,d=t.baseline,y=u.x/h,A=(u.y+t.size.y)/f,b=(u.x+t.size.x)/h,p=u.y/f,m=[y,A,b,A,y,p,y,p,b,A,b,p],g=[c,l,v,l,c,d,c,d,v,l,v,d],x={origin:u,size:t.size,advanceX:t.advance,baseline:t.baseline,vertices:g,texCoords:m,packerId:e.QB,texture:s};r.set(t.glyph,x);var S=this.qB.gl;return S.pixelStorei(S.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),S.bindTexture(S.TEXTURE_2D,s),S.texImage2D(S.TEXTURE_2D,0,S.LUMINANCE,o.RB.x,o.RB.y,0,S.LUMINANCE,S.UNSIGNED_BYTE,this.qB.oD?o.GB:new Uint8Array(o.GB)),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.LINEAR),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.LINEAR),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.bindTexture(S.TEXTURE_2D,null),e.WB?$b.Resize:$b.Success},t.prototype.eD=function(){var t=this;this.JB.forEach((function(i){i.forEach((function(n,r){var e=t.$B.ZB(n.packerId);if(e){var o=n.origin,s=e.RB.x,a=e.RB.y,u=o.x/s,h=(o.y+n.size.y)/a,f=(o.x+n.size.x)/s,c=o.y/a,l=[u,h,f,h,u,c,u,c,f,h,f,c];n.texCoords=l,i.set(r,n)}}))}))},t}(),km=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},_m=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},Om=function(t){return function(i,n){return n%2?i:i+t}},Fm=function(){function t(t){this.sD=new Map,this.aD=on("font"),this.uD=new Map,this.hD=new Set,this.qB=t}return t.prototype.jc=function(t){var i=this;return void 0===t&&(t=!1),(t||0===this.hD.size)&&(this.sD.forEach((function(t,n){t.jc(),i.sD.delete(n)})),this.hD.clear()),this},t.prototype.el=function(t){this.hD.add(t)},t.prototype.fD=function(t){this.hD.delete(t)},t.prototype.cD=function(t,i,n,r){for(var e=ci.devicePixelRatio,o=Ks(i,e),s="".concat(r?"dark":"light"," - ").concat(o.id),a=this.uD.get(s),u=this.sD.get(a),h=0,f=0,c=0,l=t.split(""),v=i.size,d=.45*i.size*e,y=Math.round(1*i.size*e),A=!1,b=0;b<l.length;b+=1){var p=l[b],m=u&&u.nD(p,v);m?(""!==p.trim()&&(f=Math.max(f,m.baseline),h=Math.min(h,m.baseline-(m.size.y-1))),c+=m.advanceX):(""!==p.trim()&&(f=Math.max(f,0),h=Math.min(h,0-(y-1))),c+=d,A=!0)}var g=so(c/e,(f-h+1)/e,n);return{x:g.x,y:g.y,isEstimate:A}},t.prototype.lD=function(t,i,n){var r,e,o="".concat(n?"dark":"light"," - ").concat(i.id),s=this.uD.get(o);s||(s=this.aD(),this.sD.set(s,new Tm(this.qB)),this.uD.set(o,s));var a=this.sD.get(s);if(!a)throw new um("Failed to get font texture!");for(var u,f=0,c=0,l=t.split(""),v=new Map,y=0,A=i.properties.size,b=0;b<l.length;b+=1){var p=l[b],m=Math.ceil(y),g=a.nD(p,A);if(!g){var x=this.qB.vD(p,i.properties,i.dpr,n);if(!x)continue;var S=a.rD(x[1],A,x[0]);if(S===$b.Resize){this.hD.forEach((function(t){t.uh.o=!0})),b=-1,y=0,c=0,f=0,v.clear(),this.qB.Ai.Fn(!0);continue}if(S===$b.Fail)throw new um("Failed to create glyph");if(!(g=a.nD(p,A)))throw new um("Failed to get glyph after creation")}if(""!==p.trim()){var w=v.get(g.texture);w||(w={vertices:[],texCoords:[]},v.set(g.texture,w)),(r=w.vertices).push.apply(r,_m([],km(g.vertices.map(Om(m))),!1)),(e=w.texCoords).push.apply(e,_m([],km(g.texCoords),!1)),c=Math.max(c,g.baseline),f=Math.min(f,g.baseline-(g.size.y-1))}y+=g.advanceX}u=y;var M=d(h(0,f),h(u,c)),C=[];return v.forEach((function(t,i){C.push({texCoords:new Float32Array(t.texCoords),vertices:new Float32Array(t.vertices),texture:i})})),[C,M]},t}(),Im={roundUnsigned:{dD:"roundUnsigned",yD:"float roundUnsigned(float number) {\n  return floor(number + 0.5);\n}"},linearStep:{dD:"linearStep",yD:"float linearStep(float step0, float step1, float step) {\n  return clamp((step - step0) / (step1 - step0), 0.0, 1.0);\n}"},dither:{dD:"dither",yD:"\nconst mat4x4 bayerMatrix4x4 = mat4x4(\n    0.0,  8.0,  2.0, 10.0,\n    12.0, 4.0,  14.0, 6.0,\n    3.0,  11.0, 1.0, 9.0,\n    15.0, 7.0,  13.0, 5.0\n) / 16.0;\n\nvec4 dither(vec2 pos, vec4 c0, vec4 c1, float s0, float s1, float mixVal)\n{\n    float step = linearStep(s0, s1, mixVal);\n    int x = int(pos.x) % 4;\n    int y = int(pos.y) % 4;\n    float threshold = bayerMatrix4x4[y][x];\n    vec4 color = mix(c0, c1, step * 0.95 + threshold * 0.05);\n    return color;\n}"},decodeUbyteRGBAEncodedFloat:{dD:"decodeUbyteRGBAEncodedFloat",yD:"\n      // Denormalize 8-bit color channels to integers in the range 0 to 255.\n      ivec4 floatsToBytes(vec4 inputFloats, bool littleEndian) {\n        ivec4 bytes = ivec4(inputFloats * 255.0);\n        return (\n          littleEndian\n          ? bytes.abgr\n          : bytes\n        );\n      }\n      \n      // Break the four bytes down into an array of 32 bits.\n      void bytesToBits(const in ivec4 bytes, out bool bits[32]) {\n        for (int channelIndex = 0; channelIndex < 4; ++channelIndex) {\n          float acc = float(bytes[channelIndex]);\n          for (int indexInByte = 7; indexInByte >= 0; --indexInByte) {\n            float powerOfTwo = exp2(float(indexInByte));\n            bool bit = acc >= powerOfTwo;\n            bits[channelIndex * 8 + (7 - indexInByte)] = bit;\n            acc = mod(acc, powerOfTwo);\n          }\n        }\n      }\n      \n      // Compute the exponent of the 32-bit float.\n      float getExponent(bool bits[32]) {\n        const int startIndex = 1;\n        const int bitStringLength = 8;\n        const int endBeforeIndex = startIndex + bitStringLength;\n        float acc = 0.0;\n        int pow2 = bitStringLength - 1;\n        for (int bitIndex = startIndex; bitIndex < endBeforeIndex; ++bitIndex) {\n          acc += float(bits[bitIndex]) * exp2(float(pow2--));\n        }\n        return acc;\n      }\n      \n      // Compute the mantissa of the 32-bit float.\n      float getMantissa(bool bits[32], bool subnormal) {\n        const int startIndex = 9;\n        const int bitStringLength = 23;\n        const int endBeforeIndex = startIndex + bitStringLength;\n        // Leading/implicit/hidden bit convention:\n        // If the number is not subnormal (with exponent 0), we add a leading 1 digit.\n        float acc = float(!subnormal) * exp2(float(bitStringLength));\n        int pow2 = bitStringLength - 1;\n        for (int bitIndex = startIndex; bitIndex < endBeforeIndex; ++bitIndex) {\n          acc += float(bits[bitIndex]) * exp2(float(pow2--));\n        }\n        return acc;\n      }\n      \n      // Parse the float from its 32 bits.\n      float bitsToFloat(bool bits[32]) {\n        float signBit = float(bits[0]) * -2.0 + 1.0;\n        float exponent = getExponent(bits);\n        bool subnormal = abs(exponent - 0.0) < 0.01;\n        float mantissa = getMantissa(bits, subnormal);\n        float exponentBias = 127.0;\n        return signBit * mantissa * exp2(exponent - exponentBias - 23.0);\n      }\n      \n      // Decode a 32-bit float from the RGBA color channels of a texel.\n      float decodeUbyteRGBAEncodedFloat(vec4 rgba, bool littleEndian) {\n        ivec4 rgbaBytes = floatsToBytes(rgba, littleEndian);\n        bool bits[32];\n        bytesToBits(rgbaBytes, bits);\n        return bitsToFloat(bits);\n      }\n      "},texelFetchWithFallback:{webgl2:{dD:"texelFetchWithFallback",yD:"vec4 texelFetchWithFallback(sampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  return texelFetch(textureSampler, iTexel, 0);\n}"},webgl1:{dD:"texelFetchWithFallback",yD:"vec4 texelFetchWithFallback(sampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  vec2 halfTexel = 0.5 / textureSize;\n  return texture2D(textureSampler, (vec2(iTexel) * 2.0 + 1.0) * halfTexel);\n}"}},texelFetchUnsignedWithFallback:{webgl2:{dD:"texelFetchUnsignedWithFallback",yD:"uvec4 texelFetchUnsignedWithFallback(usampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  return texelFetch(textureSampler, iTexel, 0);\n}"},webgl1:{dD:"texelFetchUnsignedWithFallback",yD:"uvec4 texelFetchUnsignedWithFallback(usampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  vec2 halfTexel = 0.5 / textureSize;\n  return texture2D(textureSampler, (vec2(iTexel) * 2.0 + 1.0) * halfTexel);\n}"}},modulus:{dD:"modulus",yD:"int modulus(int a, int b) {\n  return (a)-((a)/(b))*(b);\n}"},computeScreenSpaceWireframe:{dD:"computeScreenSpaceWireframe",yD:"#extension GL_OES_standard_derivatives : enable\nfloat computeScreenSpaceWireframe (vec3 barycentric, float lineWidth) {\n  vec3 dist = fwidth(barycentric);\n  vec3 smoothed = smoothstep(dist * ((lineWidth * 0.5) - 0.5), dist * ((lineWidth * 0.5) + 0.5), barycentric);\n  return 1.0 - min(min(smoothed.x, smoothed.y), smoothed.z);\n}"}},jm="posAxis",Bm="posWorld",Dm="normal",Lm="colorFragment",Em="antiAliasFactor",Pm="mousePickingIdOffset",zm="uRatioPxClip",Nm="uRatioNwuWu",Vm="uColorTexture",Rm="uSizePixels",Gm="uOffsetAlignment",Um="uMaskTexture",Ym="aNormal",Wm="Rot",Xm=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Hm=function(){function t(t){this.modifiers=[],this.modifiers=t}return t.prototype.build=function(t){var i,n,r=this.modifiers.filter((function(t){return Zm(t)}));try{for(var e=Xm(r),o=e.next();!o.done;o=e.next())t=(0,o.value)(t)}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=e.return)&&n.call(e)}finally{if(i)throw i.error}}var s=cn(this.modifiers.filter((function(t){return Jm(t)})));return"".concat(s.map((function(t){return t.yD})).join("\n"),"\n").concat(t)},t}(),Zm=function(t){return"function"==typeof t},Qm={dD:"ratioPxClip",yD:"uniform vec2 ".concat(zm,";")},Jm=function(t){return t&&"object"==typeof t&&"dD"in t},Km=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return function(i){var n,r;t=t.reverse();try{for(var e=Xm(t),o=e.next();!o.done;o=e.next()){var s=o.value;"string"==typeof s&&(s=(s=s.includes("{")||s.endsWith(";")?s:"".concat(s,";")).trim(),i=i.replace("void main(void)","".concat(s,"\nvoid main(void)")))}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return i}},qm=function(t){return function(i){return t=t.endsWith(";")?t:"".concat(t,";"),i.replace(t,"")}},$m=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return function(i){for(var n=t.filter((function(t){return t})),r=0;r<n.length;r+=1)n[r]=n[r].endsWith(";")?n[r]:"".concat(n[r],";"),n[r]=n[r].startsWith("\t")?n[r]:"\t".concat(n[r]);var e=n.join("\n");return i.replace("void main(void) {\n","void main(void) {\n".concat(e,"\n"))}},tg=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return function(n){for(var r=0;r<i.length;r+=1)i[r]=i[r].endsWith(";")?i[r]:"".concat(i[r],";"),i[r]=i[r].startsWith("\t")?i[r]:"\t".concat(i[r]);var e=i.join("\n"),o=new RegExp("(.*".concat(t,".*)")),s=n.replace(o,"".concat(e,"\n$1"));return i.forEach((function(i){if(!s.includes(i))throw new Error("ShaderBefore misusage (not found: \n".concat(i,"\nmatch: \n").concat(t,"\nresult: \n").concat(s,"\n)"))})),s}},ig=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return function(n){for(var r=i.filter((function(t){return"string"==typeof t})),e=0;e<r.length;e+=1)r[e]=r[e].endsWith(";")?r[e]:"".concat(r[e],";"),r[e]=r[e].startsWith("\t")?r[e]:"\t".concat(r[e]);var o=r.join("\n"),s=n.lastIndexOf(t),a=n.substring(s),u=a.indexOf("\n"),h=a.substring(u),f="".concat(n.substring(0,s+u),"\n").concat(o).concat(h);return r.forEach((function(i){if(!f.includes(i))throw new Error('ShaderAfter misusage (not found: "'.concat(i,'", match: "').concat(t,'", result: "').concat(f,'")'))})),f}},ng=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return function(i){var n,r;try{for(var e=Xm(t),o=e.next();!o.done;o=e.next()){var s=o.value;if("string"==typeof s){s=(s=(s=s.endsWith(";")?s:"".concat(s,";")).trim()).startsWith("\t")?s:"\t".concat(s);var a=i.lastIndexOf("}");i="".concat(i.substring(0,a-1),"\n").concat(s,"\n}")}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return i}},rg=function(t,i){return function(n){var r,e;if(t.includes("uniform")||t.includes("attribute")){var o=t.endsWith(";")?t:"".concat(t,";");n=Km(o)(n),r=t.split(" ")[2].replace(";","")}else r=t;if(i.includes(" ")){var s=i.endsWith(";")?i:"".concat(i,";");n=Km(s)(n),e=i.split(" ")[2].replace(";","")}else e=i;var a="\t".concat(e," = ").concat(r,";");return ng(a)(n)}},eg=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return function(i){var n,r;t=t.reverse();try{for(var e=Xm(t),o=e.next();!o.done;o=e.next())i=o.value+i}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return i}},og=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},sg=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},ag=function(t,i){for(var n=i.steps,r=n.length-1,e=[Km("uniform vec4 uFallbackColor")],o=[],s=[],a=0;a<i.steps.length;a+=1)o.push("uniform float uLUTValue".concat(a)),s.push("uniform vec4 uLUTColor".concat(a));return e.push(Km.apply(void 0,sg(sg([],og(o),!1),og(s),!1)),i.percentageValues&&Km("uniform float uMinValue","uniform float uMaxValue")),i.interpolate?e.push(ig.apply(void 0,sg(sg(["".concat(Lm," ="),"vec4 colorLookup = uLUTColor0","float value = ".concat(i.percentageValues?"clamp((".concat(t," - uMinValue) / (uMaxValue  - uMinValue), 0.0, 1.0);"):"".concat(t)),"if (value <= ".concat(ii,") {\n                    colorLookup = uFallbackColor;\n                }"),"if (value >= uLUTValue".concat(r,") {\n                    colorLookup = uLUTColor").concat(r,";\n                }")],og(n.slice(0,-1).map((function(t,i){return"if (value >= uLUTValue".concat(i," && value <= uLUTValue").concat(i+1,") {\ncolorLookup = uLUTColor").concat(i," + vec4(uLUTColor").concat(i+1,".r -  uLUTColor").concat(i,".r, uLUTColor").concat(i+1,".g -  uLUTColor").concat(i,".g, uLUTColor").concat(i+1,".b -  uLUTColor").concat(i,".b, uLUTColor").concat(i+1,".a -  uLUTColor").concat(i,".a) * (value - uLUTValue").concat(i,")/(uLUTValue").concat(i+1," - uLUTValue").concat(i,");} ")}))),!1),["".concat(Lm," = colorLookup")],!1))):e.push(ig("".concat(Lm," ="),"vec4 colorLookup = vec4(uLUTValue0)","float value = ".concat(i.percentageValues?"clamp((".concat(t," - uMinValue) / (uMaxValue  - uMinValue), 0.0, 1.0);"):"".concat(t)),"if (".concat(t," <= ").concat(ii,") {\n                    colorLookup = uFallbackColor;\n                } else if (").concat(t," < uLUTValue0) { colorLookup = uLUTColor0;} ").concat(n.slice().reverse().map((function(t){var i=n.indexOf(t);return"else if (value >= uLUTValue".concat(i,") { colorLookup = uLUTColor").concat(i,";} ")})).join("")),"".concat(Lm," = colorLookup"))),e},ug=[Km("uniform sampler2D ".concat(Um)),Km("varying vec2 vMaskTextureCoord"),ig("".concat(Em," ="),"vec4 maskTextureSample = texture2D(".concat(Um,", vMaskTextureCoord)"),"".concat(Em," = maskTextureSample.r"))],hg=[Km("uniform sampler2D ".concat(Um)),Km("varying vec2 vMaskTextureCoord"),ig("".concat(Em," ="),"vec4 maskTextureSample = texture2D(".concat(Um,", vMaskTextureCoord)"),"".concat(Em," = maskTextureSample.a"))],fg=[Km("varying vec3 vPosWorld;","varying vec3 vNormal;","uniform vec3 uCameraLoc;","uniform vec3 uLightLoc;","uniform vec4 uLightColor;","uniform vec4 uAmbientColor;","uniform float uShininess;","uniform float uAmbientReflection;","uniform float uDiffuseReflection;","uniform float uSpecularReflection;"),ig("".concat(Lm," ="),"float ambientReflection = uAmbientReflection","float diffuseReflection = uDiffuseReflection","float specularReflection = uSpecularReflection","vec3 ambientColor = uAmbientColor.rgb","vec3 diffuseColor = ".concat(Lm,".rgb"),"vec3 specularColor = uLightColor.rgb","vec3 vNormalNormalized = normalize(vNormal)","vNormalNormalized = (float(gl_FrontFacing) * 2.0 - 1.0) * vNormalNormalized","vec3 lightDir = normalize( uLightLoc - vPosWorld )","float lambertian = abs(dot(vNormalNormalized, lightDir))","float specular = 0.0","vec3 R =  reflect(-lightDir, vNormalNormalized)","vec3 V = normalize(uCameraLoc - vPosWorld)","float specAngle = max(dot(R,V),0.0)","specular = pow(specAngle, uShininess)","".concat(Lm," = vec4(ambientReflection * ambientColor + diffuseReflection * lambertian * diffuseColor + specularReflection * specular * specularColor, ").concat(Lm,".a)"))],cg=function(t){for(var i,n,r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];if("linear-highPrecision"!==t||0===r.length)return{vertexShaderModifiers:[],fragmentShaderModifiers:[]};var o=r[0];return{vertexShaderModifiers:[Km("varying vec4 d"),ng("d = vec4(".concat(r[0],".x, ").concat(r[0],".y, ").concat(null!==(i=r[1])&&void 0!==i?i:o,".x, ").concat(null!==(n=r[1])&&void 0!==n?n:o,".y)"))],idFragment:"hpfix",fragmentShaderModifiers:[Km("varying vec4 d"),ng("if (d.z == -100.0 + d.z / 10.0) { gl_FragColor = d; }")]}},lg=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vg=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},dg=function(t){function i(i,n,r){return t.call(this,"Dynamic shader generation error\n(id: ".concat(n,")\n ").concat(r?"when applying feature: ".concat(r.idVertex?"vert: ".concat(r.idVertex):""," ").concat(r.idFragment?"frag: ".concat(r.idFragment):""):""," | ").concat(i))||this}return lg(i,t),i}(Error),yg=function(){for(var t,i,n,r,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var s="";try{for(var a=vg(e),u=a.next();!u.done;u=a.next()){var h=u.value;if("object"==typeof h)for(var f=[{prefix:"",obj:h}];f.length>0;){var c=f.shift(),l=c.prefix,v=c.obj;s+="".concat(l,":");var d=Object.keys(v).sort();try{for(var y=(n=void 0,vg(d)),A=y.next();!A.done;A=y.next()){var b=A.value,p=v[b];"object"==typeof p&&p.__proto__===Object.prototype||Array.isArray(p)?f.push({prefix:b,obj:p}):s+="".concat(b,"=").concat(String(p),",")}}catch(t){n={error:t}}finally{try{A&&!A.done&&(r=y.return)&&r.call(y)}finally{if(n)throw n.error}}}else s+="".concat(String(h),",")}}catch(i){t={error:i}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(t)throw t.error}}return s},Ag=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},bg=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},pg=function(t){return void 0!==t.find((function(t){var i;return null===(i=t.AD)||void 0===i?void 0:i.bD}))},mg=function(t){return void 0!==t.find((function(t){var i;return null===(i=t.AD)||void 0===i?void 0:i.pD}))},gg=function(t,i){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var e=[],o=i?"vec3":"vec2",s=t.axisWorldTranslation,a=t.scaling,u=t.translation,h=t.flipXY,f=t.flipXZ,c=t.offsets,l=t.splitPosAttribute,v=t.normalSource,d=[];"attribute"===v&&e.push(Km("attribute vec3 ".concat(Ym)),$m("vec3 ".concat(Dm," = ").concat(Ym))),"linear-highPrecision"!==s?n.forEach((function(t){void 0!==t.attributeNameAxisCoord&&void 0!==t.variableNameAxisCoord&&(!0!==l?d.push("".concat(o," ").concat(t.variableNameAxisCoord," = ").concat(t.attributeNameAxisCoord)):d.push("".concat(o," ").concat(t.variableNameAxisCoord," = ").concat(i?"vec3(".concat(t.attributeNameAxisCoord,"X, ").concat(t.attributeNameAxisCoord,"Y, ").concat(t.attributeNameAxisCoord,"Z)"):"vec2(".concat(t.attributeNameAxisCoord,"X, ").concat(t.attributeNameAxisCoord,"Y)"))))})):n.forEach((function(i){!0!==t.splitPosAttribute?d.push("".concat(o," ").concat(i.variableNameAxisCoord,"_highpart = ").concat(i.attributeNameAxisCoord,"_highpart"),"".concat(o," ").concat(i.variableNameAxisCoord,"_lowpart = ").concat(i.attributeNameAxisCoord,"_lowpart")):d.push("".concat(o," ").concat(i.variableNameAxisCoord,"_highpart = vec2(").concat(i.attributeNameAxisCoord,"_highpartX, ").concat(i.attributeNameAxisCoord,"_highpartY)"),"".concat(o," ").concat(i.variableNameAxisCoord,"_lowpart = vec2(").concat(i.attributeNameAxisCoord,"_lowpartX, ").concat(i.attributeNameAxisCoord,"_lowpartY)"))}));var y=function(t){var i,n,r;if(t)try{for(var e=si(t),o=e.next();!o.done;o=e.next()){var s=(null==(r=o.value)?void 0:r.rotation)&&r.rotation.dataType;if(void 0!==s&&!1!==s)return s}}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=e.return)&&n.call(e)}finally{if(i)throw i.error}}}(c);if("attribute-deg"===y&&e.push(Km("attribute float aRotDeg"),Km("uniform float uBaseRotDeg")),"attribute"===y&&e.push(Km("attribute vec2 aRot")),"uniform"===y&&e.push(Km("uniform vec2 uRot")),null==c||c.forEach((function(t){if(t&&t.rotation){var i=t.rotation.dataType,n="uniform"===i?"u":"a";if("attribute-deg"===i){var r=t.directionVar,o="c".concat(Wm);e.push($m("vec2 ".concat(t.directionVar,"Rot = vec2(").concat(r,".x * ").concat(o,".y + ").concat(r,".y * ").concat(o,".x, ").concat(r,".y * ").concat(o,".y - ").concat(r,".x * ").concat(o,".x)")))}else o="".concat(n).concat(Wm),r=t.directionVar,e.push($m("vec2 ".concat(t.directionVar,"Rot = vec2(").concat(r,".x * ").concat(o,".y + ").concat(r,".y * ").concat(o,".x, ").concat(r,".y * ").concat(o,".y - ").concat(r,".x * ").concat(o,".x)")))}})),null==c?void 0:c.find((function(t){return(null==t?void 0:t.rotation)&&"attribute-deg"===t.rotation.dataType}))){var A="c".concat(Wm);e.push($m("vec2 ".concat(A," = vec2(sin((aRotDeg + uBaseRotDeg) * 0.01745329252), cos((aRotDeg + uBaseRotDeg) * 0.01745329252))")))}if(c&&c.forEach((function(t){t&&!0!==t.skipAddDefinition&&e.push(Km("attribute ".concat(o," ").concat(t.directionVar)))})),!0===h){if("linear-highPrecision"===s)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + flipXY");n.forEach((function(t){d.push("".concat(t.variableNameAxisCoord," = ").concat(i?"vec3(".concat(t.variableNameAxisCoord,".y, ").concat(t.variableNameAxisCoord,".x, ").concat(t.variableNameAxisCoord,".z)"):"vec2(".concat(t.variableNameAxisCoord,".y, ").concat(t.variableNameAxisCoord,".x)")))}))}if(!0===f){if("linear-highPrecision"===s)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + flipXZ");n.forEach((function(t){d.push("".concat(t.variableNameAxisCoord," = ").concat("vec3(".concat(t.variableNameAxisCoord,".z, ").concat(t.variableNameAxisCoord,".y, ").concat(t.variableNameAxisCoord,".x)")))}))}if(a){if("linear-highPrecision"===s)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + scaling");var b="attribute"===a.dataType?"a":"u",p="".concat(b,"Scaling"),m=i?"vec3":"vec2";e.push(Km("".concat(a.dataType," ").concat(m," ").concat(p))),n.forEach((function(t){d.push("".concat(t.variableNameAxisCoord," = ").concat(t.variableNameAxisCoord," * ").concat(p))}))}if(u&&"axis"===u.sizeUnit){if("linear-highPrecision"===s)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + translation (axis)");var g="attribute"===u.dataType?"a":"u",x="".concat(g,"TranslationAxis"),S=i?"vec3":"vec2";e.push(Km("".concat(u.dataType," ").concat(S," ").concat(x))),n.forEach((function(t){d.push("".concat(t.variableNameAxisCoord," = ").concat(t.variableNameAxisCoord," + ").concat(x))}))}if(null==c||c.forEach((function(t){if(t&&"axis"===t.sizeUnit){if("linear-highPrecision"===s)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + offset (axis)");var r="attribute"===t.dataType?"a":"u",a="".concat(r,"OffsetAxis"),u=!0===t.symmetric?"float":o;e.push(Km("".concat(t.dataType," ").concat(u," ").concat(a)));var h=t.halved?" * 0.5":"",f=t.rotation?"".concat(t.directionVar,"Rot"):t.directionVar,c="offsetGeometry";d.push("".concat(o," ").concat(c," = ").concat(a," * ").concat(f).concat(h," * sign(uScale)")),i&&"gpu-calculate"===v&&d.push("".concat(o," ").concat(Dm," = ").concat(f)),n.forEach((function(t){d.push("".concat(t.variableNameAxisCoord," = ").concat(t.variableNameAxisCoord," + ").concat(c))}))}})),void 0===s||"linear"===s)e.push(Km("uniform ".concat(o," uDisp"),"uniform ".concat(o," uScale"))),n.forEach((function(t){d.push("".concat(o," ").concat(t.variableNameWorldCoord," = (").concat(t.variableNameAxisCoord," - uDisp) / uScale"))}));else if("linear-highPrecision"===s)e.push(Km("uniform ".concat(o," uDisp"),"uniform ".concat(o," uScale"),"uniform ".concat(o," uScaleStart_highpart"),"uniform ".concat(o," uScaleStart_lowpart"))),n.forEach((function(t){d.push("".concat(o," ").concat(t.variableNameAxisCoord,"_hprecision = (").concat(t.variableNameAxisCoord,"_highpart - uScaleStart_highpart) + (").concat(t.variableNameAxisCoord,"_lowpart - uScaleStart_lowpart)"),"".concat(o," ").concat(t.variableNameWorldCoord," = (").concat(t.variableNameAxisCoord,"_hprecision - uDisp) / uScale"),"".concat(o," ").concat(t.variableNameAxisCoord," = ").concat(t.variableNameAxisCoord,"_highpart + ").concat(t.variableNameAxisCoord,"_lowpart"))}));else if("matrix"===s)e.push(Km("uniform mat3 uMatrix")),n.forEach((function(t){d.push("vec2 ".concat(t.variableNameWorldCoord," = (uMatrix * vec3(").concat(t.variableNameAxisCoord,", 1.0)).xy"))}));else if("matrix4"===s)e.push(Km("uniform mat4 uMatrix")),n.forEach((function(t){d.push("vec4 ".concat(t.variableNameWorldCoord," = uMatrix * ").concat(t.attributeNameAxisCoord))}));else if("logarithmic"===s[0]){e.push(Km("uniform ".concat(o," uScaleStart"),"uniform ".concat(o," uScaleStartLog"),"uniform ".concat(o," uScaleInterval"),"uniform ".concat(o," uScaleIntervalLog"),"uniform ".concat(o," uViewportStart"),"uniform ".concat(o," uViewportSize")));var w=i?["x","y","z"]:["x","y"],M=[];w.forEach((function(t){var i=s[1][t];if(void 0!==i){var n=i.base;if("e"===n)return;var r=xr(n),e="cLog".concat(n),o="float ".concat(e," = 1.0 / log(").concat(r.toFixed(1),")");M.includes(o)||M.push(o)}})),e.push(Km.apply(void 0,bg([],Ag(M),!1))),n.forEach((function(t,i){var n="".concat(i),r=[];w.forEach((function(i){var e=i.toUpperCase(),o=s[1][i];if(void 0===o)d.push("float posPercent".concat(e).concat(n," = (").concat(t.variableNameAxisCoord,".").concat(i," - uScaleStart.").concat(i,") / uScaleInterval.").concat(i));else{var a=o.base,u="e"===a;d.push("float posLog".concat(e).concat(n," = log(").concat(t.variableNameAxisCoord,".").concat(i,")").concat(u?"":" * cLog".concat(a)),"float posPercent".concat(e).concat(n," = (posLog").concat(e).concat(n," - uScaleStartLog.").concat(i,") / uScaleIntervalLog.").concat(i))}r.push("posPercent".concat(e).concat(n))})),d.push("".concat(o," ").concat(t.variableNameWorldCoord," = uViewportStart + ").concat(o,"(").concat(r.join(", "),") * uViewportSize"))}))}return null==c||c.forEach((function(t){if(t&&"px"===t.sizeUnit){e.push(Qm);var r="vec2(0.0, 0.0)";if(t.useAlignment&&(e.push(Km("uniform vec2 ".concat(Gm))),r=Gm),n.find((function(t){return t.overrideOffsetPixels})))n.forEach((function(t){d.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(t.overrideOffsetPixels," * ").concat(zm))}));else{var s="".concat(t.directionVar,"Amount"),a=!0===t.symmetric?"float":o;e.push(Km("".concat(t.dataType," ").concat(a," ").concat(s)));var u,h=t.halved?" * 0.5":"";if(!1!==t.useGeometry){var f=t.rotation?"".concat(t.directionVar,"Rot"):t.directionVar;u="(".concat(f," + ").concat(r,") * ").concat(s).concat(h," * ").concat(zm)}else u="".concat(s).concat(h," * ").concat(zm);n.forEach((function(t){d.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(u))}))}}if(t&&"scale"===t.sizeUnit){e.push(Qm),e.push(Km("uniform vec2 ".concat(Rm))),r="vec2(0.0, 0.0)",t.useAlignment&&(e.push(Km("uniform vec2 ".concat(Gm))),r=Gm);var c="".concat("uniform"===t.dataType?"u":"a","OffsetScale");e.push(Km("".concat(t.dataType," float ").concat(c))),f=t.rotation?"".concat(t.directionVar,"Rot"):t.directionVar;var l="(".concat(f," + ").concat(r,") * ").concat(c," * ").concat(Rm," * ").concat(zm);n.forEach((function(t){d.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(l))}))}if(t&&"wu"===t.sizeUnit){var y="attribute"===t.dataType?"a":"u",A=(c="".concat(y,"OffsetWU"),!0===t.symmetric?"float":o);e.push(Km("".concat(t.dataType," ").concat(A," ").concat(c))),h=t.halved?" * 0.5":"",f=t.rotation?"".concat(t.directionVar,"Rot"):t.directionVar;var b="offsetGeometry";d.push("".concat(o," ").concat(b," = ").concat(c," * ").concat(f).concat(h)),i&&"gpu-calculate"===v&&d.push("".concat(o," ").concat(Dm," = normalize(").concat(b,")")),n.forEach((function(t){d.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(b))}))}if(t&&"nwu"===t.sizeUnit){e.push(Km("uniform float ".concat(Nm))),y="attribute"===t.dataType?"a":"u",c="".concat(y,"OffsetNWU"),A=!0===t.symmetric?"float":o,e.push(Km("".concat(t.dataType," ").concat(A," ").concat(c))),h=t.halved?" * 0.5":"",f=t.rotation?"".concat(t.directionVar,"Rot"):t.directionVar;var p="offsetGeometry";d.push("".concat(o," ").concat(p," = ").concat(c," * ").concat(f).concat(h)),i&&"gpu-calculate"===v&&d.push("".concat(o," ").concat(Dm," = normalize(").concat(p,")")),n.forEach((function(t){d.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(p," * ").concat(Nm))}))}})),t.snapToNearestPixel&&(e.push(Km("uniform vec2 uViewportSizePx")),n.forEach((function(t){d.push("".concat(t.variableNameWorldCoord," = 2.0 * floor(((").concat(t.variableNameWorldCoord," + 1.0) * 0.5) * uViewportSizePx + 0.5) / uViewportSizePx - 1.0"))}))),e.push(tg.apply(void 0,bg(["gl_Position ="],Ag(d),!1))),e},xg=function(t,i,n,r){var e=[],o=t.axisWorldTranslation,s=i?"vec3":"vec2";if("linear"===o)e.push(ig(n,"".concat(s," ").concat(r," = ").concat(n," * uScale + uDisp")));else if("linear-highPrecision"===o)e.push(ig(n,"".concat(s," ").concat(r," = ").concat(n," * uScale + uDisp + uScaleStart_highpart + uScaleStart_lowpart")));else{if("matrix"===o)throw new Error("transformWorldCoordBackToAxis | unimplemented vertex location type");if("matrix4"===o)throw new Error("transformWorldCoordBackToAxis | unimplemented vertex location type");if("logarithmic"!==o[0])throw new Error("transformWorldCoordBackToAxis | unimplemented vertex location type");var a=i?["x","y","z"]:["x","y"],u=["".concat(s," ").concat(n,"_percent = (").concat(n," - uViewportStart) / uViewportSize")];a.forEach((function(t){var i=t.toUpperCase(),r=o[1][t];if(void 0===r)u.push("float pos".concat(i,"Back = ").concat(n,"_percent.").concat(t," * uScaleInterval.").concat(t," + uScaleStart.").concat(t));else{var e=r.base,s="e"===e?"1.0":"cLog".concat(e);u.push("float pos".concat(i,"Back = pow(2.71828, (").concat(n,"_percent.").concat(t," * uScaleIntervalLog.").concat(t," + uScaleStartLog.").concat(t,") / ").concat(s,")"))}})),u.push("".concat(s," ").concat(r," = ").concat(s,"(posXBack, posYBack").concat(i?", posZBack":"",")")),e.push(ig.apply(void 0,bg([n],Ag(u),!1)))}return e},Sg=function(t){return function(t){return void 0!==t.find((function(t){var i;return null===(i=t.AD)||void 0===i?void 0:i.mD}))}(t)?[qm("attribute vec4 aColor"),qm("vColor = aColor"),Km("attribute vec4 aColorA"),Km("attribute vec4 aColorB"),ng("vColor = mix(aColorA, aColorB, aSegmentSide)")]:[]},wg=function(t){return function(t){return void 0!==t.find((function(t){var i;return null===(i=t.AD)||void 0===i?void 0:i.gD}))}(t)?[qm("attribute float aLookupValue"),qm("vLookupValue = aLookupValue"),Km("attribute float aLookupValueA"),Km("attribute float aLookupValueB"),ng("vLookupValue = mix(aLookupValueA, aLookupValueB, aSegmentSide)")]:[]},Mg=function(){return Mg=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Mg.apply(this,arguments)},Cg=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Tg=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},kg={"2D":{idFeature:"2D",apply:function(t){return{idVertex:"2D",idFragment:"2D",defaultVertexShader:"2D",defaultFragmentShader:"FragmentShader"}}},"2DCompose":{idFeature:"2DCompose",apply:function(t){return{idVertex:"2DCompose",idFragment:"2DCompose",defaultVertexShader:"2DMatrix",defaultFragmentShader:"Empty"}}},"3D":{idFeature:"3D",AD:{bD:!0},apply:function(t){return{idVertex:"3D",idFragment:"3D",defaultVertexShader:"3D",defaultFragmentShader:"FragmentShader"}}},PointSize:function(t){return{idFeature:"PointSize",apply:function(i){var n="uniform"===t?"u":"a";return{idVertex:"SizePrimitive:".concat(yg(t)),idFragment:void 0,vertexShaderModifiers:[Km("".concat(t," float ").concat(n,"PointSize"),"uniform float uDevicePixelRatio"),ng("gl_PointSize = ".concat(n,"PointSize * uDevicePixelRatio"))]}}}},Color:function(t){var i=t&&t.dataType,n=t&&t.maskTextureText,r=t&&t.maskTexture,e=t&&t.overrideOpacity;return{idFeature:"Color",AD:{pD:!(!Array.isArray(t.dataType)||"value"===t.dataType[1])||void 0,gD:!(!Array.isArray(t.dataType)||"value"!==t.dataType[1])||void 0,mD:"attribute"===t.dataType||void 0},apply:function(o,s){var a,u,h="Color:".concat(yg(t)),f=[],c="FragmentShader",l=[];if("uniform"===i)l.push.apply(l,Tg(Tg([Km("uniform vec4 uColor"),ig("".concat(Lm," ="),"".concat(Lm," = uColor"))],Cg(n?ug:[]),!1),Cg(r?hg:[]),!1));else if("attribute"===i)a="colorAttribute",f.push(rg("attribute vec4 aColor","varying vec4 vColor")),l.push.apply(l,Tg(Tg([Km("varying vec4 vColor"),ig("".concat(Lm," ="),"".concat(Lm," = vColor"))],Cg(n?ug:[]),!1),Cg(r?hg:[]),!1));else if("texture"===i)a="colorTexCoord",f.push(rg("attribute vec2 aTextureCoord","varying vec2 vTextureCoord")),l.push.apply(l,Tg(Tg([Km("varying vec2 vTextureCoord"),Km("uniform sampler2D ".concat(Vm)),Km("uniform vec4 uColor"),ig("".concat(Lm," ="),"".concat(Lm," = texture2D(").concat(Vm,", vTextureCoord)"),"if(vTextureCoord.x < 0. || vTextureCoord.x > 1. || vTextureCoord.y < 0. || vTextureCoord.y > 1.) {\n                        ".concat(Lm," = uColor;\n                    }"))],Cg(n?ug:[]),!1),Cg(r?hg:[]),!1));else if("texture-coord-calc-gpu"===i)a="colorTexCoord",c="Empty",f.push(Km("attribute vec2 aTextureCoord"),Km("varying vec2 vTextureCoord"),ng("vTextureCoord = gl_Position.xy * 0.5 + 0.5")),l.push(Km("varying vec2 vTextureCoord"),Km("uniform sampler2D ".concat(Vm)),$m("vec4 ".concat(Lm," = texture2D(").concat(Vm,", vTextureCoord)"),"gl_FragColor = ".concat(Lm,";")));else if(Array.isArray(i)&&"image"===i[0])a="colorTexCoord",f.push(rg("attribute vec2 aTextureCoord","varying vec2 vTextureCoord")),i[1].fitMode===_t.Tile?l.push(Km("uniform sampler2D ".concat(Vm)),Km("varying vec2 vTextureCoord"),ig("".concat(Lm," ="),"".concat(Lm," = texture2D(").concat(Vm,", vTextureCoord);"))):l.push(Km("uniform sampler2D ".concat(Vm)),Km("varying vec2 vTextureCoord"),Km("uniform vec4 uColor"),ig("".concat(Lm," ="),"".concat(Lm," = texture2D(").concat(Vm,", vTextureCoord);"),"if(vTextureCoord.x < 0. || vTextureCoord.x > 1. || vTextureCoord.y < 0. || vTextureCoord.y > 1.){\n                                ".concat(Lm," = uColor;\n                            }")));else if(Array.isArray(i)&&"lookup"===i[0]){var v=i[1];if("value"===v)a="lookup:value",f.push(rg("attribute float aLookupValue","varying float vLookupValue"));else{var d="".concat(jm,".").concat(v);a="lookup:".concat(v),f.push(rg(d,"varying float vLookupValue"))}l.push.apply(l,Tg(Tg(Tg([Km("varying float vLookupValue")],Cg(ag("vLookupValue",i[2])),!1),Cg(n?ug:[]),!1),Cg(r?hg:[]),!1))}else if(Array.isArray(i)&&"gradient"===i[0]){var y=i[1],A=y.getColorStops();if(G(y)){var b="webgl2"===s&&!!((u=y)&&"object"==typeof u&&"type"in u&&"fillstyle"===u.type&&"fillType"in u&&"radial-gradient"===u.fillType&&!0===u.ditheringEnabled);h="rgradient".concat(A.length,",").concat(r,",").concat(n,",").concat(b),l.push.apply(l,Tg(Tg([Km("uniform vec4 uBounds","uniform vec2 uCenter","uniform vec2 uDistance","uniform float uAspect"),Km.apply(void 0,Tg([],Cg(mi(A.map((function(t,i){return["uniform vec4 color_".concat(i),"uniform float stop_".concat(i)]})))),!1)),Im.linearStep,b?Im.dither:void 0,ig.apply(void 0,Tg(Tg(["".concat(Lm," ="),"vec2 uv = vec2((((gl_FragCoord.x)-uBounds.x)/(uBounds.z))*uAspect,((gl_FragCoord.y)-uBounds.y)/(uBounds.w))","float mixVal = distance(uv/uDistance, uCenter/uDistance)",b?"vec4 color = dither(gl_FragCoord.xy, color_0, color_1, stop_0, stop_1, mixVal)":"vec4 color = mix(color_0, color_1, linearStep(stop_0, stop_1, mixVal))"],Cg(A.map((function(t,i){return i<2?"":b?"color = dither(gl_FragCoord.xy, color, color_".concat(i,", stop_").concat(i-1,", stop_").concat(i,", mixVal);"):"color = mix(color, color_".concat(i,", linearStep(stop_").concat(i-1,", stop_").concat(i,", mixVal));")}))),!1),["".concat(Lm," = color")],!1))],Cg(n?ug:[]),!1),Cg(r?hg:[]),!1))}else Y(y)&&(h="lgradient".concat(A.length,",").concat(r,",").concat(n),l.push.apply(l,Tg(Tg([Km("uniform vec4 uBounds","uniform vec2 uStartPoint","uniform vec2 uEndPoint"),Km.apply(void 0,Tg([],Cg(mi(A.map((function(t,i){return["uniform vec4 color_".concat(i),"uniform float stop_".concat(i)]})))),!1)),Im.linearStep,ig.apply(void 0,Tg(Tg(["".concat(Lm," ="),"vec2 uv = gl_FragCoord.xy - uBounds.xy","float magnitude = ((uv.x-uStartPoint.x) * (uEndPoint.x-uStartPoint.x) + (uv.y-uStartPoint.y) * (uEndPoint.y-uStartPoint.y)) / (pow(uEndPoint.x - uStartPoint.x, 2.0) + pow(uEndPoint.y-uStartPoint.y,2.0))","vec4 color = mix(color_0, color_1, linearStep(stop_0, stop_1, magnitude))"],Cg(A.map((function(t,i){return i<2?"":"color = mix(color, color_".concat(i,", linearStep(stop_").concat(i-1,", stop_").concat(i,", magnitude))")}))),!1),["".concat(Lm," = color")],!1))],Cg(n?ug:[]),!1),Cg(r?hg:[]),!1)))}if(n||r){var p="maskTexture";a=a?"".concat(a," ").concat(p):"Color:".concat(p),f.push(rg("attribute vec2 aMaskTextureCoord","varying vec2 vMaskTextureCoord"))}return e&&l.push(Km("uniform float uOpacity"),ig("".concat(Lm," ="),"".concat(Lm,".a *= uOpacity"))),{vertexShaderModifiers:f,fragmentShader:c,fragmentShaderModifiers:l,idVertex:a,idFragment:h}}}},ColorShaded3D:function(t){var i=t.dataType,n=t.shadingStyle,r=t.wireframe,e=n,o="ColorShaded3D:".concat(yg(t));return{idFeature:"ColorShaded3D",AD:{pD:!(!Array.isArray(t.dataType)||"value"===t.dataType[1])||void 0,gD:!(!Array.isArray(t.dataType)||"value"!==t.dataType[1])||void 0},apply:function(t,s){var a=[],u=[];if(a.push("phong"===n&&rg(Dm,"varying vec3 vNormal"),rg(Bm,"varying vec3 vPosWorld")),"uniform"===i)u.push(Km("uniform vec4 uColorDiffuse"),ig("".concat(Lm," ="),"".concat(Lm," = uColorDiffuse")));else if("attribute"===i)e+=",per-vertex-color",a.push(rg("attribute vec4 aColor","varying vec4 vColor")),u.push(Km("varying vec4 vColor"),ig("".concat(Lm," ="),"".concat(Lm," = vColor")));else if(Array.isArray(i)){var h=i[1];if("value"===h)e+=",lookup:value",a.push(rg("attribute float aLookupValue","varying float vLookupValue"));else{var f="".concat(jm,".").concat(h);e+=",lookup:".concat(h),a.push(rg(f,"varying float vLookupValue"))}u.push.apply(u,Tg([Km("varying float vLookupValue")],Cg(ag("vLookupValue",i[2])),!1))}return r&&(e+=",wireframe",a.push(rg("attribute vec3 aTriangleBary","varying vec3 vTriangleBary")),u.push(Km("varying vec3 vTriangleBary"),Km("uniform vec4 uWireframeColor","uniform float uWireframeThickness"),Im.computeScreenSpaceWireframe,ig("".concat(Lm," ="),"float edge = computeScreenSpaceWireframe(vTriangleBary, uWireframeThickness)","".concat(Lm," = mix(").concat(Lm,", uWireframeColor, edge)")))),"phong"===n&&u.push.apply(u,Tg([],Cg(fg),!1)),{idVertex:e,idFragment:o,vertexShaderModifiers:a,fragmentShader:"FragmentShader",fragmentShaderModifiers:u}}}},VertexLocation:function(t){return{idFeature:"VertexLocation",apply:function(i){var n=cg(t.axisWorldTranslation,"posAxis_hprecision"),r=[],e=pg(i),o=t.coordType?t.coordType:e?"vec3":"vec2";return t.isInstanceRectangleRendering?r.push(Km("attribute vec2 aRectCorner","attribute vec2 aMemberStart","attribute vec2 aMemberEnd"),$m("vec2 aPos = mix(aMemberStart, aMemberEnd, aRectCorner)")):"linear-highPrecision"!==t.axisWorldTranslation?!0!==t.splitPosAttribute?r.push(Km("attribute ".concat(o," aPos"))):r.push(Km("attribute float aPosX"),Km("attribute float aPosY"),e&&Km("attribute float aPosZ")):!0===t.splitPosAttribute?r.push(Km("attribute float aPos_highpartX"),Km("attribute float aPos_lowpartX"),Km("attribute float aPos_highpartY"),Km("attribute float aPos_lowpartY")):r.push(Km("attribute ".concat(o," aPos_highpart")),Km("attribute ".concat(o," aPos_lowpart"))),r.push.apply(r,Tg([],Cg(gg(t,e,{attributeNameAxisCoord:"aPos",variableNameAxisCoord:"vec4"===t.coordType?void 0:jm,variableNameWorldCoord:Bm})),!1)),r.push.apply(r,Tg([],Cg(n.vertexShaderModifiers),!1)),{idVertex:"VertexLocation:".concat(yg(t)),idFragment:n.idFragment,vertexShaderModifiers:r,fragmentShaderModifiers:n.fragmentShaderModifiers}}}},Model3D:function(t){return{idFeature:"Model3D",apply:function(i){var n=[];return n.push.apply(n,Tg(Tg(Tg([Km("attribute vec3 aGeoPos"),Km("uniform mat4 uModelRotation"),Km("uniform mat4 uModelRotationNormals"),Km("uniform vec3 uLocationAxis"),Km("uniform vec3 uModelAlignment"),Km("uniform vec3 uModelScale"),Km("uniform vec3 uModelSize")],Cg(gg({axisWorldTranslation:"linear",normalSource:t.normalSource},!0,{attributeNameAxisCoord:"uLocationAxis",variableNameAxisCoord:"locationAxis",variableNameWorldCoord:"locationWorld"})),!1),[tg("gl_Position =","vec3 posWorld = locationWorld + ((uModelRotation * vec4(aGeoPos, 1.0)).xyz  - (uModelAlignment + 1.0) * uModelSize/2.0) * uModelScale;"),"attribute"===t.normalSource&&ig("vec3 ".concat(Dm," =")," ".concat(Dm," = (uModelRotationNormals * vec4(").concat(Dm,", 1.0)).xyz;"))],!1),Cg(mg(i)?xg({axisWorldTranslation:"linear",normalSource:t.normalSource},!0,Bm,jm):[]),!1)),{vertexShaderModifiers:n,idVertex:"Model3D:".concat(yg(t)),idFragment:void 0}}}},LineInstanced2D:function(t){var i=cg(t.axisWorldTranslation,"locationA_hprecision","locationB_hprecision"),n=t.offsets&&t.offsets[0];return{idFeature:"LineInstanced2D",apply:function(r){return{idVertex:"LineInstanced2D:".concat(yg(t)),idFragment:i.idFragment,vertexShaderModifiers:Tg(Tg(Tg(Tg(Tg(Tg(Tg(Tg([Km("uniform float uThicknessPixels"),Qm],Cg("linear-highPrecision"!==t.axisWorldTranslation&&!0!==t.splitPosAttribute?[Km("attribute vec2 aLocationA"),Km("attribute vec2 aLocationB")]:"linear-highPrecision"===t.axisWorldTranslation&&!0!==t.splitPosAttribute?[Km("attribute vec2 aLocationA_highpart"),Km("attribute vec2 aLocationB_highpart"),Km("attribute vec2 aLocationA_lowpart"),Km("attribute vec2 aLocationB_lowpart")]:"linear-highPrecision"!==t.axisWorldTranslation&&!0===t.splitPosAttribute?[Km("attribute float aLocationAX"),Km("attribute float aLocationAY"),Km("attribute float aLocationBX"),Km("attribute float aLocationBY")]:"linear-highPrecision"===t.axisWorldTranslation&&!0===t.splitPosAttribute?[Km("attribute float aLocationA_highpartX"),Km("attribute float aLocationA_highpartY"),Km("attribute float aLocationB_highpartX"),Km("attribute float aLocationB_highpartY"),Km("attribute float aLocationA_lowpartX"),Km("attribute float aLocationA_lowpartY"),Km("attribute float aLocationB_lowpartX"),Km("attribute float aLocationB_lowpartY")]:[]),!1),[Km("attribute vec2 aSegmentPosition"),Km("attribute float aSegmentSide"),n&&Km("attribute vec2 ".concat(n.directionVar,"A"),"attribute vec2 ".concat(n.directionVar,"B"))],!1),Cg(gg(Mg(Mg({},t),{offsets:n?[Mg(Mg({},n),{skipAddDefinition:!0})]:[]}),!1,{attributeNameAxisCoord:"aLocationA",variableNameAxisCoord:"locationA",variableNameWorldCoord:"worldA",overrideOffsetPixels:n?"".concat(n.directionVar,"A"):void 0},{attributeNameAxisCoord:"aLocationB",variableNameAxisCoord:"locationB",variableNameWorldCoord:"worldB",overrideOffsetPixels:n?"".concat(n.directionVar,"B"):void 0})),!1),[t.ensureMinimumSegmentLength&&Km("uniform vec2 uMinSegmentPixelVector"),ig("worldB = ",t.ensureMinimumSegmentLength&&"float segmentLengthPixels = sqrt(pow(worldB.x - worldA.x, 2.0) + pow(worldB.y - worldA.y, 2.0)) / length(uRatioPxClip)",t.ensureMinimumSegmentLength&&"if (segmentLengthPixels == 0.0 || segmentLengthPixels < length(uMinSegmentPixelVector)) {\n                            worldB = worldA + uMinSegmentPixelVector * uRatioPxClip;\n                        }","vec2 directionBasis = worldB - worldA","vec2 directionBasisNorm = normalize(directionBasis)","vec2 perpendBasisNorm = vec2(-directionBasisNorm.y, directionBasisNorm.x)","vec2 offset = mix(worldA, worldB, aSegmentSide)","vec2 thicknessDirection = aSegmentPosition.x * directionBasisNorm + aSegmentPosition.y * perpendBasisNorm","vec2 ".concat(Bm," = offset + thicknessDirection * uThicknessPixels * ").concat(zm))],!1),Cg(wg(r)),!1),Cg(Sg(r)),!1),Cg(mg(r)?xg(Mg(Mg({},t),{offsets:n?[Mg(Mg({},n),{skipAddDefinition:!0})]:[]}),!1,Bm,jm):[]),!1),Cg(i.vertexShaderModifiers),!1),fragmentShaderModifiers:i.fragmentShaderModifiers}}}},Area2D:function(t){return{idFeature:"Area2D",apply:function(i){var n=cg(t.axisWorldTranslation,"locationA_hprecision","locationB_hprecision");return{idVertex:"Area2D:".concat(yg(t)),idFragment:n.idFragment,vertexShaderModifiers:Tg(Tg(Tg(Tg(Tg(Tg(Tg(Tg([],Cg("linear-highPrecision"!==t.axisWorldTranslation&&!0!==t.splitPosAttribute?[Km("attribute vec2 aLocationA"),Km("attribute vec2 aLocationB")]:"linear-highPrecision"===t.axisWorldTranslation&&!0!==t.splitPosAttribute?[Km("attribute vec2 aLocationA_highpart"),Km("attribute vec2 aLocationB_highpart"),Km("attribute vec2 aLocationA_lowpart"),Km("attribute vec2 aLocationB_lowpart")]:"linear-highPrecision"!==t.axisWorldTranslation&&!0===t.splitPosAttribute?[Km("attribute float aLocationAX"),Km("attribute float aLocationAY"),Km("attribute float aLocationBX"),Km("attribute float aLocationBY")]:"linear-highPrecision"===t.axisWorldTranslation&&!0===t.splitPosAttribute?[Km("attribute float aLocationA_highpartX"),Km("attribute float aLocationA_highpartY"),Km("attribute float aLocationB_highpartX"),Km("attribute float aLocationB_highpartY"),Km("attribute float aLocationA_lowpartX"),Km("attribute float aLocationA_lowpartY"),Km("attribute float aLocationB_lowpartX"),Km("attribute float aLocationB_lowpartY")]:[]),!1),[Km("attribute float aCurveOrBaseline"),Km("attribute float aSegmentSide")],!1),Cg(gg(t,!1,{attributeNameAxisCoord:"aLocationA",variableNameAxisCoord:"locationA",variableNameWorldCoord:"worldA"},{attributeNameAxisCoord:"aLocationB",variableNameAxisCoord:"locationB",variableNameWorldCoord:"worldB"})),!1),[ig("worldB = ","vec2 posCoord = mix(worldA, worldB, aSegmentSide)","".concat("bottom"===t.fill?"float baseline = min(posCoord.y, -1.0)":"top"===t.fill?"float baseline = max(posCoord.y, 1.0)":"left"===t.fill?"float baseline = min(posCoord.x, -1.0)":"float baseline = max(posCoord.x, 1.0)"),"vec2 ".concat(Bm," = ").concat("bottom"===t.fill||"top"===t.fill?"vec2(posCoord.x, mix(posCoord.y, baseline, aCurveOrBaseline))":"vec2(mix(posCoord.x, baseline, aCurveOrBaseline), posCoord.y)"))],!1),Cg(wg(i)),!1),Cg(Sg(i)),!1),Cg(mg(i)?xg(t,!1,Bm,jm):[]),!1),Cg(n.vertexShaderModifiers),!1),fragmentShaderModifiers:n.fragmentShaderModifiers}}}},LineInstanced3D:function(t){return{idFeature:"LineInstanced3D",apply:function(i){return{idVertex:"LineInstanced3D:".concat(yg(t)),idFragment:void 0,defaultFragmentShader:"FragmentShader",vertexShaderModifiers:Tg(Tg(Tg([Km("uniform float uOffsetWU"),Km("attribute vec3 aLocationA"),Km("attribute vec3 aLocationB"),Km("attribute float aSegmentPosition"),Km("attribute float aPerpendHorizontal"),Km("attribute float aPerpendVertical")],Cg(gg({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},pg(i),{attributeNameAxisCoord:"aLocationA",variableNameAxisCoord:"locationA",variableNameWorldCoord:"worldA"},{attributeNameAxisCoord:"aLocationB",variableNameAxisCoord:"locationB",variableNameWorldCoord:"worldB"})),!1),[ig("worldB = ","vec3 directionBasis = worldB - worldA","vec3 directionBasisNorm = normalize(directionBasis)","vec3 notParallel = normalize(mix( vec3( 0.0, 1.0, 0.0 ), vec3( 0.2, 0.8, 0.0 ), step( abs(directionBasis.y), 0.9 ) ))","vec3 horizontalBasis = normalize( cross( notParallel, directionBasisNorm ) )","vec3 verticalBasis = normalize( cross( horizontalBasis, directionBasisNorm ) )","vec3 ".concat(Dm," = aPerpendHorizontal * horizontalBasis + aPerpendVertical * verticalBasis"),"vec3 ".concat(Bm," = worldA + aSegmentPosition * directionBasis + ").concat(Dm," * uOffsetWU * 0.5"))],!1),Cg(mg(i)?xg({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},!0,Bm,jm):[]),!1)}}}},RoundedEdges3D:{idFeature:"RoundedEdges3D",apply:function(t){return{idVertex:"RoundedEdges3D",idFragment:void 0,vertexShaderModifiers:[Km("attribute vec3 aEdge"),Km("uniform float uEdgeRoundness"),ig("".concat(Bm," ="),"vec3 boxSizeWorld = abs( aOffsetAxis / uScale )","float boxMinDimensionWorldXZ = min( boxSizeWorld.x, boxSizeWorld.z )","vec3 edgeRoundAmount = uEdgeRoundness * vec3( boxMinDimensionWorldXZ, min( boxMinDimensionWorldXZ, boxSizeWorld.y ), boxMinDimensionWorldXZ )","".concat(Bm," = ").concat(Bm," + aEdge * edgeRoundAmount"))]}}},ColorGrid2D:function(t){var i=t.flipXY,n=t.intensityTextureType,r=t.littleEndian,e=t.aggregation;return{idFeature:"ColorGrid2D",apply:function(o,s){return{idVertex:void 0,idFragment:"ColorGrid2D:".concat(yg(t)),fragmentShader:"FragmentShader",fragmentShaderModifiers:Tg([Km("uniform vec4 uTileBounds","uniform vec2 uTileDimensions","uniform sampler2D uTileIntensityValues",e&&"uniform vec2 uAggregationWindowSize"),"ubyte"===n&&Im.decodeUbyteRGBAEncodedFloat,"bilinear"===t.interpolation?$m("vec2 cellSizePx = uTileBounds.zw / (uTileDimensions - 1.0)","vec2 cellIndex = (gl_FragCoord.xy - uTileBounds.xy) / cellSizePx","vec2 cellStart = floor(cellIndex)","vec2 cellEnd = ceil(cellIndex)","vec2 cellStartNormalized = cellStart / (uTileDimensions - 1.0)","vec2 cellEndNormalized = cellEnd / (uTileDimensions - 1.0)","vec4 sample00 = texture2D(uTileIntensityValues, ".concat(i?"cellStartNormalized":"vec2(cellStartNormalized.y, cellStartNormalized.x)",")"),"vec4 sample01 = texture2D(uTileIntensityValues, ".concat(i?"vec2(cellStartNormalized.x, cellEndNormalized.y)":"vec2(cellStartNormalized.y, cellEndNormalized.x)",")"),"vec4 sample10 = texture2D(uTileIntensityValues, ".concat(i?"vec2(cellEndNormalized.x, cellStartNormalized.y)":"vec2(cellEndNormalized.y, cellStartNormalized.x)",")"),"vec4 sample11 = texture2D(uTileIntensityValues, ".concat(i?"cellEndNormalized":"vec2(cellEndNormalized.y, cellEndNormalized.x)",")"),"float intensity00 = ".concat("float"===n?"sample00.x":"decodeUbyteRGBAEncodedFloat(sample00, ".concat(r,")")),"float intensity01 = ".concat("float"===n?"sample01.x":"decodeUbyteRGBAEncodedFloat(sample01, ".concat(r,")")),"float intensity10 = ".concat("float"===n?"sample10.x":"decodeUbyteRGBAEncodedFloat(sample10, ".concat(r,")")),"float intensity11 = ".concat("float"===n?"sample11.x":"decodeUbyteRGBAEncodedFloat(sample11, ".concat(r,")")),"vec2 lerpFactors = cellIndex - cellStart","float intensityR1 = mix(intensity00, intensity10, ".concat(i?"lerpFactors.x":"lerpFactors.y",")"),"float intensityR2 = mix(intensity01, intensity11, ".concat(i?"lerpFactors.x":"lerpFactors.y",")"),"float intensityP = mix(intensityR1, intensityR2,  ".concat(i?"lerpFactors.y":"lerpFactors.x",")")):$m.apply(void 0,Tg(["vec2 cellSizePx = uTileBounds.zw / (uTileDimensions)","vec2 cellIndex = (gl_FragCoord.xy - uTileBounds.xy) / cellSizePx","vec2 cellIndexNormalized = cellIndex / uTileDimensions"],Cg(e?["float intensityP = ".concat("max"===e?"-":"","340282346638528859811704183484516925440.0"),"for (float dy = -uAggregationWindowSize.y; dy <= uAggregationWindowSize.y; dy++) {\n                                            for (float dx = -uAggregationWindowSize.x; dx <= uAggregationWindowSize.x; dx++) {\n                                                vec2 offset = vec2(dx, dy) / uTileDimensions;\n                                                vec2 coord = ".concat(i?"offset":"vec2(offset.y, offset.x)"," + ").concat(i?"cellIndexNormalized":"vec2(cellIndexNormalized.y, cellIndexNormalized.x)",";\n                                                vec4 sample0 = texture2D(uTileIntensityValues, coord);\n                                                float intensity0 = ").concat("float"===n?"sample0.x;":"decodeUbyteRGBAEncodedFloat(sample0, ".concat(r,";"),"\n                                                intensityP = ").concat("max"===e?"max":"min","(intensityP, intensity0);\n                                            }\n                                        }")]:["vec4 sample0 = texture2D(uTileIntensityValues, ".concat(i?"cellIndexNormalized":"vec2(cellIndexNormalized.y, cellIndexNormalized.x)",")"),"float intensityP = ".concat("float"===n?"sample0.x":"decodeUbyteRGBAEncodedFloat(sample0, ".concat(r,")"))]),!1))],Cg(ag("intensityP",t.lut)),!1)}}}},DrawToNormalTexture:function(t){var i=t.flipXZ,n=t.vertexIdSource,r=t.normalTextureType,e=t.heightmapTextureType,o=t.littleEndian;return{idFeature:"DrawToNormalTexture",apply:function(s,a){var u=[],h=[];return u.push(Km("uniform ivec2 uTileDimensions","uniform vec2 uTileDimensionsXZ","uniform vec2 uTileStartLocationAxisXZ","uniform vec2 uTileSizeAxisXZ","uniform sampler2D uHeightmapTexture","uint"===r?"flat varying uvec3 vNormalRGB":"varying vec3 vNormalRGB","attribute"===n&&"attribute float aVertexID"),void 0!==n&&Im.roundUnsigned,Im.modulus,Im.texelFetchWithFallback[a],"ubyte"===e&&Im.decodeUbyteRGBAEncodedFloat,$m(void 0===n?"int iVertex = gl_VertexID":"int iVertex = int(roundUnsigned(aVertexID))","int iSecondary = modulus(iVertex, (uTileDimensions.y - 1))","int iPrimary = iVertex / (uTileDimensions.y - 1)","vec2 iCell = vec2(float(iPrimary), float(iSecondary))","vec2 uTileDimensionsMinus1 = vec2(uTileDimensions) - 1.0","vec2 halfTexelWorld = 2.0 / (uTileDimensionsMinus1 * 2.0)","vec2 posWorld = vec2(-1.0 + halfTexelWorld.y + iCell.y * 2.0 * halfTexelWorld.y, -1.0 + halfTexelWorld.x + iCell.x * 2.0 * halfTexelWorld.x)","vec2 cellSizeAxis = uTileSizeAxisXZ / (uTileDimensionsXZ - 1.0)","vec3 posAxis0 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell.".concat(i?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===e?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(o,")")," ,\n                            uTileStartLocationAxisXZ.y + iCell.").concat(i?"x":"y"," * cellSizeAxis.y\n                        )"),"vec2 iCell1 = iCell + vec2(1.0, 0.0)","vec3 posAxis1 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell1.".concat(i?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===e?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell1.y, iCell1.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell1.y, iCell1.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(o,")"),",\n                            uTileStartLocationAxisXZ.y + iCell1.").concat(i?"x":"y"," * cellSizeAxis.y\n                        )"),"vec2 iCell2 = iCell + vec2(0.0, 1.0)","vec3 posAxis2 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell2.".concat(i?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===e?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell2.y, iCell2.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell2.y, iCell2.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(o,")"),",\n                            uTileStartLocationAxisXZ.y + iCell2.").concat(i?"x":"y"," * cellSizeAxis.y\n                        )"),"vec2 iCell3 = iCell + vec2(1.0, 1.0)","vec3 posAxis3 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell3.".concat(i?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===e?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell3.y, iCell3.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell3.y, iCell3.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(o,")"),",\n                            uTileStartLocationAxisXZ.y + iCell3.").concat(i?"x":"y"," * cellSizeAxis.y\n                        )"),"vec3 normal = normalize(cross(posAxis2 - posAxis0, posAxis1 - posAxis0) + cross(posAxis1 - posAxis3, posAxis2 - posAxis3))","uint"===r?"vNormalRGB = uvec3(((normal / 2.0) + 0.5) * float(-1u))":"vNormalRGB = (normal / 2.0) + 0.5","gl_PointSize = 1.0")),h.push(Km("uint"===r?"flat varying uvec3 vNormalRGB":"varying vec3 vNormalRGB"),$m("uint"===r?"gl_FragColor = uvec4(vNormalRGB, -1u)":"gl_FragColor = vec4(vNormalRGB, 1.0)")),{idVertex:"DrawToNormalTexture:".concat(yg(t)),idFragment:"DrawToNormalTexture:".concat(yg(t)),vertexShaderModifiers:u,fragmentShaderModifiers:h,fragmentShader:"Empty",hints:["uint"===r&&{type:"fragOutput",fragOutput:"uvec4"}]}}}},SurfaceGrid:function(t){var i=t.fillColor,n=t.interpolation,r=t.flipXZ,e=t.shadingStyle,o=t.wireframe,s=t.normalTextureType,a=t.heightmapTextureType,u=t.intensityTextureType,h=t.littleEndian;return{idFeature:"SurfaceGrid",AD:{xD:!0},apply:function(f,c){var l=[],v=[];return l.push(Km("attribute vec2 aGeoCellOffset","uniform int uBaseInstance","uniform ivec2 uTileDimensions","uniform vec2 uTileDimensionsXZ","uniform vec2 uTileStartLocationAxisXZ","uniform vec2 uTileSizeAxisXZ","uniform sampler2D uHeightmapTexture"),Im.modulus,Im.texelFetchWithFallback[c],"ubyte"===a&&Im.decodeUbyteRGBAEncodedFloat,$m("int iSecondary = modulus(iInstance + uBaseInstance, (uTileDimensions.y - 1))","int iPrimary = (iInstance + uBaseInstance) / (uTileDimensions.y - 1)","vec2 iCell = vec2(float(iPrimary), float(iSecondary))","vec2 iCellVertex = iCell + aGeoCellOffset","vec2 uTileDimensionsMinus1 = vec2(float(uTileDimensions.x), float(uTileDimensions.y)) - 1.0","vec2 ySampleCoordinate = vec2(iCellVertex.y, iCellVertex.x) / vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x)","float y = ".concat("float"===a?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCellVertex.y, iCellVertex.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCellVertex.y, iCellVertex.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(h,")")),"vec2 cellSizeAxis = uTileSizeAxisXZ / (uTileDimensionsXZ - 1.0)","vec2 posAxisXZ = uTileStartLocationAxisXZ + cellSizeAxis * ".concat(r?"vec2(iCellVertex.y, iCellVertex.x)":"iCellVertex"),"vec3 posAxis = vec3(posAxisXZ.x, y, posAxisXZ.y)")),l.push.apply(l,Tg([],Cg(gg({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},!0,{attributeNameAxisCoord:void 0,variableNameAxisCoord:jm,variableNameWorldCoord:Bm})),!1)),"phong"===e&&l.push.apply(l,Tg(Tg([rg(Bm,"varying vec3 vPosWorld")],Cg("uint"===s?[Im.texelFetchUnsignedWithFallback[c],ng("vec4 normalAxisRGB = vec4(texelFetchUnsignedWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))) / float(-1u)")]:[ng("vec4 normalAxisRGB = texelFetchWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))")]),!1),[ng("vec3 normalAxis = (normalAxisRGB.rgb * 2.0) - 1.0","vNormal = normalize(normalAxis * uScale)"),Km.apply(void 0,Tg(["varying vec3 vNormal"],Cg("uint"===s?["uniform usampler2D uNormalmapTexture"]:["uniform sampler2D uNormalmapTexture"]),!1))],!1)),v.push(Km("varying vec3 vTriangleBary")),"uniform"===i?v.push(Km("uniform vec4 uColorDiffuse"),ig("".concat(Lm," ="),"".concat(Lm," = uColorDiffuse"))):Array.isArray(i)&&"lookup"===i[0]&&("value"===i[1]?(l.push(rg("".concat(jm,".xz"),"varying vec2 vVertexLocationAxisXZ")),v.push.apply(v,Tg([Km("uniform vec4 uTileBoundsAxisXZ","uniform vec2 uTileDimensionsXZ","varying vec2 vVertexLocationAxisXZ","uniform sampler2D uTileIntensityValues","uniform mat4 uViewProjectionMatrix","uniform vec3 uScale","uniform vec3 uDisp"),"ubyte"===u&&Im.decodeUbyteRGBAEncodedFloat,"bilinear"===n?$m("vec2 cellSizeAxisXZ = uTileBoundsAxisXZ.zw / (uTileDimensionsXZ - 1.0)","vec2 cellIndex = (vVertexLocationAxisXZ - uTileBoundsAxisXZ.xy) / cellSizeAxisXZ","vec2 cellStart = floor(cellIndex)","vec2 cellEnd = ceil(cellIndex)","vec2 cellStartNormalized = cellStart / (uTileDimensionsXZ - 1.0)","vec2 cellEndNormalized = cellEnd / (uTileDimensionsXZ - 1.0)","vec4 sample00 = texture2D(uTileIntensityValues, ".concat(r?"cellStartNormalized":"vec2(cellStartNormalized.y, cellStartNormalized.x)",")"),"vec4 sample01 = texture2D(uTileIntensityValues, ".concat(r?"vec2(cellStartNormalized.x, cellEndNormalized.y)":"vec2(cellStartNormalized.y, cellEndNormalized.x)",")"),"vec4 sample10 = texture2D(uTileIntensityValues, ".concat(r?"vec2(cellEndNormalized.x, cellStartNormalized.y)":"vec2(cellEndNormalized.y, cellStartNormalized.x)",")"),"vec4 sample11 = texture2D(uTileIntensityValues, ".concat(r?"cellEndNormalized":"vec2(cellEndNormalized.y, cellEndNormalized.x)",")"),"float intensity00 = ".concat("float"===u?"sample00.x":"decodeUbyteRGBAEncodedFloat(sample00, ".concat(h,")")),"float intensity01 = ".concat("float"===u?"sample01.x":"decodeUbyteRGBAEncodedFloat(sample01, ".concat(h,")")),"float intensity10 = ".concat("float"===u?"sample10.x":"decodeUbyteRGBAEncodedFloat(sample10, ".concat(h,")")),"float intensity11 = ".concat("float"===u?"sample11.x":"decodeUbyteRGBAEncodedFloat(sample11, ".concat(h,")")),"vec2 lerpFactors = cellIndex - cellStart","float intensityR1 = mix(intensity00, intensity10, ".concat(r?"lerpFactors.x":"lerpFactors.y",")"),"float intensityR2 = mix(intensity01, intensity11, ".concat(r?"lerpFactors.x":"lerpFactors.y",")"),"float intensityP = mix(intensityR1, intensityR2,  ".concat(r?"lerpFactors.y":"lerpFactors.x",")")):$m("vec2 cellSizeAxisXZ = uTileBoundsAxisXZ.zw / (uTileDimensionsXZ - 1.0)","vec2 cellIndex = floor((vVertexLocationAxisXZ - uTileBoundsAxisXZ.xy) / cellSizeAxisXZ)","vec2 cellIndexNormalized = cellIndex / (uTileDimensionsXZ - 1.0)","vec4 sample0 = texture2D(uTileIntensityValues, ".concat(r?"cellIndexNormalized":"vec2(cellIndexNormalized.y, cellIndexNormalized.x)",")"),"float intensityP = sample0.x")],Cg(ag("intensityP",i[2])),!1))):(l.push(rg("".concat(jm,".").concat(i[1]),"varying float vLookupValue")),v.push.apply(v,Tg([Km("varying float vLookupValue")],Cg(ag("vLookupValue",i[2])),!1)))),"phong"===e&&v.push.apply(v,Tg([],Cg(fg),!1)),o&&(l.push(Km("attribute vec3 aTriangleBary"),rg("aTriangleBary","varying vec3 vTriangleBary")),v.push(Km("uniform vec4 uWireframeColor","uniform float uWireframeThickness"),Im.computeScreenSpaceWireframe,ig("".concat(Lm," ="),"float edge = computeScreenSpaceWireframe(vTriangleBary, uWireframeThickness)",i?"if (edge > 0.0) {\n                                    ".concat(Lm," = vec4(mix(").concat(Lm,".rgb, uWireframeColor.rgb, edge * uWireframeColor.a), max(").concat(Lm,".a, uWireframeColor.a));\n                                }"):"if (edge > 0.0) {\n                                    ".concat(Lm," = uWireframeColor;\n                                  } else {\n                                      discard;\n                                  }")))),{idVertex:"SurfaceGrid:".concat(yg(t)),idFragment:"SurfaceGrid:".concat(yg(t)),vertexShaderModifiers:l,fragmentShader:"FragmentShader",fragmentShaderModifiers:v}}}},DebugSurfaceGridNormals:function(t){return{idFeature:"DebugSurfaceGridNormals",apply:function(i,n){return{idVertex:"DebugSurfaceGridNormals:".concat(yg(t)),idFragment:"DebugSurfaceGridNormals:".concat(yg(t)),vertexShaderModifiers:Tg(Tg(Tg([Km.apply(void 0,Tg(["attribute float aNormalArrow","uniform int uBaseInstance","uniform ivec2 uTileDimensions","uniform vec2 uTileDimensionsXZ","uniform vec2 uTileStartLocationAxisXZ","uniform vec2 uTileSizeAxisXZ","uniform sampler2D uHeightmapTexture","attribute"===t.instanceIdSource&&"attribute float aInstanceID"],Cg("uint"===t.normalTextureType?["uniform usampler2D uNormalmapTexture"]:["uniform sampler2D uNormalmapTexture"]),!1)),Im.roundUnsigned,Im.modulus,Im.texelFetchWithFallback[n],"ubyte"===t.heightmapTextureType&&Im.decodeUbyteRGBAEncodedFloat,$m.apply(void 0,Tg(Tg([void 0===t.instanceIdSource?"int iInstance = gl_InstanceID":"int iInstance = int(roundUnsigned(aInstanceID))","iInstance = iInstance + uBaseInstance","int iSecondary = modulus(iInstance, (uTileDimensions.y - 1))","int iPrimary = iInstance / (uTileDimensions.y - 1)","vec2 iCell = vec2(float(iPrimary), float(iSecondary))","vec2 uTileDimensionsMinus1 = vec2(float(uTileDimensions.x), float(uTileDimensions.y)) - 1.0","float y00 = ".concat("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y01 = ".concat("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y10 = ".concat("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y11 = ".concat("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y = (y00 + y01 + y10 + y11) / 4.0","vec2 cellSizeAxis = uTileSizeAxisXZ / (uTileDimensionsXZ - 1.0)","vec2 posAxisXZ = uTileStartLocationAxisXZ + cellSizeAxis * (0.5 + ".concat(t.flipXZ?"vec2(iCell.y, iCell.x)":"iCell",")"),"vec3 posAxis = vec3(posAxisXZ.x, y, posAxisXZ.y)"],Cg("uint"===t.normalTextureType?["vec4 normalAxisRGB = vec4(texelFetchUnsignedWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))) / float(-1u)"]:["vec4 normalAxisRGB = texelFetchWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))"]),!1),["vec3 normalAxis = (normalAxisRGB.rgb * 2.0) - 1.0","vec3 normalWorld = normalize(normalAxis * uScale)"],!1))],Cg("uint"===t.normalTextureType?[Im.texelFetchUnsignedWithFallback[n]]:[]),!1),Cg(gg({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},!0,{attributeNameAxisCoord:void 0,variableNameAxisCoord:jm,variableNameWorldCoord:Bm})),!1),[ig("posWorld =","vec3 dirArrow = normalWorld","vec3 posArrowStart = posWorld","vec3 posArrowEnd = posWorld + dirArrow * 0.010","vec3 notParallel = normalize(mix( vec3( 0.0, 1.0, 0.0 ), vec3( 0.2, 0.8, 0.0 ), step( abs(dirArrow.y), 0.9 ) ))","vec3 dirArrowLeft = normalize(-dirArrow + 0.50 * normalize(cross(dirArrow, notParallel)))","vec3 dirArrowRight = normalize(-dirArrow + 0.50 * normalize(cross(notParallel, dirArrow)))","vec3 posArrowLeft = posArrowEnd + dirArrowLeft * 0.0025","vec3 posArrowRight = posArrowEnd + dirArrowRight * 0.0025","if (aNormalArrow == 0.0) {\n                        posWorld = posArrowStart;\n                    } else if (aNormalArrow == 1.0) {\n                        posWorld = posArrowEnd;\n                    } else if (aNormalArrow == 2.0) {\n                        posWorld = posArrowLeft;\n                    } else if (aNormalArrow == 3.0) {\n                        posWorld = posArrowRight;\n                    }")],!1),fragmentShader:"FragmentShader",fragmentShaderModifiers:[ng("gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0)")]}}}},OffsetTowardsCamera:function(){return{idFeature:"OffsetTowardsCamera",apply:function(t){return{idVertex:"OffsetTowardsCamera",idFragment:void 0,vertexShaderModifiers:[Km("uniform vec3 uCameraLoc"),ig("posWorld =","posWorld = posWorld + normalize(uCameraLoc) * 0.0025")]}}}},AliasedEdge:{idFeature:"AliasedEdge",apply:function(t){return{idVertex:"AliasedEdge",idFragment:"AliasedEdge",vertexShaderModifiers:[Km("attribute float aSegmentInside"),Km("varying float vSegmentInside"),Km("varying float vSegmentSide"),ig("gl_Position = ","\n                vSegmentInside = aSegmentInside;\n                vSegmentSide = aSegmentSide;\n                ")],fragmentShaderModifiers:[eg("#extension GL_OES_standard_derivatives : enable"),Km("uniform float uAALimit"),Km("varying float vSegmentInside"),Km("varying float vSegmentSide"),ig("".concat(Em," = "),"\n                float dist = (uAALimit - vSegmentInside);\n                vec2 ddist = vec2(dFdx(dist), dFdy(dist));\n                float pixelDist = dist / length(ddist);\n                // additional blurring\n                pixelDist *= 0.5;\n\n                float aa = clamp(0.5 - pixelDist, 0.0, 1.0);\n                if((vSegmentSide <= 0.0 || vSegmentSide >= 1.0) && aa <=0.99){\n                    aa *= 0.5;\n                }\n                ".concat(Em," = aa;\n                "))]}}},Glow1D:function(t){return{idFeature:"Glow1D",apply:function(){for(var i=Math.round(t.spreadPx),n=Math.round(t.blurPx),r=i+n,e=t.firstPass,o=[],s=-r;s<=r;s+=1){var a=Math.abs(s);o.push(e?{x:s.toFixed(1),y:"0.0",distPx:a.toFixed(1)}:{x:"0.0",y:s.toFixed(1),distPx:a.toFixed(1)})}return{idVertex:"Glow1D:".concat(yg(t)),idFragment:"Glow1D:".concat(yg(t)),vertexShaderModifiers:[rg("attribute vec2 aTextureCoord","varying vec2 vTextureCoord")],fragmentShader:"FragmentShader",fragmentShaderModifiers:[Km("uniform sampler2D uTexture"),Km("varying vec2 vTextureCoord"),Km("uniform vec2 uTextureSize"),e&&Km("uniform vec2 uOffsetPx"),!e&&Km("uniform sampler2D uTextureFirstGlowPass"),!e&&Km("uniform vec4 uGlowColor"),ig.apply(void 0,Tg(Tg(Tg(["".concat(Em," ="),"vec2 oneTexel = vec2(1.0, 1.0) / uTextureSize","vec2 vTexCoordPixelCenter = vTextureCoord + vec2(0.5, 0.5) / uTextureSize"],Cg(e?[]:["float inverseIntensity =\n                                    0.25 * texture2D(uTexture, vTexCoordPixelCenter).a +\n                                    0.125 * texture2D(uTexture, vTexCoordPixelCenter + vec2(-oneTexel.x, 0.0)).a +\n                                    0.125 * texture2D(uTexture, vTexCoordPixelCenter + vec2(oneTexel.x, 0.0)).a +\n                                    0.125 * texture2D(uTexture, vTexCoordPixelCenter + vec2(0.0, -oneTexel.y)).a +\n                                    0.125 * texture2D(uTexture, vTexCoordPixelCenter + vec2(0.0, oneTexel.y)).a +\n                                    0.0625 * texture2D(uTexture, vTexCoordPixelCenter + vec2(-oneTexel.x, -oneTexel.y)).a +\n                                    0.0625 * texture2D(uTexture, vTexCoordPixelCenter + vec2(oneTexel.x, -oneTexel.y)).a +\n                                    0.0625 * texture2D(uTexture, vTexCoordPixelCenter + vec2(-oneTexel.x, oneTexel.y)).a +\n                                    0.0625 * texture2D(uTexture, vTexCoordPixelCenter + vec2(oneTexel.x, oneTexel.y)).a","".concat(Em," *= 1.0 - (inverseIntensity * inverseIntensity)"),"if (".concat(Em," <= 0.0) { discard; }")]),!1),["float distancePx = 255.0","vec2 sample_tx = vec2(0.0)"],!1),Cg(e?Tg(Tg(["vec2 texCoordOffset = vTexCoordPixelCenter - uOffsetPx * oneTexel"],Cg(o.map((function(t,i){return["sample_tx = texCoordOffset + oneTexel * vec2(".concat(t.x,", ").concat(t.y,")"),"if (distancePx > ".concat(t.distPx," && sample_tx.x <= 1.0 && sample_tx.y <= 1.0 && sample_tx.x >= 0.0 && sample_tx.y >= 0.0 && texture2D(uTexture, sample_tx).a > 0.0) { distancePx = ").concat(t.distPx,"; }")]})).flat()),!1),["".concat(Lm," = vec4(distancePx / 255.0, 0.0, 0.0, 1.0)")],!1):Tg(Tg(["vec4 sample_horizontal = vec4(0.0)","float horizontal_dist = 255.0","float min_horizontal_dist = 255.0"],Cg(o.map((function(t,i){return["sample_tx = vTexCoordPixelCenter + oneTexel * vec2(".concat(t.x,", ").concat(t.y,")"),"if (sample_tx.x <= 1.0 && sample_tx.y <= 1.0 && sample_tx.x >= 0.0 && sample_tx.y >= 0.0) {\n                                                sample_horizontal = texture2D(uTextureFirstGlowPass, sample_tx);\n                                                horizontal_dist = sample_horizontal.r * 255.0;\n                                            }","if (sample_horizontal.a < 0.9) { horizontal_dist = 255.0; }","min_horizontal_dist = min(min_horizontal_dist, horizontal_dist)","distancePx = min(distancePx, pow(horizontal_dist * horizontal_dist + ".concat(t.y," * ").concat(t.y,", 0.5))")]})).flat()),!1),["if (distancePx > ".concat(r.toFixed(1),") { discard; }"),"vec4 pixelGlowColor = vec4(0.0, 0.0, 0.0, 0.0)","if (distancePx > ".concat(i.toFixed(1),") {\n                                        float lerpAmount = (distancePx - ").concat(i.toFixed(1),") / ").concat((n+1).toFixed(1),";\n                                        pixelGlowColor = mix(uGlowColor, vec4(uGlowColor.rgb, 0.0), 1.0 - (1.0 - lerpAmount) * (1.0 - lerpAmount));\n                                    } else {\n                                        pixelGlowColor = uGlowColor;\n                                    }"),"".concat(Lm," = pixelGlowColor")],!1)),!1))]}}}},MousePicking:function(t){var i=!!(null==t?void 0:t.customMousePickingIdInput),n=!i&&!!(null==t?void 0:t.useVertexId),r=!i&&!!(null==t?void 0:t.useAttribute),e=!i&&!n&&!r;return{idFeature:"MousePicking",AD:{xD:e,SD:n},apply:function(o,s){var a="webgl2"===s?"flat":"",u="webgl2"===s?"int":"float";return{idVertex:"MousePicking:".concat(yg(t)),idFragment:"MousePicking:".concat(yg(t)),vertexShaderModifiers:Tg(Tg(Tg([],Cg(e?[Km("".concat(a," varying ").concat(u," vPickingIdOffset")),ng("vPickingIdOffset = ".concat(u,"(iInstance)"))]:[]),!1),Cg(n?[Km("".concat(a," varying ").concat(u," vPickingIdOffset")),ng("vPickingIdOffset = ".concat(u,"(iVertex)"))]:[]),!1),Cg(r?[Km("attribute float aPickingIdOffset","".concat(a," varying ").concat(u," vPickingIdOffset")),ng("vPickingIdOffset = ".concat(u,"(aPickingIdOffset)"))]:[]),!1),fragmentShaderModifiers:Tg(Tg([Km("uniform int uFirstId")],Cg(i?[]:[Km("".concat(a," varying ").concat(u," vPickingIdOffset")),$m("int ".concat(Pm," = ").concat("int"===u?"vPickingIdOffset":"int(floor(vPickingIdOffset + 0.5))"))]),!1),[ig("".concat(Lm," ="),"int remainder = ".concat(Pm," + uFirstId"),"int r = remainder / 16777216","remainder -= r * 16777216","int g = remainder / 65536","remainder -= g * 65536","int b = remainder / 256","remainder -= b * 256","int a = remainder","".concat(Lm," = vec4(float(r) / 255.0, float(g) / 255.0, float(b) / 255.0, float(a) / 255.0)")),function(t){return t.replace("gl_FragColor = vec4(fragColorEnd.rgb, fragColorEnd.a * ".concat(Em,")"),"if (".concat(Em," <= 0.0) { discard; }\ngl_FragColor = fragColorEnd")).replace("if (fragColorEnd.a <= 0.0) { discard; }","")}],!1)}}}},AttributeHighlight:{idFeature:"AttributeHighlight",apply:function(t){return{idVertex:"AttributeHighlight",idFragment:"AttributeHighlight",vertexShaderModifiers:[rg("attribute float aIsHighlighted","varying float vIsHighlighted")],fragmentShaderModifiers:[function(t){return t.replace("uniform float uIsHighlighted","varying float vIsHighlighted").replace("uIsHighlighted","vIsHighlighted")}]}}},StippleTexture:{idFeature:"StippleTexture",apply:function(t,i){return{idVertex:"StippleTexture",idFragment:"StippleTexture",vertexShaderModifiers:[Km("attribute vec2 aLengthSoFar"),Km("varying float vLengthSoFar"),Km("uniform vec2 uStippleCount"),ng("\n                vec2 len = (((aLengthSoFar) / uScale) / 2.0) * uStippleCount;\n                vLengthSoFar = len.x + len.y;\n                ")],fragmentShaderModifiers:[Km("uniform sampler2D uStippleTexture"),Km("uniform float uStippleScale"),Km("varying float vLengthSoFar"),"webgl1"===i&&Km("uniform float uStippleTextureWidthLimiter"),ig("".concat(Em," = "),"\n                    float stippleSampleY = texture2D(\n                        uStippleTexture, \n                        ".concat("webgl1"===i?"vec2(mod((vLengthSoFar / uStippleScale) , uStippleTextureWidthLimiter), 0)":"vec2((vLengthSoFar / uStippleScale), 0)","\n                    ).r;\n                    float stippleAA = (stippleSampleY - 0.5) * 2.0;\n                    ").concat(Em," *= stippleAA;\n                    if (").concat(Em," <= 0.0) { discard; }"))]}}},StippleTextureInstanced:{idFeature:"StippleTextureInstanced",apply:function(t,i){return{idVertex:"StippleTextureInstanced",idFragment:"StippleTextureInstanced",vertexShaderModifiers:[Km("attribute vec2 aLengthSoFarA"),Km("attribute vec2 aLengthSoFarB"),Km("varying float vLengthSoFar"),Km("uniform vec2 uStippleCount"),ng("\n                vec2 aLengthSoFar = mix(aLengthSoFarA, aLengthSoFarB, aSegmentSide);\n                vec2 len = (((aLengthSoFar) / uScale) / 2.0) * uStippleCount;\n                vLengthSoFar = len.x + len.y;\n                ")],fragmentShaderModifiers:[Km("uniform sampler2D uStippleTexture"),Km("uniform float uStippleScale"),Km("varying float vLengthSoFar"),"webgl1"===i&&Km("uniform float uStippleTextureWidthLimiter"),ig("".concat(Em," = "),"\n                    float stippleSampleY = texture2D(\n                        uStippleTexture, \n                        ".concat("webgl1"===i?"vec2(mod((vLengthSoFar / uStippleScale) , uStippleTextureWidthLimiter), 0)":"vec2((vLengthSoFar / uStippleScale), 0)","\n                    ).r;\n                    float stippleAA = (stippleSampleY - 0.5) * 2.0;\n                    ").concat(Em," *= stippleAA;\n                    if (").concat(Em," <= 0.0) { discard; }"))]}}},PolarHeatmap:function(t){return{idFeature:"PolarHeatmap",apply:function(i,n){var r="dataType"in t,e="interpolation"in t?t:void 0,o=e?e.flipXY:void 0,s="bilinear"===(null==e?void 0:e.interpolation),a=null==e?void 0:e.intensityTextureType,u=null==e?void 0:e.littleEndian;return{idVertex:void 0,idFragment:"PolarHeatmap:".concat(yg(t)),vertexShaderModifiers:[],fragmentShaderModifiers:Tg([Km("uniform vec2 uViewportSize","uniform vec2 uScale","uniform vec2 uDisp","uniform float uSectors","uniform float uAnnuli","uniform float uAmplitudeStart","uniform float uAmplitudeStep","uniform float uAmplitudeAxisStart","uniform float uAmplitudeAxisEnd","uniform float uAngleOffset","uniform float uAngleDirection",e&&"uniform sampler2D uTileIntensityValues",r&&"uniform vec4 uColor"),Im.texelFetchWithFallback[n],"ubyte"===a&&Im.decodeUbyteRGBAEncodedFloat,$m("vec2 posWorld = (2.0 * gl_FragCoord.xy / uViewportSize) - 1.0","vec2 posAxis = posWorld * uScale + uDisp","float amplitudeAxisInterval = uAmplitudeAxisEnd - uAmplitudeAxisStart","float amplitude = uAmplitudeAxisStart + sign(amplitudeAxisInterval) * sqrt(posAxis.x * posAxis.x + posAxis.y * posAxis.y)","float iAnnulus = (amplitude - uAmplitudeStart) / uAmplitudeStep"),e&&ig("iAnnulus","float angRad = atan(posAxis.y, posAxis.x) * uAngleDirection + uAngleOffset","if (angRad < 0.0) { angRad = angRad + 2.0 * 3.1415926538; }","if (angRad > 2.0 * 3.1415926538) { angRad = angRad - 2.0 * 3.1415926538; }","float iSector = uSectors * angRad / (2.0 * 3.1415926538)","vec2 cellIndex = vec2(iSector, iAnnulus)","ivec2 cellStart = ivec2(floor(cellIndex))","ivec2 cellEnd = cellStart + ivec2(1)","if (cellEnd.x >= int(uSectors)) { cellEnd = ivec2(0, cellEnd.y); }",o&&"cellIndex = vec2(cellIndex.y, cellIndex.x)",o&&"cellStart = ivec2(cellStart.y, cellStart.x)",o&&"cellEnd = ivec2(cellEnd.y, cellEnd.x)"),r&&ig("".concat(Lm," ="),"".concat(Lm," = uColor")),e&&ig("cellEnd","vec2 tileDimensions = ".concat(o?"vec2(uAnnuli, uSectors)":"vec2(uSectors, uAnnuli)"),s&&"vec4 sample00 = texelFetchWithFallback(uTileIntensityValues, cellStart, tileDimensions)",s&&"vec4 sample01 = texelFetchWithFallback(uTileIntensityValues, ivec2(cellStart.x, cellEnd.y), tileDimensions)",s&&"vec4 sample10 = texelFetchWithFallback(uTileIntensityValues, ivec2(cellEnd.x, cellStart.y), tileDimensions)",s&&"vec4 sample11 = texelFetchWithFallback(uTileIntensityValues, cellEnd, tileDimensions)",s&&"float intensity00 = ".concat("float"===a?"sample00.x":"decodeUbyteRGBAEncodedFloat(sample00, ".concat(u,")")),s&&"float intensity01 = ".concat("float"===a?"sample01.x":"decodeUbyteRGBAEncodedFloat(sample01, ".concat(u,")")),s&&"float intensity10 = ".concat("float"===a?"sample10.x":"decodeUbyteRGBAEncodedFloat(sample10, ".concat(u,")")),s&&"float intensity11 = ".concat("float"===a?"sample11.x":"decodeUbyteRGBAEncodedFloat(sample11, ".concat(u,")")),s&&"vec2 lerpFactors = cellIndex - vec2(cellStart)",s&&"float intensityR1 = mix(intensity00, intensity10, lerpFactors.x)",s&&"float intensityR2 = mix(intensity01, intensity11, lerpFactors.x)",s&&"float intensityP = mix(intensityR1, intensityR2,  lerpFactors.y)",!s&&"vec4 sample0 = texelFetchWithFallback(uTileIntensityValues, cellStart, tileDimensions)",!s&&"float intensityP = ".concat("float"===a?"sample0.x":"decodeUbyteRGBAEncodedFloat(sample0, ".concat(u,")")))],Cg(e?ag("intensityP",e.lut):[]),!1)}}}}},_g={"2D":"\nvoid main(void) {\n    gl_Position = vec4(posWorld, 0.0, 1.0 );\n}\n","2DMatrix":"\nvoid main(void) {\n    gl_Position = posWorld;\n}\n","3D":"\nuniform mat4 uViewProjectionMatrix;\nvoid main(void) {\n    gl_Position = uViewProjectionMatrix * vec4(posWorld, 1.0);\n}\n"},Og={FragmentShader:"\nuniform float uIsHighlighted;\nuniform vec4 uHighlightColorOffset;\nuniform float uRenderEffectMask;\nvoid main(void) {\n    vec4 ".concat(Lm," = vec4(0.0, 0.0, 0.0, 0.0);\n    float ").concat(Em," = 1.0;\n    vec4 fragColorEnd = ").concat(Lm,";\n    if (fragColorEnd.a <= 0.0) { discard; }\n    fragColorEnd = clamp(fragColorEnd + uIsHighlighted * uHighlightColorOffset, vec4(0.0), vec4(1.0));\n    fragColorEnd = mix(fragColorEnd, vec4(1.0), uRenderEffectMask * fragColorEnd.a * 1000.0);\n    gl_FragColor = vec4(fragColorEnd.rgb, fragColorEnd.a * ").concat(Em,");\n}\n"),Empty:"\nvoid main(void) {\n}\n"},Fg=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ig=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},jg=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},Bg=function(){function t(t,i,n,r,e){if(this.id=t,this.shader=n,this.gl=r,this.info=e,!i||!n)throw new hm("Could not find ".concat(this.wD()," ").concat(this.MD()," shader source code."));this.gl.shaderSource(n,i),this.gl.compileShader(n)}return Object.defineProperty(t.prototype,"src",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.wD=function(){return this.id.toString()},t.prototype.MD=function(){return this.gl.getShaderParameter(this.shader,this.gl.SHADER_TYPE)===this.gl.FRAGMENT_SHADER?"fragment":"vertex"},t}(),Dg=function(t){function i(i,n,r,e){return t.call(this,i,n,r.createShader(r.VERTEX_SHADER),r,e)||this}return Fg(i,t),i}(Bg),Lg=function(t){function i(i,n,r,e){return t.call(this,i,n,r.createShader(r.FRAGMENT_SHADER),r,e)||this}return Fg(i,t),i}(Bg),Eg=function(){function t(t,i,n,r){this.CD=new Map,this.TD=new Map,this.kD=n,this._D=n.createProgram(),this.OD="".concat(t.wD()," vertex"),this.FD="".concat(i.wD()," fragment"),n.attachShader(this._D,t.shader),n.attachShader(this._D,i.shader),n.bindAttribLocation(this._D,0,"aPos"),n.linkProgram(this._D),n.deleteShader(t.shader),n.deleteShader(i.shader),this.allAttributeNames=t.info.allAttributeNames,this.allUniformNames=Array.from(new Set(t.info.allUniformNames.concat(i.info.allUniformNames)).values()),this.vertexSharedRemovedVariables=t.info.removedVariableNames,this.fragmentSharedRemovedVariables=i.info.removedVariableNames}return Object.defineProperty(t.prototype,"vertexShaderSrc",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fragmentShaderSrc",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.ID=function(t){return un(0,(function(){return hn()}))},t.prototype.jD=function(t){var i=this.BD(t);if(void 0===i)throw this.ID("Could not get ".concat(t," uniform from ").concat(this.OD," and ").concat(this.FD," shaders."));return i},t.prototype.BD=function(t){var i=this.CD.get(t);if(i)return i;var n=this.kD.getUniformLocation(this._D,t);return n?(this.CD.set(t,n),n):void 0},t.prototype.DD=function(t){var i=this.LD(t);if(void 0===i)throw this.ID("Could not get ".concat(t," attribute from ").concat(this.OD," and ").concat(this.FD," shaders."));return i},t.prototype.LD=function(t){var i=this.TD.get(t);if(i||0===i)return i;var n=this.kD.getAttribLocation(this._D,t);return n>=0?(this.TD.set(t,n),n):void 0},t.prototype.V=function(){this.kD.deleteProgram(this._D)},t}(),Pg=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/,zg=function(t){var i;try{i=ci.getComputedStyle(t)}catch(t){return null}return i};function Ng(t){for(var i=t.length;i--;)if(n=t[i],r=void 0,(r=zg(n))&&("fixed"===r.position||"auto"!==r.zIndex&&"static"!==r.position||function(t){var i=zg(Gg(t)),n=i?i.display:"auto";return"flex"===n||"inline-flex"===n}(n)||+r.opacity<1||"transform"in r&&"none"!==r.transform||"webkitTransform"in r&&"none"!==r.webkitTransform||"mixBlendMode"in r&&"normal"!==r.mixBlendMode||"filter"in r&&"none"!==r.filter||"webkitFilter"in r&&"none"!==r.webkitFilter||"isolation"in r&&"isolate"===r.isolation||Pg.test(r.willChange)||"touch"===r.webkitOverflowScrolling))return t[i];var n,r;return null}function Vg(t){var i;return t&&Number((null===(i=zg(t))||void 0===i?void 0:i.zIndex)||0)||0}function Rg(t){for(var i=[];t;)i.push(t),t=Gg(t);return i}function Gg(t){var i;return(null===(i=t.parentNode)||void 0===i?void 0:i.host)||t.parentNode}var Ug=function(t){return t&&"resize"in t},Yg=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wg=function(){return Wg=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Wg.apply(this,arguments)},Xg=function(t){function i(i){var n=t.call(this)||this;if(n.ED=new Map,n.PD=new Map,n.zD=new Map,n.ND=!0,n.VD=null,n.RD=null,n.GD=null,n.UD=null,n.YD=0,n.WD=0,n.XD=0,n.HD=!1,n.ZD=!0,n.fi=!1,n.QD=on("chart-engine-".concat((new Date).getTime()).concat(Math.trunc(1e6*Math.random()).toString())),n.U={x:100,y:100},n.JD=function(){n.KD&&clearTimeout(n.KD),n.KD=setTimeout((function(){return n.qD()}),12)},n.$D=function(t){var i=t.intersectionRatio>0,r=t.target.getAttribute("data-lcjs-engine-id");if(r){var e=n.ED.get(r);if(e){var o=e.tL();e.iL(i),i?n.PD.set(r,e):n.PD.delete(r),o!==i&&e.Fn()}}},n.nL=function(t,i,r,e,o){var s=o[0],a=n.gl;if(a.bindFramebuffer(null==a?void 0:a.FRAMEBUFFER,null),a.useProgram(n.RD._D),a.clear(a.COLOR_BUFFER_BIT),s.js.getBoundingClientRect()){var u=s.rL();a.viewport(0,0,u.x,u.y),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,s.eL),a.uniform1i(n.YD,0),a.uniformMatrix4fv(n.WD,!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),a.bindBuffer(a.ARRAY_BUFFER,n.GD),a.enableVertexAttribArray(0),a.vertexAttribPointer(n.XD,2,a.FLOAT,!1,0,0),a.drawArrays(a.TRIANGLES,0,6),a.bindFramebuffer(a.FRAMEBUFFER,null),s.oL&&(s.oL.clearRect(0,0,s.oL.canvas.width,s.oL.canvas.height),s.oL.drawImage(n.sL,0,n.sL.height-u.y,u.x,u.y,0,0,s.oL.canvas.width,s.oL.canvas.height))}},n.aL=function(t,i,r,e,o){var s=n.gl;s.bindFramebuffer(null==s?void 0:s.FRAMEBUFFER,null),s.useProgram(n.RD._D),s.clear(s.COLOR_BUFFER_BIT),o.forEach((function(r){var o=r.js.getBoundingClientRect();if(o){var a=o.right-o.left,u=o.bottom-o.top,h=o.left,f=e-o.bottom;s.viewport(h*n.uL-t*n.uL,f*n.uL+i*n.uL,a*n.uL,u*n.uL)}s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,r.eL),s.uniform1i(n.YD,0),s.uniformMatrix4fv(n.WD,!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),s.bindBuffer(s.ARRAY_BUFFER,n.GD),s.enableVertexAttribArray(0),s.vertexAttribPointer(n.XD,2,s.FLOAT,!1,0,0),s.drawArrays(s.TRIANGLES,0,6)})),s.bindFramebuffer(s.FRAMEBUFFER,null)},n.hL=function(t,i,r,e,o){var s=o[0],a=n.gl2.ctx;a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null),a.clear(a.COLOR_BUFFER_BIT);var u=s.rL();a.bindFramebuffer(a.READ_FRAMEBUFFER,s.fL[1]),a.blitFramebuffer(0,0,u.x,u.y,0,n.sL.height-u.y,u.x,n.sL.height,a.COLOR_BUFFER_BIT,a.LINEAR),s.oL&&(s.oL.clearRect(0,0,s.oL.canvas.width,s.oL.canvas.height),s.oL.drawImage(n.sL,0,0)),a.bindFramebuffer(a.FRAMEBUFFER,null)},n.cL=function(t,i,r,e,o){var s=n.gl2.ctx;s.bindFramebuffer(s.DRAW_FRAMEBUFFER,null),s.clear(s.COLOR_BUFFER_BIT),o.forEach((function(r){var o=r.js.getBoundingClientRect();if(o){var a=o.right-o.left,u=o.bottom-o.top,h=o.left,f=e-o.bottom,c=r.rL();s.bindFramebuffer(s.READ_FRAMEBUFFER,r.fL[1]),s.blitFramebuffer(0,0,c.x,c.y,h*n.uL-t*n.uL,f*n.uL+i*n.uL,(h-t+a)*n.uL,(f+i+u)*n.uL,s.COLOR_BUFFER_BIT,s.LINEAR)}})),s.bindFramebuffer(s.FRAMEBUFFER,null)},n.KD=void 0,n.xu=i,!ci.requestAnimationFrame||!ci.cancelAnimationFrame)throw new Error("LightningChart JS depends on requestAnimationFrame. Make sure to load a polyfill in older browsers.");var r=1;if(i&&i.lL)r=!0===i.lL?ci.devicePixelRatio||1:i.lL||1;else{var e=ci.document.head.querySelector('meta[name="viewport"]');e&&e.content.includes("width=device-width")&&(r=ci.devicePixelRatio||1)}n.uL=r,i.Su=!0===i.Su,n.ZD=!1!==i.vL,n.dL=!1!==i.yL,n.AL=i.AL||!1;var o=!1;if(i.sL)if("string"==typeof i.sL){var s=ci.document.getElementById(i.sL);if(!s)throw new Error('Canvas "'.concat(i.sL,"\" doesn't exist."));n.sL=s,o=!0}else n.sL=i.sL,o=!0;else n.sL=ci.document.createElement("canvas");var a={preserveDrawingBuffer:!0,alpha:!0,antialias:!1};if(2!==i.bL&&i.bL){var u=n.sL.getContext("webgl",Wg(Wg({},a),{antialias:!!i.vL}))||n.sL.getContext("experimental-webgl",Wg(Wg({},a),{antialias:!!i.vL}));n.gl=u,n.pL=!1}else{var f=n.sL.getContext("webgl2",a);n.gl2={ctx:f},n.gl=f,n.pL=!0}if(!n.gl)throw new um("No WebGL context available.".concat((null==i?void 0:i.bL)?"\nSelected explicit target: WebGL ".concat(i.bL):""));var c=[];if(n.mL={WEBGL_lose_context:n.gl.getExtension("WEBGL_lose_context")},Object.keys(n.mL).forEach((function(t){null===n.mL[t]&&c.push(t)})),n.pL)n.gL=!0;else{var l={ANGLE_instanced_arrays:n.gl.getExtension("ANGLE_instanced_arrays"),EXT_blend_minmax:n.gl.getExtension("EXT_blend_minmax"),OES_element_index_uint:n.gl.getExtension("OES_element_index_uint"),OES_standard_derivatives:n.gl.getExtension("OES_standard_derivatives"),OES_vertex_array_object:n.gl.getExtension("OES_vertex_array_object")};l.OES_standard_derivatives||(n.ND=!1),Object.keys(l).forEach((function(t){null===l[t]&&c.push(t)}));var v={OES_texture_float:n.gl.getExtension("OES_texture_float")};n.gL=!!v.OES_texture_float,n.gl1={ctx:n.gl,mL:l,optional:v}}var d=c;if(d.length>0&&!1!==i.Su){var y=ci.document.createElement("div");y.innerText="LightningChart JS: Some features might not work properly, due to missing WebGL features.",y.style.cssText="position:absolute;top:0;background:red;width:100%;padding:10px;text-align:center;color:white;z-index:1;";var A=ci.document.createElement("button");A.innerText="X",A.addEventListener("click",(function(){y.parentElement&&y.parentElement.removeChild(y)})),ci.document.body.appendChild(y),y.appendChild(A),ci.console.warn("LightningChart JS - Following WebGL extensions could not be loaded:",d.join(", "))}if(n.xL=n.AL?n.SL(n.pL?n.hL.bind(n):n.nL.bind(n)).bind(n):n.wL(n.pL?n.cL.bind(n):n.aL.bind(n)).bind(n),ci.ResizeObserver&&(n.Tu=new ci.ResizeObserver(function(t){var i,r;try{for(var e=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),o=e.next();!o.done;o=e.next())o.value.target===n.sL&&n.ML()}catch(t){i={error:t}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}}.bind(n)),n.Tu.observe(n.sL)),n.CL=function(t,i){var n=t,r=new Map,e=new Map,o=new Map,s={totalMs:0,vertexShaders:0,fragmentShaders:0,programs:0},a=function(t,n,r){void 0===r&&(r=[]);var e=[],o=[],s={allAttributeNames:Array.from(t.matchAll(/attribute\s[^\s]*\s(.*);/g)).map((function(t){return t[1]})),allUniformNames:Array.from(t.matchAll(/uniform\s[^\s]*\s(.*);/g)).map((function(t){return t[1]})),allVaryingNames:Array.from(t.matchAll(/varying\s[^\s]*\s(.*);/g)).map((function(t){return t[1]})),removedVariableNames:[]};if(i){var a=t.match(/#extension.*/g);a&&o.push.apply(o,jg([],Ig(a),!1)),t=t.replace(/#extension.*/g,"")}else if(e.push("#version 300 es"),(t=(t=(t=t.replace(/#extension.*/g,"")).replace(/attribute/g,"in")).replace(/texture2D/g,"texture")).includes("usampler2D")&&e.push("precision highp usampler2D;"),"vertex"===n)t=t.replace(/varying/g,"out");else{t=t.replace(/varying/g,"in");var u=r.find((function(t){return"fragOutput"===t.type}));t=(t=u?"out ".concat(u.fragOutput," fragOutput;\n").concat(t):"out vec4 fragOutput;\n".concat(t)).replace(/gl_FragColor/g,"fragOutput")}return o&&e.push.apply(e,jg([],Ig(o),!1)),e.push("precision highp float;"),e.push("precision highp int;"),{source:t="".concat(e.join("\n"),"\n").concat(t),info:s}};return function(){for(var t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];var h,f=i?"webgl1":"webgl2";try{var c=ci.performance.now();h=function(t,i){var n,r,e=t.map((function(n){return n.apply(t,i)})),o=e.map((function(t){return t.idVertex})).filter((function(t){return void 0!==t})).sort().join(" "),s=e.map((function(t){return t.idFragment})).filter((function(t){return void 0!==t})).sort().join(" "),a="vert: ".concat(o," frag: ").concat(s),u=!1,h=!1,f=[],c=[],l=[];if(e.forEach((function(t){var i,e,o,s;if(t.defaultVertexShader&&(u||(n=t.defaultVertexShader)),t.vertexShader){if(n&&u&&n!==t.vertexShader)throw new dg("Conflicting vertex shader templates ".concat(n," vs ").concat(t.vertexShader),a,t);n=t.vertexShader,u=!0}if(t.vertexShaderModifiers)try{for(var v=vg(t.vertexShaderModifiers),d=v.next();!d.done;d=v.next())void 0!==(b=d.value)&&!1!==b&&f.push(b)}catch(t){i={error:t}}finally{try{d&&!d.done&&(e=v.return)&&e.call(v)}finally{if(i)throw i.error}}if(t.defaultFragmentShader&&(h||(r=t.defaultFragmentShader)),t.fragmentShader){if(r&&h&&r!==t.fragmentShader)throw new dg("Conflicting fragment shader templates ".concat(r," vs ").concat(t.fragmentShader),a,t);r=t.fragmentShader,h=!0}if(t.fragmentShaderModifiers)try{for(var y=vg(t.fragmentShaderModifiers),A=y.next();!A.done;A=y.next()){var b;void 0!==(b=A.value)&&!1!==b&&c.push(b)}}catch(t){o={error:t}}finally{try{A&&!A.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}t.hints&&t.hints.forEach((function(t){t&&l.push(t)}))})),!!t.find((function(t){var i;return null===(i=t.AD)||void 0===i?void 0:i.xD}))&&("webgl1"===i?f.push(Km("attribute float aInstanceID"),$m("int iInstance = int(aInstanceID)")):f.push($m("int iInstance = gl_InstanceID"))),!!t.find((function(t){var i;return null===(i=t.AD)||void 0===i?void 0:i.SD}))&&("webgl1"===i?f.push(Km("attribute float aVertexID"),$m("int iVertex = int(aVertexID)")):f.push($m("int iVertex = gl_VertexID"))),!n)throw new dg("No vertex shader template defined",a);if(!r)throw new dg("Fragment shader not defined",a);return{id:a,vertexShader:{id:o,template:n,modifiers:f},fragmentShader:{id:s,template:r,modifiers:c},hints:l}}(t.filter((function(t){return!1!==t&&void 0!==t})),f);var l=o.get(h.id);if(l)return l.vertexShaderSrc,l.fragmentShaderSrc,l;var v=h.vertexShader.id,d=r.get(v);if(d)d.src;else{var y=new Hm(h.vertexShader.modifiers).build(_g[h.vertexShader.template]),A=a(y,"vertex"),b=A.source,p=A.info;d=new Dg(v,b,n,p),r.set(v,d),s.vertexShaders+=1}var m=h.fragmentShader,g=void 0,x=m.id;if(g=e.get(x))g.src;else{var S=Og[m.template],w=(y=new Hm(jg([],Ig(m.modifiers),!1)).build(S),a(y,"fragment",h.hints));b=w.source,p=w.info,g=new Lg(x,b,n,p),e.set(x,g),s.fragmentShaders+=1}var M=new Eg(d,g,n,h);return o.set(h.id,M),s.programs+=1,s.totalMs+=ci.performance.now()-c,M}catch(t){throw un(0,(function(){var t="Unexpected LightningChart JS rendering error.\nThis can mean a bug in the library, or that it is simply used in unsupported manner (passing wrong type to method, using disposed component, etc).";return ci.alert(t),new Error(t)}))}}}(n.gl,!n.pL),n.vD=function(){var t=ci.document.createElement("canvas"),i=t.getContext("2d",{willReadFrequently:!0});if(!i)throw new um("Failed to get Text canvas rendering context");return i.fillStyle="#fff",function(n,r,e,o){var s="".concat(r.style," ").concat(r.weight," ").concat(r.size*e,"px ").concat(r.family);i.font=s,i.textBaseline="alphabetic",i.textAlign="left";var a=i.measureText(n);if(0!==a.width){var u=void 0!==a.actualBoundingBoxLeft&&void 0!==a.actualBoundingBoxRight?Math.ceil(a.actualBoundingBoxLeft+a.actualBoundingBoxRight):Math.ceil(a.width),f=a.width,c=Math.round(r.size*e),l=void 0!==a.actualBoundingBoxLeft?a.actualBoundingBoxLeft:0;t.width=u>0?u:f,t.height=2*c,i.font=s,i.textBaseline="alphabetic",i.textAlign="left",o?(i.clearRect(0,0,t.width,t.height),i.fillStyle="#fff"):(i.fillStyle="rgba(255,255,255,0)",i.fillRect(0,0,t.width,t.height),i.fillStyle="#000"),i.fillText(n,l,c);for(var v=i.getImageData(0,0,t.width,t.height),d=0,y=0,A=v.width,b=0;b<v.height;b+=1){for(var p=0;p<A;p+=1)if(0!==v.data[b*A*4+4*p+3]){d=b;break}if(0!==d)break}for(b=v.height-1;b>=0;b-=1){for(p=0;p<A;p+=1)if(0!==v.data[b*A*4+4*p+3]){y=b;break}if(0!==y)break}var m=i.canvas.height/2-d,g=y-d+1,x=A,S=new Uint8ClampedArray(x*g*1);for(b=0;b<g;b+=1)for(p=0;p<x;p+=1)S[1*b*x+1*p+0]=v.data[(b+d)*x*4+4*p+3];return[S,{advance:f,offsetX:l,baseline:m,glyph:n,size:h(x,g)}]}}}(),i.TL||(n.AL?n.sL.style.display="none":(n.sL.style.position="absolute",n.sL.style.top="0",n.sL.style.left="0",n.sL.style.right="0",n.sL.style.bottom="0",n.sL.style.width="100%",n.sL.style.height="100%",n.sL.style.boxSizing="content-box",n.sL.style.display="block",n.sL.style.pointerEvents="none")),n.sL.classList.add("lcjs-canvas"),i.kL&&n.sL.setAttribute("data-lcjs-id",i.kL),o||ci.document.body.appendChild(n.sL),ci.IntersectionObserver&&(n._L=new ci.IntersectionObserver((function(t){for(var i=0;i<t.length;i+=1){var r=t[i];n.$D(r)}}),{threshold:Array.from(Array(100)).map((function(t,i){return i/100}))})),ci.addEventListener("resize",n.JD,{passive:!0}),!n.pL){if(n.RD=n.CL(kg["2DCompose"],kg.Color({dataType:"texture-coord-calc-gpu"}),kg.VertexLocation({axisWorldTranslation:"matrix4",normalSource:void 0,coordType:"vec4"})),!n.RD._D)throw new um("Unable to setup composition shader!");var b=n.gl,p=b.getUniformLocation(n.RD._D,"uColorTexture");if(!p)throw new um("Unable to setup composition shader! Failed to find uColorTexture");var m=b.getUniformLocation(n.RD._D,"uMatrix");if(!m)throw new um("Unable to setup composition shader! Failed to find uMatrix");n.YD=p,n.WD=m,n.XD=b.getAttribLocation(n.RD._D,"aPos"),n.GD=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,n.GD),b.bufferData(b.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),b.STATIC_DRAW),b.bindBuffer(b.ARRAY_BUFFER,null),n.UD=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,n.UD),b.bufferData(b.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]),b.STATIC_DRAW),b.bindBuffer(b.ARRAY_BUFFER,null)}}return Yg(i,t),i.prototype.SL=function(t){var i=this;return function(n){i.VD=null;var r=i.gl.canvas,e=Array.from(i.PD.values());i.HD=!1,e.forEach((function(e){var o=e.rL();(i.U.x<o.x||i.U.y<o.y)&&(i.U.x=Math.max(i.U.x,o.x),i.U.y=Math.max(i.U.y,o.y),r instanceof HTMLCanvasElement&&(r.width=i.U.x,r.height=i.U.y)),e.Wa&&e.OL(n),t(0,0,0,0,[e])})),i.HD&&i.ML()}},i.prototype.wL=function(t){var i=this;return function(n){i.VD=null,"style"in i.gl.canvas&&!i.xu.FL&&(i.gl.canvas.style.transform="translateX(".concat(window.scrollX,"px) translateY(").concat(window.scrollY,"px)"));var r=i.gl.canvas,e=i.sL.clientHeight,o=i.sL.clientWidth,s=0,a=0;if(r instanceof HTMLCanvasElement){r.width===o*i.uL&&r.height===e*i.uL||(r.width=o*i.uL,r.height=e*i.uL);var u=r.getBoundingClientRect();s=u.x,a=u.y}var h=Array.from(i.PD.values());i.HD=!1,h.sort((function(t,i){return t.IL()-i.IL()})).forEach((function(t){t.Wa&&t.OL(n)})),t(s,a,o,e,h),i.HD&&i.ML()}},i.prototype.ML=function(t){return Ug(this.gl)||(!this.HD&&t&&(this.HD=!0),this.VD||this.fi||(this.VD=ci.requestAnimationFrame(this.xL))),this},i.prototype.jL=function(t){var i=this,n=this.QD();return t.js.setAttribute("data-lcjs-engine-id",n),this.ED.set(n,t),t.BL(this.ED.size-1),t.iL(!0),this.PD.set(n,t),this._L&&this._L.observe(t.js),this.KD&&clearTimeout(this.KD),this.KD=setTimeout((function(){return i.qD()}),0),this},i.prototype.DL=function(t){var i=t.js.getAttribute("data-lcjs-engine-id");return i?(this.ED.delete(i),this.PD.delete(i),this._L&&this._L.unobserve(t.js),t.js.removeAttribute("data-lcjs-engine-id"),this):this},i.prototype.qD=function(){if(this._L)for(var t=this._L.takeRecords(),i=0;i<t.length;i+=1){var n=t[i];this.$D(n)}if(!this.AL&&this.dL){var r=Array.from(this.ED.values()).sort((function(t,i){
/**
 * stacking-order by Rich Harris
 * https://github.com/Rich-Harris/stacking-order
 *
 * @license MIT
 *
 * Converted to TypeScript and edited to match LCJS requirements.
 */
return function(t,i){if(t===i)return 0;for(var n,r={a:Rg(t),b:Rg(i)};r.a[r.a.length-1]===r.b[r.b.length-1];)t=r.a.pop(),i=r.b.pop(),n=t;var e=Vg(Ng(r.a)),o=Vg(Ng(r.b));if(e===o&&n)for(var s=n.childNodes,a={a:r.a[r.a.length-1],b:r.b[r.b.length-1]},u=s.length;u--;){var h=s[u];if(h===a.a)return 1;if(h===a.b)return-1}return Math.sign(e-o)}(t.js,i.js)}));r.forEach((function(t,i){return t.BL(i)}))}return this.ML(!0),this},i.prototype.BB=function(){return this.ML(),this},i.prototype.LL=function(){this.fi||this.ED.forEach((function(t){return t.Wy.layout()}))},i.prototype.V=function(){var i;if(!this.fi){this.fi=!0,t.prototype.V.call(this),this.VD&&(ci.cancelAnimationFrame(this.VD),this.VD=null),this.HD=!1,this.Tu&&(this.Tu.disconnect(),this.Tu=void 0),this._L&&(this._L.disconnect(),this._L=void 0),ci.removeEventListener("resize",this.JD),this.JD=void 0,this.ED.forEach((function(t){t.V()})),this.ED.clear(),Array.from(this.zD.values()).forEach((function(t){t.jc(!0)})),this.zD.clear();var n=this.gl;n.deleteBuffer(this.GD),n.deleteBuffer(this.UD),this.sL&&!this.xu.sL?(this.sL.width=1,this.sL.height=1,null===(i=this.sL.parentElement)||void 0===i||i.removeChild(this.sL),this.sL=void 0):this.sL=void 0,this.CL=void 0,this.vD=void 0,this.xL=function(){},this.mL.WEBGL_lose_context&&this.mL.WEBGL_lose_context.loseContext()}},i}(gm),Hg=function(){return Hg=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Hg.apply(this,arguments)},Zg=function(t,i,n,r){return function(e){var o=Hg(Hg({theme:bb},n),e),s=t(o),a=i||r?bm(s,r,null==n?void 0:n.licenseInformation):void 0,u=new ym(s.xu,e,s,s.V.bind(s),o,a);return s.Vu((function(t){return u.Ic(t)})).Nu((function(){return u.Y()})).Fn(),u}},Qg=function(t,i){t.Vu((function(t){i.ie(t)})).Nu((function(){return i.Y()})).Fn()},Jg=function(t,i,n,r){return function(e){var o=Hg(Hg(Hg({},n),e),{theme:(null==e?void 0:e.theme)||bb}),s=t(o),a=i||r?bm(s,r,null==n?void 0:n.licenseInformation):void 0,u=new bf(s.xu,om(s,1).Uj(0),ot,s.V.bind(s),a,void 0,null==e?void 0:e.legend);return Qg(s,u),u}},Kg=function(t,i,n,r){return function(e){var o=Hg(Hg(Hg({},n),e),{theme:(null==e?void 0:e.theme)||bb}),s=t(o),a=i||r?bm(s,r,null==n?void 0:n.licenseInformation):void 0,u=new Hd(s.xu,om(s,1).Uj(0),ot,s.V.bind(s),a,e);return Qg(s,u),u}},qg=function(t,i,n,r){return function(e){var o=Hg(Hg(Hg({},n),e),{theme:(null==e?void 0:e.theme)||bb}),s=t(o),a=i||r?bm(s,r,null==n?void 0:n.licenseInformation):void 0,u=new DA(s.xu,om(s,1).Uj(0),ot,s.V.bind(s),a,e);return Qg(s,u),u}},$g=function(t,i,n,r){return function(e){var o=Hg(Hg(Hg({},n),e),{theme:(null==e?void 0:e.theme)||bb}),s=t(o),a=i||r?bm(s,r,null==n?void 0:n.licenseInformation):void 0,u=new ky(s.xu,om(s,1).Uj(0),ot,s.V.bind(s),a,e);return Qg(s,u),u}},tx=function(t,i,n,r){return function(e){var o=Hg(Hg(Hg({},n),e),{theme:(null==e?void 0:e.theme)||bb}),s=t(o),a=i||r?bm(s,r,null==n?void 0:n.licenseInformation):void 0,u=new(e&&e.type?e.type:Kp)(s.xu,om(s,1).Uj(0),ot,s.V.bind(s),a,void 0,e);return Qg(s,u),u}},ix=function(t,i,n,r){return function(e){var o=Hg(Hg(Hg({},n),e),{theme:(null==e?void 0:e.theme)||bb}),s=t(o),a=i||r?bm(s,r,null==n?void 0:n.licenseInformation):void 0,u=new vp(s.xu,om(s,1).Uj(0),ot,s.V.bind(s),a,void 0,e);return Qg(s,u),u}},nx=function(t,i,n,r){return function(e){var o=Hg(Hg(Hg({},n),e),{theme:(null==e?void 0:e.theme)||bb}),s=t(o),a=i||r?bm(s,r,null==n?void 0:n.licenseInformation):void 0,u=new(e&&e.type?e.type:Zy)(s.xu,om(s,1).Uj(0),ot,s.V.bind(s),a,void 0,e);return Qg(s,u),u}},rx=function(t,i,n,r){return function(e){var o=Hg(Hg(Hg({},n),e),{theme:(null==e?void 0:e.theme)||bb}),s=t(o),a=i||r?bm(s,r,null==n?void 0:n.licenseInformation):void 0,u=new(e&&e.type?e.type:AA)(s.xu,om(s,1).Uj(0),ot,s.V.bind(s),a,void 0,e);return Qg(s,u),u}},ex=function(t,i,n,r){return function(e){var o=Hg(Hg(Hg({},n),e),{theme:(null==e?void 0:e.theme)||bb}),s=t(o),a=i||r?bm(s,r,null==n?void 0:n.licenseInformation):void 0,u=new _l(s.xu,om(s,1).Uj(0),ot,s.V.bind(s),a,e,void 0);return Qg(s,u),u}},ox=function(t,i,n,r){return function(e){var o=Hg(Hg(Hg({},n),e),{theme:(null==e?void 0:e.theme)||bb}),s=t(o),a=i||r?bm(s,r,null==n?void 0:n.licenseInformation):void 0,u=new Jc(s.xu,om(s,1).Uj(0),ot,s.V.bind(s),a,void 0,e);return Qg(s,u),u}},sx=function(t,i,n,r){return function(e){var o=Hg(Hg(Hg({},n),e),{theme:(null==e?void 0:e.theme)||bb}),s=t(o),a=i||r?bm(s,r,null==n?void 0:n.licenseInformation):void 0,u=new Cb(s.xu,om(s,1).Uj(0),ot,s.V.bind(s),a,void 0);return Qg(s,u),u}},ax=function(t,i,n,r){return function(e){var o=Hg(Hg(Hg({},n),e),{theme:(null==e?void 0:e.theme)||bb}),s=t(o),a=i||r?bm(s,r,null==n?void 0:n.licenseInformation):void 0,u=new Gb(s.xu,om(s,1).Uj(0),ot,s.V.bind(s),a,void 0,e);return Qg(s,u),u}},ux=function(t,i,n,r){return function(e){var o=Hg(Hg(Hg({},n),e),{theme:(null==e?void 0:e.theme)||bb}),s=t(o),a=i||r?bm(s,r,null==n?void 0:n.licenseInformation):void 0,u=new oy(s.xu,om(s,1).Uj(0),ot,s.V.bind(s),a,e);return Qg(s,u),u}},hx=function(t,i,n,r){return function(e){var o=Hg(Hg(Hg({},n),e),{theme:(null==e?void 0:e.theme)||bb}),s=t(o),a=i||r?bm(s,r,null==n?void 0:n.licenseInformation):void 0,u=new ap(s.xu,om(s,1).Uj(0),ot,s.V.bind(s),a,e);return Qg(s,u),u}},fx=function(t,i,n,r){return function(e){var o=Hg(Hg(Hg({},n),e),{theme:(null==e?void 0:e.theme)||bb}),s=t(o),a=i?bm(s,r):void 0,u=new Fp(s.xu,om(s,1).Uj(0),ot,s.V.bind(s),a,void 0,e);return Qg(s,u),u}},cx={translation:function(t,i,n){return[1,0,0,0,0,1,0,0,0,0,1,0,t,i,n,1]},xRotation:function(t){var i=Math.cos(t),n=Math.sin(t);return[1,0,0,0,0,i,n,0,0,-n,i,0,0,0,0,1]},yRotation:function(t){var i=Math.cos(t),n=Math.sin(t);return[i,0,-n,0,0,1,0,0,n,0,i,0,0,0,0,1]},zRotation:function(t){var i=Math.cos(t),n=Math.sin(t);return[i,n,0,0,-n,i,0,0,0,0,1,0,0,0,0,1]},scaling:function(t,i,n){return[t,0,0,0,0,i,0,0,0,0,n,0,0,0,0,1]},translate:function(t,i,n,r){return cx.multiply(t,cx.translation(i,n,r))},xRotate:function(t,i){return cx.multiply(t,cx.xRotation(i))},yRotate:function(t,i){return cx.multiply(t,cx.yRotation(i))},zRotate:function(t,i){return cx.multiply(t,cx.zRotation(i))},rotateXYZ:function(t,i){var n=cx.xRotate(t,i.x);return n=cx.yRotate(n,i.y),cx.zRotate(n,i.z)},scale:function(t,i,n,r){return cx.multiply(t,cx.scaling(i,n,r))},multiply:function(t,i){var n=i[0],r=i[1],e=i[2],o=i[3],s=i[4],a=i[5],u=i[6],h=i[7],f=i[8],c=i[9],l=i[10],v=i[11],d=i[12],y=i[13],A=i[14],b=i[15],p=t[0],m=t[1],g=t[2],x=t[3],S=t[4],w=t[5],M=t[6],C=t[7],T=t[8],k=t[9],_=t[10],O=t[11],F=t[12],I=t[13],j=t[14],B=t[15],D=[];return D[0]=n*p+r*S+e*T+o*F,D[1]=n*m+r*w+e*k+o*I,D[2]=n*g+r*M+e*_+o*j,D[3]=n*x+r*C+e*O+o*B,D[4]=s*p+a*S+u*T+h*F,D[5]=s*m+a*w+u*k+h*I,D[6]=s*g+a*M+u*_+h*j,D[7]=s*x+a*C+u*O+h*B,D[8]=f*p+c*S+l*T+v*F,D[9]=f*m+c*w+l*k+v*I,D[10]=f*g+c*M+l*_+v*j,D[11]=f*x+c*C+l*O+v*B,D[12]=d*p+y*S+A*T+b*F,D[13]=d*m+y*w+A*k+b*I,D[14]=d*g+y*M+A*_+b*j,D[15]=d*x+y*C+A*O+b*B,D},inverse:function(t){var i=[],n=t[0],r=t[1],e=t[2],o=t[3],s=t[4],a=t[5],u=t[6],h=t[7],f=t[8],c=t[9],l=t[10],v=t[11],d=t[12],y=t[13],A=t[14],b=t[15],p=l*b,m=A*v,g=u*b,x=A*h,S=u*v,w=l*h,M=e*b,C=A*o,T=e*v,k=l*o,_=e*h,O=u*o,F=f*y,I=d*c,j=s*y,B=d*a,D=s*c,L=f*a,E=n*y,P=d*r,z=n*c,N=f*r,V=n*a,R=s*r,G=p*a+x*c+S*y-(m*a+g*c+w*y),U=m*r+M*c+k*y-(p*r+C*c+T*y),Y=g*r+C*a+_*y-(x*r+M*a+O*y),W=w*r+T*a+O*c-(S*r+k*a+_*c),X=1/(n*G+s*U+f*Y+d*W);return i[0]=X*G,i[1]=X*U,i[2]=X*Y,i[3]=X*W,i[4]=X*(m*s+g*f+w*d-(p*s+x*f+S*d)),i[5]=X*(p*n+C*f+T*d-(m*n+M*f+k*d)),i[6]=X*(x*n+M*s+O*d-(g*n+C*s+_*d)),i[7]=X*(S*n+k*s+_*f-(w*n+T*s+O*f)),i[8]=X*(F*h+B*v+D*b-(I*h+j*v+L*b)),i[9]=X*(I*o+E*v+N*b-(F*o+P*v+z*b)),i[10]=X*(j*o+P*h+V*b-(B*o+E*h+R*b)),i[11]=X*(L*o+z*h+R*v-(D*o+N*h+V*v)),i[12]=X*(j*l+L*A+I*u-(D*A+F*u+B*l)),i[13]=X*(z*A+F*e+P*l-(E*l+N*A+I*e)),i[14]=X*(E*u+R*A+B*e-(V*A+j*e+P*u)),i[15]=X*(V*l+D*e+N*u-(z*u+R*l+L*e)),i},projectionPerspective:function(t,i,n,r){var e=1/Math.tan(t*Math.PI/180/2),o=1/(n-r);return[e/i,0,0,0,0,e,0,0,0,0,(n+r)*o,-1,0,0,n*r*o*2,0]},projectionOrthographic:function(t,i,n,r,e,o){return[2/(i-t),0,0,0,0,2/(r-n),0,0,0,0,2/(e-o),0,(t+i)/(t-i),(n+r)/(n-r),(e+o)/(e-o),1]},quaternionToRotationMatrix:function(t){var i=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3]),n=[t[0]/i,t[1]/i,t[2]/i,t[3]/i],r=n[0]+n[0],e=n[1]+n[1],o=n[2]+n[2],s=n[0]*r,a=n[0]*e,u=n[0]*o,h=n[1]*e,f=n[1]*o,c=n[2]*o,l=n[3]*r,v=n[3]*e,d=n[3]*o;return[1-(h+c),a-d,u+v,0,a+d,1-(s+c),f-l,0,u-v,f+l,1-(s+h),0,0,0,0,1]}};function lx(t,i,n,r,s,a){var u=i.x.Bt(t.max.x),h=i.x.Bt(t.min.x),f=i.y.Bt(t.max.y),c=i.y.Bt(t.min.y),l=u-h,v=f-c;if(l<1){var d=(h+u)/2;h=d-.5,u=d+.5,l=1}if(v<1){var y=(c+f)/2;c=y-.5,f=y+.5,v=1}var A,b,p=l/v,m=l*n.x,g=v*n.y,x=l-m,S=v-g,w=m>x?[x,m]:[m,x],M=g>S?[S,g]:[g,S],C=1,T=1;switch(r){default:case o.closestSide:A=w[0]/l,b=M[0]/v,s===e.circle?(C=k=Math.min(A*p,b),T=k):(C=A*p,T=b);break;case o.farthestSide:A=w[1]/l,b=M[1]/v,s===e.circle?(C=k=Math.max(A*p,b),T=k):(C=A*p,T=b);break;case o.closestCorner:b=M[0]/v,s===e.circle?(A=w[0]/l*p,C=k=Math.sqrt(A*A+b*b),T=k):(A=w[0]/l,C=(k=Math.sqrt(A*A+b*b))*p,T=k);break;case o.farthestCorner:var k;b=M[1]/v,s===e.circle?(A=w[1]/l*p,C=k=Math.sqrt(A*A+b*b),T=k):(A=w[1]/l,C=(k=Math.sqrt(A*A+b*b))*p,T=k)}return{bounds:[h*a,c*a,l*a,v*a],center:[n.x*p,n.y],distance:[Math.max(C,1e-4),Math.max(T,1e-4)],aspectRatio:p}}function vx(t,i,n,r){var e=i.x.Bt(t.max.x),o=i.x.Bt(t.min.x),s=i.y.Bt(t.max.y),a=i.y.Bt(t.min.y),u=e-o,f=s-a,c=Math.abs(u*Math.sin(n))+Math.abs(f*Math.cos(n)),l=h(u/2-Math.sin(n)*(c/2),f/2-Math.cos(n)*(c/2)),v=h(u/2+Math.sin(n)*(c/2),f/2+Math.cos(n)*(c/2));return{bounds:[o*r,a*r,u*r,f*r],startPoint:[l.x*r,l.y*r],endPoint:[v.x*r,v.y*r]}}var dx=function(t){this.qB=t},yx=function(){function t(){var t=this;this.EL=new Array,this.PL=function(i){return t.EL.push(i),i},this.zL=this.PL(new Map),this.NL=this.PL(new Map),this.VL=this.PL(new Map),this.RL=this.PL(new Map),this.GL=this.PL(new Map),this.UL=this.PL(new Map),this.YL=this.PL(new Map),this.WL=this.PL(new Map)}return t.prototype.XL=function(){this.EL.forEach((function(t){t.forEach((function(t){return t.XL()})),t.clear()}))},t}(),Ax=function(t,i,n){return void 0===n&&(n=void 0),function(){t.HL=i,n&&n()}},bx=function(t,i,n,r,e){var o=Math.min(n/t,r/i),s=t*o,a=i*o,u=n/s,h=r/a,f=s/n,c=a/r,l=0,v=1,d=0,y=1;switch(e){case _t.Fill:h<u?(l=0,v=1,d=.5+-f/2,y=.5+f/2):(d=0,y=1,l=.5+-c/2,v=.5+c/2);break;case _t.Fit:h<u?(d=0,y=1,l=.5+-u/2,v=.5+u/2):(l=0,v=1,d=.5+-h/2,y=.5+h/2);break;case _t.Center:var A=n/t,b=r/i;l=.5+-A/2,v=.5+A/2,d=.5+-b/2,y=.5+b/2;break;case _t.Tile:l=0,v=n/t,d=0,y=r/i;break;case _t.Stretch:default:l=0,v=1,d=0,y=1}return new Float32Array([l,y,v,y,v,d,l,d])},px=function(){function t(t,i){var n=this;if(this.ZL=0,this.QL=0,this.JL=!1,this.HL=!1,this.KL=!1,this.qL=!1,this.$L=!1,this.tE=new Set,this.iE=new Set,this.Hn=i,this.kD=t,this.nE=null,this.JL=i instanceof ci.HTMLVideoElement,this.Hn instanceof ci.HTMLImageElement)this.Hn.addEventListener("load",(function(){n.qL=!0,n.rE()})),this.Hn.addEventListener("error",(function(){n.$L=!0})),this.Hn.complete&&(this.qL=!0,this.rE());else if(this.Hn instanceof ci.HTMLVideoElement){var r=this;this.Hn.addEventListener("canplay",(function(){r.QL=this.videoHeight,r.ZL=this.videoWidth,r.qL=!0,r.rE()}),!0),this.Hn.addEventListener("play",Ax(this,!0,(function(){return n.rE()}))),this.Hn.addEventListener("playing",Ax(this,!0,(function(){return n.rE()}))),this.Hn.addEventListener("pause",Ax(this,!1)),this.Hn.addEventListener("ended",Ax(this,!1)),this.Hn.readyState>=1&&(this.ZL=this.Hn.videoWidth,this.QL=this.Hn.videoHeight,this.HL=!this.Hn.paused,this.qL=!0,this.rE())}else this.qL=!0,this.rE()}return t.prototype.el=function(t){0===this.iE.size&&this.qL&&this.rE(),this.iE.add(t)},t.prototype.fD=function(t){this.iE.delete(t),0===this.iE.size&&this.unbindResources()},t.prototype.eE=function(t){this.tE.add(t),this.KL&&(t(),this.oE(t))},t.prototype.oE=function(t){this.tE.delete(t)},t.prototype.rE=function(){var t=this;if(!this.$L&&!this.KL&&this.qL){var i=this.kD.gl;if(!this.nE&&this.Hn&&i){this.nE=i.createTexture(),i.bindTexture(i.TEXTURE_2D,this.nE),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);var n=i.RGBA,r=i.RGBA,e=i.UNSIGNED_BYTE,o=this.Hn,s=this.ZL>0?this.ZL:o.width,a=this.QL>0?this.QL:o.height;i.texImage2D(i.TEXTURE_2D,0,n,r,e,o),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),this.ZL=s,this.QL=a,i.bindTexture(i.TEXTURE_2D,null)}this.KL=!0,this.tE&&this.tE.forEach((function(i){i(),t.oE(i)}))}},t.prototype.Io=function(){var t=this.kD.gl;if(!this.$L&&this.KL&&this.nE){var i=t.RGBA,n=t.RGBA,r=t.UNSIGNED_BYTE,e=this.Hn;e&&(t.bindTexture(t.TEXTURE_2D,this.nE),t.texImage2D(t.TEXTURE_2D,0,i,n,r,e))}},t.prototype.sE=function(){return this.nE},t.prototype.unbindResources=function(){return this.KL&&(this.nE&&(this.kD.iD(this.nE),this.nE=null),this.KL=!1),this},t}(),mx=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gx=function(t){function i(i,n,r){var e=t.call(this,i.Ai,n,r)||this;return e.dA=!0,e.cA=A(_e),e.Yn=i,e.ai=i.ai,e}return mx(i,t),i.prototype.aE=function(){var t;return this.cA.o&&this.cA.T().type!==(null===(t=this.uE)||void 0===t?void 0:t.type)},i.prototype.mA=function(t){return this.dA=t,this},i}(Et),xx=function(t,i,n,r){var e=t.hE(),o=Math.round(Math.min(n.spread,10)*e),s=Math.round(Math.min(n.blur,10)*e),a=Math.round(n.offset.x*e),u=Math.round(n.offset.y*e),h=t.fE(),f=t.cE(),c=t.lE(),l=t.vE(),v=t.dE();t.yE("disabled"),t.mA(!1),t.AE(!1);var d=t.Ai.bu.pL,y=i.bE(),A=o+s/2,b=function(t,i,n,r){var e=t.gl,o=t.hE(),s=t.pE();t.mE(e.FRAMEBUFFER,r.frameBuffer),e.bindRenderbuffer(e.RENDERBUFFER,r.depthBuffer),e.bindTexture(e.TEXTURE_2D,r.texture),e.clearDepth(1),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);var a=r.sizeDpr;t.gE(0,0,a.x,a.y);var u=[],h=t.Ai.bu.pL;return i.forEach((function(i){var r;if(i instanceof sa){var e=!1;if(!(r=i.un||i.Yn.fA())){var s=i.Yn.xE(i);s&&s.max.x-s.min.x>0&&s.max.y-s.min.y>0&&(r={x:s.min.x,y:s.min.y,width:s.max.x-s.min.x,height:s.max.y-s.min.y},e=!0)}r&&(r.width>0&&r.height>0?(e&&(r.x-=n.left/o,r.y-=n.top/o,r.width+=(n.left+n.right)/o,r.height+=(n.top+n.bottom)/o),u.push({x:r.x,y:r.y,width:r.width,height:r.height})):r=void 0)}else i instanceof gx&&(r=i.Yn.Im());if(r){var a=r.x+(h?0:n.left),f=r.y+(h?0:n.bottom),c=Math.max(r.width-(h?0:n.left+n.right),0),l=Math.max(r.height-(h?0:n.bottom+n.top),0);t.SE(a*o,f*o,c*o,l*o)}else t.AE(!1);i.Ic(2,0)})),t.mE(e.FRAMEBUFFER,s),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),t.AE(!1),u}(t,r,{left:A+(a<0?-a:0),top:A+(u>0?u:0),right:A+(a>0?a:0),bottom:A+(u<0?-u:0)},y),p=y,m=o+s+5,g=function(t,i,n,r){var e=function(t){for(var i=[],n=function(n){var r=t[n],e=void 0;do{var o=i.findIndex((function(t){return En(r,t)}));(e=o>=0?i[o]:void 0)&&(i.splice(o,1),r=Jn(r,e))}while(e);i.push(r)},r=0;r<t.length;r+=1)n(r);return i}(i.map((function(t){var i=t instanceof sa||t instanceof gx?t.Yn.xE(t):Bn;if(fn(i))return Bn;var e={min:{x:Math.max(i.min.x-n.left,0),y:Math.max(i.min.y-n.bottom,0)},max:{x:Math.min(i.max.x+n.right,r.x),y:Math.min(i.max.y+n.top,r.y)}};return e.max.x<=e.min.x||e.max.y<=e.min.y?Bn:e})).filter((function(t){return!fn(t)}))),o=6*e.length,s=new Float32Array(4*o),a=0;return e.forEach((function(t){var i=ur(t.min,r),n=ur(t.max,r),e=i,o=n;s[a+0]=i.x,s[a+1]=i.y,s[a+2]=e.x,s[a+3]=e.y,s[a+4]=n.x,s[a+5]=i.y,s[a+6]=o.x,s[a+7]=e.y,s[a+8]=n.x,s[a+9]=n.y,s[a+10]=o.x,s[a+11]=o.y,s[a+12]=n.x,s[a+13]=n.y,s[a+14]=o.x,s[a+15]=o.y,s[a+16]=i.x,s[a+17]=n.y,s[a+18]=e.x,s[a+19]=o.y,s[a+20]=i.x,s[a+21]=i.y,s[a+22]=e.x,s[a+23]=e.y,a+=24})),{vertexBuffer:t.wE(s),vertexCount:o}}(t,r,{left:m+(a<0?-a:0),top:m+(u>0?u:0),right:m+(a>0?a:0),bottom:m+(u<0?-u:0)},i.ME()),x=i.bE(p),S=t.CL(kg["2D"],kg.Glow1D({spreadPx:o,blurPx:s,firstPass:!0}),kg.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:"linear",normalSource:void 0}));!function(t,i,n,r,e,o){var s=t.gl,a=t.pE();t.mE(s.FRAMEBUFFER,n.frameBuffer),s.bindRenderbuffer(s.RENDERBUFFER,n.depthBuffer),s.bindTexture(s.TEXTURE_2D,n.texture),s.clearDepth(1),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),t.gE(0,0,n.sizeDpr.x,n.sizeDpr.y),t.CE(r,(function(a,u,h,f){return t.el(r),o&&o(a),t.OE(a("uIsHighlighted"),0).WF(a("uHighlightColorOffset"),I).OE(a("uRenderEffectMask"),0)._E(a("uTexture"),i.texture,0).kE(f("uTextureSize"),[i.sizeDpr.x,i.sizeDpr.y]).kE(a("uScale"),n.uniforms.FE()).kE(a("uDisp"),n.uniforms.IE()).kE(a("uScaling"),[n.size.x,n.size.y]).kE(a("uTranslationAxis"),[0,0]).TE(e.vertexBuffer,void 0,{location:u("aPos"),size:2},{location:u("aTextureCoord"),size:2}).RT(s.TRIANGLES,e.vertexCount,0),!0})),t.mE(s.FRAMEBUFFER,a),s.bindRenderbuffer(s.RENDERBUFFER,null),s.bindTexture(s.TEXTURE_2D,null)}(t,p,x,S,g,(function(i,n,r,e){return t.kE(i("uOffsetPx"),[a+1,u+1]),!0})),t.AE(f),t.jE(v),d&&(function(t,i){if(!(void 0===i||i.length<1)){for(var n=t.gl,r=6*i.length*2,e=[r],o=0,s=0;s<i.length;s+=1){var a=i[s];e[o+0]=a.x,e[o+1]=a.y,e[o+2]=a.x+a.width,e[o+3]=a.y,e[o+4]=a.x,e[o+5]=a.y+a.height,e[o+6]=a.x+a.width,e[o+7]=a.y,e[o+8]=a.x+a.width,e[o+9]=a.y+a.height,e[o+10]=a.x,e[o+11]=a.y+a.height,o+=12}var u=t.wE(e,!0),h={x:t.Ai.Mt().x,y:t.Ai.Mt().y},f=ot.d2({scaleXYConstructor:nt}).Z(h).ti(0,h.x).ii(0,h.y),c=new kx;c.BE(f);var l=t.CL(kg["2D"],kg.VertexLocation({scaling:{dataType:"uniform"},translation:void 0,axisWorldTranslation:"linear",normalSource:void 0}),kg.Color({dataType:"uniform"}));t.DE(!0),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.stencilFunc(n.ALWAYS,1,255),n.stencilOp(n.KEEP,n.KEEP,n.REPLACE),n.stencilMask(255),n.colorMask(!1,!1,!1,!1),t.el(l).EE(l.DD("aPos"),u).kE(l.jD("uDisp"),c.IE()).kE(l.jD("uScaling"),[1,1]).kE(l.jD("uScale"),c.FE()).LE(l.jD("uColor"),[1,1,1,1]).RT(n.TRIANGLES,r/2),t.PE(u),n.colorMask(!0,!0,!0,!0)}}(t,b),t.gl.stencilFunc(t.gl.EQUAL,1,255),t.gl.stencilOp(t.gl.KEEP,t.gl.KEEP,t.gl.KEEP),t.DE(!0));var w=t.CL(kg["2D"],kg.Glow1D({spreadPx:o,blurPx:s,firstPass:!1}),kg.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:"linear",normalSource:void 0}));!function(t,i,n,r,e){var o=t.gl,s={x:t.Ai.Mt().x,y:t.Ai.Mt().y};t.gE(0,0,s.x*t.hE(),s.y*t.hE());var a=ot.d2({scaleXYConstructor:nt}).Z(s).ti(0,s.x).ii(0,s.y),u=new kx;u.BE(a),t.CE(n,(function(a,h,f,c){return t.el(n),e&&e(a),t.OE(a("uIsHighlighted"),0).WF(a("uHighlightColorOffset"),I).OE(a("uRenderEffectMask"),0)._E(a("uTexture"),i.texture,0).kE(c("uTextureSize"),[i.sizeDpr.x,i.sizeDpr.y]).kE(a("uScale"),u.FE()).kE(a("uDisp"),u.IE()).kE(a("uScaling"),[s.x,s.y]).kE(a("uTranslationAxis"),[0,0]).TE(r.vertexBuffer,void 0,{location:h("aPos"),size:2},{location:h("aTextureCoord"),size:2}).RT(o.TRIANGLES,r.vertexCount,0),!0}))}(t,y,w,g,(function(i,r,e,o){return t._E(i("uTextureFirstGlowPass"),x.texture,1).WF(i("uGlowColor"),n.color),!0})),t.gE(h.x,h.y,h.width,h.height),t.yE(c),t.mA(l),t.PE(g.vertexBuffer),d&&t.DE(!1)},Sx=function(){function t(t){this.zE=[],this.qB=t}return t.prototype.NE=function(t,i){xx(this.qB,this,i,t)},t.prototype.ME=function(){var t=this.qB.Ai.Mt();return{x:Math.ceil(t.x),y:Math.ceil(t.y)}},t.prototype.bE=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=this.zE,r=this.ME(),e={x:Math.ceil(r.x*this.qB.hE()),y:Math.ceil(r.y*this.qB.hE())},o=this.qB.gl,s=n.find((function(i){return!t.includes(i)}));if(s)return s.sizeDpr.x===e.x&&s.sizeDpr.y===e.y||(s.size=r,s.sizeDpr=e,o.bindTexture(o.TEXTURE_2D,s.texture),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,e.x,e.y,0,o.RGBA,o.UNSIGNED_BYTE,null),o.bindRenderbuffer(o.RENDERBUFFER,s.depthBuffer),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,e.x,e.y),o.bindTexture(o.TEXTURE_2D,null),o.bindRenderbuffer(o.RENDERBUFFER,null),s.scale.Z(r).ti(0,r.x).ii(0,r.y),s.uniforms.BE(s.scale)),s;var a=o.createTexture(),u=this.qB.VE(),h=this.qB.RE();o.bindTexture(o.TEXTURE_2D,a),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,e.x,e.y,0,o.RGBA,o.UNSIGNED_BYTE,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);var f=this.qB.pE();this.qB.mE(o.FRAMEBUFFER,u),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,a,0),o.bindRenderbuffer(o.RENDERBUFFER,h),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,e.x,e.y),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,h),o.bindTexture(o.TEXTURE_2D,null),this.qB.mE(o.FRAMEBUFFER,f),o.bindRenderbuffer(o.RENDERBUFFER,null);var c=ot.d2({scaleXYConstructor:nt}).Z(r).ti(0,r.x).ii(0,r.y),l=new kx;l.BE(c);var v={size:r,sizeDpr:e,texture:a,frameBuffer:u,depthBuffer:h,scale:c,uniforms:l};return n.push(v),v},t.prototype.V=function(){var t=this;[this.zE].forEach((function(i){i.forEach((function(i){t.qB.GE(i.depthBuffer),t.qB.UE(i.frameBuffer),t.qB.iD(i.texture)})),i.length=0}))},t}(),wx=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Mx=function(){function t(t,i,n,r,e){void 0===e&&(e=!0);var o,s,a=this;this.YE=new yx,this.WE=new Map,this.XE=new Map,this.HE=[],this.lL=1,this.IS_MACHINE_LITTLE_ENDIAN=(o=new Uint32Array([287454020]),68===(s=new Uint8Array(o.buffer))[0]||17!==s[0]&&(ci.console.error("Unidentified machine endianness. Some features might behave unexpectedly."),!0)),this.dA=!1,this.ZE=!1,this.kE=function(t,i){var n=wx(i,2),r=n[0],e=n[1];return void 0===t||a.gl.uniform2f(t,r,e),a},this.QE=function(t,i){var n=wx(i,2),r=n[0],e=n[1];return void 0===t||a.gl.uniform2i(t,r,e),a},this.LE=function(t,i){var n=wx(i,4),r=n[0],e=n[1],o=n[2],s=n[3];return void 0===t||a.gl.uniform4f(t,r,e,o,s),a},this.JE=function(t,i){var n=wx(i,3),r=n[0],e=n[1],o=n[2];return void 0===t||a.gl.uniform3f(t,r,e,o),a},this.KE=function(t,i){return void 0===t||a.gl.uniformMatrix3fv(t,!1,i),a},this.qE=function(t,i){return void 0===t||a.gl.uniformMatrix4fv(t,!1,i),a},this.WF=function(t,i){return void 0===t||a.gl.uniform4f(t,i.r,i.g,i.b,i.a),a},this.OE=function(t,i){return void 0===t||a.gl.uniform1f(t,i),a},this.$E=function(t,i){return a.gl.uniform1i(t,i),a},this._E=function(t,i,n){if(void 0===t)return a;if(i){var r=a.gl.TEXTURE0+n;return a.gl.activeTexture(r),a.gl.bindTexture(a.gl.TEXTURE_2D,i),a.gl.uniform1i(t,n),a}throw new um("Could not bind a texture.")},this.tP=function(t){return function(t,i){i===_t.Tile?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE))}(a.gl,t),a},this.wE=function(t,i,n,r){void 0===i&&(i=!1),void 0===r&&(r=Float32Array);var e=t.length,o=a.iP(e,n);if(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,o),a.gl.bufferData(a.gl.ARRAY_BUFFER,t instanceof r?t:new r(t),i?a.gl.DYNAMIC_DRAW:a.gl.STATIC_DRAW),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,null),o)return o;throw new um("Could not create vertex buffer")},this.nP=function(t,i,n,r){void 0===r&&(r=Float32Array);var e=n||a.gl.createBuffer();if(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,e),i&&i.length===t?a.gl.bufferData(a.gl.ARRAY_BUFFER,i instanceof r?i:new r(i),a.gl.STATIC_DRAW):(a.gl.bufferData(a.gl.ARRAY_BUFFER,t*r.BYTES_PER_ELEMENT,a.gl.STATIC_DRAW),i&&a.gl.bufferSubData(a.gl.ARRAY_BUFFER,0,i instanceof r?i:new r(i))),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,null),e)return e;throw new um("Could not create vertex buffer")},this.rP=function(t,i,n,r){void 0===r&&(r=Float32Array),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,t),a.gl.bufferSubData(a.gl.ARRAY_BUFFER,i*r.BYTES_PER_ELEMENT,n instanceof r?n:new r(n)),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,null)},this.eP=function(t,i,n,r,e){var o,s;return r&&t&&(t.usedSize=0),t?t.usedSize+i.length>t.preallocSize?((s=new e(o=t.usedSize+i.length+n)).set(t.dataCache),s.set(i,t.usedSize),{buffer:a.nP(o,s,t.buffer,e),dataCache:s,preallocSize:o,usedSize:t.usedSize+i.length}):(t.dataCache.set(i,t.usedSize),a.rP(t.buffer,t.usedSize,i,e),t.usedSize+=i.length,t):((s=new e(o=i.length+n)).set(i),{buffer:a.nP(o,s,void 0,e),dataCache:s,preallocSize:o,usedSize:i.length})},this.oP=function(t,i,n){void 0===n&&(n=!1),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,t),a.gl.bufferData(a.gl.ARRAY_BUFFER,i,n?a.gl.DYNAMIC_DRAW:a.gl.STATIC_DRAW),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,null)},this.sP=function(t,i){var n=t.length,r=a.iP(n,i);if(a.gl.bindBuffer(a.gl.ELEMENT_ARRAY_BUFFER,r),a.gl.bufferData(a.gl.ELEMENT_ARRAY_BUFFER,t,a.gl.STATIC_DRAW),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,null),r)return r;throw new um("Could not create index buffer")},this.aP=function(t){var i=a.gl.createBuffer();if(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,i),a.gl.bufferData(a.gl.ARRAY_BUFFER,t instanceof Float32Array?t:new Float32Array(t),a.gl.STATIC_DRAW),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,null),i)return i;throw new um("Could not create float buffer")},this.EE=function(t,i){return void 0===t||(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,i),a.gl.enableVertexAttribArray(t),a.gl.vertexAttribPointer(t,2,a.gl.FLOAT,!1,0,0)),a},this.uP=function(t,i){return void 0===t||(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,i),a.gl.vertexAttribPointer(t,3,a.gl.FLOAT,!1,0,0),a.gl.enableVertexAttribArray(t)),a},this.TE=function(t,i){for(var n,r=[],e=2;e<arguments.length;e++)r[e-2]=arguments[e];a.gl.bindBuffer(a.gl.ARRAY_BUFFER,t);for(var o=r.length,s=0,u=0;u<o;u+=1)s+=r[u].size;for(u=0;u<o;u+=1){var h=r[u].location;void 0!==h&&h>-1&&a.gl.enableVertexAttribArray(h)}var f=0;for(u=0;u<o;u+=1){var c=r[u];void 0!==c.location&&c.location>-1&&a.gl.vertexAttribPointer(c.location,c.size,a.gl.FLOAT,!1,s*Float32Array.BYTES_PER_ELEMENT,f*Float32Array.BYTES_PER_ELEMENT+(null!==(n=c.extraOffset)&&void 0!==n?n:0)),f+=c.size}if(void 0!==i)for(u=0;u<o;u+=1){var l=r[u].location;void 0!==l&&l>-1&&a.hP(l,i)}return a},this.fP=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var n=t.length,r=0;r<n;r+=1){var e=t[r];0!==e&&e>-1&&a.gl.disableVertexAttribArray(e)}return a},this.cP=function(t,i){return void 0===t||(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,i),a.gl.enableVertexAttribArray(t),a.gl.vertexAttribPointer(t,4,a.gl.FLOAT,!1,0,0)),a},this.lP=function(t,i,n,r){return void 0===r&&(r=0),void 0===t||(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,i),a.gl.vertexAttribPointer(t,1,a.gl.FLOAT,!1,0,r),a.gl.enableVertexAttribArray(t),void 0!==n&&a.hP(t,n)),a},this.vP=function(t){return a.gl.bindBuffer(a.gl.ELEMENT_ARRAY_BUFFER,t),a},this.dP=null,this.RT=function(t,i,n){return void 0===n&&(n=0),i>0&&a.gl.drawArrays(t,n,i),a},this.yP=function(t,i,n,r){return void 0===i&&(i=a.gl.TRIANGLES),void 0===n&&(n=0),void 0===r&&(r=a.gl.UNSIGNED_SHORT),t>0&&a.gl.drawElements(i,t,r,n),a},this.AP=function(t,i,n,r){if(r>0&&(a.gl2&&a.gl2.ctx.drawArraysInstanced(t,i,n,r),a.gl1)){if(!a.gl1.mL.ANGLE_instanced_arrays)return ci.console.warn("The browser does not support REQUIRED WebGL 1 extension: ANGLE_instanced_arrays.\nThis application will NOT work properly!"),a;a.gl1.mL.ANGLE_instanced_arrays.drawArraysInstancedANGLE(t,i,n,r)}return a},this.bP=function(t,i,n,r,e){if(void 0===e&&(e=a.gl.UNSIGNED_SHORT),r>0&&(a.gl2&&a.gl2.ctx.drawElementsInstanced(t,i,e,n,r),a.gl1)){if(!a.gl1.mL.ANGLE_instanced_arrays)return ci.console.warn("The browser does not support REQUIRED WebGL 1 extension: ANGLE_instanced_arrays.\nThis application will NOT work properly!"),a;a.gl1.mL.ANGLE_instanced_arrays.drawElementsInstancedANGLE(t,i,e,n,r)}return a},this.hP=function(t,i){if(t>-1&&(a.gl2&&a.gl2.ctx.vertexAttribDivisor(t,i),a.gl1)){if(!a.gl1.mL.ANGLE_instanced_arrays)return ci.console.warn("The browser does not support REQUIRED WebGL 1 extension: ANGLE_instanced_arrays.\nThis application will NOT work properly!"),a;a.gl1.mL.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(t,i)}return a},this.pP=function(t,i,n,r){void 0===r&&(r=0);var e=a.gl.TEXTURE0+r;a.gl.activeTexture(e);var o=a.pE();a.mE(a.gl.FRAMEBUFFER,i),a.gl.bindTexture(a.gl.TEXTURE_2D,n),a.gl.framebufferTexture2D(a.gl.FRAMEBUFFER,a.gl.COLOR_ATTACHMENT0,a.gl.TEXTURE_2D,n,0);var s=a.cE();s&&a.AE(!1),t(),s&&a.AE(!0),a.gl.bindTexture(a.gl.TEXTURE_2D,null),a.mE(a.gl.FRAMEBUFFER,o)},this.zi=function(){return a.gl.clear(a.gl.COLOR_BUFFER_BIT|a.gl.DEPTH_BUFFER_BIT),a},this.mP=function(t){return a.gl.clearColor(t.r,t.g,t.b,t.a),a},this.el=function(t){return a.gl.useProgram(t._D),a},this.gP=!1,this.xP=[],this.Ai=t,this.Uy=i,this.Ai=t,this.gl=n.ctx,this.SP=n.antialias,this.wP=!!this.Ai.bu.ND&&n.lineAntialias,this.gL=this.Ai.bu.gL,this.MP=new Map,this.gl1=this.Ai.bu.gl1,this.gl2=this.Ai.bu.gl2,e&&(this.jE(!0),this.CP()),this.mL=this.Ai.bu.mL,this.tD=this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE),this.oD=this.TP(),this.CL=this.Ai.bu.CL,this.kP=new Ox(this),this.vD=this.Ai.bu.vD,this._P=new Sx(this),this.zD=this.Ai.bu.zD,this.OP=this.wE([0,0,1,0,1,1,0,1]),this.FP=this.wE([0,0,1,0,0,1,0,1,1,0,1,1])}return t.prototype.yE=function(t){return t!==this.IP&&(this.IP=t,"disabled"===t?this.gl.disable(this.gl.CULL_FACE):"cull-back"===t?(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.BACK)):"cull-front"===t&&(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.FRONT))),this},t.prototype.lE=function(){return this.IP||"disabled"},t.prototype.mA=function(t){return t!==this.dA&&(this.dA=t,t?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST)),this},t.prototype.DE=function(t){return t!==this.ZE&&(this.ZE=t,t?this.gl.enable(this.gl.STENCIL_TEST):this.gl.disable(this.gl.STENCIL_TEST)),this},t.prototype.vE=function(){return this.dA},t.prototype.jP=function(t){return this.lL=t,this},t.prototype.hE=function(){return this.lL},t.prototype.iP=function(t,i){var n;if(i){var r=this.MP.get(i);r&&r.size>=t&&r.size-t<1e6?n=i:this.PE(i)}return n||(n=this.gl.createBuffer(),this.MP.set(n,{size:t})),n},t.prototype.yS=function(t,i,n,r,e,o,s,a){void 0===i&&(i=this.gl.RGBA),void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===s&&(s=this.gl.UNSIGNED_BYTE),void 0===a&&(a=i);var u=this.gl.createTexture();if(!u)throw new um("Couldn't reserve Texture.");return this.gl.bindTexture(this.gl.TEXTURE_2D,u),this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o),t&&null===e?this.gl.texImage2D(this.gl.TEXTURE_2D,0,a,i,s,t):e&&this.gl.texImage2D(this.gl.TEXTURE_2D,0,a,e.x,e.y,0,i,s,t),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,r?this.gl.NEAREST:this.gl.LINEAR),n?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.generateMipmap(this.gl.TEXTURE_2D)):this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,r?this.gl.NEAREST:this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),u},t.prototype.iD=function(t){this.gl.deleteTexture(t)},t.prototype.VE=function(){var t=this.gl.createFramebuffer();if(!t)throw new um("Couldn't reserve Framebuffer.");return t},t.prototype.mE=function(t,i){this.dP=i,this.gl.bindFramebuffer(t,i)},t.prototype.pE=function(){return this.dP},t.prototype.UE=function(t){this.gl.deleteFramebuffer(t)},t.prototype.RE=function(){var t=this.gl.createRenderbuffer();if(!t)throw new um("Couldn't reserve Render buffer.");return t},t.prototype.GE=function(t){this.gl.deleteRenderbuffer(t)},t.prototype.BP=function(){var t=this.gl;switch(t.checkFramebufferStatus(t.FRAMEBUFFER)){default:case t.FRAMEBUFFER_COMPLETE:ci.console.log("FRAMEBUFFER_COMPLETE");break;case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:ci.console.log("FRAMEBUFFER_INCOMPLETE_ATTACHMENT");break;case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:ci.console.log("FRAMEBUFFER_INCOMPLETE_DIMENSIONS");break;case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:ci.console.log("FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");break;case t.FRAMEBUFFER_UNSUPPORTED:ci.console.log("FRAMEBUFFER_UNSUPPORTED")}},t.prototype.gE=function(t,i,n,r){return this.gl.viewport(t,i,n,r),this.DP&&t===this.DP.x&&i===this.DP.y&&n===this.DP.width&&r===this.DP.height||(this.DP={x:t,y:i,width:n,height:r}),this},t.prototype.fE=function(){return this.DP||{x:0,y:0,width:0,height:0}},t.prototype.SE=function(t,i,n,r){return this.AE(!0),this.gl.scissor(Math.max(t,0),Math.max(i,0),Math.max(n,0),Math.max(r,0)),this},t.prototype.AE=function(t){return t===this.LP||(t?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this.LP=t),this},t.prototype.jE=function(t){return t!==this.gP&&(this.gP=t,t&&this.gl.enable(this.gl.BLEND),t||this.gl.disable(this.gl.BLEND)),this},t.prototype.dE=function(){return this.gP},t.prototype.CP=function(t,i,n,r){return t?(void 0!==t&&void 0!==i&&(void 0!==n&&void 0!==r?this.gl.blendFuncSeparate(t,i,n,r):this.gl.blendFunc(t,i)),this):(this.gl.blendFuncSeparate(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA),this)},t.prototype.cE=function(){return void 0!==this.LP&&this.LP},t.prototype.CE=function(t,i){var n=new Fx(this,t),r=i(n.uniform,n.attribute,n,n.uniformOptional);n.finish(r)},t.prototype.PE=function(t){t&&(this.gl.deleteBuffer(t),this.MP.delete(t))},t.prototype.EP=function(t,i,n){this.kE(t.uniform("uCenter"),i.center).kE(t.uniform("uDistance"),i.distance).LE(t.uniform("uBounds"),i.bounds).OE(t.uniform("uAspect"),i.aspectRatio);var r=n.getColorStops();if(r.length<2)throw new Error("Minimum two color stops required");for(var e=0;e<r.length;e+=1)this.WF(t.uniform("color_".concat(e)),r[e].color).OE(t.uniform("stop_".concat(e)),r[e].offset);return this},t.prototype.PP=function(t,i,n){this.kE(t.uniform("uStartPoint"),i.startPoint).kE(t.uniform("uEndPoint"),i.endPoint).LE(t.uniform("uBounds"),i.bounds);var r=n.getColorStops();if(r.length<2)throw new Error("Minimum two color stops required");for(var e=0;e<r.length;e+=1)this.WF(t.uniform("color_".concat(e)),r[e].color).OE(t.uniform("stop_".concat(e)),r[e].offset);return this},t.prototype.Ao=function(t){var i=this.zD.get(t);if(!i){var n=new Fm(this);return this.zD.set(t,n),n}return i},t.prototype.zP=function(t){var i=this.WE.get(t);if(!i){var n=new px(this,t);return this.NP(t,n),n}return i},t.prototype.NP=function(t,i){this.WE.set(t,i)},t.prototype.TP=function(){var t=this.gl,i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,1,1,0,t.ALPHA,t.UNSIGNED_BYTE,new Uint8ClampedArray([0]));var n=0===t.getError();return n||!1!==this.Uy.Su&&ci.console.info("LightningChart JS - Uint8ClampedArray is not supported as texture data. The above WebGL error/warning is from the feature detection. There is nothing to worry about."),t.deleteTexture(i),n},t.prototype.VP=function(t,i,n,r){if(n)this.TE(i,r,{location:t.attribute("aPos_highpart"),size:2},{location:t.attribute("aPos_lowpart"),size:2});else{var e=t.attribute("aPos");this.EE(e,i),void 0!==r&&this.hP(e,r)}return this},t.prototype.RP=function(){this.mL.WEBGL_lose_context&&this.mL.WEBGL_lose_context.loseContext()},t.prototype.GP=function(t){if(this.UP&&this.UP.bufferIdsCount>=t)return this.UP.buffer;this.UP&&(this.PE(this.UP.buffer),this.UP=void 0);for(var i=t,n=new Float32Array(i),r=0;r<i;r+=1)n[r]=r;var e=this.wE(n);return this.UP={buffer:e,bufferIdsCount:i},e},t.prototype.YP=function(){return this.gl2?void 0:"attribute"},t.prototype.WP=function(t,i){if("attribute"===this.YP()){var n=this.GP(i);this.TE(n,void 0,{location:t.attribute("aVertexID"),size:1})}return this},t.prototype.XP=function(){return this.gl2?void 0:"attribute"},t.prototype.HP=function(t,i){if("attribute"===this.XP()){var n=this.GP(i);this.TE(n,1,{location:t.attribute("aInstanceID"),size:1})}return this},t.prototype.ZP=function(t,i,n,r,e,o,s,a,u){var h=this,f=t.createBuffer();return this.xP.push(f),t.bindFramebuffer(t.FRAMEBUFFER,i),t.bindBuffer(t.PIXEL_PACK_BUFFER,f),t.bufferData(t.PIXEL_PACK_BUFFER,u.byteLength,t.STREAM_READ),t.readPixels(n,r,e,o,s,a,0),t.bindBuffer(t.PIXEL_PACK_BUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),Tx(t,(function(){return h.Ai.fi}),t.PIXEL_PACK_BUFFER,f,0,u).then((function(){return u})).catch((function(t){throw t})).finally((function(){t.deleteBuffer(f),h.xP.splice(h.xP.indexOf(f),1)}))},t.prototype.QP=function(t,i,n,r,e,o,s,a){var u=this.gl,h=this.pE();this.mE(u.FRAMEBUFFER,t),u.readPixels(i,n,r,e,o,s,a),this.mE(this.gl.FRAMEBUFFER,h)},t.prototype.JP=function(t){var i,n=this.XE.get(t);if(!n){var r=this.gl.createTexture();if(!r)throw new um("Couldn't reserve Texture.");this.gl.bindTexture(this.gl.TEXTURE_2D,r);for(var e=[],o=255,s=0;s<t.length;s+=1){for(var a=0;a<t[s];a+=1)e.push(o);o=255===o?0:255}var u=e.length;if(!this.gl2&&(i=e.length)&i-1)for(var h=function(t){t-=1;for(var i=1;i<32;i<<=1)t|=t>>1;return t+1}(e.length),f=e.length;f<h;f+=1)e[f]=0;this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.gl.pixelStorei(this.gl.PACK_ALIGNMENT,1),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,e.length,1,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,new Uint8Array(e)),this.gl.bindTexture(this.gl.TEXTURE_2D,null);var c={KP:r,qP:u,$P:e.length};return this.XE.set(t,c),c}return n},t.prototype.tz=function(t,i,n){var r=t.uniform;this.WF(r("uFallbackColor"),i.getFallbackColor());for(var e=0;e<i.steps.length;e+=1)this.OE(r("uLUTValue".concat(e)),i.steps[e].value),this.WF(r("uLUTColor".concat(e)),i.steps[e].color);if(i.percentageValues){if(!n)return un(0,(function(){})),this;this.OE(r("uMinValue"),n.min),this.OE(r("uMaxValue"),n.max)}return this},t.prototype.iz=function(t,i,n,r,e,o){var s=this,a=n&&n.getSource()||r&&r.Hn,u=n?n.getFitMode():_t.Stretch,h=function(t){t.texCoordsBuffer=s.wE(o(t.texture.ZL,t.texture.QL,u),!1,t.texCoordsBuffer)};if(a){var f=i;if((!i||a!==i.source)&&a){i&&(i.texture.fD(t),this.PE(i.texCoordsBuffer));var c=this.zP(a);c.el(t);var l=n?n.getSourceMissingColor():Vo.color;f={texture:c,source:a,texCoordsBuffer:this.wE([]),sourceMissingTexture:this.yS(new Uint8Array([l.getR(),l.getG(),l.getB(),l.getA()]),this.gl.RGBA,!1,!0,{x:1,y:1},!1),textureReadyCallback:function(){f&&a&&(h(f),s.Ai.Fn())}},c.eE(f.textureReadyCallback),h(f)}return f&&f.texture.KL&&f.texture.JL&&f.texture.HL&&(f.texture.Io(),this.Ai.Fn()),e&&f&&f.texture.KL&&h(f),f}i&&this.nz(t,i)},t.prototype.nz=function(t,i){i&&(i.texture.fD(t),i.texture.oE(i.textureReadyCallback),this.iD(i.sourceMissingTexture),this.PE(i.texCoordsBuffer))},t.prototype.rz=function(t,i,n,r){var e,o,s,a,u=t.uniform,h=t.uniformOptional,f=t.attribute,c=n.ai,l=this.hE();if(this.WF(u("uHighlightColorOffset"),1===i||2===i?j:n.gi).OE(u("uRenderEffectMask"),2===i?1:0).kE(h("uRatioPxClip"),[2/this.Ai.Mt().x,2/this.Ai.Mt().y]).OE(h("uDevicePixelRatio"),l),void 0===r.highlightBuffer)this.OE(u("uIsHighlighted"),1===i||2===i?0:n.yi);else{if(!r.highlightBuffer)throw new Error("Highlight buffer not supplied for attribute highlighting");this.TE(r.highlightBuffer,null!==(e=r.highlightAttribDivisor)&&void 0!==e?e:void 0,{location:f("aIsHighlighted"),size:1})}c instanceof nt||c instanceof eo?this.kE(u("uScale"),r.uniforms.FE()).kE(u("uDisp"),r.uniforms.IE()).kE(h("uScaleStart_highpart"),r.uniforms.ez()).kE(h("uScaleStart_lowpart"),r.uniforms.oz()):c instanceof rt&&this.kE(h("uScaleStart"),r.uniforms.MixedScaleXY.uScaleStart).kE(h("uScaleStartLog"),r.uniforms.MixedScaleXY.uScaleStartLog).kE(h("uScaleInterval"),r.uniforms.MixedScaleXY.uScaleInterval).kE(h("uScaleIntervalLog"),r.uniforms.MixedScaleXY.uScaleIntervalLog).kE(u("uViewportStart"),r.uniforms.MixedScaleXY.uViewportStart).kE(u("uViewportSize"),r.uniforms.MixedScaleXY.uViewportSize);var v=!0===r.coordsHighPrecision;if(r.coordsX)if(v){var d=f("aPos_highpartX"),y=f("aPos_lowpartX");this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r.coordsX),this.gl.vertexAttribPointer(d,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(d),this.gl.vertexAttribPointer(y,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,1*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(y)}else this.lP(f("aPosX"),r.coordsX);if(r.coordsY&&(v?(d=f("aPos_highpartY"),y=f("aPos_lowpartY"),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r.coordsY),this.gl.vertexAttribPointer(d,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(d),this.gl.vertexAttribPointer(y,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,1*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(y)):this.lP(f("aPosY"),r.coordsY)),1===i){if(this.$E(u("uFirstId"),r.idFirst),void 0!==r.mousePickingOffsetBuffer){if(!r.mousePickingOffsetBuffer)throw new Error("No mouse picking offset buffer for attribute mouse picking");this.lP(f("aPickingIdOffset"),r.mousePickingOffsetBuffer,null!==(o=r.mousePickingOffsetAttribDivisor)&&void 0!==o?o:void 0)}}else{if(r.fillStyleSolid&&this.WF(u("uColor"),r.fillStyleSolid.getColor()),r.fillStylePaletted){if("value"===r.fillStylePaletted.getLookUpProperty()&&null!==r.lookupValueBuffer){if(!r.lookupValueBuffer)return!1;var A=f("aLookupValue");this.lP(A,r.lookupValueBuffer,r.lookupValueAttribDivisor,null!==(s=r.lookupValueBufferByteOffset)&&void 0!==s?s:0)}this.tz(t,r.fillStylePaletted.lut,r.lookupValueRange)}if(r.fillStyleLinearGradient){if(!r.linearGradientInfo)return!1;this.PP(t,r.linearGradientInfo,r.fillStyleLinearGradient)}if(r.fillStyleRadialGradient){if(!r.radialGradientInfo)return!1;this.EP(t,r.radialGradientInfo,r.fillStyleRadialGradient)}if(r.fillStyleIndividual&&null!==r.colorBuffer){if(!r.colorBuffer)return!1;var b=f("aColor");this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r.colorBuffer),this.gl.vertexAttribPointer(b,4,this.gl.UNSIGNED_BYTE,!0,0,null!==(a=r.colorBufferByteOffset)&&void 0!==a?a:0),this.gl.enableVertexAttribArray(b),void 0!==r.colorAttribDivisor&&this.hP(b,r.colorAttribDivisor)}if(r.fillStyleImage){if(!r.texturedFillGLInfo)return!1;var p=r.texturedFillGLInfo&&r.texturedFillGLInfo.texture.sE();this.WF(h("uColor"),r.fillStyleImage.getSurroundingColor())._E(u(Vm),p||r.texturedFillGLInfo.sourceMissingTexture,0).TE(r.texturedFillGLInfo.texCoordsBuffer,r.texCoordAttribDivisor,{location:f("aTextureCoord"),size:2}).tP(r.fillStyleImage.fitMode)}r.maskTexture&&(p=r.maskTexture&&r.maskTexture.texture.sE(),this._E(u(Um),p||r.maskTexture.sourceMissingTexture,0).TE(r.maskTexture.texCoordsBuffer,r.maskTextureCoordsAttribDivisor,{location:f("aMaskTextureCoord"),size:2}))}return void 0!==r.useInstanceID&&this.HP(t,r.useInstanceID),void 0!==r.useVertexID&&this.WP(t,r.useVertexID),!0},t.prototype.sz=function(t,i,n){if(t)return vx(n||i._i(),i.ai,t.getAngle(!0),this.hE())},t.prototype.az=function(t,i,n){if(t)return lx(n||i._i(),i.ai,t.getPosition(),t.getExtent(),t.getShape(),this.hE())},t}(),Cx=function(t,i,n,r){var e=void 0!==r.flags?r.flags:0,o=void 0!==r.retryTimeout?r.retryTimeout:10;return new Promise((function(r,s){var a=function(){if(n())return r(void 0);var u=t.clientWaitSync(i,e,0);return u===t.WAIT_FAILED?s(new Error("WebGL Sync WAIT_FAILED ".concat(t.getError()))):u!==t.TIMEOUT_EXPIRED?r(void 0):void ci.setTimeout(a,o)};ci.setTimeout(a,0)}))},Tx=function(t,i,n,r,e,o,s,a){return u=void 0,h=void 0,c=function(){var u;return function(t,i){var n,r,e,o,s={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(e=2&o[0]?r.return:o[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,o[1])).done)return e;switch(r=0,e&&(o=[2&o[0],e.value]),o[0]){case 0:case 1:e=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((e=(e=s.trys).length>0&&e[e.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!e||o[1]>e[0]&&o[1]<e[3])){s.label=o[1];break}if(6===o[0]&&s.label<e[1]){s.label=e[1],e=o;break}if(e&&s.label<e[2]){s.label=e[2],s.ops.push(o);break}e[2]&&s.ops.pop(),s.trys.pop();continue}o=i.call(t,s)}catch(t){o=[6,t],r=0}finally{n=e=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(h){return u=t.fenceSync(t.SYNC_GPU_COMMANDS_COMPLETE,0),t.flush(),[2,Cx(t,u,i,{retryTimeout:10}).then((function(){if(!i())return t.deleteSync(u),t.bindBuffer(n,r),t.getBufferSubData(n,e,o,s,a),t.bindBuffer(n,null),o})).catch((function(t){throw t}))]}))},new((f=void 0)||(f=Promise))((function(t,i){function n(t){try{e(c.next(t))}catch(t){i(t)}}function r(t){try{e(c.throw(t))}catch(t){i(t)}}function e(i){var e;i.done?t(i.value):(e=i.value,e instanceof f?e:new f((function(t){t(e)}))).then(n,r)}e((c=c.apply(u,h||[])).next())}));var u,h,f,c},kx=function(){function t(){}return t.prototype.BE=function(t){if(t instanceof nt||t instanceof eo){var i=t.Wt();this.uz=i.x.scaling,this.hz=-i.x.displacement,this.fz=i.y.scaling,this.cz=-i.y.displacement;var n=Math.fround(i.x.highPrecisionOffset),r=Math.fround(i.y.highPrecisionOffset);this.lz=n,this.vz=i.x.highPrecisionOffset-n,this.dz=r,this.yz=i.y.highPrecisionOffset-r}else t instanceof rt&&(this.MixedScaleXY=t.Wt());return this},t.prototype.IE=function(){return[this.hz,this.cz]},t.prototype.FE=function(){return[this.uz,this.fz]},t.prototype.ez=function(){return[this.lz,this.dz]},t.prototype.oz=function(){return[this.vz,this.yz]},t}(),_x=function(){function t(){this.uz=0,this.fz=0,this.Az=0,this.hz=0,this.cz=0,this.bz=0}return t.prototype.pz=function(t){return this.uz=t.$(),this.hz=t.getInnerStart()+.5*this.uz*t.tt(),this},t.prototype.mz=function(t){return this.fz=t.$(),this.cz=t.getInnerStart()+.5*this.fz*t.tt(),this},t.prototype.gz=function(t){return this.Az=t.$(),this.bz=t.getInnerStart()+.5*this.Az*t.tt(),this},t.prototype.FE=function(){return[this.uz,this.fz,this.Az]},t.prototype.IE=function(){return[this.hz,this.cz,this.bz]},t.prototype.xz=function(t,i,n,r,e){var o=h(2*(t-n.x)/(n.width-n.x)-1,2*(i-n.y)/(n.height-n.y)-1),s=cx.multiply(r,[o.x,o.y,e,1]);return l(s[0],s[1],s[2])},t}(),Ox=function(){function t(t){this.qB=t}return t.prototype.Ic=function(t,i,n,r,e,o){void 0===o&&(o=0);var s=this.qB,a=void 0===r;if(!(r=r||s.VE()))throw new um("Could not bind a framebuffer.");var u=s.fE(),h=s.dE();s.jE(!1),s.pP((function(){s.gE(0,0,n.x,n.y),t()}),r,i,o),a&&s.UE(r),this.qB.mP(e),this.qB.gE(u.x,u.y,u.width,u.height),s.jE(h)},t}(),Fx=function(){function t(t,i){var n=this;this.Sz=[],this.wz=[],this.uniform=function(t){var i=n.shader.jD(t);return n.wz.push({name:t,optional:!1}),i},this.uniformOptional=function(t){var i=n.shader.BD(t);return n.wz.push({name:t,optional:!0}),i},this.attribute=function(t){var i=n.shader.DD(t);return n.Sz.push({name:t,location:i}),i},this.glUtils=t,this.shader=i}return t.prototype.finish=function(t){var i,n;try{for(var r=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.Sz),e=r.next();!e.done;e=r.next()){var o=e.value;this.glUtils.fP(o.location),this.glUtils.hP(o.location,0)}}catch(t){i={error:t}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}},t}(),Ix=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jx=function(){return jx=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},jx.apply(this,arguments)},Bx=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e)||this;return s.Mz=new Map,s.Cz=i,s.Tz=n,s.qB=i.kz(),s._z=o,s.Tz=n,s}return Ix(i,t),i.prototype.jc=function(){return this},i.prototype.Ic=function(t,i){if(!this._z||0!==t||0===this.Mz.size)return{};var n=Array.from(this.Mz.values()).map((function(t){return t.Oz.filter((function(t){return t.Fz})).map((function(t){return t.vn})).flat().filter((function(t){return void 0!==t})).filter((function(t){return t.getVisible()}))})).flat();if(this.Ai.kc&&(n=n.filter((function(t){return!(t instanceof ba)}))),0===n.length)return{};var r=this._z;return this.qB._P.NE(n,r),{}},i.prototype.Bc=function(t,i,n,r,e){return{}},i.prototype.Io=function(){return this},i.prototype.Xi=function(){return 0},i.prototype.Wi=function(){return 0},i.prototype.Zi=function(){return 0},i.prototype.Hi=function(){return 0},i.prototype.Cf=function(){return 0},i.prototype.Tf=function(){return 0},i.prototype.An=function(t,i){var n=this,r={Oz:[]},e=function(t,i){var n={vn:t||[],Fz:void 0===i||i};r.Oz.push(n);var e={wn:function(t){return n.vn=t,e},On:function(t){return n.Fz=t,e},In:function(){return n.Fz}};return e},o={};Object.keys(i).forEach((function(t){var n=i[t],r=n.shapes||[],s=void 0===n.themeEffectEnabled||n.themeEffectEnabled,a=e(r,s);o[t]=a}));var s=jx({yd:e},o);this.Mz.set(t,r);var a=function(){n.Mz.delete(t),t.removeEventListener("dispose",a)};return ci.requestAnimationFrame((function(){t.addEventListener("dispose",a)})),s},i}(sa);function Dx(t,i,n,r,e,o){void 0===o&&(o=Math.floor(Math.sqrt(r>e?25*r:25*e)));var s=Array(o+2),a=Math.PI,u=0,f=0,c=i*a/180,l=(n*a/180-c)/o;for(s[u]=h(t.x,t.y),u+=1;u<=o+1;)s[u]=h(t.x+r*Math.cos(c+f*l),t.y+e*Math.sin(c+f*l)),u+=1,f+=1;return[s,o]}var Lx,Ex=function(t,i,n){return function(t,i,n){for(var r,e,o,s,a=[],u=0,f=er(i,n/2),c=t[t.length-1],l=0,v=0;v<t.length;v+=1){r=t[v],e=v===t.length-1?t[0]:t[v+1],v>0&&(c=t[v-1]),li(r,c)&&(c=or(r,ir(er(sr(e,r),-1)))),li(r,e)&&(e=or(r,ir(er(sr(c,r),-1))));var d=ur(c,i),y=ur(r,i),A=ur(e,i),b=ir(sr(y,d)),p=ir(sr(A,y)),m=or(b,p),g=h(-m.y,m.x),x=h(-b.y,b.x),S=1/fr(g,x),w=rr(g),M=ir(sr(b,p)),C=Math.sign(fr(g,M))||1,T=ar(g,er(f,S)),k=ar(g,er(f,-S));if(w<1||S===1/0){var _={x:0,y:0},O={x:0,y:0},F={x:0,y:0},I={x:0,y:0},j=h(-p.y,p.x),B=Math.sign(fr(b,g))||C,D=ar(x,er(f,B)),L=ar(j,er(f,B));1===C?(_=D,O=k,F=L,I=k):(_=T,O=D,F=T,I=L);var E=4*Un(c,r),P=4*Un(r,e);(S>E||S>P)&&(1===C?(_=D,O=L,F=L,I=D):(_=L,O=D,F=D,I=L));var z=or(r,_),N=or(r,O),V=or(r,F),R=or(r,I);a[u]=z,a[u+=1]=N,a[u+=1]=V,a[u+=1]=R,u+=1,l=4}else z=or(r,T),N=or(r,k),a[u]=z,a[u+=1]=N,u+=1,l=2;s=o,o=t[v]}return a[u]=a[0],a[u+=1]=a[1],u+=1,[a,l,[s,o]]}(t,i,n)[0]},Px=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zx=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Nx=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.CD=new kx,s.Iz=Bn,s.jz=Bn,s.Bz=ao({arcStyleSolid:function(){return Yr(s.Qr)&&s.Qr},arcStyleRadialGradient:function(){return G(s.Qr)&&s.Qr},arcStyleLinearGradient:function(){return Y(s.Qr)&&s.Qr}}),s.Cz=i,s.Tz=n,s.qB=i.kz(),s}return Px(i,t),i.prototype.Dz=function(t,i){var n,r=0,e=Array(0);if(void 0!==i){for(var o=t.length,s=Array(o+i.length),a=0,u=0;a<o;)s[u]=t[a],s[u+1]=i[a],u+=2,a+=1;e=s,r=this.qB.gl.TRIANGLE_STRIP}else e=t,r=this.qB.gl.TRIANGLE_FAN;var h=Ni(e,this.ai.Pt());return n=e.length,[e,this.qB.wE(h),n,r]},i.prototype.Lz=function(t,i,n,r){var e=Array(0);if(void 0===i)e=t;else{var o=0,s=0,a=t.length;for(o=0,s=a,e=Array(a+i.length-2),i.reverse();o<a;)e[o]=t[o],e[s]=i[o],s+=1,o+=1}if(1===n||-1===n)return[Ni(e,this.ai.Pt()),e.length];var u=Ex(e,r,n);return[Ni(u,this.ai.Pt()),u.length]},i.prototype.Io=function(){var t,i,n,r,e,o,s=this.$u(),a=this.hi.T();if(this.th()){var u=Math.abs(this.Gt.T()-this.Uf.T());this.CD.BE(this.ai);var f=this.ai.ni()||s,c=this.ai.oi(),l=this.Yf.T(),v=this.Wf.T(),y=zx(Dx(this.Cs.T(),this.Uf.T(),this.Gt.T(),this.Yf.T(),this.Wf.T(),this.Hf.T()),2),A=y[0],b=y[1],p=this.Xf.T(),m=p>0?Dx(this.Cs.T(),this.Uf.T(),this.Gt.T(),this.Yf.T()*p/100,this.Wf.T()*p/100,b)[0]:[this.Cs.T()],g=A.length-1;if(2===g){var x=(A[g-1].x+A[1].x)/2,S=(A[g-1].y+A[1].y)/2;this.Zf=h(x,S)}else{var w=Math.floor(g/2);this.Zf=h(A[w].x,A[w].y)}this.Qf=A[1];var M=A.length-1;this.Jf=A[M],this.Xf.T()&&(A.shift(),m.shift());var C=!1;(this.Cs.o||this.Uf.o||this.Gt.o||this.Yf.o||this.Wf.o||this.Xf.o||this.Hf.o||f)&&(this.jz=d(h(this.Bh().x-l,this.Bh().y-v),h(this.Bh().x+l,this.Bh().y+v)),C=!0,this.Cs.o=!1,this.Uf.o=!1,this.Gt.o=!1,this.Yf.o=!1,this.Wf.o=!1,this.Xf.o=!1,this.Hf.o=!1);var T=this.Ku();(C||T)&&this.Qr!==Vr&&(this.Xf.T()?(this.Ez&&this.qB.PE(this.Ez),t=zx(this.Dz(A,m),4),this.Pz=t[0],this.Ez=t[1],this.zz=t[2],this.Nz=t[3]):(this.Ez&&this.qB.PE(this.Ez),i=zx(this.Dz(A,void 0),4),this.Pz=i[0],this.Ez=i[1],this.zz=i[2],this.Nz=i[3]),G(this.Qr)?this.Vz=lx(this.jz,this.ai,this.Qr.getPosition(),this.Qr.getExtent(),this.Qr.getShape(),this.qB.hE()):Y(this.Qr)?this.Rz=vx(this.jz,this.ai,this.Qr.getAngle(!0),this.qB.hE()):(this.Vz=void 0,this.Rz=void 0));var k=this.Bz.arcStyleSolid(T),_=this.Bz.arcStyleLinearGradient(T),O=this.Bz.arcStyleRadialGradient(T),F=k||_||O;T&&(this.Gz=F?this.qB.CL(kg["2D"],kg.Color({dataType:G(this.Qr)||Y(this.Qr)?["gradient",this.Qr]:"uniform"}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0})):void 0,this.ih(this.Qr));var I=this.Jr;if(Ye(I)&&(C||this.oh(I.getThickness())||f)){this.Xf.T()?360===u?(A.pop(),m.pop(),n=zx(this.Lz(A,void 0,I.getThickness(),c),2),this.Uz=n[0],this.Yz=n[1],this.Wz&&this.Uz?this.qB.oP(this.Wz,this.Uz,!0):!this.Wz&&this.Uz?this.Wz=this.qB.wE(this.Uz,!0):this.Wz&&!this.Uz&&(this.qB.PE(this.Wz),this.Wz=void 0),r=zx(this.Lz(m,void 0,I.getThickness(),c),2),this.Xz=r[0],this.Zz=r[1],this.Qz&&this.Xz?this.qB.oP(this.Qz,this.Xz,!0):!this.Qz&&this.Xz?this.Qz=this.qB.wE(this.Xz,!0):this.Qz&&!this.Xz&&(this.qB.PE(this.Qz),this.Qz=void 0)):(e=zx(this.Lz(A,m,I.getThickness(),c),2),this.Uz=e[0],this.Yz=e[1],this.Wz&&this.Uz?this.qB.oP(this.Wz,this.Uz,!0):!this.Wz&&this.Uz?this.Wz=this.qB.wE(this.Uz,!0):this.Wz&&!this.Uz&&(this.qB.PE(this.Wz),this.Wz=void 0),this.Xz&&(this.Qz&&this.qB.PE(this.Qz),this.Qz=void 0,this.Zz=0)):(360===u&&(A.shift(),A.pop()),o=zx(this.Lz(A,void 0,I.getThickness(),c),2),this.Uz=o[0],this.Yz=o[1],this.Wz&&this.Uz?this.qB.oP(this.Wz,this.Uz,!0):!this.Wz&&this.Uz?this.Wz=this.qB.wE(this.Uz,!0):this.Wz&&!this.Uz&&(this.qB.PE(this.Wz),this.Wz=void 0));var j=I.getFillStyle();G(j)?this.Jz=lx(this.jz,this.ai,j.getPosition(),j.getExtent(),j.getShape(),this.qB.hE()):Y(j)?this.Kz=vx(this.jz,this.ai,j.getAngle(!0),this.qB.hE()):(this.Jz=void 0,this.Kz=void 0),this.qz=j===Vr?void 0:this.qB.CL(kg["2D"],kg.Color({dataType:G(j)||Y(j)?["gradient",j]:"uniform"}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0})),this.ah(I)}if(C){var B=1,D=1;Ye(I)&&(B=I.getThickness()*c.x,D=I.getThickness()*c.y),this.Iz=d(h(this.jz.min.x-B,this.jz.min.y-D),h(this.jz.max.x+B,this.jz.max.y+D))}this.$z=a&&F?this.$z||this.qB.CL(kg["2D"],kg.MousePicking(),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0})):void 0,this.tN=a&&this.Jr!==qt?this.tN||this.qB.CL(kg["2D"],kg.MousePicking(),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0})):void 0}return this},i.prototype.Ic=function(t,i){var n=this;if(this.th()){var r=1===t?this.$z:this.Gz,e=this.Qr,o=this.Ez;r&&o&&this.qB.el(r).CE(r,(function(r,s,a,u){if(n.qB.kE(r("uScale"),n.CD.FE()).kE(r("uDisp"),n.CD.IE()).kE(u("uScaleStart_highpart"),n.CD.ez()).kE(u("uScaleStart_lowpart"),n.CD.oz()).VP(a,o,n.ai.Pt(),void 0).OE(r("uIsHighlighted"),1===t||2===t?0:n.yi).WF(r("uHighlightColorOffset"),1===t||2===t?j:n.gi).OE(r("uRenderEffectMask"),2===t?1:0),1===t)n.qB.$E(r("uFirstId"),i).HP(a,1);else if(Yr(e))n.qB.WF(r("uColor"),e.getColor());else if(G(e)){if(!n.Vz)return!1;n.qB.EP(a,n.Vz,e)}else if(Y(e)){if(!n.Rz)return!1;n.qB.PP(a,n.Rz,e)}return n.qB.RT(n.Nz,n.zz),!0}));var s=this.Jr;Ye(s)&&(void 0!==this.Wz&&this.iN(t,this.Wz,this.Yz,s,i),void 0!==this.Qz&&this.iN(t,this.Qz,this.Zz,s,i))}return{idCount:1}},i.prototype.Bc=function(t,i,n,r,e){return{}},i.prototype.iN=function(t,i,n,r,e){var o=this,s=1===t?this.tN:this.qz,a=r.getFillStyle();s&&this.qB.el(s).CE(s,(function(s,u,h,f){if(o.qB.kE(s("uScale"),o.CD.FE()).kE(s("uDisp"),o.CD.IE()).VP(h,i,o.ai.Pt(),void 0).OE(s("uIsHighlighted"),1===t||2===t?0:o.yi).WF(s("uHighlightColorOffset"),1===t||2===t?j:o.gi).OE(s("uRenderEffectMask"),2===t?1:0),1===t)o.qB.$E(s("uFirstId"),e).HP(h,1);else if(Yr(a))o.qB.WF(s("uColor"),a.getColor());else if(G(a)){if(!o.Jz)return!1;o.qB.EP(h,o.Jz,a)}else if(Y(a)){if(!o.Kz)return!1;o.qB.PP(h,o.Kz,a)}var c=r.getThickness(),l=-1===c||1===c;return o.qB.RT(l?o.qB.gl.LINE_LOOP:o.qB.gl.TRIANGLE_STRIP,n),!0}))},i.prototype.jc=function(){return this.nN&&(this.qB.PE(this.nN),this.nN=void 0),this.rN&&(this.qB.PE(this.rN),this.rN=void 0),this.Ez&&(this.qB.PE(this.Ez),this.Ez=void 0),this.Wz&&(this.qB.PE(this.Wz),this.Wz=void 0),this.Qz&&(this.qB.PE(this.Qz),this.Qz=void 0),this.Gz=void 0,this.qz=void 0,this.$z=void 0,this.tN=void 0,this},i.prototype.Xi=function(){return this.jz.max.x},i.prototype.Wi=function(){return this.jz.min.x},i.prototype.Zi=function(){return this.jz.max.y},i.prototype.Hi=function(){return this.jz.min.y},i.prototype.Cf=function(){return An(this.Jr)},i.prototype.Tf=function(){return An(this.Jr)},i}(Sa),Vx=function(){function t(){this.first=0,this.second=1,this.third=2,this.fourth=3,this.fifth=4,this.sixth=5}return t.prototype.eN=function(t){return this.first=t,this.second=t+1,this.third=t+2,this.fourth=t+3,this.fifth=t+4,this.sixth=t+5,t+=6,this},t.prototype.oN=function(){return this.first=this.second,this.second=this.third,this.third=this.fourth,this.fourth=this.fifth,this.fifth=this.sixth,this.sixth+=1,this},t.prototype.sN=function(){return this.first=this.third,this.second=this.fourth,this.third=this.fifth,this.fourth=this.sixth,this.fifth=this.fourth+1,this.sixth=this.fifth+1,this},t.prototype.aN=function(t){var i=t.buffer,n=t.position;return i[n]=this.first,i[n+1]=this.second,i[n+2]=this.third,n+=3,t.position=n,t.next&&this.oN(),this},t.prototype.uN=function(t){var i=t.buffer,n=t.position;return i[n]=this.first,i[n+1]=this.third,i[n+2]=this.second,i[n+3]=this.third,i[n+4]=this.fourth,i[n+5]=this.second,n+=6,t.position=n,t.next&&this.sN(),this},t.prototype.hN=function(t,i){i.next=!0,6*t>=i.buffer.length&&(i.buffer=Array(6*t));for(var n=0;n<t;n+=1)this.uN(i);return this},t.prototype.fN=function(){return[this.first,this.second,this.third,this.fourth,this.fifth,this.sixth]},t}(),Rx=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Gx=(void 0===Lx&&(Lx=0),(new Vx).eN(Lx)),Ux=function(t,i,n,r,e,o,s,a,u,h){return void 0===a&&void 0===s||Gx.oN(),o.push(t,i),e.push(Gx.first,Gx.second,Gx.third),a=void 0,s=void 0,e.push(Gx.third,Gx.fourth,Gx.second),u=Gx.third,Gx.sN(),h&&o.push(n,r),[s,a,u]},Yx=function(t,i,n,r,e,o,s,a,u,h,f){void 0===u&&void 0===a||Gx.oN(),s.push(t,i),e.push(Gx.first,Gx.second,Gx.third);var c=Ar(t,n,i,r);return u=void 0,void 0!==c&&(void 0===u&&(u=c),s.push(u),o.push(Gx.third,Gx.fourth,Gx.fifth),h=Gx.fourth),Gx.sN(),f&&s.push(n,r),[a,u,h]},Wx=function(t,i,n,r,e,o,s,a,u,h){return void 0===s&&void 0===o||Gx.oN(),e.push(t,i),r.push(Gx.first,Gx.second,Gx.third),o=n,s=void 0,a=Gx.third,h?e.push(n):u=!0,[o,s,a,u]},Xx=function(t,i,n,r,e,o,s,a,u,h,f){return 0!==o.length?(void 0===a&&void 0===s||Gx.oN(),Gx.oN()):u>0&&(Gx.oN(),f>0&&(f-=1)),o.push(t),e.push(Gx.first,Gx.second,Gx.third),u=Gx.second,s=t,a=void 0,h&&o.push(n,r),[s,a,u,f]},Hx=function(t,i){var n,r,e,o,s,a,u,h;void 0===i&&(i=0),Gx.eN(i);var f,c,l=Rx(t,2),v=l[0],d=l[1],y=v.length,A=[],b=[],p=[],m=i,g=0,x=v[g],S=d[g],w=v[g],M=d[g],C=!1,T=m>0?w.y!==M.y?2:1:0;if(y>1)for(;g<y-1;){w=x,M=S,x=v[g+=1],S=d[g];var k=g===y-1;w.y>M.y?x.y>S.y?(f=(n=Rx(Ux(w,M,x,S,A,p,f,c,m,k),3))[0],c=n[1],m=n[2]):x.y<S.y?(f=(r=Rx(Yx(w,M,x,S,A,b,p,f,c,m,k),3))[0],c=r[1],m=r[2]):(f=(e=Rx(Wx(w,M,x,A,p,f,c,m,C,k),4))[0],c=e[1],m=e[2],C=e[3]):w.y<M.y?x.y<S.y?(f=(o=Rx(Ux(w,M,x,S,b,p,f,c,m,k),3))[0],c=o[1],m=o[2]):x.y>S.y?(f=(s=Rx(Yx(w,M,x,S,b,A,p,f,c,m,k),3))[0],c=s[1],m=s[2]):(f=(a=Rx(Wx(w,M,x,b,p,f,c,m,C,k),4))[0],c=a[1],m=a[2],C=a[3]):x.y===S.y?(f=w,C&&(p.push(w),C=!1,Gx.oN()),0===p.length&&m>0&&T>0&&(T-=1)):x.y>S.y?(f=(u=Rx(Xx(w,0,x,S,A,p,f,c,m,k,T),4))[0],c=u[1],m=u[2],T=u[3]):(f=(h=Rx(Xx(w,0,x,S,b,p,f,c,m,k,T),4))[0],c=h[1],m=h[2],T=h[3])}return[p,new Uint16Array(A),new Uint16Array(b),m,T]},Zx=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qx=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Jx=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.CD=new kx,s.cN=0,s.Xh=Array(),s.lN=0,s.vN=new Uint16Array(0),s.dN=new Uint16Array(0),s.Bz=ao({hightFillSolid:function(){return Yr(s.Qr)&&s.Qr},hightFillRadialGradient:function(){return G(s.Qr)&&s.Qr},hightFillLinearGradient:function(){return Y(s.Qr)&&s.Qr},hightFillPaletted:function(){return Zr(s.Qr)&&s.Qr},lowFillSolid:function(){return Yr(s.jf)&&s.jf},lowFillRadialGradient:function(){return G(s.jf)&&s.jf},lowFillLinearGradient:function(){return Y(s.jf)&&s.jf},lowFillPaletted:function(){return Zr(s.jf)&&s.jf}}),s.Cz=i,s.Tz=n,s.qB=i.kz(),s}return Zx(i,t),i.prototype.Io=function(){var t=this.$u(),i=this.hi.T(),n=this.nf;if(this.th()){this.CD.BE(this.ai);var r=n;if(r&&(this.cN=0,this.vN=new Uint16Array(0),this.dN=new Uint16Array(0),this.Xh.length=0,this.lN=0,this.Of>1)){var e=Qx(Hx([this.kf,this._f]),4),o=e[0],s=e[1],a=e[2],u=e[3];this.cN=u,this.vN=s,this.dN=a,this.Xh=o,this.lN=o.length}if(this.If&&this.$h[0].length>1){var h=Qx(this.$h,2),f=h[0],c=h[1],l=f.length,v=Qx(Hx([f,c],this.cN),5),d=(o=v[0],s=v[1],a=v[2],u=v[3],v[4]);this.cN=u;for(var y=o.length,A=d;A<y;A+=1)this.Xh[this.lN]=o[A],this.lN+=1;for(this.vN=br(this.vN,s),this.dN=br(this.dN,a),A=d>0||this.Of>0?1:d;A<l;A+=1)this.kf[this.Of]=f[A],this._f[this.Of]=c[A],this.Of+=1;this.Ff=!0,this.If=!1,this.$h=[]}var b=this.Qr,p=this.qu!==b,m=this.Bz.hightFillSolid(p),g=this.Bz.hightFillRadialGradient(p),x=this.Bz.hightFillLinearGradient(p),S=this.Bz.hightFillPaletted(p),w=m||g||x||S&&["x","y"].includes(S.getLookUpProperty())&&S,M=this.jf,C=this.Rf!==M,T=this.Bz.lowFillSolid(C),k=this.Bz.lowFillRadialGradient(C),_=this.Bz.lowFillLinearGradient(C),O=this.Bz.lowFillPaletted(C),F=T||k||_||O&&["x","y"].includes(O.getLookUpProperty())&&O;if((p||t)&&(this.yN=w?this.qB.CL(kg["2D"],kg.Color({dataType:x?["gradient",x]:g?["gradient",g]:S?["lookup",S.getLookUpProperty(),S.lut]:"uniform"}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0})):void 0),g?this.Vz=lx(this.di||this.Kh,this.ai,g.getPosition(),g.getExtent(),g.getShape(),this.qB.hE()):x?this.Rz=vx(this.di||this.Kh,this.ai,x.getAngle(!0),this.qB.hE()):(this.Vz=void 0,this.Rz=void 0),(C||t)&&(this.AN=F?this.qB.CL(kg["2D"],kg.Color({dataType:_?["gradient",_]:k?["gradient",k]:O?["lookup",O.getLookUpProperty(),O.lut]:"uniform"}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0})):void 0),k?this.bN=lx(this.di||this.Kh,this.ai,k.getPosition(),k.getExtent(),k.getShape(),this.qB.hE()):_?this.pN=vx(this.di||this.Kh,this.ai,_.getAngle(!0),this.qB.hE()):(this.bN=void 0,this.pN=void 0),(t||this.Ff||r)&&this.Ff||r){o=this.Xh;var I=Ni(o,this.ai.Pt());this.mN=this.qB.wE(I,!1,this.mN),w&&(this.gN=this.qB.sP(this.vN,this.gN),this.xN=this.vN.length),F&&(this.SN=this.qB.sP(this.dN,this.SN),this.wN=this.dN.length),this.Ff=!1}this.$z=i&&(F||w)?this.$z||this.qB.CL(kg["2D"],kg.MousePicking(),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0})):void 0,this.ih(this.Qr),this.Gf(this.jf),this.nf=!1}return this},i.prototype.Ic=function(t,i){var n=this,r=this.Qr,e=this.jf,o=1===t?this.$z:this.AN;if(o&&this.mN&&this.SN){var s=this.mN,a=this.SN;this.qB.el(o).CE(o,(function(r,o,u,h){if(n.qB.VP(u,s,n.ai.Pt(),void 0).vP(a).OE(r("uIsHighlighted"),1===t||2===t?0:n.yi).WF(r("uHighlightColorOffset"),1===t||2===t?j:n.gi).OE(r("uRenderEffectMask"),2===t?1:0),n.ai instanceof nt||n.ai instanceof eo?n.qB.kE(r("uScale"),n.CD.FE()).kE(r("uDisp"),n.CD.IE()).kE(h("uScaleStart_highpart"),n.CD.ez()).kE(h("uScaleStart_lowpart"),n.CD.oz()):n.ai instanceof rt&&n.qB.kE(h("uScaleStart"),n.CD.MixedScaleXY.uScaleStart).kE(h("uScaleStartLog"),n.CD.MixedScaleXY.uScaleStartLog).kE(h("uScaleInterval"),n.CD.MixedScaleXY.uScaleInterval).kE(h("uScaleIntervalLog"),n.CD.MixedScaleXY.uScaleIntervalLog).kE(r("uViewportStart"),n.CD.MixedScaleXY.uViewportStart).kE(r("uViewportSize"),n.CD.MixedScaleXY.uViewportSize),1===t)n.qB.$E(r("uFirstId"),i).HP(u,1);else if(Yr(e))n.qB.WF(r("uColor"),e.getColor());else if(G(e)){if(!n.bN)return!1;n.qB.EP(u,n.bN,e)}else if(Y(e)){if(!n.pN)return!1;n.qB.PP(u,n.pN,e)}else if(Zr(e)){var f=uo(e,n,void 0);if(!f&&e.lut.percentageValues)return!1;n.qB.tz(u,e.lut,f)}return n.qB.yP(n.wN),!0}))}var u=1===t?this.$z:this.yN;if(u&&this.mN&&this.gN){var h=this.mN,f=this.gN;this.qB.el(u).CE(u,(function(e,o,s,a){if(n.qB.VP(s,h,n.ai.Pt(),void 0).vP(f).OE(e("uIsHighlighted"),1===t||2===t?0:n.yi).WF(e("uHighlightColorOffset"),1===t||2===t?j:n.gi).OE(e("uRenderEffectMask"),2===t?1:0),n.ai instanceof nt||n.ai instanceof eo?n.qB.kE(e("uScale"),n.CD.FE()).kE(e("uDisp"),n.CD.IE()).kE(a("uScaleStart_highpart"),n.CD.ez()).kE(a("uScaleStart_lowpart"),n.CD.oz()):n.ai instanceof rt&&n.qB.kE(a("uScaleStart"),n.CD.MixedScaleXY.uScaleStart).kE(a("uScaleStartLog"),n.CD.MixedScaleXY.uScaleStartLog).kE(a("uScaleInterval"),n.CD.MixedScaleXY.uScaleInterval).kE(a("uScaleIntervalLog"),n.CD.MixedScaleXY.uScaleIntervalLog).kE(e("uViewportStart"),n.CD.MixedScaleXY.uViewportStart).kE(e("uViewportSize"),n.CD.MixedScaleXY.uViewportSize),1===t)n.qB.$E(e("uFirstId"),i).HP(s,1);else if(Yr(r))n.qB.WF(e("uColor"),r.getColor());else if(G(r)){if(!n.Vz)return!1;n.qB.EP(s,n.Vz,r)}else if(Y(r)){if(!n.Rz)return!1;n.qB.PP(s,n.Rz,r)}else if(Zr(r)){var u=uo(r,n,void 0);if(!u&&r.lut.percentageValues)return!1;n.qB.tz(s,r.lut,u)}return n.qB.yP(n.xN),!0}))}return{idCount:1}},i.prototype.Bc=function(t,i,n,r,e){return{}},i.prototype.Xi=function(){return this.Kh.max.x},i.prototype.Wi=function(){return this.Kh.min.x},i.prototype.Zi=function(){return this.Kh.max.y},i.prototype.Hi=function(){return this.Kh.min.y},i.prototype.Cf=function(){return 0},i.prototype.Tf=function(){return 0},i.prototype.gx=function(t){this.df()>0&&this.Io();var i=Qx(this.sf(),2),n=i[0],r=i[1],e=n.length>2&&n[1].x<n[0].x,o=Ot(n,t,V.NearestX,this.Bf,this.Df,this.ai,this.Ai.ai,this.Kh,"x",e);if(void 0!==o){var s=[n[o],r[o]];if(!Number.isNaN(s[0].y)&&!Number.isNaN(s[1].y))return s}},i.prototype.zS=function(t){this.df()>0&&this.Io();var i=Qx(this.sf(),2),n=i[0],r=i[1],e=n.length;if(0!==e){var o=this.Bf?1:0,s=e-(this.Df?2:1),a=n.length>2&&n[1].x<n[0].x,u=Dt(n,at(t,this.Ai.ai,this.ai),"x",a,o,s);if(u){var h=[Xn(n[u.a],n[u.b],u.lerpAmount),Xn(r[u.a],r[u.b],u.lerpAmount)];if(!Number.isNaN(h[0].y)&&!Number.isNaN(h[1].y))return h}}},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.SN&&(this.qB.PE(this.SN),this.SN=void 0),this.gN&&(this.qB.PE(this.gN),this.gN=void 0),this.mN&&(this.qB.PE(this.mN),this.mN=void 0),this},i.prototype.jc=function(){return this.dispose(),this},i}(xa),Kx=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qx=function(t){function i(i,n){var r=t.call(this,i)||this;r.MN=n;var e=r.CN(),o=e.vertices,s=e.indices,a=e.indicesCount,u=e.drawMode;return r.TN=i.wE(o),r.kN=i.sP(s),r._N=a,r.ON=u,r}return Kx(i,t),i.prototype.el=function(t,i){return this.qB.TE(this.TN,0,{location:t.attribute("aSegmentPosition"),size:2},{location:t.attribute("aSegmentSide"),size:1},{location:i?t.attribute("aSegmentInside"):void 0,size:1}),this.qB.vP(this.kN),this},i.prototype.RT=function(t,i){return this.qB.bP(void 0!==i?i:this.ON,this._N,0,t,this.qB.gl.UNSIGNED_BYTE),this},i.prototype.CN=function(){var t=this,i=[];[1,0].forEach((function(n){for(var r=1===n?.5*Math.PI:1.5*Math.PI,e=0;e<=t.MN;e+=1){var o=r-e*Math.PI/t.MN;i.push(.5*Math.cos(o),.5*Math.sin(o),n,0)}})),i.push(0,0,1,1),i.push(0,0,0,1);for(var n=i.length/4,r=[],e=0;e<this.MN;e+=1)r.push(e,e+1,n-2),r.push(e+n/2-1,e+n/2,n-1);return r.push(0,n-2,n-1),r.push(n-1,n-2,n/2-1),r.push(0,n-3,n-1),r.push(n/2-2,n-2,n/2-1),{vertices:new Float32Array(i),indices:new Uint8Array(r),indicesCount:r.length,verticesCount:n,drawMode:this.qB.gl.TRIANGLES}},i.prototype.XL=function(){this.qB.PE(this.TN),this.qB.PE(this.kN)},i}(dx),$x=function(t,i,n){return void 0===n&&(n=!0),function(t,i){var n=t.YE.RL.get(i);return n||(n=new qx(t,i),t.YE.RL.set(i,n),n)}(t,n?i>=50?8:i>=20?6:i>=7?4:i>=4?3:1===i?1:2:1)},tS={FN:function(t,i,n,r,e,o,s){void 0===s&&(s=1);var a=r.attribute,u=i.gl;if(u.bindBuffer(u.ARRAY_BUFFER,n),t){var h=a("aLocationA_highpart"),f=a("aLocationA_lowpart"),c=a("aLocationB_highpart"),l=a("aLocationB_lowpart");u.vertexAttribPointer(h,2,u.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),i.hP(h,s),u.enableVertexAttribArray(h),u.vertexAttribPointer(f,2,u.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,(o+2)*Float32Array.BYTES_PER_ELEMENT),i.hP(f,s),u.enableVertexAttribArray(f),u.vertexAttribPointer(c,2,u.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,(o+e)*Float32Array.BYTES_PER_ELEMENT),i.hP(c,s),u.enableVertexAttribArray(c),u.vertexAttribPointer(l,2,u.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,(o+e+2)*Float32Array.BYTES_PER_ELEMENT),i.hP(l,s),u.enableVertexAttribArray(l)}else{var v=a("aLocationA"),d=a("aLocationB");u.vertexAttribPointer(v,2,u.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),i.hP(v,s),u.enableVertexAttribArray(v),u.vertexAttribPointer(d,2,u.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,(o+e)*Float32Array.BYTES_PER_ELEMENT),i.hP(d,s),u.enableVertexAttribArray(d)}},IN:function(t,i,n,r,e,o,s,a){var u=t.gl;u.bindBuffer(u.ARRAY_BUFFER,n),u.vertexAttribPointer(r,o,u.FLOAT,!1,s*Float32Array.BYTES_PER_ELEMENT,a*Float32Array.BYTES_PER_ELEMENT),t.hP(r,1),u.enableVertexAttribArray(r),u.vertexAttribPointer(e,o,u.FLOAT,!1,s*Float32Array.BYTES_PER_ELEMENT,(a+s)*Float32Array.BYTES_PER_ELEMENT),t.hP(e,1),u.enableVertexAttribArray(e)},jN:function(t,i,n,r,e,o){var s=r.attribute,a=i.gl;if(a.bindBuffer(a.ARRAY_BUFFER,n),t){var u=s("aLocationA_highpart"),h=s("aLocationA_lowpart"),f=s("aLocationB_highpart"),c=s("aLocationB_lowpart");a.vertexAttribPointer(u,2,a.FLOAT,!1,2*e*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),i.hP(u,1),a.enableVertexAttribArray(u),a.vertexAttribPointer(h,2,a.FLOAT,!1,2*e*Float32Array.BYTES_PER_ELEMENT,(o+2)*Float32Array.BYTES_PER_ELEMENT),i.hP(h,1),a.enableVertexAttribArray(h),a.vertexAttribPointer(f,2,a.FLOAT,!1,2*e*Float32Array.BYTES_PER_ELEMENT,(o+e)*Float32Array.BYTES_PER_ELEMENT),i.hP(f,1),a.enableVertexAttribArray(f),a.vertexAttribPointer(c,2,a.FLOAT,!1,2*e*Float32Array.BYTES_PER_ELEMENT,(o+e+2)*Float32Array.BYTES_PER_ELEMENT),i.hP(c,1),a.enableVertexAttribArray(c)}else{var l=s("aLocationA"),v=s("aLocationB");a.vertexAttribPointer(l,2,a.FLOAT,!1,2*e*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),i.hP(l,1),a.enableVertexAttribArray(l),a.vertexAttribPointer(v,2,a.FLOAT,!1,2*e*Float32Array.BYTES_PER_ELEMENT,(o+e)*Float32Array.BYTES_PER_ELEMENT),i.hP(v,1),a.enableVertexAttribArray(v)}},DN:function(t,i,n,r,e,o,s,a,u,h){var f=t.gl;f.bindBuffer(f.ARRAY_BUFFER,n),f.vertexAttribPointer(r,o,u,a,2*o*h,s*h),t.hP(r,1),f.enableVertexAttribArray(r),f.vertexAttribPointer(e,o,u,a,2*o*h,(s+o)*h),t.hP(e,1),f.enableVertexAttribArray(e)},Ic:function(t,i,n,r,e,o,s){var a=t.kz(),u=n.uniform,h=n.uniformOptional,f=1/t.xu.wu,c=(e?Math.max(o,f):Math.max(o,0))+1;a.OE(u("uThicknessPixels"),c).OE(h("uAALimit"),1-(c-1)/c).kE(u("uRatioPxClip"),[2/t.Mt().x,2/t.Mt().y]),i.el(n,r).RT(s)}},iS={FN:function(t,i,n,r,e,o){var s=r.attribute,a=i.gl;if(a.bindBuffer(a.ARRAY_BUFFER,n),t){var u=s("aPos_highpart");a.vertexAttribPointer(u,2,a.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(u);var h=s("aPos_lowpart");a.vertexAttribPointer(h,2,a.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,(o+2)*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(h)}else{var f=s("aPos");a.vertexAttribPointer(f,2,a.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(f)}},IN:function(t,i,n,r,e,o){var s=t.gl;s.bindBuffer(s.ARRAY_BUFFER,n),s.vertexAttribPointer(r,e,s.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),s.enableVertexAttribArray(r)},jN:function(t,i,n,r,e,o){var s=r.attribute,a=i.gl;if(a.bindBuffer(a.ARRAY_BUFFER,n),t){var u=s("aPos_highpart"),h=s("aPos_lowpart");a.vertexAttribPointer(u,2,a.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(u),a.vertexAttribPointer(h,2,a.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,(o+2)*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(h)}else{var f=s("aPos");a.vertexAttribPointer(f,2,a.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(f)}},LN:function(t,i){var n=t.kz();n.RT(n.gl.LINE_STRIP,i,0)},EN:function(t,i){var n=t.kz();n.RT(n.gl.LINES,2*i,0)}},nS=function(t,i,n,r,e,o,s,a,u,h,f,c){void 0===f&&(f=s),void 0===c&&(c=0);var l=t.gl;if(n){var v=i.attribute("".concat(e,"A_highpart").concat(o)),d=i.attribute("".concat(e,"A_lowpart").concat(o)),y=i.attribute("".concat(e,"B_highpart").concat(o)),A=i.attribute("".concat(e,"B_lowpart").concat(o));l.bindBuffer(l.ARRAY_BUFFER,r),l.vertexAttribPointer(v,s,u,a,2*f*h,2*c*h),l.vertexAttribPointer(d,s,u,a,2*f*h,(f+2*c)*h),t.hP(v,1),t.hP(d,1),l.enableVertexAttribArray(v),l.enableVertexAttribArray(d),l.vertexAttribPointer(y,s,u,a,2*f*h,(2*f+2*c)*h),l.vertexAttribPointer(A,s,u,a,2*f*h,(3*f+2*c)*h),t.hP(y,1),t.hP(A,1),l.enableVertexAttribArray(y),l.enableVertexAttribArray(A),l.bindBuffer(l.ARRAY_BUFFER,null)}else{var b=i.attribute("".concat(e,"A").concat(o)),p=i.attribute("".concat(e,"B").concat(o));l.bindBuffer(l.ARRAY_BUFFER,r),l.vertexAttribPointer(b,s,u,a,f*h,(0+c)*h),l.vertexAttribPointer(p,s,u,a,f*h,(f+c)*h),t.hP(b,1),t.hP(p,1),l.enableVertexAttribArray(b),l.enableVertexAttribArray(p),l.bindBuffer(l.ARRAY_BUFFER,null)}},rS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eS=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.CD=new kx,s.Kh=Bn,s.Bz=ao({lineStyleSolid:function(){return Ye(s.vc)&&s.vc},lineStyleDashed:function(){return Qe(s.vc)&&s.vc},strokeFillSolid:function(){var t=s.vc.getFillStyle();return Yr(t)&&t},strokeFillLinearGradient:function(){var t=s.vc.getFillStyle();return Y(t)&&t},strokeFillRadialGradient:function(){var t=s.vc.getFillStyle();return G(t)&&t},strokeFillPaletted:function(){var t=s.vc.getFillStyle();return Zr(t)&&t}}),s.Cz=i,s.Tz=n,s.qB=i.kz(),s.PN=s.qB.wP,s}return rS(i,t),i.prototype.Io=function(){var t=this.rh(),i=this.vc,n=this.Bz.lineStyleSolid(t),r=this.Bz.lineStyleDashed(t),e=n||r,o=this.Bz.strokeFillSolid(t),s=this.Bz.strokeFillLinearGradient(t),a=this.Bz.strokeFillRadialGradient(t),u=this.Bz.strokeFillPaletted(t),f=o||s||a||u&&["x","y"].includes(u.getLookUpProperty())&&u,c=this.Ut(),l=this.Rt(),v=this.hi.T(),y=this.hi.o,A=i.Yi();if(r&&this.ai instanceof rt)return ci.console.error("LightningChart JS DashedLine is not supported on logarithmic axis"),this;if(this.CD.BE(this.ai),this.mc&&(this.zN=this.qB.wE(Ni([c,l],this.ai.Pt()),!1,this.zN),this.Kh=d(h(c.x,c.y),h(l.x,l.y))),t||y){var b=this.th()&&e&&f&&A>0,p=s?["gradient",s]:a?["gradient",a]:u?["lookup",u.getLookUpProperty(),u.lut]:"uniform";this.NN=b?{type:"triangulated",shader:this.qB.CL(kg["2D"],kg.Color({dataType:p}),kg.LineInstanced2D({axisWorldTranslation:oo(this.ai),normalSource:void 0}),this.PN?kg.AliasedEdge:void 0,r&&kg.StippleTextureInstanced),mousePickingShader:v?this.qB.CL(kg["2D"],kg.MousePicking(),kg.LineInstanced2D({axisWorldTranslation:oo(this.ai),normalSource:void 0}),r&&kg.StippleTextureInstanced):void 0,geometry:$x(this.qB,A),thickness:A,lineStyleSolid:n,lineStyleDashed:r,fillStyleSolid:o,fillStyleLinearGradient:s,fillStyleRadialGradient:a,fillStylePaletted:u}:void 0}if(a?this.Jz=lx(fa(this.Kh,{x:this.Cf(),y:this.Tf()},this.ai),this.ai,a.getPosition(),a.getExtent(),a.getShape(),this.qB.hE()):s?this.Kz=vx(fa(this.Kh,{x:this.Cf(),y:this.Tf()},this.ai),this.ai,s.getAngle(!0),this.qB.hE()):(this.Jz=void 0,this.Kz=void 0),r){if(t||this.mc){var m=[0,0,Math.abs(l.x-c.x),Math.abs(l.y-c.y)];this.VN=this.qB.wE(m,!1,this.VN)}this.RN=this.qB.JP(r.getPattern())}else this.VN&&(this.qB.PE(this.VN),this.VN=void 0),this.RN=void 0;return this.bc(i),this.mc=!1,this.hi.o=!1,this},i.prototype.Ic=function(t,i){var n,r,e=this,o=this.zN;if(!o)return{};var s=this.NN;if(!s)return{};var a=s.fillStyleSolid,u=s.fillStyleLinearGradient,h=s.fillStyleRadialGradient,f=s.fillStylePaletted,c=s.lineStyleDashed,l=s.thickness,v=1===t?null===(n=this.NN)||void 0===n?void 0:n.mousePickingShader:null===(r=this.NN)||void 0===r?void 0:r.shader;return v?(this.qB.el(v).CE(v,(function(n,r,v,d){if(e.qB.OE(n("uIsHighlighted"),1===t||2===t?0:e.yi).WF(n("uHighlightColorOffset"),1===t||2===t?j:e.gi).OE(n("uRenderEffectMask"),2===t?1:0),e.ai instanceof nt||e.ai instanceof eo?e.qB.kE(n("uScale"),e.CD.FE()).kE(n("uDisp"),e.CD.IE()).kE(d("uScaleStart_highpart"),e.CD.ez()).kE(d("uScaleStart_lowpart"),e.CD.oz()):e.ai instanceof rt&&e.qB.kE(d("uScaleStart"),e.CD.MixedScaleXY.uScaleStart).kE(d("uScaleStartLog"),e.CD.MixedScaleXY.uScaleStartLog).kE(d("uScaleInterval"),e.CD.MixedScaleXY.uScaleInterval).kE(d("uScaleIntervalLog"),e.CD.MixedScaleXY.uScaleIntervalLog).kE(n("uViewportStart"),e.CD.MixedScaleXY.uViewportStart).kE(n("uViewportSize"),e.CD.MixedScaleXY.uViewportSize),1===t)e.qB.$E(n("uFirstId"),i).HP(v,1);else if(a)e.qB.WF(n("uColor"),a.getColor());else if(h){if(!e.Jz)return!1;e.qB.EP(v,e.Jz,h)}else if(u){if(!e.Kz)return!1;e.qB.PP(v,e.Kz,u)}else if(f){var y=uo(f,e,void 0);if(!y&&f.lut.percentageValues)return!1;e.qB.tz(v,f.lut,y)}if(c){if(!e.VN||!e.RN)return!1;tS.IN(e.qB,v,e.VN,r("aLengthSoFarA"),r("aLengthSoFarB"),2,2,0),e.qB.kE(n("uStippleCount"),[e.Ai.Mt().x/e.RN.$P,e.Ai.Mt().y/e.RN.$P]).OE(d("uStippleTextureWidthLimiter"),e.RN.qP/e.RN.$P).OE(n("uStippleScale"),c.getPatternScale())._E(n("uStippleTexture"),e.RN.KP,1)}return tS.FN(e.ai.Pt(),e.qB,o,v,e.ai.Pt()?4:2,0),tS.Ic(e.Cz,s.geometry,v,e.PN&&1!==t,1===t,l,1),!0})),{idCount:1}):{}},i.prototype.Bc=function(t,i,n,r,e){return{}},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.NN=void 0,this.zN&&(this.qB.PE(this.zN),this.zN=void 0),this.VN&&(this.qB.PE(this.VN),this.VN=void 0),this.RN=void 0,this},i.prototype.jc=function(){return this},i.prototype.Xi=function(){return this.Kh.max.x},i.prototype.Wi=function(){return this.Kh.min.x},i.prototype.Zi=function(){return this.Kh.max.y},i.prototype.Hi=function(){return this.Kh.min.y},i.prototype.Cf=function(){return An(this.vc)},i.prototype.Tf=function(){return An(this.vc)},i}(Oa),oS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sS=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},aS=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.GN=[],s.UN=!1,s.YN=!1,s.WN=!1,s.XN=!1,s.HN=!1,s.CD=new kx,s.Kh=Bn,s.Bz=ao({lineStyleSolid:function(){return Ye(s.vc)&&s.vc},lineStyleDashed:function(){return Qe(s.vc)&&s.vc},lineFillSolid:function(){var t=s.vc.getFillStyle();return Yr(t)&&t},lineFillRadialGradient:function(){var t=s.vc.getFillStyle();return G(t)&&t},lineFillLinearGradient:function(){var t=s.vc.getFillStyle();return Y(t)&&t},lineIndividualPointFill:function(){var t=s.vc.getFillStyle();return Xr(t)&&t}}),s.Cz=i,s.Tz=n,s.qB=i.kz(),s.PN=s.qB.wP,s.ZN=i.xu.Cu,s}return oS(i,t),i.prototype.za=function(){var t=this,i={Tn:function(n){return t.QN(i,n)},Oi:function(n){return t.JN(i,n)},Id:function(n,r){return t.KN(i,n,r)},WF:function(n){return t.qN(i,n)},Yt:{x:0,y:0},Gt:{x:0,y:0},yi:0,ej:void 0,$N:this.GN.length,qd:!0,tV:!0};return this.YN=!0,this.GN.push(i),i},i.prototype.zi=function(){return this.GN.length=0,this.UN=!0,this.Ai.Ti(this),this},i.prototype.iV=function(){return this.GN.length},i.prototype.T=function(t){var i=this.GN[t];return[i.Yt,i.Gt]},i.prototype.GA=function(){return this.GN},i.prototype.tv=function(t){var i=this.GN.indexOf(t);i>=0&&(this.GN.splice(i,1),t.tV||(this.UN=!0),this.Ai.Ti(this))},i.prototype.QN=function(t,i){if(i&&!t.qd)t.$N=this.GN.length,this.GN.push(t);else if(!i){var n=this.GN.indexOf(t);this.GN.splice(n,1)}return t.qd=i,t.tV||(this.XN=!0),t},i.prototype.JN=function(t,i){return t.yi=i,t.tV||(this.WN=!0),t},i.prototype.KN=function(t,i,n){return t.Yt=i,t.Gt=n,t.tV||(this.UN=!0),t},i.prototype.qN=function(t,i){return t.ej=i,t.tV||(this.HN=!0),t},i.prototype.Io=function(){var t,i,n=this.hi.T(),r=this.hi.o,e=this.rh(),o=this.vc,s=this.GN,a=this.WN,u=this.UN,h=this.XN,f=this.HN,c=this.YN,l=this.Bz.lineStyleSolid(e),v=this.Bz.lineStyleDashed(e),d=l||v,y=this.Bz.lineFillSolid(e),A=this.Bz.lineIndividualPointFill(e),b=this.Bz.lineFillRadialGradient(e),p=this.Bz.lineFillLinearGradient(e),m=y||A||p||b,g=o.Yi(),x=v?"triangulated":o.getThickness()<0?"primitive":"triangulated";if(v&&this.ai instanceof rt)return ci.console.error("LightningChart JS DashedLine is not supported on logarithmic axis"),this;this.CD.BE(this.ai);var S=this.xc,w=u||h,M=!w&&c;if(w||M){for(var C=w?s:s.filter((function(t){return t.tV})),T=[],k=C.length,_=In,O=In,F=jn,I=jn,j=0;j<k;j+=1){var B=C[j];T.push(B.Yt),T.push(B.Gt),_=Math.min(_,B.Yt.x,B.Gt.x),O=Math.min(O,B.Yt.y,B.Gt.y),F=Math.max(F,B.Yt.x,B.Gt.x),I=Math.max(I,B.Yt.y,B.Gt.y)}this.zN=this.qB.eP(this.zN,Ni(T,this.ai.Pt()),S*(this.ai.Pt()?8:4),w,Float32Array),this.Kh=M?Jn(this.Kh,{min:{x:_,y:O},max:{x:F,y:I}}):{min:{x:_,y:O},max:{x:F,y:I}}}if(e||r){var D=y?"uniform":A?"attribute":p?["gradient",p]:b?["gradient",b]:void 0,L=d&&m&&g>0&&D;this.NN=L?"triangulated"===x?{type:"triangulated",shader:this.qB.CL(kg["2D"],kg.Color({dataType:D}),kg.LineInstanced2D({axisWorldTranslation:oo(this.ai),normalSource:void 0,snapToNearestPixel:this.ZN,ensureMinimumSegmentLength:void 0!==this.gc}),this.PN?kg.AliasedEdge:void 0,v&&kg.StippleTextureInstanced,kg.AttributeHighlight),mousePicking:n?{shader:this.qB.CL(kg["2D"],kg.MousePicking({useAttribute:!0}),kg.LineInstanced2D({axisWorldTranslation:oo(this.ai),normalSource:void 0,snapToNearestPixel:this.ZN,ensureMinimumSegmentLength:void 0!==this.gc}),v&&kg.StippleTextureInstanced,kg.AttributeHighlight)}:void 0,geometry:$x(this.qB,g,!1),thickness:g,lineStyleSolid:l,lineStyleDashed:v,fillStyleSolid:y,fillStyleIndividual:A,fillStyleLinearGradient:p,fillStyleRadialGradient:b}:{type:"primitive",shader:this.qB.CL(kg["2D"],kg.Color({dataType:D}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0,snapToNearestPixel:this.ZN}),kg.AttributeHighlight),mousePicking:n?{shader:this.qB.CL(kg["2D"],kg.MousePicking({useAttribute:!0}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0,snapToNearestPixel:this.ZN}),kg.AttributeHighlight)}:void 0,lineStyleSolid:l,lineStyleDashed:v,fillStyleSolid:y,fillStyleIndividual:A,fillStyleLinearGradient:p,fillStyleRadialGradient:b}:void 0}if(v){if(e||w||M){C=w||e?s:s.filter((function(t){return t.tV}));var E=new Float32Array(4*C.length),P=0;for(j=0;j<C.length;j+=1){var z=C[j].Yt,N=C[j].Gt;E[P]=0,E[P+1]=0,E[P+2]=Math.abs(N.x-z.x),E[P+3]=Math.abs(N.y-z.y),P+=4}this.VN=this.qB.eP(this.VN,E,4*S,w||e,Float32Array)}this.RN=this.qB.JP(v.getPattern())}else this.VN&&(this.qB.PE(this.VN.buffer),this.VN=void 0),this.RN=void 0;if(a||w||M){var V="triangulated"===x?1:2,R=(C=w||a?s:s.filter((function(t){return t.tV})),new Float32Array(C.length*V)),G=0;C.forEach((function(t){for(var i=0;i<V;i+=1)R[G+i]=t.yi;G+=V})),this.nV=this.qB.eP(this.nV,R,S*V,w||a,Float32Array)}if((f||w||M||e)&&A){C=w||f||e?s:s.filter((function(t){return t.tV}));var U=new Uint32Array(2*C.length),Y=0;C.forEach((function(t){for(var i=(t.ej||A.color).toUint32(),n=Y;n<Y+2;n+=1)U[n]=i;Y+=2})),this.rV=this.qB.eP(this.rV,U,2*S,w||f,Uint32Array)}if(n){if(w||M||r){var W="triangulated"===x?1:2,X=(C=w||r?s:s.filter((function(t){return t.tV})),new Float32Array(C.length*W)),H=0;C.forEach((function(t){for(var i=0;i<W;i+=1)X[H+i]=t.$N||0;H+=W})),this.eV=this.qB.eP(this.eV,X,S*W,w,Float32Array)}}else this.eV&&(this.qB.PE(this.eV.buffer),this.eV=void 0);b?this.Vz=lx(this.di||this.Kh,this.ai,b.getPosition(),b.getExtent(),b.getShape(),this.qB.hE()):p?this.Rz=vx(this.di||this.Kh,this.ai,p.getAngle(!0),this.qB.hE()):(this.Vz=void 0,this.Rz=void 0),this.bc(o),this.WN=!1,this.XN=!1,this.UN=!1,this.HN=!1,this.hi.o=!1,this.YN=!1;try{for(var Z=sS(s),Q=Z.next();!Q.done;Q=Z.next())(B=Q.value).tV=!1}catch(i){t={error:i}}finally{try{Q&&!Q.done&&(i=Z.return)&&i.call(Z)}finally{if(t)throw t.error}}return this},i.prototype.Ic=function(t,i){var n,r=this,e=this.zN,o=this.nV,s=this.eV;if(!e||!o)return{};var a=this.NN;if(!a)return{};var u=a.type,h=a.fillStyleSolid,f=a.fillStyleIndividual,c=a.fillStyleLinearGradient,l=a.fillStyleRadialGradient,v=a.lineStyleDashed,d=1===t?null===(n=a.mousePicking)||void 0===n?void 0:n.shader:a.shader;return d?(this.qB.el(d).CE(d,(function(n,d,y,A){if(r.ai instanceof nt||r.ai instanceof eo?r.qB.kE(n("uScale"),r.CD.FE()).kE(n("uDisp"),r.CD.IE()).kE(A("uScaleStart_highpart"),r.CD.ez()).kE(A("uScaleStart_lowpart"),r.CD.oz()):r.ai instanceof rt&&r.qB.kE(A("uScaleStart"),r.CD.MixedScaleXY.uScaleStart).kE(A("uScaleStartLog"),r.CD.MixedScaleXY.uScaleStartLog).kE(A("uScaleInterval"),r.CD.MixedScaleXY.uScaleInterval).kE(A("uScaleIntervalLog"),r.CD.MixedScaleXY.uScaleIntervalLog).kE(n("uViewportStart"),r.CD.MixedScaleXY.uViewportStart).kE(n("uViewportSize"),r.CD.MixedScaleXY.uViewportSize),r.ZN&&r.qB.kE(A("uViewportSizePx"),[r.Ai.Mt().x*r.qB.hE(),r.Ai.Mt().y*r.qB.hE()]),void 0!==r.gc&&r.qB.kE(n("uMinSegmentPixelVector"),[r.gc.x,r.gc.y]),r.qB.WF(n("uHighlightColorOffset"),1===t||2===t?j:r.gi).OE(n("uRenderEffectMask"),2===t?1:0),1===t){if(r.qB.$E(n("uFirstId"),i),!s)return!1;"triangulated"===u?r.qB.TE(s.buffer,1,{location:d("aPickingIdOffset"),size:1}):r.qB.lP(d("aPickingIdOffset"),s.buffer)}else if(h)r.qB.WF(n("uColor"),h.getColor());else if(f){if(!r.rV)return!1;if("triangulated"===u)tS.DN(r.qB,y,r.rV.buffer,d("aColorA"),d("aColorB"),4,0,!0,r.qB.gl.UNSIGNED_BYTE,1);else{var b=d("aColor");r.qB.gl.bindBuffer(r.qB.gl.ARRAY_BUFFER,r.rV.buffer),r.qB.gl.vertexAttribPointer(b,4,r.qB.gl.UNSIGNED_BYTE,!0,0,0),r.qB.gl.enableVertexAttribArray(b)}}else if(l){if(!r.Vz)return!1;r.qB.EP(y,r.Vz,l)}else if(c){if(!r.Rz)return!1;r.qB.PP(y,r.Rz,c)}if(v){if(!r.VN||!r.RN)return!1;tS.DN(r.qB,y,r.VN.buffer,d("aLengthSoFarA"),d("aLengthSoFarB"),2,0,!1,r.qB.gl.FLOAT,Float32Array.BYTES_PER_ELEMENT),r.qB.kE(n("uStippleCount"),[r.Ai.Mt().x/r.RN.$P,r.Ai.Mt().y/r.RN.$P]).OE(A("uStippleTextureWidthLimiter"),r.RN.qP/r.RN.$P).OE(n("uStippleScale"),v.getPatternScale())._E(n("uStippleTexture"),r.RN.KP,0)}if("triangulated"===u){var p=a.geometry,m=a.thickness;tS.jN(r.ai.Pt(),r.qB,e.buffer,y,r.ai.Pt()?4:2,0),r.qB.TE(o.buffer,1,{location:d("aIsHighlighted"),size:1}),tS.Ic(r.Cz,p,y,r.PN&&1!==t,1===t,m,r.GN.length)}else iS.jN(r.ai.Pt(),r.qB,e.buffer,y,r.ai.Pt()?4:2,0),r.qB.lP(d("aIsHighlighted"),o.buffer),iS.EN(r.Cz,r.GN.length);return!0})),{idCount:this.GN.length}):{}},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.NN=void 0,this.zN&&(this.qB.PE(this.zN.buffer),this.zN=void 0),this.VN&&(this.qB.PE(this.VN.buffer),this.VN=void 0),this.nV&&(this.qB.PE(this.nV.buffer),this.nV=void 0),this.eV&&(this.qB.PE(this.eV.buffer),this.eV=void 0),this.rV&&(this.qB.PE(this.rV.buffer),this.rV=void 0),this.RN=void 0,this},i.prototype.Bc=function(t,i,n,r,e){return{collectionMember:this.GN.find((function(n){return i+n.$N===t}))}},i.prototype.jc=function(){return this},i.prototype.Oi=function(i){var n,r;t.prototype.Oi.call(this,i);try{for(var e=sS(this.GN),o=e.next();!o.done;o=e.next())o.value.Oi(i)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return this},i.prototype.Xi=function(){return this.Kh.max.x},i.prototype.Wi=function(){return this.Kh.min.x},i.prototype.Zi=function(){return this.Kh.max.y},i.prototype.Hi=function(){return this.Kh.min.y},i.prototype.Cf=function(){return An(this.vc)},i.prototype.Tf=function(){return An(this.vc)},i}(Fa),uS=function(){function t(t,i){var n=this;this.oV=!1,this.sV=!1,this.ai=t,this.aV=i,this.aV.wi("DataPattern",(function(t){"ProgressiveX"!==t.pattern&&"RegressiveX"!==t.pattern||(n.oV="x"),"ProgressiveY"!==t.pattern&&"RegressiveY"!==t.pattern||(n.oV="y"),"RegressiveX"!==t.pattern&&"RegressiveY"!==t.pattern||(n.sV=!0)}))}return t.prototype.calculateUserDataPointsProgressiveRange=function(t){if(0===t.length)throw new Error("calculateUserDataPointsProgressiveRange called with 0 data points");return{start:"x"===this.oV?t[0].x:t[0].y,end:"x"===this.oV?t[t.length-1].x:t[t.length-1].y}},t.prototype.calculateUserDataPointsBoundaries=function(t){return this.oV?"x"===this.oV?function(t){var i=t.length;if(i>0){for(var n=Math.max(t[i-1].x,t[0].x),r=Math.min(t[i-1].x,t[0].x),e=t[0].y,o=t[0].y,s=0;s<i;s+=1){var a=t[s];a.y>e&&(e=a.y),a.y<o&&(o=a.y)}return d(h(r,o),h(n,e))}return Bn}(t):function(t){var i=t.length;if(i>0){for(var n=Math.max(t[i-1].y,t[0].y),r=Math.min(t[i-1].y,t[0].y),e=t[0].x,o=t[0].x,s=0;s<i;s+=1){var a=t[s];a.x>e&&(e=a.x),a.x<o&&(o=a.x)}return d(h(o,r),h(e,n))}return Bn}(t):Zn(t)},t.prototype.calculateAvgStepBetweenDataPoints=function(t,i,n){return Math.abs(t-i)/(n-1)},t}(),hS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fS=function(){return fS=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},fS.apply(this,arguments)},cS=Math.min(1,1.5),lS=function(t){function i(i,n,r){var e=t.call(this,i,n)||this;return e.uV=!1,e.hV={enabled:!1,totalDataPointsAtTime:0},e.fV=[],e.Fn=r,e.cV=i instanceof nt?{type:"linear",scale:i}:i instanceof rt?{type:"mixed",scale:i}:{type:"unknown"},e.aV.wi("DataPattern",(function(t){!1===t.allowDataGrouping&&(e.uV=!0)})),e}return hS(i,t),i.prototype.lV=function(t,i){var n=this;if(void 0===i&&(i=!1),this.uV||!this.oV||"linear"!==this.cV.type)return!1;!1===i&&this.vV&&(clearTimeout(this.vV),this.vV=void 0);var r="x"===this.oV?this.cV.scale.x.nd:this.cV.scale.y.nd;if(!r)throw new Error("CP helper has no information about Axis state.");var e=t.length;if(e<2)return!1;var o=t[0],s=t[e-1],a=this.calculateAvgStepBetweenDataPoints("x"===this.oV?o.x:o.y,"x"===this.oV?s.x:s.y,e),u=this.cV.scale,h=Math.abs("x"===this.oV?u.oi().x:u.oi().y),f=h/a,c=Math.floor(f*cS),l=c*a,v=ci.performance.now(),d=!(v-r.ze<500)&&(r.je?v-r.Pe<1e3:v-r.Be<2e3||r.Le),y=e>2*this.hV.totalDataPointsAtTime;if(d&&!y)return this.vV=setTimeout((function(){return n.dV(t)}),1e3),!1;var A,b=c>=10,p=this.hV.enabled?this.hV.columnWidthAxis/h<1.5:void 0,m=this.hV.enabled&&c>this.hV.dataPointsPerColumn?c/this.hV.dataPointsPerColumn>=2:void 0;!0===this.hV.enabled?p?m&&(A={enabled:!0,columnWidthAxis:l,dataPointsPerColumn:c,totalDataPointsAtTime:e}):A=b?{enabled:!0,columnWidthAxis:l,dataPointsPerColumn:c,totalDataPointsAtTime:e}:{enabled:!1,totalDataPointsAtTime:e}:b&&(A={enabled:!0,columnWidthAxis:l,dataPointsPerColumn:c,totalDataPointsAtTime:e});var g=!1===i;return A?(g&&(this.hV=A),!0):(g&&(this.hV=fS(fS({},this.hV),{totalDataPointsAtTime:e})),!1)},i.prototype.yV=function(){this.AV=void 0,this.fV.length=0,this.vV&&(clearTimeout(this.vV),this.vV=void 0)},i.prototype.bV=function(t){var i;if(0===t.length)return t;if(this.uV||!this.oV||"linear"!==this.cV.type||!this.hV.enabled)return t;var n,r,e=(i=this.fV.length>0?$i(this.fV,t,{canReturnB:!0}):t).length,o=[],s=void 0===this.AV,a=-1,u=-1,h=0,f=0;if("x"!==this.oV||this.sV)if("x"===this.oV&&this.sV)for(d=this.hV.columnWidthAxis,y=(this.AV?this.AV.x:i[0].x)-d,v=0;v<e;v+=1)(A=i[v]).x>=y?((!n||A.y>n.y)&&(n=A,a=v),(!r||A.y<r.y)&&(r=A,u=v),f=v):(n&&r&&(s&&o.push(i[0]),a<u?o.push(n,r):o.push(r,n)),s=!1,y=A.x-d,n=A,a=v,r=A,u=v,h=v,f=v);else if("y"!==this.oV||this.sV){if("y"===this.oV&&this.sV)for(c=this.hV.columnWidthAxis,l=(this.AV?this.AV.y:i[0].y)-c,v=0;v<e;v+=1)(A=i[v]).y>=l?((!n||A.x>n.x)&&(n=A,a=v),(!r||A.x<r.x)&&(r=A,u=v),f=v):(r&&n&&(s&&o.push(i[0]),a<u?o.push(n,r):o.push(r,n)),s=!1,l=A.y-c,n=A,a=v,r=A,u=v,h=v,f=v)}else for(var c=this.hV.columnWidthAxis,l=(this.AV?this.AV.y:i[0].y)+c,v=0;v<e;v+=1)(A=i[v]).y<=l?((!n||A.x>n.x)&&(n=A,a=v),(!r||A.x<r.x)&&(r=A,u=v),f=v):(r&&n&&(s&&o.push(i[0]),a<u?o.push(n,r):o.push(r,n)),s=!1,l=A.y+c,n=A,a=v,r=A,u=v,h=v,f=v);else{var d=this.hV.columnWidthAxis,y=(this.AV?this.AV.x:i[0].x)+d;for(v=0;v<e;v+=1){var A;(A=i[v]).x<=y?((!n||A.y>n.y)&&(n=A,a=v),(!r||A.y<r.y)&&(r=A,u=v),f=v):(n&&r&&(s&&o.push(i[0]),a<u?o.push(n,r):o.push(r,n)),s=!1,y=A.x+d,n=A,a=v,r=A,u=v,h=v,f=v)}}if(n||r){var b=i.slice(h,f+1);this.fV=b}else this.fV.length=0;var p=o.length;return p>0&&(this.AV=o[p-1]),o},i.prototype.pV=function(t){var i,n;if(this.oV&&"linear"===this.cV.type){var r="x"===this.oV?this.cV.scale.x.nd:this.cV.scale.y.nd;if(!r)throw new Error("CP helper has no information about Axis state.");if((null===(i=r.ko)||void 0===i?void 0:i.id)===is||(null===(n=r.ko)||void 0===n?void 0:n.id)===ns){var e=Math.abs("x"===this.oV?this.cV.scale.x.getInnerInterval():this.cV.scale.y.getInnerInterval());if(this.hV.enabled)return 2*e/this.hV.columnWidthAxis;var o=t.length,s=t[0],a=t[o-1];return e/this.calculateAvgStepBetweenDataPoints("x"===this.oV?s.x:s.y,"x"===this.oV?a.x:a.y,o)}}},i.prototype.mV=function(t,i,n){if(!this.oV)return i;var r=n.length,e=Bt(n,t.min,this.oV,this.sV,0,r-1);void 0===e&&(e=this.sV?r-1:0);var o=Bt(n,t.max,this.oV,this.sV,0,r-1);return void 0===o&&(o=this.sV?0:r-1),1+Math.abs(o-e)},i.prototype.gV=function(){this.vV&&(clearTimeout(this.vV),this.vV=void 0)},i.prototype.dV=function(t){this.lV(t,!0)&&this.Fn()},i}(uS),vS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dS=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return vS(i,t),i.prototype.renderVisibleOnly=function(t,i,n){void 0===n&&(n=!1);var r=this.ai.x.getInnerStart(),e=this.ai.x.getInnerEnd(),o=Math.min(r,e),s=Math.max(r,e),a=this.ai.y.getInnerStart(),u=this.ai.y.getInnerEnd(),h=Math.min(a,u),f=Math.max(a,u);t.forEach((function(t,r){t.existingCoordinatesCount<=1||!1===n&&(t.boundaries.max.x<o||t.boundaries.min.x>s||t.boundaries.max.y<h||t.boundaries.min.y>f)||i(t)}))},i}(uS),yS=function(){return yS=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},yS.apply(this,arguments)},AS=function(){function t(t,i,n){this.xV=i,this.SV=n,this.wV=t,this.MV=[]}return t.prototype.CV=function(t,i,n,r){var e=t.length;if(0!==e){var o=t,s=e,a=this.wV[this.wV.length-1];do{var u=this.wV.length,h=void 0;a||(a=this.TV(i,s)),a&&0==a.allocatedCoordinatesCount-a.existingCoordinatesCount&&(a=void 0);var f=0;if(this.SV&&u>0&&(void 0===a||0===a.existingCoordinatesCount)){var c=this.wV[u-1].lastDataPoint;c?(o.splice(0,0,c),f=1,s+=1):console.error("SegmentationHelper _connectSegments = true, but segment has no lastDataPoint information!")}if(a)h=Math.min(s,a.allocatedCoordinatesCount-a.existingCoordinatesCount),r(a,o.slice(0,h),h,f);else{var l=Math.ceil(i)+f;h=Math.min(l,s);var v=o.slice(0,h),d=yS(yS({},n(l,v,h,f)),{isDropped:!1});this.wV.push(d)}h>0&&(s>h?s=(o=o.slice(h)).length:(o=[],s=0))}while(s>0);this.kV()}},t.prototype._V=function(t){var i=t,n=this.wV.indexOf(i);n>=0&&this.wV.splice(n,1),i.droppedTimestamp=ci.performance.now(),this.MV.push(i)},t.prototype.OV=function(){var t=this;this.wV.slice().forEach((function(i){return t._V(i)}))},t.prototype.FV=function(){var t=this;this.wV.forEach((function(i){return t.xV(i)})),this.MV.forEach((function(i){return t.xV(i)})),this.wV.length=0,this.MV.length=0},t.prototype.TV=function(t,i){var n=2*t/3,r=4*t/3,e=this.MV.findIndex((function(t){return t.allocatedCoordinatesCount>=n&&t.allocatedCoordinatesCount<=r}));if(e>=0){var o=this.MV[e];return this.MV.splice(e,1),this.wV.push(o),o}},t.prototype.kV=function(){if(this.MV.length>5)for(var t=ci.performance.now(),i=0;i<this.MV.length-5;i+=1){var n=this.MV[i];(void 0===n.droppedTimestamp||t-n.droppedTimestamp>=1e4)&&(this.xV(n),this.MV.splice(i,1),i-=1)}},t}(),bS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pS=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return bS(i,t),i.prototype.IV=function(t,i){if(!i||"object"!=typeof i)return 0;var n=this.ai.x.getInnerStart(),r=this.ai.x.getInnerEnd(),e=Math.min(n,r),o=Math.max(n,r),s=this.ai.y.getInnerStart(),a=this.ai.y.getInnerEnd(),u=Math.min(s,a),h=Math.max(s,a);if("maxDataPointCount"in i)return this.jV(t,i.maxDataPointCount,e,o,u,h);if("minDataPointCount"in i)return this.BV(t,i.minDataPointCount,e,o,u,h);if("progressiveDataCleaningThreshold"in i)return this.DV(t,i.progressiveDataCleaningThreshold,e,o,u,h);throw new Error("Unimplemented data cleaning configuration: ".concat(JSON.stringify(i)))},i.prototype.jV=function(t,i,n,r,e,o){if(void 0===i||i<=0)return 0;var s=t.reduce((function(t,i){return t+i.existingDataPointsCount}),0);if(s<=i)return 0;for(var a=0,u=s,h=0;h<t.length;h+=1){var f=t[h];u>i&&(a+=1,u-=f.existingDataPointsCount)}return a},i.prototype.DV=function(t,i,n,r,e,o){if(void 0===i||!this.oV)return 0;for(var s=0,a=0;a<t.length;a+=1){var u=t[a],h=this.sV?"x"===this.oV?u.boundaries.min.x>r:u.boundaries.min.y>o:"x"===this.oV?u.boundaries.max.x<n:u.boundaries.max.y<e;if(!((this.sV?"x"===this.oV?u.boundaries.min.x>i:u.boundaries.min.y>i:"x"===this.oV?u.boundaries.max.x<i:u.boundaries.max.y<i)&&h&&u.existingCoordinatesCount>2))break;s+=1}return s},i.prototype.BV=function(t,i,n,r,e,o){if(void 0===i||0===i)return 0;for(var s=0,a=0,u=t.length-1;u>=0;u-=1){var h=t[u];if(a>i)if(this.oV){if(this.sV?"x"===this.oV?h.boundaries.min.x>r:h.boundaries.min.y>o:"x"===this.oV?h.boundaries.max.x<n:h.boundaries.max.y<e){s=1+u;break}}else h.boundaries.max.x<n||h.boundaries.min.x>r||h.boundaries.max.y<e||h.boundaries.min.y>o?s+=1:s=0;a+=h.existingDataPointsCount}return s},i.prototype.LV=function(t,i){var n=t.reduce((function(t,i){return Jn(t,i.boundaries)}),Bn);if(i&&"progressiveDataCleaningThreshold"in i&&i.progressiveDataCleaningThreshold){var r=i.progressiveDataCleaningThreshold;"x"!==this.oV||this.sV?"x"===this.oV&&this.sV?n.max.x=Math.min(n.max.x,r):"y"!==this.oV||this.sV?"y"===this.oV&&this.sV&&(n.max.y=Math.min(n.max.y,r)):n.min.y=Math.max(n.min.y,r):n.min.x=Math.max(n.min.x,r)}return n},i}(uS),mS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gS=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,e,o)||this;a.CD=new kx,a._S=[],a.EV=new dS(a.ai,a),a.PV=new lS(a.ai,a,(function(){return a.Ai.Fn()})),a.zV=new AS(a._S,(function(t){t.coordsBuffer&&a.qB.PE(t.coordsBuffer),t.VN&&a.qB.PE(t.VN)}),!0),a.NV=new pS(a.ai,a),a.VV=0,a.RV=0,a.GV=!1,a.Bz=ao({lineStyleSolid:function(){return Ye(a.vc)&&a.vc},lineStyleDashed:function(){return Qe(a.vc)&&a.vc},strokeFillSolid:function(){var t=a.vc.getFillStyle();return Yr(t)&&t},strokeFillLinearGradient:function(){var t=a.vc.getFillStyle();return Y(t)&&t},strokeFillRadialGradient:function(){var t=a.vc.getFillStyle();return G(t)&&t},strokeFillPaletted:function(){var t=a.vc.getFillStyle();return Zr(t)&&t}}),a.Tz=n,a.xu=s,a.NN={type:"none"},a.qB=i.kz(),a.Cz=i,a.PN=a.qB.wP;var u,h,f,c=a.ai.Pt(),l=!0===(null==s?void 0:s.individualLookupValuesEnabled),v=0;c||(u=v,v+=2),c&&(h=v,v+=4),l&&(f=v,v+=1);var d=function(t,i){return i?function(i,n){return function(t,i){if(!i){for(var n=t.length,r=new Float32Array(3*n),e=0,o=0;e<n;e+=1){var s=t[e];r[o+0]=s.x,r[o+1]=s.y,r[o+2]=void 0!==s.value?s.value:0,o+=3}return r}var a=t.length,u=new Float32Array(5*a),h=0;for(e=0;e<a;e+=1){s=t[e];var f=Math.fround(s.x),c=Math.fround(s.y);u[h+0]=f,u[h+1]=c,u[h+2]=s.x-f,u[h+3]=s.y-c,u[h+4]=void 0!==s.value?s.value:0,h+=5}return u}(i,t)}:function(i,n){return Ni(i,t,Float32Array)}}(c,l);return a.UV={individualLookupValuesEnabled:l,attributesPerVertex:v,attributeOffsetCoordinateLowPrecision:u,attributeOffsetCoordinateHighPrecision:h,attributeOffsetLookUpValue:f,prepareRenderData:function(t,i){return d(t,a.vc.getFillStyle())}},a}return mS(i,t),i.prototype.YV=function(t,i,n){for(var r=new Float32Array(2*i),e=0,o=n||t[0],s=0;s<i;s+=1){var a=t[s];this.VV+=Math.abs(o.x-a.x),this.RV+=Math.abs(o.y-a.y),r[e]=this.VV,r[e+1]=this.RV,e+=2,o=a}return r},i.prototype.Io=function(){var t=this,i=this.nf,n=this.vc,r=this.rh(),e=this.$h,o=e.length,s=o>0,a=this.hi.T(),u=this.hi.o,h=this.Bz.lineStyleSolid(r),f=this.Bz.lineStyleDashed(r),c=h||f,l=c&&c.getThickness(),v=this.Bz.strokeFillSolid(r),d=this.Bz.strokeFillLinearGradient(r),y=this.Bz.strokeFillRadialGradient(r),A=this.Bz.strokeFillPaletted(r),b=v||d||y||A,p=this.UV.individualLookupValuesEnabled;if(f&&this.ai instanceof rt)return ci.console.error("LightningChart JS DashedLine is not supported on logarithmic axis"),this;s&&(this.Sc=$i(this.Sc,e,{canReturnB:!0}),this.qh+=o);var m=this.wc.o,g=this.NV.IV(this._S,this.wc.T());if(g>0){for(var x=0,S=0;S<g;S+=1){var w=this._S[0];x+=w.existingDataPointsCount,w.existingDataPointsCount=0,w.existingCoordinatesCount=0,w.jointPointsCount=0,w.boundaries=Bn,w.lastDataPoint=void 0,this.zV._V(w)}this.Sc=this.Sc.slice(x),this.qh=this.Sc.length,m=!0}var M=e,C=!1;(this.PV.lV(this.Sc)||i)&&(C=!0),f&&!this.GV?(C=!0,this.GV=!0,this.zV.FV()):!f&&this.GV&&(this._S.forEach((function(i){i.VN&&(t.qB.PE(i.VN),i.VN=void 0)})),this.GV=!1),C&&(this.PV.yV(),this._S.forEach((function(t){t.existingDataPointsCount=0,t.existingCoordinatesCount=0,t.jointPointsCount=0,t.boundaries=Bn,t.lastDataPoint=void 0})),this.zV.OV(),M=this.Sc,this.VV=0,this.RV=0);var T=this.PV.bV(M),k=T.length;if(k>0){var _=this.PV.pV(this.Sc)||(this.wi("ApplicationType",(function(t){return"InternalUI"===t.type}))?this.qh:1e5);k/_>10&&(_=k/10),this.zV.CV(T,_,(function(i,n,r,e){var o=t.EV.calculateUserDataPointsBoundaries(n),s=t.PV.mV(o,r,t.Sc)-e;return t.WV=n[r-1],{allocatedCoordinatesCount:i,existingDataPointsCount:s,existingCoordinatesCount:r,jointPointsCount:e,boundaries:o,coordsBuffer:t.qB.nP(i*t.UV.attributesPerVertex,t.UV.prepareRenderData(n,r)),lastDataPoint:n[r-1],VN:t.GV?t.qB.nP(2*i,t.YV(n,r,t.WV)):void 0}}),(function(i,n,r,e){var o=Jn(i.boundaries,t.EV.calculateUserDataPointsBoundaries(n)),s=t.PV.mV(o,i.existingCoordinatesCount+r,t.Sc)-(i.jointPointsCount+e);t.qB.rP(i.coordsBuffer,i.existingCoordinatesCount*t.UV.attributesPerVertex,t.UV.prepareRenderData(n,r)),t.GV&&i.VN&&t.qB.rP(i.VN,2*i.existingCoordinatesCount,t.YV(n,r,t.WV)),t.WV=n[r-1],i.jointPointsCount+=e,i.lastDataPoint=n[r-1],i.existingDataPointsCount=s,i.existingCoordinatesCount+=r,i.boundaries=o}))}if(m&&(this.Kh=this.NV.LV(this._S,this.wc.T())),this.CD.BE(this.ai),y?this.Jz=lx(this.di||this.Kh,this.ai,y.getPosition(),y.getExtent(),y.getShape(),this.qB.hE()):d?this.Kz=vx(this.di||this.Kh,this.ai,d.getAngle(!0),this.qB.hE()):(this.Jz=void 0,this.Kz=void 0),r||u){if(A&&"value"===A.getLookUpProperty()&&!p){var O='LCJS misusage error: Series individualLookupValuesEnabled flag must be set if using PalettedFill with lookUpProperty="value" !';throw ci.alert(O),new Error(O)}if(b&&c&&!1!==l){var F=-1===l?"primitive":"triangulated",I=d?["gradient",d]:y?["gradient",y]:A?["lookup",A.getLookUpProperty(),A.lut]:"uniform";this.NN="primitive"===F?{type:F,shader:this.qB.CL(kg["2D"],kg.Color({dataType:I}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0}),f&&kg.StippleTexture),mousePickingShader:a?this.qB.CL(kg["2D"],kg.MousePicking({useVertexId:!0}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0}),f&&kg.StippleTexture):void 0,lineStyleSolid:h,lineStyleDashed:f,fillStyleSolid:v,fillStyleLinearGradient:d,fillStyleRadialGradient:y,fillStylePaletted:A}:"triangulated"===F?{type:F,shader:this.qB.CL(kg["2D"],kg.Color({dataType:I}),kg.LineInstanced2D({axisWorldTranslation:oo(this.ai),normalSource:void 0}),this.PN?kg.AliasedEdge:void 0,f&&kg.StippleTextureInstanced),mousePickingShader:a?this.qB.CL(kg["2D"],kg.MousePicking(),kg.LineInstanced2D({axisWorldTranslation:oo(this.ai),normalSource:void 0}),f&&kg.StippleTextureInstanced):void 0,geometry:$x(this.qB,l),thickness:l,lineStyleSolid:h,lineStyleDashed:f,fillStyleSolid:v,fillStyleLinearGradient:d,fillStyleRadialGradient:y,fillStylePaletted:A}:{type:"none"}}else this.NN={type:"none"}}return this.RN=f?this.qB.JP(f.getPattern()):void 0,this.bc(n),this.nf=!1,this.$h=[],this.hi.o=!1,this},i.prototype.Ic=function(t,i){var n=this,r=this.qB.gl,e=this.NN;if(!e||"none"===e.type)return{};var o=1===t?e.mousePickingShader:e.shader;if(!o)return{};var s=e.lineStyleDashed,a=e.fillStyleSolid,u=e.fillStyleLinearGradient,h=e.fillStyleRadialGradient,f=e.fillStylePaletted;return this.qB.el(o).CE(o,(function(o,c,l,v){var d=!1;if(n.qB.OE(o("uIsHighlighted"),1===t||2===t?0:n.yi).WF(o("uHighlightColorOffset"),1===t||2===t?j:n.gi).OE(o("uRenderEffectMask"),2===t?1:0),n.ai instanceof nt||n.ai instanceof eo?n.qB.kE(o("uScale"),n.CD.FE()).kE(o("uDisp"),n.CD.IE()).kE(v("uScaleStart_highpart"),n.CD.ez()).kE(v("uScaleStart_lowpart"),n.CD.oz()):n.ai instanceof rt&&n.qB.kE(v("uScaleStart"),n.CD.MixedScaleXY.uScaleStart).kE(v("uScaleStartLog"),n.CD.MixedScaleXY.uScaleStartLog).kE(v("uScaleInterval"),n.CD.MixedScaleXY.uScaleInterval).kE(v("uScaleIntervalLog"),n.CD.MixedScaleXY.uScaleIntervalLog).kE(o("uViewportStart"),n.CD.MixedScaleXY.uViewportStart).kE(o("uViewportSize"),n.CD.MixedScaleXY.uViewportSize),1===t);else if(a)n.qB.WF(o("uColor"),a.getColor());else if(h){if(!n.Jz)return!1;n.qB.EP(l,n.Jz,h)}else if(u){if(!n.Kz)return!1;n.qB.PP(l,n.Kz,u)}else if(f){var y=uo(f,n,void 0);if(!y&&f.lut.percentageValues)return!1;n.qB.tz(l,f.lut,y)}var A=Cn(i);return n.EV.renderVisibleOnly(n._S,(function(i){var a=i.coordsBuffer;if(a){if(1===t){var u=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(A.tn(i.existingDataPointsCount),2),h=u[0],y=u[1];n.qB.$E(o("uFirstId"),h),"triangulated"===e.type?n.qB.HP(l,y):n.qB.WP(l,y)}r.bindBuffer(r.ARRAY_BUFFER,a);var b="triangulated"===e.type?tS.FN:iS.FN;if(n.ai.Pt()||void 0===n.UV.attributeOffsetCoordinateLowPrecision?n.ai.Pt()&&void 0!==n.UV.attributeOffsetCoordinateHighPrecision&&b(!0,n.qB,a,l,n.UV.attributesPerVertex,n.UV.attributeOffsetCoordinateHighPrecision):b(!1,n.qB,a,l,n.UV.attributesPerVertex,n.UV.attributeOffsetCoordinateLowPrecision),s){if(!i.VN||!n.RN)return;"triangulated"===e.type?tS.IN(n.qB,l,i.VN,c("aLengthSoFarA"),c("aLengthSoFarB"),2,2,0):iS.IN(n.qB,l,i.VN,c("aLengthSoFar"),2,0),n.qB.kE(o("uStippleCount"),[n.Ai.Mt().x/n.RN.$P,n.Ai.Mt().y/n.RN.$P]).OE(v("uStippleTextureWidthLimiter"),n.RN.qP/n.RN.$P).OE(o("uStippleScale"),s.getPatternScale())._E(o("uStippleTexture"),n.RN.KP,1)}if(f&&"value"===f.lookUpProperty&&void 0!==n.UV.attributeOffsetLookUpValue&&1!==t)if("triangulated"===e.type){var p=c("aLookupValueA");r.vertexAttribPointer(p,1,r.FLOAT,!1,n.UV.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,n.UV.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),n.qB.hP(p,1),r.enableVertexAttribArray(p);var m=c("aLookupValueB");r.vertexAttribPointer(m,1,r.FLOAT,!1,n.UV.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,(n.UV.attributeOffsetLookUpValue+n.UV.attributesPerVertex)*Float32Array.BYTES_PER_ELEMENT),n.qB.hP(m,1),r.enableVertexAttribArray(m)}else{var g=c("aLookupValue");r.vertexAttribPointer(g,1,r.FLOAT,!1,n.UV.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,n.UV.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),r.enableVertexAttribArray(g)}if("triangulated"===e.type){var x=e.thickness;tS.Ic(n.Cz,e.geometry,l,n.PN&&1!==t,1===t,x,i.existingCoordinatesCount-1)}else iS.LN(n.Cz,i.existingCoordinatesCount);d=!0}}),void 0===n.un),r.bindBuffer(r.ARRAY_BUFFER,null),d})),{idCount:this.qh}},i.prototype.Bc=function(t,i,n,r,e){return{}},i.prototype.lf=function(t,i){return Array.isArray(t)||(t=[t]),this.$h=$i(this.$h,t,{canReturnB:!0}),this.Kh=Jn(this.Kh,i||i||this.EV.calculateUserDataPointsBoundaries(t)),this},i.prototype.zi=function(){return t.prototype.zi.call(this),this.VV=0,this.RV=0,this.WV=void 0,this},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.zV.FV(),this.PV.gV(),this.NN={type:"none"},this.RN=void 0,this},i.prototype.jc=function(){return this},i.prototype.gx=function(t){this.df()>0&&this.Io();var i=this.sf(),n=Ot(i,t,this.Si(),this.Bf,this.Df,this.ai,this.engine.ai,this.Kh,this.EV.oV,this.EV.sV);return void 0!==n?i[n]:void 0},i.prototype.zS=function(t){this.df()>0&&this.Io();var i=this.sf(),n=i.length;if(0!==n){var r=this.Bf?1:0,e=n-(this.Df?2:1),o=this.Si();if(o===V.Nearest){for(var s=In,a=void 0,u=void 0,h=0;h<n;h+=1){var f=at(i[h],this.ai,this.Ai.ai);if(void 0!==u){var c=Rn(u,f,t),l=Math.pow(c.x-t.x,2)+Math.pow(c.y-t.y,2);l<s&&(s=l,a=c)}u=f}return void 0!==a?at(a,this.Ai.ai,this.ai):void 0}if("x"===this.EV.oV&&o===V.NearestX||"y"===this.EV.oV&&o===V.NearestY){var v=Dt(i,at(t,this.Ai.ai,this.ai),this.EV.oV,this.EV.sV,r,e);return v?Xn(i[v.a],i[v.b],v.lerpAmount):void 0}return this.gx(t)}},i.prototype.Xi=function(){return this.Kh.max.x},i.prototype.Wi=function(){return this.Kh.min.x},i.prototype.Zi=function(){return this.Kh.max.y},i.prototype.Hi=function(){return this.Kh.min.y},i.prototype.Cf=function(){return An(this.vc)},i.prototype.Tf=function(){return An(this.vc)},i}(Ia),xS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),SS=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},wS=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},MS=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},CS=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.NN={fill:void 0,border:void 0},s.CD=new kx,s.Kh=Bn,s.XV=!1,s.HV=!1,s.ZV=!1,s.QV=!1,s.JV=!1,s.ql=[],s.Bz=ao({polygonStyleSolid:function(){return Yr(s.Qr)&&s.Qr},polygonStyleImage:function(){return Jt(s.Qr)&&s.Qr},polygonStyleRadialGradient:function(){return G(s.Qr)&&s.Qr},polygonStyleLinearGradient:function(){return Y(s.Qr)&&s.Qr},polygonStylePaletted:function(){return Zr(s.Qr)&&s.Qr},polygonStyleIndividual:function(){return Xr(s.Qr)&&s.Qr},lineStyleSolid:function(){return Ye(s.Jr)&&s.Jr},lineStyleDashed:function(){return Qe(s.Jr)&&s.Jr},lineStyleFilled:function(){var t=s.Jr&&s.Jr.getFillStyle();return Yr(t)&&t}}),s.Cz=i,s.Tz=n,s.qB=i.kz(),s.PN=s.qB.wP,s}return xS(i,t),i.prototype.za=function(){var t=this,i={Tn:function(n){return t.QN(i,n)},Oi:function(n){return t.JN(i,n)},wf:function(n){return t.KV(i,n)},Ig:function(n){return t.qV(i,n)},WF:function(n){return t.qN(i,n)},Xh:[],S:void 0,$V:void 0,yi:0,qd:!0,tR:this.ql.length};return this.ql.push(i),i},i.prototype.zi=function(){return this.ql.length=0,this.XV=!0,this.Ai.Ti(this),this},i.prototype.GA=function(){return this.ql},i.prototype.tv=function(t){var i=this.ql.indexOf(t);i>=0&&(this.ql.splice(i,1),this.JV=!0,this.Ai.Ti(this,t))},i.prototype.QN=function(t,i){return t.qd=i,this.JV=!0,t.qd||this.Ai.Ti(this,t),t},i.prototype.JN=function(t,i){return t.yi=i,this.QV=!0,t},i.prototype.KV=function(t,i){return t.Xh=i,this.XV=!0,t},i.prototype.qV=function(t,i){return t.S=i,this.HV=!0,t},i.prototype.qN=function(t,i){return t.$V=null==i?void 0:i.toUint32(),this.ZV=!0,t},i.prototype.Io=function(){var t=this,i=this.hi.T(),r=this.hi.o,e=this.Ku(),o=this.QV,s=this.XV,a=this.HV,u=this.ZV,h=this.JV,f=this.Jr,c=this.rh(),l=this.ql.filter((function(t){return t.qd&&t.Xh.length>0}));if(this.CD.BE(this.ai),(s||h)&&(this.Kh=Jn.apply(void 0,wS([],SS(l.map((function(t){return Zn(t.Xh)}))),!1))),s||h){var v=l.map((function(t){return wS(wS([],SS(t.Xh),!1),[t.Xh[0],{x:Number.NaN,y:Number.NaN}],!1)})).flat(),d=Ni(v,!1,Float64Array),y=this.ai.Pt()?Ni(v,!0):d;this.zN=this.qB.wE(y,!1,this.zN);var A=[];l.reduce((function(t,i){for(var r=t,e=2*(i.Xh.length+1),o=new Float64Array(d.buffer,r,e),s=n(o,void 0,2),a=t/(2*Float64Array.BYTES_PER_ELEMENT),u=0;u<s.length;u+=1)s[u]+=a;return A=$i(A,s,{canReturnB:!0}),r+(e+2)*Float64Array.BYTES_PER_ELEMENT}),0);var b=new Uint32Array(A);this.iR=this.qB.sP(b,this.iR),this.nR=b.length,this.rR=d.length/2-1}var p=this.Bz.polygonStyleSolid(e),m=this.Bz.polygonStylePaletted(e),g=this.Bz.polygonStyleIndividual(e),x=this.Bz.polygonStyleRadialGradient(e),S=this.Bz.polygonStyleLinearGradient(e),w=this.Bz.polygonStyleImage(e),M=p||m||S||x||w||g,C=this.Bz.lineStyleSolid(c),T=this.Bz.lineStyleDashed(e),k=C||T,_=this.Bz.lineStyleFilled(c),O=_,F=k&&Math.max(k.getThickness(),0);if((e||c||r)&&(this.NN.fill=M?{shader:this.qB.CL(kg["2D"],p&&kg.Color({dataType:"uniform"}),S&&kg.Color({dataType:["gradient",S]}),x&&kg.Color({dataType:["gradient",x]}),m&&kg.Color({dataType:["lookup",m.getLookUpProperty(),m.lut]}),g&&kg.Color({dataType:"attribute"}),w&&kg.Color({dataType:["image",w]}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0}),kg.AttributeHighlight),mousePicking:i?{shader:this.qB.CL(kg["2D"],kg.MousePicking({useAttribute:!0}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0}),kg.AttributeHighlight)}:void 0,fillStyleSolid:p,fillStyleLinearGradient:S,fillStyleRadialGradient:x,fillStylePaletted:m,fillStyleImage:w,fillStyleIndividual:g}:void 0,this.NN.border=k&&O&&"number"==typeof F&&0!==F?{shader:this.qB.CL(kg["2D"],kg.Color({dataType:"uniform"}),kg.LineInstanced2D({axisWorldTranslation:oo(this.ai),normalSource:void 0}),this.PN?kg.AliasedEdge:void 0,T&&kg.StippleTextureInstanced,kg.AttributeHighlight),geometry:$x(this.qB,F),mousePicking:i?{shader:this.qB.CL(kg["2D"],kg.MousePicking({useAttribute:!0}),kg.LineInstanced2D({axisWorldTranslation:oo(this.ai),normalSource:void 0}),T&&kg.StippleTextureInstanced,kg.AttributeHighlight)}:void 0,fillStyleSolid:_,lineStyleDashed:T,thickness:F}:void 0),o||s){var j=l.reduce((function(t,i){return t+i.Xh.length+2}),0),B=new Float32Array(j),D=0;l.forEach((function(t){for(var i=t.Xh.length+2,n=D;n<D+i;n+=1)B[n]=t.yi;D+=i})),this.eR=this.qB.wE(B,!0,this.eR)}if(i){if(s){j=l.reduce((function(t,i){return t+i.Xh.length+2}),0);var L=new Float32Array(j),E=0;l.forEach((function(t){for(var i=t.Xh.length+2,n=E;n<E+i;n+=1)L[n]=t.tR;E+=i})),this.oR=this.qB.wE(L,!1,this.oR)}}else this.oR&&(this.qB.PE(this.oR),this.oR=void 0);if(a||s&&m&&"value"===m.getLookUpProperty()){j=l.reduce((function(t,i){return t+i.Xh.length+2}),0);var P=new Float32Array(j),z=0,N={min:In,max:jn};l.forEach((function(t){for(var i=void 0!==t.S?t.S:ti,n=t.Xh.length+2,r=z;r<z+n;r+=1)P[r]=i;z+=n,void 0!==t.S&&(N.min=Math.min(N.min,i),N.max=Math.max(N.max,i))})),this.sR=N,this.aR=this.qB.wE(P,!1,this.aR)}if(u||s&&g){j=l.reduce((function(t,i){return t+i.Xh.length+2}),0);var V=new Uint32Array(j),R=0,G=g?g.getFallbackColor().toUint32():I.toUint32();l.forEach((function(t){for(var i=void 0!==t.$V?t.$V:G,n=t.Xh.length+2,r=R;r<R+n;r+=1)V[r]=i;R+=n})),this.uR=this.qB.wE(V,!1,this.uR,Uint32Array)}if(x?this.Vz=lx(this.di||this.Kh,this.ai,x.getPosition(),x.getExtent(),x.getShape(),this.qB.hE()):S?this.Rz=vx(this.di||this.Kh,this.ai,S.getAngle(!0),this.qB.hE()):(this.Vz=void 0,this.Rz=void 0),T){if(s){var U=l.reduce((function(t,i){return t+i.Xh.length}),2*l.length),Y=new Float32Array(2*U),W=0;l.forEach((function(t){var i,n,r=t.Xh[0],e=0,o=0;try{for(var s=MS(t.Xh),a=s.next();!a.done;a=s.next()){var u=a.value;e+=Math.abs(u.x-r.x),o+=Math.abs(u.y-r.y),Y[W]=e,Y[W+1]=o,W+=2,r=u}}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}Y[W+0]=e+Math.abs(t.Xh[0].x-r.x),Y[W+1]=o+Math.abs(t.Xh[0].y-r.y),Y[W+2]=Number.NaN,Y[W+3]=Number.NaN,W+=4})),this.VN=this.qB.wE(Y,!1,this.VN)}this.RN=this.qB.JP(T.getPattern())}else this.VN&&(this.qB.PE(this.VN),this.VN=void 0),this.RN=void 0;return this.hR=this.qB.iz(this,this.hR,w,void 0,s||h||this.ai.ni(),(function(i,n,r){return t.fR(i,n,r,l)})),this.QV=!1,this.JV=!1,this.XV=!1,this.HV=!1,this.ZV=!1,this.hi.o=!1,this.ih(this.Qr),this.ah(f),this},i.prototype.Mi=function(){return this.sR},i.prototype.Ic=function(t,i){var n,r,e=this,o=this.NN,s=o.fill,a=o.border,u=this.zN,h=this.eR,f=this.oR;if(!u||!h)return{};if(s){var c=s.fillStyleSolid,l=s.fillStyleLinearGradient,v=s.fillStyleRadialGradient,d=s.fillStylePaletted,y=s.fillStyleImage,A=s.fillStyleIndividual,b=this.iR,p=this.nR;(m=1===t?null===(n=s.mousePicking)||void 0===n?void 0:n.shader:s.shader)&&u&&b&&void 0!==p&&this.qB.el(m).CE(m,(function(n,r,o,s){if(e.ai instanceof nt||e.ai instanceof eo?e.qB.kE(n("uScale"),e.CD.FE()).kE(n("uDisp"),e.CD.IE()).kE(s("uScaleStart_highpart"),e.CD.ez()).kE(s("uScaleStart_lowpart"),e.CD.oz()):e.ai instanceof rt&&e.qB.kE(s("uScaleStart"),e.CD.MixedScaleXY.uScaleStart).kE(s("uScaleStartLog"),e.CD.MixedScaleXY.uScaleStartLog).kE(s("uScaleInterval"),e.CD.MixedScaleXY.uScaleInterval).kE(s("uScaleIntervalLog"),e.CD.MixedScaleXY.uScaleIntervalLog).kE(n("uViewportStart"),e.CD.MixedScaleXY.uViewportStart).kE(n("uViewportSize"),e.CD.MixedScaleXY.uViewportSize),e.qB.VP(o,u,e.ai.Pt(),void 0).vP(b).lP(r("aIsHighlighted"),h).WF(n("uHighlightColorOffset"),1===t||2===t?j:e.gi).OE(n("uRenderEffectMask"),2===t?1:0),1===t){if(e.qB.$E(n("uFirstId"),i),!f)return!1;e.qB.lP(r("aPickingIdOffset"),f)}else if(c)e.qB.WF(n("uColor"),c.getColor());else if(v){if(!e.Vz)return!1;e.qB.EP(o,e.Vz,v)}else if(l){if(!e.Rz)return!1;e.qB.PP(o,e.Rz,l)}else if(d){var a=uo(d,e,e.sR);if(!a&&d.lut.percentageValues)return!1;if(e.qB.tz(o,d.lut,a),"value"===d.getLookUpProperty()){if(!e.aR)return!1;e.qB.lP(r("aLookupValue"),e.aR)}}else if(y){if(!e.hR)return!1;e.qB.WF(s("uColor"),y.getSurroundingColor())._E(n(Vm),e.hR.texture.sE()||e.hR.sourceMissingTexture,0).TE(e.hR.texCoordsBuffer,void 0,{location:r("aTextureCoord"),size:2}).tP(y.fitMode)}else if(A){if(!e.uR)return!1;var m=r("aColor");e.qB.gl.bindBuffer(e.qB.gl.ARRAY_BUFFER,e.uR),e.qB.gl.vertexAttribPointer(m,4,e.qB.gl.UNSIGNED_BYTE,!0,0,0),e.qB.gl.enableVertexAttribArray(m)}return e.qB.yP(p,void 0,void 0,e.qB.gl.UNSIGNED_INT),!0}))}if(a){var m,g=a.geometry,x=a.fillStyleSolid,S=a.thickness,w=a.lineStyleDashed,M=this.rR;(m=1===t?null===(r=a.mousePicking)||void 0===r?void 0:r.shader:a.shader)&&u&&M&&this.qB.el(m).CE(m,(function(n,r,o,s){if(e.ai instanceof nt||e.ai instanceof eo?e.qB.kE(n("uScale"),e.CD.FE()).kE(n("uDisp"),e.CD.IE()).kE(s("uScaleStart_highpart"),e.CD.ez()).kE(s("uScaleStart_lowpart"),e.CD.oz()):e.ai instanceof rt&&e.qB.kE(s("uScaleStart"),e.CD.MixedScaleXY.uScaleStart).kE(s("uScaleStartLog"),e.CD.MixedScaleXY.uScaleStartLog).kE(s("uScaleInterval"),e.CD.MixedScaleXY.uScaleInterval).kE(s("uScaleIntervalLog"),e.CD.MixedScaleXY.uScaleIntervalLog).kE(n("uViewportStart"),e.CD.MixedScaleXY.uViewportStart).kE(n("uViewportSize"),e.CD.MixedScaleXY.uViewportSize),e.qB.TE(h,1,{location:r("aIsHighlighted"),size:1}).WF(n("uHighlightColorOffset"),1===t||2===t?j:e.gi).OE(n("uRenderEffectMask"),2===t?1:0),1===t){if(e.qB.$E(n("uFirstId"),i),!f)return!1;e.qB.lP(r("aPickingIdOffset"),f,1)}else x&&e.qB.WF(n("uColor"),x.getColor());if(w){if(!e.RN||!e.VN)return!1;tS.IN(e.qB,o,e.VN,r("aLengthSoFarA"),r("aLengthSoFarB"),2,2,0),e.qB.kE(n("uStippleCount"),[e.Ai.Mt().x/e.RN.$P,e.Ai.Mt().y/e.RN.$P]).OE(s("uStippleTextureWidthLimiter"),e.RN.qP/e.RN.$P).OE(n("uStippleScale"),w.getPatternScale())._E(n("uStippleTexture"),e.RN.KP,1)}return tS.FN(e.ai.Pt(),e.qB,u,o,e.ai.Pt()?4:2,0),tS.Ic(e.Cz,g,o,e.PN&&1!==t,1===t,S,M),!0}))}return{idCount:this.ql.length}},i.prototype.fR=function(t,i,n,r){var e,o,s,a,u=at({x:this.Kh.min.x,y:this.Kh.min.y},this.ai,this.Ai.ai),h=at({x:this.Kh.max.x,y:this.Kh.max.y},this.ai,this.Ai.ai),f={x:Math.abs(u.x-h.x),y:Math.abs(u.y-h.y)},c=bx(t,i,f.x,f.y,n),l=c[1],v=c[4],d=c[6],y=c[7],A=r.reduce((function(t,i){return t+i.Xh.length+2}),0),b=new Float32Array(2*A),p=this.Kh.max.x-this.Kh.min.x,m=this.Kh.max.y-this.Kh.min.y,g=v-d,x=y-l,S=0;try{for(var w=MS(r),M=w.next();!M.done;M=w.next()){var C=M.value;try{for(var T=(s=void 0,MS(C.Xh)),k=T.next();!k.done;k=T.next()){var _=k.value,O=(_.x-this.Kh.min.x)/p,F=(_.y-this.Kh.min.y)/m,I=d+g*O,j=l+x*F;b[S]=I,b[S+1]=j,S+=2}}catch(t){s={error:t}}finally{try{k&&!k.done&&(a=T.return)&&a.call(T)}finally{if(s)throw s.error}}var B=(C.Xh[0].x-this.Kh.min.x)/p,D=(C.Xh[0].y-this.Kh.min.y)/m,L=d+g*B,E=l+x*D;b[S]=L,b[S+1]=E,b[S+=2]=Number.NaN,b[S+1]=Number.NaN,S+=2}}catch(t){e={error:t}}finally{try{M&&!M.done&&(o=w.return)&&o.call(w)}finally{if(e)throw e.error}}return b},i.prototype.Bc=function(t,i,n,r,e){return{collectionMember:this.ql.find((function(n){return i+n.tR===t}))}},i.prototype.jc=function(){return this.iR&&(this.qB.PE(this.iR),this.iR=void 0),this.zN&&(this.qB.PE(this.zN),this.zN=void 0),this.eR&&(this.qB.PE(this.eR),this.eR=void 0),this.oR&&(this.qB.PE(this.oR),this.oR=void 0),this.aR&&(this.qB.PE(this.aR),this.aR=void 0),this.uR&&(this.qB.PE(this.uR),this.uR=void 0),this.VN&&(this.qB.PE(this.VN),this.VN=void 0),this.NN={fill:void 0,border:void 0},this.hR=this.qB.nz(this,this.hR),this},i.prototype.Xi=function(){return this.Kh.max.x},i.prototype.Wi=function(){return this.Kh.min.x},i.prototype.Zi=function(){return this.Kh.max.y},i.prototype.Hi=function(){return this.Kh.min.y},i.prototype.Cf=function(){return An(this.Jr)},i.prototype.Tf=function(){return An(this.Jr)},i}(ya);var TS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kS=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},_S=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.CD=new kx,s.cR=Bn,s.Bz=ao({fillStyleSolid:function(){return Yr(s.Qr)&&s.Qr},fillStyleRadialGradient:function(){return G(s.Qr)&&s.Qr},fillStyleLinearGradient:function(){return Y(s.Qr)&&s.Qr},fillStyleImage:function(){return Jt(s.Qr)&&s.Qr},strokeStyleSolid:function(){return Ye(s.Jr)&&s.Jr},strokeFillSolid:function(){var t=s.Jr.getFillStyle();return Yr(t)&&t},strokeFillLinearGradient:function(){var t=s.Jr.getFillStyle();return Y(t)&&t},strokeFillRadialGradient:function(){var t=s.Jr.getFillStyle();return G(t)&&t}}),s.fR=function(t,i,n){var r=at(s.Bh(),s.ai,s.Ai.ai),e=sr(at(or(s.Bh(),s.Mt()),s.ai,s.Ai.ai),r);return bx(t,i,e.x,e.y,n)},s.Cz=i,s.Tz=n,s.qB=i.kz(),s.Tz=n,s}return TS(i,t),i.prototype.Io=function(){var i,n;t.prototype.Io.call(this);var r=this.hi.T(),e=this.Ku(),o=this.Cs.o||this.U.o||this.ph.o||this.gh.o,s=this.Jr,a=this.rh(),u=s.getThickness(),f=this.ph.T();this.CD.BE(this.ai);var c=this.ai.ni();if(o){var l=this.U.T();this.Xh=function(t,i,n,r,e){var o=function(t,i,n){return[t,h(t.x+i,t.y),h(t.x+i,t.y+n),h(t.x,t.y+n)]}(t,i,n);if(0!==r||r%360!=0){var s=r*Math.PI/180;o[0]=$n(o[0],e,s),o[1]=$n(o[1],e,s),o[2]=$n(o[2],e,s),o[3]=$n(o[3],e,s)}return o}(this.Cs.T(),l.x,l.y,f,this.gh.T());var v=Ni(this.Xh,this.ai.Pt());this.Ez=this.qB.wE(v,!1,this.Ez),this.zz=this.Xh.length,this.cR=Zn(this.Xh)}var d=this.Bz.fillStyleSolid(e),y=this.Bz.fillStyleRadialGradient(e),A=this.Bz.fillStyleLinearGradient(e),b=this.Bz.fillStyleImage(e),p=d||y||A||b;e&&(this.Gz=p?this.qB.CL(kg["2D"],d&&kg.Color({dataType:"uniform"}),A&&kg.Color({dataType:["gradient",A]}),y&&kg.Color({dataType:["gradient",y]}),b&&kg.Color({dataType:["image",b]}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0})):void 0),y?this.Vz=lx(this.di||this.cR,this.ai,y.getPosition(),y.getExtent(),y.getShape(),this.qB.hE()):A?this.Rz=vx(this.di||this.cR,this.ai,A.getAngle(!0),this.qB.hE()):(this.Vz=void 0,this.Rz=void 0),this.hR=this.qB.iz(this,this.hR,b,void 0,c||o,this.fR);var m,g,x,S,w,M,C,T,k,_,O,F,I=this.Bz.strokeStyleSolid(a),j=this.Bz.strokeFillSolid(a),B=this.Bz.strokeFillLinearGradient(a),D=this.Bz.strokeFillRadialGradient(a),L=I,E=j||B||D;if(L&&(o||a||c&&1!==u)){if(1===u||-1===u)i=kS([this.Xh,void 0],2),this.Uz=i[0],this.lR=i[1];else{var P=this.ai;n=kS(P instanceof rt?function(t,i,n){var r=t[0],e=t[1],o=t[2],s=t[3],a=i/2;return[[n.si(r,e,a,-a),n.si(e,r,-a,-a),n.si(s,o,-a,-a),n.si(o,s,a,-a),n.si(r,e,-a,a),n.si(e,r,a,a),n.si(s,o,a,a),n.si(o,s,-a,a)],[0,4,5,0,5,1,1,5,7,1,3,7,3,7,6,3,2,6,2,4,0,2,6,4]]}(this.Xh,u,P):(m=this.Xh,g=P.oi(),x=u,S=m[0],w=m[1],M=m[2],C=m[3],T=h(g.x*x*.5,g.y*x*.5),k=ir(tr(w,S)),_=ir(tr(C,S)),O=hr(k),F=hr(_),[[or(S,or(er(O,T.x),er(F,T.y))),or(w,or(er(k,T.x),er(F,T.y))),or(C,or(er(O,T.x),er(_,T.y))),or(M,or(er(k,T.x),er(_,T.y))),or(S,or(er(k,T.x),er(_,T.y))),or(w,or(er(O,T.x),er(_,T.y))),or(C,or(er(k,T.x),er(F,T.y))),or(M,or(er(O,T.x),er(F,T.y)))],[0,4,5,0,5,1,1,5,7,1,3,7,3,7,6,3,2,6,2,4,0,2,6,4]]),2),this.Uz=n[0],this.lR=n[1]}this.Wz=this.qB.wE(Ni(this.Uz,this.ai.Pt()),!1,this.Wz),this.lR?(this.kN=this.qB.sP(new Uint16Array(this.lR),this.kN),this.Yz=this.lR.length):(this.kN&&this.qB.PE(this.kN),this.kN=void 0,this.Yz=this.Uz.length)}return a&&(this.qz=L&&E?this.qB.CL(kg["2D"],kg.Color({dataType:D?["gradient",D]:B?["gradient",B]:"uniform"}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0})):void 0),D?this.Jz=lx(this.cR,this.ai,D.getPosition(),D.getExtent(),D.getShape(),this.qB.hE()):B?this.Kz=vx(this.cR,this.ai,B.getAngle(!0),this.qB.hE()):(this.Jz=void 0,this.Kz=void 0),this.$z=r&&p?this.$z||this.qB.CL(kg["2D"],kg.MousePicking(),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0})):void 0,this.tN=r&&this.Jr!==qt?this.tN||this.qB.CL(kg["2D"],kg.MousePicking(),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0})):void 0,this.ih(this.Qr),this.ah(s),this.Cs.o=!1,this.ph.o=!1,this.U.o=!1,this.gh.o=!1,this},i.prototype.Ic=function(t,i){var n=this,r=1===t?this.$z:this.Gz,e=this.Ez,o=this.zz,s=this.Bz.fillStyleSolid(!1),a=this.Bz.fillStyleRadialGradient(!1),u=this.Bz.fillStyleLinearGradient(!1),h=this.Bz.fillStyleImage(!1);r&&e&&o&&this.Qr!==Vr&&(this.qB.el(r),this.qB.CE(r,(function(r,f,c,l){if(n.ai instanceof nt||n.ai instanceof eo?n.qB.kE(r("uScale"),n.CD.FE()).kE(r("uDisp"),n.CD.IE()).kE(l("uScaleStart_highpart"),n.CD.ez()).kE(l("uScaleStart_lowpart"),n.CD.oz()):n.ai instanceof rt&&n.qB.kE(l("uScaleStart"),n.CD.MixedScaleXY.uScaleStart).kE(l("uScaleStartLog"),n.CD.MixedScaleXY.uScaleStartLog).kE(l("uScaleInterval"),n.CD.MixedScaleXY.uScaleInterval).kE(l("uScaleIntervalLog"),n.CD.MixedScaleXY.uScaleIntervalLog).kE(r("uViewportStart"),n.CD.MixedScaleXY.uViewportStart).kE(r("uViewportSize"),n.CD.MixedScaleXY.uViewportSize),1===t)n.qB.$E(r("uFirstId"),i).HP(c,1);else if(s)n.qB.WF(r("uColor"),s.getColor());else if(a){if(!n.Vz)return!1;n.qB.EP(c,n.Vz,a)}else if(u){if(!n.Rz)return!1;n.qB.PP(c,n.Rz,u)}else if(h){if(!n.hR)return!1;var v=n.hR&&n.hR.texture.sE();n.qB.WF(l("uColor"),h.getSurroundingColor())._E(r(Vm),v||n.hR.sourceMissingTexture,0).TE(n.hR.texCoordsBuffer,void 0,{location:f("aTextureCoord"),size:2}).tP(h.fitMode)}return n.qB.OE(r("uIsHighlighted"),1===t||2===t?0:n.yi).WF(r("uHighlightColorOffset"),1===t||2===t?j:n.gi).OE(r("uRenderEffectMask"),2===t?1:0).VP(c,e,n.ai.Pt(),void 0).RT(n.qB.gl.TRIANGLE_FAN,o),!0})));var f=1===t?this.tN:this.qz,c=this.Bz.strokeStyleSolid(!1),l=this.Bz.strokeFillSolid(!1),v=this.Bz.strokeFillLinearGradient(!1),d=this.Bz.strokeFillRadialGradient(!1),y=this.Wz;return f&&y&&c&&(this.qB.el(f),this.qB.CE(f,(function(r,e,o,s){if(n.ai instanceof nt||n.ai instanceof eo?n.qB.kE(r("uScale"),n.CD.FE()).kE(r("uDisp"),n.CD.IE()).kE(s("uScaleStart_highpart"),n.CD.ez()).kE(s("uScaleStart_lowpart"),n.CD.oz()):n.ai instanceof rt&&n.qB.kE(s("uScaleStart"),n.CD.MixedScaleXY.uScaleStart).kE(s("uScaleStartLog"),n.CD.MixedScaleXY.uScaleStartLog).kE(s("uScaleInterval"),n.CD.MixedScaleXY.uScaleInterval).kE(s("uScaleIntervalLog"),n.CD.MixedScaleXY.uScaleIntervalLog).kE(r("uViewportStart"),n.CD.MixedScaleXY.uViewportStart).kE(r("uViewportSize"),n.CD.MixedScaleXY.uViewportSize),1===t)n.qB.$E(r("uFirstId"),i).HP(o,1);else if(l)n.qB.WF(r("uColor"),l.getColor());else if(d){if(!n.Jz)return!1;n.qB.EP(o,n.Jz,d)}else if(v){if(!n.Kz)return!1;n.qB.PP(o,n.Kz,v)}return n.qB.OE(r("uIsHighlighted"),1===t||2===t?0:n.yi).WF(r("uHighlightColorOffset"),1===t||2===t?j:n.gi).OE(r("uRenderEffectMask"),2===t?1:0).VP(o,y,n.ai.Pt(),void 0),n.kN?n.qB.vP(n.kN).yP(n.Yz):n.qB.RT(n.qB.gl.LINE_LOOP,n.Yz),!0}))),{idCount:1}},i.prototype.Bc=function(t,i,n,r,e){return{}},i.prototype.jc=function(){return this.kN&&(this.qB.PE(this.kN),this.kN=void 0),this.Ez&&(this.qB.PE(this.Ez),this.Ez=void 0),this.Wz&&(this.qB.PE(this.Wz),this.Wz=void 0),this.hR=this.qB.nz(this,this.hR),this.Gz=void 0,this.qz=void 0,this.$z=void 0,this.tN=void 0,this},i.prototype.Xi=function(){return Math.max(this.Cs.T().x,this.Cs.T().x+this.U.T().x)},i.prototype.Wi=function(){return Math.min(this.Cs.T().x,this.Cs.T().x+this.U.T().x)},i.prototype.Zi=function(){return Math.max(this.Cs.T().y,this.Cs.T().y+this.U.T().y)},i.prototype.Hi=function(){return Math.min(this.Cs.T().y,this.Cs.T().y+this.U.T().y)},i.prototype.Cf=function(){return An(this.Jr)},i.prototype.Tf=function(){return An(this.Jr)},i}(ma),OS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),FS=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},IS=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.CD=new kx,s.Bz=ao({fillStyleSolid:function(){return Yr(s.Qr)&&s.Qr},fillStylePaletted:function(){return Zr(s.Qr)&&s.Qr},fillStyleRadialGradient:function(){return G(s.Qr)&&s.Qr},fillStyleLinearGradient:function(){return Y(s.Qr)&&s.Qr},fillStyleImage:function(){return Jt(s.Qr)&&s.Qr},strokeLineStyleSolid:function(){return Ye(s.Jr)&&s.Jr},strokeLineSolidFill:function(){var t=s.Jr.getFillStyle();return Yr(t)&&t},strokeLinearGradientFill:function(){var t=s.Jr.getFillStyle();return Y(t)&&t},strokeRadialGradientFill:function(){var t=s.Jr.getFillStyle();return G(t)&&t}}),s.fR=function(t,i,n){var r,e,o=at({x:s.Kh.min.x,y:s.Kh.min.y},s.ai,s.Ai.ai),a=at({x:s.Kh.max.x,y:s.Kh.max.y},s.ai,s.Ai.ai),u={x:Math.abs(o.x-a.x),y:Math.abs(o.y-a.y)},h=bx(t,i,u.x,u.y,n),f=h[1],c=h[4],l=h[6],v=h[7],d=new Float32Array(2*s.Xh.length),y=s.Kh.max.x-s.Kh.min.x,A=s.Kh.max.y-s.Kh.min.y,b=c-l,p=v-f,m=0;try{for(var g=FS(s.Xh),x=g.next();!x.done;x=g.next()){var S=x.value,w=(S.x-s.Kh.min.x)/y,M=(S.y-s.Kh.min.y)/A,C=l+b*w,T=f+p*M;d[m]=C,d[m+1]=T,m+=2}}catch(t){r={error:t}}finally{try{x&&!x.done&&(e=g.return)&&e.call(g)}finally{if(r)throw r.error}}return d},s.Cz=i,s.Tz=n,s.qB=i.kz(),s.Tz=n,s}return OS(i,t),i.prototype.wl=function(t){var i,n,r,e=Number.MAX_VALUE;try{for(var o=FS(this.Xh),s=o.next();!s.done;s=o.next()){var a=s.value,u=Un(at(a,this.ai,this.Ai.ai),t);u<e&&(e=u,r=a)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return r},i.prototype.Io=function(){var t=this.hi.T(),i=this.Ku(),r=this.Sf,e=this.Xh.length>=3,o=this.Jr,s=this.rh(),a=o.getThickness(),u=this.oh(a);this.CD.BE(this.ai),this.rr=this.ai.oi();var h=this.ai.ni();if(r&&(this.Kh=Zn(this.Xh)),r&&e){var f=Ni(this.Xh,this.ai.Pt());this.Ez=this.qB.wE(f,!1,this.Ez),this.vR=new Uint16Array(n(f)),this.dR=this.qB.sP(this.vR,this.dR),this.zz=this.vR.length}var c=this.Bz.fillStyleSolid(i),l=this.Bz.fillStylePaletted(i),v=this.Bz.fillStyleRadialGradient(i),d=this.Bz.fillStyleLinearGradient(i),y=this.Bz.fillStyleImage(i),A=c||l&&"value"!==l.getLookUpProperty()&&l||d||v||y;if(i&&(this.Gz=A?this.qB.CL(kg["2D"],c&&kg.Color({dataType:"uniform"}),d&&kg.Color({dataType:["gradient",d]}),v&&kg.Color({dataType:["gradient",v]}),l&&kg.Color({dataType:["lookup",l.getLookUpProperty(),l.lut]}),y&&kg.Color({dataType:["image",y]}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0})):void 0),v?this.Vz=lx(this.di||this.Kh,this.ai,v.getPosition(),v.getExtent(),v.getShape(),this.qB.hE()):d?this.Rz=vx(this.di||this.Kh,this.ai,d.getAngle(!0),this.qB.hE()):(this.Vz=void 0,this.Rz=void 0),this.hR=this.qB.iz(this,this.hR,y,void 0,h||r,this.fR),(r||u||h&&1!==a)&&e){var b=1===a||-1===a?this.Xh:Ex(this.Xh,this.rr,a);this.Uz=Ni(b,this.ai.Pt()),this.Wz=this.qB.wE(this.Uz,!0,this.Wz),this.Yz=b.length}var p=this.Bz.strokeLineStyleSolid(s),m=this.Bz.strokeLineSolidFill(s),g=this.Bz.strokeLinearGradientFill(s),x=this.Bz.strokeRadialGradientFill(s),S=p,w=m||g||x;return s&&(this.qz=S&&w?this.qB.CL(kg["2D"],kg.Color({dataType:x?["gradient",x]:g?["gradient",g]:"uniform"}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0})):void 0),x?this.Jz=lx(this.di||this.Kh,this.ai,x.getPosition(),x.getExtent(),x.getShape(),this.qB.hE()):g?this.Kz=vx(this.di||this.Kh,this.ai,g.getAngle(!0),this.qB.hE()):(this.Jz=void 0,this.Kz=void 0),this.$z=t&&A?this.$z||this.qB.CL(kg["2D"],kg.MousePicking(),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0})):void 0,this.tN=t&&this.Jr!==qt?this.$z||this.qB.CL(kg["2D"],kg.MousePicking(),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0})):void 0,this.Sf=!1,this.ih(this.Qr),this.ah(o),this},i.prototype.Ic=function(t,i){var n=this,r=1===t?this.$z:this.Gz,e=this.Ez,o=this.zz,s=this.Bz.fillStyleSolid(!1),a=this.Bz.fillStyleRadialGradient(!1),u=this.Bz.fillStyleLinearGradient(!1),h=this.Bz.fillStylePaletted(!1),f=this.Bz.fillStyleImage(!1);r&&e&&o&&this.qB.el(r).CE(r,(function(r,o,c,l){if(n.qB.kE(r("uScale"),n.CD.FE()).kE(r("uDisp"),n.CD.IE()).kE(l("uScaleStart_highpart"),n.CD.ez()).kE(l("uScaleStart_lowpart"),n.CD.oz()).VP(c,e,n.ai.Pt(),void 0).vP(n.dR).OE(r("uIsHighlighted"),1===t||2===t?0:n.yi).WF(r("uHighlightColorOffset"),1===t||2===t?j:n.gi).OE(r("uRenderEffectMask"),2===t?1:0),1===t)n.qB.$E(r("uFirstId"),i).HP(c,1);else if(s)n.qB.WF(r("uColor"),s.getColor());else if(a){if(!n.Vz)return!1;n.qB.EP(c,n.Vz,a)}else if(u){if(!n.Rz)return!1;n.qB.PP(c,n.Rz,u)}else if(h){var v=uo(h,n,void 0);if(!v&&h.lut.percentageValues)return!1;n.qB.tz(c,h.lut,v)}else if(f){if(!n.hR)return!1;n.qB.WF(l("uColor"),f.getSurroundingColor())._E(r(Vm),n.hR.texture.sE()||n.hR.sourceMissingTexture,0).TE(n.hR.texCoordsBuffer,void 0,{location:o("aTextureCoord"),size:2}).tP(f.fitMode)}return n.qB.yP(n.zz),!0}));var c=1===t?this.tN:this.qz,l=this.Jr,v=this.Wz,d=this.Yz;return c&&v&&d&&this.qB.el(c).CE(c,(function(r,e,o,s){n.qB.OE(r("uIsHighlighted"),1===t||2===t?0:n.yi).WF(r("uHighlightColorOffset"),1===t||2===t?j:n.gi).OE(r("uRenderEffectMask"),2===t?1:0).kE(r("uScale"),n.CD.FE()).kE(r("uDisp"),n.CD.IE()).VP(o,v,n.ai.Pt(),void 0);var a=l.getFillStyle();if(1===t)n.qB.$E(r("uFirstId"),i).HP(o,1);else if(Yr(a))n.qB.WF(r("uColor"),a.getColor());else if(G(a)){if(!n.Jz)return!1;n.qB.EP(o,n.Jz,a)}else if(Y(a)){if(!n.Kz)return!1;n.qB.PP(o,n.Kz,a)}var u=l.getThickness(),h=-1===u||1===u;return n.qB.RT(h?n.qB.gl.LINE_LOOP:n.qB.gl.TRIANGLE_STRIP,n.Yz),!0})),{idCount:1}},i.prototype.Bc=function(t,i,n,r,e){return{}},i.prototype.jc=function(){return this.dR&&(this.qB.PE(this.dR),this.dR=void 0),this.Ez&&(this.qB.PE(this.Ez),this.Ez=void 0),this.Wz&&(this.qB.PE(this.Wz),this.Wz=void 0),this.Gz=void 0,this.qz=void 0,this.$z=void 0,this.tN=void 0,this.hR=this.qB.nz(this,this.hR),this},i}(ga),jS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),BS=function(t){function i(i){var n=t.call(this,i)||this,r=n.CN(),e=r.vertices,o=r.drawMode,s=r.drawSize;return n.TN=i.wE(e),n._N=s,n.ON=o,n}return jS(i,t),i.prototype.el=function(t){return this.qB.TE(this.TN,0,{location:t.attribute("aCurveOrBaseline"),size:1},{location:t.attribute("aSegmentSide"),size:1}),this},i.prototype.RT=function(t,i,n){return this.qB.AP(void 0!==i?i:this.ON,n||0,this._N,t),this},i.prototype.CN=function(){return{vertices:new Float32Array([1,0,0,0,0,1,0,1,1,1,1,0]),drawMode:this.qB.gl.TRIANGLES,drawSize:6}},i.prototype.XL=function(){this.qB.PE(this.TN)},i}(dx),DS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),LS=function(){return LS=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},LS.apply(this,arguments)},ES=function(t){function i(i,n,r,e,o){var s=t.call(this,i)||this;return s.ON=r,s.yR=n.length,s.GB=i.wE(Ni(n,!1)),s.AR=e,o&&(s.bR=LS(LS({},o),{GB:i.wE(o.Sw,!1),yR:o.Sw.length/4})),s}return DS(i,t),i.prototype.pR=function(t){return t>1},i.prototype.RT=function(t,n,r,e,o,s){return"object"==typeof o?n?this.qB.lP(t.attribute("aOffsetScale"),n,1,r*Float32Array.BYTES_PER_ELEMENT).kE(t.uniform(Rm),[o.width,o.height]):this.qB.OE(t.uniform("uOffsetScale"),o.scale).kE(t.uniform(Rm),[o.width,o.height]):s?n?this.qB.lP(t.attribute("".concat(i.mR,"Amount")),n,1,r*Float32Array.BYTES_PER_ELEMENT):this.qB.OE(t.uniform("".concat(i.mR,"Amount")),o):this.qB.OE(t.uniform("uPointSize"),o),s?this.qB.TE(this.GB,0,{location:t.attribute(i.mR),size:2}).AP(this.ON,0,this.yR,e):this.qB.RT(this.qB.gl.POINTS,e),this},i.prototype.gR=function(t,n,r,e,o,s){return!(!this.bR||!o||(n?this.qB.lP(t.attribute("".concat(i.mR,"Amount")),n,1):this.qB.OE(t.uniform("".concat(i.mR,"Amount")),e),this.qB.OE(t.uniform("".concat(i.xR,"Amount")),s).TE(this.bR.GB,0,{location:t.attribute(i.mR),size:2},{location:t.attribute(i.xR),size:2}).AP(this.bR.ON,0,this.bR.yR,r),0))},i.prototype.XL=function(){var t;this.qB.PE(this.GB),this.qB.PE(null===(t=this.bR)||void 0===t?void 0:t.GB)},i.mR="aFillOffset",i.xR="aBorderOffset",i}(dx),PS=function(t,i){void 0===i&&(i=0);var n=[h(-.5,-.5),h(.5,-.5),h(.5,.5),h(-.5,.5)];return new ES(t,n,t.gl.TRIANGLE_FAN,i,{Sw:[-.5,-.5,0,0,-.5,-.5,-1,-1,.5,-.5,0,0,.5,-.5,1,-1,.5,.5,0,0,.5,.5,1,1,-.5,.5,0,0,-.5,.5,-1,1,-.5,-.5,0,0,-.5,-.5,-1,-1],ON:t.gl.TRIANGLE_STRIP})},zS=function(t,i){void 0===i&&(i=0);var n=.05,r=[h(-.5,-.05),h(.5,-.05),h(.5,n),h(.5,n),h(-.5,n),h(-.5,-.05),h(-.05,-.5),h(n,-.5),h(n,-.05),h(n,-.05),h(-.05,-.05),h(-.05,-.5),h(-.05,.5),h(n,.5),h(n,n),h(n,n),h(-.05,n),h(-.05,.5)];return new ES(t,r,t.gl.TRIANGLES,i,{Sw:[-.05,.5,0,0,-.05,.5,-1,1,n,.5,0,0,n,.5,1,1,n,n,0,0,n,n,1,1,.5,n,0,0,.5,n,1,1,.5,-.05,0,0,.5,-.05,1,-1,n,-.05,0,0,n,-.05,1,-1,n,-.5,0,0,n,-.5,1,-1,-.05,-.5,0,0,-.05,-.5,-1,-1,-.05,-.05,0,0,-.05,-.05,-1,-1,-.5,-.05,0,0,-.5,-.05,-1,-1,-.5,n,0,0,-.5,n,-1,1,-.05,n,0,0,-.05,n,-1,1,-.05,.5,0,0,-.05,.5,-1,1],ON:t.gl.TRIANGLE_STRIP})},NS=function(t,i,n){if($e(t))return NS(ve.Square,i,n);var r=i.YE.zL.get(t);if(t===ve.Circle||t===ve.HollowCircle){var e=n<=3?4:n<=5?8:n<=10?16:24;return t===ve.Circle?(r=i.YE.NL.get(e)||function(t,i,n){void 0===n&&(n=0);var r=2*Math.PI/i,e=[],o=[];e.push({x:0,y:0});for(var s=0;s<=i;s+=1){var a=s*r,u=Math.cos(a),h=Math.sin(a),f=.5*u,c=.5*h;e.push({x:f,y:c}),o.push(f,c,0,0,f,c,u,h)}return new ES(t,e,t.gl.TRIANGLE_FAN,n,{Sw:o,ON:t.gl.TRIANGLE_STRIP})}(i,e),i.YE.NL.set(e,r),r):(r=i.YE.VL.get(e)||function(t,i,n){void 0===n&&(n=0);for(var r=[],e=2*Math.PI/i,o=0;o<=i;o+=1){var s=o*e,a=Math.cos(s),u=Math.sin(s);r.push({x:.5*a,y:.5*u}),r.push({x:.3*a,y:.3*u})}return new ES(t,r,t.gl.TRIANGLE_STRIP,n,void 0)}(i,e),i.YE.VL.set(e,r),r)}if(!r){switch(t){case ve.Triangle:r=function(t,i){void 0===i&&(i=0);var n=[{x:-.5773502691892515,y:.3333333333333333},{x:0,y:-.6666666666666666},{x:.5773502691892515,y:.3333333333333333}];return new ES(t,n,t.gl.TRIANGLES,i,{Sw:[n[0].x,n[0].y,0,0,n[0].x,n[0].y,2*n[0].x,2*n[0].y,n[1].x,n[1].y,0,0,n[1].x,n[1].y,2*n[1].x,2*n[1].y,n[2].x,n[2].y,0,0,n[2].x,n[2].y,2*n[2].x,2*n[2].y,n[0].x,n[0].y,0,0,n[0].x,n[0].y,2*n[0].x,2*n[0].y],ON:t.gl.TRIANGLE_STRIP})}(i);break;case ve.Square:r=PS(i);break;case ve.Plus:r=zS(i);break;case ve.Cross:r=zS(i,45);break;case ve.Diamond:r=PS(i,45);break;case ve.Arrow:r=function(t,i){void 0===i&&(i=0);var n=.05,r=[h(-.05,-.5),h(n,-.5),h(n,.45),h(n,.45),h(-.05,.45),h(-.05,-.5),h(-.5,0),h(-.4,0),h(0,.4),h(0,.4),h(0,.5),h(-.5,0),h(.5,0),h(.4,0),h(0,.4),h(0,.4),h(0,.5),h(.5,0)];return new ES(t,r,t.gl.TRIANGLES,i,{Sw:[-.5,0,0,0,-.5,0,-2,-1,0,.5,0,0,0,.5,0,1,.5,0,0,0,.5,0,2,-1,.4,0,0,0,.4,0,0,-1,n,.355,0,0,n,.355,1,-2,n,-.5,0,0,n,-.5,1,-1,-.05,-.5,0,0,-.05,-.5,-1,-1,-.05,.355,0,0,-.05,.355,-1,-2,-.4,0,0,0,-.4,0,0,-1,-.5,0,0,0,-.5,0,-2,-1],ON:t.gl.TRIANGLE_STRIP})}(i);break;case ve.Star:r=function(t,i){return void 0===i&&(i=0),new ES(t,[{x:0,y:0},{x:0,y:.5},{x:.1,y:.1},{x:.5,y:.1},{x:.2,y:-.1},{x:.3,y:-.5},{x:0,y:-.25},{x:-.3,y:-.5},{x:-.2,y:-.1},{x:-.5,y:.1},{x:-.1,y:.1},{x:0,y:.5}],t.gl.TRIANGLE_FAN,i,{Sw:[0,.5,0,0,0,.5,0,1,.1,.1,0,0,.1,.1,1,1,.5,.1,0,0,.5,.1,2,1,.2,-.1,0,0,.2,-.1,1,-1,.3,-.5,0,0,.3,-.5,1,-2,0,-.25,0,0,0,-.25,0,-1,-.3,-.5,0,0,-.3,-.5,-1,-2,-.2,-.1,0,0,-.2,-.1,-1,-1,-.5,.1,0,0,-.5,.1,-2,1,-.1,.1,0,0,-.1,.1,-1,1,0,.5,0,0,0,.5,0,1],ON:t.gl.TRIANGLE_STRIP})}(i);break;case ve.Minus:r=function(t,i){void 0===i&&(i=0);var n=.05,r=[h(-.5,-.05),h(.5,-.05),h(.5,n),h(.5,n),h(-.5,n),h(-.5,-.05)];return new ES(t,r,t.gl.TRIANGLES,i,{Sw:[-.5,-.05,0,0,-.5,-.05,-1,-1,.5,-.05,0,0,.5,-.05,1,-1,.5,n,0,0,.5,n,1,1,-.5,n,0,0,-.5,n,-1,1,-.5,-.05,0,0,-.5,-.05,-1,-1],ON:t.gl.TRIANGLE_STRIP})}(i);break;default:return dn(0,"LightningChart JS unidentified point shape")}i.YE.zL.set(t,r)}return r},VS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),RS=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r,e,[{type:"DataPattern",args:{pattern:"ProgressiveX"}}])||this;return o.SR=ra.fillStyle,o.wR=A("bottom"),o.MR=ra.fillStyle,o.CR=qt,o.TR=A(ve.Circle),o.kR=A(5),o._R=A(0),o.OR=A(void 0),o.PM=!0,o.FR={x:0,y:0},o}return VS(i,t),i.prototype.KM=function(t){this.wR.T()!==t&&this.wR.C(t)},i.prototype.Gl=function(t){return this.SR=ca(this.SR,t),this},i.prototype.GM=function(){return this.SR},i.prototype.IR=function(){return la(this.jR,this.SR)},i.prototype.BR=function(){return la(this.DR,this.MR)},i.prototype.LR=function(){return this.CR!==this.ER},i.prototype.Rl=function(t){return this.MR=ca(this.MR,t),Jt(this.MR)&&(this.Yl(ve.Square),this.Kl(1)),this},i.prototype.Zl=function(){return this.MR},i.prototype.Ql=function(t){return this.CR="function"==typeof t?t(this.CR):t,this},i.prototype.Jl=function(){return this.CR},i.prototype.Yl=function(t){return this.TR.C(t),$e(this.TR.T())&&this.Kl(1),this},i.prototype.Wl=function(){return this.TR.T()},i.prototype.Kl=function(t){return this.kR.C(t),this},i.prototype.UM=function(){return this.kR.T()},i.prototype.Xl=function(t){return this._R.C(t),this},i.prototype.Hl=function(){return this._R.T()},i.prototype.Jd=function(t){return this.FR=t,this},i.prototype.YM=function(){return this.FR},i.prototype.EM=function(t){return this.OR.C(t),this},i.prototype.WM=function(){return this.OR.T()},i}(_a),GS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),US=function(){return US=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},US.apply(this,arguments)},YS=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},WS=function(t){function i(i,n){var r=t.call(this,i,n)||this;return r.uV=!1,r.hV={PR:!1,zR:0},r.cV=i instanceof nt?{type:"linear",scale:i}:{type:"unknown"},r.aV.wi("DataPattern",(function(t){!1===t.allowDataGrouping&&(r.uV=!0)})),r}return GS(i,t),i.prototype.NR=function(t,i,n){var r=null==t?void 0:t.el(i),e=null==r?void 0:r.al,o=null==r?void 0:r.ul,s=null==t?void 0:t.zc,a=null==t?void 0:t.Pc,u=null==t?void 0:t.rl(i);if(!t||this.uV||!u||"linear"!==this.cV.type||!e||!o||void 0===s||void 0===a||!n){var h=this.hV.PR;return this.hV={PR:!1,zR:null!=s?s:0},{cpStateChanged:h,cpActive:!1}}var f=be(u),c=t.ml(i),l=t.pl(i),v=c?c[f]:void 0,d=l?l[f]:void 0;if(s<2||void 0===v||void 0===d||d===v){var y=this.hV.PR;return this.hV={PR:!1,zR:null!=s?s:0},{cpStateChanged:y,cpActive:!1}}var A,b=this.calculateAvgStepBetweenDataPoints(d,v,s),p=this.cV.scale,m=Math.abs(p.oi()[f]),g=m/b,x=Math.floor(.8*g),S=x*b,w=x>=4,M=this.hV.PR?this.hV.VR/m<1.5:void 0,C=this.hV.PR&&x>this.hV.RR?x/this.hV.RR>=2:void 0;return!0===this.hV.PR?M?C&&(A={PR:!0,VR:S,RR:x,zR:s}):A=w?{PR:!0,VR:S,RR:x,zR:s}:{PR:!1,zR:s}:w&&(A={PR:!0,VR:S,RR:x,zR:s}),this.hV=A||US(US({},this.hV),{zR:s}),!!A&&this.yV(),{cpStateChanged:!!A,cpActive:this.hV.PR}},i.prototype.GR=function(t,i){var n,r,e,o,s,a,u,h=null==t?void 0:t.el(i),f=h.dataPattern,c=h.al,l=h.ul,v=t.Nc,d=t.zc,y=t.Pc,A=t.Wc;if(!this.uV&&this.hV.PR&&c&&l&&void 0!==f){var b=be(f),p=pe(f),m="x"===b?c:l,g="x"===b?l:c,x=m.length,S="x"===b?this.ai.x:this.ai.y,w=this.hV.VR,M=Math.min(S.getInnerStart(),S.getInnerEnd()),C=Math.max(S.getInnerStart(),S.getInnerEnd()),T=Ya(M,C,m,v,d,y,pe(f)?"progressive":"regressive",1);if(T){var k=m[T.iFirstSampleDataArray];if(this.UR){if(this.UR.YR<T.iFirstSample&&(F=Math.min(Math.floor((k-this.UR.gh)/w),this.UR.WR))>0)if(this.UR.WR-=F,this.UR.WR>0){this.UR.XR.splice(0,2*F),this.UR.HR.splice(0,2*F),this.UR.ZR&&this.UR.ZR.splice(0,2*F),this.UR.QR&&this.UR.QR.splice(0,2*F),this.UR.gh+=F*w;var _=Wa(this.UR.gh,Math.max(v-1-x+1,0),v-1,p,(function(t){return m[Ua(t,v,x)]})),O=Ua(_,v,x);this.UR.YR=m[O]>=this.UR.gh?_:_+1}else this.UR=void 0;if(void 0!==(null===(s=this.UR)||void 0===s?void 0:s.JR)&&this.UR.JR>T.iLastSample){var F,I=m[T.iLastSampleDataArray];if((F=Math.min(Math.floor((this.UR.gh+this.UR.WR*w-I)/w),this.UR.WR))>0)if(this.UR.WR-=F,this.UR.WR>0){for(var j=0;j<2*F;j+=1)this.UR.XR.pop(),this.UR.HR.pop(),this.UR.ZR&&this.UR.ZR.pop(),this.UR.QR&&this.UR.QR.pop();_=Wa(this.UR.gh+this.UR.WR*w,Math.max(v-1-x+1,0),v-1,p,(function(t){return m[Ua(t,v,x)]})),O=Ua(_,v,x),this.UR.JR=m[O]<=this.UR.gh+this.UR.WR*w?_:_-1}else this.UR=void 0}}var B=this.UR||{gh:k,WR:0,XR:[],HR:[],ZR:h.hl?[]:void 0,QR:h.ll?[]:void 0,KR:h.cl?[]:void 0,qR:h.fl?[]:void 0,YR:T.iFirstSample,JR:void 0},D=function(t,i,n,r){var e=Math.min(t,t+n*w),o=Math.max(t,t+n*w),s=[];if(n<0&&e<M||n>0&&o>C)return s;for(var a=r,u=jn,h=jn,f=-1,c=In,l=In,d=-1,y=0;a<=T.iLastSample&&a>=T.iFirstSample;){var b=a%x,p=m[b],S=g[b];if(A&&Number.isNaN(p))a+=i;else if(e<=p&&p<=o)y+=1,A&&Number.isNaN(S)||(S>h&&(u=p,h=S,f=a),S<l&&(c=p,l=S,d=a)),a+=i;else{if(y>0)u=u===jn?Number.NaN:u,h=h===jn?Number.NaN:h,c=c===In?Number.NaN:c,l=l===In?Number.NaN:l,f<d?(s.push({iFirst:f,iSecond:d}),i>0?(B.XR.push(u),B.HR.push(h),B.XR.push(c),B.HR.push(l)):(B.XR.unshift(c),B.HR.unshift(l),B.XR.unshift(u),B.HR.unshift(h))):(s.push({iFirst:d,iSecond:f}),i>0?(B.XR.push(c),B.HR.push(l),B.XR.push(u),B.HR.push(h)):(B.XR.unshift(u),B.HR.unshift(h),B.XR.unshift(c),B.HR.unshift(l)));else{var k=i>0?B.JR:B.YR;if(void 0===k)s.push({iFirst:0,iSecond:0}),i>0?(B.XR.push(Number.NaN),B.HR.push(Number.NaN),B.XR.push(Number.NaN),B.HR.push(Number.NaN)):(B.XR.unshift(Number.NaN),B.HR.unshift(Number.NaN),B.XR.unshift(Number.NaN),B.HR.unshift(Number.NaN));else{var _=Ua(k,v,x),O=m[_],F=g[_],I=pi((O+p)/2,e,o),j=pi((I+p)/2,e,o),D=F+(I-O)/(p-O)*(S-F),L=F+(j-O)/(p-O)*(S-F);s.push({iFirst:k,iSecond:k}),i>0?(B.XR.push(I),B.HR.push(D),B.XR.push(j),B.HR.push(L)):(B.XR.unshift(j),B.HR.unshift(L),B.XR.unshift(I),B.HR.unshift(D))}}if(B.WR+=1,i>0?B.JR=a-1:(B.YR=a+1,B.gh=n>0?o:e),e=Math.min(t+s.length*n*w,t+(s.length+1)*n*w),o=Math.max(t+s.length*n*w,t+(s.length+1)*n*w),y=0,u=jn,h=jn,f=-1,c=In,l=In,d=-1,n<0&&e<M||n>0&&o>C)break}}return s},L=D(B.gh+(pe(f)?1:-1)*B.WR*w,1,1*(pe(f)?1:-1),void 0!==(null===(a=this.UR)||void 0===a?void 0:a.JR)?this.UR.JR+1:T.iFirstSample),E=D(B.gh,-1,-1*(pe(f)?1:-1),void 0!==(null===(u=this.UR)||void 0===u?void 0:u.YR)?this.UR.YR-1:T.iFirstSample);if(0!==E.length||0!==L.length){var P=h.hl&&B.ZR?[h.hl,B.ZR]:void 0,z=h.ll&&B.QR?[h.ll,B.QR]:void 0,N=h.cl&&B.KR?[h.cl,B.KR]:void 0,V=h.fl&&B.qR?[h.fl,B.qR]:void 0;if(P||z||N||V){try{for(var R=YS(L),G=R.next();!G.done;G=R.next()){var U=G.value,Y=Ua(U.iFirst,v,x,y),W=Ua(U.iSecond,v,x,y);P&&P[1].push(P[0][Y],P[0][W]),z&&z[1].push(z[0][Y],z[0][W]),N&&N[1].push(N[0][Y],N[0][W]),V&&V[1].push(V[0][Y],V[0][W])}}catch(t){n={error:t}}finally{try{G&&!G.done&&(r=R.return)&&r.call(R)}finally{if(n)throw n.error}}try{for(var X=YS(E),H=X.next();!H.done;H=X.next()){var Z=H.value;Y=Ua(Z.iFirst,v,x,y),W=Ua(Z.iSecond,v,x,y),P&&P[1].unshift(P[0][W],P[0][Y]),z&&z[1].unshift(z[0][W],z[0][Y]),N&&N[1].unshift(N[0][W],N[0][Y]),V&&V[1].unshift(V[0][W],V[0][Y])}}catch(t){e={error:t}}finally{try{H&&!H.done&&(o=X.return)&&o.call(X)}finally{if(e)throw e.error}}}return this.UR=B.WR>0?B:void 0,{$R:"x"===b?B.XR:B.HR,tG:"y"===b?B.XR:B.HR,ej:B.ZR,iG:B.QR,U:B.KR,ph:B.qR}}}}},i.prototype.yV=function(){this.UR=void 0},i.prototype.gV=function(){},i}(uS),XS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),HS=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},ZS=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},QS=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r,e)||this;return o.CD=new kx,o.PV=new WS(o.ai,o),o.Bz=ao({lineStyleSolid:function(){return Ye(o.vc)&&o.vc},lineStyleDashed:function(){return Qe(o.vc)&&o.vc},strokeFillSolid:function(){var t=o.vc.getFillStyle();return Yr(t)&&t},strokeFillLinearGradient:function(){var t=o.vc.getFillStyle();return Y(t)&&t},strokeFillRadialGradient:function(){var t=o.vc.getFillStyle();return G(t)&&t},strokeFillIndividual:function(){var t=o.vc.getFillStyle();return Xr(t)&&t},strokeFillPaletted:function(){var t=o.vc.getFillStyle();return Zr(t)&&t},areaFillSolid:function(){return Yr(o.SR)&&o.SR},areaFillLinearGradient:function(){return Y(o.SR)&&o.SR},areaFillRadialGradient:function(){return G(o.SR)&&o.SR},areaFillIndividual:function(){return Xr(o.SR)&&o.SR},areaFillPaletted:function(){return Zr(o.SR)&&o.SR},markerFillSolid:function(){return Yr(o.MR)&&o.MR},markerFillLinearGradient:function(){return Y(o.MR)&&o.MR},markerFillRadialGradient:function(){return G(o.MR)&&o.MR},markerFillPaletted:function(){return Zr(o.MR)&&o.MR},markerFillIndividual:function(){return Xr(o.MR)&&o.MR},markerFillImage:function(){return Jt(o.MR)&&o.MR},markerShapeIcon:function(){var t=o.TR.T();return $e(t)&&t},markerStrokeFillSolid:function(){var t=o.CR.getFillStyle();return Yr(t)&&t}}),o.Nl=A(void 0),o.nG=[],o.nf=!1,o.rG=[],o.eG=void 0,o.fR=function(t,i,n){var r,e=null===(r=o.oG)||void 0===r?void 0:r.shapeIcon,s=t,a=i;return e&&(s=e.Mt().x,a=e.Mt().y),bx(t,i,s*o.kR.T(),a*o.kR.T(),n)},o.sG=JS(),o.Tz=n,o.NN={type:"none"},o.qB=i.kz(),o.Cz=i,o.PN=o.qB.wP,o}return XS(i,t),i.prototype.Vl=function(t,i){var n,r=this;return this.PV.yV(),this.aG=void 0,this.eG=void 0,t&&i?(this.Nl.C(Sn(t,this.Nl.T(),(function(){return{change:function(t){r.nG.push({min:t.iDataStart,max:t.iDataEnd}),r.aG&&r.rG.length>1e3&&Date.now()-r.aG.uG>5e3&&(r.aG=void 0,r.rG.length=0),r.aG&&r.rG.push({min:t.iDataStart,max:t.iDataEnd})},clear:function(){r.nf=!0,r.aG=void 0,r.eG=void 0,r.PV.yV()},loop:function(){r.aG=void 0,r.rG.length=0}}}))),this.NM=i,this):(null===(n=this.Nl.T())||void 0===n||n.qi(),this.Nl.C(void 0),this.NM=void 0,this)},i.prototype.Hu=function(){var t,i=this,n=null===(t=this.Nl.T())||void 0===t?void 0:t.$i,r=null==n?void 0:n.rl(this.NM);return r&&{ZM:be(r),QM:function(){return i.ob()}}},i.prototype.ob=function(){var t,i,n,r,e,o,s,a,u,f,c,l,v,d,y,A,b,p,m,g,x,S,w,M,C,T,k,_,O,F,I,j,B,D=this,L=null===(t=this.Nl.T())||void 0===t?void 0:t.$i,E=this.Nl.o,P=this.NM,z=null==L?void 0:L.el(P),N=null==z?void 0:z.al,V=null==z?void 0:z.ul;if(L&&N&&V&&P){var R=z.dataPattern,G=R&&this.ai[be(R)],U=z.ll,Y=z.hl,W=z.cl,X=z.fl,H=L.Nc,Z=L.zc,Q=L.Pc,J=E||this.rh()||this.IR()||this.BR()||this.LR()||this.wR.o,K=this.Bz.lineStyleSolid(J),q=this.Bz.lineStyleDashed(J),$=K||q,tt=$&&$.getThickness(),it=this.Bz.strokeFillSolid(J),nt=this.Bz.strokeFillLinearGradient(J),rt=this.Bz.strokeFillRadialGradient(J),et=this.Bz.strokeFillIndividual(J),ot=this.Bz.strokeFillPaletted(J),st=it||nt||rt||et||ot,at=this.Bz.areaFillSolid(J),ut=this.Bz.areaFillLinearGradient(J),ht=this.Bz.areaFillRadialGradient(J),ft=this.Bz.areaFillIndividual(J),ct=this.Bz.areaFillPaletted(J),lt=at||ut||ht||ft||ct,vt=this.Bz.markerFillSolid(J),dt=this.Bz.markerFillLinearGradient(J),yt=this.Bz.markerFillRadialGradient(J),At=this.Bz.markerFillPaletted(J),bt=this.Bz.markerFillIndividual(J),pt=this.Bz.markerFillImage(J),mt=vt||dt||yt||At||bt||pt,gt=this.Bz.markerStrokeFillSolid(J),xt=this.TR.T(),St=this.TR.o,wt=this.Bz.markerShapeIcon(St),Mt=this.kR.T(),Ct=this.kR.o,Tt=this.OR.o,kt=this.nG.length>0||Tt,_t=this.nf||E,Ot=_t?[L.Al()]:function(t){var i,n,r,e,o=[];try{for(var s=si(t),a=s.next();!a.done;a=s.next()){var u=a.value,h=!1;try{for(var f=(r=void 0,si(o)),c=f.next();!c.done;c=f.next()){var l=c.value;if(u.min>=l.min&&u.min<=l.max||u.max>=l.min&&u.max<=l.max){l.min=Math.min(l.min,u.min),l.max=Math.min(l.max,u.max),h=!0;break}}}catch(t){r={error:t}}finally{try{c&&!c.done&&(e=f.return)&&e.call(f)}finally{if(r)throw r.error}}h||o.push(u)}}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}(this.nG),Ft=!!q,It=this.hi.T(),jt=this.hi.o;E&&Object.entries(P).forEach((function(t){var i=HS(t,2),n=i[0],r=i[1];if(L.Qc&&!L.Qc[r])throw new Error("LightningChart JS data supply error - key ".concat(r," does not exist in data set. Mapped to '").concat(n,"'"))})),(E||J)&&((ot&&"value"===ot.lookUpProperty||ct&&"value"===ct.lookUpProperty||At&&"value"===At.lookUpProperty)&&void 0===P.lookupValue&&ci.console.warn('LightningChart JS warning - using PalettedFill with lookUpProperty=value, but there is no data mapping for "lookupValue"'),(et||ft||bt)&&void 0===P.color&&ci.console.warn('LightningChart JS warning - using IndividualPointFill, but there is no data mapping for "color"'));var Bt,Dt,Lt=this.PM&&(!!$||!!lt),Et=this.PV.NR(L,P,Lt),Pt=Et.cpStateChanged,zt=Et.cpActive;if(R&&zt&&G&&(Pt||_t||kt||G._t||J)){var Nt=this.PV.GR(L,P);if(Nt){var Vt=!(Pt||_t||J||E);this.hG=KS(this.qB,[Nt.$R,Nt.tG],Nt.ej,Nt.iG,Nt.U,Nt.ph,Ft,this.hG,Vt,R,1e3,this.ai.Pt(),(function(t){return zi(t,D.ai.Pt())}),L.Wc),this.fG={min:In,max:jn};for(var Rt="x"===be(R)?Nt.tG:Nt.$R,Gt=Rt.length,Ut=0;Ut<Gt;Ut+=1){var Yt=Rt[Ut];L.Wc&&Number.isNaN(Yt)||(this.fG.min=Math.min(this.fG.min,Yt),this.fG.max=Math.max(this.fG.max,Yt))}(null===(i=this.cG)||void 0===i?void 0:i.bufferX)!==this.hG.bufferX&&(this.qB.PE(null===(n=this.cG)||void 0===n?void 0:n.bufferX),this.qB.PE(null===(r=this.cG)||void 0===r?void 0:r.bufferY),this.qB.PE(null===(e=this.cG)||void 0===e?void 0:e.bufferColors),this.qB.PE(null===(o=this.cG)||void 0===o?void 0:o.bufferLengthSoFar),this.qB.PE(null===(s=this.cG)||void 0===s?void 0:s.bufferRotations),this.qB.PE(null===(a=this.cG)||void 0===a?void 0:a.bufferLookupValues),this.qB.PE(null===(u=this.cG)||void 0===u?void 0:u.bufferSizes)),this.cG=void 0}}if(R&&G&&!zt){if(Pt||_t||kt||G._t||Tt||J){var Wt=Math.min(G.getInnerStart(),G.getInnerEnd()),Xt=Math.max(G.getInnerStart(),G.getInnerEnd()),Ht="x"===be(R)?N:V,Zt="x"===be(R)?V:N,Qt=Ya(Wt,Xt,Ht,H,Z,Q,pe(R)?"progressive":"regressive",1);if(!this.lG||(null==Qt?void 0:Qt.iFirstSample)!==this.lG.iFirstSample||Qt.iLastSample!==this.lG.iLastSample||_t){var Jt=this.sG(z,this.lG,Qt,_t||Pt,Ht,Zt,L.Wc);this.fG=Jt.visibleBoundaries,this.vG=Jt.avgPointGap}if(this.lG=Qt,void 0===Qt)this.qB.PE(null===(f=this.hG)||void 0===f?void 0:f.bufferX),this.qB.PE(null===(c=this.hG)||void 0===c?void 0:c.bufferY),this.qB.PE(null===(l=this.hG)||void 0===l?void 0:l.bufferColors),this.qB.PE(null===(v=this.hG)||void 0===v?void 0:v.bufferLengthSoFar),this.qB.PE(null===(d=this.hG)||void 0===d?void 0:d.bufferRotations),this.qB.PE(null===(y=this.hG)||void 0===y?void 0:y.bufferLookupValues),this.qB.PE(null===(A=this.hG)||void 0===A?void 0:A.bufferSizes),this.hG=void 0,this.qB.PE(null===(b=this.cG)||void 0===b?void 0:b.bufferX),this.qB.PE(null===(p=this.cG)||void 0===p?void 0:p.bufferY),this.qB.PE(null===(m=this.cG)||void 0===m?void 0:m.bufferColors),this.qB.PE(null===(g=this.cG)||void 0===g?void 0:g.bufferLengthSoFar),this.qB.PE(null===(x=this.cG)||void 0===x?void 0:x.bufferRotations),this.qB.PE(null===(S=this.cG)||void 0===S?void 0:S.bufferLookupValues),this.qB.PE(null===(w=this.cG)||void 0===w?void 0:w.bufferSizes),this.cG=void 0,this.dG=Qt;else if(Pt||_t||!this.dG||Qt.iFirstSample<this.dG.iFirstSample||Qt.iLastSample>this.dG.iLastSample||J){var Kt=za({srcLoopArray:N,dataRanges:Qt.dataRanges,NewArray:z.ol}),qt=za({srcLoopArray:V,dataRanges:Qt.dataRanges,NewArray:z.sl}),$t=Y?za({srcLoopArray:Y,dataRanges:Qt.dataRanges,NewArray:Uint32Array}):void 0,ti=U?za({srcLoopArray:U,dataRanges:Qt.dataRanges,NewArray:Float32Array}):void 0,ii=W?za({srcLoopArray:W,dataRanges:Qt.dataRanges,NewArray:Float32Array}):void 0,ni=X?za({srcLoopArray:X,dataRanges:Qt.dataRanges,NewArray:Float32Array}):void 0,ri=(Vt=!(Pt||_t||J||E),Lt||this.wi("ApplicationType",(function(t){return"InternalUI"===t.type}))?1e3:Math.min(null!==(M=L.getMaxSampleCount())&&void 0!==M?M:1e6,1e6));this.cG=KS(this.qB,[Kt,qt],$t,ti,ii,ni,Ft,this.cG,Vt,R,ri,this.ai.Pt(),(function(t){return zi(t,D.ai.Pt())}),L.Wc);var ei=Kt,oi=qt,ai=$t,ui=ti,hi=this.OR.T();if(hi){var fi="spline"===hi.type?function(t,i,n){var r=be(n),e="x"===r?t.xValues:t.yValues,o="x"===r?t.yValues:t.xValues,s=t.lookupValues,a=t.colors;if(e.length<=2)return{xValues:Array.from(t.xValues),yValues:Array.from(t.yValues),lookupValues:s?Array.from(s):void 0,colors:a?Array.from(a):void 0};for(var u=function(t,i){var n=1e-5,r=t.length-1,e=Array(r);if(r>1)for(var o=h(0,0),s=h(0,0),a=h(0,0),u=ir(sr({x:t.elementAt(1),y:i.elementAt(1)},{x:t.elementAt(0),y:i.elementAt(0)})),f=0,c=0,l=0;l<r;l+=1){var v=t.elementAt(l),d=t.elementAt(l+1),y=i.elementAt(l),A=i.elementAt(l+1),b=Array(4);b[0]={x:v,y:y},b[1]={x:v,y:y},b[3]={x:d,y:A},b[2]={x:d,y:A},a=u,o=s,Number.isNaN(o.y)&&(o=h(0,0));var p=l+2<i.length?i.elementAt(l+2):Number.NaN;if(l+1<r&&!Number.isNaN(p)){var m=t.elementAt(l+2);u=m===d&&p===A?h(0,0):ir(sr({x:m,y:p},{x:d,y:A})),s=ir(or(a,u))}else s=h(0,0);if(A===y)f=0,c=0;else{var g=d-v;f=Math.abs(o.x)>n?Math.abs(g/(3*o.x)):1,c=Math.abs(s.x)>n?Math.abs(g/(3*s.x)):1}b[1]=or(er(o,f),b[1]),b[2]=sr(b[2],er(s,c)),e[l]=b}return e.length>0?e:[]}(e,o),f=u.length,c=[],l=[],v=[],d=[],y=0;y<f;y+=1)for(var A=u[y],b=0;b<i;b+=1){var p=b/(i-1),m=p*p,g=m*p,x=1-p,S=x*x,w=S*x;c.push(w*A[0].x+3*p*S*A[1].x+3*m*x*A[2].x+g*A[3].x),l.push(w*A[0].y+3*p*S*A[1].y+3*m*x*A[2].y+g*A[3].y)}if(s)for(b=0;b<c.length;b+=1){var M=Math.round(b/i),C=s.elementAt(M);d[b]=C}if(a)for(b=0;b<c.length;b+=1){M=Math.round(b/i);var T=a.elementAt(M);v[b]=T}return{xValues:"x"===r?c:l,yValues:"x"===r?l:c,lookupValues:s?d:void 0,colors:a?v:void 0}}({xValues:Kt,yValues:qt,lookupValues:ti,colors:$t},hi.resolution||20,R):"step"===hi.type?function(t,i,n){var r=t.lookupValues,e=t.colors,o=be(n),s="x"===o?t.xValues:t.yValues,a="x"===o?t.yValues:t.xValues,u=[],h=[],f=[],c=[],l=s.length,v="before"===i?0:"after"===i?1:.5;if(l>0){var d=0,y=s.elementAt(0),A=a.elementAt(0);u[d]=y,h[d]=A,d+=1;for(var b=1;b<l;b+=1){var p=s.elementAt(b),m=a.elementAt(b);if(v<=0)u[d]=y,h[d]=m,d+=1;else{var g=y*(1-v)+p*v;u[d]=g,h[d]=A,u[d+=1]=g,h[d]=m,d+=1}u[d]=p,h[d]=m,d+=1,y=p,A=m}}if(r)if("before"===i)for(c[0]=r.elementAt(0),b=1;b<l;b+=1){var x=r.elementAt(b);c[2*b-1]=x,c[2*b]=x}else if("middle"===i||"after"===i)for(c[0]=r.elementAt(0),c[1]=r.elementAt(0),b=1;b<l;b+=1)x=r.elementAt(b),c[3*b-1]=x,c[3*b]=x,c[3*b+1]=x;if(e)if("before"===i)for(f[0]=e.elementAt(0),b=1;b<l;b+=1)x=e.elementAt(b),f[2*b-1]=x,f[2*b]=x;else if("middle"===i||"after"===i)for(f[0]=e.elementAt(0),f[1]=e.elementAt(0),b=1;b<l;b+=1)x=e.elementAt(b),f[3*b-1]=x,f[3*b]=x,f[3*b+1]=x;return{xValues:"x"===o?u:h,yValues:"x"===o?h:u,lookupValues:r?c:void 0,colors:e?f:void 0}}({xValues:Kt,yValues:qt,lookupValues:ti,colors:$t},null!==(C=hi.step)&&void 0!==C?C:"middle",R):void 0;ei=fi?fi.xValues:ei,oi=fi?fi.yValues:oi,ai=(null==fi?void 0:fi.colors)?fi.colors:ai,ui=(null==fi?void 0:fi.lookupValues)?fi.lookupValues:ui}this.hG=ei===Kt&&oi===qt?this.cG:KS(this.qB,[ei,oi],ai,ui,void 0,void 0,Ft,(null===(T=this.hG)||void 0===T?void 0:T.bufferX)===this.cG.bufferX?void 0:this.hG,!(!Vt||Tt||hi),R,1e3,this.ai.Pt(),(function(t){return zi(t,D.ai.Pt())}),L.Wc),this.dG=Qt}}}else this.lG=void 0;if(!R&&(_t||kt||J)){if(!this.hG||this.hG.bufferSize<L.zc||Ft){var li=void 0!==L.$c?L.$c:L.zc,vi=void 0,di=0,yi=0;if(Ft){var Ai=qS(N,V,N[0],V[0],0,0,L.Wc);vi=this.qB.nP(2*li,Ai[0],null===(k=this.hG)||void 0===k?void 0:k.bufferLengthSoFar,Float32Array),di=Ai[1],yi=Ai[2]}this.hG={bufferX:this.qB.nP(li*(this.ai.Pt()?2:1),zi(N,this.ai.Pt()),null===(_=this.hG)||void 0===_?void 0:_.bufferX),bufferY:this.qB.nP(li*(this.ai.Pt()?2:1),zi(V,this.ai.Pt()),null===(O=this.hG)||void 0===O?void 0:O.bufferY),bufferColors:Y?this.qB.nP(li,Y,null===(F=this.hG)||void 0===F?void 0:F.bufferColors,Uint32Array):void 0,bufferLookupValues:U?this.qB.nP(li,U,null===(I=this.hG)||void 0===I?void 0:I.bufferLookupValues,Float32Array):void 0,bufferSizes:W?this.qB.nP(li,W,null===(j=this.hG)||void 0===j?void 0:j.bufferSizes,Float32Array):void 0,bufferRotations:X?this.qB.nP(li,X,null===(B=this.hG)||void 0===B?void 0:B.bufferRotations,Float32Array):void 0,bufferLengthSoFar:vi,lengthSoFarX:di,lengthSoFarY:yi,bufferSize:li,valueCount:L.zc}}else{var bi=this.hG.bufferX,pi=this.hG.bufferY;Ot.forEach((function(t){var i,n,r,e,o=N.subarray(t.min,t.max+1),s=V.subarray(t.min,t.max+1);if(D.qB.rP(bi,t.min*(D.ai.Pt()?2:1),zi(o,D.ai.Pt())),D.qB.rP(pi,t.min*(D.ai.Pt()?2:1),zi(s,D.ai.Pt())),Y&&(null===(i=D.hG)||void 0===i?void 0:i.bufferColors)){var a=Y.subarray(t.min,t.max+1);D.qB.rP(D.hG.bufferColors,t.min,a,Uint32Array)}if(U&&(null===(n=D.hG)||void 0===n?void 0:n.bufferLookupValues)){var u=U.subarray(t.min,t.max+1);D.qB.rP(D.hG.bufferLookupValues,t.min,u,Float32Array)}if(X&&(null===(r=D.hG)||void 0===r?void 0:r.bufferRotations)){var h=X.subarray(t.min,t.max+1);D.qB.rP(D.hG.bufferRotations,t.min,h,Float32Array)}W&&(null===(e=D.hG)||void 0===e?void 0:e.bufferSizes)&&(h=W.subarray(t.min,t.max+1),D.qB.rP(D.hG.bufferSizes,t.min,h,Float32Array))})),this.hG.valueCount=L.zc}this.cG=this.hG}if(J||Ct||St||jt){if(st&&$&&!1!==tt){var mi=-1===tt?"primitive":"triangulated",gi=ot?["lookup",ot.lookUpProperty,ot.lut]:et?"attribute":nt?["gradient",nt]:rt?["gradient",rt]:"uniform";this.NN="primitive"===mi?{type:mi,shader:this.qB.CL(kg["2D"],kg.Color({dataType:gi}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0,splitPosAttribute:!0}),q&&kg.StippleTexture),lineStyleSolid:K,lineStyleDashed:q,fillStyleSolid:it,fillStyleLinearGradient:nt,fillStyleRadialGradient:rt,fillStyleIndividual:et,fillStylePaletted:ot,mousePickingShader:It&&this.qB.CL(kg["2D"],kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0,splitPosAttribute:!0}),q&&kg.StippleTexture,kg.MousePicking({useVertexId:!0}))}:"triangulated"===mi?{type:mi,shader:this.qB.CL(kg["2D"],kg.Color({dataType:gi}),kg.LineInstanced2D({axisWorldTranslation:oo(this.ai),normalSource:void 0,splitPosAttribute:!0}),this.PN?kg.AliasedEdge:void 0,q&&kg.StippleTextureInstanced),geometry:$x(this.qB,tt),thickness:tt,lineStyleSolid:K,lineStyleDashed:q,fillStyleSolid:it,fillStyleLinearGradient:nt,fillStyleRadialGradient:rt,fillStyleIndividual:et,fillStylePaletted:ot,mousePickingShader:It&&this.qB.CL(kg["2D"],kg.LineInstanced2D({axisWorldTranslation:oo(this.ai),normalSource:void 0,splitPosAttribute:!0}),q&&kg.StippleTextureInstanced,kg.MousePicking())}:{type:"none"}}else this.NN={type:"none"};if(this.yG=lt?{shader:this.qB.CL(kg["2D"],ct&&kg.Color({dataType:["lookup",ct.lookUpProperty,ct.lut]}),ft&&kg.Color({dataType:"attribute"}),at&&kg.Color({dataType:"uniform"}),ut&&kg.Color({dataType:["gradient",ut]}),ht&&kg.Color({dataType:["gradient",ht]}),kg.Area2D({axisWorldTranslation:oo(this.ai),normalSource:void 0,splitPosAttribute:!0,fill:this.wR.T()})),geometry:(Bt=this.qB,Dt=Bt.YE.GL.get(void 0),Dt||(Dt=new BS(Bt),Bt.YE.GL.set(void 0,Dt),Dt)),fillStyleSolid:at,fillStyleLinearGradient:ut,fillStyleRadialGradient:ht,fillStyleIndividual:ft,fillStylePaletted:ct,mousePickingShader:It&&this.qB.CL(kg["2D"],kg.Area2D({axisWorldTranslation:oo(this.ai),normalSource:void 0,splitPosAttribute:!0,fill:this.wR.T()}),kg.MousePicking())}:void 0,mt){var xi=!(!pt&&!wt),Si=Mt>1||xi,wi=W?"attribute":"uniform",Mi=!Si&&kg.PointSize("uniform"),Ci=kg.VertexLocation({offsets:[Si&&!xi?{directionVar:ES.mR,dataType:wi,sizeUnit:"px",symmetric:!0,rotation:{dataType:X?"attribute-deg":"uniform"},useAlignment:!0}:Si&&xi?{directionVar:ES.mR,dataType:wi,sizeUnit:"scale",rotation:{dataType:X?"attribute-deg":"uniform"},useAlignment:!0}:void 0],axisWorldTranslation:oo(this.ai),normalSource:void 0,splitPosAttribute:!0});this.oG={shader:this.qB.CL(kg["2D"],Mi,Ci,vt&&kg.Color({dataType:"uniform",overrideOpacity:!0,maskTexture:!!wt}),dt&&kg.Color({dataType:["gradient",dt],overrideOpacity:!0,maskTexture:!!wt}),yt&&kg.Color({dataType:["gradient",yt],overrideOpacity:!0,maskTexture:!!wt}),At&&kg.Color({dataType:["lookup",At.getLookUpProperty(),At.getPalette()],overrideOpacity:!0,maskTexture:!!wt}),bt&&kg.Color({dataType:"attribute",overrideOpacity:!0,maskTexture:!!wt}),pt&&kg.Color({dataType:["image",pt],overrideOpacity:!0,maskTexture:!!wt})),geometry:NS(xt,this.qB,"uniform"===wi?Mt:25),fillStyleSolid:vt,fillStyleLinearGradient:dt,fillStyleRadialGradient:yt,fillStylePaletted:At,fillStyleIndividual:bt,fillStyleImage:pt,mousePickingShader:It&&this.qB.CL(kg["2D"],Mi,Ci,kg.MousePicking({useVertexId:!Si})),shapeIcon:wt,pointSizeAsScale:xi,instancedRendering:Si,borders:gt&&!xi&&{shader:this.qB.CL(kg["2D"],Mi,kg.VertexLocation({offsets:[Si&&!xi?{directionVar:ES.mR,dataType:wi,sizeUnit:"px",symmetric:!0,rotation:{dataType:X?"attribute-deg":"uniform"},useAlignment:!0}:Si&&xi?{directionVar:ES.mR,dataType:wi,sizeUnit:"scale",rotation:{dataType:X?"attribute-deg":"uniform"},useAlignment:!0}:void 0,{directionVar:ES.xR,dataType:"uniform",sizeUnit:"px",symmetric:!0,rotation:{dataType:X?"attribute-deg":"uniform"}}],axisWorldTranslation:oo(this.ai),normalSource:void 0,splitPosAttribute:!0}),kg.Color({dataType:"uniform",overrideOpacity:!0,maskTexture:!!wt})),fillStyleSolid:gt}}}else this.oG=void 0}if((void 0===this.eG||kt)&&U&&(ho(ot)||ho(ct)||ho(At))){var Ti=this.eG?Ot:[L.Al()],ki=this.eG?this.eG.max:jn,_i=this.eG?this.eG.min:In,Oi=U;Ti.forEach((function(t){for(var i=t.min;i<=t.max;i+=1){var n=Oi[i];_i=n<_i?n:_i,ki=n>ki?n:ki}})),this.eG={min:_i,max:ki}}this.hR=this.qB.iz(this,this.hR,pt,wt,Ct,this.fR),this.RN=q?this.qB.JP(q.getPattern()):void 0,this.bc(this.vc),this.jR=this.SR,this.DR=this.MR,this.ER=this.CR,this.TR.o=!1,this.kR.o=!1,this.nG.length=0,this.nf=!1,this.OR.o=!1,this.Nl.o=!1,this.hi.o=!1,this.wR.o=!1}},i.prototype.Io=function(){this.ob();var t=this.Bz.strokeFillLinearGradient(!1),i=this.Bz.strokeFillRadialGradient(!1),n=this.Bz.areaFillLinearGradient(!1),r=this.Bz.areaFillRadialGradient(!1),e=this.Bz.markerFillLinearGradient(!1),o=this.Bz.markerFillRadialGradient(!1);if(this.CD.BE(this.ai),n||r){var s,a=this.wR.T();s=fa("bottom"===a||"top"===a?{min:{x:this.Wi(!1),y:Math.min(this.ai.y.getInnerStart(),this.ai.y.getInnerEnd(),this.Hi(!1),this.Zi(!1))},max:{x:this.Xi(!1),y:Math.max(this.ai.y.getInnerStart(),this.ai.y.getInnerEnd(),this.Hi(!1),this.Zi(!1))}}:{min:{x:Math.min(this.ai.x.getInnerStart(),this.ai.x.getInnerEnd(),this.Wi(!1),this.Xi(!1)),y:this.Hi(!1)},max:{x:Math.max(this.ai.x.getInnerStart(),this.ai.x.getInnerEnd(),this.Wi(!1),this.Xi(!1)),y:this.Zi(!1)}},{x:this.Cf()/2,y:this.Tf()/2},this.ai),this.AG=this.qB.sz(n,this,s),this.bG=this.qB.az(r,this,s)}if(t||i||e||o){var u=fa({min:{x:this.Wi(!1),y:this.Hi(!1)},max:{x:this.Xi(!1),y:this.Zi(!1)}},{x:this.Cf()/2,y:this.Tf()/2},this.ai);this.pG=this.qB.sz(t,this,u),this.mG=this.qB.az(i,this,u),this.gG=this.qB.sz(e,this,u),this.xG=this.qB.az(o,this,u)}return this},i.prototype.Ic=function(t,i){var n,r,e,o,s,a,u,h,f,c,l,v,d,y,A,b,p,m,g,x=this,S=this.qB.gl,w=null===(n=this.hG)||void 0===n?void 0:n.bufferX,M=null===(r=this.hG)||void 0===r?void 0:r.bufferY,C=null===(e=this.hG)||void 0===e?void 0:e.bufferColors,T=null===(o=this.hG)||void 0===o?void 0:o.bufferLookupValues,k=null===(s=this.hG)||void 0===s?void 0:s.valueCount,_=null===(a=this.cG)||void 0===a?void 0:a.valueCount,O=null===(u=this.Nl.T())||void 0===u?void 0:u.$i,F=null==O?void 0:O.rl(this.NM),I=Math.max((null===(h=this.hG)||void 0===h?void 0:h.valueCount)||0,(null===(f=this.cG)||void 0===f?void 0:f.valueCount)||0);if(!w||!M||!O)return{};var j=function(i,n,r){if(nS(x.qB,i,x.ai.Pt(),w,"aLocation","X",1,!1,S.FLOAT,Float32Array.BYTES_PER_ELEMENT,void 0),nS(x.qB,i,x.ai.Pt(),M,"aLocation","Y",1,!1,S.FLOAT,Float32Array.BYTES_PER_ELEMENT,void 0),n&&1!==t){if(!C)return!1;nS(x.qB,i,!1,C,"aColor","",4,!0,S.UNSIGNED_BYTE,1,void 0)}if(r&&"value"===r.lookUpProperty&&1!==t){if(!T)return!1;nS(x.qB,i,!1,T,"aLookupValue","",1,!1,S.FLOAT,Float32Array.BYTES_PER_ELEMENT,void 0)}return!0},B=1===t?null===(c=this.yG)||void 0===c?void 0:c.mousePickingShader:null===(l=this.yG)||void 0===l?void 0:l.shader;if(this.yG&&B&&void 0!==k&&k>0&&F&&2!==t){var D=this.yG;this.qB.el(B).CE(B,(function(n,r,e,o){return!!x.qB.rz(e,t,x,{uniforms:x.CD,idFirst:i,useInstanceID:1===t?I:void 0,fillStyleSolid:D.fillStyleSolid,fillStyleLinearGradient:D.fillStyleLinearGradient,fillStyleRadialGradient:D.fillStyleRadialGradient,fillStylePaletted:D.fillStylePaletted,linearGradientInfo:x.AG,radialGradientInfo:x.bG,lookupValueRange:D.fillStylePaletted?uo(D.fillStylePaletted,x,x.eG):void 0,lookupValueBuffer:null})&&!!j(e,D.fillStyleIndividual,D.fillStylePaletted)&&(null==D||D.geometry.el(e).RT(k-1),!0)}))}var L="none"===this.NN.type?void 0:1===t?this.NN.mousePickingShader:this.NN.shader;if("none"!==this.NN.type&&L&&void 0!==k&&k>0){var E=this.NN;this.qB.el(L).CE(L,(function(n,r,e,o){var s,a;if(!x.hG)return!1;if(!x.qB.rz(e,t,x,{uniforms:x.CD,idFirst:i,useInstanceID:1===t&&"triangulated"===E.type?I:void 0,useVertexID:1===t&&"primitive"===E.type?I:void 0,fillStyleSolid:E.fillStyleSolid,fillStylePaletted:E.fillStylePaletted,fillStyleLinearGradient:E.fillStyleLinearGradient,fillStyleRadialGradient:E.fillStyleRadialGradient,fillStyleIndividual:E.fillStyleIndividual,linearGradientInfo:x.pG,radialGradientInfo:x.mG,lookupValueRange:E.fillStylePaletted?uo(E.fillStylePaletted,x,x.eG):void 0,lookupValueBuffer:"primitive"===E.type?T:null,colorBuffer:"primitive"===E.type?C:null,coordsX:"primitive"===E.type?w:void 0,coordsY:"primitive"===E.type?M:void 0,coordsHighPrecision:x.ai.Pt()}))return!1;if(E.lineStyleDashed){if(!x.RN)return!1;x.qB.kE(n("uStippleCount"),[x.Ai.Mt().x/x.RN.$P,x.Ai.Mt().y/x.RN.$P]).OE(o("uStippleTextureWidthLimiter"),x.RN.qP/x.RN.$P).OE(n("uStippleScale"),E.lineStyleDashed.getPatternScale())._E(n("uStippleTexture"),x.RN.KP,1)}if("primitive"===E.type){if(E.lineStyleDashed){if(!(null===(s=x.hG)||void 0===s?void 0:s.bufferLengthSoFar))return!1;x.qB.EE(r("aLengthSoFar"),x.hG.bufferLengthSoFar)}iS.LN(x.Cz,k)}else{if(!j(e,E.fillStyleIndividual,E.fillStylePaletted))return!1;if(E.lineStyleDashed){if(!(null===(a=x.hG)||void 0===a?void 0:a.bufferLengthSoFar))return!1;nS(x.qB,e,!1,x.hG.bufferLengthSoFar,"aLengthSoFar","",2,!1,S.FLOAT,Float32Array.BYTES_PER_ELEMENT,void 0)}tS.Ic(x.Cz,E.geometry,e,x.PN&&1!==t,1===t,E.thickness,x.hG.valueCount-1)}return!0}))}var P=null===(v=this.cG)||void 0===v?void 0:v.bufferX,z=null===(d=this.cG)||void 0===d?void 0:d.bufferY,N=null===(y=this.cG)||void 0===y?void 0:y.bufferColors,V=null===(A=this.cG)||void 0===A?void 0:A.bufferLookupValues,R=null===(b=this.cG)||void 0===b?void 0:b.bufferSizes,G=null===(p=this.cG)||void 0===p?void 0:p.bufferRotations,U=1===t?null===(m=this.oG)||void 0===m?void 0:m.mousePickingShader:null===(g=this.oG)||void 0===g?void 0:g.shader,Y=this.oG,W=1;if(F&&(B||L)&&void 0!==this.vG&&!Number.isNaN(this.vG)){var X="x"===be(F)?this.ai.x:this.ai.y,H=this.vG,Z=X.getInnerInterval()/H,Q=this.kR.T(),J=X.St()/Q/1,K=2*J;W=Z<=J?1:Math.max(1-(Z-J)/(K-J),0)}if(U&&Y&&P&&z&&W>0&&void 0!==_&&_>0){var q=Y,$=q.instancedRendering?1:0;if(Y.borders&&0===t){var tt=Y.borders;this.qB.el(tt.shader).CE(tt.shader,(function(n,r,e,o){if(!x.qB.rz(e,t,x,{uniforms:x.CD,idFirst:i,fillStyleSolid:tt.fillStyleSolid}))return!1;if(x.ai.Pt()?x.qB.TE(P,$,{location:r("aPos_highpartX"),size:1},{location:r("aPos_lowpartX"),size:1}).TE(z,$,{location:r("aPos_highpartY"),size:1},{location:r("aPos_lowpartY"),size:1}):x.qB.lP(r("aPosX"),P,$).lP(r("aPosY"),z,$),x.qB.OE(n("uOpacity"),W),q.instancedRendering)if(G)x.qB.lP(r("aRotDeg"),G,$).OE(n("uBaseRotDeg"),q.geometry.AR);else{var s=lr(x._R.T()+q.geometry.AR),a=Math.sin(s),u=Math.cos(s);x.qB.kE(n("uRot"),[a,u])}return x.qB.kE(o("uOffsetAlignment"),[-x.FR.x/2,-x.FR.y/2]),q.geometry.gR(e,R,_,x.kR.T(),q.instancedRendering,x.CR.getThickness())}))}this.qB.el(U).CE(U,(function(n,r,e,o){if(!x.cG)return!1;if(!x.qB.rz(e,t,x,{uniforms:x.CD,idFirst:i,useInstanceID:q.instancedRendering&&1===t?I:void 0,useVertexID:q.instancedRendering||1!==t?void 0:I,fillStyleSolid:q.fillStyleSolid,fillStyleLinearGradient:q.fillStyleLinearGradient,fillStyleRadialGradient:q.fillStyleRadialGradient,linearGradientInfo:x.gG,radialGradientInfo:x.xG,fillStylePaletted:q.fillStylePaletted,fillStyleIndividual:q.fillStyleIndividual,lookupValueRange:q.fillStylePaletted?uo(q.fillStylePaletted,x,x.eG):void 0,lookupValueBuffer:V,lookupValueAttribDivisor:$,colorBuffer:N,colorAttribDivisor:$,fillStyleImage:q.fillStyleImage,texturedFillGLInfo:x.hR,texCoordAttribDivisor:0,maskTexture:q.shapeIcon&&x.hR,maskTextureCoordsAttribDivisor:0}))return!1;if(x.ai.Pt()?x.qB.TE(P,$,{location:r("aPos_highpartX"),size:1},{location:r("aPos_lowpartX"),size:1}).TE(z,$,{location:r("aPos_highpartY"),size:1},{location:r("aPos_lowpartY"),size:1}):x.qB.lP(r("aPosX"),P,$).lP(r("aPosY"),z,$),1!==t&&x.qB.OE(n("uOpacity"),W),q.instancedRendering)if(G)x.qB.lP(r("aRotDeg"),G,$).OE(n("uBaseRotDeg"),q.geometry.AR);else{var s=lr(x._R.T()+q.geometry.AR),a=Math.sin(s),u=Math.cos(s);x.qB.kE(n("uRot"),[a,u])}return x.qB.kE(o("uOffsetAlignment"),[-x.FR.x/2,-x.FR.y/2]),q.geometry.RT(e,R,0,x.cG.valueCount,q.pointSizeAsScale&&x.hR?{scale:x.kR.T(),width:q.shapeIcon?q.shapeIcon.Mt().x:x.hR.texture.ZL,height:q.shapeIcon?q.shapeIcon.Mt().y:x.hR.texture.QL}:x.kR.T(),q.instancedRendering),!0}))}return{idCount:I}},i.prototype.Mi=function(){return this.eG},i.prototype.Bc=function(t,i,n,r,e){var o,s=null===(o=this.Nl.T())||void 0===o?void 0:o.$i;if(null==s?void 0:s.rl(this.NM))return{};var a=t-i;return{info:{dataPoint:null==s?void 0:s.Sl(this.NM,a)}}},i.prototype.dispose=function(){var i,n,r,e,o,s,a,u,h,f,c,l,v;return t.prototype.dispose.call(this),this.qB.PE(null===(i=this.hG)||void 0===i?void 0:i.bufferX),this.qB.PE(null===(n=this.hG)||void 0===n?void 0:n.bufferY),this.qB.PE(null===(r=this.hG)||void 0===r?void 0:r.bufferColors),this.qB.PE(null===(e=this.hG)||void 0===e?void 0:e.bufferLookupValues),this.qB.PE(null===(o=this.hG)||void 0===o?void 0:o.bufferRotations),this.qB.PE(null===(s=this.hG)||void 0===s?void 0:s.bufferSizes),this.qB.PE(null===(a=this.cG)||void 0===a?void 0:a.bufferX),this.qB.PE(null===(u=this.cG)||void 0===u?void 0:u.bufferY),this.qB.PE(null===(h=this.cG)||void 0===h?void 0:h.bufferColors),this.qB.PE(null===(f=this.cG)||void 0===f?void 0:f.bufferLookupValues),this.qB.PE(null===(c=this.cG)||void 0===c?void 0:c.bufferRotations),this.qB.PE(null===(l=this.cG)||void 0===l?void 0:l.bufferSizes),this.NN={type:"none"},this.yG=void 0,this.oG=void 0,this.PV.yV(),null===(v=this.Nl.T())||void 0===v||v.qi(),this.hG=void 0,this.cG=void 0,this.pG=void 0,this.mG=void 0,this.AG=void 0,this.bG=void 0,this.gG=void 0,this.xG=void 0,this.qB.nz(this,this.hR),this},i.prototype.jc=function(){return this.dispose(),this},i.prototype.SG=function(t){var i,n;if(!this.NM)return this.aG||Bn;if(!this.aG){var r=t.dl(this.NM);if(0===r.xValues.length)return Bn;this.aG={min:{x:In,y:In},max:{x:jn,y:jn},uG:Date.now()};for(var e=r.xValues.length,o=0;o<e;o+=1){var s=r.xValues[o],a=r.yValues[o];this.aG.min.x=s<this.aG.min.x?s:this.aG.min.x,this.aG.min.y=a<this.aG.min.y?a:this.aG.min.y,this.aG.max.x=s>this.aG.max.x?s:this.aG.max.x,this.aG.max.y=a>this.aG.max.y?a:this.aG.max.y}return this.rG.length=0,this.aG}var u=t.el(this.NM),h=u.al,f=u.ul;if(this.rG.length>0&&h&&f){try{for(var c=ZS(this.rG),l=c.next();!l.done;l=c.next()){var v=l.value;for(o=v.min;o<=v.max;o+=1)s=h[o],a=f[o],this.aG.min.x=s<this.aG.min.x?s:this.aG.min.x,this.aG.min.y=a<this.aG.min.y?a:this.aG.min.y,this.aG.max.x=s>this.aG.max.x?s:this.aG.max.x,this.aG.max.y=a>this.aG.max.y?a:this.aG.max.y;this.rG.length=0}}catch(t){i={error:t}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(i)throw i.error}}return this.aG}return this.aG},i.prototype.Xi=function(t){var i,n,r,e,o;void 0===t&&(t=!0);var s=null===(i=this.Nl.T())||void 0===i?void 0:i.$i;if(!s)return 0;var a=s.rl(this.NM);return"ProgressiveX"===a?(null===(n=s.ml(this.NM))||void 0===n?void 0:n.x)||0:"RegressiveX"===a?(null===(r=s.pl(this.NM))||void 0===r?void 0:r.x)||0:"ProgressiveY"===a&&t?(null===(e=this.fG)||void 0===e?void 0:e.max)||0:"RegressiveY"===a&&t?(null===(o=this.fG)||void 0===o?void 0:o.max)||0:this.SG(s).max.x},i.prototype.Wi=function(t){var i,n,r,e,o;void 0===t&&(t=!0);var s=null===(i=this.Nl.T())||void 0===i?void 0:i.$i;if(!s)return 0;var a=s.rl(this.NM);return"ProgressiveX"===a?(null===(n=s.pl(this.NM))||void 0===n?void 0:n.x)||0:"RegressiveX"===a?(null===(r=s.ml(this.NM))||void 0===r?void 0:r.x)||0:"ProgressiveY"===a&&t?(null===(e=this.fG)||void 0===e?void 0:e.min)||0:"RegressiveY"===a&&t?(null===(o=this.fG)||void 0===o?void 0:o.min)||0:this.SG(s).min.x},i.prototype.Zi=function(t){var i,n,r,e,o;void 0===t&&(t=!0);var s=null===(i=this.Nl.T())||void 0===i?void 0:i.$i;if(!s)return 0;var a=s.rl(this.NM);return"ProgressiveX"===a&&t?gi(null===(n=this.fG)||void 0===n?void 0:n.max,0):"RegressiveX"===a&&t?gi(null===(r=this.fG)||void 0===r?void 0:r.max,0):"ProgressiveY"===a?gi(null===(e=s.ml(this.NM))||void 0===e?void 0:e.y,0):"RegressiveY"===a?gi(null===(o=s.pl(this.NM))||void 0===o?void 0:o.y,0):this.SG(s).max.y},i.prototype.Hi=function(t){var i,n,r,e,o;void 0===t&&(t=!0);var s=null===(i=this.Nl.T())||void 0===i?void 0:i.$i;if(!s)return 0;var a=s.rl(this.NM);return"ProgressiveX"===a&&t?gi(null===(n=this.fG)||void 0===n?void 0:n.min,0):"RegressiveX"===a&&t?gi(null===(r=this.fG)||void 0===r?void 0:r.min,0):"ProgressiveY"===a?gi(null===(e=s.pl(this.NM))||void 0===e?void 0:e.y,0):"RegressiveY"===a?gi(null===(o=s.ml(this.NM))||void 0===o?void 0:o.y,0):this.SG(s).min.y},i.prototype.Cf=function(){var t,i,n=this.kR.T();this.hR&&(n=Math.max(this.hR.texture.ZL,this.hR.texture.QL)*this.kR.T());var r=Boolean(null===(t=this.NM)||void 0===t?void 0:t.size),e=Math.max(An(this.vc),r?25:n),o=null===(i=this.Nl.T())||void 0===i?void 0:i.$i.rl(this.NM);return!o||"ProgressiveX"!==o&&"RegressiveX"!==o?e:0},i.prototype.Tf=function(){var t,i,n=this.kR.T();this.hR&&(n=Math.max(this.hR.texture.ZL,this.hR.texture.QL)*this.kR.T());var r=Boolean(null===(t=this.NM)||void 0===t?void 0:t.size),e=Math.max(An(this.vc),r?25:n),o=null===(i=this.Nl.T())||void 0===i?void 0:i.$i.rl(this.NM);return!o||"ProgressiveY"!==o&&"RegressiveY"!==o?e:0},i}(RS),JS=function(){var t,i=1e3,n=function(t,i,n,r,e){for(var o,s={min:In,max:jn},a=0,u=0,h=r;h<=e;h+=1){var f=h%t.length,c=t[f],l=i[f];n&&Number.isNaN(l)?o=void 0:(s.min=Math.min(s.min,l),s.max=Math.max(s.max,l),void 0!==o&&(a+=1,u+=Math.abs(c-o)),o=c)}return{visibleBoundaries:s,avgPointGap:u/a,sampleMin:r,sampleMax:e,finitePointPairCount:a}};return function(r,e,o,s,a,u,h){var f,c;if(!o)return t=void 0,{visibleBoundaries:void 0,avgPointGap:0};if(o.iLastSample-o.iFirstSample+1<2e3)return n(a,u,h,o.iFirstSample,o.iLastSample);s&&(t=void 0),t||(t={iFirst:o.iFirstSample,chunks:[]});for(var l=t.iFirst,v=t.iFirst+t.chunks.length*i-1;;){var d=v+1,y=v+i;if(!(o.iLastSample>=y))break;var A=n(a,u,h,d,y);t.chunks.push(A),v=y}for(;y=l-1,d=l-i,o.iFirstSample<=d;)A=n(a,u,h,d,y),t.chunks.unshift(A),t.iFirst=d,l=d;for(var b=0;b<t.chunks.length&&(A=t.chunks[b]).sampleMin<o.iFirstSample;b++)t.chunks.splice(b,1),t.iFirst+=i,b--;for(b=t.chunks.length-1;b>=0&&(A=t.chunks[b]).sampleMax>o.iLastSample;b--)t.chunks.splice(b,1);if(0===t.chunks.length)return t=void 0,{visibleBoundaries:void 0,avgPointGap:0};var p={min:In,max:jn},m=[];try{for(var g=ZS(t.chunks),x=g.next();!x.done;x=g.next())A=x.value,p.min=Math.min(A.visibleBoundaries.min,p.min),p.max=Math.max(A.visibleBoundaries.max,p.max),m.push(A.avgPointGap)}catch(t){f={error:t}}finally{try{x&&!x.done&&(c=g.return)&&c.call(g)}finally{if(f)throw f.error}}var S=n(a,u,h,o.iFirstSample,t.iFirst-1),w=n(a,u,h,t.chunks[t.chunks.length-1].sampleMax+1,o.iLastSample);return S.finitePointPairCount>0&&(p.min=Math.min(S.visibleBoundaries.min,p.min),p.max=Math.max(S.visibleBoundaries.max,p.max),m.push(S.avgPointGap)),w.finitePointPairCount>0&&(p.min=Math.min(w.visibleBoundaries.min,p.min),p.max=Math.max(w.visibleBoundaries.max,p.max),m.push(w.avgPointGap)),{visibleBoundaries:p,avgPointGap:m.reduce((function(t,i){return t+i/m.length}),0)}}},KS=function(t,i,n,r,e,o,s,a,u,h,f,c,l,v){var d=be(h),y=pe(h),A=Array.isArray(i[0])?za(i[0]):i[0],b=Array.isArray(i[1])?za(i[1]):i[1],p=n&&Array.isArray(n)?za(n):n,m=r&&Array.isArray(r)?za(r):r,g=e&&Array.isArray(e)?za(e):e,x=o&&Array.isArray(o)?za(o):o,S=A.length,w=A.elementAt(0),M=A.elementAt(S-1),C=b.elementAt(0),T=b.elementAt(S-1),k=c?2:1;if(a&&u&&void 0!==a.firstX&&void 0!==a.lastX&&void 0!==a.firstY&&void 0!==a.lastY&&("ProgressiveX"===h&&w>=a.firstX||"RegressiveX"===h&&w<=a.firstX||"ProgressiveY"===h&&C>=a.firstY||"RegressiveY"===h&&C<=a.firstY)){var _="x"===d?A:b,O="x"===d?a.lastX:a.lastY,F=Wa(O,0,S-1,y,(function(t){return _.elementAt(t)}));if(_.elementAt(F)===O){var I=a.bufferSize-a.valueCount,j=F+1,B=S-j;if(0===B)return a;if(I>=B){var D=A.toArray(j,j+B-1),L=b.toArray(j,j+B-1);if(t.rP(a.bufferX,a.valueCount*k,l(D),Float32Array),t.rP(a.bufferY,a.valueCount*k,l(L),Float32Array),p&&a.bufferColors){var E=p.toArray(j,j+B-1);t.rP(a.bufferColors,a.valueCount,E,Uint32Array)}if(m&&a.bufferLookupValues){var P=m.toArray(j,j+B-1);t.rP(a.bufferLookupValues,a.valueCount,P,Float32Array)}if(g&&a.bufferSizes){var z=g.toArray(j,j+B-1);t.rP(a.bufferSizes,a.valueCount,z,Float32Array)}if(x&&a.bufferRotations&&(z=x.toArray(j,j+B-1),t.rP(a.bufferRotations,a.valueCount,z,Float32Array)),s&&a.bufferLengthSoFar){var N=HS(qS(D,L,a.lastX||0,a.lastY||0,a.lengthSoFarX,a.lengthSoFarY,v),3),V=(z=N[0],N[1]),R=N[2];t.rP(a.bufferLengthSoFar,2*a.valueCount,z,Float32Array),a.lengthSoFarX=V,a.lengthSoFarY=R}return a.valueCount+=B,a.lastX=M,a.lastY=T,a}}}var G,U=A.toArray(0,S-1),Y=b.toArray(0,S-1),W=S+f,X=t.nP(W*k,l(U),null==a?void 0:a.bufferX,Float32Array),H=t.nP(W*k,l(Y),null==a?void 0:a.bufferY,Float32Array),Z=p?t.nP(W,p.toArray(0,S-1),null==a?void 0:a.bufferColors,Uint32Array):void 0,Q=m?t.nP(W,m.toArray(0,S-1),null==a?void 0:a.bufferLookupValues,Float32Array):void 0,J=g?t.nP(W,g.toArray(0,S-1),null==a?void 0:a.bufferSizes,Float32Array):void 0,K=x?t.nP(W,x.toArray(0,S-1),null==a?void 0:a.bufferRotations,Float32Array):void 0,q=0,$=0;if(s){var tt=qS(U,Y,U[0],Y[0],0,0,v);G=t.nP(2*W,tt[0],null==a?void 0:a.bufferLengthSoFar,Float32Array),q=tt[1],$=tt[2]}return{bufferX:X,bufferY:H,bufferColors:Z,bufferLookupValues:Q,bufferSizes:J,bufferRotations:K,bufferSize:W,bufferLengthSoFar:G,valueCount:S,firstX:w,lastX:M,firstY:C,lastY:T,lengthSoFarX:q,lengthSoFarY:$}},qS=function(t,i,n,r,e,o,s){var a=t.length,u=new Float32Array(2*a);if(0===a)return[u,0,0];var h=0,f=n,c=r,l=e,v=o;if(s)for(var d=0;d<a;d+=1){var y=t[d],A=i[d];Number.isNaN(y)||Number.isNaN(A)||Number.isNaN(f)||Number.isNaN(c)?(l=0,v=0,u[h]=0,u[h+1]=0,h+=2):(l+=Math.abs(f-y),v+=Math.abs(c-A),u[h]=l,u[h+1]=v,h+=2),f=y,c=A}else for(d=0;d<a;d+=1)y=t[d],A=i[d],l+=Math.abs(f-y),v+=Math.abs(c-A),u[h]=l,u[h+1]=v,h+=2,f=y,c=A;return[u,l,v]},$S={translation:function(t,i){return[1,0,0,0,1,0,t,i,1]},rotation:function(t){var i=Math.cos(t),n=Math.sin(t);return[i,-n,0,n,i,0,0,0,1]},scaling:function(t,i){return[t,0,0,0,i,0,0,0,1]},translate:function(t,i,n){return $S.multiply(t,$S.translation(i,n))},rotate:function(t,i){return $S.multiply(t,$S.rotation(i))},scale:function(t,i,n){return $S.multiply(t,$S.scaling(i,n))},multiply:function(t,i){var n=t[0],r=t[1],e=t[2],o=t[3],s=t[4],a=t[5],u=t[6],h=t[7],f=t[8],c=i[0],l=i[1],v=i[2],d=i[3],y=i[4],A=i[5],b=i[6],p=i[7],m=i[8];return[c*n+l*o+v*u,c*r+l*s+v*h,c*e+l*a+v*f,d*n+y*o+A*u,d*r+y*s+A*h,d*e+y*a+A*f,b*n+p*o+m*u,b*r+p*s+m*h,b*e+p*a+m*f]},projection:function(t,i,n){return[2/t,0,0,0,-2*n/i,0,-1,1*n,1]}},tw=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iw=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.wG=[],s.CD=new kx,s.MG=[h(0,0),h(0,0),h(0,0),h(0,0)],s.CG=d(h(0,0),h(0,0)),s.TG=d(h(0,0),h(0,0)),s.kG=h(0,0),s._G=h(0,0),s.OG=h(0,0),s.FG=0,s.IG=0,s.Bz=ao({fillStyleSolid:function(){return Yr(s.Qr)&&s.Qr},fillStyleRadialGradient:function(){return G(s.Qr)&&s.Qr},fillStyleLinearGradient:function(){return Y(s.Qr)&&s.Qr}}),s.Cz=i,s.Tz=n,s.qB=i.kz(),s.Tz=n,s.ZN=i.xu.Cu,s}return tw(i,t),i.prototype.Io=function(){var t,i=this.th(),n=this.$u(),r=this.hi.T();if(i){var e=this.Ku(),o=this.Bz.fillStyleSolid(e),s=this.Bz.fillStyleRadialGradient(e),a=this.Bz.fillStyleLinearGradient(e),u=o||s||a,f=this.qB,c=this.qB.hE(),l=c!==this.IG;if(this.IG=c,this.CD.BE(this.ai),this.mh.o||l){this.jG&&this.jG.fD(this),this.font.C(Ks(this.mh.T(),c));var v=this.font.T();this.jG=this.qB.Ao(v.properties.family),this.jG.el(this)}var d=this.font.o||this.uh.o;d&&this.jG&&(v=this.font.T(),t=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(this.jG.lD(this.uh.T(),v,this.Cz.xi.isDark),2),this.BG=t[0],this.TG=t[1],this.wG.forEach((function(t){t.texCoordBuff&&f.PE(t.texCoordBuff),t.vertexBuff&&f.PE(t.vertexBuff)})),this.wG=this.BG.map((function(t){return{texCoordBuff:f.wE(t.texCoords,!1),texture:t.texture,info:t}})),this.mh.o=!1,this.font.o=!1,this.uh.o=!1);var y=this.ai.ni()||n,A=this.Cs.o||this.Ah.o||this.dh.o||this.bh.o||this.Ls.o||this.ot.o||d||y,b=this.Ls.T(),p=er(h(this.Ah.T()+1,this.dh.T()+1),.5);if(A&&this.BG&&(this.kG=h(-(b.left*c+this.TG.max.x-this.TG.min.x+b.right*c)*p.x,-(b.bottom*c+this.TG.max.y-this.TG.min.y+b.top*c)*p.y)),(A||y||this.ph.o||this.Ku())&&this.Qr!==Vr){if(this.BG){var m=or(this.Cs.T(),this.bh.T()),g=at(m,this.ai,this.Ai.ai),x=er(g,c);this.OG=x;var S=lr(this.ph.T());this.FG=S,d&&this.wG.forEach((function(t){var i=t.info;i&&(t.vertexBuffLen=i.vertices.length/2,t.vertexBuff=f.wE(i.vertices,!0,t.vertexBuff))}));var w=this.ot.T(),M=[or($n(h((this.TG.min.x+(-w.left-b.left)*c+this.kG.x)/c,(this.TG.max.y+(w.top+b.top)*c+this.kG.y)/c),this.gh,S),g),or($n(h((this.TG.max.x+(w.right+b.right)*c+this.kG.x)/c,(this.TG.max.y+(w.top+b.top)*c+this.kG.y)/c),this.gh,S),g),or($n(h((this.TG.max.x+(w.right+b.right)*c+this.kG.x)/c,(this.TG.min.y+(-w.bottom-b.bottom)*c+this.kG.y)/c),this.gh,S),g),or($n(h((this.TG.min.x+(-w.left-b.left)*c+this.kG.x)/c,(this.TG.min.y+(-w.bottom-b.bottom)*c+this.kG.y)/c),this.gh,S),g)];this.MG=[at(M[0],this.Ai.ai,this.ai),at(M[1],this.Ai.ai,this.ai),at(M[2],this.Ai.ai,this.ai),at(M[3],this.Ai.ai,this.ai)];var C=Zn(M);this._G=h(-(C.max.x-C.min.x)*c*p.x-C.min.x*c+this.OG.x,-(C.max.y-C.min.y)*c*p.y-C.min.y*c+this.OG.y),this.Me=sr(C.max,C.min),this._G={x:this._G.x/c,y:this._G.y/c};var T=Zn(this.MG),k=this.ai.Jt(T.min,this._G),_=this.ai.Jt(T.max,this._G);this.CG=Zn([k,_]),this._G={x:this._G.x*c,y:this._G.y*c}}s?this.Vz=lx(this.CG,this.ai,s.getPosition(),s.getExtent(),s.getShape(),this.qB.hE()):a?this.Rz=vx(this.CG,this.ai,a.getAngle(!0),this.qB.hE()):(this.Vz=void 0,this.Rz=void 0)}this.Ku()&&(this._D=u?this.qB.CL(kg["2D"],kg.VertexLocation({axisWorldTranslation:"matrix",normalSource:void 0,snapToNearestPixel:this.ZN}),kg.Color({dataType:s?["gradient",s]:a?["gradient",a]:"uniform",maskTextureText:!0})):void 0),this.DG=!this.Dh||this.Qr===Vr||o&&0===o.getColor().getA()?void 0:this.DG||this.qB.CL(kg["2D"],kg.VertexLocation({axisWorldTranslation:"matrix",normalSource:void 0,snapToNearestPixel:this.ZN}),kg.Color({dataType:"uniform",maskTextureText:!0})),this.LG=r&&u?this.LG||this.qB.CL(kg["2D"],kg.MousePicking(),kg.VertexLocation({axisWorldTranslation:"matrix",normalSource:void 0,snapToNearestPixel:this.ZN})):void 0,this.Cs.o=!1,this.Ah.o=!1,this.dh.o=!1,this.bh.o=!1,this.ph.o=!1,this.ih(this.Qr)}return this.Sh=i,this},i.prototype.Ic=function(t,i){var n=this;if(this.hh){var r=Math.min(this.MG[0].x,this.MG[1].x),e=Math.max(this.MG[0].x,this.MG[1].x),o=Math.min(this.MG[0].y,this.MG[2].y),s=Math.max(this.MG[0].y,this.MG[2].y);this.Yn.fA();var a=Math.min(this.ai.x.R,this.ai.x.G),u=Math.max(this.ai.x.R,this.ai.x.G),h=Math.min(this.ai.y.R,this.ai.y.G),f=Math.max(this.ai.y.R,this.ai.y.G);if(!(r<=u&&a<=e&&o<=f&&h<=s))return{idCount:1}}if(this.th()){var c=0===t?this.DG:void 0,l=this.Dh,v=1===t?this.LG:this._D;if(!v||0===this.wG.length)return{};var d=this.Bz.fillStyleSolid(!1),y=this.Bz.fillStyleRadialGradient(!1),A=this.Bz.fillStyleLinearGradient(!1),b=this.Ai.rL(),p=b.x,m=b.y,g=$S.projection(p,m,-1),x=$S.translation(this.kG.x,this.kG.y),S=$S.translation(this._G.x,this._G.y);g=$S.translate(g,this.OG.x,this.OG.y),g=$S.multiply(g,S),g=$S.rotate(g,this.FG),g=$S.multiply(g,x),1===t&&(g=$S.scale(g,this.TG.max.x,this.TG.max.y)),c&&l&&(g=$S.translate(g,this.fh.x,this.fh.y),this.qB.el(c).CE(c,(function(t,i,r,e){return n.qB.KE(t("uMatrix"),g).OE(t("uIsHighlighted"),0).WF(t("uHighlightColorOffset"),j).OE(t("uRenderEffectMask"),0).WF(t("uColor"),l),n.ZN&&n.qB.kE(e("uViewportSizePx"),[b.x*n.qB.hE(),b.y*n.qB.hE()]),n.wG.forEach((function(r){n.qB.EE(i("aPos"),r.vertexBuff).EE(i("aMaskTextureCoord"),r.texCoordBuff)._E(t("uMaskTexture"),r.texture,0).RT(n.qB.gl.TRIANGLES,r.vertexBuffLen)})),!0})),g=$S.translate(g,-this.fh.x,-this.fh.y)),this.qB.el(v).CE(v,(function(r,e,o,s){if(n.qB.KE(r("uMatrix"),g).OE(r("uIsHighlighted"),1===t||2===t?0:n.yi).WF(r("uHighlightColorOffset"),1===t||2===t?j:n.gi).OE(r("uRenderEffectMask"),2===t?1:0),n.ZN&&n.qB.kE(s("uViewportSizePx"),[b.x*n.qB.hE(),b.y*n.qB.hE()]),1===t)n.qB.$E(r("uFirstId"),i).HP(o,1);else if(d)n.qB.WF(r("uColor"),d.getColor());else if(y&&n.Vz){n.qB.kE(r("uCenter"),n.Vz.center).kE(r("uDistance"),n.Vz.distance).LE(r("uBounds"),n.Vz.bounds).OE(r("uAspect"),n.Vz.aspectRatio);for(var a=y.getColorStops(),u=0;u<a.length;u+=1)n.qB.WF(r("color_".concat(u)),a[u].color).OE(r("stop_".concat(u)),a[u].offset)}else if(A&&n.Rz)for(n.qB.kE(r("uStartPoint"),n.Rz.startPoint).kE(r("uEndPoint"),n.Rz.endPoint).LE(r("uBounds"),n.Rz.bounds),a=A.getColorStops(),u=0;u<a.length;u+=1)n.qB.WF(r("color_".concat(u)),a[u].color).OE(r("stop_".concat(u)),a[u].offset);return 1===t&&n.qB.EE(e("aPos"),n.qB.FP).RT(n.qB.gl.TRIANGLES,6),1!==t&&n.wG.forEach((function(t){n.qB.EE(e("aPos"),t.vertexBuff).EE(e("aMaskTextureCoord"),t.texCoordBuff)._E(r("uMaskTexture"),t.texture,0).RT(n.qB.gl.TRIANGLES,t.vertexBuffLen)})),!0}))}return{idCount:1}},i.prototype.Bc=function(t,i,n,r,e){return{}},i.prototype.Tc=function(){return this.th()?Zn(this.MG):Bn},i.prototype.Oc=function(){return this.th()&&this.Me?this.Me:h(0,0)},i.prototype.Mt=function(){if(this.th()&&this.CG){var t=this.CG;return h(t.max.x-t.min.x,t.max.y-t.min.y)}return h(0,0)},i.prototype.jc=function(){var t=this;return this.wG.forEach((function(i){i.texCoordBuff&&t.qB.PE(i.texCoordBuff),i.vertexBuff&&t.qB.PE(i.vertexBuff)})),this.wG=[],this.jG&&this.jG.fD(this),this._D=void 0,this.DG=void 0,this.LG=void 0,this},i.prototype.Xi=function(){return this.CG.max.x},i.prototype.Wi=function(){return this.CG.min.x},i.prototype.Zi=function(){return this.CG.max.y},i.prototype.Hi=function(){return this.CG.min.y},i.prototype.Cf=function(){return 0},i.prototype.Tf=function(){return 0},i}(ba),nw=function(){function t(t){this.iV=0,this.EG=null,this.PG=t}return t.prototype.zG=function(){return this.PG},t.prototype.NG=function(t,i,n,r){for(var e,o,s,a,u,h,f,c,l,v,d=this.EG,y=null,A=null,b=!1,p=!1;d&&(null===y&&(this.VG(t,i,null===(e=d.head)||void 0===e?void 0:e.px,null===(o=d.head)||void 0===o?void 0:o.py)?(y=d,b=!0):this.VG(t,i,null===(s=d.tail)||void 0===s?void 0:s.px,null===(a=d.tail)||void 0===a?void 0:a.py)&&(y=d)),null===A&&(this.VG(n,r,null===(u=d.head)||void 0===u?void 0:u.px,null===(h=d.head)||void 0===h?void 0:h.py)?(A=d,p=!0):this.VG(n,r,null===(f=d.tail)||void 0===f?void 0:f.px,null===(c=d.tail)||void 0===c?void 0:c.py)&&(A=d)),null==A||null==y);)d=d.next;switch((null!=y?1:0)|(null!=A?2:0)){case 0:var m={px:t,py:i,prev:null},g={px:n,py:r,next:null};m.next=g,g.prev=m,y={head:m,tail:g,next:this.EG,prev:null,closed:!1},this.EG&&(this.EG.prev=y),this.EG=y,++this.iV;break;case 1:var x={px:n,py:r};b?(x.next=y.head,x.prev=null,y.head.prev=x,y.head=x):(x.next=null,x.prev=y.tail,y.tail.next=x,y.tail=x);break;case 2:x={px:t,py:i},p?(x.next=A.head,x.prev=null,A.head.prev=x,A.head=x):(x.next=null,x.prev=A.tail,A.tail.next=x,A.tail=x);break;case 3:if(y===A){x={px:null===(l=y.tail)||void 0===l?void 0:l.px,py:null===(v=y.tail)||void 0===v?void 0:v.py,next:y.head,prev:null},y.head.prev=x,y.head=x,y.closed=!0;break}switch((b?1:0)|(p?2:0)){case 0:this.GG(y);case 1:A.tail.next=y.head,y.head.prev=A.tail,A.tail=y.tail,this.UG(y);break;case 3:this.GG(y);case 2:y.tail.next=A.head,A.head.prev=y.tail,y.tail=A.tail,this.UG(A)}}},t.prototype.UG=function(t){t.prev?t.prev.next=t.next:this.EG=t.next,t.next&&(t.next.prev=t.prev),--this.iV},t.prototype.YG=function(t,i,n){return void 0===n&&(n=1e-10),Math.abs(t-i)<Math.min(Math.abs(t),Math.abs(i))*n},t.prototype.VG=function(t,i,n,r){return!!(t&&i&&n&&r)&&this.YG(t,n)&&this.YG(i,r)},t.prototype.GG=function(t){for(var i=t.head;i;){var n=i.next;i.next=i.prev,i.prev=n,i=n}n=t.head,t.head=t.tail,t.tail=n},t}(),rw=function(){function t(t){this.h=new Array(5),this.sh=new Array(5),this.xh=new Array(5),this.yh=new Array(5),this.contours={},t&&(this.WG=t)}return t.prototype.XG=function(t,i,n,r){var e=i.length-1,o=n.length-1,s=this.h,a=this.sh,u=this.xh,h=this.yh,f=r.length;this.contours={};for(var c,l,v,d,y,A=function(t,i){return(s[i]*u[t]-s[t]*u[i])/(s[i]-s[t])},b=function(t,i){return(s[i]*h[t]-s[t]*h[i])/(s[i]-s[t])},p=0,m=0,g=0,x=0,S=[0,1,1,0],w=[0,0,1,1],M=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],C=o-1;C>=0;C--)for(var T=0;T<e;T++){var k=t(T,C),_=t(T+1,C),O=t(T,C+1),F=t(T+1,C+1),I=Math.min(O,k),j=Math.min(F,_);if(d=Math.min(I,j),I=Math.max(O,k),j=Math.max(F,_),!((y=Math.max(I,j))<r[0]&&d>r[f-1]))for(var B=0;B<f;B++)if(r[B]>=d&&r[B]<=y){for(var D=4;D>=0;D--)D>0?(s[D]=t(T+S[D-1],C+w[D-1])-r[B],u[D]=i[T+S[D-1]],h[D]=n[C+w[D-1]]):(s[0]=.25*(s[1]+s[2]+s[3]+s[4]),u[0]=.5*(i[T]+i[T+1]),h[0]=.5*(n[C]+n[C+1])),s[D]>1e-10?a[D]=2:s[D]<-1e-10?a[D]=0:a[D]=1;for(D=1;D<=4;D++)if(l=4!=D?D+1:1,0!=(v=M[a[c=D]][a[0]][a[l]])){switch(v){case 1:p=u[c],g=h[c],m=u[0],x=h[0];break;case 2:p=u[0],g=h[0],m=u[l],x=h[l];break;case 3:p=u[l],g=h[l],m=u[c],x=h[c];break;case 4:p=u[c],g=h[c],m=A(0,l),x=b(0,l);break;case 5:p=u[0],g=h[0],m=A(l,c),x=b(l,c);break;case 6:p=u[l],g=h[l],m=A(c,0),x=b(c,0);break;case 7:p=A(c,0),g=b(c,0),m=A(0,l),x=b(0,l);break;case 8:p=A(0,l),g=b(0,l),m=A(l,c),x=b(l,c);break;case 9:p=A(l,c),g=b(l,c),m=A(c,0),x=b(c,0)}this.WG(p,g,m,x,r[B],B)}}}},t.prototype.WG=function(t,i,n,r,e,o){var s=this.contours[o];s||(s=this.contours[o]=new nw(e)),s.NG(t,i,n,r)},Object.defineProperty(t.prototype,"HG",{get:function(){var t=[],i=this.contours;for(var n in i)for(var r=i[n].EG,e=i[n].PG;r;){var o=r.head,s=[];for(s.ax=[],s.ay=[],s.level=e,s.k=n;o&&o.px&&o.py;)s.ax.push(o.px),s.ay.push(o.py),o=o.next;t.push(s),r=r.next}return t.sort((function(t,i){return t.length-i.length})),t},enumerable:!1,configurable:!0}),t}(),ew=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ow=function(){return ow=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},ow.apply(this,arguments)},sw=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,e,o)||this;a.ZG=A("bilinear"),a.QG=A(void 0),a.JG=!0,a.Yt={x:0,y:0},a.KG={x:1,y:1},a.ap=ra.lineStyle,a.qG=A(void 0),a.engine=i;var u="columns"===s.dataOrder?s.columns:s.rows,h="columns"===s.dataOrder?s.rows:s.columns;return a.xu=ow(ow({},s),{primaryDimensionVectorsCount:u,secondaryDimensionVectorsCount:h}),a.$G=new rw,a}return ew(i,t),i.prototype.Ap=function(t){return this.ZG.C(t),this},i.prototype.bp=function(){return this.ZG.T()},i.prototype.wS=function(t){return this.QG.C(t),this},i.prototype.MS=function(){return this.QG.T()},i.prototype.cp=function(t,i){return this.JG=this.Yt!=t||this.KG!=i,this.Yt=t,this.KG=i,this},i.prototype.lp=function(){return{start:this.Yt,step:this.KG,end:{x:this.Yt.x+this.KG.x*this.xu.columns,y:this.Yt.y+this.KG.y*this.xu.rows}}},i.prototype.up=function(t){return this.ap="function"==typeof t?t(this.ap):t,this},i.prototype.yp=function(){return this.ap},i.prototype.vp=function(t){return this.qG.C(t),this},i.prototype.dp=function(){return this.qG.T()},i}(da),aw=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uw=function(){return uw=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},uw.apply(this,arguments)},hw=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,e,o,s)||this;a.CD=new kx,a.NN={},a.tU=[],a.iU=!1,a.nf=!1,a.Bz=ao({fillStyleSolid:function(){return Yr(a.Qr)&&a.Qr},fillStylePaletted:function(){return Zr(a.Qr)&&a.Qr},wireframeStyleLine:function(){return Ye(a.ap)&&a.ap},wireframeStyleFill:function(){var t=a.ap&&a.ap.getFillStyle();return Yr(t)&&t}}),a.nU=void 0,a.rU=Gv,a.Cz=i,a.Tz=n,a.qB=i.kz(),a.Tz=n;var u=Math.min(a.qB.tD,void 0!==s.pS?s.pS:2048),h={x:Math.min(u,a.xu.primaryDimensionVectorsCount),y:Math.min(u,a.xu.secondaryDimensionVectorsCount)},f=function(t,i,n){var r,e=[],o=n(t.primaryDimensionVectorsCount,i.x),s=n(t.secondaryDimensionVectorsCount,i.y);return o.forEach((function(t){return s.forEach((function(i){var n={iFirstVector:{primary:t.start,secondary:i.start},iFirstUniqueVector:{primary:t.startUnique,secondary:i.startUnique},sizeHeatmapDataVectors:{primary:t.sizeData,secondary:i.sizeData},sizeUniqueHeatmapDataVectors:{primary:t.sizeUniqueData,secondary:i.sizeUniqueData}};e.push(n)}))})),r=[],e.forEach((function(t){var i=r.find((function(i){return i.sizeHeatmapData.primary===t.sizeHeatmapDataVectors.primary&&i.sizeHeatmapData.secondary===t.sizeHeatmapDataVectors.secondary}));i||(i={sizeHeatmapData:t.sizeHeatmapDataVectors,tiles:[]},r.push(i)),i.tiles.push(t)})),{gridTiles:e,gridTileSizes:r}}(a.xu,h,a.rU),c=f.gridTiles.map((function(t){return uw(uw({},t),{intensityData:void 0,hasIntensityData:!1})})),l=f.gridTileSizes.map((function(t){return uw(uw({},t),{tiles:c.filter((function(i){return i.sizeHeatmapDataVectors.primary===t.sizeHeatmapData.primary&&i.sizeHeatmapDataVectors.secondary===t.sizeHeatmapData.secondary}))})}));return a.eU={gridTiles:c,gridTileSizes:l},a.cp(a.Yt,a.KG),a.oU=[],a.sU=new Jh((function(){var t=new QS(a.Cz,a.Tz,a.ai,Ai);return t.Gl(Vr).Rl(Vr),t})),a.aU=[],a.uU=new Jh((function(){var t=new iw(a.Cz,a.Tz,a.ai,Ai,[]);return t.Uh({x:0,y:0}),t})),a}return aw(i,t),i.prototype.hU=function(){return this.qB.Ai.bu.pL},i.prototype.Mi=function(){return this.rf},i.prototype.fU=function(t){return t.intensityData||(t.intensityData=new Float32Array(t.sizeHeatmapDataVectors.primary*t.sizeHeatmapDataVectors.secondary)),t.intensityData},i.prototype.cU=function(t,i){return 0<=t&&t<i?t:t<0?t%i+i:t%i},i.prototype.lU=function(t,i){var n=at(t,this.ai,this.Tz.Ai.ai),r=at(i,this.ai,this.Tz.Ai.ai),e=180*Math.atan2(n.y-r.y,r.x-n.x)/Math.PI;return(e<-90||90<e)&&(e+=180),e},i.prototype.vU=function(t,i,n,r){var e=Ar(t,i,n,r);if(e){var o=Math.min(t.x,i.x,n.x,r.x),s=Math.max(t.x,i.x,n.x,r.x),a=Math.min(t.y,i.y,n.y,r.y),u=Math.max(t.y,i.y,n.y,r.y);if(e.x<=o||s<=e.x||e.y<=a||u<=e.y)return}return e},i.prototype.dU=function(t,i,n,r){var e=this;if(i.length<5)return{labelPos:[{x:NaN,y:NaN}],labelAngle:[Number.NaN]};void 0===this.nU&&(this.nU=new iw(this.Cz,this.Tz,this.ai,this.bi,[]));var o=t.labelFont,s=this.nU.Wo(r).po(0).bo(o).Io().Mt().x;Number.isNaN(s)&&(this.nU.dispose(),this.nU=new iw(this.Cz,this.Tz,this.ai,this.bi,[]),s=this.nU.Wo(r).po(0).bo(o).Io().Mt().x);for(var a=this.nU,u=this.ai.x.R,h=this.ai.x.G,f=this.ai.y.R,c=this.ai.y.G,l={x:u,y:f},v={x:h,y:c},d=[{x:l.x,y:l.y},{x:l.x,y:v.y}],y=[{x:l.x,y:v.y},{x:v.x,y:v.y}],A=[{x:v.x,y:l.y},{x:v.x,y:v.y}],b=[{x:l.x,y:l.y},{x:v.x,y:l.y}],p={x:i[0],y:n[0]},m={x:i[1],y:n[1]},g=[],x=l.x,S=v.x,w=l.y,M=v.y,C=function(t,i,n,r){var o=qn(t,l,v),s=qn(i,l,v);if(o&&s)return r?(n.push(t),n.push(i),!1):(n.push(i),!1);if(!o&&!s&&(t.x<x&&i.x<x||t.y<w&&i.y<w||S<t.x&&S<i.x||M<t.y&&M<i.y))return!(0<n.length&&0==isNaN(n[n.length-1].x)&&(n.push({x:NaN,y:NaN}),0));var a=e.vU(d[0],d[1],t,i),u=e.vU(y[0],y[1],t,i),h=e.vU(A[0],A[1],t,i),f=e.vU(b[0],b[1],t,i),c=[];if(a&&c.push(a),u&&c.push(u),h&&c.push(h),f&&c.push(f),1==c.length){if(o)r&&n.push(t),n.push(i),n.push({x:NaN,y:NaN});else if(s)return n.push(t),n.push(i),!1}else 2==c.length&&(0<n.length&&0==isNaN(n[n.length-1].x)&&n.push({x:NaN,y:NaN}),n.push(c[0]),n.push(c[1]),n.push({x:NaN,y:NaN}));return!0},T=C(p,m,g,!0),k=4*this.ai.x.getPixelSize()/2,_=2;_<i.length;_++)m={x:i[_],y:n[_]},k<=Math.abs(m.x-p.x)+Math.abs(m.y-p.y)&&(T=C(p,m,g,T),p=m);var O=g.length;if(O<2)return{labelPos:[{x:NaN,y:NaN}],labelAngle:[Number.NaN]};p={x:i[i.length-1],y:n[n.length-1]},qn(p,l,v)&&p.x==g[0].x&&p.y==g[0].y&&g.push(g[0]);var F=[],I=[],j=0;for(_=j+1;_<2*O;_++){var B=this.cU(_,O);if(O<_&&s<this.Sv(g[B],g[0]))break;var D=this.cU(j,O);if(isNaN(g[D].x))0<F.length&&(I.push(F),F=[]),_=++j;else{var L=isNaN(g[B].x);if(L)0<F.length&&(I.push(F),F=[]),j=++_;else if(g[B].x<l.x+0||v.x-0<g[B].x||g[B].y<l.y+0||v.y-0<g[B].y)j=++_;else if(s<this.Sv(g[B],g[D])){for(var E=g[D],P=g[B],z=Number.MIN_VALUE,N=j+1;N<_-1;N++){var V=this.cU(N,O);if(isNaN(g[V].x))break;if(z==Number.MIN_VALUE||!(g[V].x<l.x+0||v.x-0<g[V].x||g[V].y<l.y+0||v.y-0<g[V].y)){var R=Wn({x:g[V].x,y:g[V].y},E,P);z<R&&(z=R)}}if(z!=Number.MIN_VALUE&&(F.push({x:z,y:D,z:B}),O<=_&&0<=D))break;_=++j}else L&&(_=++j)}}m={x:0,y:0};var G=-1,U=[],Y=[];I.length<1&&0<F.length&&I.push(F);var W=function(t){(F=I[t]).sort((function(t,i){return t.x-i.x})),G=F[0].y;var r=0,s=F[0].z;X.aU.forEach((function(t,u){var h=a.ne({x:t.position.x,y:t.position.y}).po(t.angle).bo(t.font).Io().Tc();if(!isNaN(h.min.x)){var f=G,c=s;if(g[f]&&g[c]&&!isNaN(g[f].x)&&!isNaN(g[c].x))for(var l=e.lU(g[f],g[c]),v=a.ne({x:i[G],y:n[G]}).po(l).bo(o).Io().Tc();En(h,v)&&r<F.length-1;)if(f=F[++r].y,c=F[r].z,g[f]&&g[c]&&!isNaN(g[f].x)&&!isNaN(g[c].x)){var d=(g[f].x+g[c].x)/2,y=(g[f].y+g[c].y)/2;l=e.lU(g[f],g[c]),v=a.ne({x:d,y:y}).po(l).bo(o).Io().Tc()}}})),F.length<=r&&(r=0);var u=F[r].y,h=F[r].z,f=0;3<(f=u<h?h-u:O-u+h)&&(f-=2),G=u;var c=Number.NaN,l=Number.NaN;if(g[0].x==g[g.length-1].x&&g[0].y===g[g.length-1].y){G=u;var v=X.cU(u-1,g.length),d=X.cU(u+f,g.length);c=(g[v].x+g[d].x)/2,l=(g[v].y+g[d].y)/2}else if(u<4)u=G=3,h=X.cU(u+f+1,g.length),v=X.cU(u,g.length),d=X.cU(h,g.length),c=(g[v].x+g[d].x)/2,l=(g[v].y+g[d].y)/2;else{for(G=u-1;G<g.length&&isNaN(g[G].x);)++G;if(G==g.length)for(;G<g.length&&isNaN(g[G].x);)++G;v=X.cU(G,g.length),d=X.cU(G+f+1,g.length),c=(g[v].x+g[d].x)/2,l=(g[v].y+g[d].y)/2}0<=G&&(p=g[u],m=g[h],U.push({x:c,y:l}),Y.push(X.lU(p,m)))},X=this;for(_=0;_<I.length;_++)W(_);return 0<=U.length?{labelPos:U,labelAngle:Y}:{labelPos:[{x:NaN,y:NaN}],labelAngle:[Number.NaN]}},i.prototype.Sv=function(t,i){var n=t.x-i.x,r=t.y-i.y;return Math.sqrt(n*n+r*r)},i.prototype.yU=function(t,i){var n=this;if(!this.eU)return this;if(!t)return this.AU(!0),this.bU(!0),this;if(!i)return(this.ai.x.Ft||this.ai.x._t||this.ai.y.Ft||this.ai.y._t)&&this.pU(t),this;if(!this.eU.gridTiles)return this;if(!this.mU)return this;var r=this.mU.boundaries.min.x,e=this.mU.boundaries.min.y,o=this.mU.boundaries.max.x,s=this.mU.boundaries.max.y;if(null==r||null==e||null==o||null==s)return this;var a=this.xu.columns,u=this.xu.rows,h=(o-r)/a,f=(s-e)/u,c=new Array(a).fill(0,0,a).map((function(t,i){return r+i*h+h/2})),l=new Array(u).fill(0,0,u).map((function(t,i){return e+i*f+f/2})),v=[];return t.levels.forEach((function(t){v.push(t.value)})),this.$G.XG((function(t,i){return n.gU(function(t,i){return"rows"==n.xu.dataOrder?i:t}(t,i),function(t,i){return"rows"==n.xu.dataOrder?t:i}(t,i))}),c,l,v),this.xU(t),this.pU(t),this},i.prototype.xU=function(t){var i=this;this.AU();var n=new Map;return t.levels.forEach((function(t){n.set(t.value,t.strokeStyle)})),this.$G.HG.forEach((function(t){var r=t.level,e=n.get(r),o=i.oU.find((function(t){return t.lineStyle===e}));if(o)o.points.appendSample({xValues:NaN,yValues:NaN}),o.points.appendSamples({xValues:t.ax,yValues:t.ay});else{var s=new Ga({warnings:!1,schema:{xValues:{pattern:null},yValues:{pattern:null}}});s.appendSamples({xValues:t.ax,yValues:t.ay});var a={lineStyle:e,points:s};i.oU.push(a)}})),this},i.prototype.pU=function(t){var i=this;this.bU();var n=Zr(this.Qr)?this.Qr.lut:void 0;return this.$G.HG.forEach((function(r){var e,o,s,a,u=[],h=[],f=r.k,c=t.levels[f],l=null!==(s=null!==(o=c.label)&&void 0!==o?o:null==n?void 0:n.getFormatter()(c.value,{min:n.min,max:n.max}))&&void 0!==s?s:c.value.toString();if(t.showLabels&&(u=(e=i.dU(t.levels[f],r.ax,r.ay,l)).labelPos,h=e.labelAngle,0<u.length))for(var v=0;v<u.length;v++)i.aU.push({text:l,position:u[v],angle:h[v],font:c.labelFont,fill:c.labelFillStyle,shadow:null!==(a=t.shadows)&&void 0!==a?a:void 0})})),this},i.prototype.Io=function(){var t=this,i=this.tU,n=this.Qr,r=this.Ku(),e=this.ap,o=e!==this.SU,s=this.Bz.wireframeStyleLine(o),a=this.Bz.wireframeStyleFill(o),u=s&&a&&!this.ai.Pt(),h=this.Bz.fillStylePaletted(r),f=this.Bz.fillStyleSolid(r),c=this.ZG.o,l=this.QG.o,v=this.ZG.T(),d=this.nf,y=this.hi.T();this.wU=this.wU||this.MU();var A=this.wU,b=Yv(i,A,d?"intensity":void 0,(function(t){return t.sizeHeatmapDataVectors})),p=this.qG.T(),m=p!==this.CU;this.yU(p,m||b.size>0||this.JG),this.CU=this.qG.T(),this.JG=!1,b.size>0&&(Qv(this.qB,b,(function(i){return t.fU(i.tileData)}),(function(t){return t.intensityDataTexture})),this.iU=!0),this.CD.BE(this.ai);var g=this.NN;if((r||c||l)&&(g.tile=h?{renderMode:"paletted",fillStylePaletted:h,shader:this.qB.CL(kg["2D"],kg.ColorGrid2D({heatmapType:"intensity",interpolation:"bilinear"===v&&"bilinear",flipXY:"rows"===this.xu.dataOrder,intensityTextureType:this.qB.gL?"float":"ubyte",littleEndian:this.qB.IS_MACHINE_LITTLE_ENDIAN,lut:h.lut,aggregation:this.QG.T()}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0}))}:f?{renderMode:"solid",fillStyleSolid:f,shader:this.qB.CL(kg["2D"],kg.Color({dataType:"uniform"}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0}))}:void 0),o&&(g.wireframe=u&&s&&a?-1===s.getThickness()?{renderMode:"primitive",shader:this.qB.CL(kg["2D"],kg.Color({dataType:"uniform"}),kg.VertexLocation({translation:{dataType:"uniform",sizeUnit:"axis"},scaling:{dataType:"uniform"},flipXY:"rows"===this.xu.dataOrder,axisWorldTranslation:oo(this.ai),normalSource:void 0})),fillStyleSolid:a}:{renderMode:"triangulated",shader:this.qB.CL(kg["2D"],kg.Color({dataType:"uniform"}),kg.LineInstanced2D({translation:{dataType:"uniform",sizeUnit:"axis"},scaling:{dataType:"uniform"},flipXY:"rows"===this.xu.dataOrder,axisWorldTranslation:oo(this.ai),normalSource:void 0})),geometry:$x(this.qB,1),solidLine:s,fillStyleSolid:a}:void 0,g.wireframe?this.TU=this.TU||this.kU():this.TU&&(this.qB.PE(this.TU.wireframeCoordinatesBuffer),this.TU=void 0)),g.mousePicking=y?this.NN.mousePicking||{shader:this.qB.CL(kg["2D"],kg.MousePicking(),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0}))}:void 0,this.NN=g,void 0===this.rf&&h&&"value"===h.lookUpProperty&&h.lut.percentageValues){var x=In,S=jn;this.wU.gridTiles.forEach((function(i){for(var n=t.fU(i.tileData),r=0;r<n.length;r+=1){var e=n[r];e<x&&(x=e),e>S&&(S=e)}})),this.rf={min:x,max:S}}return this.nf=!1,this.tU.length=0,this.ih(n),this.SU=e,this.ZG.o=!1,this.QG.o=!1,this},i.prototype.MU=function(){var t=this,i=this.eU.gridTiles.map((function(i){var n=Zv(t.qB,i.sizeHeatmapDataVectors.secondary,i.sizeHeatmapDataVectors.primary);return uw(uw({},i),{intensityDataTexture:n,tileData:i})})),n=this.eU.gridTileSizes.map((function(t){return uw(uw({},t),{tiles:i.filter((function(i){return i.sizeHeatmapDataVectors.primary===t.sizeHeatmapData.primary&&i.sizeHeatmapDataVectors.secondary===t.sizeHeatmapData.secondary}))})})),r=this.qB.wE(new Float32Array(16)),e=this.qB.gl.TRIANGLE_STRIP;return{gridTiles:i,gridTileSizes:n,rectangleLocationsBuffer:r,rectangleLocationsDrawMode:e,rectangleLocationsDrawLength:4}},i.prototype.kU=function(){for(var t=this.xu.primaryDimensionVectorsCount+1+this.xu.secondaryDimensionVectorsCount+1,i=new Float32Array(4*t),n=0,r=0;r<this.xu.primaryDimensionVectorsCount+1;r+=1)i[n+0]=r,i[n+1]=0,i[n+2]=r,i[n+3]=this.xu.secondaryDimensionVectorsCount,n+=4;for(var e=0;e<this.xu.secondaryDimensionVectorsCount+1;e+=1)i[n+0]=0,i[n+1]=e,i[n+2]=this.xu.primaryDimensionVectorsCount,i[n+3]=e,n+=4;return{wireframeCoordinatesBuffer:this.qB.wE(i),wireframeSegmentsLength:t}},i.prototype.cp=function(i,n){var r=this;t.prototype.cp.call(this,i,n);var e=this.xu,o=d({x:Math.min(this.Yt.x,this.Yt.x+e.columns*this.KG.x),y:Math.min(this.Yt.y,this.Yt.y+e.rows*this.KG.y)},{x:Math.max(this.Yt.x,this.Yt.x+e.columns*this.KG.x),y:Math.max(this.Yt.y,this.Yt.y+e.rows*this.KG.y)}),s=new Map;return this.eU.gridTiles.forEach((function(t){var i="columns"===r.xu.dataOrder?{x:r.Yt.x+r.KG.x*t.iFirstVector.primary,y:r.Yt.y+r.KG.y*t.iFirstVector.secondary}:{x:r.Yt.x+r.KG.x*t.iFirstVector.secondary,y:r.Yt.y+r.KG.y*t.iFirstVector.primary},n="columns"===r.xu.dataOrder?{x:r.KG.x*t.sizeHeatmapDataVectors.primary,y:r.KG.y*t.sizeHeatmapDataVectors.secondary}:{x:r.KG.x*t.sizeHeatmapDataVectors.secondary,y:r.KG.y*t.sizeHeatmapDataVectors.primary},e="columns"===r.xu.dataOrder?{x:r.Yt.x+r.KG.x*t.iFirstUniqueVector.primary,y:r.Yt.y+r.KG.y*t.iFirstUniqueVector.secondary}:{x:r.Yt.x+r.KG.x*t.iFirstUniqueVector.secondary,y:r.Yt.y+r.KG.y*t.iFirstUniqueVector.primary},o="columns"===r.xu.dataOrder?{x:r.KG.x*t.sizeUniqueHeatmapDataVectors.primary,y:r.KG.y*t.sizeUniqueHeatmapDataVectors.secondary}:{x:r.KG.x*t.sizeUniqueHeatmapDataVectors.secondary,y:r.KG.y*t.sizeUniqueHeatmapDataVectors.primary};s.set(t,{startLocationAxis:i,sizeAxis:n,startRenderLocationAxis:e,renderSizeAxis:o})})),this.mU={boundaries:o,tilesInfo:s},this},i.prototype.Ic=function(t,i){var n,r,e=this,o=this.wU,s=this.mU;if(this.QG.T()&&"bilinear"===this.ZG.T())return ci.console.warn("LightningChart JS error | heatmap has both bilinear interpolation and aggregation enabled at same time. Disable one of them"),{idCount:0};var a=1===t?null===(n=this.NN.mousePicking)||void 0===n?void 0:n.shader:null===(r=this.NN.tile)||void 0===r?void 0:r.shader;if(this.NN.tile&&a&&o&&s){var u=a,h=this.NN.tile,f={x:(s.boundaries.max.x-s.boundaries.min.x)*Math.sign(this.KG.x),y:(s.boundaries.max.y-s.boundaries.min.y)*Math.sign(this.KG.y)},c={x:f.x/this.xu.columns,y:f.y/this.xu.rows},l=this.ai.oi(),v={x:c.x/l.x,y:c.y/l.y};this.qB.el(u).CE(u,(function(n,r,a,u){var f,c,l=!1;if(!e.qB.rz(a,t,e,{uniforms:e.CD,idFirst:i,fillStyleSolid:"solid"===h.renderMode&&h.fillStyleSolid}))return!1;if("solid"===h.renderMode||1===t){var d=Ni([{x:e.Yt.x,y:e.Yt.y},{x:e.Yt.x+e.KG.x*e.xu.columns,y:e.Yt.y},{x:e.Yt.x,y:e.Yt.y+e.KG.y*e.xu.rows},{x:e.Yt.x+e.KG.x*e.xu.columns,y:e.Yt.y+e.KG.y*e.xu.rows}],e.ai.Pt());e.qB.rP(o.rectangleLocationsBuffer,0,d),e.qB.VP(a,o.rectangleLocationsBuffer,e.ai.Pt(),void 0).RT(e.qB.gl.TRIANGLE_STRIP,4),l=!0}else if("paletted"===h.renderMode){if(e.qB.tz(a,h.fillStylePaletted.lut,e.rf),e.QG.T()){var y=v.x<1?Math.max(Math.ceil(.5/v.x),1):0,A=v.y<1?Math.max(Math.ceil(.5/v.y),1):0;e.qB.kE(n("uAggregationWindowSize"),[y,A])}f=function(t){e.qB.kE(n("uTileDimensions"),["columns"===e.xu.dataOrder?t.sizeHeatmapData.primary:t.sizeHeatmapData.secondary,"columns"===e.xu.dataOrder?t.sizeHeatmapData.secondary:t.sizeHeatmapData.primary])},c=function(t,i){var r=s.tilesInfo.get(t.tileData);if(r){var u,h,f,c=e.qB.hE();u="bilinear"===e.ZG.T()?[h=(e.ai.x.Bt(r.startLocationAxis.x)+v.x/2)*c,f=(e.ai.y.Bt(r.startLocationAxis.y)+v.y/2)*c,(e.ai.x.Bt(r.startLocationAxis.x+r.sizeAxis.x)-v.x/2)*c-h,(e.ai.y.Bt(r.startLocationAxis.y+r.sizeAxis.y)-v.y/2)*c-f]:[h=e.ai.x.Bt(r.startLocationAxis.x)*c,f=e.ai.y.Bt(r.startLocationAxis.y)*c,e.ai.x.Bt(r.startLocationAxis.x+r.sizeAxis.x)*c-h,e.ai.y.Bt(r.startLocationAxis.y+r.sizeAxis.y)*c-f];var d=Ni([{x:r.startRenderLocationAxis.x,y:r.startRenderLocationAxis.y},{x:r.startRenderLocationAxis.x+r.renderSizeAxis.x,y:r.startRenderLocationAxis.y},{x:r.startRenderLocationAxis.x,y:r.startRenderLocationAxis.y+r.renderSizeAxis.y},{x:r.startRenderLocationAxis.x+r.renderSizeAxis.x,y:r.startRenderLocationAxis.y+r.renderSizeAxis.y}],e.ai.Pt());e.qB.rP(o.rectangleLocationsBuffer,0,d),e.qB.LE(n("uTileBounds"),u)._E(n("uTileIntensityValues"),t.intensityDataTexture,1).VP(a,o.rectangleLocationsBuffer,e.ai.Pt(),void 0).RT(e.qB.gl.TRIANGLE_STRIP,4),l=!0}},o.gridTileSizes.forEach((function(t){f(t),t.tiles.forEach((function(t){c(t)}))}))}return 1===t&&e.qB.HP(a,1),l}))}var d=this.TU,y=this.NN.wireframe,A=1===t||null==y?void 0:y.shader;if(d&&y&&A&&"primitive"===y.renderMode){var b=y.fillStyleSolid;this.qB.el(A).CE(A,(function(i,n,r){return(e.ai instanceof nt||e.ai instanceof eo)&&e.qB.kE(i("uScale"),e.CD.FE()).kE(i("uDisp"),e.CD.IE()),e.qB.OE(i("uIsHighlighted"),1===t||2===t?0:e.yi).WF(i("uHighlightColorOffset"),1===t||2===t?j:e.gi).OE(i("uRenderEffectMask"),2===t?1:0).WF(i("uColor"),b.getColor()).TE(d.wireframeCoordinatesBuffer,void 0,{location:n("aPos"),size:2}).kE(i("uScaling"),[e.KG.x,e.KG.y]).kE(i("uTranslationAxis"),[e.Yt.x,e.Yt.y]).RT(e.qB.gl.LINES,2*d.wireframeSegmentsLength),!0}))}else if(d&&y&&A&&"triangulated"===y.renderMode){var p=y.geometry,m=y.solidLine,g=y.fillStyleSolid;this.qB.el(A).CE(A,(function(i,n,r){return(e.ai instanceof nt||e.ai instanceof eo)&&e.qB.kE(i("uScale"),e.CD.FE()).kE(i("uDisp"),e.CD.IE()),e.qB.OE(i("uIsHighlighted"),1===t||2===t?0:e.yi).WF(i("uHighlightColorOffset"),1===t||2===t?j:e.gi).OE(i("uRenderEffectMask"),2===t?1:0).WF(i("uColor"),g.getColor()).OE(i("uThicknessPixels"),m.getThickness()).kE(i("uRatioPxClip"),[2/e.Ai.Mt().x,2/e.Ai.Mt().y]).TE(d.wireframeCoordinatesBuffer,1,{location:n("aLocationA"),size:2},{location:n("aLocationB"),size:2}).kE(i("uScaling"),[e.KG.x,e.KG.y]).kE(i("uTranslationAxis"),[e.Yt.x,e.Yt.y]),p.el(r,!1).RT(d.wireframeSegmentsLength),!0}))}if(0===t){var x=this.hU()&&this.aU,S=this.qB,w=this.ai.x.Ut(),M=this.ai.x.Rt(),C=this.ai.y.Ut(),T=this.ai.y.Rt(),k=function(t,i,n){var r=i.position;return w<r.x&&r.x<M&&C<r.y&&r.y<T&&(n.add().ne(r).Yo(i.shadow).Wo(i.text).po(i.angle).bo(i.font).$r(i.fill).Io().Ic(t,0),!0)},_=this.uU.Xd();x&&(function(t,i){if(void 0!==i){var n=t.gl;t.DE(!0),n.clearStencil(1),n.clear(n.STENCIL_BUFFER_BIT),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.REPLACE),n.stencilMask(255),n.colorMask(!1,!1,!1,!1),i(),n.colorMask(!0,!0,!0,!0)}}(S,(function(){e.aU.forEach((function(t){k(1,t,_)}))})),S.gl.stencilFunc(S.gl.EQUAL,1,255),S.gl.stencilOp(S.gl.KEEP,S.gl.KEEP,S.gl.KEEP),S.DE(!0));var O=this.sU.Xd();if(O){var F=O.add();this.oU.forEach((function(i){F.Vl(i.points,{x:"xValues",y:"yValues"}),F.fe(i.lineStyle),F.Io(),F.Ic(t,0)}))}O.finishPlot(),x&&S.DE(!1),this.aU&&this.aU.forEach((function(i){k(t,i,_)})),_.finishPlot()}return{idCount:1}},i.prototype.Bc=function(t,i,n,r,e){return{}},i.prototype.pp=function(t){var i=this;return 0===t.lengthPrimary||0===t.lengthSecondary||(this.tU.push(t),Hv(this.eU.gridTiles,t,(function(t){return t.hasIntensityData=!0,i.fU(t)}),(function(t,i){t.hasIntensityData=!0,t.intensityData=i})),this.rf=void 0),this},i.prototype.zi=function(){return this.iU&&(this.eU.gridTiles.forEach((function(t){t.intensityData&&t.intensityData.fill(0),t.hasIntensityData=!1})),this.nf=!0,this.iU=!1,this.rf=void 0),this},i.prototype.AU=function(t){return void 0===t&&(t=!1),t&&this.sU.Qd(),this.oU.length=0,this},i.prototype.bU=function(t){return void 0===t&&(t=!1),t&&(this.uU.Qd(),this.nU&&(this.nU.dispose(),this.nU=void 0)),this.aU.length=0,this},i.prototype.dispose=function(){var i=this;t.prototype.dispose.call(this);var n=this.wU;n&&(n.gridTiles.forEach((function(t){i.qB.iD(t.intensityDataTexture)})),n.gridTiles.length=0,n.gridTileSizes.forEach((function(){})),n.gridTileSizes.length=0,this.qB.PE(n.rectangleLocationsBuffer)),this.wU=void 0;var r=this.TU;return r&&this.qB.PE(r.wireframeCoordinatesBuffer),this.TU=void 0,this.AU(!0),this.bU(!0),this.NN={},this},i.prototype.jc=function(){return this.dispose(),this},i.prototype.wl=function(t){var i=t,n="columns"===this.xu.dataOrder?i.x:i.y,r="columns"===this.xu.dataOrder?i.y:i.x,e="columns"===this.xu.dataOrder?this.Yt.x:this.Yt.y,o="columns"===this.xu.dataOrder?this.Yt.y:this.Yt.x,s=(n-e)/("columns"===this.xu.dataOrder?this.KG.x:this.KG.y),a=(r-o)/("columns"===this.xu.dataOrder?this.KG.y:this.KG.x);s=Math.floor(pi(s,0,this.xu.primaryDimensionVectorsCount-1)),a=Math.floor(pi(a,0,this.xu.secondaryDimensionVectorsCount-1));var u=this.gU(s,a),h="columns"===this.xu.dataOrder?{x:this.Yt.x+(s+.5)*this.KG.x,y:this.Yt.y+(a+.5)*this.KG.y}:{x:this.Yt.x+(a+.5)*this.KG.x,y:this.Yt.y+(s+.5)*this.KG.y},f="columns"===this.xu.dataOrder?s:a,c="columns"===this.xu.dataOrder?a:s;return{x:h.x,y:h.y,column:f,row:c,cellValue:u}},i.prototype.xS=function(t){var i=this.mU;if(!(!i||t.x<i.boundaries.min.x||t.x>i.boundaries.max.x||t.y<i.boundaries.min.y||t.y>i.boundaries.max.y)){var n=t,r="columns"===this.xu.dataOrder?n.x:n.y,e="columns"===this.xu.dataOrder?n.y:n.x,o="columns"===this.xu.dataOrder?this.Yt.x:this.Yt.y,s="columns"===this.xu.dataOrder?this.Yt.y:this.Yt.x,a="columns"===this.xu.dataOrder?this.KG.x:this.KG.y,u="columns"===this.xu.dataOrder?this.KG.y:this.KG.x,h=pi((r-o)/a-.5,0,this.xu.primaryDimensionVectorsCount-1),f=pi((e-s)/u-.5,0,this.xu.secondaryDimensionVectorsCount-1),c=pi(Math.ceil(h)-1,0,this.xu.primaryDimensionVectorsCount-1),l=pi(Math.ceil(f)-1,0,this.xu.secondaryDimensionVectorsCount-1),v={point:{x:c,y:l},value:this.gU(c,l)},d={point:{x:c,y:l+1},value:this.gU(c,l+1)},y={point:{x:c+1,y:l},value:this.gU(c+1,l)},A={point:{x:c+1,y:l+1},value:this.gU(c+1,l+1)},b=ge({x:h,y:f},v,d,y,A);if(void 0!==b){var p=pi(Math.floor(h+.5),0,this.xu.primaryDimensionVectorsCount-1),m=pi(Math.floor(f+.5),0,this.xu.secondaryDimensionVectorsCount-1),g="columns"===this.xu.dataOrder?p:m,x="columns"===this.xu.dataOrder?m:p,S=t;return{x:S.x,y:S.y,column:g,row:x,cellValue:b}}}},i.prototype.gU=function(t,i){for(var n=0;n<this.eU.gridTiles.length;n+=1){var r=this.eU.gridTiles[n];if(t>=r.iFirstVector.primary&&t<=r.iFirstVector.primary+r.sizeHeatmapDataVectors.primary-1&&i>=r.iFirstVector.secondary&&i<=r.iFirstVector.secondary+r.sizeHeatmapDataVectors.secondary-1){if(!r.intensityData)return 0;var e=t-r.iFirstVector.primary,o=i-r.iFirstVector.secondary,s=e*r.sizeHeatmapDataVectors.secondary+o;return r.intensityData[s]}}return 0},i.prototype.Xi=function(){var t;return(null===(t=this.mU)||void 0===t?void 0:t.boundaries.max.x)||0},i.prototype.Wi=function(){var t;return(null===(t=this.mU)||void 0===t?void 0:t.boundaries.min.x)||0},i.prototype.Zi=function(){var t;return(null===(t=this.mU)||void 0===t?void 0:t.boundaries.max.y)||0},i.prototype.Hi=function(){var t;return(null===(t=this.mU)||void 0===t?void 0:t.boundaries.min.y)||0},i.prototype.Cf=function(){return 0},i.prototype.Tf=function(){return 0},i.prototype.SS=function(){var t=[];return this.eU.gridTiles.forEach((function(i){if(i.hasIntensityData&&i.intensityData){for(var n=new Array(i.sizeUniqueHeatmapDataVectors.primary).fill(0).map((function(t){return new Array(i.sizeUniqueHeatmapDataVectors.secondary).fill(0)})),r=0;r<i.sizeUniqueHeatmapDataVectors.primary;r+=1)for(var e=r*i.sizeHeatmapDataVectors.secondary,o=n[r],s=0;s<i.sizeUniqueHeatmapDataVectors.secondary;s+=1){var a=i.intensityData[e+s];o[s]=a}t.push({type:"intensity",startPrimary:i.iFirstUniqueVector.primary,startSecondary:i.iFirstUniqueVector.secondary,lengthPrimary:i.sizeUniqueHeatmapDataVectors.primary,lengthSecondary:i.sizeUniqueHeatmapDataVectors.secondary,values:n})}})),t},i}(sw),fw=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cw=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,e,o)||this;return a.Yt={x:0,y:0},a.KG={x:1,y:1},a.QG=A(void 0),a.ap=ra.lineStyle,a.wc=A(void 0),a.ZG=A("bilinear"),a.engine=i,a.xu=s,a}return fw(i,t),i.prototype.cp=function(t,i){return this.Yt=t,this.KG=i,this},i.prototype.lp=function(){return{start:this.Yt,step:this.KG}},i.prototype.wS=function(t){return this.QG.C(t),this},i.prototype.MS=function(){return this.QG.T()},i.prototype.up=function(t){return this.ap="function"==typeof t?t(this.ap):t,this},i.prototype.yp=function(){return this.ap},i.prototype.kS=function(t){return this.wc.C(t),this},i.prototype._U=function(){return this.wc.T()},i.prototype.Ap=function(t){return this.ZG.C(t),this},i.prototype.bp=function(){return this.ZG.T()},i}(da),lw=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vw=function(){return vw=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},vw.apply(this,arguments)},dw=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,e,o,s)||this;return a.OU=0,a._S=[],a.Cz=i,a.Tz=n,a.qB=i.kz(),a.Tz=n,a.Kh="columns"===s.scrollDimension?d({x:a.Yt.x,y:a.Yt.y},{x:a.Yt.x,y:a.Yt.y+s.resolution*a.KG.y}):d({x:a.Yt.x,y:a.Yt.y},{x:a.Yt.x+s.resolution*a.KG.x,y:a.Yt.y}),a.FU={dataPerSegment:2048},a}return lw(i,t),i.prototype.Io=function(){var t=this;this.NV||(this.pi.push({type:"DataPattern",args:{pattern:"columns"===this.xu.scrollDimension?this.KG.x>0?"ProgressiveX":"RegressiveX":this.KG.y>0?"ProgressiveY":"RegressiveY"}}),this.NV=new pS(this.ai,this));var i=this.NV.IV(this._S,this.wc.T());if(i>0){for(var n=0;n<i;n+=1)this._S[0].shape.dispose().jc(),this._S.shift();"columns"===this.xu.scrollDimension?this.Kh.min.x=this._S.length>0?this._S[0].boundaries.min.x:In:this.Kh.min.y=this._S.length>0?this._S[0].boundaries.min.y:In}this._S.forEach((function(i){return i.shape.wS(t.QG.T()).Io()}));var r=this._S.reduce((function(t,i){var n,r;return t.min=Math.min(t.min,gi(null===(n=i.shape.rf)||void 0===n?void 0:n.min,In)),t.max=Math.max(t.max,gi(null===(r=i.shape.rf)||void 0===r?void 0:r.max,jn)),t}),{min:In,max:jn});return this._S.forEach((function(t){t.shape.rf=r})),this.wc.o=!1,this},i.prototype.Ic=function(t,i){var n=0;return this._S.forEach((function(r){var e=r.shape.Ic(t,i+n).idCount;void 0!==e&&(n+=e)})),{idCount:n}},i.prototype.Mi=function(){if(0!==this._S.length)return this._S.reduce((function(t,i){var n=i.shape.Mi();return n?{min:Math.min(n.min,t.min),max:Math.max(n.max,t.max)}:t}),{min:In,max:jn})},i.prototype.Bc=function(t,i,n,r,e){return{}},i.prototype.wp=function(t){if(0===t.length)return this;var i=0,n=this.FU.dataPerSegment,r=t.length;do{var e=this._S[this._S.length-1],o=e?n-(e.existingDataPointsCount+(e.hasJoint?1:0)):0,s=!1;if(!e||0===o){var a={columns:"columns"===this.xu.scrollDimension?n:this.xu.resolution,rows:"rows"===this.xu.scrollDimension?n:this.xu.resolution,heatmapDataType:this.xu.heatmapDataType,dataOrder:this.xu.scrollDimension},u="columns"===this.xu.scrollDimension?{x:this.Yt.x+this.KG.x*this.OU,y:this.Yt.y}:{x:this.Yt.x,y:this.Yt.y+this.KG.y*this.OU};this._S.length>0&&(u="columns"===this.xu.scrollDimension?{x:u.x-1*this.KG.x,y:u.y}:{x:u.x,y:u.y-1*this.KG.y},s=!0);var h=new hw(this.Cz,this.Tz,this.ai,Ai,[],a).Ap(this.ZG.T()).$r(this.Qr).up(this.ap).cp(u,this.KG);e={shape:h,existingDataPointsCount:0,existingCoordinatesCount:0,allocatedCoordinatesCount:n,dataStartIndex:this.OU,hasJoint:!1,boundaries:{min:{x:h.Wi(),y:h.Hi()},max:{x:h.Xi(),y:h.Zi()}}},this._S.push(e),o=n-(s?1:0)}var f=r-i,c=Math.min(o,f),l=t.slice(i,i+c),v={type:"intensity",values:l,startPrimary:e.existingDataPointsCount+(e.hasJoint?1:0),startSecondary:0,lengthPrimary:c,lengthSecondary:this.xu.resolution};s&&(v.values.unshift(this.IU),v.lengthPrimary+=1,e.hasJoint=!0),e.shape.pp(v),e.existingDataPointsCount+=c,e.existingCoordinatesCount+=c+(s?1:0),this.IU=l[l.length-1],this.OU+=c,i+=c}while(i<r);return this.Kh.max="columns"===this.xu.scrollDimension?vw(vw({},this.Kh.max),{x:this.Yt.x+this.OU*this.KG.x}):vw(vw({},this.Kh.max),{y:this.Yt.y+this.OU*this.KG.y}),this},i.prototype.pp=function(t,i){if(i.length<=0)return this;var n=t,r=t+i.length-1,e=i[0].length;if(e<=0)return this;this._S.forEach((function(t){var o=t.dataStartIndex,s=t.dataStartIndex+t.existingDataPointsCount-1;if(!(r<o||n>s)){var a=Math.max(n,o),u=Math.min(r,s),h=u-a+1,f=i.slice(a-n,u-n+1),c=n-o+(t.hasJoint?1:0),l={type:"intensity",startSecondary:0,lengthSecondary:e,startPrimary:c,lengthPrimary:h,values:f};t.shape.pp(l)}}));var o=this.OU-1;if(r>o){var s=r-o,a=i.slice(-s);if(a.length<s)for(var u=this.IU||new Array(e).fill(0),h=a.length;h<s;h+=1)a.unshift(u);this.wp(a)}return this},i.prototype.Mp=function(){return this.OU},i.prototype.zi=function(){return this._S.forEach((function(t){t.shape.dispose().jc()})),this._S.length=0,this.Kh="columns"===this.xu.scrollDimension?d({x:this.Yt.x,y:this.Yt.y},{x:this.Yt.x,y:this.Yt.y+this.xu.resolution*this.KG.y}):d({x:this.Yt.x,y:this.Yt.y},{x:this.Yt.x+this.xu.resolution*this.KG.x,y:this.Yt.y}),this.OU=0,this.IU=void 0,this},i.prototype.cp=function(i,n){var r=this;return t.prototype.cp.call(this,i,n),this._S.forEach((function(t,e){var o={x:i.x+("columns"===r.xu.scrollDimension?t.dataStartIndex*n.x:0),y:i.y+("rows"===r.xu.scrollDimension?t.dataStartIndex*n.y:0)};t.shape.cp(o,n),t.boundaries={min:{x:t.shape.Wi(),y:t.shape.Hi()},max:{x:t.shape.Xi(),y:t.shape.Zi()}}})),this._S.length>0?this.Kh=Jn.apply(void 0,function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}([],function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(this._S.map((function(t){return t.boundaries}))),!1)):this.Kh="columns"===this.xu.scrollDimension?d({x:this.Yt.x,y:this.Yt.y},{x:this.Yt.x,y:this.Yt.y+this.xu.resolution*this.KG.y}):d({x:this.Yt.x,y:this.Yt.y},{x:this.Yt.x+this.xu.resolution*this.KG.x,y:this.Yt.y}),this},i.prototype.$r=function(i){var n=this;return t.prototype.$r.call(this,i),this._S.forEach((function(t){return t.shape.$r(n.Qr)})),this},i.prototype.up=function(i){var n=this;return t.prototype.up.call(this,i),this._S.forEach((function(t){return t.shape.up(n.ap)})),this},i.prototype.Ap=function(i){return t.prototype.Ap.call(this,i),this._S.forEach((function(t){return t.shape.Ap(i)})),this},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this._S.forEach((function(t){return t.shape.dispose()})),this},i.prototype.setVisible=function(i){return t.prototype.setVisible.call(this,i),this._S.forEach((function(t){return t.shape.setVisible(i)})),this},i.prototype.jc=function(){return this._S.forEach((function(t){return t.shape.jc()})),this},i.prototype.wl=function(t){var i=this,n=at(t,this.ai,this.engine.ai),r=this._S.reduce((function(r,e){var o=e.shape.wl(t);if(o){var s=Yn(at(o,i.ai,i.engine.ai),n);if(void 0===r||s<r.distance)return{result:o,distance:s,segment:e}}return r}),void 0);if(r&&r.result){var e="columns"===this.xu.scrollDimension?r.result.column+r.segment.dataStartIndex:r.result.column,o="rows"===this.xu.scrollDimension?r.result.row+r.segment.dataStartIndex:r.result.row;if("columns"===this.xu.scrollDimension&&e>=this.OU||"rows"===this.xu.scrollDimension&&o>=this.OU)return;return{x:r.result.x,y:r.result.y,column:e,row:o,cellValue:r.result.cellValue}}},i.prototype.xS=function(t){var i=this,n=at(t,this.ai,this.engine.ai),r=this._S.reduce((function(r,e){var o=e.shape.xS(t);if(o){var s=Yn(at(o,i.ai,i.engine.ai),n);if(void 0===r||s<r.distance)return{result:o,distance:s,segment:e}}return r}),void 0);if(r&&r.result){var e="columns"===this.xu.scrollDimension?r.result.column+r.segment.dataStartIndex:r.result.column,o="rows"===this.xu.scrollDimension?r.result.row+r.segment.dataStartIndex:r.result.row;if("columns"===this.xu.scrollDimension&&e>=this.OU||"rows"===this.xu.scrollDimension&&o>=this.OU)return;return{x:r.result.x,y:r.result.y,column:e,row:o,cellValue:r.result.cellValue}}},i.prototype.Xi=function(){return this.Kh.max.x},i.prototype.Wi=function(){return this.Kh.min.x},i.prototype.Zi=function(){return this.Kh.max.y},i.prototype.Hi=function(){return this.Kh.min.y},i.prototype.Cf=function(){return 0},i.prototype.Tf=function(){return 0},i.prototype.Oi=function(i){return t.prototype.Oi.call(this,i),this._S.forEach((function(t){return t.shape.Oi(i)})),this},i}(cw),yw=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Aw=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,e,o)||this;return a.ZG=A("bilinear"),a.ap=ra.lineStyle,a.xu=s,a}return yw(i,t),i.prototype.Ap=function(t){return this.ZG.C(t),this},i.prototype.bp=function(){return this.ZG.T()},i.prototype.up=function(t){return this.ap="function"==typeof t?t(this.ap):t,this},i.prototype.yp=function(){return this.ap},i}(da),bw=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pw=function(t){function i(i,n,r,e,o,s){var a=t.call(this,i,n,r,e,o,s)||this;a.CD=new kx,a.NN={},a.Bz=ao({fillStyleSolid:function(){return Yr(a.Qr)&&a.Qr},fillStylePaletted:function(){return Zr(a.Qr)&&a.Qr}}),a.Cz=i,a.Tz=n,a.qB=i.kz(),a.Tz=n,a.mS=new hw(a.Cz,i.jU,i.ai,Ai,[],{columns:s.sectors,rows:s.annuli,heatmapDataType:"intensity",dataOrder:"annuli"===s.dataOrder?"rows":"columns",pS:a.qB.tD}).up(qt);var u=2*Math.PI/360,h=new Float32Array(724),f=0;h[f+0]=0,h[f+1]=0,f+=2;for(var c=0;c<=360;c+=1){var l=c*u,v=Math.cos(l),d=Math.sin(l);h[f+0]=v,h[f+1]=d,f+=2}return a.BU={vertexBuffer:a.qB.wE(h),drawMode:a.qB.gl.TRIANGLE_FAN,drawLength:362},a}return bw(i,t),i.prototype.Io=function(){var t=this.Ku(),i=this.Qr,n=this.Bz.fillStyleSolid(t),r=this.Bz.fillStylePaletted(t),e=n||r,o=this.ZG.T(),s=this.ZG.o,a=this.hi.T(),u=this.hi.o;return this.CD.BE(this.ai),this.mS.Io(),this.mS.wU?((t||s)&&(this.NN.fill=e?{shader:this.qB.CL(kg["2D"],kg.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:oo(this.ai),normalSource:void 0}),r&&kg.PolarHeatmap({interpolation:"bilinear"===o&&"bilinear",intensityTextureType:this.qB.gL?"float":"ubyte",littleEndian:this.qB.IS_MACHINE_LITTLE_ENDIAN,flipXY:"sectors"===this.xu.dataOrder,lut:r.lut}),n&&kg.PolarHeatmap({dataType:"uniform"})),fillStylePaletted:r,fillStyleSolid:n}:void 0),u&&(this.NN.mousePicking=a?{shader:this.qB.CL(kg["2D"],kg.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:oo(this.ai),normalSource:void 0}),kg.MousePicking())}:void 0),this.ih(i),this.ZG.o=!1,this.hi.o=!1,this):this},i.prototype.Ic=function(t,i){var n,r=this,e=this.BU,o=e.vertexBuffer,s=e.drawLength,a=e.drawMode,u=this.mS.wU;if(!this.NN.fill||!u)return{};var h=this.NN.fill,f=h.fillStylePaletted,c=h.fillStyleSolid,l=1===t?null===(n=this.NN.mousePicking)||void 0===n?void 0:n.shader:this.NN.fill.shader;if(!l)return{};var v,d=this.ai.ar(),y=Math.min(d.start,d.end),A=Math.max(d.start,d.end),b=Math.min(this.xu.amplitudeStart,this.xu.amplitudeStart+(this.xu.annuli-1)*this.xu.amplitudeStep),p=Math.max(this.xu.amplitudeStart,this.xu.amplitudeStart+(this.xu.annuli-1)*this.xu.amplitudeStep);return v=d.end>d.start?Math.min(p,A)-d.start:Math.max(b,y)-d.start,this.qB.el(l).CE(l,(function(n,e,h,l){if(r.qB.kE(n("uScale"),r.CD.FE()).kE(n("uDisp"),r.CD.IE()).OE(n("uIsHighlighted"),1===t||2===t?0:r.yi).WF(n("uHighlightColorOffset"),1===t||2===t?j:r.gi).OE(n("uRenderEffectMask"),2===t?1:0).kE(l("uViewportSize"),[r.Cz.Mt().x*r.qB.hE()/(1===t?r.Ai.xu.wu:1),r.Cz.Mt().y*r.qB.hE()/(1===t?r.Ai.xu.wu:1)]).kE(n("uScaling"),[v,v]).kE(n("uTranslationAxis"),[0,0]).TE(o,void 0,{location:e("aPos"),size:2}).OE(l("uAngleOffset"),r.ai.vr()%(2*Math.PI)).OE(l("uAngleDirection"),r.ai.cr()?1:-1).OE(l("uSectors"),r.xu.sectors).OE(l("uAnnuli"),r.xu.annuli),1===t)r.qB.$E(n("uFirstId"),i).HP(h,1);else{if(f){var d=r.mS.rf;r.qB.OE(n("uAmplitudeStart"),r.xu.amplitudeStart).OE(n("uAmplitudeStep"),r.xu.amplitudeStep).OE(n("uAmplitudeAxisStart"),r.ai.ar().start).OE(n("uAmplitudeAxisEnd"),r.ai.ar().end).tz(h,f.lut,d)._E(n("uTileIntensityValues"),u.gridTiles[0].intensityDataTexture,0)}c&&r.qB.WF(n("uColor"),c.getColor())}return r.qB.RT(a,s),!0})),{idCount:1}},i.prototype.Mi=function(){return this.mS.Mi()},i.prototype.Bc=function(t,i,n,r,e){return{}},i.prototype.pp=function(t){return this.mS.pp(t),this},i.prototype.zi=function(){return this.mS.zi(),this},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.mS.dispose(),this.NN={},this.qB.PE(this.BU.vertexBuffer),this},i.prototype.jc=function(){return this.dispose(),this},i.prototype.$r=function(i){return t.prototype.$r.call(this,i),this.mS.$r(this.Qr),this},i.prototype.wl=function(t){var i=this.xu.amplitudeStart,n=this.xu.amplitudeStart+(this.xu.annuli-1)*this.xu.amplitudeStep,r=Math.min(i,n),e=Math.max(i,n);(t.angle<0||t.angle>360||t.amplitude<r||t.amplitude>e)&&(t.angle=pi(t.angle,0,360),t.amplitude=pi(t.amplitude,e,e));var o=Math.round((t.angle-0)/360*this.xu.sectors);o>=this.xu.sectors&&(o=0);var s=Math.round((t.amplitude-i)/(n-i)*(this.xu.annuli-1));return{iAnnulus:s,iSector:o,cellValue:this.gU(s,o),angle:o*(360/this.xu.sectors),amplitude:i+s*(n-i)/(this.xu.annuli-1)}},i.prototype.xS=function(t){var i=this.xu.amplitudeStart,n=this.xu.amplitudeStart+(this.xu.annuli-1)*this.xu.amplitudeStep,r=Math.min(i,n),e=Math.max(i,n);(t.angle<0||t.angle>360||t.amplitude<r||t.amplitude>e)&&(t.angle=pi(t.angle,0,360),t.amplitude=pi(t.amplitude,e,e));var o=(t.angle-0)/360*this.xu.sectors,s=(t.amplitude-i)/(n-i)*(this.xu.annuli-1),a=Math.floor(o),u=Math.floor(s),h={point:{x:u,y:a},value:this.gU(u,a)},f={point:{x:u,y:a+1},value:this.gU(u,a+1)},c={point:{x:u+1,y:a},value:this.gU(u+1,a)},l={point:{x:u+1,y:a+1},value:this.gU(u+1,a+1)},v=ge({x:s,y:o},h,f,c,l);if(void 0!==v)return{iAnnulus:u,iSector:a,cellValue:v,angle:t.angle,amplitude:t.amplitude}},i.prototype.gU=function(t,i){for(var n="annuli"===this.xu.dataOrder?t:i,r="annuli"===this.xu.dataOrder?i:t,e=0;e<this.mS.eU.gridTiles.length;e+=1){var o=this.mS.eU.gridTiles[e];if(n>=o.iFirstVector.primary&&n<=o.iFirstVector.primary+o.sizeHeatmapDataVectors.primary-1&&r>=o.iFirstVector.secondary&&r<=o.iFirstVector.secondary+o.sizeHeatmapDataVectors.secondary-1){var s=n-o.iFirstVector.primary,a=r-o.iFirstVector.secondary,u=s*o.sizeHeatmapDataVectors.secondary+a;return o.intensityData?o.intensityData[u]:0}}return 0},i.prototype.Xi=function(){return 0},i.prototype.Wi=function(){return 0},i.prototype.Zi=function(){return 0},i.prototype.Hi=function(){return 0},i.prototype.Cf=function(){return 0},i.prototype.Tf=function(){return 0},i}(Aw),mw=function(){function t(t,i,n){var r=this;this.Di=new Set,this.DU=function(t){return r.Di.add(t),t},this.LU=function(t){return r.Di.delete(t),t.jc(),r},this.Ai=t,this.zs=i,this.EU=n}return t.prototype.FB=function(t){this.Di.delete(t)&&this.Di.add(t)},t.prototype.V=function(){var t,i;try{for(var n=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.Di),r=n.next();!r.done;r=n.next())r.value.jc().dispose()}catch(i){t={error:i}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}this.Ai.yu(this.zs)},t.prototype.Fn=function(){return this.Ai.Fn(),this},t.prototype.du=function(){return this.zs},t}(),gw=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xw=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.PU=A(void 0),i.Xu=!1,i}return gw(i,t),i.prototype.jm=function(t){return this.PU.C(t),this},i.prototype.fA=function(){return this.PU.T()},i}(mw),Sw=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ww=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.NN={fill:void 0,border:void 0},s.CD=new kx,s.Kh=Bn,s.zU=!1,s.NU=!1,s.VU=!1,s.RU=!1,s.ql=[],s.GU=0,s.Bz=ao({rectangleStyleSolid:function(){return Yr(s.Qr)&&s.Qr},rectangleStyleImage:function(){return Jt(s.Qr)&&s.Qr},rectangleStyleRadialGradient:function(){return G(s.Qr)&&s.Qr},rectangleStyleLinearGradient:function(){return Y(s.Qr)&&s.Qr},rectangleStylePaletted:function(){return Zr(s.Qr)&&s.Qr},rectangleStyleIndividual:function(){return Xr(s.Qr)&&s.Qr},lineStyleSolid:function(){return Ye(s.Jr)&&s.Jr},lineStyleDashed:function(){return Qe(s.Jr)&&s.Jr},lineStyleFilled:function(){var t=s.Jr&&s.Jr.getFillStyle();return Yr(t)&&t}}),s.Cz=i,s.Tz=n,s.qB=i.kz(),s.PN=s.qB.wP,s}return Sw(i,t),i.prototype.za=function(){var t=this,i={Tn:function(n){return t.QN(i,n)},Oi:function(n){return t.JN(i,n)},_l:function(n,r,e,o){return t.UU(i,n,r,e,o)},kl:function(n){return t.YU(i,n)},Ig:function(n){return t.qV(i,n)},WF:function(n){return t.qN(i,n)},WU:0,XU:0,HU:0,ZU:0,S:void 0,$V:void 0,yi:0,qd:!0,tR:this.ql.length,QU:void 0};return this.ql.push(i),i},i.prototype.zi=function(){return this.ql.length=0,this.zU=!0,this.Ai.Ti(this),this},i.prototype.GA=function(){return this.ql},i.prototype.tv=function(t){var i=this.ql.indexOf(t);i>=0&&(this.ql.splice(i,1),this.zU=!0,this.Ai.Ti(this,t))},i.prototype.QN=function(t,i){return t.qd=i,this.zU=!0,t.qd||this.Ai.Ti(this,t),t},i.prototype.JN=function(t,i){return t.yi=i,this.RU=!0,t},i.prototype.UU=function(t,i,n,r,e){return t.WU=i,t.XU=n,t.HU=r,t.ZU=e,this.zU=!0,t},i.prototype.YU=function(t,i){return t.QU=!0===(null==i?void 0:i.c_x1_y1)||!0===(null==i?void 0:i.c_x1_y2)||(null==i?void 0:i.c_x2_y1)||!0===(null==i?void 0:i.c_x2_y2)?i:void 0,this.zU=!0,t},i.prototype.qV=function(t,i){return t.S=i,this.NU=!0,t},i.prototype.qN=function(t,i){return t.$V=null==i?void 0:i.toUint32(),this.VU=!0,t},i.prototype.Io=function(){var t=this,i=this.hi.T(),n=this.hi.o,r=this.Ku(),e=this.RU,o=this.zU,s=this.NU,a=this.VU,u=this.Jr,h=this.rh(),f=this.ql.filter((function(t){return t.qd})),c=void 0!==this.ql.find((function(t){return t.QU})),l=this.ai.ni();c&&l&&(o=!0);var v=this.Bz.rectangleStyleSolid(r),d=this.Bz.rectangleStylePaletted(r),y=this.Bz.rectangleStyleIndividual(r),A=this.Bz.rectangleStyleRadialGradient(r),b=this.Bz.rectangleStyleLinearGradient(r),p=this.Bz.rectangleStyleImage(r),m=v||d||b||A||p||y,g=this.Bz.lineStyleSolid(h),x=this.Bz.lineStyleDashed(r),S=g||x,w=this.Bz.lineStyleFilled(h),M=w,C=S&&Math.max(S.getThickness(),0);if(this.CD.BE(this.ai),o&&(this.Kh=Jn.apply(void 0,function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}([],function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(f.map((function(t){return Zn([{x:t.WU,y:t.XU},{x:t.HU,y:t.ZU}])}))),!1))),o||h&&x){var T=[],k=[],_=[],O=0,F=0,j=[],B=0;if(c){var D=this.ai instanceof nt?this.ai.oi():{x:1e-4,y:1e-4};this.GU=24;var L=Math.sign(this.ai.x.G-this.ai.x.R),E=Math.sign(this.ai.y.G-this.ai.y.R);f.forEach((function(t){var i,n,r,e,o,s=Math.sign(t.HU-t.WU),a=Math.sign(t.ZU-t.XU),u={x:s===L?t.WU:t.HU,y:a===E?t.XU:t.ZU},h={x:s===L?t.HU:t.WU,y:a===E?t.ZU:t.XU},f=O,c=F,l=Math.abs((h.x-u.x)/D.x),v=Math.abs((h.y-u.y)/D.y),d=t.QU&&!0!==t.QU.skipTooSmallCheck&&Math.min(l,v)<2*t.QU.extent;T[f+0]=(t.WU+t.HU)/2,k[f+0]=(t.XU+t.ZU)/2,_[c+0]=0,_[c+1]=0,T[f+1]=Number.NaN,k[f+1]=Number.NaN,_[c+2]=0,_[c+3]=0,O+=2,F+=4;for(var y=0;y<=3;y+=1){var A=0===y||3===y?h.x:u.x,b=0===y||1===y?h.y:u.y,p=A===t.WU&&b===t.XU?null===(i=t.QU)||void 0===i?void 0:i.c_x1_y1:A===t.HU&&b===t.XU?null===(n=t.QU)||void 0===n?void 0:n.c_x2_y1:A===t.WU&&b===t.ZU?null===(r=t.QU)||void 0===r?void 0:r.c_x1_y2:null===(e=t.QU)||void 0===e?void 0:e.c_x2_y2,m=null===(o=t.QU)||void 0===o?void 0:o.extent;if(p&&m&&!d)for(var g=.5*y*Math.PI,x=0;x<5;x+=1){var S=g+x/4*.5*Math.PI,w=void 0,M=void 0;0===y?(w=Math.cos(S)-1,M=-1+Math.sin(S)):1===y?(w=1+Math.cos(S),M=Math.sin(S)-1):2===y?(w=1+Math.cos(S),M=1+Math.sin(S)):(w=-1+Math.cos(S),M=1+Math.sin(S)),T[O+0]=A,k[O+0]=b,_[F+0]=w*m,_[F+1]=M*m,O>1&&(j[B+0]=f,j[B+1]=O-1,j[B+2]=O,B+=3),O+=1,F+=2}else for(x=0;x<5;x+=1)T[O+0]=A,k[O+0]=b,_[F+0]=0,_[F+1]=0,j[B+0]=f,j[B+1]=O-1,j[B+2]=O,B+=3,O+=1,F+=2}j[B+0]=f,j[B+1]=f+2,j[B+2]=O-1,B+=3,T[O+0]=T[f+2],k[O+0]=k[f+2],_[F+0]=_[c+4],_[F+1]=_[c+5],T[O+1]=Number.NaN,k[O+1]=Number.NaN,_[F+2]=0,_[F+3]=0,O+=2,F+=4}))}else this.GU=6,f.forEach((function(t){T[O+0]=t.WU,k[O+0]=t.XU,_[F+0]=0,_[F+1]=0,T[O+1]=t.HU,k[O+1]=t.XU,_[F+2]=0,_[F+3]=0,T[O+2]=t.HU,k[O+2]=t.ZU,_[F+4]=0,_[F+5]=0,T[O+3]=t.WU,k[O+3]=t.ZU,_[F+6]=0,_[F+7]=0,T[O+4]=t.WU,k[O+4]=t.XU,_[F+8]=0,_[F+9]=0,T[O+5]=Number.NaN,k[O+5]=Number.NaN,_[F+10]=0,_[F+11]=0,j[B+0]=O+0,j[B+1]=O+1,j[B+2]=O+3,j[B+3]=O+1,j[B+4]=O+3,j[B+5]=O+2,O+=6,F+=12,B+=6}));if(this.JU=this.qB.wE(zi(T,this.ai.Pt()),void 0,this.JU),this.KU=this.qB.wE(zi(k,this.ai.Pt()),void 0,this.KU),this.qU=this.qB.wE(_,void 0,this.qU),this.$U=this.qB.sP(new Uint32Array(j),this.$U),this.tY=j.length,this.iY=O-1,x){for(var P=new Float32Array(2*T.length),z=0,N=0,V=0,R=T[0],G=k[0],U=0;U<T.length;U+=1){var Y=T[U],W=k[U];Number.isNaN(Y)||(N+=Math.abs(Y-R),V+=Math.abs(W-G),R=Y,G=W),P[z]=N,P[z+1]=V,z+=2}this.VN=this.qB.wE(P,!1,this.VN)}this.nY=[T,k]}if((r||h||n)&&(this.NN.fill=m?{shader:this.qB.CL(kg["2D"],v&&kg.Color({dataType:"uniform"}),b&&kg.Color({dataType:["gradient",b]}),A&&kg.Color({dataType:["gradient",A]}),d&&kg.Color({dataType:["lookup",d.getLookUpProperty(),d.lut]}),y&&kg.Color({dataType:"attribute"}),p&&kg.Color({dataType:["image",p]}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0,offsets:[{directionVar:"aGeo",sizeUnit:"px",dataType:"attribute",useGeometry:!1}],splitPosAttribute:!0}),kg.AttributeHighlight),mousePicking:i?{shader:this.qB.CL(kg["2D"],kg.MousePicking({useAttribute:!0}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0,offsets:[{directionVar:"aGeo",sizeUnit:"px",dataType:"attribute",useGeometry:!1}],splitPosAttribute:!0}),kg.AttributeHighlight)}:void 0,fillStyleSolid:v,fillStyleLinearGradient:b,fillStyleRadialGradient:A,fillStylePaletted:d,fillStyleImage:p,fillStyleIndividual:y}:void 0,this.NN.border=S&&M&&"number"==typeof C&&0!==C?{shader:this.qB.CL(kg["2D"],kg.Color({dataType:"uniform"}),kg.LineInstanced2D({axisWorldTranslation:oo(this.ai),normalSource:void 0,offsets:[{directionVar:"aGeo",sizeUnit:"px",dataType:"attribute",useGeometry:!1}],splitPosAttribute:!0}),this.PN?kg.AliasedEdge:void 0,x&&kg.StippleTextureInstanced,kg.AttributeHighlight),geometry:$x(this.qB,C),mousePicking:i?{shader:this.qB.CL(kg["2D"],kg.MousePicking({useAttribute:!0}),kg.LineInstanced2D({axisWorldTranslation:oo(this.ai),normalSource:void 0,offsets:[{directionVar:"aGeo",sizeUnit:"px",dataType:"attribute",useGeometry:!1}],splitPosAttribute:!0}),x&&kg.StippleTextureInstanced,kg.AttributeHighlight)}:void 0,fillStyleSolid:w,lineStyleDashed:x,thickness:C}:void 0),e||o){var X=new Float32Array(f.length*this.GU);f.forEach((function(i,n){for(var r=0;r<t.GU;r+=1)X[n*t.GU+r]=i.yi})),this.rY=this.qB.wE(X,!0,this.rY)}if(i){if(o||n){var H=new Float32Array(f.length*this.GU);f.forEach((function(i,n){for(var r=0;r<t.GU;r+=1)H[n*t.GU+r]=i.tR})),this.eY=this.qB.wE(H,!1,this.eY)}}else this.eY&&(this.qB.PE(this.eY),this.eY=void 0);if(s||o&&d&&"value"===d.getLookUpProperty()){var Z=new Float32Array(f.length*this.GU),Q={min:In,max:jn};f.forEach((function(i,n){for(var r=void 0!==i.S?i.S:ti,e=0;e<t.GU;e+=1)Z[n*t.GU+e]=r;void 0!==i.S&&(Q.min=Math.min(Q.min,r),Q.max=Math.max(Q.max,r))})),this.sR=Q,this.oY=this.qB.wE(Z,!1,this.oY)}if(a||o&&y){var J=new Uint32Array(f.length*this.GU),K=y?y.getFallbackColor().toUint32():I.toUint32();f.forEach((function(i,n){for(var r=void 0!==i.$V?i.$V:K,e=0;e<t.GU;e+=1)J[n*t.GU+e]=r})),this.sY=this.qB.wE(J,!1,this.sY,Uint32Array)}return A?this.Vz=lx(this.di||this.Kh,this.ai,A.getPosition(),A.getExtent(),A.getShape(),this.qB.hE()):b?this.Rz=vx(this.di||this.Kh,this.ai,b.getAngle(!0),this.qB.hE()):(this.Vz=void 0,this.Rz=void 0),x?this.RN=this.qB.JP(x.getPattern()):(this.VN&&(this.qB.PE(this.VN),this.VN=void 0),this.RN=void 0),this.hR=this.qB.iz(this,this.hR,p,void 0,o||this.ai.ni(),(function(i,n,r){return t.fR(i,n,r,f)})),this.RU=!1,this.zU=!1,this.NU=!1,this.VU=!1,this.hi.o=!1,this.ih(this.Qr),this.ah(u),this},i.prototype.Ic=function(t,i){var n,r,e=this,o=this.NN,s=o.fill,a=o.border,u=this.JU,h=this.KU,f=this.qU,c=this.$U,l=this.tY,v=this.iY,d=this.rY,y=this.eY;if(!(d&&u&&h&&f))return{};if(s&&c&&l&&(A=1===t?null===(n=s.mousePicking)||void 0===n?void 0:n.shader:s.shader)&&this.qB.el(A).CE(A,(function(n,r,o,a){return!!e.qB.rz(o,t,e,{uniforms:e.CD,idFirst:i,fillStyleSolid:s.fillStyleSolid,fillStyleLinearGradient:s.fillStyleLinearGradient,fillStyleRadialGradient:s.fillStyleRadialGradient,fillStylePaletted:s.fillStylePaletted,fillStyleImage:s.fillStyleImage,fillStyleIndividual:s.fillStyleIndividual,linearGradientInfo:e.Rz,radialGradientInfo:e.Vz,texturedFillGLInfo:e.hR,colorBuffer:e.sY,lookupValueBuffer:e.oY,lookupValueRange:e.sR,highlightBuffer:d,coordsX:u,coordsY:h,coordsHighPrecision:e.ai.Pt(),mousePickingOffsetBuffer:y})&&(e.qB.TE(f,void 0,{location:r("aGeoAmount"),size:2}).vP(c),e.qB.yP(l,e.qB.gl.TRIANGLES,void 0,e.qB.gl.UNSIGNED_INT),!0)})),a&&v){var A,b=a.geometry,p=a.thickness,m=a.lineStyleDashed;(A=1===t?null===(r=a.mousePicking)||void 0===r?void 0:r.shader:a.shader)&&this.qB.el(A).CE(A,(function(n,r,o,s){if(!e.qB.rz(o,t,e,{uniforms:e.CD,idFirst:i,fillStyleSolid:a.fillStyleSolid,highlightBuffer:d,highlightAttribDivisor:1,mousePickingOffsetBuffer:y,mousePickingOffsetAttribDivisor:1}))return!1;if(m){if(!e.RN||!e.VN)return!1;tS.IN(e.qB,o,e.VN,r("aLengthSoFarA"),r("aLengthSoFarB"),2,2,0),e.qB.kE(n("uStippleCount"),[e.Ai.Mt().x/e.RN.$P,e.Ai.Mt().y/e.RN.$P]).OE(s("uStippleTextureWidthLimiter"),e.RN.qP/e.RN.$P).OE(n("uStippleScale"),m.getPatternScale())._E(n("uStippleTexture"),e.RN.KP,1)}return nS(e.qB,o,e.ai.Pt(),u,"aLocation","X",1,!1,e.qB.gl.FLOAT,Float32Array.BYTES_PER_ELEMENT),nS(e.qB,o,e.ai.Pt(),h,"aLocation","Y",1,!1,e.qB.gl.FLOAT,Float32Array.BYTES_PER_ELEMENT),nS(e.qB,o,!1,f,"aGeo","",2,!1,e.qB.gl.FLOAT,Float32Array.BYTES_PER_ELEMENT),tS.Ic(e.Cz,b,o,e.PN&&1!==t,1===t,p,v),!0}))}return{idCount:this.ql.length}},i.prototype.fR=function(t,i,n,r){if(!this.nY)return new Float32Array;for(var e=at({x:this.Kh.min.x,y:this.Kh.min.y},this.ai,this.Ai.ai),o=at({x:this.Kh.max.x,y:this.Kh.max.y},this.ai,this.Ai.ai),s={x:Math.abs(e.x-o.x),y:Math.abs(e.y-o.y)},a=bx(t,i,s.x,s.y,n),u=a[1],h=a[4],f=a[6],c=a[7],l=this.Kh.max.x-this.Kh.min.x,v=this.Kh.max.y-this.Kh.min.y,d=h-f,y=c-u,A=new Float32Array(2*this.nY[0].length),b=0,p=0;p<this.nY[0].length;p+=1){var m=this.nY[0][p],g=this.nY[1][p],x=f+d*((m-this.Kh.min.x)/l),S=u+y*((g-this.Kh.min.y)/v);A[b]=x,A[b+1]=S,b+=2}return A},i.prototype.Bc=function(t,i,n,r,e){return{collectionMember:this.ql.find((function(n){return i+n.tR===t}))}},i.prototype.jc=function(){return this.JU=this.qB.PE(this.JU),this.KU=this.qB.PE(this.KU),this.qU=this.qB.PE(this.qU),this.rY&&(this.qB.PE(this.rY),this.rY=void 0),this.eY&&(this.qB.PE(this.eY),this.eY=void 0),this.oY&&(this.qB.PE(this.oY),this.oY=void 0),this.sY&&(this.qB.PE(this.sY),this.sY=void 0),this.VN&&(this.qB.PE(this.VN),this.VN=void 0),this.$U&&(this.qB.PE(this.$U),this.$U=void 0),this.NN={fill:void 0,border:void 0},this.hR=this.qB.nz(this,this.hR),this},i.prototype.Xi=function(){return this.Kh.max.x},i.prototype.Wi=function(){return this.Kh.min.x},i.prototype.Zi=function(){return this.Kh.max.y},i.prototype.Hi=function(){return this.Kh.min.y},i.prototype.Cf=function(){return An(this.Jr)},i.prototype.Tf=function(){return An(this.Jr)},i}(ya),Mw=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cw=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Tw=function(t){function i(i,n,r){var e=t.call(this,i,n,r)||this;return e.Cz=i,e.gl=i.kz(),e.aY=e.Di,e}return Mw(i,t),i.prototype.xE=function(t){var i=t instanceof ha&&t;if(!i)return Bn;var n=i.Wi(),r=i.Xi(),e=i.Hi(),o=i.Zi();if(n===In||r===jn||e===In||o===jn)return Bn;var s,a=i.Cf(),u=i.Tf(),h=fa({min:{x:n,y:e},max:{x:r,y:o}},{x:a,y:u},i.ai),f={min:at(h.min,i.ai,t.Ai.ai),max:at(h.max,i.ai,t.Ai.ai)},c=this.PU.T();if(c){if((s={min:{x:Math.min(f.min.x,c.x),y:Math.min(f.min.y,c.y)},max:{x:Math.max(f.max.x,c.x+c.width),y:Math.max(f.max.y,c.y+c.height)}}).max.x<s.min.x||s.max.y<s.min.y)return Bn}else s=f;return s},i.prototype.ce=function(t){return this.DU(new eS(this.Cz,this,t,this.LU,[]))},i.prototype.Od=function(t){return this.DU(new aS(this.Cz,this,t,this.LU,[]))},i.prototype.QA=function(t,i,n){return this.DU(new gS(this.Cz,this,t,this.LU,n,i))},i.prototype.Ul=function(t){return this.DU(new QS(this.Cz,this,t,this.LU))},i.prototype.ps=function(t,i){return this.Ai.kc&&!1!==i?this.DU(this.Ai.kc.ps(this.Cz,this,t,this.LU)):this.DU(new iw(this.Cz,this,t,this.LU,[]))},i.prototype.Dc=function(t,i){if(void 0===i&&(i=pa.Simple),i===pa.Simple)return this.DU(new IS(this.Cz,this,t,this.LU,[]));throw new Error("GlEngine.addPolygon | No such polygon type!")},i.prototype.qA=function(t){return this.DU(new CS(this.Cz,this,t,this.LU,[]))},i.prototype.Ml=function(t){return this.DU(new ww(this.Cz,this,t,this.LU,[]))},i.prototype.te=function(t){return this.DU(new _S(this.Cz,this,t,this.LU,[]))},i.prototype.nw=function(t){return this.DU(new Jx(this.Cz,this,t,this.LU,[]))},i.prototype.Fl=function(t){return this.DU(new Nx(this.Cz,this,t,this.LU,[]))},i.prototype.TS=function(t,i,n){if("intensity"===n.heatmapDataType)return this.DU(new dw(this.Cz,this,t,this.LU,i,n));throw new um("Unimplemented Heatmap Grid Static type")},i.prototype.gS=function(t,i,n){return this.DU(new hw(this.Cz,this,t,this.LU,i,n))},i.prototype.XC=function(t,i,n){return this.DU(new pw(this.Cz,this,t,this.LU,i,n))},i.prototype.uY=function(t){return this.DU(new Bx(this.Cz,this,this.LU,[],t))},i.prototype.Io=function(){var t,i,n,r;if(this.Xu){this.Xu=!1;var e=Array.from(this.Di).sort((function(t,i){return t.Qu()-i.Qu()}));this.Di.clear();try{for(var o=Cw(e),s=o.next();!s.done;s=o.next()){var a=s.value;this.Di.add(a)}}catch(i){t={error:i}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}}try{for(var u=Cw(this.Di),h=u.next();!h.done;h=u.next())(a=h.value).Io()}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return this},i.prototype.Ic=function(t,i,n){var r,e,o,s,a=this.PU.T();if(a){var u=a.x*this.gl.hE()*i,h=a.y*this.gl.hE()*i;s=[l=Math.ceil(u),v=Math.ceil(h),d=Math.floor(u+a.width*this.gl.hE()*i)-l,y=Math.floor(h+a.height*this.gl.hE()*i)-v],this.gl.SE(s[0],s[1],s[2],s[3])}if(1!==t)try{for(var f=Cw(this.Di),c=f.next();!c.done;c=f.next())if((m=c.value).getVisible()){if(m.un){u=m.un.x*this.gl.hE()*i,h=m.un.y*this.gl.hE()*i;var l=Math.ceil(u),v=Math.ceil(h),d=Math.floor(u+m.un.width*this.gl.hE()*i)-l,y=Math.floor(h+m.un.height*this.gl.hE()*i)-v;this.gl.SE(l,v,d,y)}m.Ic(t,0),m.un&&s&&this.gl.SE(s[0],s[1],s[2],s[3])}}catch(t){r={error:t}}finally{try{c&&!c.done&&(e=f.return)&&e.call(f)}finally{if(r)throw r.error}}else for(var A=((null===(o=n[n.length-1])||void 0===o?void 0:o.idLast)||0)+1,b=Array.from(this.aY.values()),p=0;p<b.length;p+=1){var m;if((m=b[p]).getPointerEvents()&&m.getVisible()){m.un&&(u=m.un.x*this.gl.hE()*i,h=m.un.y*this.gl.hE()*i,l=Math.ceil(u),v=Math.ceil(h),d=Math.floor(u+m.un.width*this.gl.hE()*i)-l,y=Math.floor(h+m.un.height*this.gl.hE()*i)-v,this.gl.SE(l,v,d,y));var g=m.Ic(t,A).idCount;m.un&&s&&this.gl.SE(s[0],s[1],s[2],s[3]),void 0!==g&&(n.push({entity:m,layer:this,entityIndex:p,idFirst:A,idCount:g,idLast:A+g-1}),A+=g)}}return this.gl.AE(!1),this},i}(xw),kw=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_w=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Ow=function(t){function i(i){return t.call(this,i)||this}return kw(i,t),i}(dx),Fw=function(t){function i(i){var n=t.call(this,i)||this;n.hY="attribute";var r=Iw(i.gl),e=r.vertices,o=r.drawSize,s=r.drawMode;return n.GB=i.wE(e),n._N=o,n.ON=s,n}return kw(i,t),i.prototype.RT=function(t,i,n,r){return this.qB.TE(this.GB,0,{location:t.attribute("aInstanceGeo"),size:3},{location:n?t.attribute("aNormal"):void 0,size:3},{location:r?t.attribute("aTriangleBary"):void 0,size:3}).AP(this.ON,0,this._N,i),this},i.prototype.XL=function(){this.qB.PE(this.GB)},i}(Ow),Iw=function(t){var i=new Float32Array(324),n=0;return i[n+0]=-1,i[n+1]=1,i[n+2]=1,i[n+3]=0,i[n+4]=1,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=1,i[n+2]=1,i[n+3]=0,i[n+4]=1,i[n+5]=0,i[n+6]=1,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=1,i[n+2]=-1,i[n+3]=0,i[n+4]=1,i[n+5]=0,i[n+6]=0,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=-1,i[n+1]=1,i[n+2]=-1,i[n+3]=0,i[n+4]=1,i[n+5]=0,i[n+6]=0,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=1,i[n+2]=1,i[n+3]=0,i[n+4]=1,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=1,i[n+1]=1,i[n+2]=-1,i[n+3]=0,i[n+4]=1,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=-1,i[n+2]=-1,i[n+3]=-1,i[n+4]=0,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=-1,i[n+2]=1,i[n+3]=-1,i[n+4]=0,i[n+5]=0,i[n+6]=1,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=1,i[n+2]=-1,i[n+3]=-1,i[n+4]=0,i[n+5]=0,i[n+6]=0,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=-1,i[n+1]=1,i[n+2]=-1,i[n+3]=-1,i[n+4]=0,i[n+5]=0,i[n+6]=0,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=-1,i[n+2]=1,i[n+3]=-1,i[n+4]=0,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=-1,i[n+1]=1,i[n+2]=1,i[n+3]=-1,i[n+4]=0,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=-1,i[n+2]=1,i[n+3]=1,i[n+4]=0,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=-1,i[n+2]=-1,i[n+3]=1,i[n+4]=0,i[n+5]=0,i[n+6]=1,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=1,i[n+2]=1,i[n+3]=1,i[n+4]=0,i[n+5]=0,i[n+6]=0,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=1,i[n+1]=1,i[n+2]=1,i[n+3]=1,i[n+4]=0,i[n+5]=0,i[n+6]=0,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=-1,i[n+2]=-1,i[n+3]=1,i[n+4]=0,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=1,i[n+1]=1,i[n+2]=-1,i[n+3]=1,i[n+4]=0,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=-1,i[n+2]=1,i[n+3]=0,i[n+4]=0,i[n+5]=1,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=-1,i[n+2]=1,i[n+3]=0,i[n+4]=0,i[n+5]=1,i[n+6]=1,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=1,i[n+2]=1,i[n+3]=0,i[n+4]=0,i[n+5]=1,i[n+6]=0,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=-1,i[n+1]=1,i[n+2]=1,i[n+3]=0,i[n+4]=0,i[n+5]=1,i[n+6]=0,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=-1,i[n+2]=1,i[n+3]=0,i[n+4]=0,i[n+5]=1,i[n+6]=1,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=1,i[n+1]=1,i[n+2]=1,i[n+3]=0,i[n+4]=0,i[n+5]=1,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=-1,i[n+2]=-1,i[n+3]=0,i[n+4]=0,i[n+5]=-1,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=-1,i[n+2]=-1,i[n+3]=0,i[n+4]=0,i[n+5]=-1,i[n+6]=1,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=1,i[n+2]=-1,i[n+3]=0,i[n+4]=0,i[n+5]=-1,i[n+6]=0,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=1,i[n+1]=1,i[n+2]=-1,i[n+3]=0,i[n+4]=0,i[n+5]=-1,i[n+6]=0,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=-1,i[n+2]=-1,i[n+3]=0,i[n+4]=0,i[n+5]=-1,i[n+6]=1,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=-1,i[n+1]=1,i[n+2]=-1,i[n+3]=0,i[n+4]=0,i[n+5]=-1,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=-1,i[n+2]=-1,i[n+3]=0,i[n+4]=-1,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=-1,i[n+2]=-1,i[n+3]=0,i[n+4]=-1,i[n+5]=0,i[n+6]=1,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=-1,i[n+2]=1,i[n+3]=0,i[n+4]=-1,i[n+5]=0,i[n+6]=0,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=-1,i[n+1]=-1,i[n+2]=1,i[n+3]=0,i[n+4]=-1,i[n+5]=0,i[n+6]=0,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=-1,i[n+2]=-1,i[n+3]=0,i[n+4]=-1,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=1,i[n+1]=-1,i[n+2]=1,i[n+3]=0,i[n+4]=-1,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=0,{vertices:i,drawSize:(n+=9)/9,drawMode:t.TRIANGLES}},jw=function(t){function i(i,n){var r=t.call(this,i)||this;r.hY="attribute",r.fY=n;var e=Bw(),o=e.vertices,s=e.indices;return r.GB=i.wE(o),r.kN=i.sP(s),r._N=s.length,r.ON=i.gl.TRIANGLES,r}return kw(i,t),i.prototype.RT=function(t,i,n,r){return this.qB.TE(this.GB,0,{location:t.attribute("aEdge"),size:3},{location:n?t.attribute("aNormal"):void 0,size:3},{location:t.attribute("aInstanceGeo"),size:3}).vP(this.kN).OE(t.uniform("uEdgeRoundness"),this.fY/2).bP(this.ON,this._N,0,i),this},i.prototype.XL=function(){this.qB.PE(this.GB),this.qB.PE(this.kN)},i.prototype.cY=function(t){return this.fY=t,this},i.prototype.lY=function(){return this.fY},i}(Ow),Bw=function(){var t,i,n,r,e,o,s,a,u,h,f=[],c=0,l=[],v=0;try{for(var d=_w([{normal:{x:0,y:1,z:0},perpendA:{x:0,y:0,z:1},perpendB:{x:-1,y:0,z:0}},{normal:{x:0,y:0,z:-1},perpendA:{x:0,y:1,z:0},perpendB:{x:-1,y:0,z:0}},{normal:{x:-1,y:0,z:0},perpendA:{x:0,y:1,z:0},perpendB:{x:0,y:0,z:1}},{normal:{x:1,y:0,z:0},perpendA:{x:0,y:1,z:0},perpendB:{x:0,y:0,z:-1}},{normal:{x:0,y:0,z:1},perpendA:{x:0,y:1,z:0},perpendB:{x:1,y:0,z:0}},{normal:{x:0,y:-1,z:0},perpendA:{x:0,y:0,z:-1},perpendB:{x:-1,y:0,z:0}}]),y=d.next();!y.done;y=d.next()){var A=y.value,b=A.normal,p=A.perpendA,m=A.perpendB,g=Fn.multiply(p,-1),x=Fn.multiply(m,-1),S=c;f[c]={thicknessDirection:Fn.addVec(b,p,m),edge:Fn.addVec(g,x),normal:b};var w=c+=1;f[c]={thicknessDirection:Fn.addVec(b,g,m),edge:Fn.addVec(p,x),normal:b};var M=c+=1;f[c]={thicknessDirection:Fn.addVec(b,g,x),edge:Fn.addVec(p,m),normal:b};var C=c+=1;f[c]={thicknessDirection:Fn.addVec(b,p,x),edge:Fn.addVec(g,m),normal:b},c+=1,l[v+0]=M,l[v+1]=S,l[v+2]=C,l[v+3]=M,l[v+4]=w,l[v+5]=S,v+=6;var T=[{A:p,B:m},{A:g,B:m},{A:g,B:x},{A:p,B:x}];try{for(var k=(n=void 0,_w(T)),_=k.next();!_.done;_=k.next()){var O=_.value;O.thicknessDirection=Fn.addVec(b,O.A,O.B),O.stripVerticesA=[],O.stripVerticesB=[];var F=[{direction:O.A,other:O.B,vertices:O.stripVerticesA},{direction:O.B,other:O.A,vertices:O.stripVerticesB}];try{for(var I=(e=void 0,_w(F)),j=I.next();!j.done;j=I.next())for(var B=j.value,D=0;D<8;D+=1){var L=.5*D/7,E=Fn.normalize(Fn.lerp(b,B.direction,L)),P=Math.PI/2-Fn.angle(E,b),z=Fn.addVec(Fn.multiply(Fn.multiply(B.direction,-1),1-Math.cos(P)),Fn.multiply(Fn.multiply(b,-1),1-Math.sin(P)),Fn.multiply(B.other,-1)),N=c;f[c]={thicknessDirection:O.thicknessDirection,normal:E,edge:z};var V=f[c];c+=1,B.vertices.push({index:N,vertex:V})}}catch(t){e={error:t}}finally{try{j&&!j.done&&(o=I.return)&&o.call(I)}finally{if(e)throw e.error}}}}catch(t){n={error:t}}finally{try{_&&!_.done&&(r=k.return)&&r.call(k)}finally{if(n)throw n.error}}for(var R=0;R<T.length;R+=1)for(var G=T[R],U=T[R<T.length-1?R+1:0],Y=R%2==0?G.stripVerticesB:G.stripVerticesA,W=R%2==0?U.stripVerticesB:U.stripVerticesA,X=1;X<Y.length;X+=1){var H=Y[X-1],Z=W[X-1],Q=Y[X],J=W[X];l[v+0]=H.index,l[v+1]=Z.index,l[v+2]=J.index,l[v+3]=Q.index,l[v+4]=H.index,l[v+5]=J.index,v+=6}}}catch(i){t={error:i}}finally{try{y&&!y.done&&(i=d.return)&&i.call(d)}finally{if(t)throw t.error}}var K=Math.PI/15,q=2*Math.PI/15,$=c;try{for(var tt=_w([{x:-1,y:1,z:-1,flipVertexOrder:!1},{x:-1,y:1,z:1,flipVertexOrder:!0},{x:1,y:1,z:1,flipVertexOrder:!1},{x:1,y:1,z:-1,flipVertexOrder:!0},{x:-1,y:-1,z:-1,flipVertexOrder:!0},{x:-1,y:-1,z:1,flipVertexOrder:!1},{x:1,y:-1,z:1,flipVertexOrder:!0},{x:1,y:-1,z:-1,flipVertexOrder:!1}]),it=tt.next();!it.done;it=tt.next()){var nt=it.value,rt=0;f[c]={thicknessDirection:nt,normal:{x:0,y:nt.y,z:0},edge:{x:-nt.x,y:0,z:-nt.z}},c+=1,rt+=1;for(var et=1;et<8.5;et+=1)for(var ot=15===et?Math.PI:et*K,st=1*Math.cos(ot)*nt.y,at=Math.sin(ot),ut=0;ut<Math.ceil(3.75)+1;ut+=1){var ht=15===ut?0:ut*q,ft=at*Math.cos(ht)*1*nt.x,ct=at*Math.sin(ht)*1*nt.z,lt={x:ft,y:st,z:ct},vt=Fn.normalize({x:ft,y:st,z:ct});f[c]={thicknessDirection:nt,normal:vt,edge:{x:lt.x-nt.x,y:lt.y-nt.y,z:lt.z-nt.z}},c+=1,rt+=1}for(var dt=[],yt=1;yt<=Math.ceil(3.75);yt+=1)dt.push($),15===yt?dt.push($+1):dt.push($+yt+1),dt.push($+yt);var At=$+1,bt=Math.ceil(3.75)+1;for(yt=0;yt<6.5;yt+=1)for(var pt=0;pt<Math.ceil(3.75);pt+=1){var mt=0,gt=At+(yt+1)*bt+pt,xt=0;14===pt?(mt=At+yt*bt,xt=At+(yt+1)*bt):(mt=At+yt*bt+pt+1,xt=At+(yt+1)*bt+pt+1),dt.push(At+yt*bt+pt),dt.push(mt),dt.push(gt),dt.push(gt),dt.push(mt),dt.push(xt)}l.push.apply(l,nt.flipVertexOrder?dt.reverse():dt),$+=rt}}catch(t){s={error:t}}finally{try{it&&!it.done&&(a=tt.return)&&a.call(tt)}finally{if(s)throw s.error}}var St=new Float32Array(9*f.length),wt=0;try{for(var Mt=_w(f),Ct=Mt.next();!Ct.done;Ct=Mt.next())V=Ct.value,St[wt+0]=V.edge.x,St[wt+1]=V.edge.y,St[wt+2]=V.edge.z,St[wt+3]=V.normal.x,St[wt+4]=V.normal.y,St[wt+5]=V.normal.z,St[wt+6]=V.thicknessDirection.x,St[wt+7]=V.thicknessDirection.y,St[wt+8]=V.thicknessDirection.z,wt+=9}catch(t){u={error:t}}finally{try{Ct&&!Ct.done&&(h=Mt.return)&&h.call(Mt)}finally{if(u)throw u.error}}return{vertices:St,indices:new Uint16Array(l)}},Dw=function(t,i){var n=t.YE.WL.get(i);return n||(n=void 0!==i&&i>0?new jw(t,pi(i,0,1)):new Fw(t),t.YE.WL.set(i,n),n)},Lw=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ew=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Lw(i,t),i.prototype.pA=function(t){return this.uE=this.cA.T(),this.cA.C(t),this},i.prototype.gp=function(t){return this.vY=t,this},i.prototype.xp=function(){return this.vY},i}(gx),Pw=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zw=function(t){function i(i,n,r){var e=t.call(this,i,n,r)||this;return e.dY=i,e.Cz=i.Cz,e.qB=e.Cz.kz(),e}return Pw(i,t),i}(Ew),Nw=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vw=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Rw=11,Gw=function(t){function i(i,n,r){var e=t.call(this,i,n,r)||this;return e.vY="cull-back",e.Kh=Dn,e.yY={},e.AY=[],e.Bz=ao({fillStyleSolid:function(){return Yr(e.Qr)&&e.Qr},fillStyleIndividual:function(){return Xr(e.Qr)&&e.Qr},fillStylePaletted:function(){return Zr(e.Qr)&&e.Qr}}),e.Qr=ra.fillStyle,e.cA.C(Ie),e}return Nw(i,t),i.prototype.Io=function(t){var i,n,r,e,o,s,a,u,h=this.AY,f=this.Qr,c=f!==Vr,l=this.bY,v=this.Ku()||this.pY!==l,y=this.aE(),A=this.hi.T(),b=this.hi.o;if(c){try{for(var p=Vw(h),m=p.next();!m.done;m=p.next())(N=m.value).id=void 0!==N.id?String(N.id):void 0,N.xSize=void 0!==N.xSize&&N.xSize<0?-N.xSize:N.xSize,N.ySize=void 0!==N.ySize&&N.ySize<0?-N.ySize:N.ySize,N.zSize=void 0!==N.zSize&&N.zSize<0?-N.zSize:N.zSize}catch(t){i={error:t}}finally{try{m&&!m.done&&(n=p.return)&&n.call(p)}finally{if(i)throw i.error}}var g,x,S,w=this.mY||0,M=w;try{for(var C=Vw(h),T=C.next();!T.done;T=C.next())void 0!==(V=(N=T.value).id)&&void 0!==this.yY[V]||(M+=1)}catch(t){r={error:t}}finally{try{T&&!T.done&&(e=C.return)&&e.call(C)}finally{if(r)throw r.error}}if(S=!(x=g=M!==w)&&(h.length<100?"chunks":"all"),g){var k=M*Rw,_=new Float32Array(k);this.gY&&_.set(this.gY),this.gY=_,this.xY=k,this.SY=w*Rw}var O=Xr(f)?f.getFallbackColor():void 0;try{for(var F=Vw(h),I=F.next();!I.done;I=F.next()){var j=void 0!==(V=(N=I.value).id)&&this.yY[V],B=[N.xCenter,N.yCenter,N.zCenter,N.xSize,N.ySize,N.zSize,N.color?N.color.r:O?O.r:void 0,N.color?N.color.g:O?O.g:void 0,N.color?N.color.b:O?O.b:void 0,N.color?N.color.a:O?O.a:void 0,N.value];if(j){for(var D=0;D<Rw;D+=1)B[D]=void 0!==B[D]?B[D]:j.buffer[D];j.buffer.set(B)}else{var L=this.SY,E=new Float32Array(this.gY.buffer,L*Float32Array.BYTES_PER_ELEMENT,Rw);E.set(B),void 0!==V&&(this.yY[V]={location:L,buffer:E}),this.SY+=Rw}}}catch(t){o={error:t}}finally{try{I&&!I.done&&(s=F.return)&&s.call(F)}finally{if(o)throw o.error}}if(x&&(this.TN=this.qB.wE(this.gY,!0)),"all"===S)this.qB.rP(this.TN,0,this.gY);else if("chunks"===S)try{for(var P=Vw(h),z=P.next();!z.done;z=P.next()){var N,V;void 0!==(V=(N=z.value).id)&&(j=this.yY[V],this.qB.rP(this.TN,j.location,j.buffer))}}catch(t){a={error:t}}finally{try{z&&!z.done&&(u=P.return)&&u.call(P)}finally{if(a)throw a.error}}if(v||y||b){var R=this.Bz.fillStyleSolid(v),G=this.Bz.fillStyleIndividual(v),U=this.Bz.fillStylePaletted(v);R||G||U?(this.wY=Dw(this.qB,this.MY()),this._D=this.qB.CL(kg["3D"],kg.ColorShaded3D({dataType:G?"attribute":U?["lookup",U.getLookUpProperty(),U.lut]:"uniform",shadingStyle:this.cA.T().type}),kg.VertexLocation({offsets:[{directionVar:"aInstanceGeo",sizeUnit:"axis",dataType:"attribute",halved:!0}],axisWorldTranslation:oo(this.ai),normalSource:this.wY.hY}),void 0!==this.bY&&kg.RoundedEdges3D),this.LG=A?this.qB.CL(kg["3D"],kg.VertexLocation({offsets:[{directionVar:"aInstanceGeo",sizeUnit:"axis",dataType:"attribute",halved:!0}],axisWorldTranslation:oo(this.ai),normalSource:void 0}),kg.MousePicking(),void 0!==this.bY&&kg.RoundedEdges3D):void 0):(this.wY=void 0,this._D=void 0,this.LG=void 0)}if(h.length>0){var Y=d({x:In,y:In,z:In},{x:jn,y:jn,z:jn});for(D=0;D<this.SY;D+=Rw){var W=this.gY[D+0],X=this.gY[D+3]/2,H=W-X,Z=W+X,Q=this.gY[D+1],J=this.gY[D+4]/2,K=Q-J,q=Q+J,$=this.gY[D+2],tt=this.gY[D+5]/2,it=$-tt,nt=$+tt;Y.min.x=Y.min.x<H?Y.min.x:H,Y.min.y=Y.min.y<K?Y.min.y:K,Y.min.z=Y.min.z<it?Y.min.z:it,Y.max.x=Y.max.x>Z?Y.max.x:Z,Y.max.y=Y.max.y>q?Y.max.y:q,Y.max.z=Y.max.z>nt?Y.max.z:nt}this.Kh=Y}this.mY=M,this.AY.length=0}return this.ih(f),this.pY=l,this.cA.o=!1,this.hi.o=!1,this},i.prototype.Ic=function(t,i){var n=this,r=1===t?this.LG:this._D,e=this.wY,o=this.TN,s=this.Qr,a=this.mY,u=this.cA.T(),h=a||0;return r&&o&&void 0!==a&&this.qB.CE(r,(function(f,c,l){var v=!1,d=c("aPos"),y=c("aOffsetAxis");n.qB.el(r).JE(f("uScale"),n.dY.CD.FE()).JE(f("uDisp"),n.dY.CD.IE()).qE(f("uViewProjectionMatrix"),n.CY).OE(f("uIsHighlighted"),1===t||2===t?0:n.yi).WF(f("uHighlightColorOffset"),1===t||2===t?j:n.gi).OE(f("uRenderEffectMask"),2===t?1:0);var A={location:d,size:3},b={location:y,size:3},p={location:void 0,size:4},m={location:void 0,size:1};if(1!==t&&"phong"===u.type&&n.qB.JE(f("uCameraLoc"),n.TY).JE(f("uLightLoc"),n.kY).OE(f("uAmbientReflection"),u.ambientReflection).OE(f("uSpecularReflection"),u.specularReflection).OE(f("uDiffuseReflection"),u.diffuseReflection).OE(f("uShininess"),u.shininess).WF(f("uLightColor"),u.specularColor).WF(f("uAmbientColor"),u.ambientColor),1===t)n.qB.$E(f("uFirstId"),i).HP(l,h);else if(Yr(s))n.qB.WF(f("uColorDiffuse"),s.getColor());else if(Xr(s)){var g=c("aColor");p.location=g}else if(Zr(s)){var x=uo(s,n,void 0);if(!x&&s.lut.percentageValues)return!1;n.qB.tz(l,s.lut,x),"value"===s.lookUpProperty&&(m.location=c("aLookupValue"))}return o&&(n.qB.TE(o,1,A,b,p,m),e.RT(l,a,"phong"===u.type&&1!==t,!1),v=!0),v})),{idCount:h}},i.prototype.Bc=function(t,i,n,r,e){var o,s,a=(t-i)*Rw;if(!this.gY)return{};var u,h=this.gY[a+0],f=this.gY[a+1],c=this.gY[a+2],l=this.gY[a+3],v=this.gY[a+4],d=this.gY[a+5],y=gi(this.gY[a+6],void 0),A=gi(this.gY[a+7],void 0),b=gi(this.gY[a+8],void 0),p=gi(this.gY[a+9],void 0),m=gi(this.gY[a+10],void 0);try{for(var g=Vw(Object.keys(this.yY)),x=g.next();!x.done;x=g.next()){var S=x.value;if(this.yY[S].location===a){u=S;break}}}catch(t){o={error:t}}finally{try{x&&!x.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}return{info:{dataPoint:{x:h,y:f,z:c,xSize:l,ySize:v,zSize:d,r:y,g:A,b:b,a:p,intensity:m,id:u}}}},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.TN&&(this.qB.PE(this.TN),this.TN=void 0),this._D=void 0,this},i.prototype.jc=function(){return this.dispose(),this},i.prototype._A=function(t){this.AY=$i(this.AY,t,{canReturnB:!0})},i.prototype.zi=function(){this.TN&&(this.qB.PE(this.TN),this.TN=void 0),this.gY=void 0,this.xY=0,this.SY=0,this.yY={},this.mY=0,this.AY=[],this.Kh=Dn},i.prototype.$r=function(t){return this.Qr=ca(this.Qr,t),this},i.prototype.vo=function(){return this.Qr},i.prototype.CA=function(t){return this.bY=void 0!==t&&t>0?pi(t,0,1):void 0,this},i.prototype.MY=function(){return this.bY},i.prototype.Xi=function(){return this.Kh.max.x},i.prototype.Wi=function(){return this.Kh.min.x},i.prototype.Zi=function(){return this.Kh.max.y},i.prototype.Hi=function(){return this.Kh.min.y},i.prototype.br=function(){return this.Kh.max.z},i.prototype.Ar=function(){return this.Kh.min.z},i.prototype.Cf=function(){return 0},i.prototype.Tf=function(){return 0},i.prototype.SA=function(){return 0},i.prototype.Ku=function(){return la(this.qu,this.Qr)},i.prototype.ih=function(t){this.qu=t},i}(zw),Uw=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yw=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Ww=function(t){function i(i,n){var r=t.call(this,i)||this;r.hY="custom",r.MN=n;var e=r.CN(),o=e.vertices,s=e.drawSize;return r.TN=i.wE(o),r._N=s,r}return Uw(i,t),i.prototype.el=function(t){return this.qB.TE(this.TN,0,{location:t.attribute("aSegmentPosition"),size:1},{location:t.attribute("aPerpendHorizontal"),size:1},{location:t.attribute("aPerpendVertical"),size:1}),this},i.prototype.RT=function(t){return this.qB.AP(this.qB.gl.TRIANGLE_STRIP,0,this._N,t),this},i.prototype.CN=function(){for(var t,i,n=this.MN,r=new Float32Array(2*(n+1)*3),e=0,o=0;o<=n;o+=1){var s=2*Math.PI*o/n,a=Math.cos(s),u=Math.sin(s);try{for(var h=(t=void 0,Yw([0,1])),f=h.next();!f.done;f=h.next()){var c=f.value;r[e+0]=c,r[e+1]=a,r[e+2]=u,e+=3}}catch(i){t={error:i}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(t)throw t.error}}}return{vertices:r,drawSize:e/3}},i.prototype.XL=function(){this.qB.PE(this.TN)},i}(dx),Xw=function(t,i){void 0===i&&(i=16);var n=t.YE.UL.get(i);return n||(n=new Ww(t,i),t.YE.UL.set(i,n),n)},Hw=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zw=function(t){function i(i,n,r){var e=t.call(this,i,n,r)||this;return e.vY="cull-back",e._Y=Dn,e.OY=[],e.FY=!1,e.vc=ra.lineStyle,e.cA.C(_e),e}return Hw(i,t),i.prototype.Io=function(t){var i=this.FY,n=this.vc,r=this.yc!==n,e=this.aE(),o=i;if(i){var s=Vi(this.OY);this.IY=this.qB.wE(s,!1,this.IY)}if(o&&(this._Y=Qn(this.OY)),r||e){var a=Ye(n)&&n.getFillStyle(),u=1===n.getThickness()?"primitive":"instanced";this.NN=void 0,Yr(a)&&("primitive"===u?this.NN={type:u,shader:this.qB.CL(kg["3D"],kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0}),kg.Color({dataType:"uniform"})),fillStyle:a}:"instanced"===u&&(this.NN={type:u,shader:this.qB.CL(kg["3D"],kg.ColorShaded3D({dataType:"uniform",shadingStyle:this.cA.T().type}),kg.LineInstanced3D({axisWorldTranslation:oo(this.ai)})),geometry:Xw(this.qB,8),fillStyle:a}))}return this.FY=!1,this.yc=n,this.cA.o=!1,this},i.prototype.Ic=function(t,i){var n=this;if(1===t)return{};var r=this.qB.gl,e=this.NN,o=this.IY,s=this.vc,a=this.cA.T();if(e&&o&&Ye(s))switch(e.type){case"instanced":var u=.5*this.Yn.tb(s.thickness),h=e.fillStyle.getColor(),f=e.shader,c=e.geometry;this.qB.CE(f,(function(i,e,s){n.qB.el(f).JE(i("uScale"),n.dY.CD.FE()).JE(i("uDisp"),n.dY.CD.IE()).qE(i("uViewProjectionMatrix"),n.CY).WF(i("uColorDiffuse"),h).OE(i("uOffsetWU"),u).OE(i("uIsHighlighted"),n.yi).WF(i("uHighlightColorOffset"),2===t?j:n.gi).OE(i("uRenderEffectMask"),2===t?1:0),"phong"===a.type&&n.qB.JE(i("uCameraLoc"),n.TY).JE(i("uLightLoc"),n.kY).OE(i("uAmbientReflection"),a.ambientReflection).OE(i("uSpecularReflection"),a.specularReflection).OE(i("uDiffuseReflection"),a.diffuseReflection).OE(i("uShininess"),a.shininess).WF(i("uLightColor"),a.specularColor).WF(i("uAmbientColor"),a.ambientColor),r.bindBuffer(r.ARRAY_BUFFER,o);var l=e("aLocationA"),v=e("aLocationB");return r.vertexAttribPointer(l,3,r.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),n.qB.hP(l,1),r.enableVertexAttribArray(l),r.vertexAttribPointer(v,3,r.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),n.qB.hP(v,1),r.enableVertexAttribArray(v),c.el(s).RT(n.OY.length/2),!0}));break;case"primitive":var l=Ye(s)?s.getFillStyle():void 0,v=l&&Yr(l)?l.getColor():void 0;if(v){var d=e.shader;this.qB.CE(d,(function(i,e){return n.qB.el(d).JE(i("uScale"),n.dY.CD.FE()).JE(i("uDisp"),n.dY.CD.IE()).qE(i("uViewProjectionMatrix"),n.CY).WF(i("uColor"),v).OE(i("uIsHighlighted"),n.yi).WF(i("uHighlightColorOffset"),2===t?j:n.gi).OE(i("uRenderEffectMask"),2===t?1:0).TE(o,void 0,{location:e("aPos"),size:3}).RT(r.LINES,n.OY.length),!0}))}}return{idCount:this.OY.length}},i.prototype.Bc=function(t,i,n,r,e){return{}},i.prototype.lf=function(t){for(var i=0;i<t.length-1;i+=1){var n=t[i],r=t[i+1];this.OY.push(n),this.OY.push(r)}return this.FY=!0,{Oi:function(){return this},Tn:function(){return this}}},i.prototype.zi=function(){return this.OY.length=0,this.FY=!0,this},i.prototype.GA=function(){return[]},i.prototype.tv=function(t){},i.prototype.fe=function(t){return this.vc="function"==typeof t?t(this.vc):t,this},i.prototype.oa=function(){return this.vc},i.prototype.jc=function(){return this.IY&&(this.qB.PE(this.IY),this.IY=void 0),this},i.prototype.Xi=function(){return this._Y.max.x},i.prototype.Wi=function(){return this._Y.min.x},i.prototype.Zi=function(){return this._Y.max.y},i.prototype.Hi=function(){return this._Y.min.y},i.prototype.br=function(){return this._Y.max.z},i.prototype.Ar=function(){return this._Y.min.z},i.prototype.Cf=function(){var t=this.vc;return t===qt?0:t.getThickness()},i.prototype.Tf=function(){var t=this.vc;return t===qt?0:t.getThickness()},i.prototype.SA=function(){var t=this.vc;return t===qt?0:t.getThickness()},i}(zw),Qw=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jw=function(t){function i(i,n,r){var e=t.call(this,i)||this;e.hY="gpu-calculate",e.jY=n,e.BY=r;var o=e.CN(),s=o.vertices,a=o.drawSize;return e.TN=i.wE(s),e._N=a,e}return Qw(i,t),i.prototype.RT=function(t,i,n,r){return this.qB.TE(this.TN,0,{location:t.attribute("aInstanceGeo"),size:3},{location:r?t.attribute("aTriangleBary"):void 0,size:3}).AP(this.qB.gl.TRIANGLES,0,this._N,i),this},i.prototype.CN=function(){for(var t=this,i=this.BY,n=this.jY,r=new Float32Array(6*(6*n+6*(i-2)*n)),e=0,o=2*Math.PI/n,s=Math.PI/i,a=function(t,i,n,a,u){var h=i*o,f=Math.PI/2-t*s,c=Math.cos(f),l=c*Math.cos(h),v=c*Math.sin(h),d=Math.sin(f);r[e]=l,r[e+1]=d,r[e+2]=v,r[e+3]=n,r[e+4]=a,r[e+5]=u,e+=6},u=0;u<i;u+=1)for(var h=0;h<n;h+=1)u>0&&(a(u,h,1,0,0),a(u,h+1,1,1,0),a(u+1,h,0,0,1)),u<i-1&&(a(u,h+1,1,1,0),a(u+1,h+1,0,1,0),a(u+1,h,0,0,1));return e!==r.length&&un(0,(function(){t.qB.Uy.Su&&e>r.length&&ci.console.warn("LightningChart JS unexpected error scenario, sphere geometry buffer size mismatch.\nA point series 3D component might have missing points.\n\nThis warning can be omitted with LightningChartOptions.warnings")})),{vertices:r,drawSize:e/6}},i.prototype.XL=function(){this.qB.PE(this.TN)},i}(dx),Kw=function(t,i){var n=Math.round(i);n<3&&un(0,Ai);var r=n,e=t.YE.YL.get(Array.from(t.YE.YL.keys()).find((function(t){return t.sectors===n&&t.stacks===r})));return e||(e=new Jw(t,n,r),t.YE.YL.set({sectors:n,stacks:r},e),e)},qw=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$w=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},tM=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r)||this;o.vY="cull-back",o._S=[],o.NN={},o.zV=new AS(o._S,(function(t){return t.vertexBuffer&&o.qB.PE(t.vertexBuffer)}),!0),o.Sc=[],o.qh=0,o.$h=[],o.tf=0,o.Kh=Dn,o.if=Dn,o.Bz=ao({lineStyleSolid:function(){var t=o.vc;return Ye(t)&&t},lineFillSolid:function(){var t=o.vc.getFillStyle();return Yr(t)&&t},lineFillPaletted:function(){var t=o.vc.getFillStyle();return Zr(t)&&t},jointStyleTriangulatedPoints:function(){return Pe(o.Ab)&&o.Ab},jointSizeTriangulated:function(){var t=o.Ab;return Pe(t)&&t.getSize()},jointFillSolid:function(){var t=o.Ab.getFillStyle();return Yr(t)&&t},jointFillPaletted:function(){var t=o.Ab.getFillStyle();return Zr(t)&&t},wireframeLineStyleSolid:function(){var t=Pe(o.Ab)&&o.Ab.getWireframeStyle();return Ye(t)&&t},wireframeFillSolid:function(){var t=Pe(o.Ab)&&o.Ab.getWireframeStyle(),i=t&&t.getFillStyle();return Yr(i)&&i}}),o.rf=A(void 0),o.nf=!1,o.xu=e,o.vc=ra.lineStyle,o.Ab=ra.pointStyle3D,o.cA.C(Ie);var s,a=!0===(null==e?void 0:e.individualLookupValuesEnabled),u=0;u+=3,a&&(s=u,u+=1);var h=Ri(!1,!1,a,!1);return o.UV={attributeOffsetCoordinate:0,individualLookupValuesEnabled:a,attributesPerVertex:u,attributeOffsetLookUpValue:s,prepareRenderData:function(t,i){return h(t,void 0,o.vc.getFillStyle())}},o}return qw(i,t),i.prototype.Mi=function(){return this.rf.T()||this.rf.M},i.prototype.Bc=function(t,i,n,r,e){return{info:{dataPoint:this.Sc[t-i]}}},i.prototype.Io=function(t){var i=this,n=this.nf,r=this.$h,e=this.tf,o=e>0,s=this.vc,a=s!==this.yc,u=this.Ab,h=u!==this.DY,f=this.aE(),c=this.hi.o,l=this.hi.T();this.if&&(this.Kh=Kn(this.Kh,this.if),this.if=void 0),o&&(this.Sc=$i(this.Sc,r,{canReturnB:!0}),this.qh+=e);var v=r,d=e;if(n&&(this._S.forEach((function(t){t.existingCoordinatesCount=0,t.existingDataPointsCount=0,t.boundaries=Dn})),this.zV.OV(),v=this.Sc,d=this.qh),d>0){var y=Math.floor(this.Cz.LY/(this.UV.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT)),A=this.wi("ApplicationType",(function(t){return"UserSeries"===t.type}))?d:1e3,b=pi(A,1e5,y);this.zV.CV(v,b,(function(t,n,r,e){return{existingDataPointsCount:r-e,existingCoordinatesCount:r,allocatedCoordinatesCount:t,jointPointsCount:e,lastDataPoint:n[r-1],boundaries:Dn,vertexBuffer:i.qB.nP(t*i.UV.attributesPerVertex,i.UV.prepareRenderData(n,r))}}),(function(t,n,r,e){i.qB.rP(t.vertexBuffer,t.existingCoordinatesCount*i.UV.attributesPerVertex,i.UV.prepareRenderData(n,r)),t.existingDataPointsCount+=r-e,t.existingCoordinatesCount+=r,t.jointPointsCount+=e,t.lastDataPoint=n[r-1]}))}var p=this.Bz.lineStyleSolid(a),m=this.Bz.lineFillSolid(a),g=this.Bz.lineFillPaletted(a),x=m||g;if(a||h||f||c){var S={},w=this.Bz.jointStyleTriangulatedPoints(h),M=this.Bz.jointSizeTriangulated(h),C=this.Bz.jointFillSolid(h),T=this.Bz.jointFillPaletted(h),k=C||T,_=this.Bz.wireframeLineStyleSolid(h),O=this.Bz.wireframeFillSolid(h),F=this.UV.individualLookupValuesEnabled,I=s.getThickness()<0||1===s.getThickness()&&this.wi("ApplicationType",(function(t){return"InternalUI"===t.type}))?"primitive":"instanced",j=g?["lookup",g.getLookUpProperty(),g.lut]:"uniform";if(g&&"value"===g.getLookUpProperty()&&!F){var B='LCJS misusage error: Series individualLookupValuesEnabled flag must be set if using PalettedFill with lookUpProperty="value" !';throw ci.alert(B),new Error(B)}if("primitive"===I&&x?S.lines={type:"primitive",fillStyleSolid:m,fillStylePaletted:g,shader:this.qB.CL(kg["3D"],kg.Color({dataType:j}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0})),mousePicking:l?{shader:this.qB.CL(kg["3D"],kg.MousePicking({useVertexId:!0}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0}))}:void 0}:"instanced"===I&&p&&x&&(S.lines={type:"instanced",lineStyleSolid:p,fillStyleSolid:m,fillStylePaletted:g,shader:this.qB.CL(kg["3D"],kg.ColorShaded3D({dataType:j,shadingStyle:this.cA.T().type}),kg.LineInstanced3D({axisWorldTranslation:oo(this.ai)})),geometry:iM(this.qB,p.getThickness()),mousePicking:l?{shader:this.qB.CL(kg["3D"],kg.MousePicking(),kg.LineInstanced3D({axisWorldTranslation:oo(this.ai)}))}:void 0}),S.markers=void 0,k&&w){var D=Ki(w.getShape(),{cube:function(){return Dw(i.qB)},sphere:function(){return nM(i.qB,w)}});S.markers={geometry:D,pointStyle:w,pointSizeNWU:"number"==typeof M&&M,pointSizeAxis:"object"==typeof M&&M,fillStyleSolid:C,fillStylePaletted:T,shader:this.qB.CL(kg["3D"],kg.ColorShaded3D({dataType:T?["lookup",T.getLookUpProperty(),T.lut]:"uniform",shadingStyle:this.cA.T().type,wireframe:!1!==O}),kg.VertexLocation({offsets:[{directionVar:"aInstanceGeo",dataType:"uniform",sizeUnit:"number"==typeof M?"nwu":"axis",symmetric:"number"==typeof M,halved:!0}],axisWorldTranslation:oo(this.ai),normalSource:D.hY})),mousePicking:l?{shader:this.qB.CL(kg["3D"],kg.MousePicking(),kg.VertexLocation({offsets:[{directionVar:"aInstanceGeo",dataType:"uniform",sizeUnit:"number"==typeof M?"nwu":"axis",symmetric:"number"==typeof M,halved:!0}],axisWorldTranslation:oo(this.ai),normalSource:void 0}))}:void 0,wireframe:_&&O&&{thickness:_.getThickness(),fillStyleSolid:O}}}this.NN=S}if(void 0===this.rf.T()&&g&&"value"===g.lookUpProperty&&g.lut.percentageValues){for(var L=jn,E=In,P=0;P<this.Sc.length;P+=1){var z=this.Sc[P];void 0!==z.value&&z.value<E&&(E=z.value),void 0!==z.value&&z.value>L&&(L=z.value)}this.rf.C({min:E,max:L})}return this.rf.M=void 0,this.nf=!1,this.$h=[],this.tf=0,this.yc=s,this.DY=u,this.cA.o=!1,this.hi.o=!1,this},i.prototype.Ic=function(t,i){var n,r,e=this,o=this.qB.gl,s=this.NN,a=s.lines,u=s.markers,h=this.cA.T(),f=this.qh,c=1===t?null===(n=null==a?void 0:a.mousePicking)||void 0===n?void 0:n.shader:null==a?void 0:a.shader;if(a&&c&&"instanced"===a.type){var l=c,v=a.geometry,d=a.lineStyleSolid,y=a.fillStyleSolid,A=a.fillStylePaletted;this.qB.CE(l,(function(n,r,s){var a=!1;if(e.qB.el(l).JE(n("uScale"),e.dY.CD.FE()).JE(n("uDisp"),e.dY.CD.IE()).qE(n("uViewProjectionMatrix"),e.CY).OE(n("uOffsetWU"),e.Yn.tb(d.getThickness())).OE(n("uIsHighlighted"),1===t||2===t?0:e.yi).WF(n("uHighlightColorOffset"),1===t||2===t?j:e.gi).OE(n("uRenderEffectMask"),2===t?1:0),1!==t&&"phong"===h.type&&e.qB.JE(n("uCameraLoc"),e.TY).JE(n("uLightLoc"),e.kY).OE(n("uAmbientReflection"),h.ambientReflection).OE(n("uSpecularReflection"),h.specularReflection).OE(n("uDiffuseReflection"),h.diffuseReflection).OE(n("uShininess"),h.shininess).WF(n("uLightColor"),h.specularColor).WF(n("uAmbientColor"),h.ambientColor),1===t);else if(y)e.qB.WF(n("uColorDiffuse"),y.getColor());else if(A){var u=uo(A,e,e.rf.T());if(!u&&A.lut.percentageValues)return!1;e.qB.tz(s,A.lut,u)}var f=Cn(i);return e._S.forEach((function(i){if(1===t){var u=$w(f.tn(i.existingDataPointsCount),2),h=u[0],c=u[1];e.qB.$E(n("uFirstId"),h).HP(s,c)}o.bindBuffer(o.ARRAY_BUFFER,i.vertexBuffer);var l=r("aLocationA"),d=r("aLocationB");if(o.vertexAttribPointer(l,3,o.FLOAT,!1,e.UV.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,e.UV.attributeOffsetCoordinate*Float32Array.BYTES_PER_ELEMENT),e.qB.hP(l,1),o.enableVertexAttribArray(l),o.vertexAttribPointer(d,3,o.FLOAT,!1,e.UV.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,(e.UV.attributeOffsetCoordinate+e.UV.attributesPerVertex)*Float32Array.BYTES_PER_ELEMENT),e.qB.hP(d,1),o.enableVertexAttribArray(d),A&&"value"===A.getLookUpProperty()&&void 0!==e.UV.attributeOffsetLookUpValue&&1!==t){var y=r("aLookupValue");o.vertexAttribPointer(y,1,o.FLOAT,!1,e.UV.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,e.UV.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),e.qB.hP(y,1),o.enableVertexAttribArray(y)}v.el(s).RT(i.existingCoordinatesCount-1),a=!0})),a}))}if(a&&c&&"primitive"===a.type){var b=c,p=a.fillStyleSolid,m=a.fillStylePaletted;this.qB.CE(b,(function(n,r,s){var a=!1;if(e.qB.el(b).JE(n("uScale"),e.dY.CD.FE()).JE(n("uDisp"),e.dY.CD.IE()).qE(n("uViewProjectionMatrix"),e.CY).OE(n("uIsHighlighted"),1===t||2===t?0:e.yi).WF(n("uHighlightColorOffset"),1===t||2===t?j:e.gi).OE(n("uRenderEffectMask"),2===t?1:0),1===t);else if(p)e.qB.WF(n("uColor"),p.getColor());else if(m){var u=uo(m,e,e.rf.T());if(!u&&m.lut.percentageValues)return!1;e.qB.tz(s,m.lut,u)}var h=Cn(i);return e._S.forEach((function(i){if(1===t){var u=$w(h.tn(i.existingDataPointsCount),2),f=u[0],c=u[1];e.qB.$E(n("uFirstId"),f).WP(s,c)}o.bindBuffer(o.ARRAY_BUFFER,i.vertexBuffer);var l=r("aPos");if(o.vertexAttribPointer(l,3,o.FLOAT,!1,e.UV.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,e.UV.attributeOffsetCoordinate*Float32Array.BYTES_PER_ELEMENT),o.enableVertexAttribArray(l),m&&"value"===m.getLookUpProperty()&&void 0!==e.UV.attributeOffsetLookUpValue&&1!==t){var v=r("aLookupValue");o.vertexAttribPointer(v,1,o.FLOAT,!1,e.UV.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,e.UV.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),o.enableVertexAttribArray(v)}e.qB.RT(o.LINE_STRIP,i.existingCoordinatesCount),a=!0})),a}))}var g=1===t?null===(r=null==u?void 0:u.mousePicking)||void 0===r?void 0:r.shader:null==u?void 0:u.shader;if(u&&g){var x=g,S=u.geometry,w=u.fillStyleSolid,M=u.fillStylePaletted,C=u.pointSizeAxis,T=u.pointSizeNWU,k=u.wireframe;this.qB.CE(x,(function(n,r,s,a){var u=!1;if(e.qB.el(x).JE(n("uScale"),e.dY.CD.FE()).JE(n("uDisp"),e.dY.CD.IE()).qE(n("uViewProjectionMatrix"),e.CY).OE(a("uRatioNwuWu"),e.dY.EY()).OE(n("uIsHighlighted"),1===t||2===t?0:e.yi).WF(n("uHighlightColorOffset"),1===t||2===t?j:e.gi).OE(n("uRenderEffectMask"),2===t?1:0),1!==t&&"phong"===h.type&&e.qB.JE(n("uCameraLoc"),e.TY).JE(n("uLightLoc"),e.kY).OE(n("uAmbientReflection"),h.ambientReflection).OE(n("uSpecularReflection"),h.specularReflection).OE(n("uDiffuseReflection"),h.diffuseReflection).OE(n("uShininess"),h.shininess).WF(n("uLightColor"),h.specularColor).WF(n("uAmbientColor"),h.ambientColor),1===t);else if(w)e.qB.WF(n("uColorDiffuse"),w.getColor());else if(M){var f=uo(M,e,e.rf.T());if(!f&&M.lut.percentageValues)return!1;e.qB.tz(s,M.lut,f)}k&&1!==t&&e.qB.OE(n("uWireframeThickness"),k.thickness).WF(n("uWireframeColor"),k.fillStyleSolid.getColor()),!1!==C&&e.qB.JE(n("uOffsetAxis"),[C.x,C.y,C.z]),!1!==T&&e.qB.OE(n("uOffsetNWU"),T);var c=Cn(i);return e._S.forEach((function(i){if(1===t){var a=$w(c.tn(i.existingDataPointsCount),2),f=a[0],l=a[1];e.qB.$E(n("uFirstId"),f).HP(s,l)}o.bindBuffer(o.ARRAY_BUFFER,i.vertexBuffer);var v=r("aPos");if(o.vertexAttribPointer(v,3,o.FLOAT,!1,e.UV.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,e.UV.attributeOffsetCoordinate*Float32Array.BYTES_PER_ELEMENT),e.qB.hP(v,1),o.enableVertexAttribArray(v),M&&"value"===M.getLookUpProperty()&&void 0!==e.UV.attributeOffsetLookUpValue&&1!==t){var d=r("aLookupValue");o.vertexAttribPointer(d,1,o.FLOAT,!1,e.UV.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,e.UV.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),e.qB.hP(d,1),o.enableVertexAttribArray(d)}S.RT(s,i.existingCoordinatesCount,"phong"===h.type&&1!==t,Boolean(k)&&1!==t),u=!0})),u}))}return{idCount:f}},i.prototype.lf=function(t,i){Array.isArray(t)||(t=[t]),this.$h=$i(this.$h,t,{canReturnB:!0}),this.tf+=t.length;var n=i||Qn(t);return this.if=this.if?Kn(this.if,n):n,this},i.prototype.fe=function(t){return this.vc="function"==typeof t?t(this.vc):t,this},i.prototype.oa=function(){return this.vc},i.prototype.ZA=function(t){return this.Ab="function"==typeof t?t(this.Ab):t,this},i.prototype.PY=function(){return this.Ab},i.prototype.Xi=function(){return this.if?Math.max(this.if.max.x,this.Kh.max.x):this.Kh.max.x},i.prototype.Wi=function(){return this.if?Math.min(this.if.min.x,this.Kh.min.x):this.Kh.min.x},i.prototype.Zi=function(){return this.if?Math.max(this.if.max.y,this.Kh.max.y):this.Kh.max.y},i.prototype.Hi=function(){return this.if?Math.min(this.if.min.y,this.Kh.min.y):this.Kh.min.y},i.prototype.br=function(){return this.if?Math.max(this.if.max.z,this.Kh.max.z):this.Kh.max.z},i.prototype.Ar=function(){return this.if?Math.min(this.if.min.z,this.Kh.min.z):this.Kh.min.z},i.prototype.Cf=function(){return An(this.vc)},i.prototype.Tf=function(){return An(this.vc)},i.prototype.SA=function(){return An(this.vc)},i.prototype.sf=function(){return this.Sc},i.prototype.ef=function(){return this.$h},i.prototype.vf=function(){return this.qh},i.prototype.df=function(){return this.tf},i.prototype.zi=function(){return this.nf=!0,this.Sc.length=0,this.qh=0,this.$h=[],this.tf=0,this.Kh=Dn,this.if=void 0,this},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.zV.FV(),this.NN={},this},i.prototype.jc=function(){return this.dispose(),this},i}(zw),iM=function(t,i){return Xw(t,i>50?20:i>20?16:i>10?12:i>5?8:6)},nM=function(t,i){var n=i.getSize();return Kw(t,"number"==typeof n?n>50?20:n>20?16:n>10?12:n>5?8:6:20)},rM=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eM=function(t){function i(i,n,r){var e=t.call(this,i,n,r)||this;return e.vY="disabled",e.zY=!1,e.NY=!1,e.VY={x:1,y:1,z:1},e.Op={x:0,y:0,z:0},e._p={x:0,y:0,z:0},e.RY={x:0,y:0,z:0},e.Ip={x:0,y:0,z:0,w:1},e.jp={x:1,y:1,z:1},e.GY=w(255,255,255),e.UY=cx.projectionOrthographic(-1,1,-1,1,1,-1),e.YY=cx.projectionOrthographic(-1,1,-1,1,1,-1),e.WY=!1,e.isEulerRotation=!0,e.Bz=ao({fillStyleSolid:function(){return Yr(e.Qr)&&e.Qr},fillStyleValuePalette:function(){return Zr(e.Qr)&&"value"===e.Qr.lookUpProperty&&e.Qr}}),e.Qr=ra.fillStyle,e.cA.C(Ie),e}return rM(i,t),i.prototype.Io=function(t){var i,n=this.aE(),r=this.hi.T(),e=this.hi.o,o=this.Ku();this.Bz.fillStyleSolid(o);var s=this.Bz.fillStyleValuePalette(o),a=this.RY,u=this.jp;if(this.zY&&this.HY&&(this.TN=this.qB.wE(this.HY.vertices,void 0,this.TN),this.kN=this.qB.sP(this.HY.indices,this.kN),this.ZY=this.HY.indices.length),"phong"===this.cA.T().type&&(n||this.zY)&&(null===(i=this.HY)||void 0===i?void 0:i.normals)&&(this.QY=this.qB.wE(this.HY.normals,void 0,this.QY)),!this.JY&&s&&"value"===s.lookUpProperty&&this.HY&&(this.JY=new Float32Array(this.HY.vertices.length/3),this.NY=!0),this.JY&&this.NY&&(this.KY=this.qB.wE(this.JY,void 0,this.KY)),n||o||e){if(s&&"value"!==s.lookUpProperty)throw new Error("LightningChart JS MeshModel3D does not support look up by x/y/z. Must be value");this._D=this.qB.CL(kg["3D"],kg.ColorShaded3D({dataType:s?["lookup","value",s.lut]:"uniform",shadingStyle:this.cA.T().type,wireframe:!1}),kg.Model3D({normalSource:"phong"===this.cA.T().type?"attribute":void 0})),this.LG=r?this.qB.CL(kg["3D"],kg.MousePicking({useVertexId:!0}),kg.Model3D({normalSource:void 0})):void 0}if(this.WY){var h=cx.projectionOrthographic(-1,1,-1,1,1,-1);if(this.isEulerRotation)this.YY=cx.rotateXYZ(h,a),this.UY=cx.translate(h,u.x/2,u.y/2,u.z/2),this.UY=cx.rotateXYZ(this.UY,a),this.UY=cx.translate(this.UY,-u.x/2,-u.y/2,-u.z/2);else{var f=[-this.Ip.x,-this.Ip.y,-this.Ip.z,this.Ip.w];this.YY=cx.quaternionToRotationMatrix(f),this.UY=cx.translate(h,u.x/2,u.y/2,u.z/2),this.UY=cx.multiply(this.UY,this.YY),this.UY=cx.translate(this.UY,-u.x/2,-u.y/2,-u.z/2)}this.WY=!1}return this.cA.o=!1,this.ih(this.Qr),this.hi.o=!1,this.zY=!1,this.NY=!1,this},i.prototype.Ic=function(t,i){var n,r=this,e=1===t?this.LG:this._D,o=1===t,s=this.kN,a=this.TN,u=this.QY,h=this.KY,f=this.Op,c=this._p,l=this.VY,v=this.jp,d=this.UY,y=this.YY,A=this.Bz.fillStyleValuePalette(!1),b=this.Bz.fillStyleSolid(!1),p=this.cA.T(),m={location:void 0,size:1},g=this.ZY;if(!(e&&a&&s&&this.HY))return{};var x=this.HY?null===(n=this.HY)||void 0===n?void 0:n.parts.length:0;if(x<1)return{};var S=this.HY.vertices.length;return this.qB.CE(e,(function(n,w,M,C){var T;r.qB.el(e).JE(n("uScale"),r.dY.CD.FE()).JE(n("uDisp"),r.dY.CD.IE()).qE(n("uViewProjectionMatrix"),r.CY).OE(n("uIsHighlighted"),1===t||2===t?0:r.yi).WF(n("uHighlightColorOffset"),r.gi).OE(n("uRenderEffectMask"),2===t?1:0).qE(n("uModelRotation"),d).JE(n("uModelScale"),[l.x,l.y,l.z]).JE(n("uLocationAxis"),[f.x,f.y,f.z]).JE(n("uModelAlignment"),[c.x,c.y,c.z]).JE(n("uModelSize"),[v.x,v.y,v.z]).TE(a,0,{location:M.attribute("aGeoPos"),size:3}).vP(s);var k=!1;if(o)r.qB.$E(n("uFirstId"),i).WP(M,S);else{if(r.Qr===Vr&&S<1)return!1;if(b)r.qB.WF(n("uColorDiffuse"),b.getColor());else if(A){if(!h)return!1;var _=A.getPalette();m.location=w("aLookupValue"),r.qB.tz(M,_,void 0).TE(h,void 0,m),k=!0}}"phong"!==p.type||o||(r.qB.JE(n("uCameraLoc"),r.TY).JE(n("uLightLoc"),r.kY).OE(n("uAmbientReflection"),p.ambientReflection).OE(n("uSpecularReflection"),p.specularReflection).OE(n("uDiffuseReflection"),p.diffuseReflection).OE(n("uShininess"),p.shininess).WF(n("uLightColor"),p.specularColor).WF(n("uAmbientColor"),p.ambientColor).qE(n("uModelRotationNormals"),y),u&&r.qB.TE(u,void 0,{location:M.attribute("aNormal"),size:3}));for(var O=!1,F=0;F<x;F+=1){g=0;var I=r.GY,j=0,B=0,D=0,L=!0;r.HY&&r.HY.parts&&r.HY.parts[F].material&&(I=r.HY.parts[F].material.specular,g=r.HY.parts[F].count,B=r.HY.parts[F].count,D=r.HY.parts[F].offset,L=r.HY.parts[F].useIndexBuffer,j=r.HY.parts[F].indexStart,o||b||k||r.qB.WF(n("uColorDiffuse"),r.HY.parts[F].material.diffuse)),(g>0||B>0)&&("phong"!==p.type||o||(r.qB.WF(n("uLightColor"),I),y?r.qB.qE(n("uModelRotationNormals"),y):r.qB.WF(n("uLightColor"),p.specularColor)),L?r.qB.yP(g,r.qB.gl.TRIANGLES,j,(null===(T=r.HY)||void 0===T?void 0:T.indices)instanceof Uint32Array?r.qB.gl.UNSIGNED_INT:r.qB.gl.UNSIGNED_SHORT):r.qB.RT(r.qB.gl.TRIANGLES,B,D),O=!0)}return O})),{idCount:S}},i.prototype.qY=function(t){if(this.$Y)return this.$Y;var i,n=this.Op,r=this._p,e=this.VY,o=this.jp,s=this.RY,a=this.Ip,u=this.dY.og(n),h=[],f=cx.projectionOrthographic(-1,1,-1,1,1,-1);if(this.isEulerRotation)i=cx.translate(f,o.x/2,o.y/2,o.z/2),i=cx.rotateXYZ(i,s),i=cx.translate(i,-o.x/2,-o.y/2,-o.z/2);else{var c=[-a.x,-a.y,-a.z,a.w];i=cx.translate(f,o.x/2,o.y/2,o.z/2),i=cx.multiply(i,cx.quaternionToRotationMatrix(c)),i=cx.translate(i,-o.x/2,-o.y/2,-o.z/2)}for(var l=(r.x+1)*(o.x/2),v=(r.y+1)*(o.y/2),d=(r.z+1)*(o.z/2),y=0;y<t.vertices.length;y+=3){var A=cx.multiply(i,[t.vertices[y],t.vertices[y+1],t.vertices[y+2],1]),b={x:u.x+(A[0]-l)*e.x,y:u.y+(A[1]-v)*e.y,z:u.z+(A[2]-d)*e.z};h.push(b)}return this.$Y=h,this.$Y},i.prototype.Np=function(t){var i=this.HY;if(i){var n=this.qY(i),r=t(n);0!==r.length&&(r.length!==n.length&&!0===this.Ai.xu.Su&&ci.console.warn("LightningChart JS warning - MeshModel3D.setVertexValues returned array length is not equal to vertex locations array length.\nThis is most likely an application error."),this.JY=r instanceof Float32Array?r:new Float32Array(r),this.NY=!0)}},i.prototype.Bc=function(t,i,n,r,e){return{info:{iVertex:t-i}}},i.prototype.Ep=function(t,i){var n=this,r=this.HY;if(r&&void 0!==(null==t?void 0:t.iVertex)){if(r.indices.length>0){for(var e=[],o=0;o<r.indices.length;o+=3){var s=r.indices[o],a=r.indices[o+1],u=r.indices[o+2];s!==t.iVertex&&a!==t.iVertex&&u!==t.iVertex||e.push([s,a,u])}var h=this.qY(r),f=this.Ai.oe(i.clientX,i.clientY),c=e.map((function(t){return t.map((function(t){var i={x:r.vertices[3*t],y:r.vertices[3*t+1],z:r.vertices[3*t+2]},e=h[t],o=n.dY.sg(e),s=n.dY.nb(o);return{index:t,vertex:i,world:e,axis:o,dist:s?Yn(s,f):In}}))})).flat();c.sort((function(t,i){return t.dist-i.dist}));var l=c[0];if(!l)return;var v=this.JY?this.JY[l.index]:void 0;return{coordModel:l.vertex,coordAxis:l.axis,index:l.index,value:v}}var d=t.iVertex,y=this.JY?this.JY[d]:void 0,A={x:r.vertices[3*d],y:r.vertices[3*d+1],z:r.vertices[3*d+2]},b=this.qY(r)[d];return{coordModel:A,coordAxis:this.dY.sg(b),index:d,value:y}}},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.TN&&(this.qB.PE(this.TN),this.TN=void 0),this.kN&&(this.qB.PE(this.kN),this.kN=void 0),this.QY&&(this.qB.PE(this.QY),this.QY=void 0),this.KY&&(this.qB.PE(this.KY),this.KY=void 0),this._D=void 0,this.LG=void 0,this.HY=void 0,this.JY=void 0,this},i.prototype.jc=function(){return this.dispose(),this},i.prototype.Pp=function(t){return this.HY=t,this.zY=!0,this.jp=t.modelSize,this},i.prototype.$r=function(t){return this.Qr=ca(this.Qr,t),this},i.prototype.vo=function(){return this.Qr},i.prototype.Vp=function(t){return this.VY=t,this.$Y=void 0,this},i.prototype.FE=function(){return this.VY},i.prototype.Rp=function(t){return this.Op=t,this.$Y=void 0,this},i.prototype.Gp=function(t){return this._p=t,this.$Y=void 0,this},i.prototype.Yp=function(t){return this.RY=t,this.WY=!0,this.isEulerRotation=!0,this.$Y=void 0,this},i.prototype.Wp=function(t){return this.Ip=t,this.WY=!0,this.isEulerRotation=!1,this.$Y=void 0,this},i.prototype.Xp=function(t){return this.vY=t,this},i.prototype.Hp=function(){return this.vY},i.prototype.Xi=function(){return jn},i.prototype.Wi=function(){return In},i.prototype.Zi=function(){return jn},i.prototype.Hi=function(){return In},i.prototype.br=function(){return jn},i.prototype.Ar=function(){return In},i.prototype.Cf=function(){return 0},i.prototype.Tf=function(){return 0},i.prototype.SA=function(){return 0},i.prototype.Ku=function(){return la(this.qu,this.Qr)},i.prototype.ih=function(t){this.qu=t},i}(zw),oM=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sM=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r)||this;o.vY="cull-back",o._S=[],o.zV=new AS(o._S,(function(t){return t.vertexBuffer&&o.qB.PE(t.vertexBuffer)}),!1),o.Sc=[],o.qh=0,o.$h=[],o.tf=0,o.Kh=Dn,o.if=Dn,o.nf=!1,o.Bz=ao({fillStyleSolid:function(){var t=o.mb.getFillStyle();return Yr(t)&&t},fillStyleIndividual:function(){var t=o.mb.getFillStyle();return Xr(t)&&t},fillStylePalette:function(){var t=o.mb.getFillStyle();return Zr(t)&&t},triangulatedPointStyle:function(){var t=o.mb;return Pe(t)&&t},wireframeLineStyleSolid:function(){var t=Pe(o.mb)&&o.mb,i=t&&t.getWireframeStyle();return Ye(i)&&i},wireframeFillStyleSolid:function(){var t=Pe(o.mb)&&o.mb,i=t&&t.getWireframeStyle(),n=i&&i.getFillStyle();return Yr(n)&&n}}),o.rf=A(void 0),o.xu=e,o.mb=ra.pointStyle3D,o.cA.C(Ie);var s,a,u,h,f=!0===(null==e?void 0:e.individualPointColorEnabled),c=!0===(null==e?void 0:e.individualPointSizeEnabled),l=!0===(null==e?void 0:e.individualLookupValuesEnabled),v=!0===(null==e?void 0:e.individualPointSizeAxisEnabled),d=0;d+=3,f&&(s=d,d+=4),c&&(a=d,d+=1),l&&(u=d,d+=1),v&&(h=d,d+=3);var y=Ri(f,c,l,v);return o.UV={individualPointColorEnabled:f,individualPointSizeEnabled:c,individualLookupValuesEnabled:l,individualPointSizeAxisEnabled:v,attributesPerVertex:d,attributeOffsetCoordinate:0,attributeOffsetColor:s,attributeOffsetSize:a,attributeOffsetLookUpValue:u,attributeOffsetPointSize3D:h,prepareRenderData:function(t,i){return y(t,o.mb,o.mb.fillStyle)}},o}return oM(i,t),i.prototype.Mi=function(){return this.rf.T()||this.rf.M},i.prototype.Bc=function(t,i,n,r,e){return{info:{dataPoint:this.Sc[t-i]}}},i.prototype.Io=function(t){var i=this,n=this.nf,r=this.$h,e=this.tf,o=e>0,s=this.mb,a=this.mb!==this.tW,u=this.hi.T(),h=this.hi.o,f=this.aE();this.if&&(this.Kh=Kn(this.Kh,this.if),this.if=void 0),o&&(this.Sc=$i(this.Sc,r,{canReturnB:!0}),this.qh+=e);var c=r,l=e;if(n&&(this._S.forEach((function(t){t.existingDataPointsCount=0,t.existingCoordinatesCount=0,t.boundaries=Dn})),this.zV.OV(),c=this.Sc,l=this.qh),l>0){var v=Math.floor(this.Cz.LY/(this.UV.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT)),d=pi(l,1e5,v);this.zV.CV(c,d,(function(t,n,r){return{existingDataPointsCount:r,existingCoordinatesCount:r,allocatedCoordinatesCount:t,boundaries:Dn,vertexBuffer:i.qB.nP(t*i.UV.attributesPerVertex,i.UV.prepareRenderData(n,r))}}),(function(t,n,r){i.qB.rP(t.vertexBuffer,t.existingCoordinatesCount*i.UV.attributesPerVertex,i.UV.prepareRenderData(n,r)),t.existingDataPointsCount+=r,t.existingCoordinatesCount=t.existingDataPointsCount}))}var y=s.getFillStyle(),A=this.Bz.fillStyleSolid(a),b=this.Bz.fillStyleIndividual(a),p=this.Bz.fillStylePalette(a),m=y===Vr&&Vr;if(a||f||h){var g=void 0,x=s.getSize(),S=this.UV.individualPointColorEnabled,w=this.UV.individualPointSizeEnabled,M=this.UV.individualPointSizeAxisEnabled,C=this.UV.individualLookupValuesEnabled;if(b&&!S){var T="LCJS misusage error: Series individualPointColorEnabled flag must be set if using IndividualPointFill !";throw ci.alert(T),new Error(T)}if(p&&"value"===p.getLookUpProperty()&&!C)throw T='LCJS misusage error: Series individualLookupValuesEnabled flag must be set if using PalettedFill with lookUpProperty="value" !',ci.alert(T),new Error(T);var k=this.Bz.wireframeLineStyleSolid(a),_=this.Bz.wireframeFillStyleSolid(a);if(A||b||p||_){var O=b?"attribute":p?["lookup",p.getLookUpProperty(),p.lut]:"uniform",F=w&&"number"==typeof x,I=M&&"object"==typeof x,j=F||I?"attribute":"uniform";if(Pe(s)){var B=Ki(s.getShape(),{cube:function(){return Dw(i.qB)},sphere:function(){return aM(i.qB,s,w)}});g={type:"instanced",shader:this.qB.CL(kg["3D"],kg.ColorShaded3D({dataType:O,shadingStyle:this.cA.T().type,wireframe:!1!==_}),kg.VertexLocation({offsets:[{directionVar:"aInstanceGeo",dataType:j,sizeUnit:"number"==typeof x?"nwu":"axis",halved:!0,symmetric:"number"==typeof x}],axisWorldTranslation:oo(this.ai),normalSource:B.hY})),pointStyle:s,useIndividualPointSize:F,useIndividualPointSize3D:I,pointSizeNWU:"number"==typeof x&&x,pointSizeAxis:"object"==typeof x&&x,fillStyleSolid:A,fillStyleIndividual:b,fillStylePaletted:p,fillStyleEmpty:m,mousePickingShader:u&&this.qB.CL(kg["3D"],kg.MousePicking(),kg.VertexLocation({offsets:[{directionVar:"aInstanceGeo",dataType:j,sizeUnit:"number"==typeof x?"nwu":"axis",halved:!0,symmetric:"number"==typeof x}],axisWorldTranslation:oo(this.ai),normalSource:void 0})),geometry:B,wireframe:k&&_&&{thickness:k.getThickness()<0?1:k.getThickness(),fillStyleSolid:_}}}else Ne(s)&&"number"==typeof x&&(g={type:"primitive",shader:this.qB.CL(kg["3D"],kg.PointSize(j),kg.Color({dataType:O}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0})),pointStyle:s,pointSizePixels:x,useIndividualPointSize:F,fillStyleSolid:A,fillStyleIndividual:b,fillStylePaletted:p,mousePickingShader:u&&this.qB.CL(kg["3D"],kg.PointSize(j),kg.MousePicking({useVertexId:!0}),kg.VertexLocation({axisWorldTranslation:oo(this.ai),normalSource:void 0}))})}this.NN=g}if(void 0===this.rf.T()&&p&&"value"===p.lookUpProperty&&p.lut.percentageValues){for(var D=jn,L=In,E=0;E<this.Sc.length;E+=1){var P=this.Sc[E];void 0!==P.value&&P.value<L&&(L=P.value),void 0!==P.value&&P.value>D&&(D=P.value)}this.rf.C({min:L,max:D})}return this.rf.M=void 0,this.nf=!1,this.$h=[],this.tf=0,this.tW=s,this.cA.o=!1,this},i.prototype.Ic=function(t,i){var n=this,r=this.qB.gl,e=this.NN,o=this.qh;if(!e)return{};var s=1===t?e.mousePickingShader:e.shader;if(!s)return{};var a=this.cA.T(),u=e.fillStyleSolid,h=e.fillStylePaletted,f=e.useIndividualPointSize,c="instanced"===e.type&&e.useIndividualPointSize3D,l="instanced"===e.type&&e.wireframe;return this.qB.CE(s,(function(o,v,d,y){var A=!1;if(n.qB.el(s).JE(o("uScale"),n.dY.CD.FE()).JE(o("uDisp"),n.dY.CD.IE()).qE(o("uViewProjectionMatrix"),n.CY).OE(o("uIsHighlighted"),1===t||2===t?0:n.yi).WF(o("uHighlightColorOffset"),1===t||2===t?j:n.gi).OE(o("uRenderEffectMask"),2===t?1:0),"instanced"===e.type){var b=e.pointSizeAxis,p=e.pointSizeNWU;!1!==b&&!1===c&&n.qB.JE(o("uOffsetAxis"),[b.x,b.y,b.z]),!1!==p&&!1===f&&n.qB.OE(o("uOffsetNWU"),p).OE(y("uRatioNwuWu"),n.dY.EY())}else if("primitive"===e.type){var m=e.pointSizePixels;f||n.qB.OE(o("uPointSize"),m).OE(o("uDevicePixelRatio"),n.qB.hE())}if(1===t);else if("instanced"===e.type?("phong"===a.type&&n.qB.JE(o("uCameraLoc"),n.TY).JE(o("uLightLoc"),n.kY).OE(o("uAmbientReflection"),a.ambientReflection).OE(o("uSpecularReflection"),a.specularReflection).OE(o("uDiffuseReflection"),a.diffuseReflection).OE(o("uShininess"),a.shininess).WF(o("uLightColor"),a.specularColor).WF(o("uAmbientColor"),a.ambientColor),l&&n.qB.OE(o("uWireframeThickness"),l.thickness).WF(o("uWireframeColor"),l.fillStyleSolid.getColor()),u&&n.qB.WF(o("uColorDiffuse"),u.getColor()),e.fillStyleEmpty&&n.qB.WF(o("uColorDiffuse"),j)):"primitive"===e.type&&u&&n.qB.WF(o("uColor"),u.getColor()),h){var g=uo(h,n,n.rf.T());if(!g&&h.lut.percentageValues)return!1;n.qB.tz(d,h.lut,g)}var x=Cn(i);return n._S.forEach((function(i){if(1===t){var s=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(x.tn(i.existingDataPointsCount),2),u=s[0],h=s[1];n.qB.$E(o("uFirstId"),u),"instanced"===e.type?n.qB.HP(d,h):n.qB.WP(d,h)}r.bindBuffer(r.ARRAY_BUFFER,i.vertexBuffer);var b=v("aPos");if(r.vertexAttribPointer(b,3,r.FLOAT,!1,n.UV.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,n.UV.attributeOffsetCoordinate*Float32Array.BYTES_PER_ELEMENT),"instanced"===e.type&&n.qB.hP(b,1),r.enableVertexAttribArray(b),e.fillStyleIndividual&&void 0!==n.UV.attributeOffsetColor&&1!==t){var p=v("aColor");r.vertexAttribPointer(p,4,r.FLOAT,!1,n.UV.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,n.UV.attributeOffsetColor*Float32Array.BYTES_PER_ELEMENT),"instanced"===e.type&&n.qB.hP(p,1),r.enableVertexAttribArray(p)}if(f&&void 0!==n.UV.attributeOffsetSize){"instanced"===e.type?n.qB.OE(y("uRatioNwuWu"),n.dY.EY()):"primitive"===e.type&&n.qB.OE(o("uDevicePixelRatio"),n.qB.hE());var m=v("instanced"===e.type?"aOffsetNWU":"aPointSize");r.vertexAttribPointer(m,1,r.FLOAT,!1,n.UV.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,n.UV.attributeOffsetSize*Float32Array.BYTES_PER_ELEMENT),"instanced"===e.type&&n.qB.hP(m,1),r.enableVertexAttribArray(m)}if(c&&void 0!==n.UV.attributeOffsetPointSize3D&&"instanced"===e.type){var g=v("aOffsetAxis");r.vertexAttribPointer(g,3,r.FLOAT,!1,n.UV.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,n.UV.attributeOffsetPointSize3D*Float32Array.BYTES_PER_ELEMENT),"instanced"===e.type&&n.qB.hP(g,1),r.enableVertexAttribArray(g)}if(e.fillStylePaletted&&"value"===e.fillStylePaletted.getLookUpProperty()&&void 0!==n.UV.attributeOffsetLookUpValue&&1!==t){var S=v("aLookupValue");r.vertexAttribPointer(S,1,r.FLOAT,!1,n.UV.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,n.UV.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),"instanced"===e.type&&n.qB.hP(S,1),r.enableVertexAttribArray(S)}"instanced"===e.type?(e.geometry.RT(d,i.existingCoordinatesCount,"phong"===a.type&&1!==t,Boolean(l)&&1!==t),A=!0):"primitive"===e.type&&(n.qB.RT(r.POINTS,i.existingCoordinatesCount),A=!0)})),A})),{idCount:o}},i.prototype.lf=function(t,i){Array.isArray(t)||(t=[t]),this.$h=$i(this.$h,t,{canReturnB:!0}),this.tf+=t.length;var n=i||Qn(t);return this.if=this.if?Kn(this.if,n):n,this.rf.C(void 0),this},i.prototype.gb=function(t){return this.mb="function"==typeof t?t(this.mb):t,this},i.prototype.iW=function(){return this.mb},i.prototype.Xi=function(){return this.if?Math.max(this.if.max.x,this.Kh.max.x):this.Kh.max.x},i.prototype.Wi=function(){return this.if?Math.min(this.if.min.x,this.Kh.min.x):this.Kh.min.x},i.prototype.Zi=function(){return this.if?Math.max(this.if.max.y,this.Kh.max.y):this.Kh.max.y},i.prototype.Hi=function(){return this.if?Math.min(this.if.min.y,this.Kh.min.y):this.Kh.min.y},i.prototype.br=function(){return this.if?Math.max(this.if.max.z,this.Kh.max.z):this.Kh.max.z},i.prototype.Ar=function(){return this.if?Math.min(this.if.min.z,this.Kh.min.z):this.Kh.min.z},i.prototype.Cf=function(){var t=this.mb,i=t.getSize();return"number"==typeof i?Pe(t)?i/2:Ne(t)?5:0:0},i.prototype.Tf=function(){return this.Cf()},i.prototype.SA=function(){return this.Cf()},i.prototype.sf=function(){return this.Sc},i.prototype.ef=function(){return this.$h},i.prototype.vf=function(){return this.qh},i.prototype.df=function(){return this.tf},i.prototype.zi=function(){return this.nf=!0,this.Sc.length=0,this.qh=0,this.$h=[],this.tf=0,this.Kh=Dn,this.if=void 0,this.rf.C(void 0),this},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.zV.FV(),this.NN=void 0,this},i.prototype.jc=function(){return this.dispose(),this},i}(zw),aM=function(t,i,n){var r=i.getSize();return Kw(t,"number"==typeof r?n||r>=50?20:r>=10?10:r>=3?5:3:32)},uM=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hM=function(){return hM=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},hM.apply(this,arguments)},fM=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r)||this;o.vY="disabled",o.Qr=ra.fillStyle,o.ap=ra.lineStyle,o.ZG=A("bilinear"),o.nW=new De,o.rW=new je.Simple,o.eW=[],o.oW=void 0,o.NN={},o.sW=!1,o.Bz=ao({fillStyleSolid:function(){return Yr(o.Qr)&&o.Qr},fillStylePaletted:function(){return Zr(o.Qr)&&o.Qr},wireframeStyleLine:function(){return Ye(o.ap)&&o.ap},wireframeStyleFill:function(){var t=o.ap&&o.ap.getFillStyle();return Yr(t)&&t}}),o.qG=A(void 0),o.Yt={x:0,z:0},o.KG={x:1,z:1},o.JG=!1,o.cA.C(_e);var s="columns"===e.dataOrder?e.columns:e.rows,a="columns"===e.dataOrder?e.rows:e.columns;o.xu=hM(hM({},e),{primaryDimensionVectorsCount:s,secondaryDimensionVectorsCount:a}),o.aW=new Array(o.xu.primaryDimensionVectorsCount).fill(void 0),o.mS=new hw(o.Cz,i.Cz.jU,i.Ai.ai,Ai,[],o.xu).up(qt),o.mS.rU=Uv;var u=o.mS.eU.gridTiles.map((function(t){var i=t.sizeHeatmapDataVectors,n=t.sizeUniqueHeatmapDataVectors,r=t.iFirstVector,e=t.iFirstUniqueVector,o=new Float32Array(t.sizeHeatmapDataVectors.primary*t.sizeHeatmapDataVectors.secondary),s={primary:t.sizeHeatmapDataVectors.primary-1,secondary:t.sizeHeatmapDataVectors.secondary-1};return{iFirstVector:t.iFirstVector,iFirstUniqueVector:t.iFirstUniqueVector,sizeHeatmapDataVectors:t.sizeHeatmapDataVectors,sizeUniqueHeatmapDataVectors:t.sizeUniqueHeatmapDataVectors,iFirstGeometryVector:r,iFirstGeometryUniqueVector:e,sizeGeometryDataVectors:i,sizeUniqueGeometryDataVectors:n,heightmapData:o,normalmapSize:s}})),h=o.mS.eU.gridTileSizes.map((function(t){var i=u.filter((function(i){return i.sizeHeatmapDataVectors.primary===t.sizeHeatmapData.primary&&i.sizeHeatmapDataVectors.secondary===t.sizeHeatmapData.secondary})),n=i[0].sizeGeometryDataVectors;return hM(hM({},t),{tiles:i,sizeGeometryData:n})})),f=u.reduce((function(t,i){var n=i.sizeHeatmapDataVectors.primary,r=i.sizeHeatmapDataVectors.secondary,e=n*r;return e>t.cells?{primary:n,secondary:r,cells:e}:t}),{primary:0,secondary:0,cells:0});return o.uW={gridTiles:u,gridTileSizes:h,largestGridTileSize:f},o.cp(o.Yt,o.KG),o.$G=new rw,o.sU=[],o}return uM(i,t),i.prototype.vp=function(t){return this.qG.C(t),this},i.prototype.dp=function(){return this.qG.T()},i.prototype.Bc=function(t,i,n,r,e){var o=this,s=t-i,a=s%(this.xu.secondaryDimensionVectorsCount-1),u=Math.floor(s/(this.xu.secondaryDimensionVectorsCount-1)),h="columns"===this.xu.dataOrder?u:a,f="rows"===this.xu.dataOrder?u:a,c=[{x:this.Yt.x+h*this.KG.x,z:this.Yt.z+f*this.KG.z,y:this.hW(u,a),intensity:this.fW(u,a),column:"columns"===this.xu.dataOrder?u:a,row:"columns"===this.xu.dataOrder?a:u},{x:this.Yt.x+(h+("columns"===this.xu.dataOrder?1:0))*this.KG.x,z:this.Yt.z+(f+("rows"===this.xu.dataOrder?1:0))*this.KG.z,y:this.hW(u+1,a),intensity:this.fW(u+1,a),column:"columns"===this.xu.dataOrder?u+1:a,row:"columns"===this.xu.dataOrder?a:u+1},{x:this.Yt.x+(h+1)*this.KG.x,z:this.Yt.z+(f+1)*this.KG.z,y:this.hW(u+1,a+1),intensity:this.fW(u+1,a+1),column:"columns"===this.xu.dataOrder?u+1:a+1,row:"columns"===this.xu.dataOrder?a+1:u+1},{x:this.Yt.x+(h+("columns"===this.xu.dataOrder?0:1))*this.KG.x,z:this.Yt.z+(f+("rows"===this.xu.dataOrder?0:1))*this.KG.z,y:this.hW(u,a+1),intensity:this.fW(u,a+1),column:"columns"===this.xu.dataOrder?u:a+1,row:"columns"===this.xu.dataOrder?a+1:u}],l=c.map((function(t){return o.dY.nb(t)})).map((function(t){return void 0===t?In:Yn(t,{x:r,y:e})})).map((function(t,i){return{i:i,dist:t}}));l.sort((function(t,i){return t.dist-i.dist}));var v=l[0].i;return{info:{dataPoint:hM({},c[v])}}},i.prototype.hW=function(t,i){for(var n=0;n<this.uW.gridTiles.length;n+=1){var r=this.uW.gridTiles[n];if(t>=r.iFirstVector.primary&&t<=r.iFirstVector.primary+r.sizeHeatmapDataVectors.primary-1&&i>=r.iFirstVector.secondary&&i<=r.iFirstVector.secondary+r.sizeHeatmapDataVectors.secondary-1){var e=t-r.iFirstVector.primary,o=i-r.iFirstVector.secondary,s=e*r.sizeHeatmapDataVectors.secondary+o;return r.heightmapData[s]}}return 0},i.prototype.fW=function(t,i){if(this.mS.iU)for(var n=0;n<this.mS.eU.gridTiles.length;n+=1){var r=this.mS.eU.gridTiles[n];if(t>=r.iFirstVector.primary&&t<=r.iFirstVector.primary+r.sizeHeatmapDataVectors.primary-1&&i>=r.iFirstVector.secondary&&i<=r.iFirstVector.secondary+r.sizeHeatmapDataVectors.secondary-1){var e=t-r.iFirstVector.primary,o=i-r.iFirstVector.secondary,s=e*r.sizeHeatmapDataVectors.secondary+o;return r.intensityData?r.intensityData[s]:void 0}}},i.prototype.cW=function(t){this.lW=t,this.oW=void 0},i.prototype.cp=function(t,i){var n=this;this.JG=this.JG||this.Yt!=t||this.KG!=i,this.Yt=t,this.KG=i;var r=this.xu,e={min:{x:Math.min(this.Yt.x,this.Yt.x+(r.columns-1)*this.KG.x),z:Math.min(this.Yt.z,this.Yt.z+(r.rows-1)*this.KG.z)},max:{x:Math.max(this.Yt.x,this.Yt.x+(r.columns-1)*this.KG.x),z:Math.max(this.Yt.z,this.Yt.z+(r.rows-1)*this.KG.z)}},o=new Map;return this.uW.gridTiles.forEach((function(t){var i="columns"===n.xu.dataOrder?{x:n.KG.x*(t.sizeHeatmapDataVectors.primary-1),z:n.KG.z*(t.sizeHeatmapDataVectors.secondary-1)}:{x:n.KG.x*(t.sizeHeatmapDataVectors.secondary-1),z:n.KG.z*(t.sizeHeatmapDataVectors.primary-1)},r="columns"===n.xu.dataOrder?{x:n.Yt.x+n.KG.x*t.iFirstVector.primary,z:n.Yt.z+n.KG.z*t.iFirstVector.secondary}:{x:n.Yt.x+n.KG.x*t.iFirstVector.secondary,z:n.Yt.z+n.KG.z*t.iFirstVector.primary};o.set(t,{sizeAxis:i,startLocationAxis:r})})),this.mU={vW:e,tilesInfo:o},this},i.prototype.lp=function(){return{start:this.Yt,step:this.KG,end:{x:this.Yt.x+this.KG.x*this.xu.columns,z:this.Yt.z+this.KG.z*this.xu.rows}}},i.prototype.yU=function(t,i){var n=this;if(!this.uW)return this;if(!t)return this.dW(),this;if(!i)return this.sU.forEach((function(t){t.CY=n.CY,t.Io(!0)})),this;if(!this.uW.gridTiles)return this;if(!this.mU)return this;var r=this.mU.vW.min.x,e=this.mU.vW.min.z,o=this.mU.vW.max.x,s=this.mU.vW.max.z;if(null==r||null==e||null==o||null==s)return this;var a=this.xu.columns,u=this.xu.rows,h=(o-r)/(a-1),f=(s-e)/(u-1),c=new Array(a).fill(0,0,a).map((function(t,i){return r+i*h})),l=new Array(u).fill(0,0,u).map((function(t,i){return e+i*f})),v=[],d=[];t.levels.forEach((function(t){v.push(t.value),d.push({level:t.value,width:t.strokeStyle.getThickness(),fill:t.strokeStyle.getFillStyle()})}));var y,A,b=function(t,i){return"rows"==n.xu.dataOrder?i:t},p=function(t,i){return"rows"==n.xu.dataOrder?t:i},m=o-r,g=s-e;switch(t.valueSource){case"y":y=function(t,i){return n.hW(b(t,i),p(t,i))},A=function(t,i,n,r){i.push({x:t.ax[n],y:r,z:t.ay[n]})};break;case"intensity":y=function(t,i){return n.fW(b(t,i),p(t,i))},A=function(t,i,o,s){var c=t.ax[o],l=t.ay[o],v=Math.floor((c-r)/m*(a-1)),d=Math.floor((l-e)/g*(u-1)),y=r+v*h,A=e+d*f,x=ge({x:c,y:l},{point:{x:y,y:A},value:n.hW(b(v,d),p(v,d))},{point:{x:y,y:A+f},value:n.hW(b(v,d+1),p(v,d+1))},{point:{x:y+h,y:A},value:n.hW(b(v+1,d),p(v+1,d))},{point:{x:y+h,y:A+f},value:n.hW(b(v+1,d+1),p(v+1,d+1))});i.push({x:c,y:x,z:l})}}return this.$G.XG(y,c,l,v),this.dW(),this.$G.HG.forEach((function(i){var r,e,o=[];i.ax.forEach((function(t,n){A(i,o,n,i.level)})),i.ax[0]==i.ax[i.ax.length-1]&&i.ay[0]==i.ay[i.ay.length-1]&&A(i,o,i.ax.length-1,i.level);var s=null===(r=t.levels.find((function(t){return t.value==i.level})))||void 0===r?void 0:r.strokeStyle;if(0<n.sU.length){var a=n.sU.find((function(t){return t.oa()===s}));if(a)return a.lf({x:Number.NaN,y:Number.NaN,z:Number.NaN}),void a.lf(o)}var u=s.getThickness(),h=new tM(n.dY,n.bi,n.pi,void 0);1<u?h.ZA(new Ee({shape:"sphere",size:u,fillStyle:null===(e=d.find((function(t){return t.level==i.level})))||void 0===e?void 0:e.fill})):h.ZA(n.nW),h.fe(s),h.lf(o),h.pA(n.rW),n.sU.push(h)})),this},i.prototype.Io=function(t){var i=this,n=this.eW,r=la(this.qu,this.Qr),e=this.Bz.fillStyleSolid(r),o=this.Bz.fillStylePaletted(r),s=this.ap,a=this.ap!==this.SU,u=this.Bz.wireframeStyleLine(a),h=this.Bz.wireframeStyleFill(a),f=!1!==h,c=this.ZG.o,l=this.ZG.T(),v=this.cA.T(),d=this.aE(),y=this.hi.T();this.mS.Io();var A=this.mS.wU;if(!A)return this;this.yW=this.yW||this.AW(A);var b=this.yW;this.bW(b);var p=Yv(n,b,void 0,(function(t){return t.sizeGeometryDataVectors}));if(p.size>0&&(Qv(this.qB,p,(function(t){return t.heightmapData}),(function(t){return t.heightmapDataTexture})),this.sW=!0),"phong"===v.type&&(p.size>0||d)){var m=this.qB.gl,g=this.qB.CL(kg["2D"],kg.DrawToNormalTexture({flipXZ:"rows"===this.xu.dataOrder,vertexIdSource:this.qB.YP(),normalTextureType:this.qB.gl2?"uint":"ubyte",heightmapTextureType:this.qB.gL?"float":"ubyte",littleEndian:this.qB.IS_MACHINE_LITTLE_ENDIAN}));b.gridTileSizes.forEach((function(t){t.tiles.forEach((function(n){var r,e=n.normalmapTexture,o=null===(r=i.mU)||void 0===r?void 0:r.tilesInfo.get(n.tileData);if(e&&o){var s={x:n.normalmapSize.secondary,y:n.normalmapSize.primary},a=s.x*s.y;i.qB.kP.Ic((function(){i.qB.CE(g,(function(r,e,s,u){return i.qB.el(g).WP(s,a).kE(r("uTileDimensionsXZ"),["columns"===i.xu.dataOrder?t.sizeHeatmapData.primary:t.sizeHeatmapData.secondary,"columns"===i.xu.dataOrder?t.sizeHeatmapData.secondary:t.sizeHeatmapData.primary]).QE(r("uTileDimensions"),[t.sizeHeatmapData.primary,t.sizeHeatmapData.secondary]).kE(r("uTileStartLocationAxisXZ"),[o.startLocationAxis.x,o.startLocationAxis.z]).kE(r("uTileSizeAxisXZ"),[o.sizeAxis.x,o.sizeAxis.z])._E(r("uHeightmapTexture"),n.heightmapDataTexture,1).RT(m.POINTS,a),!0}))}),e,s,void 0,i.Ai.hu(),0)}}))}))}var x=this.NN;if(r||a||c){var S=u&&h?{wireframeSolid:u,wireframeFillSolid:h}:void 0;e?x.surface={shader:this.qB.CL(kg["3D"],kg.SurfaceGrid({axisWorldTranslation:oo(this.ai),fillColor:"uniform",interpolation:"bilinear"===l&&"bilinear",flipXZ:"rows"===this.xu.dataOrder,shadingStyle:v.type,wireframe:f,normalTextureType:this.qB.gl2?"uint":"ubyte",intensityTextureType:this.qB.gL?"float":"ubyte",heightmapTextureType:this.qB.gL?"float":"ubyte",littleEndian:this.qB.IS_MACHINE_LITTLE_ENDIAN})),fill:{fillMode:"solid",fillStyleSolid:e},wireframe:S}:o&&"value"===o.getLookUpProperty()?x.surface={shader:this.qB.CL(kg["3D"],kg.SurfaceGrid({axisWorldTranslation:oo(this.ai),fillColor:["lookup","value",o.lut],interpolation:"bilinear"===l&&"bilinear",flipXZ:"rows"===this.xu.dataOrder,shadingStyle:v.type,wireframe:f,normalTextureType:this.qB.gl2?"uint":"ubyte",intensityTextureType:this.qB.gL?"float":"ubyte",heightmapTextureType:this.qB.gL?"float":"ubyte",littleEndian:this.qB.IS_MACHINE_LITTLE_ENDIAN})),fill:{fillMode:"intensity",fillStylePaletted:o},wireframe:S}:o?x.surface={shader:this.qB.CL(kg["3D"],kg.SurfaceGrid({axisWorldTranslation:oo(this.ai),fillColor:["lookup",o.getLookUpProperty(),o.lut],interpolation:"bilinear"===l&&"bilinear",flipXZ:"rows"===this.xu.dataOrder,shadingStyle:v.type,wireframe:f,normalTextureType:this.qB.gl2?"uint":"ubyte",intensityTextureType:this.qB.gL?"float":"ubyte",heightmapTextureType:this.qB.gL?"float":"ubyte",littleEndian:this.qB.IS_MACHINE_LITTLE_ENDIAN})),fill:{fillMode:"xyz",fillStylePaletted:o},wireframe:S}:f&&(x.surface={shader:this.qB.CL(kg["3D"],kg.SurfaceGrid({axisWorldTranslation:oo(this.ai),fillColor:void 0,interpolation:"bilinear"===l&&"bilinear",flipXZ:"rows"===this.xu.dataOrder,shadingStyle:v.type,wireframe:f,normalTextureType:this.qB.gl2?"uint":"ubyte",intensityTextureType:this.qB.gL?"float":"ubyte",heightmapTextureType:this.qB.gL?"float":"ubyte",littleEndian:this.qB.IS_MACHINE_LITTLE_ENDIAN})),fill:void 0,wireframe:S})}x.mousePicking=y?this.NN.mousePicking||{shader:this.qB.CL(kg["3D"],kg.MousePicking(),kg.SurfaceGrid({axisWorldTranslation:oo(this.ai),fillColor:void 0,interpolation:"bilinear"===l&&"bilinear",flipXZ:"rows"===this.xu.dataOrder,shadingStyle:"simple",wireframe:!1,normalTextureType:this.qB.gl2?"uint":"ubyte",intensityTextureType:this.qB.gL?"float":"ubyte",heightmapTextureType:this.qB.gL?"float":"ubyte",littleEndian:this.qB.IS_MACHINE_LITTLE_ENDIAN}))}:void 0,this.NN=x,this.eW.length=0,this.qu=this.Qr,this.SU=s,this.cA.o=!1;var w=this.qG.T(),M=w!==this.CU;return this.yU(w,M||p.size>0||this.JG),this.JG=!1,this.CU=this.qG.T(),this},i.prototype.AW=function(t){var i=this,n=this.uW.gridTiles.map((function(n){var r=Zv(i.qB,n.sizeHeatmapDataVectors.secondary,n.sizeHeatmapDataVectors.primary),e=t.gridTiles.find((function(t){return t.iFirstUniqueVector.primary===n.iFirstUniqueVector.primary&&t.iFirstUniqueVector.secondary===n.iFirstUniqueVector.secondary}));if(!e)throw new Error("Internal LC JS error prepare surface data 2D render data not found");return hM(hM({},n),{intensityDataTexture:e.intensityDataTexture,heightmapDataTexture:r,normalmap:void 0,tileData:n})})),r=this.uW.gridTileSizes.map((function(t){var i=n.filter((function(i){return i.sizeHeatmapDataVectors.primary===t.sizeHeatmapData.primary&&i.sizeHeatmapDataVectors.secondary===t.sizeHeatmapData.secondary}));return hM(hM({},t),{tiles:i})})),e=this.qB.wE([0,0,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,0,0]),o=this.qB.gl.TRIANGLES;return{gridTiles:n,gridTileSizes:r,rectangleLocationsBuffer:e,rectangleLocationsDrawLength:6,rectangleLocationsDrawMode:o}},i.prototype.bW=function(t){var i,n=this;if("phong"===this.cA.T().type)for(var r=0;r<t.gridTiles.length;r+=1){var e=t.gridTiles[r];if(e.normalmapTexture)return;var o=void 0,s=null===(i=this.qB.gl2)||void 0===i?void 0:i.ctx;if(s)o=this.qB.yS(null,s.RGBA_INTEGER,!1,!0,{x:e.normalmapSize.secondary,y:e.normalmapSize.primary},!1,s.UNSIGNED_INT,s.RGBA32UI);else{var a=this.qB.gl;o=this.qB.yS(null,a.RGBA,!1,!0,{x:e.normalmapSize.secondary,y:e.normalmapSize.primary},!1,a.UNSIGNED_BYTE)}e.normalmapTexture=o}else t.gridTiles.forEach((function(t){t.normalmapTexture&&(n.qB.iD(t.normalmapTexture),t.normalmapTexture=void 0)}))},i.prototype.Ic=function(t,i){var n,r,e,o,s=this,a=this.qB.gl,u=this.yW;if(!u)return{};var h=this.cA.T(),f=this.NN,c=1===t?null===(n=f.mousePicking)||void 0===n?void 0:n.shader:null===(r=f.surface)||void 0===r?void 0:r.shader;if(!c)return{};var l=1!==t?null===(e=f.surface)||void 0===e?void 0:e.wireframe:void 0,v=1!==t?null===(o=f.surface)||void 0===o?void 0:o.fill:void 0;return this.qB.CE(c,(function(n,r,e,o){var f=!1;if(s.qB.el(c).HP(e,s.uW.largestGridTileSize.cells).JE(n("uScale"),s.dY.CD.FE()).JE(n("uDisp"),s.dY.CD.IE()).qE(n("uViewProjectionMatrix"),s.CY).OE(n("uIsHighlighted"),1===t||2===t?0:s.yi).WF(n("uHighlightColorOffset"),1===t||2===t?j:s.gi).OE(n("uRenderEffectMask"),2===t?1:0),1!==t&&("phong"===h.type&&s.qB.JE(n("uCameraLoc"),s.TY).JE(n("uLightLoc"),s.kY).OE(n("uAmbientReflection"),h.ambientReflection).OE(n("uSpecularReflection"),h.specularReflection).OE(n("uDiffuseReflection"),h.diffuseReflection).OE(n("uShininess"),h.shininess).WF(n("uLightColor"),h.specularColor).WF(n("uAmbientColor"),h.ambientColor),l)){var y=l.wireframeFillSolid,A=l.wireframeSolid,b=A.getThickness()<0?1:A.getThickness();s.qB.WF(n("uWireframeColor"),y.getColor()).OE(n("uWireframeThickness"),b)}return 1===t||"solid"===(null==v?void 0:v.fillMode)&&s.qB.WF(n("uColorDiffuse"),v.fillStyleSolid.getColor()),u.gridTileSizes.forEach((function(o){s.qB.kE(n("uTileDimensionsXZ"),["columns"===s.xu.dataOrder?o.sizeHeatmapData.primary:o.sizeHeatmapData.secondary,"columns"===s.xu.dataOrder?o.sizeHeatmapData.secondary:o.sizeHeatmapData.primary]).QE(n("uTileDimensions"),[o.sizeHeatmapData.primary,o.sizeHeatmapData.secondary]),o.tiles.forEach((function(h){var c,y=null===(c=s.mU)||void 0===c?void 0:c.tilesInfo.get(h.tileData);if(y){var A=0,b=(h.sizeHeatmapDataVectors.primary-1)*(h.sizeHeatmapDataVectors.secondary-1);if(s.lW){var p=s.lW.fill.iFirstPrimary,m=s.lW.fill.iFirstPrimary+s.lW.fill.amountPrimary-1,g=h.iFirstVector.primary,x=h.iFirstVector.primary+h.sizeHeatmapDataVectors.primary-1;if(g>m||x<p)return;var S=function(t,i,n,r){return d(Math.max(t,n),Math.min(i,r))}(p,m,g,x);A=(S.min-h.iFirstVector.primary)*(o.sizeGeometryData.secondary-1),b=(S.max-S.min)*(o.sizeGeometryData.secondary-1)}if(!(A<0||b<=0)){if("intensity"===(null==v?void 0:v.fillMode)){var w=v.fillStylePaletted,M=s.mS.rf;s.qB.tz(e,w.lut,M)._E(n("uTileIntensityValues"),h.intensityDataTexture,2).LE(n("uTileBoundsAxisXZ"),[y.startLocationAxis.x,y.startLocationAxis.z,y.sizeAxis.x,y.sizeAxis.z])}if("xyz"===(null==v?void 0:v.fillMode)){if(!(M="x"===(w=v.fillStylePaletted).getLookUpProperty()?{min:s.Wi(),max:s.Xi()}:"y"===w.getLookUpProperty()?{min:s.Hi(),max:s.Zi()}:"z"===w.getLookUpProperty()?{min:s.Ar(),max:s.br()}:void 0)&&w.lut.percentageValues)return;s.qB.tz(e,w.lut,M)}1!==t&&"phong"===s.cA.T().type&&h.normalmapTexture&&s.qB._E(n("uNormalmapTexture"),h.normalmapTexture,3),1===t&&s.qB.$E(n("uFirstId"),i+A),s.qB.TE(u.rectangleLocationsBuffer,0,{location:r("aGeoCellOffset"),size:2},{location:l?r("aTriangleBary"):void 0,size:3}).$E(n("uBaseInstance"),A).kE(n("uTileStartLocationAxisXZ"),[y.startLocationAxis.x,y.startLocationAxis.z]).kE(n("uTileSizeAxisXZ"),[y.sizeAxis.x,y.sizeAxis.z])._E(n("uHeightmapTexture"),h.heightmapDataTexture,0).AP(u.rectangleLocationsDrawMode,0,u.rectangleLocationsDrawLength,b),f=!0,a.bindBuffer(a.ARRAY_BUFFER,null)}}}))})),f})),1!==t&&this.sU.forEach((function(i){i.CY||(i.CY=s.dY.CY),i.TY||(i.TY=[s.dY.TY.x,s.dY.TY.y,s.dY.TY.z]),i.kY||(i.kY=[s.dY.TY.x,s.dY.TY.y,s.dY.TY.z]),i.Io(!0),i.Ic(t,0)})),{idCount:this.xu.columns*this.xu.rows}},i.prototype.Mi=function(){return this.mS.Mi()},i.prototype.dW=function(){return this.sU.forEach((function(t){return t.dispose()})),this.sU.length=0,this},i.prototype.dispose=function(){var i=this;return t.prototype.dispose.call(this),this.mS.dispose(),this.yW&&(this.yW.gridTileSizes.forEach((function(t){})),this.yW.gridTiles.forEach((function(t){i.qB.iD(t.heightmapDataTexture),t.normalmapTexture&&i.qB.iD(t.normalmapTexture)})),this.qB.PE(this.yW.rectangleLocationsBuffer),this.yW=void 0),this.dW(),this.NN={},this},i.prototype.jc=function(){return this.dispose(),this.mS.jc(),this},i.prototype.pp=function(t){return this.mS.pp(t),this},i.prototype.mp=function(t){this.eW.push(t),Hv(this.uW.gridTiles,t,(function(t){return t.heightmapData}),(function(t,i){t.heightmapData=i}));for(var i=t.startPrimary;i<t.startPrimary+t.lengthPrimary;i+=1)this.aW[i]=void 0;return this.oW=void 0,this},i.prototype.Ap=function(t){return this.ZG.C(t),this},i.prototype.bp=function(){return this.ZG.T()},i.prototype.$r=function(t){return this.Qr=ca(this.Qr,t),this.mS.$r(this.Qr),this},i.prototype.vo=function(){return this.Qr},i.prototype.up=function(t){return this.ap="function"==typeof t?t(this.ap):t,this},i.prototype.yp=function(){return this.ap},i.prototype.Xi=function(){var t;return(null===(t=this.mU)||void 0===t?void 0:t.vW.max.x)||0},i.prototype.Wi=function(){var t;return(null===(t=this.mU)||void 0===t?void 0:t.vW.min.x)||0},i.prototype.Zi=function(){var t=this.oW||this.pW();return this.oW=t,t.max},i.prototype.Hi=function(){var t=this.oW||this.pW();return this.oW=t,t.min},i.prototype.br=function(){var t;return(null===(t=this.mU)||void 0===t?void 0:t.vW.max.z)||0},i.prototype.Ar=function(){var t;return(null===(t=this.mU)||void 0===t?void 0:t.vW.min.z)||0},i.prototype.Cf=function(){return 0},i.prototype.Tf=function(){return 0},i.prototype.SA=function(){return 0},i.prototype.pW=function(){var t=this;if(this.oW)return this.oW;var i=this.lW?this.lW.fill.iFirstPrimary:0,n=this.lW?i+this.lW.fill.amountPrimary-1:this.xu.primaryDimensionVectorsCount-1,r=In,e=jn;return this.uW.gridTiles.forEach((function(o){for(var s=Math.max(i,o.iFirstUniqueVector.primary);s<=Math.min(n,o.iFirstUniqueVector.primary+o.sizeUniqueHeatmapDataVectors.primary-1);s+=1){var a=(s-o.iFirstUniqueVector.primary)*o.sizeHeatmapDataVectors.secondary,u=t.aW[s];if(u)r=r<u.min?r:u.min,e=e>u.max?e:u.max;else{u={min:In,max:jn},t.aW[s]=u;for(var h=0;h<o.sizeHeatmapDataVectors.secondary;h+=1){var f=o.heightmapData[a+h];r=r<f?r:f,e=e>f?e:f,u.min=Math.min(u.min,f),u.max=Math.max(u.max,f)}}}})),this.oW={min:r,max:e},this.oW},i}(zw),cM=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lM=function(){return lM=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},lM.apply(this,arguments)},vM=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r)||this;o.vY="disabled",o.OU=0,o.IU={},o.mW=new Map,o.Yt={x:0,z:0},o.KG={x:1,z:1},o.xu=lM(lM({},e),{scrollDimensionSize:"columns"===e.scrollDimension?e.columns:e.rows,staticDimensionSize:"columns"===e.scrollDimension?e.rows:e.columns}),o.vW={min:{x:o.Yt.x,z:o.Yt.z},max:{x:"rows"===e.scrollDimension?o.Yt.x+(e.columns-1)*o.KG.x:o.Yt.x,z:"columns"===e.scrollDimension?o.Yt.z+(e.rows-1)*o.KG.z:o.Yt.z}};var s=function(){return{shape:new fM(o.dY,Ai,o.pi,{columns:e.columns+("columns"===e.scrollDimension?1:0),rows:e.rows+("rows"===e.scrollDimension?1:0),dataOrder:e.scrollDimension,heatmapDataType:"intensity"}).setVisible(!1),hasData:!1}};return o._S=[s(),s()],o}return cM(i,t),i.prototype.Io=function(t){this._S.forEach((function(i){i.shape.Io(t)}));var i=this._S.reduce((function(t,i){var n,r;return t.min=Math.min(t.min,gi(null===(n=i.shape.mS.rf)||void 0===n?void 0:n.min,In)),t.max=Math.max(t.max,gi(null===(r=i.shape.mS.rf)||void 0===r?void 0:r.max,jn)),t}),{min:In,max:jn}),n=this._S.reduce((function(t,i){var n,r;return t.min=Math.min(t.min,gi(null===(n=i.shape.oW)||void 0===n?void 0:n.min,In)),t.max=Math.max(t.max,gi(null===(r=i.shape.oW)||void 0===r?void 0:r.max,jn)),t}),{min:In,max:jn});return this._S.forEach((function(t){t.shape.mS.rf=i,t.shape.oW=n})),this},i.prototype.Ic=function(t,i){var n=this,r=0,e=i;return this._S.forEach((function(i){if(i.hasData){i.shape.CY=n.CY,i.shape.TY=n.TY,i.shape.kY=n.kY;var o=i.shape.Ic(t,e).idCount;void 0!==o&&(1===t&&n.mW.set(i,{idFirst:e,idCount:o}),r+=o,e+=o)}})),{idCount:r}},i.prototype.Bc=function(t,i,n,r,e){var o=Array.from(this.mW).find((function(i){return Gn(t,i[1].idFirst,i[1].idFirst+i[1].idCount-1)}));return o?o[0].shape.Bc(t,o[1].idFirst,o[1].idCount,r,e):{}},i.prototype.cp=function(t,i){var n=this;return this.Yt=t,this.KG=i,this._S.forEach((function(t){t.shape.cp("columns"===n.xu.scrollDimension?{x:t.shape.lp().start.x,z:n.Yt.z}:{x:n.Yt.x,z:t.shape.lp().start.z},n.KG)})),"columns"===this.xu.scrollDimension?(this.vW.min.z=t.z,this.vW.max.z=this.Yt.z+(this.xu.rows-1)*this.KG.z):(this.vW.min.x=t.x,this.vW.max.x=this.Yt.x+(this.xu.columns-1)*this.KG.x),this},i.prototype.lp=function(){return{start:this.Yt,step:this.KG}},i.prototype.zi=function(){return this.OU=0,this.IU={},this.vW={min:{x:this.Yt.x,z:this.Yt.z},max:{x:"rows"===this.xu.scrollDimension?this.Yt.x+(this.xu.columns-1)*this.KG.x:this.Yt.x,z:"columns"===this.xu.scrollDimension?this.Yt.z+(this.xu.rows-1)*this.KG.z:this.Yt.z}},this._S.forEach((function(t){t.shape.setVisible(!1),t.shape.sW=!1,t.hasData=!1})),this},i.prototype.wp=function(t){var i,n=this._S[0],r=this._S[1],e=t.heightMapValues?t.heightMapValues.length:null===(i=t.intensityValues)||void 0===i?void 0:i.length,o=0;if(!e)return this;do{var s=Math.floor(this.OU/this.xu.scrollDimensionSize)%this._S.length,a=this._S[s],u=this.OU%this.xu.scrollDimensionSize,h=this.xu.scrollDimensionSize-u,f=0===u,c=Math.min(h,e),l=u+c,v=u,d=v+1,y=o,A=o+c,b=this.OU>=this.xu.scrollDimensionSize&&l<=this.xu.scrollDimensionSize-1,p=f;f&&(a.shape.cp("columns"===this.xu.scrollDimension?{x:this.Yt.x+(this.OU-1)*this.KG.x,z:this.Yt.z}:{x:this.Yt.x,z:this.Yt.z+(this.OU-1)*this.KG.z},this.KG),a.shape.setVisible(!0));var m=b?0:1,g=l+(b?1:0);a.shape.cW({fill:{iFirstPrimary:m,amountPrimary:g},wireframe:{iFirstPrimary:m,amountPrimary:g,connectNext:!1}});var x=a===n?r:n,S=l+1,w=1+this.xu.scrollDimensionSize-S;x.shape.cW({fill:{iFirstPrimary:S,amountPrimary:w},wireframe:{iFirstPrimary:S,amountPrimary:w-1,connectNext:!0}});var M={};if(t.heightMapValues){var C=t.heightMapValues.slice(y,A),T=!1;p&&this.IU.yValues&&(T=!0,C.splice(0,0,this.IU.yValues));var k={startPrimary:T?v:d,startSecondary:0,lengthPrimary:C.length,lengthSecondary:this.xu.staticDimensionSize,values:C,type:"y"};a.shape.mp(k),a.hasData=!0,M.yValues=Array.from(C[c-1])}if(t.intensityValues){var _=t.intensityValues.slice(y,A),O=!1;p&&this.IU.intensityValues&&(O=!0,_.splice(0,0,this.IU.intensityValues)),k={startPrimary:O?v:d,startSecondary:0,lengthPrimary:_.length,lengthSecondary:this.xu.staticDimensionSize,values:_,type:"intensity"},a.shape.pp(k),a.hasData=!0,M.intensityValues=Array.from(_[c-1])}this.OU+=c,o+=c,this.IU=M}while(o<e);return"columns"===this.xu.scrollDimension?(this.vW.min.x=this.Yt.x+Math.max(this.OU-this.xu.scrollDimensionSize,0)*this.KG.x,this.vW.max.x=this.Yt.x+(this.OU-1)*this.KG.x):(this.vW.min.z=this.Yt.z+Math.max(this.OU-this.xu.scrollDimensionSize,0)*this.KG.z,this.vW.max.z=this.Yt.z+(this.OU-1)*this.KG.z),this},i.prototype.pp=function(t){var i,n=this,r=t.iSample,e=t.yValues,o=t.intensityValues,s=e||o;if(!s)return this;var a=r,u=r+s.length-1,h=s[0].length;this._S.forEach((function(t,i){var r,s,f=Math.floor(n.OU/n.xu.scrollDimensionSize)%n._S.length,c=n.OU%n.xu.scrollDimensionSize;if(i===f?0===c?(s=-1,r=-1):r=(s=n.OU-1)-c+1:r=(s=n.OU-c-1)-n.xu.scrollDimensionSize+1,!(u<r||a>s)){var l=Math.max(a,r),v=Math.min(u,s),d=v-l+1,y=o&&o.slice(l-a,v-a+1),A=e&&e.slice(l-a,v-a+1),b=y&&{type:"intensity",startSecondary:0,lengthSecondary:h,startPrimary:l+1,lengthPrimary:d,values:y},p=A&&{type:"y",startSecondary:0,lengthSecondary:h,startPrimary:l+1,lengthPrimary:d,values:A};b&&t.shape.pp(b),p&&t.shape.mp(p),v===n.OU-1&&(n.IU={yValues:A?Array.from(A[A.length-1]):void 0,intensityValues:y?Array.from(y[y.length-1]):void 0})}}));var f=this.OU-1;if(u>f){var c=u-f,l=e&&e.slice(-c).map((function(t){return Array.isArray(t)?t:Array.from(t)})),v=o&&o.slice(-c).map((function(t){return Array.isArray(t)?t:Array.from(t)})),d=l?l.length:null!==(i=null==v?void 0:v.length)&&void 0!==i?i:0;if(d<c)for(var y=this.IU||new Array(h).fill(0),A=d;A<c;A+=1)l&&y.yValues&&l.unshift(y.yValues),v&&y.intensityValues&&v.unshift(y.intensityValues);this.wp({heightMapValues:l,intensityValues:v,lengthPrimary:d,lengthSecondary:h})}return this},i.prototype.Mp=function(){return this.OU},i.prototype.Ap=function(t){return this._S.forEach((function(i){return i.shape.Ap(t)})),this},i.prototype.bp=function(){return this._S[0].shape.bp()},i.prototype.$r=function(t){return this._S.forEach((function(i){return i.shape.$r(t)})),this},i.prototype.vo=function(){return this._S[0].shape.vo()},i.prototype.up=function(t){return this._S.forEach((function(i){return i.shape.up(t)})),this},i.prototype.yp=function(){return this._S[0].shape.yp()},i.prototype.jc=function(){return this.dispose(),this._S.forEach((function(t){return t.shape.jc()})),this},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this._S.forEach((function(t){return t.shape.dispose()})),this},i.prototype.setVisible=function(i){return t.prototype.setVisible.call(this,i),this._S.forEach((function(t){return t.shape.setVisible(i&&t.hasData)})),this},i.prototype.pA=function(i){return t.prototype.pA.call(this,i),this._S.forEach((function(t){return t.shape.pA(i)})),this},i.prototype.Xi=function(){return this.vW.max.x},i.prototype.Wi=function(){return this.vW.min.x},i.prototype.Zi=function(){return Math.max(this._S[0].shape.Zi(),this._S[1].shape.Zi())},i.prototype.Hi=function(){return Math.min(this._S[0].shape.Hi(),this._S[1].shape.Hi())},i.prototype.br=function(){return this.vW.max.z},i.prototype.Ar=function(){return this.vW.min.z},i.prototype.Cf=function(){return 0},i.prototype.Tf=function(){return 0},i.prototype.SA=function(){return 0},i.prototype.Oi=function(i){return t.prototype.Oi.call(this,i),this._S.forEach((function(t){return t.shape.Oi(i)})),this},i}(zw),dM=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yM=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r)||this;return o.TY=l(0,0,1),o.gW=l(0,0,-1),o.xW=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],o.cA=new Te,o.ai=e,o}return dM(i,t),i.prototype.Im=function(){var t=this.ai,i=t.cellIndex,n=t.cellSpan,r=t.cellsAmount,e=n.x/r.x,o=n.y/r.y,s=i.x/r.x,a=i.y/r.y,u=this.Ai.Mt();return{x:s*u.x,y:a*u.y,width:e*u.x,height:o*u.y}},i.prototype.setCameraLocation=function(t){return this.TY=t,this},i.prototype.getCameraLocation=function(){return this.TY},i.prototype.setCameraDirection=function(t){return this.gW=Fn.normalize(t),this},i.prototype.getCameraDirection=function(){return this.gW},i.prototype.setLightLocation=function(t){return this.kY=t,this},i.prototype.getLightLocation=function(){return this.kY},i.prototype.SW=function(){return l(this.xW[0],this.xW[1],this.xW[2])},i.prototype.wW=function(){return l(this.xW[4],this.xW[5],this.xW[6])},i}(mw),AM=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bM=function(){return bM=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},bM.apply(this,arguments)},pM=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r,e)||this;return o.CD=new _x,o.MW=!0,o.TW=function(){o.MW=!0},o.kW="perspective",o.Cz=i,o.gl=i.kz(),o.aY=o.Di,o.Ai.L("resize",o.TW),e.addEventListener("cellresize",o.TW),o}return AM(i,t),i.prototype.xE=function(t){var i=t.Wi(),n=t.Hi(),r=t.Ar(),e=t.Xi(),o=t.Zi(),s=t.br();if(i===In||e===jn||n===In||o===jn||r===In||s===jn)return Bn;var a,u=t.Cf(),h=t.Tf(),f=t.SA(),c=Math.abs(t.Yn.tb(u)*t.ai.x.$()),l=Math.abs(t.Yn.tb(h)*t.ai.y.$()),v=Math.abs(t.Yn.tb(f)*t.ai.z.$()),d=i-c,y=e+c,A=n-l,b=o+l,p=r-v,m=s+v;return[{x:d,y:A,z:p},{x:y,y:A,z:p},{x:d,y:b,z:p},{x:y,y:b,z:p},{x:d,y:A,z:m},{x:y,y:A,z:m},{x:d,y:b,z:m},{x:y,y:b,z:m}].map((function(i){return t.Yn.nb(i)})).forEach((function(t){if(t){var i={min:t,max:t};a=a?Jn(a,{min:t,max:t}):i}})),a||Bn},i.prototype.nb=function(t){if(this._W(),this.OW(),this.CY){var i=this.CD.IE(),n=l(i[0],i[1],i[2]),r=this.CD.FE(),e=l(r[0],r[1],r[2]),o=Fn.divideVec(Fn.subtractVec(t,n),e),s=this.CY,a=cx.multiply(s,[o.x,o.y,o.z,1]),u=h(a[0]/a[3],a[1]/a[3]),f=this.Ai.Mt();return{x:.5*(1+u.x)*f.x,y:.5*(1+u.y)*f.y}}},i.prototype.og=function(t){var i=this.CD.IE(),n=this.CD.FE(),r=Fn.divideVec(Fn.subtractVec(t,{x:i[0],y:i[1],z:i[2]}),{x:n[0],y:n[1],z:n[2]});return bM(bM({},t),{x:r.x,y:r.y,z:r.z})},i.prototype.sg=function(t){var i=this.CD.IE(),n=this.CD.FE(),r=Fn.addVec(Fn.multiplyVec(t,{x:n[0],y:n[1],z:n[2]}),{x:i[0],y:i[1],z:i[2]});return bM(bM({},t),{x:r.x,y:r.y,z:r.z})},i.prototype.tb=function(t){return t/1e3},i.prototype.EY=function(){return.001},i.prototype.Io=function(){var t=this.TY,i=this.kY,n=this.ai.x.o||this.ai.y.o||this.ai.z.o;if(!i)throw un(0,(function(){return hn()}));var r=this._W().viewProjectionMatrix;this.OW();var e=[t.x,t.y,t.z],o=[i.x,i.y,i.z];return this.Di.forEach((function(t){t.CY=r,t.TY=e,t.kY=o,t.Io(n)})),this},i.prototype.ng=function(t){this.kW!==t&&(this.kW=t,this.MW=!0)},i.prototype.rg=function(){return this.kW},i.prototype._W=function(){if(!this.MW&&this.CY)return{viewProjectionMatrix:this.CY};var t=this.Im(),i=t.width/t.height;if("perspective"===this.kW)this.FW=cx.projectionPerspective(45,i,.1,100);else{var n=void 0,r=void 0,e=.5*Fn.length(this.TY);i>1?r=(n=e)/i:n=(r=e)*i,this.FW=cx.projectionOrthographic(-n,n,-r,r,-400,100)}var o=this.TY;this.xW[12]=o.x,this.xW[13]=o.y,this.xW[14]=o.z;var s=this.gW,a=l(0,1,0),u=Fn.multiply(s,-1),h=Fn.normalize(Fn.cross(a,u)),f=Fn.normalize(Fn.cross(u,h));this.xW[0]=h.x,this.xW[1]=h.y,this.xW[2]=h.z,this.xW[4]=f.x,this.xW[5]=f.y,this.xW[6]=f.z,this.xW[8]=u.x,this.xW[9]=u.y,this.xW[10]=u.z,this.IW=cx.inverse(this.xW);var c=this.ai,v=c.cellIndex,d=c.cellSpan,y=c.cellsAmount,A=d.x/y.x,b=d.y/y.y,p=(v.x+d.x/2)/y.x,m=(v.y+d.y/2)/y.y,g=cx.multiply(cx.translation(me(-1,1,p),me(-1,1,m),0),cx.scaling(A,b,1));return this.CY=cx.multiply(g,cx.multiply(this.FW,this.IW)),this.jW=cx.inverse(this.CY),this.MW=!1,{viewProjectionMatrix:this.CY}},i.prototype.OW=function(){this.CD.pz(this.ai.x),this.CD.mz(this.ai.y),this.CD.gz(this.ai.z)},i.prototype.Ic=function(t,i,n){var r,e=this.gl.hE(),o=this.Im(),s={x:o.x*e*i,y:o.y*e*i,width:o.width*e*i,height:o.height*e*i};this.gl.SE(s.x,s.y,s.width,s.height);for(var a=((null===(r=n[n.length-1])||void 0===r?void 0:r.idLast)||0)+1,u=Array.from(this.aY.values()),h=0;h<u.length;h+=1){var f=u[h];if(f.getVisible())if(this.gl.yE(f.vY),this.gl.mA(f.dA),1!==t)f.Ic(t,0);else if(1===t&&f.getPointerEvents()){var c=f.Ic(t,a).idCount;void 0!==c&&(n.push({entity:f,layer:this,entityIndex:h,idFirst:a,idCount:c,idLast:a+c-1}),a+=c)}}return this.gl.yE("disabled"),this.gl.mA(!1),this.gl.AE(!1),this},i.prototype.setCameraLocation=function(i){return this.TY.x===i.x&&this.TY.y===i.y&&this.TY.z===i.z||(this.MW=!0),t.prototype.setCameraLocation.call(this,i),this},i.prototype.setCameraDirection=function(i){return this.gW.x===i.x&&this.gW.y===i.y&&this.gW.z===i.z||(this.MW=!0),t.prototype.setCameraDirection.call(this,i),this},i.prototype.V=function(){t.prototype.V.call(this),this.Ai.N("resize",this.TW),this.ai.removeEventListener("cellresize",this.TW)},i.prototype.xb=function(t){return this.DU(new sM(this,this.LU,[],t))},i.prototype.QA=function(t,i){return this.DU(new tM(this,this.LU,t,i))},i.prototype.TA=function(){return this.DU(new Gw(this,this.LU,[]))},i.prototype.Lp=function(){return this.DU(new eM(this,this.LU,[]))},i.prototype.Od=function(){return this.DU(new Zw(this,this.LU,[]))},i.prototype.hp=function(t){return this.DU(new fM(this,this.LU,[],t))},i.prototype.Sp=function(t){return this.DU(new vM(this,this.LU,[],t))},i}(yM),mM=function(){function t(t,i){var n=this;this.BW=[],this.DW=[],this.LW=function(t,i){var r=n.BW.find((function(i){return i.Mc===t}));r&&("pointerenter"!==i.type&&"pointermove"!==i.type||n.Ai._u(r,!0,i.timeStamp),"pointerleave"===i.type&&n.Ai._u(r,!1,i.timeStamp))},this.Ai=t,this._c="init"in i?i.init({engine:t.Wy,handleEvent:this.LW}):i,this.EW=0,this.PW=String(Math.round(1e6*Math.random()))}return t.prototype.ps=function(t,i,n,r){var e=this,o=new ja(t,i,n,r,"".concat(this.PW,"-").concat(this.EW));return this.BW.push(o),o.addEventListener("dispose",(function(){var t,i=e.BW.indexOf(o);i>=0&&e.BW.splice(i,1),(null===(t=e.Ai.Ou)||void 0===t?void 0:t.entity)===o&&e.Ai._u(void 0,!1,ci.performance.now())})),this.EW+=1,o},t.prototype.zW=function(){var t=this.BW.filter((function(t){return t.getVisible()&&t.Zo().length>0&&Yr(t.Qr)})).map((function(t){return t.Cc()})),i=this.DW;this._c.update({textList:t,engine:this.Ai.Wy,obstructingOverlays:i}),this.DW.length=0},t.prototype.V=function(){var t=this.BW.filter((function(t){return t.getVisible()&&t.Zo().length>0&&Yr(t.Qr)})).map((function(t){return t.Cc()}));this._c.dispose&&this._c.dispose({textList:t,engine:this.Ai.Wy})},t.prototype.Ed=function(t){this.DW.push(t)},t}(),gM=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xM=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},SM=function(t){function i(i,n,r,e){void 0===e&&(e=Mx);var o=t.call(this,i,n,r)||this;if(o.U=f(1,1),o.NW=!1,o.VW=0,o.RW=!0,o.GW=0,o.LY=8*Math.pow(1024,2),o.fL=[null,null],o.UW=null,o.YW=null,o.WW=0,o.zy=!1,o.XW=0,o.Fn=function(t){return void 0===t&&(t=!1),o.fi||o.Ka||Ug(o.qB.gl)||(t&&(o.NW=!0),o.Wa=!0,o.HW||o.bu.ML(t)),o},o.HW=!1,o.OL=function(t){if(!o.fi&&!o.Ka){var i=t-o.VW;if(i>=o.ku||-1===o.ku){o.HW=!0,o.VW=t,o.NW=!1;var n=i>50?1e3/60:i;o.Xa&&o.Xa(n),o.gn.Io(i),o.cu(),o.lu(),o.Wa=!1,-1!==o.ku&&o.NW&&(o.bu.ML(o.NW),o.Wa=!0),o.Ha&&o.Ha(),o.HW=!1,o.j.D("renderframe",{}),o.Wa&&o.Fn(o.NW)}else o.Wa=!0,o.bu.ML()}},o.ZW=new Map,o.kz=function(){return o.qB},o.QW=function(){var t,i,n=o.Au(),r=o.RW,e=ci.performance.now(),s=null===(t=o.JW)||void 0===t?void 0:t.KW.reduce((function(t,i){return t?i.qW&&t.qW&&i.qW>t.qW?i:t:i}),void 0),a=null==s?void 0:s.qW,u=null===(i=o.iu)||void 0===i?void 0:i.timeStamp,h=o.$W;return r?(o.Fn(!0),!1):void 0===s||(void 0===s||!s.tX)&&(void 0!==a&&void 0===n?e-a>=1e3:!(void 0!==a&&void 0!==u&&e-u>=2e3&&(void 0===h||e-h>=2e3))||e-a>=1e3)},o.iX=function(){var t,i;o.nX=void 0;var n=null===(i=null===(t=o.JW)||void 0===t?void 0:t.rX)||void 0===i?void 0:i.eX;void 0===n||n>=o.GW||o.oX()},o.lu=function(){var t,i;if(o.fi||o.Ka)return o;var n=o.qB.gl,r=ci.performance.now();o.qB.mE(n.FRAMEBUFFER,o.bu.pL?o.fL[0]:null);var e=o.U,s=e.x>0&&e.y>0,a=o.qB.hE();if(o.uu.o&&o.qB.mP(o.uu.T()),o.bu.AL&&o.oL&&(o.oL.canvas.width=e.x*a,o.oL.canvas.height=e.y*a),n.resize&&s&&n.resize(e.x*a,e.y*a),o.qB.gE(0,0,e.x*a,e.y*a),o.qB.SE(0,0,e.x*a,e.y*a),o.qB.zi(),s)try{for(var u=xM(o.Ga.values()),h=u.next();!h.done;h=u.next())h.value.Ic(0,1,[])}catch(i){t={error:i}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(t)throw t.error}}if(o.kc&&o.kc.zW(),o.xu.Mu&&s&&(o.nX&&(ci.clearTimeout(o.nX),o.nX=void 0),o.QW()?(o.oX(),o.qB.mE(n.FRAMEBUFFER,o.bu.pL?o.fL[0]:null)):o.nX=ci.setTimeout(o.iX,500)),o.Y(),o.ru(),Array.from(o.$a.values()).forEach((function(t){t.lastEvent.isLcjsArtificialEvent=!0,o.tu("pointermove",t.lastEvent)})),o.bu.pL){var f=o.qB.gl2.ctx;f.bindFramebuffer(f.READ_FRAMEBUFFER,o.fL[0]),f.bindFramebuffer(f.DRAW_FRAMEBUFFER,o.fL[1]),f.clearBufferfv(f.COLOR,0,[1,1,1,1]),f.blitFramebuffer(0,0,o.U.x*a,o.U.y*a,0,0,o.U.x*a,o.U.y*a,n.COLOR_BUFFER_BIT,n.LINEAR)}else n.bindTexture(n.TEXTURE_2D,o.eL),n.copyTexImage2D(n.TEXTURE_2D,0,n.RGBA,0,0,o.U.x*a,o.U.y*a,0),n.bindTexture(n.TEXTURE_2D,null);return o.qB.mE(n.FRAMEBUFFER,null),Ug(o.qB.gl)?o.bu.nL(0,0,o.U.x*a,o.U.y*a,[o]):o.bu.ML(),o.RW=!1,o.GW=r,o},o.cu=function(){var t,i;if("use-window"===o.sX.mode){var n=ci.devicePixelRatio||1;o.qB.jP(n)}var r=o.U;if(0===r.x||0===r.y)return o;o.Pu.Z(r);try{for(var e=xM(o.Ga.values()),s=e.next();!s.done;s=e.next())s.value.Io()}catch(i){t={error:i}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(t)throw t.error}}return o.Y(),o},o.bu=i,o.bu.AL){o.aX=ci.document.createElement("canvas"),o.aX.style.width="100%",o.aX.style.height="100%",o.aX.style.display="block",o.aX.style.boxSizing="content-box",o.aX.style.position="absolute";var s=o.aX.getContext("2d",{willReadFrequently:!1,alpha:!0,desynchronized:!1});if(!s)throw new um("No Canvas context available.");o.oL=s,o.js.appendChild(o.aX)}o.bu.jL(o);var a,u={preserveDrawingBuffer:!0,antialias:n?n.antialias:void 0,alpha:!0,lineAntialias:!n||(!0===n.lineAntiAlias||!1===n.lineAntiAlias?n.lineAntiAlias:!1!==n.antialias)};if(o.bu.pL&&i.gl2&&(a=new e(o,o.xu,{type:"webgl2",ctx:i.gl2.ctx,antialias:u.antialias,lineAntialias:u.lineAntialias},o.xi.isDark)),a||o.bu.pL||(a=new e(o,o.xu,{type:"webgl1",ctx:i.gl,antialias:u.antialias,lineAntialias:u.lineAntialias},o.xi.isDark)),!a)throw new um("No WebGL context available");if(o.qB=a,"number"==typeof(null==n?void 0:n.devicePixelRatio))o.sX={mode:"fixed",value:n.devicePixelRatio},o.qB.jP(n.devicePixelRatio);else{var h=ci.document.head.querySelector('meta[name="viewport"]'),c=!0===n.devicePixelRatio||(null==h?void 0:h.content.includes("width=device-width")),l=ci.devicePixelRatio||1;o.sX=c?{mode:"use-window"}:{mode:"fixed",value:l},o.qB.jP(l)}var v=n?n.width:void 0,d=n?n.height:void 0;o.Du=o.uX(v),o.Eu=o.uX(d),o.hX(o.Du,o.Eu),o.jU=o.Rj("engine offscreen",1e6),o.fX=o.Rj("engine bg",0);var y="function"==typeof o.xi.lcjsBackgroundFillStyle?fi({resourcesBaseUrl:o.xu.pr,styleFactory:o.xi.lcjsBackgroundFillStyle,apply:function(t){return o.setBackgroundFillStyle(t)}}):o.xi.lcjsBackgroundFillStyle;o.Pu=o.fX.te(o.ai).$r(y).qr(o.xi.lcjsBackgroundStrokeStyle).setPointerEvents(!1).ne({x:0,y:0});var A=o.Rj("engine effects",200001).uY(o.xi.effect);o.yn=A;var b=o.bu.pL,p=o.Mt();b&&(o.fL=[a.VE(),a.VE()]);var m=o.qB.gl;b&&(o.UW=m.createRenderbuffer(),o.YW=m.createRenderbuffer()),o.eL=m.createTexture();var g,x=p.x*o.qB.hE(),S=p.y*o.qB.hE();if(b){m.bindRenderbuffer(m.RENDERBUFFER,o.UW);var w=o.qB.gl2.ctx;o.WW=o.bu.ZD&&!1!==n.antialias?w.getParameter(w.MAX_SAMPLES):0,w.renderbufferStorageMultisample(w.RENDERBUFFER,o.WW,w.RGBA8,x,S),m.bindRenderbuffer(m.RENDERBUFFER,o.YW),w.renderbufferStorageMultisample(w.RENDERBUFFER,o.WW,w.DEPTH24_STENCIL8,x,S)}b&&(o.qB.mE(m.FRAMEBUFFER,o.fL[0]),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.RENDERBUFFER,o.UW),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.RENDERBUFFER,o.YW)),m.bindTexture(m.TEXTURE_2D,o.eL),m.texImage2D(m.TEXTURE_2D,0,m.RGBA,x,S,0,m.RGBA,m.UNSIGNED_BYTE,null),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),b&&(o.qB.mE(m.FRAMEBUFFER,o.fL[1]),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,o.eL,0)),o.qB.mE(m.FRAMEBUFFER,null),o.su(),o.ru(),o.Wy={container:(g=o).js,setMouseStyle:function(t,i){return g.Fs(t,i)},restoreMouseStyle:function(t){return g.Is(t)},clearMouseStyle:function(){return g.ju()},captureFrame:function(t,i,n,r){return g.cX(t,i,n,r)},renderFrame:function(t,i,n){return void 0===n&&(n=!1),g.zW(t,i,n)},layout:function(){g.ou(),g.ru(),g.bu.qD(),g.Fn()},setBackgroundFillStyle:function(t){return g.setBackgroundFillStyle(t),this},setBackgroundStrokeStyle:function(t){return g.setBackgroundStrokeStyle(t),this},getBackgroundFillStyle:function(){return g.getBackgroundFillStyle()},getBackgroundStrokeStyle:function(){return g.getBackgroundStrokeStyle()},addCustomIcon:function(t,i){return g.lX(t,i)},addEventListener:function(t,i,n){return g.L(t,i,n)},removeEventListener:function(t,i){return g.N(t,i)}},o.Fc={xi:o.xi,gn:o.gn,ai:o.ai,Fn:function(t){return o.Fn(t)},bC:function(){return o.Wa},Au:function(){return o.Au()},_n:function(t){return o.$W=ci.performance.now(),o._n({x:t.clientX,y:t.clientY})},SO:function(t){return o.SO(t)},xu:o.xu,pu:function(t){return o.pu(t)},yn:o.yn,Uu:function(t){return o.Uu(t)},Yu:function(t){return o.Yu(t)},Je:{Me:function(t,i,n){var r=o.qB.Ao(i.family).cD(t,i,n,o.xi.isDark);return o.kc?{x:r.x,y:r.y,isEstimate:!1}:r}},Nn:function(){return o.$a.size>0},Vn:function(t,i){return void 0!==Array.from(o.$a.values()).find((function(n){return!(void 0!==t&&n.entity!==t||void 0!==i&&i!==n.collectionMember)}))}},n.textRenderer&&(o.kc=new mM(o,n.textRenderer));var M=function(){o.V()};ci.addEventListener("unload",M),o.Za.push((function(){ci.removeEventListener("unload",M)}))}return gM(i,t),Object.defineProperty(i.prototype,"vX",{get:function(){return this.Ga},enumerable:!1,configurable:!0}),i.prototype.lX=function(t,i){var n=this,r=this.ZW.get(t);if(!r){var e=this.qB.zP(t),o=new Set,s=[];r={imageTexture:e,instances:o,handleNewInstance:function(t){o.add(t)},handleInstanceDisposed:function(i){o.delete(i)&&0===o.size&&(e.unbindResources(),n.ZW.delete(t))},sharedEngineReference:{wO:function(){return e.KL},MO:function(t){e.KL?t():s.push(t)}}},this.ZW.set(t,r),e.el(this),e.eE((function(){s.forEach((function(t){t()})),s.length=0}))}var a=new qe(t,r.handleNewInstance,r.handleInstanceDisposed,i);return r.handleNewInstance(a),a},i.prototype.SO=function(t){var i=Array.from(this.ZW.values()).find((function(i){return i.instances.has(t)}));if(!i)throw un(0,(function(){return new Error("LightningChart JS error, attempted to use Icon that is disposed. Please check that you are not disposing an Icon that is still in use, or attempting to use a previously disposed Icon!")}));return i.sharedEngineReference},i.prototype._n=function(t){var i,n=this;if(this.Ou&&this.Ou.entity.getPointerEvents()){if(this.Ou.pointed||!(ci.performance.now()-this.Ou.timestamp>=50))return{entity:this.Ou.entity,collectionMember:void 0,info:void 0};this.Ou=void 0}var r=null===(i=this.JW)||void 0===i?void 0:i.rX;if(r){(!this.eu||ci.performance.now()-this.eu>100)&&this.ru();var e=this.oe(t.x,t.y),o=Math.round(e.x*this.qB.hE()),s=Math.round(e.y*this.qB.hE());return[[-1,-1],[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[0,0]].map((function(t){return n.dX(r,o+t[0]/r.yX,s+t[1]/r.yX)})).reduce((function(t,i){if(void 0===i)return t||void 0;var n=1e6*i.layerIndex+i.entityIndex;return!t||n>t.zIndexForComparison?{zIndexForComparison:n,entity:i.entity,collectionMember:i.collectionMember,info:i.info}:t}),void 0)}},i.prototype.dX=function(t,i,n){var r=Math.round(i*t.yX),e=Math.round(n*t.yX);if(!(r<0||r>=t.U.x||e<0||e>=t.U.y)){var o=4*(r+e*t.U.x),s=t.AX[o+0],a=t.AX[o+1],u=t.AX[o+2],h=t.AX[o+3];if(void 0!==s&&void 0!==a&&void 0!==u&&void 0!==h&&(0!==s||0!==a||0!==u||0!==h)){var f=16777216*s+65536*a+256*u+h,c=t.bX.find((function(t){return f>=t.idFirst&&f<=t.idLast}));if(c){var l=c.entity.Bc(f,c.idFirst,c.idCount,i,n),v=l.collectionMember,d=l.info;return{entity:c.entity,collectionMember:v,entityIndex:c.entityIndex,layerIndex:c.layer.du(),info:d}}}}},i.prototype.cX=function(t,i,n,r){void 0===r&&(r=1);var e=1!==r,o=this.qB.gl,s=!this.bu.pL||e||!this.zy,a=void 0;if(this.kc){var u=this.kc;this.kc=void 0;var h=[],f=[];this.Ga.forEach((function(t){t.Di.forEach((function(t){t.getVisible()&&t instanceof ja&&f.push(t)}))})),f.forEach((function(t){var i=t.Yn.ps(t.ai);h.push(i),i.ne(t.Bh()).Wo(t.Zo()).bo(t.Ao()).$r(t.vo()).Uh(t.Vh()).As(t.Yh()).bs(t.Wh()).po(t.mo()).Yo(t.Lh()).Zu(t.Qu()).setPointerEvents(!1)})),a={ctr:u,temporaryWebglTextObjects:h},s=!0}var c=this.U;e&&this.su({x:c.x*r,y:c.y*r}),s&&(e&&this.Xa&&this.Xa(0),this.cu(),this.lu()),this.bu.pL?(this.qB.mE(o.FRAMEBUFFER,this.fL[1]),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,this.eL,0)):this.qB.mE(o.FRAMEBUFFER,null);var l=this.rL(),v=l.x,d=l.y,y=new Uint8Array(v*d*4);o.readPixels(0,0,v,d,o.RGBA,o.UNSIGNED_BYTE,y),a&&(a.temporaryWebglTextObjects.forEach((function(t){return t.dispose()})),this.kc=a.ctr,this.lu());var A=new ImageData(new Uint8ClampedArray(y),v,d),b=document.createElement("canvas"),p=b.getContext("2d");if(!p)throw new Error("Failed to create 2D context for saving image.");b.width=v,b.height=d,p.putImageData(A,0,0),p.translate(0,d),p.scale(1,-1),p.drawImage(b,0,0),this.bu.pL&&(this.qB.mE(o.FRAMEBUFFER,this.fL[0]),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.RENDERBUFFER,this.UW),this.qB.mE(o.FRAMEBUFFER,this.fL[1]),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,this.eL,0)),this.qB.mE(o.FRAMEBUFFER,null);var m=b.toDataURL(t,i);return e&&this.su(c),n?m:function(t){for(var i=t.split(",")[0].split(":")[1].split(";")[0],n=ci.atob(t.split(",")[1]),r=new Uint8Array(n.length),e=0;e<n.length;e+=1)r[e]=n.charCodeAt(e);return new ci.Blob([r.buffer],{type:i})}(m)},i.prototype.zW=function(t,i,n){void 0===n&&(n=!1),this.su(h(Math.round(t),Math.round(i))),this.fu();var r=this.qB.gl.drawingBufferWidth,e=this.qB.gl.drawingBufferHeight,o=new Uint8Array(r*e*4);if(this.qB.gl.readPixels(0,0,r,e,this.qB.gl.RGBA,this.qB.gl.UNSIGNED_BYTE,o),!n)for(var s=e/2|0,a=4*r,u=new Uint8Array(4*r),f=0;f<s;f+=1){var c=f*a,l=(e-f-1)*a;u.set(o.subarray(c,c+a)),o.copyWithin(c,l,l+a),o.set(u,l)}return this.Ya={x:0,y:i},o},i.prototype.yB=function(t){return void 0!==this.Du?this.Du[0]=t:this.Du=[t,void 0],this.js.style.minWidth="".concat(this.Du[0],"px"),this.su(),this},i.prototype.bB=function(t){return void 0!==this.Du?this.Du[1]=t:this.Du=[void 0,t],this.js.style.maxWidth="".concat(this.Du[1],"px"),this.su(),this},i.prototype.mB=function(t){return void 0!==this.Eu?this.Eu[0]=t:this.Eu=[t,void 0],this.js.style.minHeight="".concat(this.Eu[0],"px"),this.su(),this},i.prototype.xB=function(t){return void 0!==this.Eu?this.Eu[1]=t:this.Eu=[void 0,t],this.js.style.maxHeight="".concat(this.Eu[1],"px"),this.su(),this},i.prototype.hX=function(t,i){return this.Du=t,this.Eu=i,this.js.style.minWidth="".concat(this.Du[0],"px"),this.js.style.maxWidth="".concat(this.Du[1],"px"),this.js.style.minHeight="".concat(this.Eu[0],"px"),this.js.style.maxHeight="".concat(this.Eu[1],"px"),this.su(),this},i.prototype.iL=function(t){return this.zy!==t&&(this.j.D("inviewchanged",{isInView:t}),this.zy=t),this},i.prototype.tL=function(){return this.zy},i.prototype.BL=function(t){this.XW=t},i.prototype.IL=function(){return this.XW},i.prototype.Rj=function(t,i){void 0===i&&(i=this.Gu());var n=this.Ru(i);if(n){if(un(0,(function(){})),!(n instanceof Tw))throw new Error("Unexpected Engine Layer error");return n}return this.vu(new Tw(this,i,t))},i.prototype.Yj=function(t,i,n){var r=this.Ru(i);if(r){if(un(0,(function(){})),!(r instanceof pM))throw new Error("Unexpected Engine Layer error");return r}return this.vu(new pM(this,i,t,n))},i.prototype.Mt=function(){return this.U},i.prototype.rL=function(){var t=this.qB.hE();return{x:Math.round(this.U.x*t),y:Math.round(this.U.y*t)}},i.prototype.uX=function(t){return t instanceof Array||(t=[t,t]),t},i.prototype.pX=function(){return this.bu.sL},i.prototype.mX=function(){return Ug(this.qB.gl)},i.prototype.oX=function(){var t,i,n,r=this,e=this.qB.gl,o=ci.performance.now(),s=this.xu.wu,a={x:Math.ceil(this.U.x*this.qB.hE()*s),y:Math.ceil(this.U.y*this.qB.hE()*s)};this.JW||(this.JW={yX:s,gX:a,KW:[],rX:void 0});var u=this.JW.KW.find((function(t){return!t.tX})),h=!1;u||(h=!0,u={tX:!1,U:a,KP:e.createTexture(),xX:this.qB.VE(),YW:this.qB.RE(),SX:new Uint8Array,qW:void 0},this.JW.KW.push(u));var f=u;(h||f.U.x!==a.x||f.U.y!==a.y)&&(e.bindTexture(e.TEXTURE_2D,f.KP),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a.x,a.y,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.qB.mE(e.FRAMEBUFFER,f.xX),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,f.KP,0),e.bindRenderbuffer(e.RENDERBUFFER,f.YW),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,a.x,a.y),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,f.YW),f.SX=new Uint8Array(a.x*a.y*4),f.U=a),f.tX=!0,f.qW=o,this.qB.mE(e.FRAMEBUFFER,f.xX),e.clearDepth(1),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.disable(e.BLEND),e.resize&&e.resize(a.x,a.y),this.qB.gE(0,0,a.x,a.y);var c=[];try{for(var l=xM(this.Ga.values()),v=l.next();!v.done;v=l.next())v.value.Ic(1,s,c)}catch(i){t={error:i}}finally{try{v&&!v.done&&(i=l.return)&&i.call(l)}finally{if(t)throw t.error}}this.qB.mE(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.enable(e.BLEND);var d=null===(n=this.qB.gl2)||void 0===n?void 0:n.ctx,y=function(){if(r.JW){var t=r.JW.rX;if(t&&t.eX>o)return;r.JW.rX={eX:o,yX:s,U:a,AX:f.SX,bX:c}}};d?this.qB.ZP(d,f.xX,0,0,a.x,a.y,e.RGBA,e.UNSIGNED_BYTE,f.SX).then((function(){r.fi||(f.tX=!1,y())})).catch((function(t){r.fi||(f.tX=!1,ci.console.warn("LightningChart JS mouse picking failed unexpectedly. This could mean that user interactions on charts are compromised.\nPlease report this issue to https://lightningchart.com/js-charts/docs/contact"))})):(this.qB.QP(f.xX,0,0,a.x,a.y,e.RGBA,e.UNSIGNED_BYTE,f.SX),f.tX=!1,y())},i.prototype.su=function(t){var i=this.qB.hE();if("use-window"===this.sX.mode){var n=ci.devicePixelRatio||1;this.qB.jP(n)}var r=this.U.x,e=this.U.y,o=t||{x:this.js.offsetWidth,y:this.js.offsetHeight},s=this.qB.hE();if(0!==o.x&&0!==o.y&&(o.x!==r||o.y!==e||i!==s)){this.U=o,this.ai.x.X(0,o.x).Z(o.x),this.ai.y.X(0,o.y).Z(o.y);var a=o.x*s,u=o.y*s,h=this.qB.gl,f=this.bu.pL;if(this.eL&&(h.bindTexture(h.TEXTURE_2D,this.eL),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,a,u,0,h.RGBA,h.UNSIGNED_BYTE,null)),f){var c=this.qB.gl2.ctx;this.UW&&(h.bindRenderbuffer(h.RENDERBUFFER,this.UW),c.renderbufferStorageMultisample(c.RENDERBUFFER,this.WW,c.RGBA8,a,u)),this.YW&&(h.bindRenderbuffer(h.RENDERBUFFER,this.YW),c.renderbufferStorageMultisample(c.RENDERBUFFER,this.WW,c.DEPTH24_STENCIL8,a,u))}h.bindRenderbuffer(h.RENDERBUFFER,null),this.j.D("resize",{engineWidth:this.U.x,engineHeight:this.U.y,width:this.U.x,height:this.U.y})}},i.prototype.V=function(){var i,n=this;this.fi||(t.prototype.V.call(this),this.kc&&this.kc.V(),this.nX&&(ci.clearTimeout(this.nX),this.nX=void 0),Array.from(this.qB.zD.entries()).forEach((function(t){var i=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(t,2),r=i[0];i[1].jc(!1),n.qB.zD.delete(r)})),Array.from(this.qB.WE.values()).forEach((function(t){t.unbindResources()})),this.qB.WE.clear(),this.qB.YE.XL(),this.qB._P.V(),this.qB.PE(this.qB.OP),this.qB.PE(this.qB.FP),this.qB.MP.forEach((function(t,i){n.qB.gl.deleteBuffer(i)})),this.qB.MP.clear(),this.qB.UP&&(this.qB.PE(this.qB.UP.buffer),this.qB.UP=void 0),this.qB.UE(this.fL[0]),this.qB.UE(this.fL[1]),this.qB.GE(this.UW),this.qB.iD(this.eL),this.qB.GE(this.YW),this.JW&&(this.JW.KW.forEach((function(t){n.qB.GE(t.YW),n.qB.UE(t.xX),n.qB.iD(t.KP)})),this.JW=void 0),this.qB.xP.forEach((function(t){return n.qB.PE(t)})),this.ZW.clear(),this.bu.DL(this),this.aX&&(null===(i=this.aX.parentElement)||void 0===i||i.removeChild(this.aX),this.aX=void 0),this.oL&&(this.oL=void 0),this.qB.gl=void 0)},i}(ea),wM="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},MM={exports:{}};!function(t,i){function n(t,i){if(!t)throw new Error(i||"Assertion failed")}function r(t,i){t.super_=i;var n=function(){};n.prototype=i.prototype,t.prototype=new n,t.prototype.constructor=t}function e(t,i,n){if(e.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==i&&"be"!==i||(n=i,i=10),this.rE(t||0,i||10,n||"be"))}var o;"object"==typeof MM?MM.exports=e:i.BN=e,e.BN=e,e.wordSize=26;try{o=(void 0).Buffer}catch(t){}function s(t,i,r){for(var e=0,o=Math.min(t.length,r),s=0,a=i;a<o;a++){var u,h=t.charCodeAt(a)-48;e<<=4,e|=u=h>=49&&h<=54?h-49+10:h>=17&&h<=22?h-17+10:h,s|=u}return n(!(240&s),"Invalid character in "+t),e}function a(t,i,r,e){for(var o=0,s=0,a=Math.min(t.length,r),u=i;u<a;u++){var h=t.charCodeAt(u)-48;o*=e,s=h>=49?h-49+10:h>=17?h-17+10:h,n(h>=0&&s<e,"Invalid character"),o+=s}return o}function u(t,i){t.words=i.words,t.length=i.length,t.negative=i.negative,t.red=i.red}if(e.isBN=function(t){return t instanceof e||null!==t&&"object"==typeof t&&t.constructor.wordSize===e.wordSize&&Array.isArray(t.words)},e.max=function(t,i){return t.cmp(i)>0?t:i},e.min=function(t,i){return t.cmp(i)<0?t:i},e.prototype.rE=function(t,i,r){if("number"==typeof t)return this.wX(t,i,r);if("object"==typeof t)return this.MX(t,i,r);"hex"===i&&(i=16),n(i===(0|i)&&i>=2&&i<=36);var e=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&e++,16===i?this.CX(t,e):this.TX(t,i,e),"-"===t[0]&&(this.negative=1),this.kX(),"le"===r&&this.MX(this.toArray(),i,r)},e.prototype.wX=function(t,i,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this.MX(this.toArray(),i,r)},e.prototype.MX=function(t,i,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var e=0;e<this.length;e++)this.words[e]=0;var o,s,a=0;if("be"===r)for(e=t.length-1,o=0;e>=0;e-=3)s=t[e]|t[e-1]<<8|t[e-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(e=0,o=0;e<t.length;e+=3)s=t[e]|t[e+1]<<8|t[e+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.kX()},e.prototype.CX=function(t,i){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,e,o=0;for(n=t.length-6,r=0;n>=i;n-=6)e=s(t,n,n+6),this.words[r]|=e<<o&67108863,this.words[r+1]|=e>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==i&&(e=s(t,i,n+6),this.words[r]|=e<<o&67108863,this.words[r+1]|=e>>>26-o&4194303),this.kX()},e.prototype.TX=function(t,i,n){this.words=[0],this.length=1;for(var r=0,e=1;e<=67108863;e*=i)r++;r--,e=e/i|0;for(var o=t.length-n,s=o%r,u=Math.min(o,o-s)+n,h=0,f=n;f<u;f+=r)h=a(t,f,f+r,i),this.imuln(e),this.words[0]+h<67108864?this.words[0]+=h:this._X(h);if(0!==s){var c=1;for(h=a(t,f,t.length,i),f=0;f<s;f++)c*=i;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._X(h)}},e.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},e.prototype.OX=function(t){u(t,this)},e.prototype.clone=function(){var t=new e(null);return this.copy(t),t},e.prototype.FX=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},e.prototype.kX=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this.IX()},e.prototype.IX=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{e.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(t){e.prototype.inspect=h}else e.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(t,i,n){n.negative=i.negative^t.negative;var r=t.length+i.length|0;n.length=r,r=r-1|0;var e=0|t.words[0],o=0|i.words[0],s=e*o,a=67108863&s,u=s/67108864|0;n.words[0]=a;for(var h=1;h<r;h++){for(var f=u>>>26,c=67108863&u,l=Math.min(h,i.length-1),v=Math.max(0,h-t.length+1);v<=l;v++){var d=h-v|0;f+=(s=(e=0|t.words[d])*(o=0|i.words[v])+c)/67108864|0,c=67108863&s}n.words[h]=0|c,u=0|f}return 0!==u?n.words[h]=0|u:n.length--,n.kX()}e.prototype.toString=function(t,i){var r;if(i=0|i||1,16===(t=t||10)||"hex"===t){r="";for(var e=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<e|o)).toString(16);r=0!=(o=a>>>24-e&16777215)||s!==this.length-1?f[6-u.length]+u+r:u+r,(e+=2)>=26&&(e-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%i!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=c[t],v=l[t];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var y=d.modrn(v).toString(t);r=(d=d.idivn(v)).isZero()?y+r:f[h-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%i!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},e.prototype.toJSON=function(){return this.toString(16,2)},o&&(e.prototype.toBuffer=function(t,i){return this.toArrayLike(o,t,i)}),e.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)},e.prototype.toArrayLike=function(t,i,r){this.kX();var e=this.byteLength(),o=r||Math.max(1,e);n(e<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,i){return t.allocUnsafe?t.allocUnsafe(i):new t(i)}(t,o);return this["_toArrayLike"+("le"===i?"LE":"BE")](s,e),s},e.prototype.jX=function(t,i){for(var n=0,r=0,e=0,o=0;e<this.length;e++){var s=this.words[e]<<o|r;t[n++]=255&s,n<t.length&&(t[n++]=s>>8&255),n<t.length&&(t[n++]=s>>16&255),6===o?(n<t.length&&(t[n++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n<t.length)for(t[n++]=r;n<t.length;)t[n++]=0},e.prototype.BX=function(t,i){for(var n=t.length-1,r=0,e=0,o=0;e<this.length;e++){var s=this.words[e]<<o|r;t[n--]=255&s,n>=0&&(t[n--]=s>>8&255),n>=0&&(t[n--]=s>>16&255),6===o?(n>=0&&(t[n--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n>=0)for(t[n--]=r;n>=0;)t[n--]=0},Math.clz32?e.prototype.DX=function(t){return 32-Math.clz32(t)}:e.prototype.DX=function(t){var i=t,n=0;return i>=4096&&(n+=13,i>>>=13),i>=64&&(n+=7,i>>>=7),i>=8&&(n+=4,i>>>=4),i>=2&&(n+=2,i>>>=2),n+i},e.prototype.LX=function(t){if(0===t)return 26;var i=t,n=0;return 8191&i||(n+=13,i>>>=13),127&i||(n+=7,i>>>=7),15&i||(n+=4,i>>>=4),3&i||(n+=2,i>>>=2),1&i||n++,n},e.prototype.bitLength=function(){var t=this.words[this.length-1],i=this.DX(t);return 26*(this.length-1)+i},e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var n=this.LX(this.words[i]);if(t+=n,26!==n)break}return t},e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},e.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},e.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return 0!==this.negative},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this.kX()},e.prototype.ior=function(t){return n(!(this.negative|t.negative)),this.iuor(t)},e.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},e.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},e.prototype.iuand=function(t){var i;i=this.length>t.length?t:this;for(var n=0;n<i.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=i.length,this.kX()},e.prototype.iand=function(t){return n(!(this.negative|t.negative)),this.iuand(t)},e.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},e.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},e.prototype.iuxor=function(t){var i,n;this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=i.words[r]^n.words[r];if(this!==i)for(;r<i.length;r++)this.words[r]=i.words[r];return this.length=i.length,this.kX()},e.prototype.ixor=function(t){return n(!(this.negative|t.negative)),this.iuxor(t)},e.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},e.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},e.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var i=0|Math.ceil(t/26),r=t%26;this.FX(i),r>0&&i--;for(var e=0;e<i;e++)this.words[e]=67108863&~this.words[e];return r>0&&(this.words[e]=~this.words[e]&67108863>>26-r),this.kX()},e.prototype.notn=function(t){return this.clone().inotn(t)},e.prototype.setn=function(t,i){n("number"==typeof t&&t>=0);var r=t/26|0,e=t%26;return this.FX(r+1),this.words[r]=i?this.words[r]|1<<e:this.words[r]&~(1<<e),this.kX()},e.prototype.iadd=function(t){var i,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,i=this.isub(t),this.negative^=1,this.IX();if(0===this.negative&&0!==t.negative)return t.negative=0,i=this.isub(t),t.negative=1,i.IX();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var e=0,o=0;o<r.length;o++)i=(0|n.words[o])+(0|r.words[o])+e,this.words[o]=67108863&i,e=i>>>26;for(;0!==e&&o<n.length;o++)i=(0|n.words[o])+e,this.words[o]=67108863&i,e=i>>>26;if(this.length=n.length,0!==e)this.words[this.length]=e,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},e.prototype.add=function(t){var i;return 0!==t.negative&&0===this.negative?(t.negative=0,i=this.sub(t),t.negative^=1,i):0===t.negative&&0!==this.negative?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},e.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var i=this.iadd(t);return t.negative=1,i.IX()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this.IX();var n,r,e=this.cmp(t);if(0===e)return this.negative=0,this.length=1,this.words[0]=0,this;e>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(i=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&i;for(;0!==o&&s<n.length;s++)o=(i=(0|n.words[s])+o)>>26,this.words[s]=67108863&i;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this.kX()},e.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,i,n){var r,e,o,s=t.words,a=i.words,u=n.words,h=0,f=0|s[0],c=8191&f,l=f>>>13,v=0|s[1],d=8191&v,y=v>>>13,A=0|s[2],b=8191&A,p=A>>>13,m=0|s[3],g=8191&m,x=m>>>13,S=0|s[4],w=8191&S,M=S>>>13,C=0|s[5],T=8191&C,k=C>>>13,_=0|s[6],O=8191&_,F=_>>>13,I=0|s[7],j=8191&I,B=I>>>13,D=0|s[8],L=8191&D,E=D>>>13,P=0|s[9],z=8191&P,N=P>>>13,V=0|a[0],R=8191&V,G=V>>>13,U=0|a[1],Y=8191&U,W=U>>>13,X=0|a[2],H=8191&X,Z=X>>>13,Q=0|a[3],J=8191&Q,K=Q>>>13,q=0|a[4],$=8191&q,tt=q>>>13,it=0|a[5],nt=8191&it,rt=it>>>13,et=0|a[6],ot=8191&et,st=et>>>13,at=0|a[7],ut=8191&at,ht=at>>>13,ft=0|a[8],ct=8191&ft,lt=ft>>>13,vt=0|a[9],dt=8191&vt,yt=vt>>>13;n.negative=t.negative^i.negative,n.length=19;var At=(h+(r=Math.imul(c,R))|0)+((8191&(e=(e=Math.imul(c,G))+Math.imul(l,R)|0))<<13)|0;h=((o=Math.imul(l,G))+(e>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(d,R),e=(e=Math.imul(d,G))+Math.imul(y,R)|0,o=Math.imul(y,G);var bt=(h+(r=r+Math.imul(c,Y)|0)|0)+((8191&(e=(e=e+Math.imul(c,W)|0)+Math.imul(l,Y)|0))<<13)|0;h=((o=o+Math.imul(l,W)|0)+(e>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(b,R),e=(e=Math.imul(b,G))+Math.imul(p,R)|0,o=Math.imul(p,G),r=r+Math.imul(d,Y)|0,e=(e=e+Math.imul(d,W)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,W)|0;var pt=(h+(r=r+Math.imul(c,H)|0)|0)+((8191&(e=(e=e+Math.imul(c,Z)|0)+Math.imul(l,H)|0))<<13)|0;h=((o=o+Math.imul(l,Z)|0)+(e>>>13)|0)+(pt>>>26)|0,pt&=67108863,r=Math.imul(g,R),e=(e=Math.imul(g,G))+Math.imul(x,R)|0,o=Math.imul(x,G),r=r+Math.imul(b,Y)|0,e=(e=e+Math.imul(b,W)|0)+Math.imul(p,Y)|0,o=o+Math.imul(p,W)|0,r=r+Math.imul(d,H)|0,e=(e=e+Math.imul(d,Z)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,Z)|0;var mt=(h+(r=r+Math.imul(c,J)|0)|0)+((8191&(e=(e=e+Math.imul(c,K)|0)+Math.imul(l,J)|0))<<13)|0;h=((o=o+Math.imul(l,K)|0)+(e>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(w,R),e=(e=Math.imul(w,G))+Math.imul(M,R)|0,o=Math.imul(M,G),r=r+Math.imul(g,Y)|0,e=(e=e+Math.imul(g,W)|0)+Math.imul(x,Y)|0,o=o+Math.imul(x,W)|0,r=r+Math.imul(b,H)|0,e=(e=e+Math.imul(b,Z)|0)+Math.imul(p,H)|0,o=o+Math.imul(p,Z)|0,r=r+Math.imul(d,J)|0,e=(e=e+Math.imul(d,K)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,K)|0;var gt=(h+(r=r+Math.imul(c,$)|0)|0)+((8191&(e=(e=e+Math.imul(c,tt)|0)+Math.imul(l,$)|0))<<13)|0;h=((o=o+Math.imul(l,tt)|0)+(e>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(T,R),e=(e=Math.imul(T,G))+Math.imul(k,R)|0,o=Math.imul(k,G),r=r+Math.imul(w,Y)|0,e=(e=e+Math.imul(w,W)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,W)|0,r=r+Math.imul(g,H)|0,e=(e=e+Math.imul(g,Z)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,Z)|0,r=r+Math.imul(b,J)|0,e=(e=e+Math.imul(b,K)|0)+Math.imul(p,J)|0,o=o+Math.imul(p,K)|0,r=r+Math.imul(d,$)|0,e=(e=e+Math.imul(d,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0;var xt=(h+(r=r+Math.imul(c,nt)|0)|0)+((8191&(e=(e=e+Math.imul(c,rt)|0)+Math.imul(l,nt)|0))<<13)|0;h=((o=o+Math.imul(l,rt)|0)+(e>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(O,R),e=(e=Math.imul(O,G))+Math.imul(F,R)|0,o=Math.imul(F,G),r=r+Math.imul(T,Y)|0,e=(e=e+Math.imul(T,W)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,W)|0,r=r+Math.imul(w,H)|0,e=(e=e+Math.imul(w,Z)|0)+Math.imul(M,H)|0,o=o+Math.imul(M,Z)|0,r=r+Math.imul(g,J)|0,e=(e=e+Math.imul(g,K)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,K)|0,r=r+Math.imul(b,$)|0,e=(e=e+Math.imul(b,tt)|0)+Math.imul(p,$)|0,o=o+Math.imul(p,tt)|0,r=r+Math.imul(d,nt)|0,e=(e=e+Math.imul(d,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0;var St=(h+(r=r+Math.imul(c,ot)|0)|0)+((8191&(e=(e=e+Math.imul(c,st)|0)+Math.imul(l,ot)|0))<<13)|0;h=((o=o+Math.imul(l,st)|0)+(e>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(j,R),e=(e=Math.imul(j,G))+Math.imul(B,R)|0,o=Math.imul(B,G),r=r+Math.imul(O,Y)|0,e=(e=e+Math.imul(O,W)|0)+Math.imul(F,Y)|0,o=o+Math.imul(F,W)|0,r=r+Math.imul(T,H)|0,e=(e=e+Math.imul(T,Z)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,Z)|0,r=r+Math.imul(w,J)|0,e=(e=e+Math.imul(w,K)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,K)|0,r=r+Math.imul(g,$)|0,e=(e=e+Math.imul(g,tt)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,tt)|0,r=r+Math.imul(b,nt)|0,e=(e=e+Math.imul(b,rt)|0)+Math.imul(p,nt)|0,o=o+Math.imul(p,rt)|0,r=r+Math.imul(d,ot)|0,e=(e=e+Math.imul(d,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0;var wt=(h+(r=r+Math.imul(c,ut)|0)|0)+((8191&(e=(e=e+Math.imul(c,ht)|0)+Math.imul(l,ut)|0))<<13)|0;h=((o=o+Math.imul(l,ht)|0)+(e>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(L,R),e=(e=Math.imul(L,G))+Math.imul(E,R)|0,o=Math.imul(E,G),r=r+Math.imul(j,Y)|0,e=(e=e+Math.imul(j,W)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,W)|0,r=r+Math.imul(O,H)|0,e=(e=e+Math.imul(O,Z)|0)+Math.imul(F,H)|0,o=o+Math.imul(F,Z)|0,r=r+Math.imul(T,J)|0,e=(e=e+Math.imul(T,K)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,K)|0,r=r+Math.imul(w,$)|0,e=(e=e+Math.imul(w,tt)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,tt)|0,r=r+Math.imul(g,nt)|0,e=(e=e+Math.imul(g,rt)|0)+Math.imul(x,nt)|0,o=o+Math.imul(x,rt)|0,r=r+Math.imul(b,ot)|0,e=(e=e+Math.imul(b,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0,r=r+Math.imul(d,ut)|0,e=(e=e+Math.imul(d,ht)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ht)|0;var Mt=(h+(r=r+Math.imul(c,ct)|0)|0)+((8191&(e=(e=e+Math.imul(c,lt)|0)+Math.imul(l,ct)|0))<<13)|0;h=((o=o+Math.imul(l,lt)|0)+(e>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(z,R),e=(e=Math.imul(z,G))+Math.imul(N,R)|0,o=Math.imul(N,G),r=r+Math.imul(L,Y)|0,e=(e=e+Math.imul(L,W)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,W)|0,r=r+Math.imul(j,H)|0,e=(e=e+Math.imul(j,Z)|0)+Math.imul(B,H)|0,o=o+Math.imul(B,Z)|0,r=r+Math.imul(O,J)|0,e=(e=e+Math.imul(O,K)|0)+Math.imul(F,J)|0,o=o+Math.imul(F,K)|0,r=r+Math.imul(T,$)|0,e=(e=e+Math.imul(T,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,r=r+Math.imul(w,nt)|0,e=(e=e+Math.imul(w,rt)|0)+Math.imul(M,nt)|0,o=o+Math.imul(M,rt)|0,r=r+Math.imul(g,ot)|0,e=(e=e+Math.imul(g,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,r=r+Math.imul(b,ut)|0,e=(e=e+Math.imul(b,ht)|0)+Math.imul(p,ut)|0,o=o+Math.imul(p,ht)|0,r=r+Math.imul(d,ct)|0,e=(e=e+Math.imul(d,lt)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,lt)|0;var Ct=(h+(r=r+Math.imul(c,dt)|0)|0)+((8191&(e=(e=e+Math.imul(c,yt)|0)+Math.imul(l,dt)|0))<<13)|0;h=((o=o+Math.imul(l,yt)|0)+(e>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(z,Y),e=(e=Math.imul(z,W))+Math.imul(N,Y)|0,o=Math.imul(N,W),r=r+Math.imul(L,H)|0,e=(e=e+Math.imul(L,Z)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,Z)|0,r=r+Math.imul(j,J)|0,e=(e=e+Math.imul(j,K)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,K)|0,r=r+Math.imul(O,$)|0,e=(e=e+Math.imul(O,tt)|0)+Math.imul(F,$)|0,o=o+Math.imul(F,tt)|0,r=r+Math.imul(T,nt)|0,e=(e=e+Math.imul(T,rt)|0)+Math.imul(k,nt)|0,o=o+Math.imul(k,rt)|0,r=r+Math.imul(w,ot)|0,e=(e=e+Math.imul(w,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,r=r+Math.imul(g,ut)|0,e=(e=e+Math.imul(g,ht)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ht)|0,r=r+Math.imul(b,ct)|0,e=(e=e+Math.imul(b,lt)|0)+Math.imul(p,ct)|0,o=o+Math.imul(p,lt)|0;var Tt=(h+(r=r+Math.imul(d,dt)|0)|0)+((8191&(e=(e=e+Math.imul(d,yt)|0)+Math.imul(y,dt)|0))<<13)|0;h=((o=o+Math.imul(y,yt)|0)+(e>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(z,H),e=(e=Math.imul(z,Z))+Math.imul(N,H)|0,o=Math.imul(N,Z),r=r+Math.imul(L,J)|0,e=(e=e+Math.imul(L,K)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,K)|0,r=r+Math.imul(j,$)|0,e=(e=e+Math.imul(j,tt)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,tt)|0,r=r+Math.imul(O,nt)|0,e=(e=e+Math.imul(O,rt)|0)+Math.imul(F,nt)|0,o=o+Math.imul(F,rt)|0,r=r+Math.imul(T,ot)|0,e=(e=e+Math.imul(T,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,r=r+Math.imul(w,ut)|0,e=(e=e+Math.imul(w,ht)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,ht)|0,r=r+Math.imul(g,ct)|0,e=(e=e+Math.imul(g,lt)|0)+Math.imul(x,ct)|0,o=o+Math.imul(x,lt)|0;var kt=(h+(r=r+Math.imul(b,dt)|0)|0)+((8191&(e=(e=e+Math.imul(b,yt)|0)+Math.imul(p,dt)|0))<<13)|0;h=((o=o+Math.imul(p,yt)|0)+(e>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(z,J),e=(e=Math.imul(z,K))+Math.imul(N,J)|0,o=Math.imul(N,K),r=r+Math.imul(L,$)|0,e=(e=e+Math.imul(L,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,r=r+Math.imul(j,nt)|0,e=(e=e+Math.imul(j,rt)|0)+Math.imul(B,nt)|0,o=o+Math.imul(B,rt)|0,r=r+Math.imul(O,ot)|0,e=(e=e+Math.imul(O,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,r=r+Math.imul(T,ut)|0,e=(e=e+Math.imul(T,ht)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,ht)|0,r=r+Math.imul(w,ct)|0,e=(e=e+Math.imul(w,lt)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,lt)|0;var _t=(h+(r=r+Math.imul(g,dt)|0)|0)+((8191&(e=(e=e+Math.imul(g,yt)|0)+Math.imul(x,dt)|0))<<13)|0;h=((o=o+Math.imul(x,yt)|0)+(e>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(z,$),e=(e=Math.imul(z,tt))+Math.imul(N,$)|0,o=Math.imul(N,tt),r=r+Math.imul(L,nt)|0,e=(e=e+Math.imul(L,rt)|0)+Math.imul(E,nt)|0,o=o+Math.imul(E,rt)|0,r=r+Math.imul(j,ot)|0,e=(e=e+Math.imul(j,st)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,st)|0,r=r+Math.imul(O,ut)|0,e=(e=e+Math.imul(O,ht)|0)+Math.imul(F,ut)|0,o=o+Math.imul(F,ht)|0,r=r+Math.imul(T,ct)|0,e=(e=e+Math.imul(T,lt)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,lt)|0;var Ot=(h+(r=r+Math.imul(w,dt)|0)|0)+((8191&(e=(e=e+Math.imul(w,yt)|0)+Math.imul(M,dt)|0))<<13)|0;h=((o=o+Math.imul(M,yt)|0)+(e>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(z,nt),e=(e=Math.imul(z,rt))+Math.imul(N,nt)|0,o=Math.imul(N,rt),r=r+Math.imul(L,ot)|0,e=(e=e+Math.imul(L,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,r=r+Math.imul(j,ut)|0,e=(e=e+Math.imul(j,ht)|0)+Math.imul(B,ut)|0,o=o+Math.imul(B,ht)|0,r=r+Math.imul(O,ct)|0,e=(e=e+Math.imul(O,lt)|0)+Math.imul(F,ct)|0,o=o+Math.imul(F,lt)|0;var Ft=(h+(r=r+Math.imul(T,dt)|0)|0)+((8191&(e=(e=e+Math.imul(T,yt)|0)+Math.imul(k,dt)|0))<<13)|0;h=((o=o+Math.imul(k,yt)|0)+(e>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,r=Math.imul(z,ot),e=(e=Math.imul(z,st))+Math.imul(N,ot)|0,o=Math.imul(N,st),r=r+Math.imul(L,ut)|0,e=(e=e+Math.imul(L,ht)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ht)|0,r=r+Math.imul(j,ct)|0,e=(e=e+Math.imul(j,lt)|0)+Math.imul(B,ct)|0,o=o+Math.imul(B,lt)|0;var It=(h+(r=r+Math.imul(O,dt)|0)|0)+((8191&(e=(e=e+Math.imul(O,yt)|0)+Math.imul(F,dt)|0))<<13)|0;h=((o=o+Math.imul(F,yt)|0)+(e>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(z,ut),e=(e=Math.imul(z,ht))+Math.imul(N,ut)|0,o=Math.imul(N,ht),r=r+Math.imul(L,ct)|0,e=(e=e+Math.imul(L,lt)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,lt)|0;var jt=(h+(r=r+Math.imul(j,dt)|0)|0)+((8191&(e=(e=e+Math.imul(j,yt)|0)+Math.imul(B,dt)|0))<<13)|0;h=((o=o+Math.imul(B,yt)|0)+(e>>>13)|0)+(jt>>>26)|0,jt&=67108863,r=Math.imul(z,ct),e=(e=Math.imul(z,lt))+Math.imul(N,ct)|0,o=Math.imul(N,lt);var Bt=(h+(r=r+Math.imul(L,dt)|0)|0)+((8191&(e=(e=e+Math.imul(L,yt)|0)+Math.imul(E,dt)|0))<<13)|0;h=((o=o+Math.imul(E,yt)|0)+(e>>>13)|0)+(Bt>>>26)|0,Bt&=67108863;var Dt=(h+(r=Math.imul(z,dt))|0)+((8191&(e=(e=Math.imul(z,yt))+Math.imul(N,dt)|0))<<13)|0;return h=((o=Math.imul(N,yt))+(e>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,u[0]=At,u[1]=bt,u[2]=pt,u[3]=mt,u[4]=gt,u[5]=xt,u[6]=St,u[7]=wt,u[8]=Mt,u[9]=Ct,u[10]=Tt,u[11]=kt,u[12]=_t,u[13]=Ot,u[14]=Ft,u[15]=It,u[16]=jt,u[17]=Bt,u[18]=Dt,0!==h&&(u[19]=h,n.length++),n};function y(t,i,n){n.negative=i.negative^t.negative,n.length=t.length+i.length;for(var r=0,e=0,o=0;o<n.length-1;o++){var s=e;e=0;for(var a=67108863&r,u=Math.min(o,i.length-1),h=Math.max(0,o-t.length+1);h<=u;h++){var f=o-h,c=(0|t.words[f])*(0|i.words[h]),l=67108863&c;a=67108863&(l=l+a|0),e+=(s=(s=s+(c/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=e}return 0!==r?n.words[o]=r:n.length--,n.kX()}function A(t,i,n){return y(t,i,n)}Math.imul||(d=v),e.prototype.mulTo=function(t,i){var n=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,i):n<63?v(this,t,i):n<1024?y(this,t,i):A(this,t,i)},e.prototype.mul=function(t){var i=new e(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},e.prototype.mulf=function(t){var i=new e(null);return i.words=new Array(this.length+t.length),A(this,t,i)},e.prototype.imul=function(t){return this.clone().mulTo(t,this)},e.prototype.imuln=function(t){var i=t<0;i&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,e=0;e<this.length;e++){var o=(0|this.words[e])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[e]=67108863&s}return 0!==r&&(this.words[e]=r,this.length++),i?this.ineg():this},e.prototype.muln=function(t){return this.clone().imuln(t)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.imul(this.clone())},e.prototype.pow=function(t){var i=function(t){for(var i=new Array(t.bitLength()),n=0;n<i.length;n++){var r=n/26|0,e=n%26;i[n]=t.words[r]>>>e&1}return i}(t);if(0===i.length)return new e(1);for(var n=this,r=0;r<i.length&&0===i[r];r++,n=n.sqr());if(++r<i.length)for(var o=n.sqr();r<i.length;r++,o=o.sqr())0!==i[r]&&(n=n.mul(o));return n},e.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var i,r=t%26,e=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(i=0;i<this.length;i++){var a=this.words[i]&o,u=(0|this.words[i])-a<<r;this.words[i]=u|s,s=a>>>26-r}s&&(this.words[i]=s,this.length++)}if(0!==e){for(i=this.length-1;i>=0;i--)this.words[i+e]=this.words[i];for(i=0;i<e;i++)this.words[i]=0;this.length+=e}return this.kX()},e.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},e.prototype.iushrn=function(t,i,r){var e;n("number"==typeof t&&t>=0),e=i?(i-i%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(e-=s,e=Math.max(0,e),u){for(var h=0;h<s;h++)u.words[h]=this.words[h];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,h=0;h<this.length;h++)this.words[h]=this.words[h+s];else this.words[0]=0,this.length=1;var f=0;for(h=this.length-1;h>=0&&(0!==f||h>=e);h--){var c=0|this.words[h];this.words[h]=f<<26-o|c>>>o,f=c&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.kX()},e.prototype.ishrn=function(t,i,r){return n(0===this.negative),this.iushrn(t,i,r)},e.prototype.shln=function(t){return this.clone().ishln(t)},e.prototype.ushln=function(t){return this.clone().iushln(t)},e.prototype.shrn=function(t){return this.clone().ishrn(t)},e.prototype.ushrn=function(t){return this.clone().iushrn(t)},e.prototype.testn=function(t){n("number"==typeof t&&t>=0);var i=t%26,r=(t-i)/26,e=1<<i;return!(this.length<=r||!(this.words[r]&e))},e.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var i=t%26,r=(t-i)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==i&&r++,this.length=Math.min(r,this.length),0!==i){var e=67108863^67108863>>>i<<i;this.words[this.length-1]&=e}return this.kX()},e.prototype.maskn=function(t){return this.clone().imaskn(t)},e.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._X(t)},e.prototype._X=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},e.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.kX()},e.prototype.addn=function(t){return this.clone().iaddn(t)},e.prototype.subn=function(t){return this.clone().isubn(t)},e.prototype.iabs=function(){return this.negative=0,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype.EX=function(t,i,r){var e,o,s=t.length+r;this.FX(s);var a=0;for(e=0;e<t.length;e++){o=(0|this.words[e+r])+a;var u=(0|t.words[e])*i;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[e+r]=67108863&o}for(;e<this.length-r;e++)a=(o=(0|this.words[e+r])+a)>>26,this.words[e+r]=67108863&o;if(0===a)return this.kX();for(n(-1===a),a=0,e=0;e<this.length;e++)a=(o=-(0|this.words[e])+a)>>26,this.words[e]=67108863&o;return this.negative=1,this.kX()},e.prototype.PX=function(t,i){var n=(this.length,t.length),r=this.clone(),o=t,s=0|o.words[o.length-1];0!=(n=26-this.DX(s))&&(o=o.ushln(n),r.iushln(n),s=0|o.words[o.length-1]);var a,u=r.length-o.length;if("mod"!==i){(a=new e(null)).length=u+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var f=r.clone().EX(o,1,u);0===f.negative&&(r=f,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var l=67108864*(0|r.words[o.length+c])+(0|r.words[o.length+c-1]);for(l=Math.min(l/s|0,67108863),r.EX(o,l,c);0!==r.negative;)l--,r.negative=0,r.EX(o,1,c),r.isZero()||(r.negative^=1);a&&(a.words[c]=l)}return a&&a.kX(),r.kX(),"div"!==i&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},e.prototype.divmod=function(t,i,r){return n(!t.isZero()),this.isZero()?{div:new e(0),mod:new e(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,i),"mod"!==i&&(o=a.div.neg()),"div"!==i&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),i),"mod"!==i&&(o=a.div.neg()),{div:o,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),i),"div"!==i&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new e(0),mod:this}:1===t.length?"div"===i?{div:this.divn(t.words[0]),mod:null}:"mod"===i?{div:null,mod:new e(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new e(this.modrn(t.words[0]))}:this.PX(t,i);var o,s,a},e.prototype.div=function(t){return this.divmod(t,"div",!1).div},e.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},e.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},e.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var n=0!==i.div.negative?i.mod.isub(t):i.mod,r=t.ushrn(1),e=t.andln(1),o=n.cmp(r);return o<0||1===e&&0===o?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},e.prototype.modrn=function(t){var i=t<0;i&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,e=0,o=this.length-1;o>=0;o--)e=(r*e+(0|this.words[o]))%t;return i?-e:e},e.prototype.modn=function(t){return this.modrn(t)},e.prototype.idivn=function(t){var i=t<0;i&&(t=-t),n(t<=67108863);for(var r=0,e=this.length-1;e>=0;e--){var o=(0|this.words[e])+67108864*r;this.words[e]=o/t|0,r=o%t}return this.kX(),i?this.ineg():this},e.prototype.divn=function(t){return this.clone().idivn(t)},e.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var i=this,r=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var o=new e(1),s=new e(0),a=new e(0),u=new e(1),h=0;i.isEven()&&r.isEven();)i.iushrn(1),r.iushrn(1),++h;for(var f=r.clone(),c=i.clone();!i.isZero();){for(var l=0,v=1;!(i.words[0]&v)&&l<26;++l,v<<=1);if(l>0)for(i.iushrn(l);l-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(f),s.isub(c)),o.iushrn(1),s.iushrn(1);for(var d=0,y=1;!(r.words[0]&y)&&d<26;++d,y<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(c)),a.iushrn(1),u.iushrn(1);i.cmp(r)>=0?(i.isub(r),o.isub(a),s.isub(u)):(r.isub(i),a.isub(o),u.isub(s))}return{a:a,b:u,gcd:r.iushln(h)}},e.prototype.zX=function(t){n(0===t.negative),n(!t.isZero());var i=this,r=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var o,s=new e(1),a=new e(0),u=r.clone();i.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,f=1;!(i.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(i.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,l=1;!(r.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(r.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);i.cmp(r)>=0?(i.isub(r),s.isub(a)):(r.isub(i),a.isub(s))}return(o=0===i.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},e.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),n=t.clone();i.negative=0,n.negative=0;for(var r=0;i.isEven()&&n.isEven();r++)i.iushrn(1),n.iushrn(1);for(;;){for(;i.isEven();)i.iushrn(1);for(;n.isEven();)n.iushrn(1);var e=i.cmp(n);if(e<0){var o=i;i=n,n=o}else if(0===e||0===n.cmpn(1))break;i.isub(n)}return n.iushln(r)},e.prototype.invm=function(t){return this.egcd(t).a.umod(t)},e.prototype.isEven=function(){return!(1&this.words[0])},e.prototype.isOdd=function(){return!(1&~this.words[0])},e.prototype.andln=function(t){return this.words[0]&t},e.prototype.bincn=function(t){n("number"==typeof t);var i=t%26,r=(t-i)/26,e=1<<i;if(this.length<=r)return this.FX(r+1),this.words[r]|=e,this;for(var o=e,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},e.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},e.prototype.cmpn=function(t){var i,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.kX(),this.length>1)i=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var e=0|this.words[0];i=e===t?0:e<t?-1:1}return 0!==this.negative?0|-i:i},e.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var i=this.ucmp(t);return 0!==this.negative?0|-i:i},e.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],e=0|t.words[n];if(r!==e){r<e?i=-1:r>e&&(i=1);break}}return i},e.prototype.gtn=function(t){return 1===this.cmpn(t)},e.prototype.gt=function(t){return 1===this.cmp(t)},e.prototype.gten=function(t){return this.cmpn(t)>=0},e.prototype.gte=function(t){return this.cmp(t)>=0},e.prototype.ltn=function(t){return-1===this.cmpn(t)},e.prototype.lt=function(t){return-1===this.cmp(t)},e.prototype.lten=function(t){return this.cmpn(t)<=0},e.prototype.lte=function(t){return this.cmp(t)<=0},e.prototype.eqn=function(t){return 0===this.cmpn(t)},e.prototype.eq=function(t){return 0===this.cmp(t)},e.red=function(t){return new w(t)},e.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this).NX(t)},e.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype.NX=function(t){return this.red=t,this},e.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this.NX(t)},e.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},e.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},e.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},e.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},e.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},e.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red.VX(this,t),this.red.mul(this,t)},e.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red.VX(this,t),this.red.imul(this,t)},e.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red.RX(this),this.red.sqr(this)},e.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red.RX(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red.RX(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red.RX(this),this.red.invm(this)},e.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red.RX(this),this.red.neg(this)},e.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red.RX(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function p(t,i){this.name=t,this.p=new e(i,16),this.n=this.p.bitLength(),this.k=new e(1).iushln(this.n).isub(this.p),this.tmp=this.GX()}function m(){p.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){p.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){p.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){p.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(t){if("string"==typeof t){var i=e.UX(t);this.m=i.p,this.prime=i}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){w.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r.zX(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}p.prototype.GX=function(){var t=new e(null);return t.words=new Array(Math.ceil(this.n/13)),t},p.prototype.ireduce=function(t){var i,n=t;do{this.split(n,this.tmp),i=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(i>this.n);var r=i<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n.kX(),n},p.prototype.split=function(t,i){t.iushrn(this.n,0,i)},p.prototype.imulK=function(t){return t.imul(this.k)},r(m,p),m.prototype.split=function(t,i){for(var n=4194303,r=Math.min(t.length,9),e=0;e<r;e++)i.words[e]=t.words[e];if(i.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(i.words[i.length++]=o&n,e=10;e<t.length;e++){var s=0|t.words[e];t.words[e-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[e-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},m.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,n=0;n<t.length;n++){var r=0|t.words[n];i+=977*r,t.words[n]=67108863&i,i=64*r+(i/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},r(g,p),r(x,p),r(S,p),S.prototype.imulK=function(t){for(var i=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+i,e=67108863&r;r>>>=26,t.words[n]=e,i=r}return 0!==i&&(t.words[t.length++]=i),t},e.UX=function(t){if(b[t])return b[t];var i;if("k256"===t)i=new m;else if("p224"===t)i=new g;else if("p192"===t)i=new x;else{if("p25519"!==t)throw new Error("Unknown prime "+t);i=new S}return b[t]=i,i},w.prototype.RX=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},w.prototype.VX=function(t,i){n(!(t.negative|i.negative),"red works only with positives"),n(t.red&&t.red===i.red,"red works only with red numbers")},w.prototype.imod=function(t){return this.prime?this.prime.ireduce(t).NX(this):(u(t,t.umod(this.m).NX(this)),t)},w.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t).NX(this)},w.prototype.add=function(t,i){this.VX(t,i);var n=t.add(i);return n.cmp(this.m)>=0&&n.isub(this.m),n.NX(this)},w.prototype.iadd=function(t,i){this.VX(t,i);var n=t.iadd(i);return n.cmp(this.m)>=0&&n.isub(this.m),n},w.prototype.sub=function(t,i){this.VX(t,i);var n=t.sub(i);return n.cmpn(0)<0&&n.iadd(this.m),n.NX(this)},w.prototype.isub=function(t,i){this.VX(t,i);var n=t.isub(i);return n.cmpn(0)<0&&n.iadd(this.m),n},w.prototype.shl=function(t,i){return this.RX(t),this.imod(t.ushln(i))},w.prototype.imul=function(t,i){return this.VX(t,i),this.imod(t.imul(i))},w.prototype.mul=function(t,i){return this.VX(t,i),this.imod(t.mul(i))},w.prototype.isqr=function(t){return this.imul(t,t.clone())},w.prototype.sqr=function(t){return this.mul(t,t)},w.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(n(i%2==1),3===i){var r=this.m.add(new e(1)).iushrn(2);return this.pow(t,r)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);n(!o.isZero());var a=new e(1).toRed(this),u=a.redNeg(),h=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new e(2*f*f).toRed(this);0!==this.pow(f,h).cmp(u);)f.redIAdd(u);for(var c=this.pow(f,o),l=this.pow(t,o.addn(1).iushrn(1)),v=this.pow(t,o),d=s;0!==v.cmp(a);){for(var y=v,A=0;0!==y.cmp(a);A++)y=y.redSqr();n(A<d);var b=this.pow(c,new e(1).iushln(d-A-1));l=l.redMul(b),c=b.redSqr(),v=v.redMul(c),d=A}return l},w.prototype.invm=function(t){var i=t.zX(this.m);return 0!==i.negative?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},w.prototype.pow=function(t,i){if(i.isZero())return new e(1).toRed(this);if(0===i.cmpn(1))return t.clone();var n=new Array(16);n[0]=new e(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var o=n[0],s=0,a=0,u=i.bitLength()%26;for(0===u&&(u=26),r=i.length-1;r>=0;r--){for(var h=i.words[r],f=u-1;f>=0;f--){var c=h>>f&1;o!==n[0]&&(o=this.sqr(o)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===r&&0===f)&&(o=this.mul(o,n[s]),a=0,s=0)):a=0}u=26}return o},w.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},w.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},e.mont=function(t){return new M(t)},r(M,w),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},M.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(i),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=n.isub(r).iushrn(this.shift),o=e;return e.cmp(this.m)>=0?o=e.isub(this.m):e.cmpn(0)<0&&(o=e.iadd(this.m)),o.NX(this)},M.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new e(0).NX(this);var n=t.mul(i),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(r).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s.NX(this)},M.prototype.invm=function(t){return this.imod(t.zX(this.m).mul(this.r2)).NX(this)}}(0,wM);var CM=MM.exports;function TM(t,i){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"!=typeof t){for(var r=0;r<t.length;r++)n[r]=0|t[r];return n}if("hex"===i)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0".concat(t)),r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16));else for(r=0;r<t.length;r++){var e=t.charCodeAt(r),o=e>>8,s=255&e;o?n.push(o,s):n.push(s)}return n}var kM,_M,OM=function(t,i,n){var r=new Array(Math.max(t.bitLength(),n)+1);r.fill(0);for(var e=1<<i+1,o=t.clone(),s=0;s<r.length;s++){var a=void 0,u=o.andln(e-1);o.isOdd()?(a=u>(e>>1)-1?(e>>1)-u:u,o.isubn(a)):a=0,r[s]=a,o.iushrn(1)}return r},FM=function(t,i){var n=[[],[]];t=t.clone(),i=i.clone();for(var r=0,e=0;t.cmpn(-r)>0||i.cmpn(-e)>0;){var o=t.andln(3)+r&3,s=i.andln(3)+e&3;3===o&&(o=-1),3===s&&(s=-1);var a=void 0;a=1&o?3!=(u=t.andln(7)+r&7)&&5!==u||2!==s?o:-o:0,n[0].push(a);var u,h=void 0;h=1&s?3!=(u=i.andln(7)+e&7)&&5!==u||2!==o?s:-s:0,n[1].push(h),2*r===a+1&&(r=1-r),2*e===h+1&&(e=1-e),t.iushrn(1),i.iushrn(1)}return n},IM=function(){function t(t,i){this.type=t,this.p=new CM(i.p,16),this.red=i.prime?CM.red(i.prime):CM.mont(this.p),this.zero=new CM(0).toRed(this.red),this.one=new CM(1).toRed(this.red),this.two=new CM(2).toRed(this.red),this.n=i.n&&new CM(i.n,16),this.g=i.g&&this.pointFromJSON(i.g,i.gRed),this.YX=new Array(4),this.WX=new Array(4),this.XX=new Array(4),this.HX=new Array(4),this.ZX=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this.QX=!0,this.redN=this.n.toRed(this.red))}return t.prototype.JX=function(t,i){var n=t.KX(),r=OM(i,1,this.ZX),e=(1<<n.step+1)-(n.step%2==0?2:1);e/=3;for(var o=[],s=0;s<r.length;s+=n.step){for(var a=0,u=s+n.step-1;u>=s;u--)a=(a<<1)+r[u];o.push(a)}for(var h=this.jpoint(null,null,null),f=this.jpoint(null,null,null),c=e;c>0;c--){for(s=0;s<o.length;s++)(a=o[s])===c?f=f.mixedAdd(n.points[s]):a===-c&&(f=f.mixedAdd(n.points[s].neg()));h=h.add(f)}return h.toP()},t.prototype.qX=function(t,i){var n=4,r=t.$X(n);n=r.wnd;for(var e=r.points,o=OM(i,n,this.ZX),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(;a>=0&&0===o[a];a--);if(a>=0&&i++,s=s.dblp(i),a<0)break;var u=o[a];s="affine"===t.type?u>0?s.mixedAdd(e[u-1>>1]):s.mixedAdd(e[-u-1>>1].neg()):u>0?s.add(e[u-1>>1]):s.add(e[-u-1>>1].neg())}return"affine"===t.type?s.toP():s},t.prototype.tH=function(t,i,n,r,e){for(var o=this.YX,s=this.WX,a=this.XX,u=0,h=0;h<r;h++){var f=(M=i[h]).$X(t);o[h]=f.wnd,s[h]=f.points}for(h=r-1;h>=1;h-=2){var c=h-1,l=h;if(1===o[c]&&1===o[l]){var v=[i[c],null,null,i[l]];0===i[c].y.cmp(i[l].y)?(v[1]=i[c].add(i[l]),v[2]=i[c].toJ().mixedAdd(i[l].neg())):0===i[c].y.cmp(i[l].y.redNeg())?(v[1]=i[c].toJ().mixedAdd(i[l]),v[2]=i[c].add(i[l].neg())):(v[1]=i[c].toJ().mixedAdd(i[l]),v[2]=i[c].toJ().mixedAdd(i[l].neg()));var d=[-3,-1,-5,-7,0,7,5,1,3],y=FM(n[c],n[l]);u=Math.max(y[0].length,u),a[c]=new Array(u),a[l]=new Array(u);for(var A=0;A<u;A++){var b=0|y[0][A],p=0|y[1][A];a[c][A]=d[3*(b+1)+(p+1)],a[l][A]=0,s[c]=v}}else a[c]=OM(n[c],o[c],this.ZX),a[l]=OM(n[l],o[l],this.ZX),u=Math.max(a[c].length,u),u=Math.max(a[l].length,u)}var m=this.jpoint(null,null,null),g=this.HX;for(h=u;h>=0;h--){for(var x=0;h>=0;){var S=!0;for(A=0;A<r;A++)g[A]=0|a[A][h],0!==g[A]&&(S=!1);if(!S)break;x++,h--}if(h>=0&&x++,m=m.dblp(x),h<0)break;for(A=0;A<r;A++){var w=g[A],M=void 0;0!==w&&(w>0?M=s[A][w-1>>1]:w<0&&(M=s[A][-w-1>>1].neg()),m="affine"===M.type?m.mixedAdd(M):m.add(M))}}for(h=0;h<r;h++)s[h]=null;return e?m:m.toP()},t.prototype.decodePoint=function(t,i){t=TM(t,i);var n=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*n)return this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));if((2===t[0]||3===t[0])&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),3===t[0]);throw new Error("Unknown point format")},t}(),jM=function(){function t(t,i){this.curve=t,this.type=i,this.precomputed=null}return t.prototype.eq=function(t){throw new Error("Not implemented")},t.prototype.validate=function(){return this.curve.validate(this)},t.prototype.encodeCompressed=function(t){return this.encode(t,!0)},t.prototype.iH=function(t){var i=this.curve.p.byteLength(),n=this.getX().toArray("be",i);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",i))},t.prototype.encode=function(t,i){return function(t,i){return"hex"===i?function(t){for(var i,n="",r=0;r<t.length;r++)n+=1===(i=t[r].toString(16)).length?"0".concat(i):i;return n}(t):t}(this.iH(i),t)},t.prototype.precompute=function(t){if(this.precomputed)return this;var i={doubles:null,naf:null,beta:null};return i.naf=this.$X(8),i.doubles=this.KX(4,t),i.beta=this.nH(),this.precomputed=i,this},t.prototype.rH=function(t){if(!this.precomputed)return!1;var i=this.precomputed.doubles;return!!i&&i.points.length>=Math.ceil((t.bitLength()+1)/i.step)},t.prototype.KX=function(t,i){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,e=0;e<i;e+=t){for(var o=0;o<t;o++)r=r.dbl();n.push(r)}return{step:t,points:n}},t.prototype.$X=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var i=[this],n=(1<<t)-1,r=1===n?null:this.dbl(),e=1;e<n;e++)i[e]=i[e-1].add(r);return{wnd:t,points:i}},t.prototype.nH=function(){return null},t.prototype.dblp=function(t){for(var i=this,n=0;n<t;n++)i=i.dbl();return i},t}(),BM=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DM=function(t){function i(i){var n=t.call(this,"short",i)||this;return n.a=new CM(i.a,16).toRed(n.red),n.b=new CM(i.b,16).toRed(n.red),n.tinv=n.two.redInvm(),n.zeroA=0===n.a.fromRed().cmpn(0),n.threeA=0===n.a.fromRed().sub(n.p).cmpn(-3),n.endo=n.eH(i),n.oH=new Array(4),n.sH=new Array(4),n}return BM(i,t),i.prototype.pointFromJSON=function(t,i){return LM.fromJSON(this,t,i)},i.prototype.eH=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var i,n;if(t.beta)i=new CM(t.beta,16).toRed(this.red);else{var r=this.aH(this.p);i=(i=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(t.lambda)n=new CM(t.lambda,16);else{var e=this.aH(this.n);n=0===this.g.mul(e[0]).x.cmp(this.g.x.redMul(i))?e[0]:e[1]}return{beta:i,lambda:n,basis:t.basis?t.basis.map((function(t){return{a:new CM(t.a,16),b:new CM(t.b,16)}})):this.uH(n)}}},i.prototype.aH=function(t){var i=t===this.p?this.red:CM.mont(t),n=new CM(2).toRed(i).redInvm(),r=n.redNeg(),e=new CM(3).toRed(i).redNeg().redSqrt().redMul(n);return[r.redAdd(e).fromRed(),r.redSub(e).fromRed()]},i.prototype.uH=function(t){for(var i,n,r,e,o,s,a,u,h,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,l=this.n.clone(),v=new CM(1),d=new CM(0),y=new CM(0),A=new CM(1),b=0;0!==c.cmpn(0);){var p=l.div(c);u=l.sub(p.mul(c)),h=y.sub(p.mul(v));var m=A.sub(p.mul(d));if(!r&&u.cmp(f)<0)i=a.neg(),n=v,r=u.neg(),e=h;else if(r&&2==++b)break;a=u,l=c,c=u,y=v,v=h,A=d,d=m}o=u.neg(),s=h;var g=r.sqr().add(e.sqr());return o.sqr().add(s.sqr()).cmp(g)>=0&&(o=i,s=n),r.negative&&(r=r.neg(),e=e.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:r,b:e},{a:o,b:s}]},i.prototype.hH=function(t){var i=this.endo.basis,n=i[0],r=i[1],e=r.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),s=e.mul(n.a),a=o.mul(r.a),u=e.mul(n.b),h=o.mul(r.b);return{k1:t.sub(s).sub(a),k2:u.add(h).neg()}},i.prototype.point=function(t,i,n){return new LM(this,t,i,n)},i.prototype.pointFromX=function(t,i){(t=new CM(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var e=r.fromRed().isOdd();return(i&&!e||!i&&e)&&(r=r.redNeg()),this.point(t,r)},i.prototype.validate=function(t){if(t.inf)return!0;var i=t.x,n=t.y,r=this.a.redMul(i),e=i.redSqr().redMul(i).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(e).cmpn(0)},i.prototype.fH=function(t,i,n){var r=this.oH,e=this.sH,o=0;for(o=0;o<t.length;o++){var s=this.hH(i[o]),a=t[o],u=a.nH();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),r[2*o]=a,r[2*o+1]=u,e[2*o]=s.k1,e[2*o+1]=s.k2}for(var h=this.tH(1,r,e,2*o,n),f=0;f<2*o;f++)r[f]=null,e[f]=null;return h},i.prototype.jpoint=function(t,i,n){return new EM(this,t,i,n)},i}(IM),LM=function(t){function i(i,n,r,e){var o=t.call(this,i,"affine")||this;return null===n&&null===r?(o.x=null,o.y=null,o.inf=!0):(o.x=new CM(n,16),o.y=new CM(r,16),e&&(o.x.forceRed(o.curve.red),o.y.forceRed(o.curve.red)),o.x.red||(o.x=o.x.toRed(o.curve.red)),o.y.red||(o.y=o.y.toRed(o.curve.red)),o.inf=!1),o}return BM(i,t),i.prototype.pointFromX=function(t,i){throw new Error("Method not implemented.")},i.prototype.point=function(t,n,r){return new i(this,t,n,r)},i.prototype.nH=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var i=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,r=function(t){return n.point(t.x.redMul(n.endo.beta),t.y)};t.beta=i,i.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(r)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(r)}}}return i}},i.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},i.fromJSON=function(t,i,n){"string"==typeof i&&(i=JSON.parse(i));var r=t.point(i[0],i[1],n);if(!i[2])return r;function e(i){return t.point(i[0],i[1],n)}var o=i[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(e))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(e))}},r},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: ".concat(this.x.fromRed().toString(16,2)," y: ").concat(this.y.fromRed().toString(16,2),">")},i.prototype.isInfinity=function(){return this.inf},i.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var i=this.y.redSub(t.y);0!==i.cmpn(0)&&(i=i.redMul(this.x.redSub(t.x).redInvm()));var n=i.redSqr().redISub(this.x).redISub(t.x),r=i.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},i.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var i=this.curve.a,n=this.x.redSqr(),r=t.redInvm(),e=n.redAdd(n).redIAdd(n).redIAdd(i).redMul(r),o=e.redSqr().redISub(this.x.redAdd(this.x)),s=e.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},i.prototype.getX=function(){return this.x.fromRed()},i.prototype.getY=function(){return this.y.fromRed()},i.prototype.mul=function(t){return t=new CM(t,16),this.isInfinity()?this:this.rH(t)?this.curve.JX(this,t):this.curve.endo?this.curve.fH([this],[t]):this.curve.qX(this,t)},i.prototype.mulAdd=function(t,i,n){var r=[this,i],e=[t,n];return this.curve.endo?this.curve.fH(r,e):this.curve.tH(1,r,e,2)},i.prototype.jmulAdd=function(t,i,n){var r=[this,i],e=[t,n];return this.curve.endo?this.curve.fH(r,e,!0):this.curve.tH(1,r,e,2,!0)},i.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},i.prototype.neg=function(t){if(this.inf)return this;var i=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,r=function(t){return t.neg()};i.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return i},i.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},i}(jM),EM=function(t){function i(i,n,r,e){var o=t.call(this,i,"jacobian")||this;return null===n&&null===r&&null===e?(o.x=o.curve.one,o.y=o.curve.one,o.z=new CM(0)):(o.x=new CM(n,16),o.y=new CM(r,16),o.z=new CM(e,16)),o.x.red||(o.x=o.x.toRed(o.curve.red)),o.y.red||(o.y=o.y.toRed(o.curve.red)),o.z.red||(o.z=o.z.toRed(o.curve.red)),o.zOne=o.z===o.curve.one,o}return BM(i,t),i.prototype.getY=function(){throw new Error("Method not implemented.")},i.prototype.getX=function(){throw new Error("Method not implemented.")},i.prototype.pointFromX=function(t,i){throw new Error("Method not implemented.")},i.prototype.point=function(t,i,n){throw new Error("Method not implemented.")},i.prototype.jpoint=function(t,n,r){return new i(this,t,n,r)},i.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),i=t.redSqr(),n=this.x.redMul(i),r=this.y.redMul(i).redMul(t);return this.curve.point(n,r)},i.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},i.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var i=t.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(i),e=t.x.redMul(n),o=this.y.redMul(i.redMul(t.z)),s=t.y.redMul(n.redMul(this.z)),a=r.redSub(e),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=a.redSqr(),f=h.redMul(a),c=r.redMul(h),l=u.redSqr().redIAdd(f).redISub(c).redISub(c),v=u.redMul(c.redISub(l)).redISub(o.redMul(f)),d=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(l,v,d)},i.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var i=this.z.redSqr(),n=this.x,r=t.x.redMul(i),e=this.y,o=t.y.redMul(i).redMul(this.z),s=n.redSub(r),a=e.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),h=u.redMul(s),f=n.redMul(u),c=a.redSqr().redIAdd(h).redISub(f).redISub(f),l=a.redMul(f.redISub(c)).redISub(e.redMul(h)),v=this.z.redMul(s);return this.curve.jpoint(c,l,v)},i.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var i=this,n=0;n<t;n++)i=i.dbl();return i}var r=this.curve.a,e=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),h=s.redAdd(s);for(n=0;n<t;n++){var f=o.redSqr(),c=h.redSqr(),l=c.redSqr(),v=f.redAdd(f).redIAdd(f).redIAdd(r.redMul(u)),d=o.redMul(c),y=v.redSqr().redISub(d.redAdd(d)),A=d.redISub(y),b=v.redMul(A);b=b.redIAdd(b).redISub(l);var p=h.redMul(a);n+1<t&&(u=u.redMul(l)),o=y,a=p,h=b}return this.curve.jpoint(o,h.redMul(e),a)},i.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this.cH():this.curve.threeA?this.lH():this.vH()},i.prototype.cH=function(){var t,i,n;if(this.zOne){var r=this.x.redSqr(),e=this.y.redSqr(),o=e.redSqr(),s=this.x.redAdd(e).redSqr().redISub(r).redISub(o);s=s.redIAdd(s);var a=r.redAdd(r).redIAdd(r),u=a.redSqr().redISub(s).redISub(s),h=o.redIAdd(o);h=(h=h.redIAdd(h)).redIAdd(h),t=u,i=a.redMul(s.redISub(u)).redISub(h),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),c=this.y.redSqr(),l=c.redSqr(),v=this.x.redAdd(c).redSqr().redISub(f).redISub(l);v=v.redIAdd(v);var d=f.redAdd(f).redIAdd(f),y=d.redSqr(),A=l.redIAdd(l);A=(A=A.redIAdd(A)).redIAdd(A),t=y.redISub(v).redISub(v),i=d.redMul(v.redISub(t)).redISub(A),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(t,i,n)},i.prototype.lH=function(){var t,i,n;if(this.zOne){var r=this.x.redSqr(),e=this.y.redSqr(),o=e.redSqr(),s=this.x.redAdd(e).redSqr().redISub(r).redISub(o);s=s.redIAdd(s);var a=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var h=o.redIAdd(o);h=(h=h.redIAdd(h)).redIAdd(h),i=a.redMul(s.redISub(u)).redISub(h),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),c=this.y.redSqr(),l=this.x.redMul(c),v=this.x.redSub(f).redMul(this.x.redAdd(f));v=v.redAdd(v).redIAdd(v);var d=l.redIAdd(l),y=(d=d.redIAdd(d)).redAdd(d);t=v.redSqr().redISub(y),n=this.y.redAdd(this.z).redSqr().redISub(c).redISub(f);var A=c.redSqr();A=(A=(A=A.redIAdd(A)).redIAdd(A)).redIAdd(A),i=v.redMul(d.redISub(t)).redISub(A)}return this.curve.jpoint(t,i,n)},i.prototype.vH=function(){var t=this.curve.a,i=this.x,n=this.y,r=this.z,e=r.redSqr().redSqr(),o=i.redSqr(),s=n.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(e)),u=i.redAdd(i),h=(u=u.redIAdd(u)).redMul(s),f=a.redSqr().redISub(h.redAdd(h)),c=h.redISub(f),l=s.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var v=a.redMul(c).redISub(l),d=n.redAdd(n).redMul(r);return this.curve.jpoint(f,v,d)},i.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),i=this.y.redSqr(),n=this.z.redSqr(),r=i.redSqr(),e=t.redAdd(t).redIAdd(t),o=e.redSqr(),s=this.x.redAdd(i).redSqr().redISub(t).redISub(r),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=r.redIAdd(r);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var h=e.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),f=i.redMul(h);f=(f=f.redIAdd(f)).redIAdd(f);var c=this.x.redMul(a).redISub(f);c=(c=c.redIAdd(c)).redIAdd(c);var l=this.y.redMul(h.redMul(u.redISub(h)).redISub(s.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var v=this.z.redAdd(s).redSqr().redISub(n).redISub(a);return this.curve.jpoint(c,l,v)},i.prototype.mul=function(t,i){return t=new CM(t,i),this.curve.qX(this,t)},i.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var i=this.z.redSqr(),n=t.z.redSqr();if(0!==this.x.redMul(n).redISub(t.x.redMul(i)).cmpn(0))return!1;var r=i.redMul(this.z),e=n.redMul(t.z);return 0===this.y.redMul(e).redISub(t.y.redMul(r)).cmpn(0)},i.prototype.eqXToP=function(t){var i=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(i);if(0===this.x.cmp(n))return!0;for(var r=t.clone(),e=this.curve.redN.redMul(i);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(e),0===this.x.cmp(n))return!0}},i.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: ".concat(this.x.toString(16,2)," y: ").concat(this.y.toString(16,2)," z: ").concat(this.z.toString(16,2),">")},i.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},i}(jM),PM=function(t){this.curve=new DM(t),this.g=this.curve.g,this.n=this.curve.n},zM={};zM.PresetCurve=PM,kM="secp256k1",_M={type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",{doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}]},Object.defineProperty(zM,kM,{configurable:!0,enumerable:!0,get:function(){var t=new PM(_M);return Object.defineProperty(zM,kM,{configurable:!0,enumerable:!0,value:t}),t}});var NM=function(){function t(t,i){this.ec=t,this.priv=null,this.pub=null,i.pub&&this.dH(i.pub,i.pubEnc)}return t.fromPublic=function(i,n,r){return n instanceof t?n:new t(i,{pub:n,pubEnc:r})},t.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},t.prototype.getPublic=function(t,i){return"string"==typeof t&&(i=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),i?this.pub.encode(i,t):this.pub},t.prototype.dH=function(t,i){if(t.x||t.y)return"mont"===this.ec.curve.type||"short"===this.ec.curve.type||this.ec.curve.type,void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,i)},t.prototype.verify=function(t,i){return this.ec.verify(t,i,this)},t}();function VM(t,i){var n=t[i.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var e=0,o=i.place,s=0;s<r;s++,o++)e<<=8,e|=t[o],e>>>=0;return!(e<=127)&&(i.place=o,e)}var RM,GM=function(){this.place=0},UM=function(){function t(i,n){if(i instanceof t)return i;this.yH(i,n)||(this.r=new CM(i.r,16),this.s=new CM(i.s,16),void 0===i.recoveryParam?this.recoveryParam=null:this.recoveryParam=i.recoveryParam)}return t.prototype.yH=function(t,i){t=TM(t,i);var n=new GM;if(48!==t[n.place++])return!1;var r=VM(t,n);if(!1===r)return!1;if(r+n.place!==t.length)return!1;if(2!==t[n.place++])return!1;var e=VM(t,n);if(!1===e)return!1;var o=t.slice(n.place,e+n.place);if(n.place+=e,2!==t[n.place++])return!1;var s=VM(t,n);if(!1===s)return!1;if(t.length!==s+n.place)return!1;var a=t.slice(n.place,s+n.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new CM(o),this.s=new CM(a),this.recoveryParam=null,!0},t}(),YM=function(){function t(i){if(!(this instanceof t))return new t(i);"string"==typeof i&&(i=zM[i]),i instanceof zM.PresetCurve&&(i={curve:i}),this.curve=i.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=i.curve.g,this.g.precompute(i.curve.n.bitLength()+1)}return t.prototype.keyFromPublic=function(t,i){return NM.fromPublic(this,t,i)},t.prototype.AH=function(t,i){var n=8*t.byteLength()-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!i&&t.cmp(this.n)>=0?t.sub(this.n):t},t.prototype.verify=function(t,i,n,r){t=this.AH(new CM(t,16)),n=this.keyFromPublic(n,r);var e=(i=new UM(i,"hex")).r,o=i.s;if(e.cmpn(1)<0||e.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s=o.invm(this.n),a=s.mul(t).umod(this.n),u=s.mul(e).umod(this.n);if(!this.curve.QX){var h=this.g.mulAdd(a,n.getPublic(),u);return!h.isInfinity()&&0===h.getX().umod(this.n).cmp(e)}var f=this.g.jmulAdd(a,n.getPublic(),u);return!f.isInfinity()&&f.eqXToP(e)},t}(),WM={exports:{}},XM={exports:{}};XM.exports=(RM=RM||function(t,i){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==wM&&wM.crypto&&(n=wM.crypto),!n)try{n=i}catch(t){}var r=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},e=Object.create||function(){function t(){}return function(i){var n;return t.prototype=i,n=new t,t.prototype=null,n}}(),o={},s=o.lib={},a=s.Base={extend:function(t){var i=e(this);return t&&i.mixIn(t),i.hasOwnProperty("init")&&this.init!==i.init||(i.init=function(){i.$super.init.apply(this,arguments)}),i.init.prototype=i,i.$super=this,i},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=a.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=i?n:4*t.length},toString:function(t){return(t||f).stringify(this)},concat:function(t){var i=this.words,n=t.words,r=this.sigBytes,e=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<e;o++){var s=n[o>>>2]>>>24-o%4*8&255;i[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var a=0;a<e;a+=4)i[r+a>>>2]=n[a>>>2];return this.sigBytes+=e,this},clamp:function(){var i=this.words,n=this.sigBytes;i[n>>>2]&=4294967295<<32-n%4*8,i.length=t.ceil(n/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var i=[],n=0;n<t;n+=4)i.push(r());return new u.init(i,t)}}),h=o.enc={},f=h.Hex={stringify:function(t){for(var i=t.words,n=t.sigBytes,r=[],e=0;e<n;e++){var o=i[e>>>2]>>>24-e%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var i=t.length,n=[],r=0;r<i;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new u.init(n,i/2)}},c=h.Latin1={stringify:function(t){for(var i=t.words,n=t.sigBytes,r=[],e=0;e<n;e++){var o=i[e>>>2]>>>24-e%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var i=t.length,n=[],r=0;r<i;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new u.init(n,i)}},l=h.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},v=s.BufferedBlockAlgorithm=a.extend({reset:function(){this.Sw=new u.init,this.bH=0},pH:function(t){"string"==typeof t&&(t=l.parse(t)),this.Sw.concat(t),this.bH+=t.sigBytes},mH:function(i){var n,r=this.Sw,e=r.words,o=r.sigBytes,s=this.blockSize,a=o/(4*s),h=(a=i?t.ceil(a):t.max((0|a)-this.gH,0))*s,f=t.min(4*h,o);if(h){for(var c=0;c<h;c+=s)this.xH(e,c);n=e.splice(0,h),r.sigBytes-=f}return new u.init(n,f)},clone:function(){var t=a.clone.call(this);return t.Sw=this.Sw.clone(),t},gH:0});s.Hasher=v.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){v.reset.call(this),this.SH()},update:function(t){return this.pH(t),this.mH(),this},finalize:function(t){return t&&this.pH(t),this.wH()},blockSize:16,MH:function(t){return function(i,n){return new t.init(n).finalize(i)}},CH:function(t){return function(i,n){return new d.HMAC.init(t,n).finalize(i)}}});var d=o.algo={};return o}(Math),RM);var HM={exports:{}};HM.exports=function(t){return function(i){var n=t,r=n.lib,e=r.WordArray,o=r.Hasher,s=n.algo,a=[],u=[];!function(){function t(t){for(var n=i.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,e=0;e<64;)t(r)&&(e<8&&(a[e]=n(i.pow(r,.5))),u[e]=n(i.pow(r,1/3)),e++),r++}();var h=[],f=s.SHA256=o.extend({SH:function(){this.TH=new e.init(a.slice(0))},xH:function(t,i){for(var n=this.TH.words,r=n[0],e=n[1],o=n[2],s=n[3],a=n[4],f=n[5],c=n[6],l=n[7],v=0;v<64;v++){if(v<16)h[v]=0|t[i+v];else{var d=h[v-15],y=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,A=h[v-2],b=(A<<15|A>>>17)^(A<<13|A>>>19)^A>>>10;h[v]=y+h[v-7]+b+h[v-16]}var p=r&e^r&o^e&o,m=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),g=l+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&f^~a&c)+u[v]+h[v];l=c,c=f,f=a,a=s+g|0,s=o,o=e,e=r,r=g+(m+p)|0}n[0]=n[0]+r|0,n[1]=n[1]+e|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+f|0,n[6]=n[6]+c|0,n[7]=n[7]+l|0},wH:function(){var t=this.Sw,n=t.words,r=8*this.bH,e=8*t.sigBytes;return n[e>>>5]|=128<<24-e%32,n[14+(e+64>>>9<<4)]=i.floor(r/4294967296),n[15+(e+64>>>9<<4)]=r,t.sigBytes=4*n.length,this.mH(),this.TH},clone:function(){var t=o.clone.call(this);return t.TH=this.TH.clone(),t}});n.SHA256=o.MH(f),n.HmacSHA256=o.CH(f)}(Math),t.SHA256}(XM.exports);var ZM=HM.exports;WM.exports=function(t){return n=(i=t).lib.WordArray,r=i.algo,e=r.SHA256,o=r.SHA224=e.extend({SH:function(){this.TH=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},wH:function(){var t=e.wH.call(this);return t.sigBytes-=4,t}}),i.SHA224=e.MH(o),i.HmacSHA224=e.CH(o),t.SHA224;var i,n,r,e,o}(XM.exports);var QM=WM.exports,JM={exports:{}};JM.exports=XM.exports.enc.Hex;var KM=JM.exports,qM={exports:{}};qM.exports=XM.exports.enc.Utf8;var $M=qM.exports,tC={exports:{}};!function(t){return n=(i=t).lib.WordArray,i.enc.Base64={stringify:function(t){var i=t.words,n=t.sigBytes,r=this.kH;t.clamp();for(var e=[],o=0;o<n;o+=3)for(var s=(i[o>>>2]>>>24-o%4*8&255)<<16|(i[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|i[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)e.push(r.charAt(s>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;e.length%4;)e.push(u);return e.join("")},parse:function(t){var i=t.length,r=this.kH,e=this._H;if(!e){e=this._H=[];for(var o=0;o<r.length;o++)e[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(i=a)}return function(t,i,r){for(var e=[],o=0,s=0;s<i;s++)if(s%4){var a=r[t.charCodeAt(s-1)]<<s%4*2|r[t.charCodeAt(s)]>>>6-s%4*2;e[o>>>2]|=a<<24-o%4*8,o++}return n.create(e,o)}(t,i,e)},kH:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},t.enc.Base64;var i,n}(XM.exports);!function(t){(function(i){var n=t,r=n.lib,e=r.WordArray,o=r.Hasher,s=n.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*i.abs(i.sin(t+1))|0}();var u=s.MD5=o.extend({SH:function(){this.TH=new e.init([1732584193,4023233417,2562383102,271733878])},xH:function(t,i){for(var n=0;n<16;n++){var r=i+n,e=t[r];t[r]=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8)}var o=this.TH.words,s=t[i+0],u=t[i+1],v=t[i+2],d=t[i+3],y=t[i+4],A=t[i+5],b=t[i+6],p=t[i+7],m=t[i+8],g=t[i+9],x=t[i+10],S=t[i+11],w=t[i+12],M=t[i+13],C=t[i+14],T=t[i+15],k=o[0],_=o[1],O=o[2],F=o[3];k=h(k,_,O,F,s,7,a[0]),F=h(F,k,_,O,u,12,a[1]),O=h(O,F,k,_,v,17,a[2]),_=h(_,O,F,k,d,22,a[3]),k=h(k,_,O,F,y,7,a[4]),F=h(F,k,_,O,A,12,a[5]),O=h(O,F,k,_,b,17,a[6]),_=h(_,O,F,k,p,22,a[7]),k=h(k,_,O,F,m,7,a[8]),F=h(F,k,_,O,g,12,a[9]),O=h(O,F,k,_,x,17,a[10]),_=h(_,O,F,k,S,22,a[11]),k=h(k,_,O,F,w,7,a[12]),F=h(F,k,_,O,M,12,a[13]),O=h(O,F,k,_,C,17,a[14]),k=f(k,_=h(_,O,F,k,T,22,a[15]),O,F,u,5,a[16]),F=f(F,k,_,O,b,9,a[17]),O=f(O,F,k,_,S,14,a[18]),_=f(_,O,F,k,s,20,a[19]),k=f(k,_,O,F,A,5,a[20]),F=f(F,k,_,O,x,9,a[21]),O=f(O,F,k,_,T,14,a[22]),_=f(_,O,F,k,y,20,a[23]),k=f(k,_,O,F,g,5,a[24]),F=f(F,k,_,O,C,9,a[25]),O=f(O,F,k,_,d,14,a[26]),_=f(_,O,F,k,m,20,a[27]),k=f(k,_,O,F,M,5,a[28]),F=f(F,k,_,O,v,9,a[29]),O=f(O,F,k,_,p,14,a[30]),k=c(k,_=f(_,O,F,k,w,20,a[31]),O,F,A,4,a[32]),F=c(F,k,_,O,m,11,a[33]),O=c(O,F,k,_,S,16,a[34]),_=c(_,O,F,k,C,23,a[35]),k=c(k,_,O,F,u,4,a[36]),F=c(F,k,_,O,y,11,a[37]),O=c(O,F,k,_,p,16,a[38]),_=c(_,O,F,k,x,23,a[39]),k=c(k,_,O,F,M,4,a[40]),F=c(F,k,_,O,s,11,a[41]),O=c(O,F,k,_,d,16,a[42]),_=c(_,O,F,k,b,23,a[43]),k=c(k,_,O,F,g,4,a[44]),F=c(F,k,_,O,w,11,a[45]),O=c(O,F,k,_,T,16,a[46]),k=l(k,_=c(_,O,F,k,v,23,a[47]),O,F,s,6,a[48]),F=l(F,k,_,O,p,10,a[49]),O=l(O,F,k,_,C,15,a[50]),_=l(_,O,F,k,A,21,a[51]),k=l(k,_,O,F,w,6,a[52]),F=l(F,k,_,O,d,10,a[53]),O=l(O,F,k,_,x,15,a[54]),_=l(_,O,F,k,u,21,a[55]),k=l(k,_,O,F,m,6,a[56]),F=l(F,k,_,O,T,10,a[57]),O=l(O,F,k,_,b,15,a[58]),_=l(_,O,F,k,M,21,a[59]),k=l(k,_,O,F,y,6,a[60]),F=l(F,k,_,O,S,10,a[61]),O=l(O,F,k,_,v,15,a[62]),_=l(_,O,F,k,g,21,a[63]),o[0]=o[0]+k|0,o[1]=o[1]+_|0,o[2]=o[2]+O|0,o[3]=o[3]+F|0},wH:function(){var t=this.Sw,n=t.words,r=8*this.bH,e=8*t.sigBytes;n[e>>>5]|=128<<24-e%32;var o=i.floor(r/4294967296),s=r;n[15+(e+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(e+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(n.length+1),this.mH();for(var a=this.TH,u=a.words,h=0;h<4;h++){var f=u[h];u[h]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return a},clone:function(){var t=o.clone.call(this);return t.TH=this.TH.clone(),t}});function h(t,i,n,r,e,o,s){var a=t+(i&n|~i&r)+e+s;return(a<<o|a>>>32-o)+i}function f(t,i,n,r,e,o,s){var a=t+(i&r|n&~r)+e+s;return(a<<o|a>>>32-o)+i}function c(t,i,n,r,e,o,s){var a=t+(i^n^r)+e+s;return(a<<o|a>>>32-o)+i}function l(t,i,n,r,e,o,s){var a=t+(n^(i|~r))+e+s;return(a<<o|a>>>32-o)+i}n.MD5=o.MH(u),n.HmacMD5=o.CH(u)})(Math),t.MD5}(XM.exports);!function(t){return n=(i=t).lib,r=n.WordArray,e=n.Hasher,o=i.algo,s=[],a=o.SHA1=e.extend({SH:function(){this.TH=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},xH:function(t,i){for(var n=this.TH.words,r=n[0],e=n[1],o=n[2],a=n[3],u=n[4],h=0;h<80;h++){if(h<16)s[h]=0|t[i+h];else{var f=s[h-3]^s[h-8]^s[h-14]^s[h-16];s[h]=f<<1|f>>>31}var c=(r<<5|r>>>27)+u+s[h];c+=h<20?1518500249+(e&o|~e&a):h<40?1859775393+(e^o^a):h<60?(e&o|e&a|o&a)-1894007588:(e^o^a)-899497514,u=a,a=o,o=e<<30|e>>>2,e=r,r=c}n[0]=n[0]+r|0,n[1]=n[1]+e|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0},wH:function(){var t=this.Sw,i=t.words,n=8*this.bH,r=8*t.sigBytes;return i[r>>>5]|=128<<24-r%32,i[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),i[15+(r+64>>>9<<4)]=n,t.sigBytes=4*i.length,this.mH(),this.TH},clone:function(){var t=e.clone.call(this);return t.TH=this.TH.clone(),t}}),i.SHA1=e.MH(a),i.HmacSHA1=e.CH(a),t.SHA1;var i,n,r,e,o,s,a}(XM.exports);var iC,nC,rC;nC=(iC=XM.exports).lib.Base,rC=iC.enc.Utf8,iC.algo.HMAC=nC.extend({init:function(t,i){t=this.OH=new t.init,"string"==typeof i&&(i=rC.parse(i));var n=t.blockSize,r=4*n;i.sigBytes>r&&(i=t.finalize(i)),i.clamp();for(var e=this.FH=i.clone(),o=this.IH=i.clone(),s=e.words,a=o.words,u=0;u<n;u++)s[u]^=1549556828,a[u]^=909522486;e.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var t=this.OH;t.reset(),t.update(this.IH)},update:function(t){return this.OH.update(t),this},finalize:function(t){var i=this.OH,n=i.finalize(t);return i.reset(),i.finalize(this.FH.clone().concat(n))}}),function(t){return r=(n=(i=t).lib).Base,e=n.WordArray,s=(o=i.algo).MD5,a=o.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:s,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,i){for(var n,r=this.cfg,o=r.hasher.create(),s=e.create(),a=s.words,u=r.keySize,h=r.iterations;a.length<u;){n&&o.update(n),n=o.update(t).finalize(i),o.reset();for(var f=1;f<h;f++)n=o.finalize(n),o.reset();s.concat(n)}return s.sigBytes=4*u,s}}),i.EvpKDF=function(t,i,n){return a.create(n).compute(t,i)},t.EvpKDF;var i,n,r,e,o,s,a}(XM.exports);(function(t){t.lib.Cipher||function(){var i=t,n=i.lib,r=n.Base,e=n.WordArray,o=n.BufferedBlockAlgorithm,s=i.enc;s.Utf8;var a=s.Base64,u=i.algo.EvpKDF,h=n.Cipher=o.extend({cfg:r.extend(),createEncryptor:function(t,i){return this.create(this.jH,t,i)},createDecryptor:function(t,i){return this.create(this.BH,t,i)},init:function(t,i,n){this.cfg=this.cfg.extend(n),this.DH=t,this.LH=i,this.reset()},reset:function(){o.reset.call(this),this.SH()},process:function(t){return this.pH(t),this.mH()},finalize:function(t){return t&&this.pH(t),this.wH()},keySize:4,ivSize:4,jH:1,BH:2,MH:function(){function t(t){return"string"==typeof t?p:A}return function(i){return{encrypt:function(n,r,e){return t(r).encrypt(i,n,r,e)},decrypt:function(n,r,e){return t(r).decrypt(i,n,r,e)}}}}()});n.StreamCipher=h.extend({wH:function(){return this.mH(!0)},blockSize:1});var f=i.mode={},c=n.BlockCipherMode=r.extend({createEncryptor:function(t,i){return this.Encryptor.create(t,i)},createDecryptor:function(t,i){return this.Decryptor.create(t,i)},init:function(t,i){this.EH=t,this.PH=i}}),l=f.CBC=function(){var t=c.extend();function i(t,i,n){var r,e=this.PH;e?(r=e,this.PH=undefined):r=this.zH;for(var o=0;o<n;o++)t[i+o]^=r[o]}return t.Encryptor=t.extend({processBlock:function(t,n){var r=this.EH,e=r.blockSize;i.call(this,t,n,e),r.encryptBlock(t,n),this.zH=t.slice(n,n+e)}}),t.Decryptor=t.extend({processBlock:function(t,n){var r=this.EH,e=r.blockSize,o=t.slice(n,n+e);r.decryptBlock(t,n),i.call(this,t,n,e),this.zH=o}}),t}(),v=(i.pad={}).Pkcs7={pad:function(t,i){for(var n=4*i,r=n-t.sigBytes%n,o=r<<24|r<<16|r<<8|r,s=[],a=0;a<r;a+=4)s.push(o);var u=e.create(s,r);t.concat(u)},unpad:function(t){var i=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=i}};n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:l,padding:v}),reset:function(){var t;h.reset.call(this);var i=this.cfg,n=i.iv,r=i.mode;this.DH==this.jH?t=r.createEncryptor:(t=r.createDecryptor,this.gH=1),this.NH&&this.NH.VH==t?this.NH.init(this,n&&n.words):(this.NH=t.call(r,this,n&&n.words),this.NH.VH=t)},xH:function(t,i){this.NH.processBlock(t,i)},wH:function(){var t,i=this.cfg.padding;return this.DH==this.jH?(i.pad(this.Sw,this.blockSize),t=this.mH(!0)):(t=this.mH(!0),i.unpad(t)),t},blockSize:4});var d=n.CipherParams=r.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),y=(i.format={}).OpenSSL={stringify:function(t){var i=t.ciphertext,n=t.salt;return(n?e.create([1398893684,1701076831]).concat(n).concat(i):i).toString(a)},parse:function(t){var i,n=a.parse(t),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(i=e.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),d.create({ciphertext:n,salt:i})}},A=n.SerializableCipher=r.extend({cfg:r.extend({format:y}),encrypt:function(t,i,n,r){r=this.cfg.extend(r);var e=t.createEncryptor(n,r),o=e.finalize(i),s=e.cfg;return d.create({ciphertext:o,key:n,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,i,n,r){return r=this.cfg.extend(r),i=this.RH(i,r.format),t.createDecryptor(n,r).finalize(i.ciphertext)},RH:function(t,i){return"string"==typeof t?i.parse(t,this):t}}),b=(i.kdf={}).OpenSSL={execute:function(t,i,n,r){r||(r=e.random(8));var o=u.create({keySize:i+n}).compute(t,r),s=e.create(o.words.slice(i),4*n);return o.sigBytes=4*i,d.create({key:o,iv:s,salt:r})}},p=n.PasswordBasedCipher=A.extend({cfg:A.cfg.extend({kdf:b}),encrypt:function(t,i,n,r){var e=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize);r.iv=e.iv;var o=A.encrypt.call(this,t,i,e.key,r);return o.mixIn(e),o},decrypt:function(t,i,n,r){r=this.cfg.extend(r),i=this.RH(i,r.format);var e=r.kdf.execute(n,t.keySize,t.ivSize,i.salt);return r.iv=e.iv,A.decrypt.call(this,t,i,e.key,r)}})}()})(XM.exports),tC.exports=function(t){return function(){var i=t,n=i.lib.BlockCipher,r=i.algo,e=[],o=[],s=[],a=[],u=[],h=[],f=[],c=[],l=[],v=[];!function(){for(var t=[],i=0;i<256;i++)t[i]=i<128?i<<1:i<<1^283;var n=0,r=0;for(i=0;i<256;i++){var d=r^r<<1^r<<2^r<<3^r<<4;d=d>>>8^255&d^99,e[n]=d,o[d]=n;var y=t[n],A=t[y],b=t[A],p=257*t[d]^16843008*d;s[n]=p<<24|p>>>8,a[n]=p<<16|p>>>16,u[n]=p<<8|p>>>24,h[n]=p,p=16843009*b^65537*A^257*y^16843008*n,f[d]=p<<24|p>>>8,c[d]=p<<16|p>>>16,l[d]=p<<8|p>>>24,v[d]=p,n?(n=y^t[t[t[b^y]]],r^=t[t[r]]):n=r=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],y=r.AES=n.extend({SH:function(){if(!this.GH||this.UH!==this.LH){for(var t=this.UH=this.LH,i=t.words,n=t.sigBytes/4,r=4*((this.GH=n+6)+1),o=this.YH=[],s=0;s<r;s++)s<n?o[s]=i[s]:(h=o[s-1],s%n?n>6&&s%n==4&&(h=e[h>>>24]<<24|e[h>>>16&255]<<16|e[h>>>8&255]<<8|e[255&h]):(h=e[(h=h<<8|h>>>24)>>>24]<<24|e[h>>>16&255]<<16|e[h>>>8&255]<<8|e[255&h],h^=d[s/n|0]<<24),o[s]=o[s-n]^h);for(var a=this.WH=[],u=0;u<r;u++){if(s=r-u,u%4)var h=o[s];else h=o[s-4];a[u]=u<4||s<=4?h:f[e[h>>>24]]^c[e[h>>>16&255]]^l[e[h>>>8&255]]^v[e[255&h]]}}},encryptBlock:function(t,i){this.XH(t,i,this.YH,s,a,u,h,e)},decryptBlock:function(t,i){var n=t[i+1];t[i+1]=t[i+3],t[i+3]=n,this.XH(t,i,this.WH,f,c,l,v,o),n=t[i+1],t[i+1]=t[i+3],t[i+3]=n},XH:function(t,i,n,r,e,o,s,a){for(var u=this.GH,h=t[i]^n[0],f=t[i+1]^n[1],c=t[i+2]^n[2],l=t[i+3]^n[3],v=4,d=1;d<u;d++){var y=r[h>>>24]^e[f>>>16&255]^o[c>>>8&255]^s[255&l]^n[v++],A=r[f>>>24]^e[c>>>16&255]^o[l>>>8&255]^s[255&h]^n[v++],b=r[c>>>24]^e[l>>>16&255]^o[h>>>8&255]^s[255&f]^n[v++],p=r[l>>>24]^e[h>>>16&255]^o[f>>>8&255]^s[255&c]^n[v++];h=y,f=A,c=b,l=p}y=(a[h>>>24]<<24|a[f>>>16&255]<<16|a[c>>>8&255]<<8|a[255&l])^n[v++],A=(a[f>>>24]<<24|a[c>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^n[v++],b=(a[c>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&f])^n[v++],p=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[f>>>8&255]<<8|a[255&c])^n[v++],t[i]=y,t[i+1]=A,t[i+2]=b,t[i+3]=p},keySize:8});i.AES=n.MH(y)}(),t.AES}(XM.exports);var eC=tC.exports,oC={exports:{}};oC.exports=function(t){return t.mode.CTR=(n=(i=t.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(t,i){var n=this.EH,r=n.blockSize,e=this.PH,o=this.HH;e&&(o=this.HH=e.slice(0),this.PH=void 0);var s=o.slice(0);n.encryptBlock(s,0),o[r-1]=o[r-1]+1|0;for(var a=0;a<r;a++)t[i+a]^=s[a]}}),i.Decryptor=n,i),t.mode.CTR;var i,n}(XM.exports);var sC=oC.exports,aC={exports:{}};aC.exports=function(t){return function(){if("function"==typeof ArrayBuffer){var i=t.lib.WordArray,n=i.init,r=i.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var i=t.byteLength,r=[],e=0;e<i;e++)r[e>>>2]|=t[e]<<24-e%4*8;n.call(this,r,i)}else n.apply(this,arguments)};r.prototype=i}}(),t.lib.WordArray}(XM.exports);var uC=aC.exports,hC={exports:{}};hC.exports=function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding}(XM.exports);var fC=hC.exports,cC=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s};const lC="aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzL2RvY3MvbGljZW5zZXMvYXBwLWRlcGxveW1lbnQv";var vC,dC,yC,AC=9e5,bC={"-4":["MDQxMmQ1MWU5MjFhYTMzODUwMWE4ZGYzN2ViZTE4NTU3ZDViYmRlZDg1Yzk0OGI3YTJkMDBmZTNhZGVlMjdjY2VmNzBiMWVlOWI3MDZjMTIwYTAzZDZlZTNkNmYyOTc5Y2E2NGEzN2Y3YjY4N2E1ZjljZWY2ODYxN2I1NWU5ZmJjMA=="],"-3":["MjAyNTExMjU="],"-2":["aHR0cHM6Ly9qc2xpY2Vuc2luZy5saWdodG5pbmdjaGFydC5jb20vc2Vzc2lvbg==","aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzL2RvY3MvdHJvdWJsZXNob290aW5nL3Jlc3RyaWN0ZWQtZmVhdHVyZXMv","aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzLw==","aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vcHl0aG9uLWNoYXJ0cy8="],"-1":["WE1MSHR0cFJlcXVlc3Q=","ZG9jdW1lbnQ=","ZGVmYXVsdFZpZXc=","YQ==","Yg==","bGljZW5zZV9leHBpcmF0aW9uX2RhdGU=","bG9jYXRpb24=","aG9zdG5hbWU=","dGVzdF9kb21haW4=","ZG9tYWlucw==","Y3J5cHRv","U2lnbmF0dXJl","RUNEU0E=","U0hBMjI0d2l0aEVDRFNB","YWxn","Y3VydmU=","c2VjcDI1Nmsx","YWRkRXZlbnRMaXN0ZW5lcg==","cmVtb3ZlRXZlbnRMaXN0ZW5lcg==","bG9hZGVuZA==","ZXJyb3I=","YWJvcnQ=","dGltZW91dA==","cmVzcG9uc2VUZXh0","Q29udGVudC1UeXBl","YXBwbGljYXRpb24vanNvbg==","TWVzc2FnZURpZ2VzdA==","c2hhMjU2","Y3J5cHRvanM=","dXBkYXRlU3RyaW5n","ZGlnZXN0","Y29tcGFueQ==","YXBwVGl0bGU=","bGNqcy1zZXNzaW9u","bG9jYWxTdG9yYWdl","Z2V0SXRlbQ==","c2V0SXRlbQ==","ZA==","dA==","bGNqcy1zZXNzaW9uLTI=","aG9zdA==","dG9w"],0:["TGljZW5zZQ==","IA==","a2V5","aGFz","ZXhwaXJlZA==","Lg==","dmVyc2lvbg==","aXM=","dG9v","bmV3","b2xk","b3I=","aW52YWxpZA==","MDAwMQ==","SW52YWxpZA==","bnVtYmVy","b2Y=","ZG9tYWlucw==","ZGVwbG95bWVudA==","aW4=","ZG9tYWlu","RGVwbG95bWVudA==","ZG9tYWlu","dmFsaWRhdGlvbg==","ZmFpbGVk","Og==","UE9TVA==","c2VydmVy","cmVzcG9uZGVk","d2l0aA==","dW5leHBlY3RlZA==","dmFsdWU=","cmVxdWVzdA==","VEVTVA==","REVQTE9ZTUVOVA==","S2V5","VGFtcGVyaW5n","YmVlbg==","ZGV0ZWN0ZWQ=","TWlzc2luZw==","TGljZW5zZQ==","aW5mb3JtYXRpb24=","ZG9lcw==","bm90","aW5jbHVkZQ==","cGVybWlzc2lvbg==","dG8=","dXNl","Q2hhcnQ=","M0Q=","WFk=","RGF0YUdyaWQ=","TWFw","UG9sYXI=","RnVubmVs","R2F1Z2U=","UGll","UHlyYW1pZA==","U3BpZGVy","Zm9y","dGhpcw==","VHJhZGluZw==","ZmVhdHVyZXM=","Q2xpY2s=","aGVyZQ==","bW9yZQ==","c3VwcGxpZWQ=","Z2V0","bGljZW5zZQ==","VHJlZQ==","dW5leHBlY3RlZA==","ZXJyb3I="],1:["aHR0cHM6Ly9qc2xpY2Vuc2luZy5saWdodG5pbmdjaGFydC5jb20vc2FuZGJveA==","aHR0cHM6Ly9qc2xpY2Vuc2luZy5saWdodG5pbmdjaGFydC5jb20vcGx1Z2lu"]},pC=ci,mC=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t.slice(1).reduce((function(i,n){return i+pC.atob(bC[t[0]][n].toString())}),"")},gC=new Uint8Array([]),xC=function(t){return t&&"cGx1Z2lu"in t&&"cHl0aG9u"===t.cGx1Z2lu?mC(-2,3):mC(-2,2)},SC=function(){function t(){}return Object.defineProperty(t.prototype,"e",{get:function(){dC={ua:!1,ha:!1,fa:!1,ca:!1,la:!1,va:!1,da:!1,ya:!1,Aa:!1,ba:!1,pa:!1,ma:!1,ga:!1,xa:!1,Sa:!1,wa:!1,Ma:!1,Ca:!1,Ta:!1,ka:!1,_a:!1,Oa:!1,Fa:!1,Ia:!1,ja:!1,Ba:!1,Da:!1};var t=gC.length,i=t>=1?gC[0]:void 0,n=t>=2?gC[1]:void 0,r=t>=3?gC[2]:void 0,e=t>=4?gC[3]:void 0;return void 0!==i&&(dC.ua=!!(1&i),dC.ha=!!(2&i),dC.fa=!!(4&i),dC.ca=!!(8&i),dC.la=!!(16&i),dC.va=!!(32&i),dC.da=!!(64&i),dC.ya=!!(128&i)),void 0!==n&&(dC.Aa=!!(1&n),dC.ba=!!(2&n),dC.pa=!!(4&n),dC.ma=!!(8&n),dC.ga=!!(16&n),dC.xa=!!(32&n),dC.Sa=!!(64&n),dC.wa=!!(128&n)),void 0!==r&&(dC.Ma=!!(1&r),dC.Ca=!!(2&r),dC.Ta=!!(4&r),dC.ka=!!(8&r),dC._a=!!(16&r),dC.Oa=!!(32&r),dC.Fa=!!(64&r),dC.Ia=!!(128&r)),void 0!==e&&(dC.ja=!!(1&e),dC.Ba=!!(2&e),dC.Da=!!(4&e)),dC.va},set:function(t){vC=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"l",{get:function(){return yC},set:function(t){yC=t},enumerable:!1,configurable:!0}),t}(),wC=!1,MC=function(t,i){var n=new RegExp(".{".concat(i,"}"),"g");return(t.match(n)||[]).map((function(t){return parseInt(t,16)}))},CC=function(t){if(4===t.byteLength){var i=t[0].toString().padStart(2,"0"),n=t[1].toString().padStart(2,"0"),r=t[2].toString().padStart(2,"0"),e=t[3].toString().padStart(2,"0");return"".concat(i).concat(n).concat(r).concat(e)}},TC=function(t){return t.getFullYear().toString()+(t.getMonth()+1).toString().padStart(2,"0")+t.getDate().toString().padStart(2,"0")},kC=function(t){var i={},n=t.split("-");if(3!==n.length)return{ZH:mC(0,0,1,7,1,12,5)};var r=0,e=Uint8Array.from(pC.atob(n[1]),(function(t){return t.charCodeAt(0)}));r+=1;var o=e.subarray(r,r+=20),s=new DataView(e.buffer).getUint16(r,!0);r+=2;for(var a=Uint8Array.from(Array(s)),u=0;u<s;u+=1)a[u]=e[u+r]^o[u%o.byteLength];var h=new DataView(a.buffer);i.QH=a,r=0;var f=Uint8Array.from(Array(h.getUint16(r,!0)));r+=2,f.set(a.subarray(r,r+=f.byteLength)),gC=new Uint8Array(f);var c=CC(a.subarray(r,r+=4)),l=mC(-3,0);if(!c)return{ZH:mC(0,0,1,7,1,12,5)};if(c<l)return{ZH:mC(0,40,1,2,1,7,1,8,1,10,1,59,1,60,1,6,5)};if(8&f[0]){var v=CC(a.subarray(r,r+=4)),d=TC(new Date);if(!v)return{ZH:mC(0,0,1,7,1,12,5)};if(v<d)return{ZH:mC(0,0,1,2,1,3,1,4,5),JH:xC()}}i.KH=r;var y="".concat(n[0],"-").concat(n[1]),A=Array.prototype.reduce.call(pC.atob(n[2]),(function(t,i){return t+"0".concat(i.charCodeAt(0).toString(16)).slice(-2)}),"");return FC(y,A)?i:{ZH:mC(0,0,1,7,1,12,5)}},_C=function(t){var i=t.slice(0,4),n=t.slice(5);switch(i){case"0001":n=n.replace(/-/g,"");var r=Uint8Array.from(MC(n,2)),e=r.slice(36,40),o=new Uint8Array(4),s=function(t){for(var i,n=[],r=0;r<256;r+=1){i=r;for(var e=0;e<8;e+=1)i=1&i?3988292384^i>>>1:i>>>1;n[r]=i}for(var o=-1,s=0;s<t.length;s+=1)o=o>>>8^n[255&(o^t[s])];return~o>>>0}(r.slice(0,36));new DataView(o.buffer).setUint32(0,s,!0);for(var a=r.slice(28,34),u=0,h=a.length-1;h>0;h-=1)u+=a[h]*Math.pow(2,8*h);var f=new Date(u);if(TC(f)<mC(-3,0))return{ZH:mC(0,0,1,2,1,3,1,4,5),JH:xC()};if(e.every((function(t,i){return o[i]===t})))return{};break;case"0002":return kC(t);default:return{ZH:mC(0,0,1,2,1,6,1,7,1,8,1,9,1,11,1,10,5)}}return{ZH:mC(0,0,1,2,1,7,1,12,5)}},OC=function(t){if(!t)return{ZH:mC(0,14,1,15,1,16,1,17,1,19,1,18,1,2,5)};var i=(t[mC(-1,9)]||t[mC(-1,37)]).map((function(t){return(t||"").trim()})),n=pC[mC(-1,41)];try{if(n&&i.indexOf(n[mC(-1,6)][mC(-1,7)])>-1)return{qH:!0}}catch(t){}if(i.indexOf(pC[mC(-1,6)][mC(-1,7)])>-1)return{qH:!0};var r=i.filter((function(t){return t.indexOf("*")>-1}));try{if(n&&LC(n[mC(-1,6)][mC(-1,7)],r))return{qH:!0}}catch(t){}if(LC(pC[mC(-1,6)][mC(-1,7)],r))return{qH:!0};var e=t[mC(-1,8)]||t[mC(-1,38)];if(""!==e&&null!=e){try{if(n&&LC(n[mC(-1,6)][mC(-1,7)],[e]))return{qH:!1}}catch(t){}if(LC(pC[mC(-1,6)][mC(-1,7)],[e]))return{qH:!1};try{if(n&&e===n[mC(-1,6)][mC(-1,7)])return{qH:!1}}catch(t){}if(e===pC[mC(-1,6)][mC(-1,7)])return{qH:!1}}return{ZH:mC(0,14,1,20,5),JH:"aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzL2RvY3MvbGljZW5zZXMvd2ViLWRlcGxveW1lbnQv"}},FC=function(t,i){var n=new YM("secp256k1").keyFromPublic(mC(-4,0),"hex"),r=QM(t).toString();return n.verify(r,i)},IC=function(t){switch(t.slice(0,4)){case"0001":return function(t){var i,n="";try{var r=t.split("-"),e=r[1],o=r[2],s=r[3];if(!FC(o,s))return{ZH:mC(0,21,1,2,1,7,1,12,5)};var a=KM.parse(o);n=eC.decrypt({ciphertext:KM.parse(e)},a,{mode:sC,padding:fC,iv:KM.parse("00000000000000000000000000000001")}).toString($M)}catch(t){return{ZH:mC(0,21,1,2,1,7,1,12,5)}}try{i=JSON.parse(n)}catch(t){return{ZH:mC(0,21,1,2,1,7,1,12,5)}}if(void 0===i[mC(-1,5)]||null===i[mC(-1,4)]||!i[mC(-1,9)])return{ZH:mC(0,21,1,2,1,7,1,12,5)};var u=parseInt(mC(-3,0),10)||Number(parseInt(mC(-3,0),10));return i[mC(-1,5)]<u?{ZH:mC(0,21,1,2,1,3,1,4,5)}:OC(i)}(t);case"0002":return function(t){var i=kC(t),n=i.QH,r=i.KH;if(i.ZH||void 0===n||void 0===r)return i;var e,o="";try{for(var s=n.slice(i.KH,r+16),a=new DataView(s.buffer),u=new Int32Array(4),h=0;h<u.length;h+=1)u[h]=a.getInt32(4*h,!1);var f=uC.create(Array.from(u)),c=r+16,l=n.slice(c,n.length),v=new DataView(l.buffer),d=new Int32Array(Math.floor(l.byteLength/4));for(h=0;h<d.length;h+=1)d[h]=v.getInt32(4*h,!1);var y=uC.create(Array.from(d)),A=eC.decrypt({ciphertext:y},f,{mode:sC,padding:fC,iv:KM.parse("00000000000000000000000000000001")});o=pC.atob(A.toString($M))}catch(t){return{ZH:mC(0,21,1,2,1,7,1,12,5)}}try{e=JSON.parse(o)}catch(t){return{ZH:mC(0,21,1,2,1,7,1,12,5)}}return e[mC(-1,37)]?OC(e):{ZH:mC(0,21,1,2,1,7,1,12,5)}}(t);default:return{ZH:mC(0,21,1,2,1,6,1,7,1,8,1,9,1,11,1,10,5)}}},jC=function(t,i){switch(t.slice(0,4)){case"0001":return function(t,i){if(!i)return{ZH:mC(0,39,1,40,1,41,5),JH:lC};var n=t.split("-"),r=n[1].slice(1),e=n[2],o=n[3];if(!FC("".concat(r,"-").concat(e),o))return{ZH:mC(0,21,1,2,1,7,1,12,5)};for(var s=Uint8Array.from(MC(e,2)),a=0,u=s.length-1;u>0;u-=1)a+=s[u]*Math.pow(2,8*u);if(a<(parseInt(mC(-3,0),10)||Number(parseInt(mC(-3,0),10))))return{ZH:mC(0,21,1,2,1,3,1,4,5)};var h=Int32Array.from(MC(r,8)),f=ZM(i[mC(-1,31)]).toString(KM),c=Int32Array.from(MC(f,8)),l=ZM(i[mC(-1,32)]).toString(KM),v=Int32Array.from(MC(l,8)),d=new Int32Array(c.length);for(u=0;u<d.length;u+=1)d[u]=c[u]^v[u];return h.every((function(t,i){return d[i]===t}))?{}:{ZH:mC(0,21,1,2,1,7,1,12,5)}}(t,i);case"0002":return function(t,i){if(!i)return{ZH:mC(0,39,1,40,1,41,5),JH:lC};var n=kC(t),r=n.QH,e=n.KH;if(n.ZH||void 0===r||void 0===e)return n;for(var o=r.slice(e,r.length),s=new DataView(o.buffer),a=new Int32Array(8),u=0;u<a.length;u+=1)a[u]=s.getInt32(4*u,!1);var h=ZM(i[mC(-1,31)]).toString(KM),f=Int32Array.from(MC(h,8)),c=ZM(i[mC(-1,32)]).toString(KM),l=Int32Array.from(MC(c,8)),v=new Int32Array(f.length);for(u=0;u<v.length;u+=1)v[u]=f[u]^l[u];return a.every((function(t,i){return v[i]===t}))?{}:{ZH:mC(0,21,1,2,1,7,1,12,5)}}(t,i);default:return{ZH:mC(0,21,1,2,1,6,1,7,1,8,1,9,1,11,1,10,5)}}},BC=function(t,i,n,r){void 0===n&&(n=!0),wC=!1,i.Iu();var e=i.js,o=!!e&&(e===ci.document.body||ci.document.body.contains(e)),s=e&&o?e:document.body;if(void 0===Array.from(s.children).find((function(t){return"lcjs-error"===t.id}))){var a=ci.document.createElement("div");a.id="lcjs-error",s.append(a),a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style.width="100%",a.style.height="100%",a.style.backgroundColor="black",a.style.boxSizing="border-box",a.style.padding="20px",a.style.font="Arial",a.style.fontSize="20px";var u=(t||"LICENSE_ERROR").split("_").join(" ");u=(n?mC(0,0,1,2,1,23,1,24,25,1):"")+u.charAt(0).toUpperCase()+u.substr(1);var h=void 0;if(r){var f=ci.document.createElement("a");f.href=r,h=f}else h=ci.document.createElement("p1");a.append(h),h.innerHTML=u,h.style.color="red",i.mX()&&pC.console.error(u)}},DC=function(t,i,n){i?(t[mC(-1,17)](mC(-1,19),n),t[mC(-1,17)](mC(-1,20),n),t[mC(-1,17)](mC(-1,21),n),t[mC(-1,17)](mC(-1,22),n)):(t[mC(-1,18)](mC(-1,19),n),t[mC(-1,18)](mC(-1,20),n),t[mC(-1,18)](mC(-1,21),n),t[mC(-1,18)](mC(-1,22),n))},LC=function(t,i){var n=t.split(".").reverse();return i.some((function(t){var i=t.split(".").reverse(),r=!1,e=i.findIndex((function(t){return"*"===t})),o=n.every((function(t,n){if(!r){if(!(n<i.length))return!1;if(!(r="*"===i[n]&&n+1>2)&&t!==i[n])return!1}return!0}));return!(e>n.length-1||!o)}))},EC=new Map,PC=function(t,i){var n="object"==typeof t?t.license:t;n&&(n=n.trim());var r="object"==typeof t?t.licenseInformation:i,e="object"==typeof t?t:void 0,o=new SC;o.e=n;var s=EC.get(n||"E");return s||(s=function(t,i){var n,r,e=!1,o=!1,s=!1,a=!1,u="",h=!1,f=!1,c=!1;try{if(vC){var l=function(){if(vC){var t=vC.split("-");if(t.length>0)switch(t[0]){case"0001":return"0001";case"0002":return"0002";case"T001":return"T001";case"P001":return"P001";default:return}}}(),v=t&&"cGx1Z2lu"in t;if("0001"===l){gC=new Uint8Array([2]);var d=function(){if(vC){var t=vC.split("-");return 4===t.length?t[1].startsWith("m")?2:1:0}}();if(1===d){var y=IC(vC);s=!y.qH,n=y,e=!0}else 2===d?(n=jC(vC,t),o=!0):(wC=!0,n=_C(vC),a=!0);v&&(n={ZH:mC(0,0,1,7,1,12,5)})}else if("0002"===l){d=function(){if(vC){var t=vC.split("-");if(t.length>=2)return Uint8Array.from(pC.atob(t[1]),(function(t){return t.charCodeAt(0)}))[0]}}(),104===d?(wC=!0,n=_C(vC),a=!0):189===d?(y=IC(vC),s=!y.qH,n=y,e=!0):159===d?(n=jC(vC,t),o=!0):n={ZH:mC(0,0,1,7,1,12,5)};var A=gC.length>3&&2&gC[3];(A&&!v||!A&&v||A&&v&&"cHl0aG9u"!==t.cGx1Z2lu)&&(n={ZH:mC(0,0,1,7,1,12,5)})}else if("T001"===l){y=function(t,i){var n=vC.split("-");if(3!==n.length)return{ZH:mC(0,0,1,7,1,12,5)};var r="".concat(n[1]),e=Array.prototype.reduce.call(pC.atob(n[2]),(function(t,i){return t+"0".concat(i.charCodeAt(0).toString(16)).slice(-2)}),"");if(!FC(r,e))return{ZH:mC(0,0,1,7,1,12,5)};var o=0,s=Uint8Array.from(pC.atob(n[1]),(function(t){return t.charCodeAt(o)})),a=s.subarray(o,o+=20),u=new DataView(s.buffer).getUint16(o,!0);o+=2;for(var h=Uint8Array.from(Array(u)),f=0;f<u;f+=1)h[f]=s[f+o]^a[f%a.byteLength];o=0;var c=new DataView(h.buffer),l=CC(h.subarray(o,o+=4)),v=mC(-3,0);if(!l)return{ZH:mC(0,0,1,7,1,12,5)};if(l<v)return{ZH:mC(0,40,1,2,1,7,1,8,1,10,1,59,1,60,1,6,5)};var d=new Date,y=new Date;d.setDate(d.getDate()+1),y.setDate(y.getDate()-1);var A=TC(y),b=TC(d);if(l<A||l>b)return{ZH:mC(0,0,1,2,1,3,1,4,5)};var p=c.getUint16(o,!0),m=h.subarray(o+=2,o+p);if(gC=new Uint8Array(m),i&&"dHJhZGVy"in i&&"dGVjaG5pY2FsIGFuYWx5c2lz"===i.dHJhZGVy)return{$H:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="};if(i&&"logoGraphic"in i&&i.logoGraphic){var g=i.logoGraphic.split("-");return 3===g.length&&FC(g[0],g[2])?{$H:g[0]}:{ZH:mC(0,0,1,7,1,12,5)}}return{ZH:mC(0,0,1,7,1,12,5)}}(0,t),n=y;var b=y.$H;b&&i?("string"==typeof b&&(i.l=b),e=!0):n={ZH:mC(0,0,1,7,1,12,5)}}else"P001"===l?(n=function(t,i){var n=vC.split("-");if(3!==n.length)return{ZH:mC(0,0,1,7,1,12,5)};var r="".concat(n[0],"-").concat(n[1]),e=Array.prototype.reduce.call(pC.atob(n[2]),(function(t,i){return t+"0".concat(i.charCodeAt(0).toString(16)).slice(-2)}),"");if(!FC(r,e))return{ZH:mC(0,0,1,7,1,12,5)};var o=0,s=Uint8Array.from(pC.atob(n[1]),(function(t){return t.charCodeAt(0)}));o+=1;var a=s.subarray(o,o+=20),u=new DataView(s.buffer).getUint16(o,!0);o+=2;for(var h=Uint8Array.from(Array(u)),f=0;f<u;f+=1)h[f]=s[f+o]^a[f%a.byteLength];o=0;var c=new DataView(h.buffer).getUint16(o,!0);o+=2;var l=h.subarray(o,c+o),v=new TextDecoder("utf-8").decode(l);return i&&"cGx1Z2lu"in i&&v===pC.atob(i.cGx1Z2lu)?(gC=new Uint8Array([38]),{}):{ZH:mC(0,0,1,7,1,12,5)}}(0,t),!n.ZH&&i&&(e=!0,f=!0)):n={ZH:mC(0,0,1,7,1,12,5)}}else["localhost","127.0.0.1","::1"].includes(pC[mC(-1,6)][mC(-1,7)])||/^(10\.|172\.(1[6-9]|2[0-9]|3[0-1])|192\.168)\./.test(pC[mC(-1,6)][mC(-1,7)])?n={ZH:mC(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68),JH:xC(t)}:pC[mC(-1,6)][mC(-1,40)]===pC.atob("c3RhY2tzbmlwcGV0cy5uZXQ=")?(c=!0,h=!1,gC=new Uint8Array([38]),n={}):(c=!0,h=!0,gC=new Uint8Array([38]),n={})}catch(t){n={ZH:mC(0,0,1,7,1,12,5,1,70,1,71,5)}}try{a&&(r=pC[mC(-1,34)][mC(-1,35)](mC(-1,39))||void 0)}catch(t){pC.console.error(t)}var p=!1;if(r){var m=r.split("-");if(2===m.length&&FC(m[0],m[1])){var g=cC(m[0].split(":").map((function(t){return Number(t)})),2),x=g[0],S=g[1];Date.now()-S<.95*x*1e3&&(p=!0)}}var M=!(c||h||f||n.ZH||e||o||p),C=function(){var t=new(pC[mC(-1,0)]);return t.open(mC(0,26),mC(-2,0)),t.setRequestHeader(mC(-1,24),mC(-1,25)),t.withCredentials=!0,t}(),T=new Nt;if(M){var k=void 0;try{k=parseInt(vC?vC.split("-")[1]:Math.floor(1e6*Math.random()).toString(),16)}catch(t){k=Math.floor(1e6*Math.random())}var _=Math.floor(1e6*Math.random());u=(k^_).toString();var O={},F="",I="",j="";vC=vC||"";for(var B=mC(-4,0),D=0;D<vC.length;D+=1){var L=vC.charCodeAt(D)^B.charCodeAt(D);F+=String.fromCharCode(L)}for(var E=mC(-3,0),P=0;P<E.length;P+=1)I+=String.fromCharCode(E.charCodeAt(P)^B.charCodeAt(P));for(var z=0;z<u.length;z+=1)j+=String.fromCharCode(u.charCodeAt(z)^B.charCodeAt(z));O[mC(-1,3)]=pC.btoa(F),O[mC(-1,4)]=pC.btoa(I),O.h=pC.btoa(j),O.v=3,O.s=pC[mC(-1,34)][mC(-1,35)](mC(-1,33))||void 0,C.send(JSON.stringify(O))}return function(e,o){var a=[],c={pu:function(t){a.indexOf(t)>=0||(a.push(t),l(),dC&&dC.Da&&T.D("logochange",{logoDataURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHwAAAAhCAYAAAAbDs+XAAAACXBIWXMAAAsSAAALEgHS3X78AAAIiUlEQVR4nO2bTWwkVxHHf5uEoHFAkIz5zAxIiIwDSNlBQgibQIKcC8i+ILW3L611TmGXC9LeVssp0t583YjbLC1E4z7aByTwAUWyxc1GIJE5wKEHASJDxAEP7IHNoaqma9rd4xl7vNll5y+N3P36vXrVrz5fvfal+/fvM8fjgyc+aAbmeLB4qqwxTtIFYBVoAsdAfwZz1fXXjcJgZwb05jgDLhVdugr7GrAThUF31hPGSdpGlOmtKAyOdb5WFAaHs57rIhAnaT0Kg1kYwAeCMoFvAIcXIWw3Rxto620b2IrCIKvou6p9+srXYZykrUn5i5P0OpBN6lXiJK0DC54fbbsN3ARuALtRGOxPQu9hQ5nAr0dhcOciJtOFMwHWgR4i7OOK/ivAVeAIeBcYICFmA9jS8Y0oDLrqKey6DqwA+6iAgENyJTtU79JSmjVHYwMJZR0TuiroJiLwdhQG+zpHW2n1dWwbqLm2ps7XNAVx4/qAKe0IX9Ov7OQYieG6AKWWNg3iJP0BkHrXFyfpD4GXXLcBY4StqGm/d8gX8ba2rQMHwBoiiBawGSfpHUTIA30G8A/EQg2rrh/AIE7SPeTd24hS+bVo6nUL2IiTNHNjN+Ik3UYUrK5t68CPgFuOfgvYAX6s9AfA28C33LhV4M0x63FuzDxLj5P0+8BXEYuwtm8yKuxdYG8CbT4A9pCFuK2L1kWEvwU0ECuHXECvocqk4wE+hyjPsf4aiBAHwF2gA6xpHlFDrHvP8WHzmuDXtX0LUbZMaRr9WpykL2sfo78MPEuuxPvAvcK4xinrcW6cWeDOXfm2V4FX9bYVJ2krTtJngZddt+0psvRVZDF39b6JWMOxusZFoK5xfpXcRYIIabnQ1tXfXaWVqattAj33TgsFPryFe3oWOj6m930kdGwD/wP6LtYPgP/q3BkSOj7t+DrUZxeKqQUeJ+kLcZLeAl4vtK8ArwAfds0hYnHP6/2gYDnj5rFt3CYSx7uIxe4gi9xGLOcYETbIQpoyrSOLnOm4LqIATSQf8MIz4VvfTRO+8lFTOk03xzG5F/uT0moBS+QW3/P09fkauSL+0vG1pHxdKEaSNnWZS2UWGCfpp4BvI+7aYs5Njasr2v5ScRzwT+A5vd6LwmBb6a3P9+MPHqWFF484SZ9BLOorwBcYteB2nKQD4MuIhpbhOXd9UNFnjgeESoGroC8jQn5e/xbxHeCPwOcZVYQy9Kr22hXzNxFX2vPJnXP1/XEFkKrx09Ao9D1BZ1o4ngx9JF+ozaruYVvNqrUuE/iTcZJ+DXgReBL4IvDJCvqfAP5T8vyvwGcKbdMWKq4hC30TiZeGdSTmvcX4ku8GUsF7o+TZChJLT6MBcAVR/C1GE7aJ4fbxtcKju0j+0QDK+Jx2niayXTwCSmspZQJ/EfgI8Azixk+z3GK23gP+rDQ+6tonLp1qEaOOaGpRIMfIwmeF/sMtjVpLi3z/O7ROvbdCx4LLzE0YRau3+Xo6dvieZRbvPAKIMtUR5YU88bTkrIckpP0in2eEzVvpScsE/gSyXXjhDBMOEM36BvIyX9L2oynrzya8MsZXAVyyuMGo5fS0qIK23wCIk7Sre/cbru9VRAB1REHQvn1kL24ZdF8rc34scZIOK4Vxkm5qX49dcoPYLSapTtnqRT5VAUbmQ9bxTskzq9rZ/Gtxkq6Zd7N5ojDIygT+WeBDJe2Ge8DTFc92VBC/Aj5OnuRNezBiCeCIwNV6ALr60lcRJbN9+hry8raQtu9eRuoCdcSNX0MU8hfa36p3e8jiLwNLcZLa1H1n3Uazpb+GuuzlkmcZebWvLKQN36eEzz4SRtD3WQUuq/BsfXYRb9VQ3pt6bXt9VBGbSO0iG+7DldAVxgs7A35f8axre+woDO4Bvwb+hrjlaeO3d4keTdf+ml531HKsb+b67RWeLZDnA1khUbIDFs/ror2bo3mo/UwZ7Sh5EIXBVsGKhwpb4eHG8dlEhLlOHoJAvNaQF0TQu5qk1XSu/SgMMpVpXd+5Dgx84cU0pQq/1Rf/N1Ix8hggRZAhojD4O1IrrlKQcfCCrWo3N24C9PGrOL6uPFU+I0/IltzzhrsuxsdiVc57I5vPnyUUq3eQhxEb6xV9E0ku/SELiGcavo8Kd8eN932HglY6Ne/SfUJSxEEUBh3VmFeAvzC6Tdsp0+AoDN6Ok/R3Y+hWwRZ6M07SQ2XWu+p33PUV7WPxK2NUwJCfzEEuoJbmAEVvYvfvFmjata+e2cGO0bvu5reFP0Ky/NvuXUA8SVExjM8GuqUs8DXQfMFX8YARharHSboO7Gt49bH9wFt4nXIcRGHQUcYyZN/tLXzoyssQhcG/lKFmIcstRaFPTZm1cqTx2EPKm2aFa4wuXgNdcEfPL3SfvNZuimOZs9EZunHnGWzBF5S3TOfb1rGXyWO2zddRfv27rCGKN1QMx2em/U3wa46muWlPH+XxGFGuuvYfaHsnCoM39Lc/LK3GSfoTTmIobEOcpE8D3wO+q0TfPKUAsk5e7+7qIu2dt7RaKGIs6Uue4PeiUdwSIjG3hWTvF/YRyVnxFJywKkPp4kVhcC9O0t8AX0eSjUm3W3YkWFWCnRa3Cvdm9Q8aLfJ9Nmi2/zAKG/J9+GKhfaylRGHwXpykP4vC4A8TzpMhLmhxhgcmW+763GXPcyDzvDysgjaYwH38PprELU4hbEMHuBEnqR1DngsPy8Kqh3tkPmo0gZtL7zGjM1k7atXbJSS27SDbv2EmPceDhWXpTfSDQmCxYs84LQZIVrpMvqVaJ/9aZRZzzDElLv3059sLSF3WasImmM5FxMU4/+698yh/3/2owgRONHrm3EQOJTKmr4NXYQEJHYtIoebccXyO6XHiu3SPkgP78+LUDw7muFiMFfgc/3+Y//foY4a5wB8zvA/xX9auz5FT8QAAAABJRU5ErkJggg=="}))},gu:T},l=function(){a.forEach((function(t){var i=d(t);if(i){var n=i.tZ,r=i.iZ?mC(-2,1):void 0,e="".concat(mC(0,40,1,42,1,43,1,44,1,45,1,46,1,47,1)).concat(n).concat(r?mC(0,5,1,63,1,64,1,59,1,65,1,41,5):"");BC(e,y,!1,r)}}))},v=function(t){return pC.atob(t)},d=function(t){var i=Object.values(zs).includes(t)?t:void 0;if(i){switch(t){case zs.fa:return dC.ua||dC.fa?void 0:{tZ:v(i),iZ:!0};case zs.da:return dC.ua||dC.da?void 0:{tZ:v(i),iZ:!0};case zs.ya:return dC.ua||dC.ha||dC.ya?void 0:{tZ:v(i),iZ:!0};case zs.ha:return dC.ua||dC.ha?void 0:{tZ:v(i),iZ:!0};case zs.ga:return dC.ua||dC.ha||dC.ga?void 0:{tZ:v(i),iZ:!0};case zs.wa:return dC.ua||dC.ha||dC.wa?void 0:{tZ:v(i),iZ:!0};case zs.ka:return dC.ua||dC.ha||dC.ka?void 0:{tZ:v(i),iZ:!0};case zs.Oa:return dC.ua||dC.ha||dC.Oa?void 0:{tZ:v(i),iZ:!0};case zs.Fa:return dC.ua||dC.ha||dC.Fa?void 0:{tZ:v(i),iZ:!0};case zs._a:return dC.ua||dC.ha||dC._a?void 0:{tZ:v(i),iZ:!0};case zs.ba:return dC.ua||dC.ha||dC.ba?void 0:{tZ:v(i),iZ:!0};case zs.Sa:return dC.ua||dC.ha||dC.Sa?void 0:{tZ:v(i),iZ:!0};case zs.ma:return dC.ua||dC.ha||dC.ma?void 0:{tZ:v(i),iZ:!0};case zs.Ma:return dC.ua||dC.ha||dC.Ma?void 0:{tZ:v(i),iZ:!0};case zs.Ta:return dC.ua||dC.ha||dC.Ta?void 0:{tZ:v(i),iZ:!0};case zs.Ca:return dC.ua||dC.ha||dC.Ca?void 0:{tZ:v(i),iZ:!0};case zs.Aa:return dC.ua||dC.ha||dC.Aa?void 0:{tZ:v(i),iZ:!0};case zs.pa:return dC.ua||dC.ha||dC.pa?void 0:{tZ:v(i),iZ:!0};case zs.xa:return dC.ua||dC.ha||dC.xa?void 0:{tZ:v(i),iZ:!0};case zs.Ia:return dC.ua||dC.ha||dC.Ia?void 0:{tZ:v(i),iZ:!0};case zs.ja:return dC.ua||dC.ha||dC.ja?void 0:{tZ:v(i),iZ:!0};case zs.ua:case zs.ca:case zs.va:case zs.la:case zs.Ba:case zs.Da:return}return dn(0,"")}},y=new SM(o,e,c);Array.from(y.js.children).forEach((function(t){"lcjs-error"===t.id&&y.js.removeChild(t)})),(null==n?void 0:n.ZH)&&BC(n.ZH,y,void 0,n.JH);var A=function(t){if("error"===(null==t?void 0:t.type)&&r){var i=r.split("-");if(2===i.length&&FC(i[0],i[1])){var n=cC(i[0].split(":").map((function(t){return Number(t)})),2)[1],e=Date.now();if(n+AC>e)return wC=!1,void DC(C,!1,b)}}if(C.readyState===pC[mC(-1,0)].DONE)if(200===C.status){var o=JSON.parse(C[mC(-1,23)]);if(!FC(u+mC(-3,0),o.h)){var s=mC(0,0,1,27,1,28,1,29,1,30,1,31,5);BC(s,y)}pC[mC(-1,34)][mC(-1,36)](mC(-1,39),o.t),pC[mC(-1,34)][mC(-1,36)](mC(-1,33),o.s),wC=!1}else{s=mC(0,0,1,2,1,7,1,12,5);try{s=t&&"loadend"!==t.type?mC(0,0,1,23,1,32,1,24,5):JSON.parse(C[mC(-1,23)]).message,DC(C,!1,b)}catch(t){console.error(t)}BC(s,y,void 0,"aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzL2RvY3MvbGljZW5zZXMvZGV2ZWxvcGVyLWxpY2Vuc2Vz")}},b=function(t){A(t)};if(DC(C,!0,b),M?setTimeout((function(){if(wC){var t=!0;if(r){var i=r.split("-");if(2===i.length&&FC(i[0],i[1])){var n=cC(i[0].split(":").map((function(t){return Number(t)})),2)[1],e=Date.now();n+AC>e&&(t=!1)}}t&&BC(mC(0,25,1,23,1,32,1,24,5),y)}}),1e4):DC(C,!1,b),h){var p=function(){var t=new(pC[mC(-1,0)]);return t.open(mC(0,26),mC(1,0)),t.setRequestHeader("Content-Type","text/plain"),t.withCredentials=!0,t}(),m=Array.from({length:10},(function(){return String.fromCharCode(Math.floor(256*Math.random()))})).join(""),g=function(n){!function(n){if("error"===(null==n?void 0:n.type)){var r=mC(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);BC(r,y,!1,xC(t)),DC(C,!1,g)}if(p.readyState===pC.XMLHttpRequest.DONE){var e=p.getResponseHeader("X-LCJS-SANDBOX-V");if(200!==p.status||e&&"1"!==e)r=mC(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68),BC(r,y,!1,xC(t)),DC(C,!1,g);else{var o=JSON.parse(p.responseText);FC(m,o.s)||(r=mC(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68),BC(r,y,!1,xC(t)),DC(C,!1,g)),void 0!==i&&(i.l=o.l),T.D("logochange",{logoDataURI:o.l})}}else r=mC(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68),BC(r,y,!1,xC(t)),DC(C,!1,g)}(n)};DC(p,!0,g),p.send(m),setTimeout((function(){if(p.readyState<2){var i=mC(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);BC(i,y,!1,xC(t)),DC(C,!1,g)}}),1e4)}if(f){var x=function(){var t=new(pC[mC(-1,0)]);return t.open(mC(0,26),mC(1,1)),t.setRequestHeader(mC(-1,24),mC(-1,25)),t.withCredentials=!0,t}(),S=void 0;try{S=parseInt(vC?vC.split("-")[1]:Math.floor(1e6*Math.random()).toString(),16)}catch(t){S=Math.floor(1e6*Math.random())}var k=Math.floor(1e6*Math.random());u=(S^k).toString();var _={},O="",F="";vC=vC||"";for(var I=mC(-4,0),j=0;j<vC.length;j+=1){var B=vC.charCodeAt(j)^I.charCodeAt(j);O+=String.fromCharCode(B)}for(var D=0;D<u.length;D+=1)F+=String.fromCharCode(u.charCodeAt(D)^I.charCodeAt(D));_[mC(-1,3)]=pC.btoa(O),_.h=pC.btoa(F),_.v=1,x.send(JSON.stringify(_));var L=function(n){!function(n){var r;if("error"===(null==n?void 0:n.type)){var e=mC(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);BC(e,y,!1,xC(t)),DC(C,!1,L)}if(x.readyState===pC.XMLHttpRequest.DONE)if(200===x.status){var o=JSON.parse(x.responseText);FC(u,o.h)||(e=mC(0,0,1,7,1,12,5),BC(e,y,!1,xC(t)),DC(C,!1,L));var s=o.l.split("-"),a=s[0],h=s[1];FC(a,h)?void 0!==i&&(i.l=a,T.D("logochange",{logoDataURI:a})):(e=mC(0,0,1,7,1,12,5),BC(e,y,!1,xC(t)));var f=o.f,c=Uint8Array.from(pC.atob(f),(function(t){return t.charCodeAt(0)})),v=0,d=c.subarray(v,v+=20),A=new DataView(c.buffer).getUint16(v,!0);v+=2;for(var b=Uint8Array.from(Array(A)),p=0;p<A;p+=1)b[p]=c[p+v]^d[p%d.byteLength];var m=new DataView(b.buffer);v=0;var g=Uint8Array.from(Array(m.getUint16(v,!0)));v+=2,g.set(b.subarray(v,v+=g.byteLength)),gC=new Uint8Array(g),i&&i.e&&l()}else e=null!==(r=(o=JSON.parse(x.responseText)).message)&&void 0!==r?r:mC(0,0,1,7,1,12,5),BC(e,y,!1,xC(t)),DC(C,!1,L);else e=mC(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68),BC(e,y,!1,xC(t)),DC(C,!1,L)}(n)};DC(x,!0,L),setTimeout((function(){if(x.readyState<2){var i=mC(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);BC(i,y,!1,xC(t)),DC(C,!1,L)}}),1e4)}return s?function(t){var i;wC=!1;var n=function(){i&&(t.yu(i.du()),i=void 0);var n=t.Mt();(i=t.Rj("deployment test")).ps(t.ai).Wo(mC(0,34,1,33)).ne({x:n.x/2,y:n.y/2}).Ch(50).po(13).$r(new Ur({color:w(128,128,128,100)})).wh("Arial").kh(500).setPointerEvents(!1),t.cu().lu()};t.L("resize",(function(){n()})),setTimeout(n,0),setInterval((function(){i&&i.du()<t.Gu()-1?n():i||n()}),1e3)}(y):C.readyState===pC[mC(-1,0)].DONE&&A(),y}}(r,o)),function(t,i,n,r){var e,o,s,a,u,h,f,c,l;if(n&&n.license){var v=n.license.split("-");l=v[v.length-1]}var d=null===(e=null==n?void 0:n.webgl)||void 0===e?void 0:e.version,y={sL:null===(o=null==n?void 0:n.sharedContextOptions)||void 0===o?void 0:o.canvas,Su:null==n?void 0:n.warnings,bL:"webgl1"===d?1:"webgl2"===d?2:void 0,vL:!1!==(null===(s=null==n?void 0:n.sharedContextOptions)||void 0===s?void 0:s.antialias),lL:(null===(a=null==n?void 0:n.sharedContextOptions)||void 0===a?void 0:a.devicePixelRatio)||void 0,TL:(null===(u=null==n?void 0:n.sharedContextOptions)||void 0===u?void 0:u.noCanvasStyles)||void 0,FL:(null===(h=null==n?void 0:n.sharedContextOptions)||void 0===h?void 0:h.noCanvasTransform)||void 0,yL:!1!==(null===(f=null==n?void 0:n.sharedContextOptions)||void 0===f?void 0:f.useStackingOrder),AL:!1!==(null===(c=null==n?void 0:n.sharedContextOptions)||void 0===c?void 0:c.useIndividualCanvas),kL:l||void 0},A=new Xg(y),b=function(i){return t(Hg(Hg({},i),{textRenderer:i.textRenderer?i.textRenderer:void 0,textPixelSnappingEnabled:void 0!==(null==i?void 0:i.textPixelSnappingEnabled)?i.textPixelSnappingEnabled:!(null==i?void 0:i.textRenderer)&&void 0}),A)};return{Dashboard:Zg(b,i,n,r),ChartXY:Kg(b,i,n,r),Spider:qg(b,i,n,r),Polar:$g(b,i,n,r),Pie:tx(b,i,n,r),UIPanel:Jg(b,i,n,r),Gauge:ix(b,i,n,r),Funnel:nx(b,i,n,r),Pyramid:rx(b,i,n,r),Chart3D:ox(b,i,n,r),Map:ex(b,i,n,r),DataGrid:sx(b,i,n,r),BarChart:ax(b,i,n,r),ParallelCoordinateChart:fx(b,i,n,r),ZoomBandChart:ux(b,i,n,r),TreeMapChart:hx(b,i,n,r),dispose:A.V.bind(A),layout:A.LL.bind(A)}}(s,o.e,e,o.l)};export{Lc as AbstractCursor,Gt as Animation,Rt as AnimationEasings,Ut as Animator,hd as AreaRangeSeries,ih as Axis,Vf as Axis3D,ff as AxisPosition,rs as AxisScrollStrategies,es as AxisTickStrategies,ka as AxisXYTitlePositionOptions,Jo as Band,Gb as BarChart,Lb as BarChartBar,Fb as BarChartCategoryAxis,Yb as BarChartSorting,Ub as BarChartTypes,Bb as BarChartValueAxis,La as BorderedPicture,lv as BoxFigure,gv as BoxSeries,kf as BoxSeries3D,Iu as Button,gf as Chart,Jc as Chart3D,fe as ChartComponent,uc as ChartWithSeries,Hd as ChartXY,Xd as ChartXYTitlePositionOptions,x as Color,T as ColorCSS,M as ColorHEX,C as ColorHSV,xe as ColorPalettes,w as ColorRGBA,je as ColorShadingStyles,k as ColorUint32,qo as ConstantLine,$c as Cursor2D,Nc as Cursor3D,tl as CursorBuilder2D,Vc as CursorBuilder3D,gd as CursorBuilderXY,qA as CursorBuilders,md as CursorXY,Es as CustomTick,ym as Dashboard,Ze as DashedLine,Cb as DataGrid,yb as DataGridCellContentAlignmentOptions,Ga as DataSetXY,Ph as DateTimeTickStrategy,wv as EllipseFigure,Mv as EllipseSeries,Nr as EmptyFill,ds as EmptyTickStrategy,Hs as EmptyUIElement,Nt as Eventer,hv as Figure,bv as FigureSeries,E as FontSettings,Tr as FormattingFunctions,Uy as FunnelChart,Jy as FunnelChartTypes,Qy as FunnelChartWithLabelsInsideSlices,Zy as FunnelChartWithLabelsOnSides,Vy as FunnelLabelSide,By as FunnelSlice,Ly as FunnelSliceModes,vp as GaugeChart,Ss as GenericAxis,io as GlowEffect,o as GradientExtent,e as GradientShape,Kv as HeatmapGridSeries,qv as HeatmapGridSeriesIntensityValues,id as HeatmapScrollingGridSeries,nd as HeatmapScrollingGridSeriesIntensityValues,yr as HighlightModes,le as Highlighter,qe as Icon,Qt as ImageFill,_t as ImageFitMode,Wr as IndividualPointFill,Dr as LUT,lf as Legend,cf as LegendEntryClickBehaviors,rh as LegendOrientation,nh as LegendPosition,Jf as LineAndPointSeries3D,Kf as LineSeries3D,U as LinearGradientFill,ft as LinearGradientFillPalette,_l as MapChart,pl as MapRegions,hl as MapRegionsAfrica,fl as MapRegionsAsia,cl as MapRegionsAustralia,ll as MapRegionsCanada,vl as MapRegionsEurope,Al as MapRegionsNorthAmerica,bl as MapRegionsSouthAmerica,yl as MapRegionsUSA,dl as MapRegionsWorld,ml as MapTypes,Oc as MeshModel3D,vo as MouseStyles,Wh as NumericTickStrategy,cd as OHLCSeries,yd as OHLCSeriesBars,vd as OHLCSeriesCandlesticks,Ad as OHLCSeriesTypes,zo as OSMPosition,wd as OnScreenMenu,Do as OnScreenMenuAnimationsButton,To as OnScreenMenuButton,Ae as OnScreenMenuButtonShape,ye as OnScreenMenuButtonType,co as OnScreenMenuControlBase,Eo as OnScreenMenuCustomButton,Po as OnScreenMenuOsmToggleButton,ko as OnScreenMenuToggleButton,_o as OnScreenMenuZoomInButton,Oo as OnScreenMenuZoomInXButton,Fo as OnScreenMenuZoomInYButton,Io as OnScreenMenuZoomOutButton,jo as OnScreenMenuZoomOutXButton,Bo as OnScreenMenuZoomOutYButton,Lo as OnScreenMenuZoomToFitButton,Hr as PalettedFill,yf as Panel,wp as ParallelCoordinateAxis,Fp as ParallelCoordinateChart,Cp as ParallelCoordinateSeries,Oe as PhongShadingStyle,Da as Picture,Zp as PieChart,$p as PieChartTypes,qp as PieChartWithLabelsInsideSlices,Kp as PieChartWithLabelsOnSides,tA as PieSlice,ze as PixelatedPoints3D,oc as PointCloudSeries3D,_d as PointLineAreaSeries,tc as PointLineSeries3D,ec as PointSeries3D,sc as PointSeriesTypes3D,ve as PointShape,Ve as PointStyle3D,tv as PolarAreaSeries,ev as PolarAreaSeriesInterior,jl as PolarAxis,El as PolarAxisAmplitude,Bl as PolarAxisTick,ky as PolarChart,vy as PolarHeatmapSeries,av as PolarLineSeries,uy as PolarPointLineSeries,cy as PolarPointSeries,zl as PolarPolygon,ql as PolarPolygonSeries,xy as PolarSector,Gl as PolarSeries,kv as PolygonFigure,_v as PolygonSeries,cA as PyramidChart,pA as PyramidChartTypes,bA as PyramidChartWithLabelsInsideSlices,AA as PyramidChartWithLabelsOnSides,aA as PyramidLabelSide,rA as PyramidSlice,Ky as PyramidSliceModes,R as RadialGradientFill,ht as RadialGradientFillPalette,sd as RangeSeries,Iv as RectangleFigure,jv as RectangleSeries,Lv as SegmentFigure,Ev as SegmentSeries,Vl as Series2D,Cf as Series3D,dv as SeriesXY,Te as SimpleShadingStyle,Iy as Slice,Py as SliceLabelFormatters,Zd as SliceLabelIndices,Ey as SliceSorters,Ur as SolidFill,ut as SolidFillPalette,Ue as SolidLine,mA as SpiderAxis,DA as SpiderChart,wA as SpiderSeries,uA as SpiderWebMode,He as StipplePatterns,yc as SurfaceGridSeries3D,pc as SurfaceScrollingGridSeries3D,Vv as TextFigure,he as TextObjectIdentifier,Rv as TextSeries,Ab as Themes,th as Tick,hh as TickStyle,xh as TimeFormattingFunctions,wh as TimeTickStrategy,ap as TreeMapChart,Ee as TriangulatedPoints3D,Fc as UIBackgrounds,eu as UICircle,Au as UIColumnGrid,ou as UIDiamond,Zt as UIDirections,Ht as UIDraggingModes,Zu as UIElementBuilders,du as UIElementColumn,lu as UIElementLine,vu as UIElementRow,js as UIElementWithBackground,Zs as UIEmptyBackground,iu as UILabel,$A as UILayoutBuilders,cu as UILayoutGap,Dp as UILegendPanel,Fs as UIObject,No as UIOrigins,bf as UIPanel,au as UIPoint,su as UIPointer,Ea as UIPolygon,ru as UIRectangle,bu as UIRowGrid,Wt as UISpace,Xt as UIVisibilityModes,Gr as VisibleFill,oy as ZoomBandChart,at as _translatePoint,vt as contoursFromLUT,eh as defaultAxisIntervalRestrictionsXY,Ho as defaultOsmBackgroundColor,gb as disableTextShadows,mb as disableThemeEffects,Vr as emptyFill,qt as emptyLine,Le as emptyPoints3D,ch as emptyTick,Er as formatLUTValue,Ol as formatLongitudeLatitude,kr as formatNumberAsUnicodeSuperscript,fo as htmlTextRenderer,kt as interpolateColor,Tt as isArtificialLCJSEvent,S as isColor,gc as isCoordinate3D,Eb as isCoordinateBarChart,Kr as isCoordinateClient,my as isCoordinatePolar,$r as isCoordinateXY,Qe as isDashedLine,Rr as isEmptyFill,lh as isEmptyTick,P as isFontSettings,no as isGlowEffect,xt as isHitBox,mt as isHitBox3D,St as isHitEllipse,dt as isHitHeatmap,pt as isHitMeshModel,At as isHitOHLC,bt as isHitPolarHeatmap,wt as isHitPolygon,gt as isHitRectangle,Ct as isHitSampleXY,Mt as isHitSegment,yt as isHitSurface,$e as isIcon,Jt as isImageFill,Xr as isIndividualPointFill,Lr as isLUT,Y as isLinearGradientFill,Zr as isPalettedFill,Fe as isPhongShadingStyle,Ne as isPixelatedPoints3D,G as isRadialGradientFill,ey as isSeriesSupportedByZoomBandChart,ke as isSimpleShadingStyle,Yr as isSolidFill,Ye as isSolidLine,fh as isTickStyle,Pe as isTriangulatedPoints3D,PC as lightningChart,Go as onScreenMenuControlBaseHeight,Uo as onScreenMenuControlBaseWidth,Yo as onScreenMenuControlOpacity,Xo as onScreenMenuDefaultButtonShape,Wo as onScreenMenuSpriteURL,lt as regularColorSteps,Xh as saveToFile,xb as scaleTheme,ct as synchronizeAxisIntervals,Vo as transparentFill,Ro as transparentLine,D as uint32ColorFromObject,B as uint32ColorFromRGBA,Vp as useCursorDataPointColor,Np as useCursorFormatterSeriesOverride,Fn as vec3Utils,oh as xDimensionStrategy,sh as yDimensionStrategy};
