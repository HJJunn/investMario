/* LightningChart JS v8.1.1 */
var lcjs=function(t){"use strict";var i,n=(i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},i(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=function(){function t(){this.o=!0}return t.prototype.u=function(){return this.o},t}(),e=function(t){function i(i,n){var r=t.call(this)||this;return r.S=i,r.M=i,r.o=n,r}return n(i,t),i.prototype.C=function(t){return t!==this.S&&(this.M=this.S,this.S=t,this.o=!0),this},i.prototype.T=function(){return this.S},i.prototype.u=function(){return t.prototype.u.call(this)},i}(r),o=function(t,i){return{x:t,y:i}},s=function(t,i){return{x:t,y:i}},u=function(t,i,n){return{position:t,high:i,low:n}},a=function(t,i,n){return{x:t,y:i,z:n}},h=function(t){var i=Array(0),n=Array(0);return t.length>0&&t.forEach((function(t){i.push(o(t.position,t.high)),n.push(o(t.position,t.low))})),[i,n]},f=function(t,i){return{min:t,max:i}},c=function(t,i,n,r){return{x:t,y:i,width:n,height:r}},l=function(t,i){return void 0===i&&(i=!0),new e(t,i)},v=function(t,i,n,r){return void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=0),{left:t,top:i,right:n,bottom:r}},d=v,y=function(t,i){return{left:void 0!==i.left?i.left:t.left,top:void 0!==i.top?i.top:t.top,right:void 0!==i.right?i.right:t.right,bottom:void 0!==i.bottom?i.bottom:t.bottom}},A="delete",b=32,p=31,m={};function g(t){t&&(t.value=!0)}function x(){}function S(t){return void 0===t.size&&(t.size=t._(M)),t.size}function w(t,i){if("number"!=typeof i){var n=i>>>0;if(""+n!==i||4294967295===n)return NaN;i=n}return i<0?S(t)+i:i}function M(){return!0}function C(t,i,n){return(0===t&&!O(t)||void 0!==n&&t<=-n)&&(void 0===i||void 0!==n&&i>=n)}function T(t,i){return _(t,i,0)}function k(t,i){return _(t,i,i)}function _(t,i,n){return void 0===t?n:O(t)?i===1/0?i:0|Math.max(0,i+t):void 0===i||i===t?t:0|Math.min(i,t)}function O(t){return t<0||0===t&&1/t==-1/0}var F="@@__IMMUTABLE_ITERABLE__@@";function I(t){return Boolean(t&&t[F])}var j="@@__IMMUTABLE_KEYED__@@";function B(t){return Boolean(t&&t[j])}var D="@@__IMMUTABLE_INDEXED__@@";function L(t){return Boolean(t&&t[D])}function E(t){return B(t)||L(t)}var P=function(t){return I(t)?t:st(t)},z=function(t){function i(t){return B(t)?t:ut(t)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i}(P),N=function(t){function i(t){return L(t)?t:at(t)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i}(P),V=function(t){function i(t){return I(t)&&!E(t)?t:ht(t)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i}(P);P.Keyed=z,P.Indexed=N,P.Set=V;var R="@@__IMMUTABLE_SEQ__@@";function G(t){return Boolean(t&&t[R])}var U="@@__IMMUTABLE_RECORD__@@";function Y(t){return Boolean(t&&t[U])}function W(t){return I(t)||Y(t)}var X="@@__IMMUTABLE_ORDERED__@@";function H(t){return Boolean(t&&t[X])}var Z="function"==typeof Symbol&&Symbol.iterator,J="@@iterator",Q=Z||J,K=function(t){this.next=t};function q(t,i,n,r){var e=0===t?i:1===t?n:[i,n];return r?r.value=e:r={value:e,done:!1},r}function $(){return{value:void 0,done:!0}}function tt(t){return!!Array.isArray(t)||!!rt(t)}function it(t){return t&&"function"==typeof t.next}function nt(t){var i=rt(t);return i&&i.call(t)}function rt(t){var i=t&&(Z&&t[Z]||t[J]);if("function"==typeof i)return i}K.prototype.toString=function(){return"[Iterator]"},K.KEYS=0,K.VALUES=1,K.ENTRIES=2,K.prototype.inspect=K.prototype.toSource=function(){return this.toString()},K.prototype[Q]=function(){return this};var et=Object.prototype.hasOwnProperty;function ot(t){return!(!Array.isArray(t)&&"string"!=typeof t)||t&&"object"==typeof t&&Number.isInteger(t.length)&&t.length>=0&&(0===t.length?1===Object.keys(t).length:t.hasOwnProperty(t.length-1))}var st=function(t){function i(t){return null==t?dt():W(t)?t.toSeq():function(t){var i,n,r=bt(t);if(r)return(n=rt(i=t))&&n===i.entries?r.fromEntrySeq():function(t){var i=rt(t);return i&&i===t.keys}(t)?r.toSetSeq():r;if("object"==typeof t)return new ct(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}(t)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.toSeq=function(){return this},i.prototype.toString=function(){return this.O("Seq {","}")},i.prototype.cacheResult=function(){return!this.F&&this.I&&(this.F=this.entrySeq().toArray(),this.size=this.F.length),this},i.prototype._=function(t,i){var n=this.F;if(n){for(var r=n.length,e=0;e!==r;){var o=n[i?r-++e:e++];if(!1===t(o[1],o[0],this))break}return e}return this.I(t,i)},i.prototype.j=function(t,i){var n=this.F;if(n){var r=n.length,e=0;return new K((function(){if(e===r)return{value:void 0,done:!0};var o=n[i?r-++e:e++];return q(t,o[0],o[1])}))}return this.D(t,i)},i}(P),ut=function(t){function i(t){return null==t?dt().toKeyedSeq():I(t)?B(t)?t.toSeq():t.fromEntrySeq():Y(t)?t.toSeq():yt(t)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.toKeyedSeq=function(){return this},i}(st),at=function(t){function i(t){return null==t?dt():I(t)?B(t)?t.entrySeq():t.toIndexedSeq():Y(t)?t.toSeq().entrySeq():At(t)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.of=function(){return i(arguments)},i.prototype.toIndexedSeq=function(){return this},i.prototype.toString=function(){return this.O("Seq [","]")},i}(st),ht=function(t){function i(t){return(I(t)&&!E(t)?t:at(t)).toSetSeq()}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.of=function(){return i(arguments)},i.prototype.toSetSeq=function(){return this},i}(st);st.isSeq=G,st.Keyed=ut,st.Set=ht,st.Indexed=at,st.prototype[R]=!0;var ft=function(t){function i(t){this.L=t,this.size=t.length}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.get=function(t,i){return this.has(t)?this.L[w(this,t)]:i},i.prototype._=function(t,i){for(var n=this.L,r=n.length,e=0;e!==r;){var o=i?r-++e:e++;if(!1===t(n[o],o,this))break}return e},i.prototype.j=function(t,i){var n=this.L,r=n.length,e=0;return new K((function(){if(e===r)return{value:void 0,done:!0};var o=i?r-++e:e++;return q(t,o,n[o])}))},i}(at),ct=function(t){function i(t){var i=Object.keys(t);this.P=t,this.N=i,this.size=i.length}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.get=function(t,i){return void 0===i||this.has(t)?this.P[t]:i},i.prototype.has=function(t){return et.call(this.P,t)},i.prototype._=function(t,i){for(var n=this.P,r=this.N,e=r.length,o=0;o!==e;){var s=r[i?e-++o:o++];if(!1===t(n[s],s,this))break}return o},i.prototype.j=function(t,i){var n=this.P,r=this.N,e=r.length,o=0;return new K((function(){if(o===e)return{value:void 0,done:!0};var s=r[i?e-++o:o++];return q(t,s,n[s])}))},i}(ut);ct.prototype[X]=!0;var lt,vt=function(t){function i(t){this.V=t,this.size=t.length||t.size}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.I=function(t,i){if(i)return this.cacheResult()._(t,i);var n=nt(this.V),r=0;if(it(n))for(var e;!(e=n.next()).done&&!1!==t(e.value,r++,this););return r},i.prototype.D=function(t,i){if(i)return this.cacheResult().j(t,i);var n=nt(this.V);if(!it(n))return new K($);var r=0;return new K((function(){var i=n.next();return i.done?i:q(t,r++,i.value)}))},i}(at);function dt(){return lt||(lt=new ft([]))}function yt(t){var i=bt(t);if(i)return i.fromEntrySeq();if("object"==typeof t)return new ct(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function At(t){var i=bt(t);if(i)return i;throw new TypeError("Expected Array or collection object of values: "+t)}function bt(t){return ot(t)?new ft(t):tt(t)?new vt(t):void 0}var pt="@@__IMMUTABLE_MAP__@@";function mt(t){return Boolean(t&&t[pt])}function gt(t){return mt(t)&&H(t)}function xt(t){return Boolean(t&&"function"==typeof t.equals&&"function"==typeof t.hashCode)}function St(t,i){if(t===i||t!=t&&i!=i)return!0;if(!t||!i)return!1;if("function"==typeof t.valueOf&&"function"==typeof i.valueOf){if((t=t.valueOf())===(i=i.valueOf())||t!=t&&i!=i)return!0;if(!t||!i)return!1}return!!(xt(t)&&xt(i)&&t.equals(i))}var wt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,i){var n=65535&(t|=0),r=65535&(i|=0);return n*r+((t>>>16)*r+n*(i>>>16)<<16>>>0)|0};function Mt(t){return t>>>1&1073741824|3221225471&t}var Ct=Object.prototype.valueOf;function Tt(t){if(null==t)return kt(t);if("function"==typeof t.hashCode)return Mt(t.hashCode(t));var i,n,r,e=(i=t).valueOf!==Ct&&"function"==typeof i.valueOf?i.valueOf(i):i;if(null==e)return kt(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return function(t){if(t!=t||t===1/0)return 0;var i=0|t;for(i!==t&&(i^=4294967295*t);t>4294967295;)i^=t/=4294967295;return Mt(i)}(e);case"string":return e.length>Pt?(void 0===(r=Vt[n=e])&&(r=_t(n),Nt===zt&&(Nt=0,Vt={}),Nt++,Vt[n]=r),r):_t(e);case"object":case"function":return function(t){var i;if(Bt&&void 0!==(i=jt.get(t)))return i;if(void 0!==(i=t[Et]))return i;if(!Ft){if(void 0!==(i=t.propertyIsEnumerable&&t.propertyIsEnumerable[Et]))return i;if(void 0!==(i=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return i}if(i=It(),Bt)jt.set(t,i);else{if(void 0!==Ot&&!1===Ot(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Ft)Object.defineProperty(t,Et,{enumerable:!1,configurable:!1,writable:!1,value:i});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Et]=i;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Et]=i}}return i}(e);case"symbol":return function(t){var i=Dt[t];return void 0!==i||(i=It(),Dt[t]=i),i}(e);default:if("function"==typeof e.toString)return _t(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function kt(t){return null===t?1108378658:1108378659}function _t(t){for(var i=0,n=0;n<t.length;n++)i=31*i+t.charCodeAt(n)|0;return Mt(i)}var Ot=Object.isExtensible,Ft=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function It(){var t=++Lt;return 1073741824&Lt&&(Lt=0),t}var jt,Bt="function"==typeof WeakMap;Bt&&(jt=new WeakMap);var Dt=Object.create(null),Lt=0,Et="__immutablehash__";"function"==typeof Symbol&&(Et=Symbol(Et));var Pt=16,zt=255,Nt=0,Vt={},Rt=function(t){function i(t,i){this.R=t,this.G=i,this.size=t.size}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.get=function(t,i){return this.R.get(t,i)},i.prototype.has=function(t){return this.R.has(t)},i.prototype.valueSeq=function(){return this.R.valueSeq()},i.prototype.reverse=function(){var t=this,i=Ht(this,!0);return this.G||(i.valueSeq=function(){return t.R.toSeq().reverse()}),i},i.prototype.map=function(t,i){var n=this,r=Xt(this,t,i);return this.G||(r.valueSeq=function(){return n.R.toSeq().map(t,i)}),r},i.prototype._=function(t,i){var n=this;return this.R._((function(i,r){return t(i,r,n)}),i)},i.prototype.j=function(t,i){return this.R.j(t,i)},i}(ut);Rt.prototype[X]=!0;var Gt=function(t){function i(t){this.R=t,this.size=t.size}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.includes=function(t){return this.R.includes(t)},i.prototype._=function(t,i){var n=this,r=0;return i&&S(this),this.R._((function(e){return t(e,i?n.size-++r:r++,n)}),i)},i.prototype.j=function(t,i){var n=this,r=this.R.j(1,i),e=0;return i&&S(this),new K((function(){var o=r.next();return o.done?o:q(t,i?n.size-++e:e++,o.value,o)}))},i}(at),Ut=function(t){function i(t){this.R=t,this.size=t.size}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.has=function(t){return this.R.includes(t)},i.prototype._=function(t,i){var n=this;return this.R._((function(i){return t(i,i,n)}),i)},i.prototype.j=function(t,i){var n=this.R.j(1,i);return new K((function(){var i=n.next();return i.done?i:q(t,i.value,i.value,i)}))},i}(ht),Yt=function(t){function i(t){this.R=t,this.size=t.size}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.entrySeq=function(){return this.R.toSeq()},i.prototype._=function(t,i){var n=this;return this.R._((function(i){if(i){ri(i);var r=I(i);return t(r?i.get(1):i[1],r?i.get(0):i[0],n)}}),i)},i.prototype.j=function(t,i){var n=this.R.j(1,i);return new K((function(){for(;;){var i=n.next();if(i.done)return i;var r=i.value;if(r){ri(r);var e=I(r);return q(t,e?r.get(0):r[0],e?r.get(1):r[1],i)}}}))},i}(ut);function Wt(t){var i=oi(t);return i.R=t,i.size=t.size,i.flip=function(){return t},i.reverse=function(){var i=t.reverse.apply(this);return i.flip=function(){return t.reverse()},i},i.has=function(i){return t.includes(i)},i.includes=function(i){return t.has(i)},i.cacheResult=si,i.I=function(i,n){var r=this;return t._((function(t,n){return!1!==i(n,t,r)}),n)},i.D=function(i,n){if(2===i){var r=t.j(i,n);return new K((function(){var t=r.next();if(!t.done){var i=t.value[0];t.value[0]=t.value[1],t.value[1]=i}return t}))}return t.j(1===i?0:1,n)},i}function Xt(t,i,n){var r=oi(t);return r.size=t.size,r.has=function(i){return t.has(i)},r.get=function(r,e){var o=t.get(r,m);return o===m?e:i.call(n,o,r,t)},r.I=function(r,e){var o=this;return t._((function(t,e,s){return!1!==r(i.call(n,t,e,s),e,o)}),e)},r.D=function(r,e){var o=t.j(2,e);return new K((function(){var e=o.next();if(e.done)return e;var s=e.value,u=s[0];return q(r,u,i.call(n,s[1],u,t),e)}))},r}function Ht(t,i){var n=this,r=oi(t);return r.R=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var i=Wt(t);return i.reverse=function(){return t.flip()},i}),r.get=function(n,r){return t.get(i?n:-1-n,r)},r.has=function(n){return t.has(i?n:-1-n)},r.includes=function(i){return t.includes(i)},r.cacheResult=si,r._=function(n,r){var e=this,o=0;return r&&S(t),t._((function(t,s){return n(t,i?s:r?e.size-++o:o++,e)}),!r)},r.j=function(r,e){var o=0;e&&S(t);var s=t.j(2,!e);return new K((function(){var t=s.next();if(t.done)return t;var u=t.value;return q(r,i?u[0]:e?n.size-++o:o++,u[1],t)}))},r}function Zt(t,i,n,r){var e=oi(t);return r&&(e.has=function(r){var e=t.get(r,m);return e!==m&&!!i.call(n,e,r,t)},e.get=function(r,e){var o=t.get(r,m);return o!==m&&i.call(n,o,r,t)?o:e}),e.I=function(e,o){var s=this,u=0;return t._((function(t,o,a){if(i.call(n,t,o,a))return u++,e(t,r?o:u-1,s)}),o),u},e.D=function(e,o){var s=t.j(2,o),u=0;return new K((function(){for(;;){var o=s.next();if(o.done)return o;var a=o.value,h=a[0],f=a[1];if(i.call(n,f,h,t))return q(e,r?h:u++,f,o)}}))},e}function Jt(t,i,n,r){var e=t.size;if(C(i,n,e))return t;var o=T(i,e),s=k(n,e);if(o!=o||s!=s)return Jt(t.toSeq().cacheResult(),i,n,r);var u,a=s-o;a==a&&(u=a<0?0:a);var h=oi(t);return h.size=0===u?u:t.size&&u||void 0,!r&&G(t)&&u>=0&&(h.get=function(i,n){return(i=w(this,i))>=0&&i<u?t.get(i+o,n):n}),h.I=function(i,n){var e=this;if(0===u)return 0;if(n)return this.cacheResult()._(i,n);var s=0,a=!0,h=0;return t._((function(t,n){if(!a||!(a=s++<o))return h++,!1!==i(t,r?n:h-1,e)&&h!==u})),h},h.D=function(i,n){if(0!==u&&n)return this.cacheResult().j(i,n);if(0===u)return new K($);var e=t.j(i,n),s=0,a=0;return new K((function(){for(;s++<o;)e.next();if(++a>u)return{value:void 0,done:!0};var t=e.next();return r||1===i||t.done?t:q(i,a-1,0===i?void 0:t.value[1],t)}))},h}function Qt(t,i,n,r){var e=oi(t);return e.I=function(e,o){var s=this;if(o)return this.cacheResult()._(e,o);var u=!0,a=0;return t._((function(t,o,h){if(!u||!(u=i.call(n,t,o,h)))return a++,e(t,r?o:a-1,s)})),a},e.D=function(e,o){var s=this;if(o)return this.cacheResult().j(e,o);var u=t.j(2,o),a=!0,h=0;return new K((function(){var t,o,f;do{if((t=u.next()).done)return r||1===e?t:q(e,h++,0===e?void 0:t.value[1],t);var c=t.value;o=c[0],f=c[1],a&&(a=i.call(n,f,o,s))}while(a);return 2===e?t:q(e,o,f,t)}))},e}function Kt(t,i,n){var r=oi(t);return r.I=function(e,o){if(o)return this.cacheResult()._(e,o);var s=0,u=!1;return function t(a,h){a._((function(o,a){return(!i||h<i)&&I(o)?t(o,h+1):(s++,!1===e(o,n?a:s-1,r)&&(u=!0)),!u}),o)}(t,0),s},r.D=function(r,e){if(e)return this.cacheResult().j(r,e);var o=t.j(r,e),s=[],u=0;return new K((function(){for(;o;){var t=o.next();if(!1===t.done){var a=t.value;if(2===r&&(a=a[1]),i&&!(s.length<i)||!I(a))return n?t:q(r,u++,a,t);s.push(o),o=a.j(r,e)}else o=s.pop()}return{value:void 0,done:!0}}))},r}function qt(t,i,n){i||(i=ui);var r=B(t),e=0,o=t.toSeq().map((function(i,r){return[r,i,e++,n?n(i,r,t):i]})).valueSeq().toArray();return o.sort((function(t,n){return i(t[3],n[3])||t[2]-n[2]})).forEach(r?function(t,i){o[i].length=2}:function(t,i){o[i]=t[1]}),r?ut(o):L(t)?at(o):ht(o)}function $t(t,i,n){if(i||(i=ui),n){var r=t.toSeq().map((function(i,r){return[i,n(i,r,t)]})).reduce((function(t,n){return ti(i,t[1],n[1])?n:t}));return r&&r[0]}return t.reduce((function(t,n){return ti(i,t,n)?n:t}))}function ti(t,i,n){var r=t(n,i);return 0===r&&n!==i&&(null==n||n!=n)||r>0}function ii(t,i,n,r){var e=oi(t),o=new ft(n).map((function(t){return t.size}));return e.size=r?o.max():o.min(),e._=function(t,i){for(var n,r=this.j(1,i),e=0;!(n=r.next()).done&&!1!==t(n.value,e++,this););return e},e.D=function(t,e){var o=n.map((function(t){return t=P(t),nt(e?t.reverse():t)})),s=0,u=!1;return new K((function(){var n;return u||(n=o.map((function(t){return t.next()})),u=r?n.every((function(t){return t.done})):n.some((function(t){return t.done}))),u?{value:void 0,done:!0}:q(t,s++,i.apply(null,n.map((function(t){return t.value}))))}))},e}function ni(t,i){return t===i?t:G(t)?i:t.constructor(i)}function ri(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function ei(t){return B(t)?z:L(t)?N:V}function oi(t){return Object.create((B(t)?ut:L(t)?at:ht).prototype)}function si(){return this.R.cacheResult?(this.R.cacheResult(),this.size=this.R.size,this):st.prototype.cacheResult.call(this)}function ui(t,i){return void 0===t&&void 0===i?0:void 0===t?1:void 0===i?-1:t>i?1:t<i?-1:0}function ai(t,i){i=i||0;for(var n=Math.max(0,t.length-i),r=new Array(n),e=0;e<n;e++)r[e]=t[e+i];return r}function hi(t,i){if(!t)throw new Error(i)}function fi(t){hi(t!==1/0,"Cannot perform this action with an infinite size.")}function ci(t){if(ot(t)&&"string"!=typeof t)return t;if(H(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}Gt.prototype.cacheResult=Rt.prototype.cacheResult=Ut.prototype.cacheResult=Yt.prototype.cacheResult=si;var li=Object.prototype.toString;function vi(t){return"object"==typeof t&&(W(t)||Array.isArray(t)||function(t){if(!t||"object"!=typeof t||"[object Object]"!==li.call(t))return!1;var i=Object.getPrototypeOf(t);if(null===i)return!0;for(var n=i,r=Object.getPrototypeOf(i);null!==r;)n=r,r=Object.getPrototypeOf(n);return n===i}(t))}function di(t){try{return"string"==typeof t?JSON.stringify(t):String(t)}catch(i){return JSON.stringify(t)}}function yi(t,i,n){return W(t)?t.get(i,n):function(t,i){return W(t)?t.has(i):vi(t)&&et.call(t,i)}(t,i)?"function"==typeof t.get?t.get(i):t[i]:n}function Ai(t){if(Array.isArray(t))return ai(t);var i={};for(var n in t)et.call(t,n)&&(i[n]=t[n]);return i}function bi(t,i,n,r){r||(r=n,n=void 0);var e=pi(W(t),t,ci(i),0,n,r);return e===m?n:e}function pi(t,i,n,r,e,o){var s=i===m;if(r===n.length){var u=s?e:i,a=o(u);return a===u?i:a}if(!s&&!vi(i))throw new TypeError("Cannot update within non-data-structure value in path ["+n.slice(0,r).map(di)+"]: "+i);var h=n[r],f=s?m:yi(i,h,m),c=pi(f===m?t:W(f),f,n,r+1,e,o);return c===f?i:c===m?function(t,i){if(!vi(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(W(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(i)}if(!et.call(t,i))return t;var n=Ai(t);return Array.isArray(n)?n.splice(i,1):delete n[i],n}(i,h):function(t,i,n){if(!vi(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(W(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(i,n)}if(et.call(t,i)&&n===t[i])return t;var r=Ai(t);return r[i]=n,r}(s?t?Ji():{}:i,h,c)}function mi(t,i){return function(t,i,n){return bi(t,i,m,(function(){return n}))}(this,t,i)}function gi(t){return function(t,i){return bi(t,i,(function(){return m}))}(this,t)}function xi(t,i,n,r){return bi(t,[i],n,r)}function Si(t,i,n){return 1===arguments.length?t(this):xi(this,t,i,n)}function wi(t,i,n){return bi(this,t,i,n)}function Mi(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return Ti(this,t)}function Ci(t){for(var i=[],n=arguments.length-1;n-- >0;)i[n]=arguments[n+1];if("function"!=typeof t)throw new TypeError("Invalid merger function: "+t);return Ti(this,i,t)}function Ti(t,i,n){for(var r=[],e=0;e<i.length;e++){var o=z(i[e]);0!==o.size&&r.push(o)}return 0===r.length?t:0!==t.toSeq().size||t.U||1!==r.length?t.withMutations((function(t){for(var i=n?function(i,r){xi(t,r,m,(function(t){return t===m?i:n(t,i,r)}))}:function(i,n){t.set(n,i)},e=0;e<r.length;e++)r[e].forEach(i)})):t.constructor(r[0])}function ki(t,i,n){return _i(t,i,function(t){return function i(n,r,e){return vi(n)&&vi(r)&&(o=r,s=st(n),u=st(o),L(s)===L(u)&&B(s)===B(u))?_i(n,[r],i):t?t(n,r,e):r;var o,s,u}}(n))}function _i(t,i,n){if(!vi(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(W(t))return"function"==typeof n&&t.mergeWith?t.mergeWith.apply(t,[n].concat(i)):t.merge?t.merge.apply(t,i):t.concat.apply(t,i);for(var r=Array.isArray(t),e=t,o=r?N:z,s=r?function(i){e===t&&(e=Ai(e)),e.push(i)}:function(i,r){var o=et.call(e,r),s=o&&n?n(e[r],i,r):i;o&&s===e[r]||(e===t&&(e=Ai(e)),e[r]=s)},u=0;u<i.length;u++)o(i[u]).forEach(s);return e}function Oi(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return ki(this,t)}function Fi(t){for(var i=[],n=arguments.length-1;n-- >0;)i[n]=arguments[n+1];return ki(this,i,t)}function Ii(t){for(var i=[],n=arguments.length-1;n-- >0;)i[n]=arguments[n+1];return bi(this,t,Ji(),(function(t){return _i(t,i)}))}function ji(t){for(var i=[],n=arguments.length-1;n-- >0;)i[n]=arguments[n+1];return bi(this,t,Ji(),(function(t){return ki(t,i)}))}function Bi(t){var i=this.asMutable();return t(i),i.wasAltered()?i.Y(this.U):this}function Di(){return this.U?this:this.Y(new x)}function Li(){return this.Y()}function Ei(){return this.W}var Pi=function(t){function i(i){return null==i?Ji():mt(i)&&!H(i)?i:Ji().withMutations((function(n){var r=t(i);fi(r.size),r.forEach((function(t,i){return n.set(i,t)}))}))}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.of=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return Ji().withMutations((function(i){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);i.set(t[n],t[n+1])}}))},i.prototype.toString=function(){return this.O("Map {","}")},i.prototype.get=function(t,i){return this.X?this.X.get(0,void 0,t,i):i},i.prototype.set=function(t,i){return Qi(this,t,i)},i.prototype.remove=function(t){return Qi(this,t,m)},i.prototype.deleteAll=function(t){var i=P(t);return 0===i.size?this:this.withMutations((function(t){i.forEach((function(i){return t.remove(i)}))}))},i.prototype.clear=function(){return 0===this.size?this:this.U?(this.size=0,this.X=null,this.H=void 0,this.W=!0,this):Ji()},i.prototype.sort=function(t){return Sn(qt(this,t))},i.prototype.sortBy=function(t,i){return Sn(qt(this,i,t))},i.prototype.map=function(t,i){var n=this;return this.withMutations((function(r){r.forEach((function(e,o){r.set(o,t.call(i,e,o,n))}))}))},i.prototype.j=function(t,i){return new Wi(this,t,i)},i.prototype._=function(t,i){var n=this,r=0;return this.X&&this.X.iterate((function(i){return r++,t(i[1],i[0],n)}),i),r},i.prototype.Y=function(t){return t===this.U?this:t?Zi(this.size,this.X,t,this.H):0===this.size?Ji():(this.U=t,this.W=!1,this)},i}(z);Pi.isMap=mt;var zi=Pi.prototype;zi[pt]=!0,zi[A]=zi.remove,zi.removeAll=zi.deleteAll,zi.setIn=mi,zi.removeIn=zi.deleteIn=gi,zi.update=Si,zi.updateIn=wi,zi.merge=zi.concat=Mi,zi.mergeWith=Ci,zi.mergeDeep=Oi,zi.mergeDeepWith=Fi,zi.mergeIn=Ii,zi.mergeDeepIn=ji,zi.withMutations=Bi,zi.wasAltered=Ei,zi.asImmutable=Li,zi["@@transducer/init"]=zi.asMutable=Di,zi["@@transducer/step"]=function(t,i){return t.set(i[0],i[1])},zi["@@transducer/result"]=function(t){return t.asImmutable()};var Ni=function(t,i){this.ownerID=t,this.entries=i};Ni.prototype.get=function(t,i,n,r){for(var e=this.entries,o=0,s=e.length;o<s;o++)if(St(n,e[o][0]))return e[o][1];return r},Ni.prototype.update=function(t,i,n,r,e,o,s){for(var u=e===m,a=this.entries,h=0,f=a.length;h<f&&!St(r,a[h][0]);h++);var c=h<f;if(c?a[h][1]===e:u)return this;if(g(s),(u||!c)&&g(o),!u||1!==a.length){if(!c&&!u&&a.length>=rn)return function(t,i,n,r){t||(t=new x);for(var e=new Ui(t,Tt(n),[n,r]),o=0;o<i.length;o++){var s=i[o];e=e.update(t,0,void 0,s[0],s[1])}return e}(t,a,r,e);var l=t&&t===this.ownerID,v=l?a:ai(a);return c?u?h===f-1?v.pop():v[h]=v.pop():v[h]=[r,e]:v.push([r,e]),l?(this.entries=v,this):new Ni(t,v)}};var Vi=function(t,i,n){this.ownerID=t,this.bitmap=i,this.nodes=n};Vi.prototype.get=function(t,i,n,r){void 0===i&&(i=Tt(n));var e=1<<((0===t?i:i>>>t)&p),o=this.bitmap;return o&e?this.nodes[tn(o&e-1)].get(t+5,i,n,r):r},Vi.prototype.update=function(t,i,n,r,e,o,s){void 0===n&&(n=Tt(r));var u=(0===i?n:n>>>i)&p,a=1<<u,h=this.bitmap,f=!!(h&a);if(!f&&e===m)return this;var c=tn(h&a-1),l=this.nodes,v=f?l[c]:void 0,d=Ki(v,t,i+5,n,r,e,o,s);if(d===v)return this;if(!f&&d&&l.length>=en)return function(t,i,n,r,e){for(var o=0,s=new Array(b),u=0;0!==n;u++,n>>>=1)s[u]=1&n?i[o++]:void 0;return s[r]=e,new Ri(t,o+1,s)}(t,l,h,u,d);if(f&&!d&&2===l.length&&qi(l[1^c]))return l[1^c];if(f&&d&&1===l.length&&qi(d))return d;var y=t&&t===this.ownerID,A=f?d?h:h^a:h|a,g=f?d?nn(l,c,d,y):function(t,i,n){var r=t.length-1;if(n&&i===r)return t.pop(),t;for(var e=new Array(r),o=0,s=0;s<r;s++)s===i&&(o=1),e[s]=t[s+o];return e}(l,c,y):function(t,i,n,r){var e=t.length+1;if(r&&i+1===e)return t[i]=n,t;for(var o=new Array(e),s=0,u=0;u<e;u++)u===i?(o[u]=n,s=-1):o[u]=t[u+s];return o}(l,c,d,y);return y?(this.bitmap=A,this.nodes=g,this):new Vi(t,A,g)};var Ri=function(t,i,n){this.ownerID=t,this.count=i,this.nodes=n};Ri.prototype.get=function(t,i,n,r){void 0===i&&(i=Tt(n));var e=(0===t?i:i>>>t)&p,o=this.nodes[e];return o?o.get(t+5,i,n,r):r},Ri.prototype.update=function(t,i,n,r,e,o,s){void 0===n&&(n=Tt(r));var u=(0===i?n:n>>>i)&p,a=e===m,h=this.nodes,f=h[u];if(a&&!f)return this;var c=Ki(f,t,i+5,n,r,e,o,s);if(c===f)return this;var l=this.count;if(f){if(!c&&--l<on)return function(t,i,n,r){for(var e=0,o=0,s=new Array(n),u=0,a=1,h=i.length;u<h;u++,a<<=1){var f=i[u];void 0!==f&&u!==r&&(e|=a,s[o++]=f)}return new Vi(t,e,s)}(t,h,l,u)}else l++;var v=t&&t===this.ownerID,d=nn(h,u,c,v);return v?(this.count=l,this.nodes=d,this):new Ri(t,l,d)};var Gi=function(t,i,n){this.ownerID=t,this.keyHash=i,this.entries=n};Gi.prototype.get=function(t,i,n,r){for(var e=this.entries,o=0,s=e.length;o<s;o++)if(St(n,e[o][0]))return e[o][1];return r},Gi.prototype.update=function(t,i,n,r,e,o,s){void 0===n&&(n=Tt(r));var u=e===m;if(n!==this.keyHash)return u?this:(g(s),g(o),$i(this,t,i,n,[r,e]));for(var a=this.entries,h=0,f=a.length;h<f&&!St(r,a[h][0]);h++);var c=h<f;if(c?a[h][1]===e:u)return this;if(g(s),(u||!c)&&g(o),u&&2===f)return new Ui(t,this.keyHash,a[1^h]);var l=t&&t===this.ownerID,v=l?a:ai(a);return c?u?h===f-1?v.pop():v[h]=v.pop():v[h]=[r,e]:v.push([r,e]),l?(this.entries=v,this):new Gi(t,this.keyHash,v)};var Ui=function(t,i,n){this.ownerID=t,this.keyHash=i,this.entry=n};Ui.prototype.get=function(t,i,n,r){return St(n,this.entry[0])?this.entry[1]:r},Ui.prototype.update=function(t,i,n,r,e,o,s){var u=e===m,a=St(r,this.entry[0]);return(a?e===this.entry[1]:u)?this:(g(s),u?void g(o):a?t&&t===this.ownerID?(this.entry[1]=e,this):new Ui(t,this.keyHash,[r,e]):(g(o),$i(this,t,i,Tt(r),[r,e])))},Ni.prototype.iterate=Gi.prototype.iterate=function(t,i){for(var n=this.entries,r=0,e=n.length-1;r<=e;r++)if(!1===t(n[i?e-r:r]))return!1},Vi.prototype.iterate=Ri.prototype.iterate=function(t,i){for(var n=this.nodes,r=0,e=n.length-1;r<=e;r++){var o=n[i?e-r:r];if(o&&!1===o.iterate(t,i))return!1}},Ui.prototype.iterate=function(t,i){return t(this.entry)};var Yi,Wi=function(t){function i(t,i,n){this.Z=i,this.J=n,this.K=t.X&&Hi(t.X)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.next=function(){for(var t=this.Z,i=this.K;i;){var n=i.node,r=i.index++,e=void 0;if(n.entry){if(0===r)return Xi(t,n.entry)}else if(n.entries){if(r<=(e=n.entries.length-1))return Xi(t,n.entries[this.J?e-r:r])}else if(r<=(e=n.nodes.length-1)){var o=n.nodes[this.J?e-r:r];if(o){if(o.entry)return Xi(t,o.entry);i=this.K=Hi(o,i)}continue}i=this.K=this.K.q}return{value:void 0,done:!0}},i}(K);function Xi(t,i){return q(t,i[0],i[1])}function Hi(t,i){return{node:t,index:0,q:i}}function Zi(t,i,n,r){var e=Object.create(zi);return e.size=t,e.X=i,e.U=n,e.H=r,e.W=!1,e}function Ji(){return Yi||(Yi=Zi(0))}function Qi(t,i,n){var r,e;if(t.X){var o={value:!1},s={value:!1};if(r=Ki(t.X,t.U,0,void 0,i,n,o,s),!s.value)return t;e=t.size+(o.value?n===m?-1:1:0)}else{if(n===m)return t;e=1,r=new Ni(t.U,[[i,n]])}return t.U?(t.size=e,t.X=r,t.H=void 0,t.W=!0,t):r?Zi(e,r):Ji()}function Ki(t,i,n,r,e,o,s,u){return t?t.update(i,n,r,e,o,s,u):o===m?t:(g(u),g(s),new Ui(i,r,[e,o]))}function qi(t){return t.constructor===Ui||t.constructor===Gi}function $i(t,i,n,r,e){if(t.keyHash===r)return new Gi(i,r,[t.entry,e]);var o,s=(0===n?t.keyHash:t.keyHash>>>n)&p,u=(0===n?r:r>>>n)&p,a=s===u?[$i(t,i,n+5,r,e)]:(o=new Ui(i,r,e),s<u?[t,o]:[o,t]);return new Vi(i,1<<s|1<<u,a)}function tn(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,127&(t+=t>>8)+(t>>16)}function nn(t,i,n,r){var e=r?t:ai(t);return e[i]=n,e}var rn=8,en=16,on=8,sn="@@__IMMUTABLE_LIST__@@";function un(t){return Boolean(t&&t[sn])}var an=function(t){function i(i){var n=yn();if(null==i)return n;if(un(i))return i;var r=t(i),e=r.size;return 0===e?n:(fi(e),e>0&&e<b?dn(0,e,5,null,new fn(r.toArray())):n.withMutations((function(t){t.setSize(e),r.forEach((function(i,n){return t.set(n,i)}))})))}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.of=function(){return this(arguments)},i.prototype.toString=function(){return this.O("List [","]")},i.prototype.get=function(t,i){if((t=w(this,t))>=0&&t<this.size){var n=pn(this,t+=this.$);return n&&n.array[t&p]}return i},i.prototype.set=function(t,i){return function(t,i,n){if((i=w(t,i))!=i)return t;if(i>=t.size||i<0)return t.withMutations((function(t){i<0?mn(t,i).set(0,n):mn(t,0,i+1).set(i,n)}));i+=t.$;var r=t.tt,e=t.X,o={value:!1};return i>=gn(t.it)?r=An(r,t.U,0,i,n,o):e=An(e,t.U,t.nt,i,n,o),o.value?t.U?(t.X=e,t.tt=r,t.H=void 0,t.W=!0,t):dn(t.$,t.it,t.nt,e,r):t}(this,t,i)},i.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},i.prototype.insert=function(t,i){return this.splice(t,0,i)},i.prototype.clear=function(){return 0===this.size?this:this.U?(this.size=this.$=this.it=0,this.nt=5,this.X=this.tt=this.H=void 0,this.W=!0,this):yn()},i.prototype.push=function(){var t=arguments,i=this.size;return this.withMutations((function(n){mn(n,0,i+t.length);for(var r=0;r<t.length;r++)n.set(i+r,t[r])}))},i.prototype.pop=function(){return mn(this,0,-1)},i.prototype.unshift=function(){var t=arguments;return this.withMutations((function(i){mn(i,-t.length);for(var n=0;n<t.length;n++)i.set(n,t[n])}))},i.prototype.shift=function(){return mn(this,1)},i.prototype.concat=function(){for(var i=arguments,n=[],r=0;r<arguments.length;r++){var e=i[r],o=t("string"!=typeof e&&tt(e)?e:[e]);0!==o.size&&n.push(o)}return 0===n.length?this:0!==this.size||this.U||1!==n.length?this.withMutations((function(t){n.forEach((function(i){return i.forEach((function(i){return t.push(i)}))}))})):this.constructor(n[0])},i.prototype.setSize=function(t){return mn(this,0,t)},i.prototype.map=function(t,i){var n=this;return this.withMutations((function(r){for(var e=0;e<n.size;e++)r.set(e,t.call(i,r.get(e),e,n))}))},i.prototype.slice=function(t,i){var n=this.size;return C(t,i,n)?this:mn(this,T(t,n),k(i,n))},i.prototype.j=function(t,i){var n=i?this.size:0,r=vn(this,i);return new K((function(){var e=r();return e===ln?{value:void 0,done:!0}:q(t,i?--n:n++,e)}))},i.prototype._=function(t,i){for(var n,r=i?this.size:0,e=vn(this,i);(n=e())!==ln&&!1!==t(n,i?--r:r++,this););return r},i.prototype.Y=function(t){return t===this.U?this:t?dn(this.$,this.it,this.nt,this.X,this.tt,t,this.H):0===this.size?yn():(this.U=t,this.W=!1,this)},i}(N);an.isList=un;var hn=an.prototype;hn[sn]=!0,hn[A]=hn.remove,hn.merge=hn.concat,hn.setIn=mi,hn.deleteIn=hn.removeIn=gi,hn.update=Si,hn.updateIn=wi,hn.mergeIn=Ii,hn.mergeDeepIn=ji,hn.withMutations=Bi,hn.wasAltered=Ei,hn.asImmutable=Li,hn["@@transducer/init"]=hn.asMutable=Di,hn["@@transducer/step"]=function(t,i){return t.push(i)},hn["@@transducer/result"]=function(t){return t.asImmutable()};var fn=function(t,i){this.array=t,this.ownerID=i};fn.prototype.removeBefore=function(t,i,n){if(n===i?1<<i:0===this.array.length)return this;var r=n>>>i&p;if(r>=this.array.length)return new fn([],t);var e,o=0===r;if(i>0){var s=this.array[r];if((e=s&&s.removeBefore(t,i-5,n))===s&&o)return this}if(o&&!e)return this;var u=bn(this,t);if(!o)for(var a=0;a<r;a++)u.array[a]=void 0;return e&&(u.array[r]=e),u},fn.prototype.removeAfter=function(t,i,n){if(n===(i?1<<i:0)||0===this.array.length)return this;var r,e=n-1>>>i&p;if(e>=this.array.length)return this;if(i>0){var o=this.array[e];if((r=o&&o.removeAfter(t,i-5,n))===o&&e===this.array.length-1)return this}var s=bn(this,t);return s.array.splice(e+1),r&&(s.array[e]=r),s};var cn,ln={};function vn(t,i){var n=t.$,r=t.it,e=gn(r),o=t.tt;return function t(s,u,a){return 0===u?function(t,s){var u=s===e?o&&o.array:t&&t.array,a=s>n?0:n-s,h=r-s;return h>b&&(h=b),function(){if(a===h)return ln;var t=i?--h:a++;return u&&u[t]}}(s,a):function(e,o,s){var u,a=e&&e.array,h=s>n?0:n-s>>o,f=1+(r-s>>o);return f>b&&(f=b),function(){for(;;){if(u){var n=u();if(n!==ln)return n;u=null}if(h===f)return ln;var r=i?--f:h++;u=t(a&&a[r],o-5,s+(r<<o))}}}(s,u,a)}(t.X,t.nt,0)}function dn(t,i,n,r,e,o,s){var u=Object.create(hn);return u.size=i-t,u.$=t,u.it=i,u.nt=n,u.X=r,u.tt=e,u.U=o,u.H=s,u.W=!1,u}function yn(){return cn||(cn=dn(0,0,5))}function An(t,i,n,r,e,o){var s,u=r>>>n&p,a=t&&u<t.array.length;if(!a&&void 0===e)return t;if(n>0){var h=t&&t.array[u],f=An(h,i,n-5,r,e,o);return f===h?t:((s=bn(t,i)).array[u]=f,s)}return a&&t.array[u]===e?t:(o&&g(o),s=bn(t,i),void 0===e&&u===s.array.length-1?s.array.pop():s.array[u]=e,s)}function bn(t,i){return i&&t&&i===t.ownerID?t:new fn(t?t.array.slice():[],i)}function pn(t,i){if(i>=gn(t.it))return t.tt;if(i<1<<t.nt+5){for(var n=t.X,r=t.nt;n&&r>0;)n=n.array[i>>>r&p],r-=5;return n}}function mn(t,i,n){void 0!==i&&(i|=0),void 0!==n&&(n|=0);var r=t.U||new x,e=t.$,o=t.it,s=e+i,u=void 0===n?o:n<0?o+n:e+n;if(s===e&&u===o)return t;if(s>=u)return t.clear();for(var a=t.nt,h=t.X,f=0;s+f<0;)h=new fn(h&&h.array.length?[void 0,h]:[],r),f+=1<<(a+=5);f&&(s+=f,e+=f,u+=f,o+=f);for(var c=gn(o),l=gn(u);l>=1<<a+5;)h=new fn(h&&h.array.length?[h]:[],r),a+=5;var v=t.tt,d=l<c?pn(t,u-1):l>c?new fn([],r):v;if(v&&l>c&&s<o&&v.array.length){for(var y=h=bn(h,r),A=a;A>5;A-=5){var b=c>>>A&p;y=y.array[b]=bn(y.array[b],r)}y.array[c>>>5&p]=v}if(u<o&&(d=d&&d.removeAfter(r,0,u)),s>=l)s-=l,u-=l,a=5,h=null,d=d&&d.removeBefore(r,0,s);else if(s>e||l<c){for(f=0;h;){var m=s>>>a&p;if(m!==l>>>a&p)break;m&&(f+=(1<<a)*m),a-=5,h=h.array[m]}h&&s>e&&(h=h.removeBefore(r,a,s-f)),h&&l<c&&(h=h.removeAfter(r,a,l-f)),f&&(s-=f,u-=f)}return t.U?(t.size=u-s,t.$=s,t.it=u,t.nt=a,t.X=h,t.tt=d,t.H=void 0,t.W=!0,t):dn(s,u,a,h,d)}function gn(t){return t<b?0:t-1>>>5<<5}var xn,Sn=function(t){function i(t){return null==t?Mn():gt(t)?t:Mn().withMutations((function(i){var n=z(t);fi(n.size),n.forEach((function(t,n){return i.set(n,t)}))}))}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.of=function(){return this(arguments)},i.prototype.toString=function(){return this.O("OrderedMap {","}")},i.prototype.get=function(t,i){var n=this.rt.get(t);return void 0!==n?this.et.get(n)[1]:i},i.prototype.clear=function(){return 0===this.size?this:this.U?(this.size=0,this.rt.clear(),this.et.clear(),this.W=!0,this):Mn()},i.prototype.set=function(t,i){return Cn(this,t,i)},i.prototype.remove=function(t){return Cn(this,t,m)},i.prototype._=function(t,i){var n=this;return this.et._((function(i){return i&&t(i[1],i[0],n)}),i)},i.prototype.j=function(t,i){return this.et.fromEntrySeq().j(t,i)},i.prototype.Y=function(t){if(t===this.U)return this;var i=this.rt.Y(t),n=this.et.Y(t);return t?wn(i,n,t,this.H):0===this.size?Mn():(this.U=t,this.W=!1,this.rt=i,this.et=n,this)},i}(Pi);function wn(t,i,n,r){var e=Object.create(Sn.prototype);return e.size=t?t.size:0,e.rt=t,e.et=i,e.U=n,e.H=r,e.W=!1,e}function Mn(){return xn||(xn=wn(Ji(),yn()))}function Cn(t,i,n){var r,e,o=t.rt,s=t.et,u=o.get(i),a=void 0!==u;if(n===m){if(!a)return t;s.size>=b&&s.size>=2*o.size?(r=(e=s.filter((function(t,i){return void 0!==t&&u!==i}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.U&&(r.U=e.U=t.U)):(r=o.remove(i),e=u===s.size-1?s.pop():s.set(u,void 0))}else if(a){if(n===s.get(u)[1])return t;r=o,e=s.set(u,[i,n])}else r=o.set(i,s.size),e=s.set(s.size,[i,n]);return t.U?(t.size=r.size,t.rt=r,t.et=e,t.H=void 0,t.W=!0,t):wn(r,e)}Sn.isOrderedMap=gt,Sn.prototype[X]=!0,Sn.prototype[A]=Sn.prototype.remove;var Tn="@@__IMMUTABLE_STACK__@@";function kn(t){return Boolean(t&&t[Tn])}var _n=function(t){function i(t){return null==t?jn():kn(t)?t:jn().pushAll(t)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.of=function(){return this(arguments)},i.prototype.toString=function(){return this.O("Stack [","]")},i.prototype.get=function(t,i){var n=this.ot;for(t=w(this,t);n&&t--;)n=n.next;return n?n.value:i},i.prototype.peek=function(){return this.ot&&this.ot.value},i.prototype.push=function(){var t=arguments;if(0===arguments.length)return this;for(var i=this.size+arguments.length,n=this.ot,r=arguments.length-1;r>=0;r--)n={value:t[r],next:n};return this.U?(this.size=i,this.ot=n,this.H=void 0,this.W=!0,this):In(i,n)},i.prototype.pushAll=function(i){if(0===(i=t(i)).size)return this;if(0===this.size&&kn(i))return i;fi(i.size);var n=this.size,r=this.ot;return i._((function(t){n++,r={value:t,next:r}}),!0),this.U?(this.size=n,this.ot=r,this.H=void 0,this.W=!0,this):In(n,r)},i.prototype.pop=function(){return this.slice(1)},i.prototype.clear=function(){return 0===this.size?this:this.U?(this.size=0,this.ot=void 0,this.H=void 0,this.W=!0,this):jn()},i.prototype.slice=function(i,n){if(C(i,n,this.size))return this;var r=T(i,this.size);if(k(n,this.size)!==this.size)return t.prototype.slice.call(this,i,n);for(var e=this.size-r,o=this.ot;r--;)o=o.next;return this.U?(this.size=e,this.ot=o,this.H=void 0,this.W=!0,this):In(e,o)},i.prototype.Y=function(t){return t===this.U?this:t?In(this.size,this.ot,t,this.H):0===this.size?jn():(this.U=t,this.W=!1,this)},i.prototype._=function(t,i){var n=this;if(i)return new ft(this.toArray())._((function(i,r){return t(i,r,n)}),i);for(var r=0,e=this.ot;e&&!1!==t(e.value,r++,this);)e=e.next;return r},i.prototype.j=function(t,i){if(i)return new ft(this.toArray()).j(t,i);var n=0,r=this.ot;return new K((function(){if(r){var i=r.value;return r=r.next,q(t,n++,i)}return{value:void 0,done:!0}}))},i}(N);_n.isStack=kn;var On,Fn=_n.prototype;function In(t,i,n,r){var e=Object.create(Fn);return e.size=t,e.ot=i,e.U=n,e.H=r,e.W=!1,e}function jn(){return On||(On=In(0))}Fn[Tn]=!0,Fn.shift=Fn.pop,Fn.unshift=Fn.push,Fn.unshiftAll=Fn.pushAll,Fn.withMutations=Bi,Fn.wasAltered=Ei,Fn.asImmutable=Li,Fn["@@transducer/init"]=Fn.asMutable=Di,Fn["@@transducer/step"]=function(t,i){return t.unshift(i)},Fn["@@transducer/result"]=function(t){return t.asImmutable()};var Bn="@@__IMMUTABLE_SET__@@";function Dn(t){return Boolean(t&&t[Bn])}function Ln(t){return Dn(t)&&H(t)}function En(t,i){if(t===i)return!0;if(!I(i)||void 0!==t.size&&void 0!==i.size&&t.size!==i.size||void 0!==t.H&&void 0!==i.H&&t.H!==i.H||B(t)!==B(i)||L(t)!==L(i)||H(t)!==H(i))return!1;if(0===t.size&&0===i.size)return!0;var n=!E(t);if(H(t)){var r=t.entries();return i.every((function(t,i){var e=r.next().value;return e&&St(e[1],t)&&(n||St(e[0],i))}))&&r.next().done}var e=!1;if(void 0===t.size)if(void 0===i.size)"function"==typeof t.cacheResult&&t.cacheResult();else{e=!0;var o=t;t=i,i=o}var s=!0,u=i._((function(i,r){if(n?!t.has(i):e?!St(i,t.get(r,m)):!St(t.get(r,m),i))return s=!1,!1}));return s&&t.size===u}function Pn(t,i){var n=function(n){t.prototype[n]=i[n]};return Object.keys(i).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(i).forEach(n),t}function zn(t){if(!t||"object"!=typeof t)return t;if(!I(t)){if(!vi(t))return t;t=st(t)}if(B(t)){var i={};return t._((function(t,n){i[n]=zn(t)})),i}var n=[];return t._((function(t){n.push(zn(t))})),n}var Nn=function(t){function i(i){return null==i?Yn():Dn(i)&&!H(i)?i:Yn().withMutations((function(n){var r=t(i);fi(r.size),r.forEach((function(t){return n.add(t)}))}))}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.of=function(){return this(arguments)},i.fromKeys=function(t){return this(z(t).keySeq())},i.intersect=function(t){return(t=P(t).toArray()).length?Rn.intersect.apply(i(t.pop()),t):Yn()},i.union=function(t){return(t=P(t).toArray()).length?Rn.union.apply(i(t.pop()),t):Yn()},i.prototype.toString=function(){return this.O("Set {","}")},i.prototype.has=function(t){return this.rt.has(t)},i.prototype.add=function(t){return Gn(this,this.rt.set(t,t))},i.prototype.remove=function(t){return Gn(this,this.rt.remove(t))},i.prototype.clear=function(){return Gn(this,this.rt.clear())},i.prototype.map=function(t,i){var n=this,r=!1,e=Gn(this,this.rt.mapEntries((function(e){var o=e[1],s=t.call(i,o,o,n);return s!==o&&(r=!0),[s,s]}),i));return r?e:this},i.prototype.union=function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];return 0===(i=i.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.U||1!==i.length?this.withMutations((function(n){for(var r=0;r<i.length;r++)t(i[r]).forEach((function(t){return n.add(t)}))})):this.constructor(i[0])},i.prototype.intersect=function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];if(0===i.length)return this;i=i.map((function(i){return t(i)}));var r=[];return this.forEach((function(t){i.every((function(i){return i.includes(t)}))||r.push(t)})),this.withMutations((function(t){r.forEach((function(i){t.remove(i)}))}))},i.prototype.subtract=function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];if(0===i.length)return this;i=i.map((function(i){return t(i)}));var r=[];return this.forEach((function(t){i.some((function(i){return i.includes(t)}))&&r.push(t)})),this.withMutations((function(t){r.forEach((function(i){t.remove(i)}))}))},i.prototype.sort=function(t){return ar(qt(this,t))},i.prototype.sortBy=function(t,i){return ar(qt(this,i,t))},i.prototype.wasAltered=function(){return this.rt.wasAltered()},i.prototype._=function(t,i){var n=this;return this.rt._((function(i){return t(i,i,n)}),i)},i.prototype.j=function(t,i){return this.rt.j(t,i)},i.prototype.Y=function(t){if(t===this.U)return this;var i=this.rt.Y(t);return t?this.st(i,t):0===this.size?this.ut():(this.U=t,this.rt=i,this)},i}(V);Nn.isSet=Dn;var Vn,Rn=Nn.prototype;function Gn(t,i){return t.U?(t.size=i.size,t.rt=i,t):i===t.rt?t:0===i.size?t.ut():t.st(i)}function Un(t,i){var n=Object.create(Rn);return n.size=t?t.size:0,n.rt=t,n.U=i,n}function Yn(){return Vn||(Vn=Un(Ji()))}Rn[Bn]=!0,Rn[A]=Rn.remove,Rn.merge=Rn.concat=Rn.union,Rn.withMutations=Bi,Rn.asImmutable=Li,Rn["@@transducer/init"]=Rn.asMutable=Di,Rn["@@transducer/step"]=function(t,i){return t.add(i)},Rn["@@transducer/result"]=function(t){return t.asImmutable()},Rn.ut=Yn,Rn.st=Un;var Wn,Xn=function(t){function i(t,n,r){if(!(this instanceof i))return new i(t,n,r);if(hi(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===n&&(n=1/0),r=void 0===r?1:Math.abs(r),n<t&&(r=-r),this.ht=t,this.ft=n,this.ct=r,this.size=Math.max(0,Math.ceil((n-t)/r-1)+1),0===this.size){if(Wn)return Wn;Wn=this}}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this.ht+"..."+this.ft+(1!==this.ct?" by "+this.ct:"")+" ]"},i.prototype.get=function(t,i){return this.has(t)?this.ht+w(this,t)*this.ct:i},i.prototype.includes=function(t){var i=(t-this.ht)/this.ct;return i>=0&&i<this.size&&i===Math.floor(i)},i.prototype.slice=function(t,n){return C(t,n,this.size)?this:(t=T(t,this.size),(n=k(n,this.size))<=t?new i(0,0):new i(this.get(t,this.ft),this.get(n,this.ft),this.ct))},i.prototype.indexOf=function(t){var i=t-this.ht;if(i%this.ct==0){var n=i/this.ct;if(n>=0&&n<this.size)return n}return-1},i.prototype.lastIndexOf=function(t){return this.indexOf(t)},i.prototype._=function(t,i){for(var n=this.size,r=this.ct,e=i?this.ht+(n-1)*r:this.ht,o=0;o!==n&&!1!==t(e,i?n-++o:o++,this);)e+=i?-r:r;return o},i.prototype.j=function(t,i){var n=this.size,r=this.ct,e=i?this.ht+(n-1)*r:this.ht,o=0;return new K((function(){if(o===n)return{value:void 0,done:!0};var s=e;return e+=i?-r:r,q(t,i?n-++o:o++,s)}))},i.prototype.equals=function(t){return t instanceof i?this.ht===t.ht&&this.ft===t.ft&&this.ct===t.ct:En(this,t)},i}(at);function Hn(t,i,n){for(var r=ci(i),e=0;e!==r.length;)if((t=yi(t,r[e++],m))===m)return n;return t}function Zn(t,i){return Hn(this,t,i)}function Jn(){fi(this.size);var t={};return this._((function(i,n){t[n]=i})),t}P.isIterable=I,P.isKeyed=B,P.isIndexed=L,P.isAssociative=E,P.isOrdered=H,P.Iterator=K,Pn(P,{toArray:function(){fi(this.size);var t=new Array(this.size||0),i=B(this),n=0;return this._((function(r,e){t[n++]=i?[e,r]:r})),t},toIndexedSeq:function(){return new Gt(this)},toJS:function(){return zn(this)},toKeyedSeq:function(){return new Rt(this,!0)},toMap:function(){return Pi(this.toKeyedSeq())},toObject:Jn,toOrderedMap:function(){return Sn(this.toKeyedSeq())},toOrderedSet:function(){return ar(B(this)?this.valueSeq():this)},toSet:function(){return Nn(B(this)?this.valueSeq():this)},toSetSeq:function(){return new Ut(this)},toSeq:function(){return L(this)?this.toIndexedSeq():B(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return _n(B(this)?this.valueSeq():this)},toList:function(){return an(B(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},O:function(t,i){return 0===this.size?t+i:t+" "+this.toSeq().map(this.vt).join(", ")+" "+i},concat:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return ni(this,function(t,i){var n=B(t),r=[t].concat(i).map((function(t){return I(t)?n&&(t=z(t)):t=n?yt(t):At(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===r.length)return t;if(1===r.length){var e=r[0];if(e===t||n&&B(e)||L(t)&&L(e))return e}var o=new ft(r);return n?o=o.toKeyedSeq():L(t)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=r.reduce((function(t,i){if(void 0!==t){var n=i.size;if(void 0!==n)return t+n}}),0),o}(this,t))},includes:function(t){return this.some((function(i){return St(i,t)}))},entries:function(){return this.j(2)},every:function(t,i){fi(this.size);var n=!0;return this._((function(r,e,o){if(!t.call(i,r,e,o))return n=!1,!1})),n},filter:function(t,i){return ni(this,Zt(this,t,i,!0))},find:function(t,i,n){var r=this.findEntry(t,i);return r?r[1]:n},forEach:function(t,i){return fi(this.size),this._(i?t.bind(i):t)},join:function(t){fi(this.size),t=void 0!==t?""+t:",";var i="",n=!0;return this._((function(r){n?n=!1:i+=t,i+=null!=r?r.toString():""})),i},keys:function(){return this.j(0)},map:function(t,i){return ni(this,Xt(this,t,i))},reduce:function(t,i,n){return tr(this,t,i,n,arguments.length<2,!1)},reduceRight:function(t,i,n){return tr(this,t,i,n,arguments.length<2,!0)},reverse:function(){return ni(this,Ht(this,!0))},slice:function(t,i){return ni(this,Jt(this,t,i,!0))},some:function(t,i){return!this.every(rr(t),i)},sort:function(t){return ni(this,qt(this,t))},values:function(){return this.j(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,i){return S(t?this.toSeq().filter(t,i):this)},countBy:function(t,i){return function(t,i,n){var r=Pi().asMutable();return t._((function(e,o){r.update(i.call(n,e,o,t),0,(function(t){return t+1}))})),r.asImmutable()}(this,t,i)},equals:function(t){return En(this,t)},entrySeq:function(){var t=this;if(t.F)return new ft(t.F);var i=t.toSeq().map(nr).toIndexedSeq();return i.fromEntrySeq=function(){return t.toSeq()},i},filterNot:function(t,i){return this.filter(rr(t),i)},findEntry:function(t,i,n){var r=n;return this._((function(n,e,o){if(t.call(i,n,e,o))return r=[e,n],!1})),r},findKey:function(t,i){var n=this.findEntry(t,i);return n&&n[0]},findLast:function(t,i,n){return this.toKeyedSeq().reverse().find(t,i,n)},findLastEntry:function(t,i,n){return this.toKeyedSeq().reverse().findEntry(t,i,n)},findLastKey:function(t,i){return this.toKeyedSeq().reverse().findKey(t,i)},first:function(t){return this.find(M,null,t)},flatMap:function(t,i){return ni(this,function(t,i,n){var r=ei(t);return t.toSeq().map((function(e,o){return r(i.call(n,e,o,t))})).flatten(!0)}(this,t,i))},flatten:function(t){return ni(this,Kt(this,t,!0))},fromEntrySeq:function(){return new Yt(this)},get:function(t,i){return this.find((function(i,n){return St(n,t)}),void 0,i)},getIn:Zn,groupBy:function(t,i){return function(t,i,n){var r=B(t),e=(H(t)?Sn():Pi()).asMutable();t._((function(o,s){e.update(i.call(n,o,s,t),(function(t){return(t=t||[]).push(r?[s,o]:o),t}))}));var o=ei(t);return e.map((function(i){return ni(t,o(i))})).asImmutable()}(this,t,i)},has:function(t){return this.get(t,m)!==m},hasIn:function(t){return Hn(this,t,m)!==m},isSubset:function(t){return t="function"==typeof t.includes?t:P(t),this.every((function(i){return t.includes(i)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:P(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(i){return St(i,t)}))},keySeq:function(){return this.toSeq().map(ir).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return $t(this,t)},maxBy:function(t,i){return $t(this,i,t)},min:function(t){return $t(this,t?er(t):sr)},minBy:function(t,i){return $t(this,i?er(i):sr,t)},rest:function(){return this.slice(1)},skip:function(t){return 0===t?this:this.slice(Math.max(0,t))},skipLast:function(t){return 0===t?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,i){return ni(this,Qt(this,t,i,!0))},skipUntil:function(t,i){return this.skipWhile(rr(t),i)},sortBy:function(t,i){return ni(this,qt(this,i,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,i){return ni(this,function(t,i,n){var r=oi(t);return r.I=function(r,e){var o=this;if(e)return this.cacheResult()._(r,e);var s=0;return t._((function(t,e,u){return i.call(n,t,e,u)&&++s&&r(t,e,o)})),s},r.D=function(r,e){var o=this;if(e)return this.cacheResult().j(r,e);var s=t.j(2,e),u=!0;return new K((function(){if(!u)return{value:void 0,done:!0};var t=s.next();if(t.done)return t;var e=t.value,a=e[0],h=e[1];return i.call(n,h,a,o)?2===r?t:q(r,a,h,t):(u=!1,{value:void 0,done:!0})}))},r}(this,t,i))},takeUntil:function(t,i){return this.takeWhile(rr(t),i)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.H||(this.H=function(t){if(t.size===1/0)return 0;var i=H(t),n=B(t),r=i?1:0;return function(t,i){return i=wt(i,3432918353),i=wt(i<<15|i>>>-15,461845907),i=wt(i<<13|i>>>-13,5),i=wt((i=i+3864292196^t)^i>>>16,2246822507),i=Mt((i=wt(i^i>>>13,3266489909))^i>>>16)}(t._(n?i?function(t,i){r=31*r+ur(Tt(t),Tt(i))|0}:function(t,i){r=r+ur(Tt(t),Tt(i))|0}:i?function(t){r=31*r+Tt(t)|0}:function(t){r=r+Tt(t)|0}),r)}(this))}});var Qn=P.prototype;Qn[F]=!0,Qn[Q]=Qn.values,Qn.toJSON=Qn.toArray,Qn.vt=di,Qn.inspect=Qn.toSource=function(){return this.toString()},Qn.chain=Qn.flatMap,Qn.contains=Qn.includes,Pn(z,{flip:function(){return ni(this,Wt(this))},mapEntries:function(t,i){var n=this,r=0;return ni(this,this.toSeq().map((function(e,o){return t.call(i,[o,e],r++,n)})).fromEntrySeq())},mapKeys:function(t,i){var n=this;return ni(this,this.toSeq().flip().map((function(r,e){return t.call(i,r,e,n)})).flip())}});var Kn=z.prototype;Kn[j]=!0,Kn[Q]=Qn.entries,Kn.toJSON=Jn,Kn.vt=function(t,i){return di(i)+": "+di(t)},Pn(N,{toKeyedSeq:function(){return new Rt(this,!1)},filter:function(t,i){return ni(this,Zt(this,t,i,!1))},findIndex:function(t,i){var n=this.findEntry(t,i);return n?n[0]:-1},indexOf:function(t){var i=this.keyOf(t);return void 0===i?-1:i},lastIndexOf:function(t){var i=this.lastKeyOf(t);return void 0===i?-1:i},reverse:function(){return ni(this,Ht(this,!1))},slice:function(t,i){return ni(this,Jt(this,t,i,!1))},splice:function(t,i){var n=arguments.length;if(i=Math.max(i||0,0),0===n||2===n&&!i)return this;t=T(t,t<0?this.count():this.size);var r=this.slice(0,t);return ni(this,1===n?r:r.concat(ai(arguments,2),this.slice(t+i)))},findLastIndex:function(t,i){var n=this.findLastEntry(t,i);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return ni(this,Kt(this,t,!1))},get:function(t,i){return(t=w(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?i:this.find((function(i,n){return n===t}),void 0,i)},has:function(t){return(t=w(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return ni(this,function(t,i){var n=oi(t);return n.size=t.size&&2*t.size-1,n.I=function(n,r){var e=this,o=0;return t._((function(t){return(!o||!1!==n(i,o++,e))&&!1!==n(t,o++,e)}),r),o},n.D=function(n,r){var e,o=t.j(1,r),s=0;return new K((function(){return(!e||s%2)&&(e=o.next()).done?e:s%2?q(n,s++,i):q(n,s++,e.value,e)}))},n}(this,t))},interleave:function(){var t=[this].concat(ai(arguments)),i=ii(this.toSeq(),at.of,t),n=i.flatten(!0);return i.size&&(n.size=i.size*t.length),ni(this,n)},keySeq:function(){return Xn(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,i){return ni(this,Qt(this,t,i,!1))},zip:function(){return ni(this,ii(this,or,[this].concat(ai(arguments))))},zipAll:function(){return ni(this,ii(this,or,[this].concat(ai(arguments)),!0))},zipWith:function(t){var i=ai(arguments);return i[0]=this,ni(this,ii(this,t,i))}});var qn=N.prototype;qn[D]=!0,qn[X]=!0,Pn(V,{get:function(t,i){return this.has(t)?t:i},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var $n=V.prototype;function tr(t,i,n,r,e,o){return fi(t.size),t._((function(t,o,s){e?(e=!1,n=t):n=i.call(r,n,t,o,s)}),o),n}function ir(t,i){return i}function nr(t,i){return[i,t]}function rr(t){return function(){return!t.apply(this,arguments)}}function er(t){return function(){return-t.apply(this,arguments)}}function or(){return ai(arguments)}function sr(t,i){return t<i?1:t>i?-1:0}function ur(t,i){return t^i+2654435769+(t<<6)+(t>>2)}$n.has=Qn.includes,$n.contains=$n.includes,$n.keys=$n.values,Pn(ut,Kn),Pn(at,qn),Pn(ht,$n);var ar=function(t){function i(t){return null==t?lr():Ln(t)?t:lr().withMutations((function(i){var n=V(t);fi(n.size),n.forEach((function(t){return i.add(t)}))}))}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.of=function(){return this(arguments)},i.fromKeys=function(t){return this(z(t).keySeq())},i.prototype.toString=function(){return this.O("OrderedSet {","}")},i}(Nn);ar.isOrderedSet=Ln;var hr,fr=ar.prototype;function cr(t,i){var n=Object.create(fr);return n.size=t?t.size:0,n.rt=t,n.U=i,n}function lr(){return hr||(hr=cr(Mn()))}fr[X]=!0,fr.zip=qn.zip,fr.zipWith=qn.zipWith,fr.zipAll=qn.zipAll,fr.ut=lr,fr.st=cr;var vr=function(t,i){var n;!function(t){if(Y(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(W(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===t||"object"!=typeof t)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(t);var r=function(o){var s=this;if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var u=Object.keys(t),a=e.dt={};e.yt=i,e.N=u,e.At=t;for(var h=0;h<u.length;h++){var f=u[h];a[f]=h,e[f]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+Ar(this)+' with property "'+f+'" since that property name is part of the Record API.'):pr(e,f)}}return this.U=void 0,this.bt=an().withMutations((function(t){t.setSize(s.N.length),z(o).forEach((function(i,n){t.set(s.dt[n],i===s.At[n]?void 0:i)}))})),this},e=r.prototype=Object.create(dr);return e.constructor=r,i&&(r.displayName=i),r};vr.prototype.toString=function(){for(var t,i=Ar(this)+" { ",n=this.N,r=0,e=n.length;r!==e;r++)i+=(r?", ":"")+(t=n[r])+": "+di(this.get(t));return i+" }"},vr.prototype.equals=function(t){return this===t||t&&br(this).equals(br(t))},vr.prototype.hashCode=function(){return br(this).hashCode()},vr.prototype.has=function(t){return this.dt.hasOwnProperty(t)},vr.prototype.get=function(t,i){if(!this.has(t))return i;var n=this.dt[t],r=this.bt.get(n);return void 0===r?this.At[t]:r},vr.prototype.set=function(t,i){if(this.has(t)){var n=this.bt.set(this.dt[t],i===this.At[t]?void 0:i);if(n!==this.bt&&!this.U)return yr(this,n)}return this},vr.prototype.remove=function(t){return this.set(t)},vr.prototype.clear=function(){var t=this.bt.clear().setSize(this.N.length);return this.U?this:yr(this,t)},vr.prototype.wasAltered=function(){return this.bt.wasAltered()},vr.prototype.toSeq=function(){return br(this)},vr.prototype.toJS=function(){return zn(this)},vr.prototype.entries=function(){return this.j(2)},vr.prototype.j=function(t,i){return br(this).j(t,i)},vr.prototype._=function(t,i){return br(this)._(t,i)},vr.prototype.Y=function(t){if(t===this.U)return this;var i=this.bt.Y(t);return t?yr(this,i,t):(this.U=t,this.bt=i,this)},vr.isRecord=Y,vr.getDescriptiveName=Ar;var dr=vr.prototype;function yr(t,i,n){var r=Object.create(Object.getPrototypeOf(t));return r.bt=i,r.U=n,r}function Ar(t){return t.constructor.displayName||t.constructor.name||"Record"}function br(t){return yt(t.N.map((function(i){return[i,t.get(i)]})))}function pr(t,i){try{Object.defineProperty(t,i,{get:function(){return this.get(i)},set:function(t){hi(this.U,"Cannot set on an immutable record."),this.set(i,t)}})}catch(t){}}dr[U]=!0,dr[A]=dr.remove,dr.deleteIn=dr.removeIn=gi,dr.getIn=Zn,dr.hasIn=Qn.hasIn,dr.merge=Mi,dr.mergeWith=Ci,dr.mergeIn=Ii,dr.mergeDeep=Oi,dr.mergeDeepWith=Fi,dr.mergeDeepIn=ji,dr.setIn=mi,dr.update=Si,dr.updateIn=wi,dr.withMutations=Bi,dr.asMutable=Di,dr.asImmutable=Li,dr[Q]=dr.entries,dr.toJSON=dr.toObject=Qn.toObject,dr.inspect=dr.toSource=function(){return this.toString()};var mr,gr,xr=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sr=function(t){function i(i){return t.call(this,i)||this}return xr(i,t),i.prototype.toUint32=function(){return void 0!==this.xt||(this.xt=Ir(this.getR(),this.getG(),this.getB(),this.getA())),this.xt},i.prototype.toString=function(){return"color:".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a)},i.prototype.setA=function(t){return this.set("a",t/255)},i.prototype.setR=function(t){return this.set("r",t/255)},i.prototype.setG=function(t){return this.set("g",t/255)},i.prototype.setB=function(t){return this.set("b",t/255)},i.prototype.getA=function(){return 255*this.get("a")},i.prototype.getR=function(){return 255*this.get("r")},i.prototype.getG=function(){return 255*this.get("g")},i.prototype.getB=function(){return 255*this.get("b")},i.prototype.getHighlight=function(){return this.St||(this.St=new i({r:this.r+.45*(1-this.r),g:this.g+.45*(1-this.g),b:this.b+.45*(1-this.b),a:this.a<1?this.a+.45*(1-this.a):1})),this.St},i.prototype.getLighter=function(){return this.wt||(this.wt=new i({r:this.r+.4*(1-this.r),g:this.g+.4*(1-this.g),b:this.b+.4*(1-this.b),a:this.a})),this.wt},i.prototype.getDarker=function(){return this.Mt||(this.Mt=new i({r:this.r-.4*(1-this.r),g:this.g-.4*(1-this.g),b:this.b-.4*(1-this.b),a:this.a})),this.Mt},i.prototype.toRGBAString=function(){return"rgba(".concat((255*this.r).toFixed(0),",").concat((255*this.g).toFixed(0),",").concat((255*this.b).toFixed(0),",").concat(this.a,")")},i}(vr({type:"color",r:1,g:1,b:1,a:1})),wr=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"color"!==t.type)},Mr=function(t,i,n,r){return void 0===r&&(r=255),new Sr({r:t/255,g:i/255,b:n/255,a:r/255})},Cr=function(t){var i=t.startsWith("#")?t.substring(1):t.startsWith("0x")?t.substr(2):t;switch(i.length){case 8:return new Sr({r:Number("0x".concat(i.substring(0,2)))/255,g:Number("0x".concat(i.substring(2,4)))/255,b:Number("0x".concat(i.substring(4,6)))/255,a:Number("0x".concat(i.substring(6,8)))/255});case 6:return new Sr({r:Number("0x".concat(i.substring(0,2)))/255,g:Number("0x".concat(i.substring(2,4)))/255,b:Number("0x".concat(i.substring(4,6)))/255});case 4:return new Sr({r:Number("0x".concat(i.charAt(0)).concat(i.charAt(0)))/255,g:Number("0x".concat(i.charAt(1)).concat(i.charAt(1)))/255,b:Number("0x".concat(i.charAt(2)).concat(i.charAt(2)))/255,a:Number("0x".concat(i.charAt(3)).concat(i.charAt(3)))/255});case 3:return new Sr({r:Number("0x".concat(i.charAt(0)).concat(i.charAt(0)))/255,g:Number("0x".concat(i.charAt(1)).concat(i.charAt(1)))/255,b:Number("0x".concat(i.charAt(2)).concat(i.charAt(2)))/255});default:throw new Error("ColorHEX parsing error | input: ".concat(t))}},Tr=function(t,i,n){var r,e,o;void 0===i&&(i=1),void 0===n&&(n=1),t/=360;var s=Math.floor(6*t),u=6*t-s,a=n*(1-i),h=n*(1-u*i),f=n*(1-(1-u)*i);switch(s%6){case 0:r=n,e=f,o=a;break;case 1:r=h,e=n,o=a;break;case 2:r=a,e=n,o=f;break;case 3:r=a,e=h,o=n;break;case 4:r=f,e=a,o=n;break;default:r=n,e=a,o=h}return new Sr({r:r,g:e,b:o})},kr=function(t){return Mr(255&t,255&(t>>=8),255&(t>>=8),255&(t>>=8))},_r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Or=new Sr({}),Fr=Mr(0,0,0,0),Ir=function(t,i,n,r){return void 0===r&&(r=255),(r<<24|n<<16|i<<8|t)>>>0},jr=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Br=function(t){function i(i){return t.call(this,i)||this}return jr(i,t),i.prototype.setSize=function(t){return this.set("size",t)},i.prototype.setFamily=function(t){return this.set("family",t)},i.prototype.setWeight=function(t){return this.set("weight",t)},i.prototype.setStyle=function(t){return this.set("style",t)},i.prototype.setVariant=function(t){return this.set("variant",t)},i.prototype.getSize=function(){return this.get("size")},i.prototype.getFamily=function(){return this.get("family")},i.prototype.getWeight=function(){return this.get("weight")},i.prototype.getStyle=function(){return this.get("style")},i.prototype.getVariant=function(){return this.get("variant")},i}(vr({type:"font",size:14,family:"Arial",weight:"normal",style:"normal",variant:!1})),Dr=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"font"!==t.type)},Lr=new Br,Er=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();t.GradientShape=void 0,(mr=t.GradientShape||(t.GradientShape={})).circle="circle",mr.ellipse="ellipse",t.GradientExtent=void 0,(gr=t.GradientExtent||(t.GradientExtent={})).closestSide="closest-side",gr.closestCorner="closest-corner",gr.farthestSide="farthest-side",gr.farthestCorner="farthest-corner";var Pr,zr=function(t){function i(i){var n=t.call(this,i)||this;if(null===i||i&&null===i.stops||i&&i.stops&&!Array.isArray(i.stops)||i&&i.stops&&Array.isArray(i.stops)&&i.stops.length<2)throw new Error("RadialGradientFill requires minimum two color stops to be defined.");return n}return Er(i,t),i.prototype.toString=function(){return"radialGradientFill:".concat(this.shape,",").concat(this.ditheringEnabled,",").concat(this.extent,",").concat(this.position.x,",").concat(this.position.y,",").concat(this.stops.map((function(t){return"".concat(t.offset,",").concat(t.color.toString())})).join(","))},i.prototype.toCSS=function(){return"radial-gradient(".concat(this.shape," ").concat(this.extent," at ").concat(100*this.position.x,"% ").concat(100*this.position.y,"%, ").concat(this.stops.map((function(t){return"".concat(t.color.toString()," ").concat(100*t.offset,"%")})).join(", "),")")},i.prototype.setColorStops=function(t){if(t.length<2)throw new Error("Minimum of two color stops required");return this.set("stops",t)},i.prototype.getColorStops=function(){return this.get("stops")},i.prototype.setPosition=function(t){return this.set("position",t)},i.prototype.getPosition=function(){return this.get("position")},i.prototype.setShape=function(t){return this.set("shape",t)},i.prototype.getShape=function(){return this.get("shape")},i.prototype.setExtent=function(t){return this.set("extent",t)},i.prototype.getExtent=function(){return this.get("extent")},i.prototype.setDitheringEnabled=function(t){return this.set("ditheringEnabled",t)},i.prototype.getDitheringEnabled=function(){return this.get("ditheringEnabled")},i}(vr({type:"fillstyle",fillType:"radial-gradient",ditheringEnabled:!0,stops:[{color:Cr("#f00"),offset:0},{color:Cr("#0f0"),offset:1}],position:o(.5,.5),shape:t.GradientShape.ellipse,extent:t.GradientExtent.farthestCorner})),Nr=function(t){return!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"radial-gradient"===t.fillType)},Vr=function(t){function i(i){var n=t.call(this,i)||this;if(null===i||i&&null===i.stops||i&&i.stops&&!Array.isArray(i.stops)||i&&i.stops&&Array.isArray(i.stops)&&i.stops.length<2)throw new Error("LinearGradientFill requires minimum two color stops to be defined.");return n}return Er(i,t),i.prototype.toString=function(){return"linearGradientFill:".concat(this.angle,",").concat(this.stops.map((function(t){return"".concat(t.offset,",").concat(t.color.toString())})).join(","))},i.prototype.toCSS=function(){return"linear-gradient(".concat(this.angle,"deg, ").concat(this.stops.map((function(t){return"".concat(t.color.toString()," ").concat(100*t.offset,"%")})).join(", "),")")},i.prototype.setColorStops=function(t){if(t.length<2)throw new Error("Minimum of two color stops required");var i=t.sort((function(t,i){return t.offset-i.offset}));return this.set("stops",i)},i.prototype.getColorStops=function(){return this.get("stops")},i.prototype.setAngle=function(t,i){return this.set("angle",i?function(t){return 180*t/Math.PI}(t):t)},i.prototype.getAngle=function(t){return t?Ks(this.get("angle")):this.get("angle")},i}(vr({type:"fillstyle",fillType:"linear-gradient",stops:[{color:Cr("#f00"),offset:0},{color:Cr("#0f0"),offset:1}],angle:0})),Rr=function(t){return!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"linear-gradient"===t.fillType)},Gr=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ur=function(){return Ur=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Ur.apply(this,arguments)},Yr=function(){function t(t,i,n,r){var e=this;this.Ct=new we,this.cellIndex=t,this.cellSpan=i,this.cellsAmount=n,this.observedAmount=r,this.x=new Wr,this.y=new Wr,this.z=new Wr;var o=Ur({},t),s=Ur({},i);if(r){var u=function(t){var i=t.value;e.cellsAmount.x=i.reduce(Cs,0),e.cellIndex.x=i.reduce((function(t,i,n){return n>=o.x?t:t+i}),0),e.cellSpan.x=i.reduce((function(t,i,n){return n>=o.x&&n<o.x+s.x?t+i:t}),0),e.Ct.Tt("cellresize",{})};r.x.kt("change",u),u({value:r.x.T()});var a=function(t){var i=t.value;e.cellsAmount.y=i.reduce(Cs,0),e.cellIndex.y=i.reduce((function(t,i,n){return n>=o.y?t:t+i}),0),e.cellSpan.y=i.reduce((function(t,i,n){return n>=o.y&&n<o.y+s.y?t+i:t}),0),e.Ct.Tt("cellresize",{})};r.y.kt("change",a),a({value:r.y.T()}),this._t=function(){r.x.Ot("change",u),r.y.Ot("change",a)}}}return t.prototype.Ft=function(){return this._t&&(this._t(),this._t=void 0),this},t.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},t.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},t}(),Wr=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.It=0,i.jt=10,i.Bt=1,i}return Gr(i,t),i.prototype.Dt=function(){return this.o=!1,this},i.prototype.Lt=function(){return this.o=!0,this},i.prototype.getInnerStart=function(){return this.It},i.prototype.getInnerEnd=function(){return this.jt},i.prototype.getInnerInterval=function(){return Math.abs(this.getInnerEnd()-this.getInnerStart())},i.prototype.Et=function(t,i){return this.It=t,this.jt=i,this.Pt(),this},i.prototype.zt=function(t){return this.Bt=t,this.Pt(),this},i.prototype.Nt=function(t){return t/this.Bt},i.prototype.Pt=function(){var t=this.Nt(this.jt-this.It),i=this.Bt;void 0!==this.Vt&&!1!==no(t,this.Vt)||(this.o=!0,this.Rt=i,this.Vt=t)},i.prototype.Gt=function(){return this.Vt},i.prototype.Ut=function(){return this.Rt},i.prototype.Yt=function(){return this.jt<this.It},i.prototype.Wt=function(t,i){return!0},i}(r),Xr=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hr=function(t){function i(i,n,r,e){var o=t.call(this)||this;if(o.Xt=!0,o.Ht=!0,o.Zt=[0,0],o.Jt=!0,o.Qt=i,o.Kt=n,o.qt=r,o.$t=i,o.ti=n,e){var s=function(t){o.ii(t.value)};e.kt("change",s),o.ii(e.T()),o.ni=function(){return e.Ot("change",s)}}return o}return Xr(i,t),i.prototype.zt=function(t){return this.Bt=t,this.Ht=!0,this},i.prototype.ri=function(t){return this.Zt=t.map(Math.abs),this.Jt=!0,this},i.prototype.ei=function(){return this.Qt/this.qt*this.Bt+this.Zt[0]},i.prototype.oi=function(){return(this.Qt+this.Kt)/this.qt*this.Bt-this.Zt[1]},i.prototype.si=function(){return this.getCellSize()-this.ui()},i.prototype.ai=function(){return this.Bt},i.prototype.getCellSize=function(){return this.hi(this.Bt)},i.prototype.ui=function(){return this.Zt[0]+this.Zt[1]},i.prototype.fi=function(){return this.Zt},i.prototype.ii=function(t){var i=this;this.qt=t.reduce(Cs,0),this.Qt=t.reduce((function(t,n,r){return r>=i.$t?t:t+n}),0),this.Kt=t.reduce((function(t,n,r){return r>=i.$t&&r<i.$t+i.ti?t+n:t}),0),this.Xt=!0,this.ci()},i.prototype.hi=function(t){return t*this.Kt/this.qt},i.prototype.Dt=function(){return t.prototype.Dt.call(this),this.Ht=!1,this.Jt=!1,this.Xt=!1,this},i.prototype.Lt=function(){return t.prototype.Lt.call(this),this.Ht=!0,this.Jt=!0,this.Xt=!0,this},i}(function(){function t(){this.li=!0}return t.prototype.getInnerStart=function(){return this.It},t.prototype.getInnerEnd=function(){return this.jt},t.prototype.getInnerInterval=function(){return Math.abs(this.jt-this.It)},t.prototype.Et=function(t,i){return this.li=t!==this.It||i!==this.jt,this.It=t,this.jt=i,this},t.prototype.Dt=function(){return this.li=!1,this},t.prototype.Lt=function(){return this.li=!0,this},t}()),Zr=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jr=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r,e)||this;return o.di=!1,o.yi=!1,o.Ai=0,o.Bt=1e3,o.Et(0,10),o.Pt(),o}return Zr(i,t),i.prototype.bi=function(){return this.yi},i.prototype.Wt=function(t,i,n,r,e){if(t===i)return!1;var o=Math.abs(r-n),s=Math.abs(i-t);if(!this.di){var u=Bo(t,i,this.getCellSize());if(void 0===u)return!1;if(s>u)return!0;var a=(i+t)/2,h=(e?u/2:o/2)*(t>i?-1:1);return{start:a-h,end:a+h}}var f=Math.pow(10,-(12-Math.log10(Math.max(Math.abs(t),1))));if(s>f)return!0;var c=(i+t)/2,l=(e?f/2:o/2)*(t>i?-1:1);return{start:c-l,end:c+l}},i.prototype.ci=function(){this.Pt()},i.prototype.pi=function(t){return this.ei()+(t-this.It)/(this.jt-this.It)*(this.oi()-this.ei())},i.prototype.mi=function(t){return this.It+(t-this.ei())/(this.oi()-this.ei())*(this.jt-this.It)},i.prototype.Et=function(i,n){return t.prototype.Et.call(this,i,n),this.Pt(),this},i.prototype.ri=function(i){return t.prototype.ri.call(this,i),this.Pt(),this},i.prototype.zt=function(i){return t.prototype.zt.call(this,i),this.gi=Qr(this.jt-this.It,this.Zt,this.Bt,this.Kt,this.qt),this.Pt(),this},i.prototype.xi=function(){return this.di=!0,this},i.prototype.Si=function(){return this.di},i.prototype.wi=function(){return Math.abs(this.Mi)},i.prototype.Ci=function(){return this.wi()/this.gi},i.prototype.Ti=function(){return this.ft},i.prototype.ki=function(){return this.ht},i.prototype.getPixelSize=function(){return this.gi},i.prototype._i=function(){return this.Oi},i.prototype.Lt=function(){return t.prototype.Lt.call(this),this.yi=!0,this},i.prototype.Dt=function(){return t.prototype.Dt.call(this),this.yi=!1,this},i.prototype.Fi=function(t,i){return void 0===i&&(i=cu.Numeric),i(t,{start:this.It,end:this.jt})},i.prototype.Ii=function(){var t=Math.abs(this.getInnerEnd()).toString().length,i=Math.abs(this.getInnerStart()).toString().length;return t>i?t:i},i.prototype.ji=function(t){return Qr(t,this.Zt,this.Bt,this.Kt,this.qt)},i.prototype.Pt=function(){var t=this.It,i=this.jt,n=0;this.di&&(t=0,i=this.jt-this.It,n=this.It);var r=i-t,e=Qr(r,this.Zt,this.Bt,this.Kt,this.qt);this.ht=t-this.Zt[0]*e,this.ft=i+this.Zt[1]*e;var o=this.ft-this.ht,s=o-this.Mi,u=Math.abs(s/e),a=r-this.Ai,h=Math.abs(a/e);(!this.Oi||u>=.4||h>=.4)&&(this.Ai=r,this.Mi=o,this.gi=e,this.yi=!0);var f=this.Mi*this.qt/(2*this.Kt),c=-(this.ht-this.Mi*this.Qt/this.Kt)-f,l=2*this.ei()/this.Bt-1,v=2*this.oi()/this.Bt-1-l;this.Oi={displacement:c,scaling:f,highPrecisionOffset:n,viewportStart:l,viewportSize:v,scaleStartLog:0,scaleIntervalLog:0}},i.prototype.Bi=function(t,i){return t+this.gi*i},i}(Hr),Qr=function(t,i,n,r,e){return void 0===r&&(r=1),void 0===e&&(e=1),t/(n*r/e-(i[0]+i[1]))},Kr=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qr=function(){function t(){}return t.prototype.Di=function(t,i){return"x"in t?(this.x=t.x,this.y=t.y):(this.x=t,this.y=i),this},t.prototype.Dt=function(){return this.x.Dt(),this.y.Dt(),this},t.prototype.Lt=function(){return this.x.Lt(),this.y.Lt(),this},t.prototype.zt=function(t,i){return"object"==typeof t?(this.x.zt(t.x),this.y.zt(t.y)):(this.x.zt(t),this.y.zt(i)),this},t.prototype.ai=function(){return o(this.x.ai(),this.y.ai())},t.prototype.Li=function(t){return this.x.ri(t),this},t.prototype.Ei=function(t){return this.y.ri(t),this},t.prototype.ui=function(){return o(this.x.ui(),this.y.ui())},t.prototype.Pi=function(t,i){return this.x.Et(t,i),this},t.prototype.zi=function(t,i){return this.y.Et(t,i),this},t.prototype.getInnerIntervalPixels=function(){var t=this.x.getCellSize(),i=this.y.getCellSize();return{x:t-this.x.ui(),y:i-this.y.ui()}},t.prototype.Ni=function(){return this.x.bi()||this.y.bi()},t}(),$r=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.Vi="LinearScaleXY",i}return Kr(i,t),i.prototype.Ri=function(t,i,n,r){return this.x=new Jr(t.x,i.x,n.x,r?r.x:void 0),this.y=new Jr(t.y,i.y,n.y,r?r.y:void 0),this},i.prototype.Si=function(){return this.x.Si()||this.y.Si()},i.prototype.Gi=function(){return o(this.x.getPixelSize(),this.y.getPixelSize())},i.prototype._i=function(){return{x:this.x._i(),y:this.y._i()}},i.prototype.Bi=function(t,i){var n=this.Gi();return{x:t.x+i.x*n.x,y:t.y+i.y*n.y}},i.prototype.Ui=function(t,i,n,r){var e=this.Gi(),o=Rs(t,i);return o.x*=r,o.y*=r,{x:t.x+n*e.x*o.x,y:t.y+n*e.y*o.y}},i}(qr),te=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.Vi="MixedScaleXY",i}return Kr(i,t),i.prototype.Si=function(){return!1},i.prototype.Bi=function(t,i){var n=this.x.pi(t.x),r=this.y.pi(t.y),e={x:n+i.x,y:r+i.y};return{x:this.x.mi(e.x),y:this.y.mi(e.y)}},i.prototype.Ui=function(t,i,n,r){var e={x:this.x.pi(t.x),y:this.y.pi(t.y)},o={x:this.x.pi(i.x),y:this.y.pi(i.y)},s=Vs(Ws(o,e)),u=Rs(o,e),a={x:e.x+s.x*r+u.x*n,y:e.y+s.y*r+u.y*n};return{x:this.x.mi(a.x),y:this.y.mi(a.y)}},i.prototype._i=function(){var t=this.x._i(),i=this.y._i();return{uScaleStart:[this.x.It,this.y.It],uScaleInterval:[this.x.jt-this.x.It,this.y.jt-this.y.It],uScaleStartLog:[t.scaleStartLog,i.scaleStartLog],uScaleIntervalLog:[t.scaleIntervalLog,i.scaleIntervalLog],uViewportStart:[t.viewportStart,i.viewportStart],uViewportSize:[t.viewportSize,i.viewportSize]}},i}(qr),ie=function(){return ie=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},ie.apply(this,arguments)},ne={d1:function(t){return new t.scale1DConstructor(0,1,1,void 0)},d2:function(t){return(new t.scaleXYConstructor).Ri({x:0,y:0},{x:1,y:1},{x:1,y:1},void 0)},d3:function(){return new Yr({x:0,y:0},{x:1,y:1},{x:1,y:1},void 0)}},re=function(t,i,n){return i===n?t:n.mi(i.pi(t))},ee=function(t,i,n){if(i===n)return t;var r=i instanceof qr?i.x:i.x instanceof qr?i.x.x:i.x.Yi,e=i instanceof qr?i.y:i.y instanceof qr?i.y.y:i.y.Yi,o=n instanceof qr?n.x:n.x instanceof qr?n.x.x:n.x.Yi,s=n instanceof qr?n.y:n.y instanceof qr?n.y.y:n.y.Yi;return ie(ie({},t),{x:re(t.x,r,o),y:re(t.y,e,s)})},oe=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if(0===t.length)return{remove:io};var n=!1,r=t.map((function(i){var r=function(r){!function(i,r,e){n||(n=!0,t.filter((function(t){return t!==i})).forEach((function(t){return t.Wi(r,e,!1,i.getStopped(),"synchronizedAxis")})),n=!1)}(i,r.start,r.end)};return i.addEventListener("intervalchange",r),r})),e=!1,o=t.map((function(i){var n=function(n){!function(i,n){e||(e=!0,t.filter((function(t){return t!==i})).forEach((function(t){return t.setStopped(n)})),e=!1)}(i,n.isStopped)};return i.addEventListener("stoppedchange",n),n}));return{remove:function(){t.forEach((function(t,i){t.removeEventListener("intervalchange",r[i]),t.removeEventListener("stoppedchange",o[i])}))}}},se=function(t){return t&&"object"==typeof t&&"column"in t&&"row"in t},ue=function(t){return t&&"object"==typeof t&&"z"in t&&"column"in t&&"row"in t},ae=function(t){return t&&"object"==typeof t&&"annulus"in t&&"sector"in t},he=function(t){return t&&"object"==typeof t&&"index"in t},fe=function(t){return t&&"object"==typeof t&&"x"in t&&"y"in t},ce=function(t,i,n,r){return n<0?t:n>1?i:Mr(t.getR()+n*(i.getR()-t.getR()),t.getG()+n*(i.getG()-t.getG()),t.getB()+n*(i.getB()-t.getB()),void 0===r?t.getA()+n*(i.getA()-t.getA()):r)};!function(t){t[t.Nearest=0]="Nearest",t[t.NearestX=1]="NearestX",t[t.NearestY=2]="NearestY"}(Pr||(Pr={}));var le,ve=function(t,i,n,r,e,o,s,u,a,h){var f=t.length;if(0!==f){var c=r?1:0,l=f-(e?2:1);if(n===Pr.Nearest)return de(t,i,o,s,c,l);if(n===Pr.NearestX||n===Pr.NearestY){if("boolean"==typeof h&&("x"===a&&n===Pr.NearestX||"y"===a&&n===Pr.NearestY))return be(t,ee(i,s,o),a,h,c,l);if(n===Pr.NearestX)return ye(t,ee(i,s,o),u,c,l);if(n===Pr.NearestY)return Ae(t,ee(i,s,o),u,c,l)}}},de=function(t,i,n,r,e,o){for(var s,u=Number.MAX_VALUE,a=e;a<=o;a+=1){var h=t[a];if(!Number.isNaN(h.x)&&!Number.isNaN(h.y)){var f=ee(h,n,r),c=Math.pow(f.x-i.x,2)+Math.pow(f.y-i.y,2);c<u&&(u=c,s=a)}}return s},ye=function(t,i,n,r,e){if(!(i.x<n.min.x||i.x>n.max.x)){for(var o,s=Number.MAX_VALUE,u=r;u<=e;u+=1){var a=t[u],h=a.x>i.x?a.x-i.x:i.x-a.x;h<s&&!Number.isNaN(a.x)&&!Number.isNaN(a.y)&&(s=h,o=u)}return o}},Ae=function(t,i,n,r,e){if(!(i.y<n.min.y||i.y>n.max.y)){for(var o,s=Number.MAX_VALUE,u=r;u<=e;u+=1){var a=t[u],h=a.y>i.y?a.y-i.y:i.y-a.y;h<s&&!Number.isNaN(a.x)&&!Number.isNaN(a.y)&&(s=h,o=u)}return o}},be=function(t,i,n,r,e,o){var s="x"===n,u=s?i.x:i.y,a=t[e],h=t[o],f=a.x<h.x?a.x:h.x,c=a.y<h.y?a.y:h.y,l=a.x>h.x?a.x:h.x,v=a.y>h.y?a.y:h.y;if(!(s&&(u<f||u>l)||!s&&(u<c||u>v)))for(var d=e,y=Math.floor((e+o)/2),A=o,b=-1;;){var p=u-(s?t[y].x:t[y].y);if(p*(r?-1:1)>0)d=Math.min(y+1,A),b=Math.floor((d+A)/2);else{if(0===Math.abs(p))return y;A=Math.max(y-1,d),b=Math.floor((d+A)/2)}if(b===y){var m=y>e?Math.abs(u-(s?t[y-1].x:t[y-1].y)):As,g=y<o?Math.abs(u-(s?t[y+1].x:t[y+1].y)):As,x=Math.abs(p);switch(Math.min(x,m,g)){case m:return y-1;case g:return y+1;default:return y}}else y=b}},pe=function(t,i,n,r,e,o){var s="x"===n,u=s?i.x:i.y,a=t[e],h=t[o],f=a.x<h.x?a.x:h.x,c=a.y<h.y?a.y:h.y,l=a.x>h.x?a.x:h.x,v=a.y>h.y?a.y:h.y;if(!(s&&(u<f||u>l)||!s&&(u<c||u>v)))for(var d=e,y=Math.floor((e+o)/2),A=o,b=-1;;){var p=u-(s?t[y].x:t[y].y);if(p*(r?-1:1)>0)d=Math.min(y+1,A),b=Math.floor((d+A)/2);else{if(0===Math.abs(p))return{a:y,b:y,lerpAmount:0};A=Math.max(y-1,d),b=Math.floor((d+A)/2)}if(b===y){if(p*(r?-1:1)<0&&y>e){var m=t[y-1],g=t[y];return{a:y-1,b:y,lerpAmount:s?(i.x-m.x)/(g.x-m.x):(i.y-m.y)/(g.y-m.y)}}return y<o?(m=t[y],g=t[y+1],{a:y,b:y+1,lerpAmount:s?(i.x-m.x)/(g.x-m.x):(i.y-m.y)/(g.y-m.y)}):{a:y,b:y,lerpAmount:0}}y=b}},me=0,ge=function(){function t(t,i,n){this.Xi=l(!0),this.Hi=!1,this.Zi=!0,this.Ji=!1,this.Qi=void 0,this.Ki=0,this.Ct=new we,this.qi=t,this.$i=i,this.tn=n,this.nn=me,me+=1,this.rn=t.en.highlightColorOffset}return t.prototype.sn=function(){var t;return this.un("DataPattern",(function(i){return t=i.pattern,!0})),"ProgressiveX"===t||"RegressiveX"===t?Pr.NearestX:"ProgressiveY"===t||"RegressiveY"===t?Pr.NearestY:Pr.Nearest},t.prototype.an=function(){},t.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},t.prototype.Tt=function(t,i,n,r){this.Ct.Tt(t,i,{collectionMember:n,info:r})},t.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},t.prototype.hn=function(t){return void 0!==this.tn.find((function(i){return i.type===t}))},t.prototype.un=function(t,i){var n;return!!this.hn(t)&&!0===i(null===(n=this.tn.find((function(i){return i.type===t})))||void 0===n?void 0:n.args)},t.prototype.dispose=function(){return this.Hi||(this.qi.fn(this),this.Hi=!0,this.$i(this),this.Ct.Tt("dispose",{})),this},t.prototype.isDisposed=function(){return this.Hi},t.prototype.setVisible=function(t){var i=this.Zi;return this.Zi=t,!t&&i&&this.Xi.T()&&this.qi.fn(this),this},t.prototype.getVisible=function(){return this.Zi},t.prototype.setPointerEvents=function(t){var i=this.Xi.T();return this.Xi.C(t),t||i&&this.qi.fn(this),this},t.prototype.getPointerEvents=function(){return this.Xi.T()},t.prototype.cn=function(t){return this.Qi=t,this},t.prototype.ln=function(){return this.Qi?this.Qi:xe},t.prototype.vn=function(t){return this.Ki=t,this},t.prototype.dn=function(){return this.Ki},t.prototype.yn=function(t){return this.rn=t,this},t.prototype.An=function(){return this.rn},t}(),xe=f(o(0,0),o(0,0)),Se={click:!0,contextmenu:!0,dblclick:!0,gotpointercapture:!0,lostpointercapture:!0,pointercancel:!0,pointerdown:!0,pointerenter:!0,pointerleave:!0,pointermove:!0,pointerout:!0,pointerover:!0,pointerup:!0,touchcancel:!0,touchend:!0,touchmove:!0,touchstart:!0,wheel:!0,drag:!0,dragend:!0,dragenter:!0,dragleave:!0,dragover:!0,dragstart:!0,drop:!0},we=function(){function t(){this.bn=new Array,this.pn=[],this.Xi=!0,this.mn=!1,this.gn=new Map}return t.prototype.setPointerEvents=function(t){this.Xi=t,this.pn.forEach((function(i){return i.setPointerEvents(t)}))},t.prototype.getPointerEvents=function(){return this.Xi},t.prototype.addEventListener=function(t,i,n){this.bn.push({listener:i,key:t,options:n||{}})},t.prototype.removeEventListener=function(t,i){var n=this.bn.findIndex((function(t){return t.listener===i}));n>=0&&this.bn.splice(n,1)},Object.defineProperty(t.prototype,"draggable",{get:function(){return this.mn},set:function(t){this.mn=t,this.pn.forEach((function(i){i.Ji=t}))},enumerable:!1,configurable:!0}),t.prototype.Tt=function(t,i,n){void 0===n&&(n=void 0);for(var r=this.bn.slice(),e=r.length-1;e>=0;e-=1){var o=r[e];o.key===t&&(o.listener(i,n),!0===o.options.once&&this.removeEventListener(t,o.listener))}},t.prototype.xn=function(t,i){var n=this,r=[];Object.keys(Se).forEach((function(e){var o=function(t,r){var o=Me(t)?{clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY}:t,s=(null==i?void 0:i.getExtraData)&&void 0!==o.clientX?i.getExtraData(o,r.collectionMember,r.info):{};n.Tt(e,t,s),!t.defaultPrevented&&(null==i?void 0:i.continueIfNotPrevented)&&i.continueIfNotPrevented(e,t,s)};t.addEventListener(e,o),r.push((function(){return t.removeEventListener(e,o)}))})),this.pn.push(t);var e=function(){var i=n.pn.indexOf(t);i>=0&&n.pn.splice(i,1)};t.addEventListener("dispose",e),r.push((function(){return t.removeEventListener("dispose",e)})),this.gn.set(t,(function(){r.forEach((function(t){return t()}))})),t.Ji=this.mn,t.setPointerEvents(this.Xi)},t.prototype.Sn=function(){this.gn.forEach((function(t){return t()})),this.gn.clear(),this.pn.length=0},t.prototype.wn=function(t,i){var n=this,r=[];Object.keys(Se).forEach((function(e){var o=function(t,r){var o=i(r.collectionMember);o&&n.Tt(e,t,o)};t.addEventListener(e,o),r.push((function(){return t.removeEventListener(e,o)}))})),this.pn.push(t);var e=function(){var i=n.pn.indexOf(t);i>=0&&n.pn.splice(i,1)};t.addEventListener("dispose",e),r.push((function(){return t.removeEventListener("dispose",e)})),this.gn.set(t,(function(){r.forEach((function(t){return t()}))})),t.setPointerEvents(this.Xi),t.Ji=this.mn},t.prototype.Mn=function(t){var i=this;Object.keys(Se).forEach((function(n){t.addEventListener(n,(function(t,r){i.Tt(n,t,r)}))})),t.setPointerEvents(this.Xi),t.draggable=this.mn},t}(),Me=function(t){return!(!t||"object"!=typeof t||!("touches"in t))},Ce={linear:function(t,i,n){var r=i-t;return function(e){return e<n?t+r/n*e:i}},easeIn:function(t,i,n){return function(r){return r<n?t+Math.abs(2*Math.pow(Math.sqrt(.5)*r/n,2))*(i-t):i}},easeOut:function(t,i,n){return function(r){return r<n?t+Math.abs(1-2*Math.pow(Math.sqrt(.5)*(1-r/n),2))*(i-t):i}},ease:function(t,i,n){return function(r){return r<n?t+(r<n/2?.5*Math.pow(r/n*2,2.5):.5+.5*(1-Math.pow(1-2*(r/n-.5),2.5)))*(i-t):i}},logarithmic:function(t){var i=Lo(t);return function(n,r,e){var o=i(n),s=i(r);return function(i){return i<e?Math.pow(t,o+Math.abs(1-2*Math.pow(Math.sqrt(.5)*(1-i/e),2))*(s-o)):r}}}},Te=function(){function t(t,i,n,r,e){void 0===r&&(r=Ce.linear);var o=this;this.delta=0,this.nextAnimations=new Array,this.Cn=!1,this.easing=Ce.linear,this.isOver=function(){return(o.delta===o.duration||o.Cn)&&0===o.nextAnimations.length},this.Ct=new we,this.values=t,this.action=i,this.duration=n,this.easing=r,this.Tn=e,this.eases=t.map((function(t){var i=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(t,2),e=i[0],o=i[1];return r(e,o,n)}))}return t.prototype.kn=function(){this.Ct.Tt("start",{})},t.prototype.start=function(){return this.Tn.includes(this)||this.Tn.push(this),this},t.prototype.addNextAnimations=function(t){var i=this;return t instanceof Array?t.forEach((function(t){return i.nextAnimations.push(t)})):this.nextAnimations.push(t),this},t.prototype.NextAnimation=function(i,n,r,e){void 0===r&&(r=this.duration),void 0===e&&(e=this.easing);var o=new t(i,n,r,e,this.Tn);return this.nextAnimations.push(o),o},t.prototype.finish=function(t){if(void 0===t&&(t=!0),this.Cn=!0,this.Tn.splice(this.Tn.indexOf(this),1),this.nextAnimations.length>0){var i=this.nextAnimations[0];return t&&this.Ct.bn.forEach((function(t){"allAnimationEnd"===t.key&&i.addEventListener("allAnimationEnd",t.listener),"everyAnimationEnd"===t.key&&i.addEventListener("everyAnimationEnd",t.listener)})),i.addNextAnimations(this.nextAnimations.slice(1)),i.start(),t&&(this.Ct.Tt("end",{nextAnimation:i}),this.Ct.Tt("everyAnimationEnd",{nextAnimation:i})),i}t&&(this.Ct.Tt("end",{nextAnimation:void 0}),this.Ct.Tt("everyAnimationEnd",{nextAnimation:void 0}),this.Ct.Tt("allAnimationEnd",{}))},t.prototype.finishAll=function(t){void 0===t&&(t=!0);for(var i=this;i;)i=i.finish(t)},t.prototype.getFinalValues=function(){return this.nextAnimations.length>0?this.nextAnimations[this.nextAnimations.length-1].values.map($e):this.values.map($e)},t.prototype.getTimeUntilFinish=function(){for(var t=this.duration-this.delta,i=0;i<this.nextAnimations.length;i+=1)t+=this.nextAnimations[i].duration-this.nextAnimations[i].delta;return t},t.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},t.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},t}(),ke=function(t,i){void 0===i&&(i=60),i>60&&console.log("Note: Animator FPS is usually capped at 60 by the browser!");var n,r,e=[],o=0,s=function(){n=void 0;var u=Date.now();(o=u-(r=r||u))/1e3>=1/i&&(r=Date.now()-o%(1e3/i),e.forEach((function(t){0===t.delta&&t.kn(),t.delta+=o-o%(1e3/i),t.delta>t.duration&&(t.delta=t.duration),t.action(t.eases.map((function(i){return i(t.delta)}))),t.delta===t.duration&&t.finish()})),t()),e.length>0?n=Qe.requestAnimationFrame(s):(n=void 0,r=void 0)};return function(t,i){return void 0===t&&(t=1e3),void 0===i&&(i=Ce.linear),function(r,o,u){void 0===u&&(u=t);var a=new Te(r,o,u,i,e).start();return n||(n=Qe.requestAnimationFrame(s)),a}}},_e=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();t.ImageFitMode=void 0,(le=t.ImageFitMode||(t.ImageFitMode={}))[le.Fill=0]="Fill",le[le.Fit=1]="Fit",le[le.Stretch=2]="Stretch",le[le.Center=3]="Center",le[le.Tile=4]="Tile";var Oe,Fe,Ie,je,Be=function(t){function i(i){return t.call(this,i)||this}return _e(i,t),i.prototype.setSource=function(t){return this.set("source",t)},i.prototype.getSource=function(){return this.get("source")},i.prototype.setSurroundingColor=function(t){return wr(t)?this.set("surroundingColor",t):this.set("surroundingColor",t(this.get("surroundingColor")))},i.prototype.getSurroundingColor=function(){return this.get("surroundingColor")},i.prototype.setSourceMissingColor=function(t){return wr(t)?this.set("sourceMissingColor",t):this.set("sourceMissingColor",t(this.get("sourceMissingColor")))},i.prototype.getSourceMissingColor=function(){return this.get("sourceMissingColor")},i.prototype.setFitMode=function(t){return this.set("fitMode",t)},i.prototype.getFitMode=function(){return this.get("fitMode")},i.prototype.toString=function(){return"imagefill:".concat(this.fitMode)},i.prototype.toCSS=function(){var t=this.getSource();return"url(".concat(t.src,")")},i}(vr({type:"fillstyle",fillType:"image",source:void 0,surroundingColor:Mr(0,0,0,0),sourceMissingColor:Mr(0,0,0,0),fitMode:t.ImageFitMode.Fill})),De=function(t){return!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"image"===t.fillType)},Le=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ee=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.thickness=0,i}return Le(i,t),i.prototype.setThickness=function(t){return this},i.prototype.getThickness=function(){return 0},i.prototype._n=function(){return 0},i.prototype.setFillStyle=function(t){return this},i.prototype.getFillStyle=function(){return Cu},i}(vr({type:"linestyle",lineType:"empty"})),Pe=new Ee,ze=function(t){return!(!t||"object"!=typeof t||!("lineType"in t)||"empty"!==t.lineType)},Ne=-34028234663852886e22,Ve="-340282346638528859811704183484516925440.0";t.UISpace=void 0,(Oe=t.UISpace||(t.UISpace={}))[Oe.Content=0]="Content",Oe[Oe.PaddedContent=1]="PaddedContent",Oe[Oe.PaddedBackground=2]="PaddedBackground",Oe[Oe.Everything=3]="Everything",t.UIVisibilityModes=void 0,(Fe=t.UIVisibilityModes||(t.UIVisibilityModes={}))[Fe.never=0]="never",Fe[Fe.always=1]="always",Fe[Fe.whenHovered=2]="whenHovered",Fe[Fe.whenDragged=3]="whenDragged",Fe[Fe.whenNotDragged=4]="whenNotDragged",Fe[Fe.whenHoveredOrDragged=5]="whenHoveredOrDragged",t.UIDraggingModes=void 0,(Ie=t.UIDraggingModes||(t.UIDraggingModes={}))[Ie.notDraggable=0]="notDraggable",Ie[Ie.draggable=1]="draggable",Ie[Ie.onlyHorizontal=2]="onlyHorizontal",Ie[Ie.onlyVertical=3]="onlyVertical",t.UIDirections=void 0,(je=t.UIDirections||(t.UIDirections={}))[je.Up=0]="Up",je[je.Right=1]="Right",je[je.Down=2]="Down",je[je.Left=3]="Left";var Re,Ge,Ue=function(t){return"getHighlight"in t&&"setHighlight"in t},Ye=function(){return Ye=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Ye.apply(this,arguments)},We=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Xe=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},He=function(t,i,n){return void 0===t||"number"==typeof t?t:Array.isArray(t)?t.slice(i,n):t.subarray(i,n)},Ze=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=function(t){return t&&"object"==typeof t&&!Array.isArray(t)};return t.reduce((function(t,i){return i?(Object.keys(i).forEach((function(r){var e=t[r],o=i[r];n(e)&&n(o)?t[r]=Ze(e,o):t[r]=o})),t):t}),{})},Je=function(t){if(t.resourcesBaseUrl){var i=t.styleFactory(t.resourcesBaseUrl),n=De(i)&&i.getSource(),r=n&&n instanceof Image?n:void 0;return null==r||r.addEventListener("error",(function(){ns(t.resourcesBaseUrl,r.src,"Theme resource",{shouldCrash:!1})})),i}var e="".concat(Qe.location.origin,"/resources"),o=t.styleFactory(e);if(De(o)){var s=o.getSource();s instanceof Image&&s.addEventListener("error",(function(){var i=t.styleFactory("https://lcjs-resources.lightningchart.com/v1"),n=De(i)&&i.getSource(),r=n&&n instanceof Image?n:void 0;Qe.console.warn("LightningChart JS warning | fallbacking to publicly hosted asset resources.\nFor more information, please see https://lightningchart.com/js-charts/docs/troubleshooting/warning-using-publicly-hosted-resources/"),null==r||r.addEventListener("load",(function(){t.apply(i)})),null==r||r.addEventListener("error",(function(){ns(t.resourcesBaseUrl,s.src,"Theme resource",{shouldCrash:!1})}))}))}return o},Qe="undefined"!=typeof window?window:"undefined"!=typeof global&&global._lcjs?global._lcjs:{},Ke=function(t,i){return t.x===i.x&&t.y===i.y},qe=function(t){return t!==As&&t!==bs&&!Number.isNaN(t)&&Number.isFinite(t)&&t!==1/0&&t!==-1/0},$e=function(t){return t[1]},to=function(t){return t.dispose()},io=function(){},no=function(t,i){return t===i},ro=function(t,i,n){return n>i?Math.min(Math.max(t,i),n):Math.min(Math.max(t,n),i)},eo=function(t){return Array.prototype.concat.apply([],t)},oo=function(t,i){return void 0===t||Number.isNaN(t)?i:t},so=function(t){return t.On()},uo=function(t){return t.Fn()},ao=function(t){return t.In()},ho=function(t){return t.jn()},fo=function(t){return t.min.x},co=function(t){return t.max.x},lo=function(t){return t.min.y},vo=function(t){return t.max.y},yo=function(t,i,n,r,e){if(t.length>0){for(var o=e?r(e):void 0,s=0;s<t.length;s+=1){var u=i(t[s]);void 0!==u&&(o=void 0!==o?n(o,u):u)}return o}if(e)return r(e)},Ao=o(0,1),bo=o(1,0),po=o(0,-1),mo=o(-1,0),go=o(0,0),xo=function(i){switch(i){case t.UIDirections.Up:return Ao;case t.UIDirections.Right:return bo;case t.UIDirections.Down:return po;case t.UIDirections.Left:return mo;default:return go}},So=function(i){return i===t.UIDirections.Left||i===t.UIDirections.Right},wo=function(t){t.stopPropagation(),t.preventDefault()},Mo=function(t,i){if(!i)return t;for(var n=t.length,r=new Float32Array(2*n),e=0,o=0;o<n;o+=1){var s=t[o],u=Math.fround(s);r[e+0]=u,r[e+1]=s-u,e+=2}return r},Co=function(t,i,n){if(void 0===n&&(n=Float32Array),!i){for(var r=t.length,e=new n(2*r),o=0,s=0;s<r;s+=1){var u=t[s];e[o+0]=u.x,e[o+1]=u.y,o+=2}return e}var a=t.length,h=new n(4*a),f=0;for(s=0;s<a;s+=1){u=t[s];var c=Math.fround(u.x),l=Math.fround(u.y);h[f+0]=c,h[f+1]=l,h[f+2]=u.x-c,h[f+3]=u.y-l,f+=4}return h},To=function(t){for(var i=t.length,n=new Float32Array(3*i),r=0,e=0;e<i;e+=1){var o=t[e];n[r+0]=o.x,n[r+1]=o.y,n[r+2]=o.z,r+=3}return n},ko=function(t,i,n,r){return t||i||n||r?!t||i||n||r?t||!i||n||r?t||i||!n||r?t||i||n||!r?function(e,o,s){for(var u=3+(t?4:0)+(i?1:0)+(n?1:0)+(r?3:0),a=e.length,h=new Float32Array(a*u),f=0,c=f,l=0;l<a;l+=1){var v=e[l];h[c+0]=v.x,h[c+1]=v.y,h[c+2]=v.z,c+=u}if(f+=3,t){var d=s&&Iu(s)&&s.getFallbackColor()||Or;for(c=f,l=0;l<a;l+=1){var y=(v=e[l]).color||d;h[c+0]=y.r,h[c+1]=y.g,h[c+2]=y.b,h[c+3]=y.a,c+=u}f+=4}if(i){var A=1;for("number"==typeof(p=o&&o.getSize())&&(A=p),c=f,l=0;l<a;l+=1){var b=void 0!==(v=e[l]).size?v.size:A;h[c+0]=b,c+=u}f+=1}if(n){for(c=f,l=0;l<a;l+=1)v=e[l],h[c+0]=void 0!==v.value?v.value:Ne,c+=u;f+=1}if(r){var p;for(A={x:1,y:1,z:1},"object"==typeof(p=o&&o.getSize())&&(A=p),c=f,l=0;l<a;l+=1){var m=void 0!==(v=e[l]).sizeAxisX?v.sizeAxisX:A.x,g=void 0!==v.sizeAxisY?v.sizeAxisY:A.y,x=void 0!==v.sizeAxisZ?v.sizeAxisZ:A.z;h[c+0]=m,h[c+1]=g,h[c+2]=x,c+=u}f+=3}return h}:function(t,i,n){return _o(t,i)}:function(t,i,n){return Io(t)}:function(t,i,n){return Fo(t,i)}:function(t,i,n){return Oo(t,n)}:function(t,i,n){return To(t)}},_o=function(t,i){var n=i&&i.getSize(),r={x:1,y:1,z:1};"object"==typeof n&&(r=n);for(var e=t.length,o=new Float32Array(6*e),s=0,u=0;u<e;u+=1){var a=t[u];o[s+0]=a.x,o[s+1]=a.y,o[s+2]=a.z;var h=void 0!==a.sizeAxisX?a.sizeAxisX:r.x,f=void 0!==a.sizeAxisY?a.sizeAxisY:r.y,c=void 0!==a.sizeAxisZ?a.sizeAxisZ:r.z;o[s+3]=h,o[s+4]=f,o[s+5]=c,s+=6}return o},Oo=function(t,i){for(var n=i&&Iu(i)&&i.getFallbackColor()||Or,r=t.length,e=new Float32Array(7*r),o=0,s=0;o<r;o+=1){var u=t[o];e[s+0]=u.x,e[s+1]=u.y,e[s+2]=u.z;var a=u.color||n;e[s+3]=a.r,e[s+4]=a.g,e[s+5]=a.b,e[s+6]=a.a,s+=7}return e},Fo=function(t,i){var n=i&&i.getSize(),r=1;"number"==typeof n&&(r=n);for(var e=t.length,o=new Float32Array(4*e),s=0,u=0;s<e;s+=1){var a=t[s];o[u+0]=a.x,o[u+1]=a.y,o[u+2]=a.z;var h=void 0!==a.size?a.size:r;o[u+3]=h,u+=4}return o},Io=function(t){for(var i=t.length,n=new Float32Array(4*i),r=0,e=0;r<i;r+=1){var o=t[r];n[e+0]=o.x,n[e+1]=o.y,n[e+2]=o.z,n[e+3]=void 0!==o.value?o.value:Ne,e+=4}return n},jo=function(t){return function(i){var n=t.indexOf(i);n>=0&&t.splice(n,1)}},Bo=function(t,i,n){var r=function(t,i){if(i<As&&i>bs&&t<As&&t>bs){var n=Math.abs(t/Math.pow(2,23)),r=Math.abs(i/Math.pow(2,23)),e=Math.min(n,r);return Math.pow(10,Math.floor(Math.log10(e)))}}(t,i);if(void 0!==r)return r*n},Do=function(t){for(var i=t.length,n=0;n<i-1;n+=1)t[n].x===t[n+1].x&&t[n].y===t[n+1].y&&(t.splice(n,1),n-=1,i-=1);return t},Lo=function(t){var i=Math.log(t);return function(t){return Math.log(t)/i}},Eo=Lo(Math.E),Po=function(t,i){var n=i[t];return n?n():void 0},zo=function(t,i){var n;if(i)n=i;else{for(var r={x:0,y:0},e=0;e<t.length;e+=1)r.x+=t[e].x/t.length,r.y+=t[e].y/t.length;n=r}return t.sort((function(t,i){return qs(Ws(t,n))-qs(Ws(i,n))}))},No=function(t,i,n){if(0===t.length)return!1===n.canReturnB?i.slice():i;var r=i.length;if(r<1e5)return t.push.apply(t,i),t;for(var e=0;e<r;e+=1)t.push(i[e]);return t},Vo=function(t){return 255===t.getA()?t:t.setA(255)},Ro=(Re=Mr(0,0,0),function(t){return t=Vo(t),new Vr({angle:180,stops:[{offset:0,color:t},{offset:1,color:ce(t,Re,.5)}]})}),Go=(Ge=function(t,i){var n;if(t){if(Ou(t)){if(0===t.getColor().getA())return;return t.getColor()}if(Nr(t)||Rr(t)){var r=t.getColorStops();return 2===r.length?r[1].color:null===(n=r[0])||void 0===n?void 0:n.color}return Bu(t)&&void 0!==i?t.lut.getColors(i,void 0):void 0}},function(t,i,n){var r,e,o,s,u=[];if(n.fill&&u.push(n.fill),n.fill2&&u.push(n.fill2),n.stroke){var a=n.stroke.getFillStyle();a!==Cu&&("stroke"===(null===(r=n.behavior)||void 0===r?void 0:r.priority)?u.unshift(a):u.push(a))}if(n.point3D){var h=n.point3D;u.push(h.getFillStyle())}if(n.behavior&&!0===n.behavior.colorStep){var f=Xe(u.reduce((function(t,i){if(t[0]&&t[1])return t;var r=Ge(i,n.lutValue);return r&&(void 0===t[0]?t[0]=r:t[1]=r),t}),[void 0,void 0]),2),c=f[0],l=f[1];e=c&&l?(o=c)===(s=l)||o.getR()===s.getR()&&o.getG()===s.getG()&&o.getB()===s.getB()?Ro(o):(o=Vo(o),s=Vo(s),new Vr({angle:0,stops:[{offset:0,color:s},{offset:.5,color:s},{offset:.5,color:o},{offset:1,color:o}]})):t.uiButtonFillStyle}else{var v=u.reduce((function(t,i){return t||Ge(i,n.lutValue)}),void 0);e=v?i?new _u({color:v}):Ro(v):t.uiButtonFillStyle}return e}),Uo=function(t,i){var n=t;if(Bu(n))return{lut:n.getPalette(),lookUpProperty:n.getLookUpProperty(),valueRange:i}},Yo=function(t){var i=0;return function(){return i+=1,"".concat(t,"-").concat(i)}},Wo=function(t,i){for(var n="string"==typeof t?t:String(t),r=n.indexOf("."),e=r>=0?r:n.length;e<i;e+=1)n="0".concat(n);return n},Xo=function(t,i){return"function"==typeof t?t(i):t},Ho=function(t,i){return i()},Zo=function(){return new Error("LightningChart JS encountered an unexpected error.\nPlease report this issue to https://lightningchart.com/js-charts/docs/contact")},Jo=function(t){return t===ps||t.min.x===ps.min.x&&t.max.x===ps.max.x&&t.min.y===ps.min.y&&t.max.y===ps.max.y},Qo=function(t){return Array.from(new Set(t))},Ko=function(t){return t.filter((function(t){return void 0!==t}))},qo=function(t){return"boolean"==typeof t?t?1:0:t>1?1:t<0?0:t},$o=function(t,i){throw new Error(i)},ts=function(t){var i;return function(){return i||(i=t())}},is=function(t){if(t===Pe)return 0;var i=t.getThickness();return i<0?1:1*i},ns=function(t,i,n,r){var e=r.shouldCrash,o='LightningChart JS Resources not found.\nresourcesBaseUrl: "'.concat(t,'"\ninitiator: ').concat(n,"\nresource url: ").concat(i,"\nFor more information, please see https://lightningchart.com/js-charts/docs/troubleshooting/error-resources-not-found/");if(e)throw Qe.alert(o),new Error(o);Qe.console.warn(o)},rs=function(t,i,n,r){if(void 0===r&&(r=0),!(t<n(r)||n(i)<t)){for(var e=i;r!==i;){var o=Math.ceil((r+i)/2);t<n(o)?i=o-1:r=o}var s=Math.abs(t-n(r));return r<e&&Math.abs(t-n(r+1))<s?r+1:r}},es=function(){var t=new Map;return{V:function(i){return Object.keys(Se).forEach((function(n){i.addEventListener(n,(function(i,r){var e=r.collectionMember&&t.get(r.collectionMember);if(e){var o=Me(i)?{clientX:i.changedTouches[0].clientX,clientY:i.changedTouches[0].clientY}:i,s=e.Bn(r.info,o,r.collectionMember);e.Ct.Tt(n,i,s)}}))})),i},Dn:function(i,n){t.set(i,n)},Sn:function(){t.clear()}}},os={left:0,right:0,top:0,bottom:0},ss=function(){return Math.round(Math.random()*Number.MAX_SAFE_INTEGER)},us=function(t,i,n){i&&i.Ln();var r=n();return Object.keys(r).forEach((function(i){var n=i,e=r[n];t.addEventListener(n,e)})),{En:t,Ln:function(){Object.entries(r).forEach((function(i){var n=Xe(i,2),r=n[0],e=n[1];t.removeEventListener(r,e)}))}}},as=function(t,i,n){var r,e,o,s=function(){return o=n()},u=Ye(Ye({},t),{resolve:function(){return o||s()}}),a=function(t){Object.defineProperty(u,t,{get:function(){return o?o[t]:s()[t]}})};try{for(var h=We(Object.keys(i)),f=h.next();!f.done;f=h.next())a(f.value)}catch(t){r={error:t}}finally{try{f&&!f.done&&(e=h.return)&&e.call(h)}finally{if(r)throw r.error}}return u},hs=function(t){if(t)return"resolve"in t?t.resolve():t},fs=function(t){var i=t;return{Pn:function(t){var n=i;return i=n+t,[n,t]}}},cs=function(t){var i=Date.now();Qe.document.body.addEventListener(t,(function(t){Date.now()-i>500||(t.stopPropagation(),t.preventDefault())}),{once:!0,capture:!0})},ls=function(){var t=Qe.performance.now();Qe.document.body.addEventListener("contextmenu",(function(i){Qe.performance.now()-t>5e3||i.preventDefault()}),{once:!0})},vs=function(){var t=Qe.performance.now();Qe.document.body.addEventListener("touchstart",(function(i){Qe.performance.now()-t>5e3||i.preventDefault()}),{once:!0})},ds=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},ys={add:function(t,i){return a(t.x+i,t.y+i,t.z+i)},addVec:function(t){for(var i,n,r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var o={x:t.x,y:t.y,z:t.z};try{for(var s=ds(r),u=s.next();!u.done;u=s.next()){var a=u.value;o.x+=a.x,o.y+=a.y,o.z+=a.z}}catch(t){i={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o},subtract:function(t,i){return a(t.x-i,t.y-i,t.z-i)},subtractVec:function(t){for(var i,n,r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var o={x:t.x,y:t.y,z:t.z};try{for(var s=ds(r),u=s.next();!u.done;u=s.next()){var a=u.value;o.x-=a.x,o.y-=a.y,o.z-=a.z}}catch(t){i={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o},multiply:function(t,i){return a(t.x*i,t.y*i,t.z*i)},divide:function(t,i){return a(t.x/i,t.y/i,t.z/i)},multiplyVec:function(t){for(var i,n,r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var o={x:t.x,y:t.y,z:t.z};try{for(var s=ds(r),u=s.next();!u.done;u=s.next()){var a=u.value;o.x*=a.x,o.y*=a.y,o.z*=a.z}}catch(t){i={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o},divideVec:function(t){for(var i,n,r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var o={x:t.x,y:t.y,z:t.z};try{for(var s=ds(r),u=s.next();!u.done;u=s.next()){var a=u.value;o.x/=a.x,o.y/=a.y,o.z/=a.z}}catch(t){i={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o},length:function(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)},normalize:function(t){return ys.divide(t,ys.length(t))},dot:function(t,i){return t.x*i.x+t.y*i.y+t.z*i.z},cross:function(t,i){return a(t.y*i.z-t.z*i.y,t.z*i.x-t.x*i.z,t.x*i.y-t.y*i.x)},angle:function(t,i){return Math.acos(ys.dot(t,i)/(ys.length(t)*ys.length(i)))},rotateAroundAxis:function(t,i,n){var r=Math.cos(n),e=Math.sin(n),o=ys.dot(i,t),s=ys.cross(i,t);return ys.addVec(ys.multiply(t,r),ys.addVec(ys.multiply(i,(1-r)*o),ys.multiply(s,e)))},lerp:function(t,i,n){return n=ro(n,0,1),ys.addVec(ys.multiply(t,1-n),ys.multiply(i,n))},equals:function(t,i){return no(t.x,i.x)&&no(t.y,i.y)&&no(t.z,i.z)},abs:function(t){return{x:Math.abs(t.x),y:Math.abs(t.y),z:Math.abs(t.z)}},sign:function(t){return{x:Math.sign(t.x),y:Math.sign(t.y),z:Math.sign(t.z)}}},As=Number.MAX_VALUE,bs=-Number.MAX_VALUE,ps=f(o(As,As),o(bs,bs)),ms=f(a(As,As,As),a(bs,bs,bs)),gs=function(t,i){var n=Math.log(t)/Math.log(i);return Math.floor(function(t){return Math.ceil(t)-t<1e-4?t=Math.ceil(t):t-Math.floor(t)<1e-4&&(t=Math.floor(t)),t}(n))},xs=function(t,i){return!(i.min.x>t.max.x||i.max.x<t.min.x||i.min.y>t.max.y||i.max.y<t.min.y)},Ss=function(t,i){return!(t[1].x<i[0].x||t[0].x>i[1].x||t[3].y<i[0].y||t[0].y>i[3].y)},ws=function(t,i){return{min:{x:Math.min(t[0].x,i[0].x),y:Math.min(t[0].y,i[0].y)},max:{x:Math.max(t[2].x,i[2].x),y:Math.max(t[2].y,i[2].y)}}},Ms=function(t){for(var i=t.length,n=0;n<i;n+=1)for(var r=n+1;r<i;r+=1)if(xs(t[n],t[r]))return!0;return!1},Cs=function(t,i){return i+t},Ts=function(t,i,n){var r=Ws(i,t),e=r.x*r.x+r.y*r.y;if(0===e)return t;var s=Ws(n,t),u=(s.x*r.x+s.y*r.y)/e;return u<=0?t:u>=1?i:o(t.x+u*r.x,t.y+u*r.y)},ks=function(t,i,n){return n>i?t>=i&&t<=n:t>=n&&t<=i},_s=function(t,i){var n=t.x-i.x,r=t.y-i.y;return Math.sqrt(n*n+r*r)},Os=function(t,i){var n=t.x-i.x,r=t.y-i.y;return n*n+r*r},Fs=function(t,i,n){var r=n.x-i.x,e=n.y-i.y,o=r*r+e*e;if(o<.01)return Number.MAX_VALUE;var s=((t.x-i.x)*r+(t.y-i.y)*e)/o,u=i.x+s*r,a=i.y+s*e;return(r=t.x-u)*r+(e=t.y-a)*e},Is=function(t,i,n){return Ys(t,Us(Ws(i,t),n))},js=function(t,i,n){return ys.addVec(t,ys.multiply(ys.subtractVec(i,t),n))};function Bs(t){var i=t.length;if(i>0){for(var n=t[0].x,r=t[0].x,e=t[0].y,s=t[0].y,u=1;u<i;u+=1){var a=t[u];a.x>n&&(n=a.x),a.x<r&&(r=a.x),a.y>e&&(e=a.y),a.y<s&&(s=a.y)}return f(o(r,s),o(n,e))}return ps}function Ds(t){var i=t.length;if(i>0){for(var n=t[0].x,r=t[0].x,e=t[0].y,o=t[0].y,s=t[0].z,u=t[0].z,h=0;h<i;h+=1){var c=t[h];c.x>n&&(n=c.x),c.x<r&&(r=c.x),c.y>e&&(e=c.y),c.y<o&&(o=c.y),c.z>s&&(s=c.z),c.z<u&&(u=c.z)}return f(a(r,o,u),a(n,e,s))}return ms}var Ls=function(){for(var t,i,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var e={min:{x:As,y:As},max:{x:bs,y:bs}};try{for(var o=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),s=o.next();!s.done;s=o.next()){var u=s.value;e.min.x=e.min.x<u.min.x?e.min.x:u.min.x,e.max.x=e.max.x>u.max.x?e.max.x:u.max.x,e.min.y=e.min.y<u.min.y?e.min.y:u.min.y,e.max.y=e.max.y>u.max.y?e.max.y:u.max.y}}catch(i){t={error:i}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return e},Es=function(t,i){return f(a(t.min.x<i.min.x?t.min.x:i.min.x,t.min.y<i.min.y?t.min.y:i.min.y,t.min.z<i.min.z?t.min.z:i.min.z),a(t.max.x>i.max.x?t.max.x:i.max.x,t.max.y>i.max.y?t.max.y:i.max.y,t.max.z>i.max.z?t.max.z:i.max.z))},Ps=function(t,i,n){return!(t.x>n.x||t.y>n.y||t.x<i.x||t.y<i.y)};function zs(t,i,n){return o(Math.cos(n)*(t.x-i.x)+Math.sin(n)*(t.y-i.y)+i.x,-Math.sin(n)*(t.x-i.x)+Math.cos(n)*(t.y-i.y)+i.y)}function Ns(t,i){return o(t.x-i.x,t.y-i.y)}function Vs(t){var i=Gs(t);return 0===i?o(0,0):o(t.x/i,t.y/i)}function Rs(t,i){var n={x:i.x-t.x,y:i.y-t.y};n=Vs(n);var r=Math.PI/2,e=n.x;return n.x=-Math.sin(r)*n.y,n.y=e*Math.sin(r),n}function Gs(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function Us(t,i){return o(t.x*i,t.y*i)}function Ys(t,i){return o(t.x+i.x,t.y+i.y)}function Ws(t,i){return o(t.x-i.x,t.y-i.y)}function Xs(t,i){return o(t.x*i.x,t.y*i.y)}function Hs(t,i){return o(t.x/i.x,t.y/i.y)}function Zs(t){return Us(t,-1)}function Js(t,i){return t.x*i.x+t.y*i.y}var Qs=function(t,i,n){var r=(n.y-i.y)/(n.x-i.x),e=i.y+(t-i.x)*r;return o(t,e)};function Ks(t){return t*Math.PI/180}function qs(t){return 180*Math.atan2(t.y,t.x)/Math.PI}function $s(t){return o(Math.cos(t),Math.sin(t))}var tu,iu=function(t,i,n,r){var e,s,u,a;if(i.x-t.x!=0||r.x-n.x!=0)return i.x-t.x==0?(u=i.x,a=(s=(r.y-n.y)/(r.x-n.x))*(u-n.x)+n.y):r.x-n.x==0?(u=r.x,a=(e=(i.y-t.y)/(i.x-t.x))*(u-t.x)+t.y):(e=(i.y-t.y)/(i.x-t.x),s=(r.y-n.y)/(r.x-n.x),a=e*((u=(n.y-s*n.x+e*t.x-t.y)/(e-s))-t.x)+t.y),o(u,a)},nu=function(t,i){var n=t.length,r=i.length,e=new Uint16Array(n+r);return e.set(t,0),e.set(i,n),e},ru=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eu=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r,e)||this;return o.zn={internal:10,function:ou(10),number:10},o.Bt=1e3,o.Et(1,1e3),o.Oi=o.Nn(),o}return ru(i,t),i.prototype.Wt=function(t,i,n,r,e){if(t===i)return!1;var o=Math.min(t,i)<uu,s=Math.max(t,i)>au;return!o&&!s||!!e&&(i>t?{start:o?uu:t,end:s?au:i}:{start:s?au:t,end:o?uu:i})},i.prototype.pi=function(t){var i=this.ei(),n=this.oi(),r=Math.max(t,uu);return i+(this.zn.function(r)-this.Oi.scaleStartLog)/this.Oi.scaleIntervalLog*(n-i)},i.prototype.mi=function(t){var i=this.ei(),n=(t-i)/(this.oi()-i),r=this.Oi.scaleStartLog+n*this.Oi.scaleIntervalLog;return Math.pow(this.zn.number,r)},i.prototype.ci=function(){this.zn&&this.Nn()},i.prototype.Et=function(i,n){return t.prototype.Et.call(this,i,n),this.zn&&this.Nn(),this},i.prototype.ri=function(i){return t.prototype.ri.call(this,i),this.zn&&this.Nn(),this},i.prototype.zt=function(i){return t.prototype.zt.call(this,i),this.zn&&this.Nn(),this},i.prototype.Vn=function(t){return this.zn={internal:t,function:ou(t),number:su(t)},this},i.prototype.Rn=function(){return this.zn.internal},i.prototype.Bi=function(t,i){var n=this.pi(t)+i;return this.mi(n)},i.prototype.bi=function(){return this.Ht||this.li||this.Jt||this.Xt},i.prototype.Nn=function(){var t=this.zn.function(this.It),i=this.zn.function(this.jt)-t,n=2*this.ei()/this.Bt-1,r=2*this.oi()/this.Bt-1-n;return this.Oi={scaleStartLog:t,scaleIntervalLog:i,viewportStart:n,viewportSize:r},this.Oi},i.prototype._i=function(){return this.Oi},i}(Hr),ou=function(t){return"e"===t?Eo:Lo(t)},su=function(t){return"e"===t?Math.E:t},uu=.9*Math.pow(10,-20),au=1.1*Math.pow(10,25),hu=[{prefix:"T",unit:Math.pow(10,12)},{prefix:"B",unit:Math.pow(10,9)},{prefix:"M",unit:1e6},{prefix:"K",unit:1e3}],fu=function(t,i,n){var r=Math.abs(n-i);if(0===r)return t.toFixed(0);var e=Math.max(2-gs(r,10),0);return t.toFixed(e)},cu={Numeric:function(t,i){var n=i.start,r=i.end;return fu(t,n,r)},NumericUnits:function(t,i){var n,r,e=i.start,o=i.end,s=Math.abs(o-e),u=t<0;t=Math.abs(t);var a="",h="";if(s>=1e3&&t>1e3){var f="";try{for(var c=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(hu),l=c.next();!l.done;l=c.next()){var v=l.value,d=Math.round(1e3*t/v.unit)/1e3;if(d>=1){f=d.toString(),h=v.prefix;break}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}a=(u?"-":"")+f}else{f=String(Math.floor(t));for(var y=gs(t,1e3),A=1;A<=y;A+=1){var b=f.length-(3*A+(A-1));f="".concat(f.substring(0,b)," ").concat(f.substring(b,f.length))}a=(u?"-":"")+f+(s<=10?function(t,i){if(0===i)return"";var n=(Math.abs(t)-Math.abs(Math.floor(t))).toString().substring(1);return n.length>i&&(n=n.substring(0,i+1)),n}(t,2-gs(s,10)):"")}return a+h},LogarithmicExponentsRounded:function(t,i,n,r){void 0===r&&(r=10);var e=ou(r)(t);return"".concat(r).concat(lu(e))},LogarithmicExponents:function(t,i,n,r){void 0===r&&(r=10);var e=ou(r),o=Math.floor(e(t)),s=su(r),u=t/Math.pow(s,o);return"".concat(Math.round(u),"").concat(r).concat(lu(o))},LogarithmicExtreme:function(t,i,n,r){void 0===r&&(r=10);var e=ou(r),o=Math.floor(e(t)),s=su(r),u=t/Math.pow(s,o);return"".concat(u.toFixed(2),"").concat(r).concat(lu(o))},LogarithmicNoExponents:function(t,i,n,r){void 0===r&&(r=10);var e=ou(r);if("e"===r){var o=Math.floor(e(t));return"".concat(o,"e")}var s=t.toString();if(t>1)return s;var u=Math.floor(e(t));return t.toFixed(Math.abs(u))},Scientific:function(t,i){var n=i.start,r=i.end,e=Math.max(Math.abs(n),Math.abs(r)),o=Math.floor(Math.log10(e));return 0===t?"0.00e".concat(o<0?"":"+").concat(o):t.toExponential(2)}},lu=function(t){return Math.round(t).toString().split("").map((function(t){switch(t){case"0":return"";case"1":return"";case"2":return"";case"3":return"";case"4":return"";case"5":return"";case"6":return"";case"7":return"";case"8":return"";case"9":return"";case"-":return"";default:return t}})).join("")},vu=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),du=function(){return du=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},du.apply(this,arguments)},yu=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Au=function(t,i){return t.value-i.value},bu=vr({type:"lut",steps:[],title:"",units:"",interpolate:!0,color:Mr(0,0,0,255),length:0,min:0,max:0,subranges:[],isValid:!1,percentageValues:!1,formatter:function(t,i){return fu(t,i.min,i.max)}}),pu=function(t){var i=t.steps,n=i.length;i.sort(Au);for(var r=yu(n>0?[i[0].value,i[n-1].value]:[0,0],2),e=r[0],o=r[1],s=n>0?n-1:0,u=Array(s),a=0;a<s;a+=1)u[a]={min:i[a],max:i[a+1]};return{min:e,max:o,length:n,steps:i,subranges:u,isValid:n>0&&e!==o}},mu=function(t){function i(i){var n=pu(i);return t.call(this,function(t,i){return{steps:t.steps,title:t.title,units:t.units,interpolate:t.interpolate,percentageValues:t.percentageValues,color:t.color,formatter:t.formatter,length:i.length,min:i.min,max:i.max,subranges:i.subranges,isValid:i.isValid}}(i,n))||this}return vu(i,t),i.prototype.toString=function(){return"LUT:interpolate=".concat(this.interpolate,",steps=").concat(this.steps.length,",percentage=").concat(this.percentageValues)},i.prototype.setSteps=function(t){return this.merge(pu(du(du({},this),{steps:t})))},i.prototype.getSteps=function(){return this.get("steps")},i.prototype.setTitle=function(t){return this.set("title",t)},i.prototype.getTitle=function(){return this.get("title")},i.prototype.setUnits=function(t){return this.set("units",t)},i.prototype.getUnits=function(){return this.get("units")},i.prototype.setInterpolation=function(t){return this.set("interpolate",t)},i.prototype.getInterpolation=function(){return this.get("interpolate")},i.prototype.setFallbackColor=function(t){return this.set("color",t)},i.prototype.getFallbackColor=function(){return this.get("color")},i.prototype.setPercentageValues=function(t){return this.set("percentageValues",t)},i.prototype.getPercentageValues=function(){return this.get("percentageValues")},i.prototype.setFormatter=function(t){return this.set("formatter",t)},i.prototype.getFormatter=function(){return this.get("formatter")},i.prototype.getColors=function(t,i){if(Array.isArray(t)){if(Array.isArray(t[0])){for(var n=t,r=n.length,e=n[0].length,o=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}([],yu(Array(r)),!1).map((function(){return Array(e)})),s=0;s<r;s+=1)for(var u=0;u<e;u+=1)o[s][u]=this.Gn(n[s][u],i);return o}for(var a=t,h=a.length,f=Array(h),c=0;c<h;c+=1)f[c]=this.Gn(a[c],i);return f}return this.Gn(t,i)},i.prototype.Gn=function(t,i){var n,r,e,o=this.steps,s=o.length;if(0===s)return this.getFallbackColor();if(1===s)return o[0].color||this.color;if(this.percentageValues,this.percentageValues&&i&&(t=Math.max(Math.min((t-i.min)/(i.max-i.min),1),0)),this.interpolate){for(var u=0;u<s-1;u+=1){var a=o[u],h=o[u+1],f=Math.min(a.value,h.value),c=Math.max(a.value,h.value);if(t>=f&&t<=c){if(f===c)return a.color;var l=(t-a.value)/(h.value-a.value);return n=a.color,r=h.color,e=l,new Sr({r:n.r+(r.r-n.r)*e,g:n.g+(r.g-n.g)*e,b:n.b+(r.b-n.b)*e,a:n.a+(r.a-n.a)*e})}}return t<o[0].value?o[0].color:o[s-1].color}for(u=s-1;u>=0;u-=1)if(t>=o[u].value)return o[u].color;return o[0].color},i}(bu),gu=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"lut"!==t.type)},xu=function(t,i){return t.formatter(i,{min:t.min,max:t.max,percentageValues:t.percentageValues})},Su=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wu=function(){return wu=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},wu.apply(this,arguments)},Mu=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Su(i,t),i.prototype.toString=function(){return"emptyFill"},i.prototype.toCSS=function(){return"transparent"},i}(vr({type:"fillstyle",fillType:"empty"})),Cu=new Mu,Tu=function(t){return!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"empty"===t.fillType)},ku=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Su(i,t),i}(vr({type:"fillstyle",fillType:"solid",color:Mr(255,255,255)})),_u=function(t){function i(i){return t.call(this,wu(wu({},i),{fillType:"solid"}))||this}return Su(i,t),i.prototype.toString=function(){return"solidFill:".concat(this.color.toString())},i.prototype.toCSS=function(){return this.color.toRGBAString()},i.prototype.setColor=function(t){return wr(t)?this.set("color",t):this.set("color",t(this.get("color")))},i.prototype.getColor=function(){return this.get("color")},i.prototype.setA=function(t){return this.setColor(this.getColor().setA(t))},i.prototype.setR=function(t){return this.setColor(this.getColor().setR(t))},i.prototype.setG=function(t){return this.setColor(this.getColor().setG(t))},i.prototype.setB=function(t){return this.setColor(this.getColor().setB(t))},i}(ku),Ou=function(t){return!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"solid"===t.fillType)},Fu=function(t){function i(i){return t.call(this,wu(wu({},i),{fillType:"individual"}))||this}return Su(i,t),i.prototype.toString=function(){return"individualPointFill:".concat(this.color.toString())},i.prototype.toCSS=function(){return this.getFallbackColor().toRGBAString()},i.prototype.setFallbackColor=function(t){return wr(t)?this.set("color",t):this.set("color",t(this.get("color")))},i.prototype.getFallbackColor=function(){return this.get("color")},i}(ku),Iu=function(t){return!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"individual"===t.fillType)},ju=function(t){function i(i){return t.call(this,wu(wu({},i),{fillType:"palette"}))||this}return Su(i,t),i.prototype.toString=function(){return"palettedFill:lut=".concat(this.lut.toString(),",lookUpProperty=").concat(this.lookUpProperty)},i.prototype.toCSS=function(){return"linear-gradient(".concat(this.lut.getSteps().map((function(t){return t.color.toRGBAString()})).join(", "),")")},i.prototype.getPalette=function(){return this.get("lut")},i.prototype.setLookUpProperty=function(t){return"function"==typeof t?this.set("lookUpProperty",t(this.get("lookUpProperty"))):this.set("lookUpProperty",t)},i.prototype.getLookUpProperty=function(){return this.get("lookUpProperty")},i}(vr({type:"fillstyle",fillType:"palette",lut:new mu({steps:[]}),lookUpProperty:"value"})),Bu=function(t){return!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"palette"===t.fillType)},Du=function(t,i){return t instanceof eu||i instanceof eu?(new te).Di(t,i):(new $r).Di(t,i)},Lu=function(t){return"client"===t},Eu=function(t){return!!(t&&"object"==typeof t&&"clientX"in t&&"number"==typeof t.clientX&&"clientY"in t&&"number"==typeof t.clientY)},Pu=function(t){return"relative"===t},zu=function(t){return!!(t&&"object"==typeof t&&"x"in t&&"number"==typeof t.x&&"y"in t&&"number"==typeof t.y)},Nu=function(t,i,n,r){for(var e,o,s=Number.MAX_VALUE,u=0;u<i.length;u+=1){var a=i[u],h=n(a,t);if(h){var f=r(t,h);(void 0===e||f<s)&&(e=h,o=a,s=f)}}return e&&o?[e,o]:void 0},Vu=function(t,i,n,r,e,o){if(t){var s=t,u="button"in n?n:void 0;if(u&&"wheel"!==n.type)if(0===u.button){if(!1===t.lmb)return;void 0!==t.lmb&&(s=Ze(s,t.lmb))}else if(1===u.button){if(!1===t.mmb)return;void 0!==t.mmb&&(s=Ze(s,t.mmb))}else if(2===u.button){if(!1===t.rmb)return;void 0!==t.rmb&&(s=Ze(s,t.rmb))}if(r){if(!1===t.shift)return;s=Ze(s,t.shift)}if(e){if(!1===t.ctrl)return;s=Ze(s,t.ctrl)}if(o){if(!1===t.alt)return;s=Ze(s,t.alt)}if(!i)return s;var a=s[i];if(a)return!0===a?s:Ze(s,a)}},Ru=function(t){var i=[];return{push:function(t){i.push(t)},end:function(){i.length>1&&t&&Qe.console.warn("LightningChart JS warning | event handler triggered more than 1 interaction.\nThis likely means that your `chart.setUserInteractions` configuration either enables conflicting interactions or more likely doesn't disable conflicting default interactions."),i.forEach((function(t){return t()}))}}},Gu=function(t,i,n){if(t){var r={x:n.x.ei(),y:n.y.ei(),width:n.x.si(),height:n.y.si()};i.forEach((function(t){t.Un=r}))}else i.forEach((function(t){t.Un=void 0}))},Uu=function(t,i){var n;return i?"string"==typeof i?"".concat(t," ").concat(i):!1!==(null===(n=i.Yn)||void 0===n?void 0:n.displayInCursor)&&i.getUnits()?"".concat(t," ").concat(i.getUnits()):t:t},Yu=function(t){var i=!1,n={type:"linear"};if(t&&(void 0!==t.opposite&&(i=t.opposite),t.type&&"linear-highPrecision"===t.type&&(n={type:"linear-highPrecision"}),t.type&&"logarithmic"===t.type)){var r=10;if(t.base)if("E"===t.base||"e"===t.base||"natural"===t.base)r="e";else if("number"==typeof t.base)r=t.base;else if("string"==typeof t.base)try{r=Number(t.base)}catch(i){console.warn('Unidentified logarithmic base "'.concat(t.base,'"'))}n={base:r,type:"logarithmic"}}return{opposite:i,type:n}},Wu=function(t,i,n,r){return void 0===r&&(r=1),ro(t+.1*r*(i-t)+.5*r*Math.abs(n.getPixelSize())*Math.sign(i-t),t,i)},Xu=function(t,i,n,r){void 0===r&&(r=1);var e=n.pi(t),o=n.pi(i);return ro(n.mi(e+.1*r*(o-e)+.5*r*Math.sign(o-e)),t,i)},Hu=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};t.HighlightModes=void 0,(tu=t.HighlightModes||(t.HighlightModes={}))[tu.noHighlighting=0]="noHighlighting",tu[tu.onHover=1]="onHover",tu[tu.onHoverIndividual=2]="onHoverIndividual";var Zu,Ju=function(){function i(i,n,r,e){var o=this;this.Wn=t.HighlightModes.onHover,this.Hi=!1,this.Zi=!0,this.Xn=[],this.chart=i,this.Hn=n,this.en=r,this.Zn=new Map,this.Jn=e,this.Qn=this.Jn.Kn(this,{qn:{themeEffectEnabled:this.en.effectsText},$n:{}}),this.chart.qi.ir.tr(this,(function(t){o.Zn.forEach((function(i,n){return n.vn(t)})),o.Xn.forEach((function(i){return i.vn(t)}))}),{animationEnabled:this.chart.getAnimationsEnabled()}),Qe.requestAnimationFrame((function(){o.Hi||(o.addEventListener("pointerenter",(function(){o.Wn===t.HighlightModes.onHover&&o.setHighlight(!0)})),o.addEventListener("pointerleave",(function(){o.Wn===t.HighlightModes.onHover&&o.setHighlight(!1)})))}))}return i.prototype.nr=function(){},i.prototype.rr=function(t,i){var n=this,r=void 0===(null==i?void 0:i.setEventHandlers)||i.setEventHandlers,e=void 0!==(null==i?void 0:i.pointerEventsDisabled)&&i.pointerEventsDisabled,o=void 0!==(null==i?void 0:i.isText)&&i.isText;this.Zn.set(t,{isText:o,pointerEventsDisabled:e});var s=Array.from(this.Zn);this.Qn.qn.er(s.filter((function(t){return t[1].isText})).map((function(t){return t[0]}))),this.Qn.$n.er(s.filter((function(t){return!t[1].isText})).map((function(t){return t[0]}))),t.setVisible(this.Zi).vn(this.chart.qi.ir.sr(this,!0)),Qe.requestAnimationFrame((function(){n.Hi||t.isDisposed()||(t.setPointerEvents(!0!==(null==i?void 0:i.pointerEventsDisabled)&&n.getPointerEvents()),r&&n.Ct.xn(t,{getExtraData:function(t,i,r){return n.Bn(r,t,i)}}))}));var u=function(i){t.removeEventListener("dispose",u),n.Zn.delete(t)};t.addEventListener("dispose",u)},i.prototype.ur=function(t){var i=this;this.Xn=t;var n=this.chart.qi.ir.sr(this,!0);t.forEach((function(t){t.vn(n).ar(i.Zi)}))},i.prototype.Bn=function(t,i,n){},i.prototype.hr=function(t){var i=this.chart.qi.cr(t);if(i&&Array.from(this.Zn.keys()).includes(i.entity))return this.Bn(i.info,t,i.collectionMember)},i.prototype.setEffect=function(t){return this.Qn.qn.lr(t&&this.en.effectsText),this.Qn.$n.lr(t),this.chart.qi.vr(),this},i.prototype.getEffect=function(){return this.Qn.qn.dr()||this.Qn.$n.dr()},i.prototype.setIcon=function(t){return this.yr=t,this.chart.qi.vr(),this},i.prototype.getIcon=function(){return this.yr},i.prototype.setName=function(t){return this.yt=t,this},i.prototype.getName=function(){return this.yt||"Component"},i.prototype.dispose=function(){return this.Hi||(this.Hi=!0,this.Zn.forEach((function(t,i){return i.dispose()})),this.Hn(this),this.Ct.Tt("dispose",{}),this.chart.legend.remove(this),this.chart.qi.vr()),this},i.prototype.setVisible=function(t){return t===this.Zi||(this.Zi=t,this.Zn.forEach((function(i,n){return n.setVisible(t)})),this.Xn.forEach((function(i){return i.ar(t)})),this.Ct.Tt("visiblechange",{isVisible:t}),this.chart.Ar.forEach((function(t){return t.br()})),this.chart.qi.vr()),this},i.prototype.getVisible=function(){return this.Zi},i.prototype.setHighlight=function(t){return this.chart.qi.ir.pr(this,t),this.Ct.Tt("highlightchange",{highlight:qo(t)}),this},i.prototype.getHighlight=function(){return this.chart.qi.ir.sr(this)},i.prototype.setAnimationHighlight=function(t){return this.chart.qi.ir.mr(this,t),this},i.prototype.getAnimationHighlight=function(){return this.chart.qi.ir.gr(this)},i.prototype.setPointerEvents=function(t){return this.Ct.setPointerEvents(t),this},i.prototype.getPointerEvents=function(){return this.Ct.getPointerEvents()},i.prototype.getPointed=function(){var t,i,n,r;if(!this.chart.qi.Sr())return!1;try{for(var e=Hu(this.Zn),o=e.next();!o.done;o=e.next()){var s=o.value;if(this.chart.qi.wr(s[0]))return!0}}catch(i){t={error:i}}finally{try{o&&!o.done&&(i=e.return)&&i.call(e)}finally{if(t)throw t.error}}try{for(var u=Hu(this.Xn),a=u.next();!a.done;a=u.next()){var h=a.value;if(this.chart.qi.wr(void 0,h))return!0}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return!1},i.prototype.setHighlightOnHover=function(i){return this.Wn="boolean"==typeof i?i?t.HighlightModes.onHover:t.HighlightModes.noHighlighting:i,this.Wn===t.HighlightModes.noHighlighting&&this.getHighlight()>0&&this.setHighlight(!1),this},i.prototype.getHighlightOnHover=function(){return this.Wn!==t.HighlightModes.noHighlighting},i.prototype.Mr=function(){},i.prototype.Cr=function(){return this.yr},i.prototype.isDisposed=function(){return this.Hi},Object.defineProperty(i.prototype,"draggable",{get:function(){return this.Ct.draggable},set:function(t){this.Ct.draggable=t},enumerable:!1,configurable:!0}),i}(),Qu=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ku=function(t){function i(i,n,r,e,o,s,u,a){var h=t.call(this,n,r,u,a)||this;return h.Tr=!0,h.kr=i,h.axis=e,h.Yi=o,h._r=s,Qe.requestAnimationFrame((function(){return h.Or()})),h}return Qu(i,t),i.prototype.setClipping=function(t){return this.Tr=t,this.kr.vr(),this},i.prototype.getClipping=function(){return this.Tr},i}(Ju);t.TextObjectIdentifier=void 0,(Zu=t.TextObjectIdentifier||(t.TextObjectIdentifier={}))[Zu.Other=0]="Other",Zu[Zu.CursorResultTable=1]="CursorResultTable",Zu[Zu.CursorTickMarker=2]="CursorTickMarker",Zu[Zu.ChartTitle=3]="ChartTitle",Zu[Zu.AxisTitle=4]="AxisTitle";var qu,$u=function(t){return"object"==typeof t&&null!==t&&"setCornerRadius"in t};t.PointShape=void 0,(qu=t.PointShape||(t.PointShape={}))[qu.Square=0]="Square",qu[qu.Circle=1]="Circle",qu[qu.HollowCircle=2]="HollowCircle",qu[qu.Triangle=3]="Triangle",qu[qu.Cross=4]="Cross",qu[qu.Diamond=5]="Diamond",qu[qu.Plus=6]="Plus",qu[qu.Minus=7]="Minus",qu[qu.Arrow=8]="Arrow",qu[qu.Star=9]="Star";var ta,ia,na=function(t){return"ProgressiveX"===t||"RegressiveX"===t?"x":"y"},ra=function(t){return"ProgressiveX"===t||"ProgressiveY"===t},ea=function(t,i,n){return t*(1-n)+i*n},oa=function(t,i,n,r,e){if(void 0!==i.value&&void 0!==n.value&&void 0!==r.value&&void 0!==e.value){var o=(t.x-n.point.x)/(e.point.x-n.point.x),s=(e.point.y-n.point.y)*o+n.point.y,u=(t.x-i.point.x)/(r.point.x-i.point.x),a=(r.point.y-i.point.y)*u+i.point.y,h=(t.y-a)/(s-a),f=ea(n.value,e.value,o),c=ea(i.value,r.value,u);return ea(c,f,h)}},sa={warm:function(t){return function(i){return Tr(60/(t-1)*i,.8,.8)}},cold:function(t){return function(i){return Tr(60/(t-1)*i+180,.8,.8)}},fullSpectrum:function(t){return function(i){return Tr(360/t*i,.8,.8)}},reverseSpectrum:function(t){return function(i){return Tr(360/t*(t-i),.8,.8)}},flatUI:function(t){return function(i){return Tr(360/t*i+8,.8,.8-.15/t*i)}},arction:function(t){return function(i){var n=1-.2/t*i;return Tr(360/t*i+51,n,n)}},arctionWarm:function(t){return function(i){var n=t-1,r=1-.2/n*i;return Tr(46-46/n*i+4,r,r)}},sunset:function(t){return function(i){var n=[170,320];return Tr(i%2?n[0]:n[1],.8,.5+.5/(t-1)*i)}},dynamic:function(t){return function(i){var n=i%2,r=[234,346];return Tr(n?r[0]:r[1],n?.3:.9,.5+.5/(t-1)*i)}},magenta:function(t){return function(i){var n=[.9,.6];return Tr(354,i%2?n[0]:n[1],.5+.5/(t-1)*i)}},greyscale:function(t){return function(i){return Tr(0,0,.25+.5/(t-1)*i)}},frozen:function(t){return function(i){var n=[.8,.6];return Tr(160+80/(t-1)*i,.6,i%2?n[0]:n[1])}},retro:function(t){return function(i){var n=[6,183];return Tr(i%2?n[0]:n[1],.7,.5+.5/(t-1)*i)}},crayons:function(t){return function(i){var n=180+230/(t-1)*i;return n>360&&(n-=360),Tr(n,.9,.8)}},custom:function(t,i){return function(n){var r=.25+.5/(t-1)*n;if(!i)return Tr(0,0,r);var e=i.getR()/255,o=i.getG()/255,s=i.getB()/255,u=Math.max(e,o,s),a=Math.min(e,o,s),h=0;if(u!==a){var f=u-a;switch(u){case e:h=(o-s)/f+(o<s?6:0);break;case o:h=(s-e)/f+2;break;case s:h=(e-o)/f+4;break;default:h=0}return Tr(h=h/6*360,.8,r)}return Tr(0,0,r)}},sector:function(t,i,n,r){return void 0===n&&(n=.8),void 0===r&&(r=.8),function(e){return function(o){return Tr(t+(i-t)/e*o,n,r)}}},auroraBorealis:function(t){return function(i){return ua([{value:0,hex:"#23FF7A"},{value:1/9,hex:"#03E65D"},{value:2/9,hex:"#04D155"},{value:3/9,hex:"#00B849"},{value:4/9,hex:"#00A869"},{value:5/9,hex:"#008F68"},{value:6/9,hex:"#00815E"},{value:7/9,hex:"#017153"},{value:8/9,hex:"#704A85"},{value:1,hex:"#743A70"}],t,i)}},blueSciFi:function(t){return function(i){return ua([{value:0,hex:"#FFFFFF"},{value:1/9,hex:"#E2E7FF"},{value:2/9,hex:"#ACB9F8"},{value:3/9,hex:"#889DFF"},{value:4/9,hex:"#547EEF"},{value:5/9,hex:"#4068D8"},{value:6/9,hex:"#2B50B7"},{value:7/9,hex:"#1B3E9F"},{value:8/9,hex:"#8D1395"},{value:1,hex:"#780A74"}],t,i)}},light:function(t){return function(i){return ua([{value:0,hex:"#FECC00"},{value:1/9,hex:"#F7B300"},{value:2/9,hex:"#EF9900"},{value:3/9,hex:"#E88000"},{value:4/9,hex:"#E06600"},{value:5/9,hex:"#DD5A00"},{value:6/9,hex:"#D94D00"},{value:7/9,hex:"#D13300"},{value:8/9,hex:"#C91A00"},{value:1,hex:"#C10000"}],t,i)}},monochrome:function(t){return function(i){return ua([{value:0,hex:"#FFFFFF"},{value:1/9,hex:"#EEEEEE"},{value:2/9,hex:"#DCDCDC"},{value:3/9,hex:"#C1C1C1"},{value:4/9,hex:"#A4A2A2"},{value:5/9,hex:"#8B8B8B"},{value:6/9,hex:"#787878"},{value:7/9,hex:"#656565"},{value:8/9,hex:"#565555"},{value:1,hex:"#434343"}],t,i)}},night:function(t){return function(i){return ua([{value:0,hex:"#F0F9E0"},{value:1/9,hex:"#C9DFA4"},{value:2/9,hex:"#B5C796"},{value:3/9,hex:"#8998B7"},{value:4/9,hex:"#6E7E9E"},{value:5/9,hex:"#5C6D8F"},{value:6/9,hex:"#47587A"},{value:7/9,hex:"#374B72"},{value:8/9,hex:"#273C65"},{value:1,hex:"#192847"}],t,i)}},sunset2:function(t){return function(i){return ua([{value:0,hex:"#22334D"},{value:1/9,hex:"#82062C"},{value:2/9,hex:"#AB001D"},{value:3/9,hex:"#D80428"},{value:4/9,hex:"#CF5D1B"},{value:5/9,hex:"#CF8229"},{value:6/9,hex:"#CF9D29"},{value:7/9,hex:"#C4BE25"},{value:8/9,hex:"#E1DC49"},{value:1,hex:"#FFFA67"}],t,i)}}},ua=function(t,i,n){var r=ha(i,n),e=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(fa(r,t),2),o=e[0],s=e[1],u=aa(t[o]),a=aa(t[s]),h=0!==u.value?(a.value-r)/u.value:0,f={value:h,h:ea(u.h,a.h,h),s:ea(u.s,a.s,h),v:ea(u.v,a.v,h)};return Tr(f.h,f.s,f.v)},aa=function(t){var i=function(t){var i=t.r,n=t.g,r=t.b,e=Math.max(i,n,r),o=Math.min(i,n,r),s=0,u=e,a=e-o,h=0===e?0:a/e;if(e===o)s=0;else{switch(e){case i:s=(n-r)/a+(n<r?6:0);break;case n:s=(r-i)/a+2;break;case r:s=(i-n)/a+4}s/=6}return[360*s,h,u]}(Cr(t.hex));return{value:t.value,h:i[0],s:i[1],v:i[2]}},ha=function(t,i){var n=i/t;return n<0?0:n>1?1:n},fa=function(t,i){if(i.length<2)throw new Error("Invalid palette size");for(var n=0;n<i.length;n+=1)if(t<i[n].value)return[n-1,n];return[i.length-2,i.length-1]},ca=function(){this.type="simple"},la=new ca,va=function(t){this.type="phong",this.ambientReflection=1,this.specularReflection=.1,this.diffuseReflection=1,this.ambientColor=Cr("#000"),this.specularColor=Cr("#fff"),this.shininess=32,t&&(this.ambientReflection=Number.isNaN(Number(t.ambientReflection))?this.ambientReflection:Number(t.ambientReflection),this.specularReflection=Number.isNaN(Number(t.specularReflection))?this.specularReflection:Number(t.specularReflection),this.diffuseReflection=Number.isNaN(Number(t.diffuseReflection))?this.diffuseReflection:Number(t.diffuseReflection),this.ambientColor=t.ambientColor||this.ambientColor,this.specularColor=t.specularColor||this.specularColor,this.shininess=t.shininess||this.shininess)},da=new va,ya={Simple:ca,Phong:va},Aa=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ba=function(){function t(){}return t.prototype.getFillStyle=function(){return Cu},t}(),pa=new ba,ma=function(t){function i(i){return t.call(this,i)||this}return Aa(i,t),i.prototype.setSize=function(t){return this.set("size",t)},i.prototype.getSize=function(){return this.get("size")},i.prototype.setFillStyle=function(t){return"function"==typeof t?this.set("fillStyle",t(this.get("fillStyle"))):this.set("fillStyle",t)},i.prototype.getFillStyle=function(){return this.get("fillStyle")},i.prototype.setWireframeStyle=function(t){return"function"==typeof t?this.set("wireframeStyle",t(this.get("wireframeStyle"))):this.set("wireframeStyle",t)},i.prototype.getWireframeStyle=function(){return this.get("wireframeStyle")},i.prototype.setShape=function(t){return this.set("shape",t)},i.prototype.getShape=function(){return this.get("shape")},i}(vr({type:"triangulated-points-3d",shape:"sphere",size:10,fillStyle:new _u,wireframeStyle:Pe})),ga=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"triangulated-points-3d"!==t.type)},xa=function(t){function i(i){return t.call(this,i)||this}return Aa(i,t),i.prototype.setSize=function(t){return this.set("size",t)},i.prototype.getSize=function(){return this.get("size")},i.prototype.setFillStyle=function(t){return"function"==typeof t?this.set("fillStyle",t(this.get("fillStyle"))):this.set("fillStyle",t)},i.prototype.getFillStyle=function(){return this.get("fillStyle")},i}(vr({type:"pixelated-points-3d",size:5,fillStyle:new _u})),Sa=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"pixelated-points-3d"!==t.type)},wa={Triangulated:ma,Pixelated:xa},Ma=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ca=function(){return Ca=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Ca.apply(this,arguments)},Ta=function(t){function i(i){return t.call(this,Ca(Ca({},i),{lineType:"solid"}))||this}return Ma(i,t),i.prototype.setFillStyle=function(t){return"function"==typeof t?this.set("fillStyle",t(this.getFillStyle())):this.set("fillStyle",t)},i.prototype.getFillStyle=function(){return this.get("fillStyle")},i.prototype.setThickness=function(t){return"function"==typeof t?this.set("thickness",t(this.getThickness())):this.set("thickness",t)},i.prototype.getThickness=function(){return this.get("thickness")},i.prototype._n=function(){var t=this.getThickness();return t<0?1:t},i}(vr({type:"linestyle",lineType:"solid",fillStyle:new _u({color:Mr(255,255,255)}),thickness:1})),ka=function(t){return!(!t||"object"!=typeof t||!("lineType"in t)||"solid"!==t.lineType)},_a=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oa=function(){return Oa=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Oa.apply(this,arguments)},Fa={Dotted:[1,3],DottedDense:[1,1],Dashed:[3,1],DashedEqual:[2,2],DashedLoose:[2,4],DashDotted:[3,2,1,2]},Ia=function(t){function i(i){return t.call(this,Oa(Oa({},i),{lineType:"dashed"}))||this}return _a(i,t),i.prototype.setFillStyle=function(t){return"function"==typeof t?this.set("fillStyle",t(this.getFillStyle())):this.set("fillStyle",t)},i.prototype.getFillStyle=function(){return this.get("fillStyle")},i.prototype.setThickness=function(t){return"function"==typeof t?this.set("thickness",t(this.getThickness())):this.set("thickness",t)},i.prototype.getThickness=function(){return this.get("thickness")},i.prototype._n=function(){var t=this.getThickness();return t<0?1:t},i.prototype.setPattern=function(t){return"function"==typeof t?this.set("pattern",t(this.getPattern())):this.set("pattern",t)},i.prototype.getPattern=function(){return this.get("pattern")},i.prototype.setPatternScale=function(t){return"function"==typeof t?this.set("patternScale",t(this.getPatternScale())):this.set("patternScale",t)},i.prototype.getPatternScale=function(){return this.get("patternScale")},i}(vr({type:"linestyle",lineType:"dashed",pattern:Fa.DashedEqual,fillStyle:new _u({color:Mr(255,255,255)}),thickness:1,patternScale:3})),ja=function(t){return!(!t||"object"!=typeof t||!("lineType"in t)||"dashed"!==t.lineType)},Ba=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Da=function(){return Da=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Da.apply(this,arguments)},La=function(t){function i(i,n,r,e){return t.call(this,Da(Da({},e),{Fr:i,Ir:n,jr:r}))||this}return Ba(i,t),i.prototype.dispose=function(){return this.jr(this),this},i.prototype.setWidth=function(t){var i=this.set("width",t);return this.Ir(i),i},i.prototype.getWidth=function(){return this.get("width")},i.prototype.setHeight=function(t){var i=this.set("height",t);return this.Ir(i),i},i.prototype.getHeight=function(){return this.get("height")},i.prototype.setSize=function(t,i){var n=this.withMutations((function(n){n.set("width",t).set("height",i)}));return this.Ir(n),n},i.prototype.ai=function(){if(!this.Fr)return{x:0,y:0};var t=this.Fr.width,i=this.Fr.height;if(0===t||0===i)return{x:0,y:0};var n=this.width,r=this.height;return"number"==typeof n&&"number"==typeof r?{x:n,y:r}:"number"==typeof n?{x:n,y:i*n/t}:"number"==typeof r?{x:t*r/i,y:r}:{x:t,y:i}},i}(vr({type:"icon",width:void 0,height:void 0,Fr:void 0,Ir:io,jr:io})),Ea=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"icon"!==t.type)},Pa=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),za=function(t){function i(i){return t.call(this,i)||this}return Pa(i,t),i.prototype.setSpread=function(t){return this.set("spread","function"==typeof t?t(this.get("spread")):t)},i.prototype.getSpread=function(){return this.get("spread")},i.prototype.setBlur=function(t){return this.set("blur","function"==typeof t?t(this.get("blur")):t)},i.prototype.getBlur=function(){return this.get("blur")},i.prototype.setColor=function(t){return this.set("color","function"==typeof t?t(this.get("color")):t)},i.prototype.getColor=function(){return this.get("color")},i.prototype.setOffset=function(t){return this.set("offset","function"==typeof t?t(this.get("offset")):t)},i.prototype.getOffset=function(){return this.get("offset")},i}(vr({type:"glow",color:Mr(255,255,255,50),spread:1,blur:4,offset:{x:0,y:0}})),Na=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Va=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.Vi="RadialScale",i.Br={start:0,end:1},i.Dr=!1,i.Lr=0,i.Bt=o(0,0),i.Er=[0,0],i.Pr=[0,0],i.o=!0,i.yi=!0,i.zr=!0,i.Nr=!0,i.Vr={x:0,y:0},i.Oi={x:{displacement:0,scaling:0,highPrecisionOffset:0},y:{displacement:0,scaling:0,highPrecisionOffset:0}},i}return Na(i,t),i.prototype.Rr=function(t,i){return t===this.Br.start&&i===this.Br.end||(this.Br={start:t,end:i},this.zr=!0,this.Gr()),this},i.prototype.Ur=function(){return this.Br},i.prototype.Yr=function(){return this.Br.end>=this.Br.start},i.prototype.Wr=function(t){this.Dr=t,this.Nr=!0},i.prototype.Xr=function(){return!1===this.Dr},i.prototype.Hr=function(t){this.Lr=t,this.Nr=!0},i.prototype.Zr=function(){return this.Lr},i.prototype.bi=function(){return this.yi},i.prototype.Si=function(){return!1},i.prototype.Ri=function(t,i,n,r){return this.x=new Jr(t.x,i.x,n.x,r?r.x:void 0),this.y=new Jr(t.y,i.y,n.y,r?r.y:void 0),this},i.prototype._i=function(){return this.Oi},i.prototype.Jr=function(){return this.zr},i.prototype.Qr=function(){return this.Nr},i.prototype.Gi=function(){return this.Vr},i.prototype.Dt=function(){return this.o=!1,this.yi=!1,this.zr=!1,this.Nr=!1,this},i.prototype.Lt=function(){return this.o=!0,this.yi=!0,this.zr=!0,this.Nr=!0,this},i.prototype.zt=function(t,i){return"object"==typeof t?(this.Bt.x=t.x,this.Bt.y=t.y):(this.Bt.x=t,this.Bt.y=i),this.Gr(),this},i.prototype.Li=function(t){return this.Er=t,this.Gr(),this},i.prototype.Ei=function(t){return this.Pr=t,this.Gr(),this},i.prototype.ui=function(){return o(this.Er[0]+this.Er[1],this.Pr[0]+this.Pr[1])},i.prototype.ai=function(){return this.Bt},i.prototype.Gr=function(){var t=this.Br,i=o(this.x.hi(this.Bt.x),this.y.hi(this.Bt.y)),n=this.Er[0]+this.Er[1],r=this.Pr[0]+this.Pr[1],e=Math.max(i.x-n,0),s=Math.max(i.y-r,0),u=.5*(e>s?s:e),a=[this.Er[0]+Math.max((e-2*u)/2,0),this.Er[1]+Math.max((e-2*u)/2,0)],h=[this.Pr[0]+Math.max((s-2*u)/2,0),this.Pr[1]+Math.max((s-2*u)/2,0)],f=Math.abs(t.end-t.start);this.x.zt(this.Bt.x).ri(a).Et(-f,f),this.y.zt(this.Bt.y).ri(h).Et(-f,f),this.Vr={x:this.x.getPixelSize(),y:this.y.getPixelSize()},this.Oi={x:this.x._i(),y:this.y._i()},this.Lt()},i.prototype.Bi=function(t,i){var n=this.Gi();return{x:t.x+i.x*n.x,y:t.y+i.y*n.y}},i.prototype.Ui=function(t,i,n,r){var e=this.Gi(),o=Rs(t,i);return o.x*=r,o.y*=r,{x:t.x+n*e.x*o.x,y:t.y+n*e.y*o.y}},i}(qr),Ra=function(t){if(t instanceof $r||t instanceof Va)return t.Si()?"linear-highPrecision":"linear";if(t instanceof te){var i={};return t.x instanceof eu&&(i.x={base:t.x.Rn()}),t.y instanceof eu&&(i.y={base:t.y.Rn()}),["logarithmic",i]}return"linear"},Ga=function(t,i,n){if(0===n||360===n||180===n||n%180==0)return{x:t,y:i};if(90===n||-90===n||(n+90)%180==0)return{x:i,y:t};var r=n*Math.PI/180,e=Math.cos(r),o=Math.sin(r);return{x:Math.abs(t*e)+Math.abs(i*o),y:Math.abs(t*o)+Math.abs(i*e)}},Ua=function(t){var i=Object.keys(t),n={};return i.forEach((function(i){var r=t[i],e=!1;n[i]=function(t){if(!t)return e;var i=r();return e=i,i}})),n},Ya=function(t,i,n){return"value"===t.getLookUpProperty()?n:"x"===t.getLookUpProperty()?{min:i.On(),max:i.Fn()}:"y"===t.getLookUpProperty()?{min:i.In(),max:i.jn()}:"z"===t.getLookUpProperty()?{min:i.Kr(),max:i.qr()}:void 0},Wa=function(t){return!(!t||"value"!==t.lookUpProperty||!t.lut.percentageValues)},Xa={init:function(i){return function(i){var n=new Map;i.engine.addEventListener("locationchange",(function(){n.forEach((function(t){t.bounds=void 0}))}));var r=function(t){var r=n.get(t.uid);if(!r){var e=document.createElement("p");e.className="lcjs-text",i.engine.container.append(e),e.style.userSelect="none",e.style.whiteSpace="nowrap",e.style.margin="0px",r={span:e,active:!0},n.set(t.uid,r),e.addEventListener("pointerenter",(function(n){return i.handleEvent(t,n)})),e.addEventListener("pointermove",(function(n){return i.handleEvent(t,n)})),e.addEventListener("pointerleave",(function(n){return i.handleEvent(t,n)}))}if(r.text!==t.text&&(function(t,i){var n=t.includes("latex:"),r=!n&&t.includes("tex:"),e=!0;if(n||r)try{Qe.MathJax&&n?(e=!1,i.innerHTML=t.replace(/latex:/g,""),Qe.MathJax.typesetPromise([i]).catch((function(t){return Qe.console.error(t.message)}))):Qe.katex&&r&&(e=!1,Qe.katex.render(t.replace(/tex:/g,""),i,{throwOnError:!1}))}catch(t){e=!0}e&&(i.innerHTML=t)}(t.text,r.span),r.bounds=void 0),r.font!==t.font&&(r.span.style.font=t.font,r.bounds=void 0),r.position!==t.position&&(r.span.style.position=t.position,r.bounds=void 0),r.color!==t.color&&(r.span.style.color=t.color),r.padding!==t.padding&&(r.span.style.padding=t.padding,r.bounds=void 0),r.rotation!==t.rotation&&(r.span.style.transform="rotate(".concat(t.rotation,"deg)"),r.bounds=void 0),r.span.style.lineHeight="80%",r.text!==t.text||r.left!==t.left||r.top!==t.top||r.alignmentX!==t.alignmentX||r.alignmentY!==t.alignmentY||r.padding!==t.padding||r.rotation!==t.rotation||r.font!==t.font){r.span.style.width="unset",r.span.style.height="unset";var o=r.span.clientWidth,s=r.span.clientHeight,u=Ga(o,s,t.rotation),a={x:(u.x-o)/2,y:(u.y-s)/2};r.span.style.left="".concat(t.left+(-.5*t.alignmentX-.5)*u.x+a.x,"px"),r.span.style.top="".concat(t.top+(.5*t.alignmentY-.5)*u.y+a.y,"px"),r.bounds=void 0}return r.text=t.text,r.font=t.font,r.position=t.position,r.color=t.color,r.padding=t.padding,r.rotation=t.rotation,r.left=t.left,r.top=t.top,r.alignmentX=t.alignmentX,r.alignmentY=t.alignmentY,r},e=function(t){var i=r(t),n=i.bounds;return n||(n=i.span.getBoundingClientRect(),i.bounds=n),n},o="polygon(0 0, 0 0, 0 0, 0 0)";return{update:function(i){n.forEach((function(t){return t.active=!1})),i.textList.forEach((function(i){var n=r(i);n.active=!0,n.span.style.clipPath="unset",i.identifier,t.TextObjectIdentifier.Other})),i.obstructingOverlays.forEach((function(t){var r=Math.min(t.p1.clientX,t.p2.clientX)-0,s=Math.min(t.p1.clientY,t.p2.clientY)-0,u=Math.max(t.p1.clientX,t.p2.clientX)+0,a=Math.max(t.p1.clientY,t.p2.clientY)+0;i.textList.forEach((function(i){if(!t.blacklist.includes(i.identifier)){var h,f,c,l,v,d,y,A,b=n.get(i.uid),p=e(i);if(h=r,f=s,c=u,l=a,v=p.left-0,d=p.top-0,y=p.right+0,A=p.bottom+0,!((h>=c?h:c)<(v<y?v:y)||(h<c?h:c)>(v>=y?v:y)||(f>=l?f:l)<(d<A?d:A)||(f<l?f:l)>(d>=A?d:A))&&b)if(0!==i.rotation)b.span.style.clipPath=o;else{var m=function(t,i,n,r,e,o,s,u){var a=t<n?t:n,h=t>=n?t:n,f=i<r?i:r,c=i>=r?i:r,l=e<s?e:s,v=e>=s?e:s,d=o<u?o:u,y=o>=u?o:u;if(l<a&&v>h&&d<f&&y>c)return[];if(l>=a&&v<=h&&d>=f&&y<=c){var A=.5*(c+f);return[{x:a,y:f},{x:h,y:f},{x:h,y:A},{x:v,y:A},{x:v,y:d},{x:l,y:d},{x:l,y:y},{x:v,y:y},{x:v,y:A},{x:h,y:A},{x:h,y:c},{x:a,y:c}]}if(a<l&&h>l&&h<v){if(f<d&&y<c)return[{x:a,y:f},{x:h,y:f},{x:h,y:d},{x:l,y:d},{x:l,y:y},{x:h,y:y},{x:h,y:c},{x:a,y:c}];if(f>d&&f<y&&c>y)return[{x:a,y:f},{x:l,y:f},{x:l,y:y},{x:h,y:y},{x:h,y:c},{x:a,y:c}];if(d<f&&y>c)return[{x:a,y:f},{x:l,y:f},{x:l,y:c},{x:a,y:c}];if(d<c)return[{x:a,y:f},{x:h,y:f},{x:h,y:d},{x:l,y:d},{x:l,y:c},{x:a,y:c}]}if(l<a&&v>a&&v<h){if(f<d&&y<c)return[{x:a,y:f},{x:h,y:f},{x:h,y:c},{x:a,y:c},{x:a,y:y},{x:v,y:y},{x:v,y:d},{x:a,y:d}];if(y>f&&d<f&&y<c)return[{x:h,y:f},{x:h,y:c},{x:a,y:c},{x:a,y:y},{x:v,y:y},{x:v,y:f}];if(d<f&&y>c)return[{x:v,y:f},{x:h,y:f},{x:h,y:c},{x:v,y:c}];if(d<c)return[{x:a,y:f},{x:h,y:f},{x:h,y:c},{x:v,y:c},{x:v,y:d},{x:a,y:d}]}if(a>l&&h<v){if(d<f&&y>f&&y<c)return[{x:a,y:y},{x:h,y:y},{x:h,y:c},{x:a,y:c}];if(f<d&&d<c&&y>c)return[{x:a,y:f},{x:h,y:f},{x:h,y:d},{x:a,y:d}];if(f<d&&y<c)return[{x:a,y:f},{x:h,y:f},{x:h,y:d},{x:a,y:d},{x:a,y:y},{x:h,y:y},{x:h,y:c},{x:a,y:c}]}if(a<l&&h>v){if(f<d&&c>d)return[{x:a,y:f},{x:h,y:f},{x:h,y:c},{x:v,y:c},{x:v,y:d},{x:l,y:d},{x:l,y:c},{x:a,y:c}];if(d<f&&y>f&&y<c)return[{x:a,y:f},{x:l,y:f},{x:l,y:y},{x:v,y:y},{x:v,y:f},{x:h,y:f},{x:h,y:c},{x:a,y:c}];if(d<f&&d<c&&y>c)return[{x:a,y:f},{x:l,y:f},{x:l,y:c},{x:v,y:c},{x:v,y:f},{x:h,y:f},{x:h,y:c},{x:a,y:c}]}return[{x:a,y:f},{x:h,y:f},{x:h,y:c},{x:a,y:c}]}(p.left-0,p.top-0,p.right+0,p.bottom+0,r,s,u,a);b.span.style.clipPath=0===m.length?o:"polygon(".concat(m.map((function(t){return"".concat(100*(t.x-p.left)/p.width,"% ").concat(100*(t.y-p.top)/p.height,"%")})).join(", "),")")}}}))})),n.forEach((function(t,i){t.active||(t.span.remove(),n.delete(i))}))},measureText:function(t){if(!t.visible)return{x:0,y:0};var i=e(t);return{x:i.width,y:i.height}},getTextBoundingBox:function(t){if(t.visible)return e(t)},dispose:function(){n.forEach((function(t){t.span.remove()}))}}}(i)}},Ha=function(t,i){this.$r=t,this.te=i,this.ie=i.rows*wh,this.ne=i.columns*Mh},Za=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();t.OnScreenMenuButtonType=void 0,(ta=t.OnScreenMenuButtonType||(t.OnScreenMenuButtonType={}))[ta.ZoomIn=0]="ZoomIn",ta[ta.ZoomInX=1]="ZoomInX",ta[ta.ZoomInY=2]="ZoomInY",ta[ta.ZoomOut=3]="ZoomOut",ta[ta.ZoomOutX=4]="ZoomOutX",ta[ta.ZoomOutY=5]="ZoomOutY",ta[ta.ZoomToFit=6]="ZoomToFit",ta[ta.ToggleAnimations=7]="ToggleAnimations",t.OnScreenMenuButtonShape=void 0,(ia=t.OnScreenMenuButtonShape||(t.OnScreenMenuButtonShape={}))[ia.Circle=0]="Circle",ia[ia.Rectangle=1]="Rectangle",ia[ia.RoundedRectangle=2]="RoundedRectangle";var Ja,Qa={x:-43,y:0},Ka={x:-65,y:0},qa={x:-86,y:0},$a={x:-107,y:-1},th={x:-128,y:-3},ih={x:-150,y:0},nh={x:-171,y:0},rh={x:-276,y:0},eh={x:-298,y:0},oh={x:0,y:0},sh={x:-21,y:0},uh=function(i){function n(t,n,r,e){var o=i.call(this,t,r)||this;return o.re=Qe.document.createElement("button"),o.ee=Qe.document.createElement("div"),o.oe=Qe.document.createElement("label"),o.te=r,o.se=n,o.ue=e,o}return Za(n,i),n.prototype.ae=function(t,i,n,r){this.he(t,r),this.fe(),this.ce(i),this.le(),this.oe.textContent=n||"";var e=Qe.document.createElement("div");this.ve(e),this.re.onclick=this.onClick.bind(this),e.appendChild(this.ee),e.appendChild(this.oe),this.re.appendChild(e)},n.prototype.le=function(){this.re.style.cursor="pointer"},n.prototype.ve=function(t){t.style.display="flex",t.style.justifyContent="center",t.style.alignContent="center",t.style.flexDirection="column"},n.prototype.ce=function(t){"string"==typeof t?(this.ee.style.backgroundImage="url(".concat(t,")"),this.ee.style.backgroundSize="100%",this.ee.style.backgroundRepeat="no-repeat",this.ee.style.backgroundPosition="center",this.ee.style.width="20px",this.ee.style.height="20px"):this.applyStyleForSprite(t),this.ee.style.margin="auto"},n.prototype.fe=function(){switch(this.se){case t.OnScreenMenuButtonShape.RoundedRectangle:this.re.style.borderRadius="10px";break;case t.OnScreenMenuButtonShape.Rectangle:this.re.style.borderRadius="0px";break;case t.OnScreenMenuButtonShape.Circle:default:this.re.style.borderRadius="31px"}},n.prototype.he=function(t,i){this.re.style.width="".concat(this.ne.toString(),"px"),this.re.style.height="".concat(this.ie.toString(),"px"),this.re.style.backgroundColor=t,this.re.style.opacity=i||Ch,this.re.style.alignItems="center",this.re.style.border="2px solid #707070",this.re.style.transition="background-color .8s ease"},n.prototype.applyStyleForSprite=function(t){this.ee.style.backgroundImage="url(".concat(this.$r,"/").concat(Th,")"),this.ee.style.backgroundPositionX="".concat(t.x,"px"),this.ee.style.backgroundPositionY="".concat(t.y,"px"),this.ee.style.backgroundSize="1600%",this.ee.style.backgroundRepeat="no-repeat",this.ee.style.width="20px",this.ee.style.height="20px"},n.prototype.de=function(t){return t.appendChild(this.re),t},n.prototype.ye=function(){return this.re},n}(Ha),ah=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r,e)||this;return o.Ae="",o.be="",o.pe=!1,o.ue=e,o}return Za(i,t),i.prototype.me=function(){this.ge(),this.onToggledStateAction()},i.prototype.xe=function(){this.Se(),this.onInitialStateAction()},i.prototype.Se=function(){this.we(this.Ae)},i.prototype.ge=function(){this.we(this.be)},i.prototype.we=function(t){"string"==typeof t?this.ee.style.background=t:(this.ee.style.backgroundImage="url(".concat(this.$r,"/").concat(Th,")"),this.ee.style.backgroundPositionX="".concat(t.x,"px"),this.ee.style.backgroundPositionY="".concat(t.y,"px"))},i.prototype.onClick=function(){this.pe?this.xe():this.me(),this.pe=!this.pe},i}(uh),hh=function(t){function i(i,n,r){var e=t.call(this,i,r,{rows:1,columns:1},n)||this;e.ue=n;var o=e.ue.getTheme();return e.ae(o.onScreenMenuBackgroundColor.toRGBAString(),Qa),e}return Za(i,t),i.prototype.onClick=function(){var t=this.ue.Me();t&&this.ue.zoom(t,{x:-1,y:-1})},i}(uh),fh=function(t){function i(i,n,r){var e=t.call(this,i,r,{rows:1,columns:1},n)||this;e.ue=n;var o=e.ue.getTheme();return e.ae(o.onScreenMenuBackgroundColor.toRGBAString(),$a),e}return Za(i,t),i.prototype.onClick=function(){var t=this.ue.Me();t&&this.ue.zoom(t,{x:-1,y:0})},i}(uh),ch=function(t){function i(i,n,r){var e=t.call(this,i,r,{rows:1,columns:1},n)||this;e.ue=n;var o=e.ue.getTheme();return e.ae(o.onScreenMenuBackgroundColor.toRGBAString(),ih),e}return Za(i,t),i.prototype.onClick=function(){var t=this.ue.Me();t&&this.ue.zoom(t,{x:0,y:-1})},i}(uh),lh=function(t){function i(i,n,r){var e=t.call(this,i,r,{rows:1,columns:1},n)||this;e.ue=n;var o=e.ue.getTheme();return e.ae(o.onScreenMenuBackgroundColor.toRGBAString(),Ka),e}return Za(i,t),i.prototype.onClick=function(){var t=this.ue.Me();t&&this.ue.zoom(t,{x:1,y:1})},i}(uh),vh=function(t){function i(i,n,r){var e=t.call(this,i,r,{rows:1,columns:1},n)||this;e.ue=n;var o=e.ue.getTheme();return e.ae(o.onScreenMenuBackgroundColor.toRGBAString(),th),e}return Za(i,t),i.prototype.onClick=function(){var t=this.ue.Me();t&&this.ue.zoom(t,{x:1,y:0})},i}(uh),dh=function(t){function i(i,n,r){var e=t.call(this,i,r,{rows:1,columns:1},n)||this;e.ue=n;var o=e.ue.getTheme();return e.ae(o.onScreenMenuBackgroundColor.toRGBAString(),nh),e}return Za(i,t),i.prototype.onClick=function(){var t=this.ue.Me();t&&this.ue.zoom(t,{x:0,y:1})},i}(uh),yh=function(t){function i(i,n,r){var e=t.call(this,i,r,{rows:1,columns:1},n)||this;e.ue=n;var o=e.ue.getTheme();return e.Ae=rh,e.be=eh,e.ae(o.onScreenMenuBackgroundColor.toRGBAString(),e.Ae),e}return Za(i,t),i.prototype.onToggledStateAction=function(){this.ue.setAnimationsEnabled(!1)},i.prototype.onInitialStateAction=function(){this.ue.setAnimationsEnabled(!0)},i}(ah),Ah=function(t){function i(i,n,r){var e=t.call(this,i,r,{rows:1,columns:1},n)||this;e.ue=n;var o=e.ue.getTheme();return e.ae(o.onScreenMenuBackgroundColor.toRGBAString(),qa),e}return Za(i,t),i.prototype.onClick=function(){this.ue.forEachAxis((function(t){t.fit(!0)}))},i}(uh),bh=function(t){function i(i,n,r){var e=t.call(this,i,n.shape||kh,n.dimensions||{rows:1,columns:1},r)||this,o=r.getTheme(),s=n.color||o.onScreenMenuBackgroundColor.toRGBAString(),u=n.icon||"",a=n.label||"",h=n.opacity||"";return e.ae(s,u,a,h),e.Ce=n.action,e}return Za(i,t),i.prototype.onClick=function(){this.Ce(this.ue)},i}(uh),ph=function(t){function i(i,n,r,e){var o=t.call(this,i,n,{rows:1,columns:1},r)||this;return o.ue=r,o.Te=e,o.Ae=sh,o.be=oh,o.ae(_h,o.Ae),o}return Za(i,t),i.prototype.Se=function(){this.we(this.Ae),this.re.style.backgroundColor=_h,this.re.style.border="2px solid #707070",this.re.style.margin="0px"},i.prototype.ge=function(){this.we(this.be),this.re.style.background="#FECC00 0% 0% no-repeat padding-box",this.re.style.border="10px solid #BCBCBC12",this.re.style.margin="1px"},i.prototype.onToggledStateAction=function(){var t;null===(t=this.Te)||void 0===t||t.style.setProperty("display","block")},i.prototype.onInitialStateAction=function(){var t;null===(t=this.Te)||void 0===t||t.style.setProperty("display","none")},i}(ah);t.MouseStyles=void 0,(Ja=t.MouseStyles||(t.MouseStyles={})).Move="move",Ja.ResizeColumn="col-resize",Ja.ResizeRow="row-resize",Ja.Horizontal="ew-resize",Ja.Vertical="ns-resize",Ja.NorthWest="nw-resize",Ja.NorthEast="ne-resize",Ja.Copy="copy",Ja.CrossHair="crosshair",Ja.Default="default",Ja.Help="help",Ja.Restricted="not-allowed",Ja.None="none",Ja.Point="pointer",Ja.Text="text",Ja.Wait="wait",Ja.ZoomIn="zoom-in",Ja.ZoomOut="zoom-out",Ja.Grab="grab",Ja.Grabbing="grabbing";var mh,gh={LeftBottom:o(-1,-1),CenterBottom:o(0,-1),RightBottom:o(1,-1),LeftCenter:o(-1,0),Center:o(0,0),RightCenter:o(1,0),LeftTop:o(-1,1),CenterTop:o(0,1),RightTop:o(1,1)},xh=new _u({color:Mr(255,255,255,0)}),Sh=new Ta({thickness:1,fillStyle:xh}),wh=60,Mh=60,Ch="1.0",Th="osm/osm-sprite-transparent.png",kh=t.OnScreenMenuButtonShape.Circle,_h="#363636";t.OSMPosition=void 0,(mh=t.OSMPosition||(t.OSMPosition={}))[mh.TopRight=0]="TopRight",mh[mh.TopLeft=1]="TopLeft",mh[mh.BottomLeft=2]="BottomLeft",mh[mh.BottomRight=3]="BottomRight";var Oh,Fh=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ih=function(i){function n(t,n,r,e,o,s,u,a){var h=i.call(this,t,n,r,e,o,s,u,a)||this;return h.yt="Band",h.ke=0,h._e=1,h.Oe=h.en.bandFillStyle,h.Fe=h.en.bandStrokeStyle,h.Ct=new we,h.Ie=h.kr.De(h.Yi).Be(h.Oe).je(h.Fe).vn(h.getHighlight()),h.rr(h.Ie),h}return Fh(n,i),n.prototype.setValueStart=function(t){return this.ke=t,this.Ct.Tt("valuechange",{start:this.ke,end:this._e}),this.kr.vr(),this},n.prototype.getValueStart=function(){return this.ke},n.prototype.setValueEnd=function(t){return this._e=t,this.Ct.Tt("valuechange",{start:this.ke,end:this._e}),this.kr.vr(),this},n.prototype.getValueEnd=function(){return this._e},n.prototype.setFillStyle=function(t){this.Oe="function"==typeof t?t(this.Oe):t;var i=this.Oe;return this.Ie.Be(i),this.kr.vr(),this},n.prototype.getFillStyle=function(){return this.Oe},n.prototype.setStrokeStyle=function(t){this.Fe="function"==typeof t?t(this.Fe):t;var i=this.Fe;return this.Ie.je(i),this.kr.vr(),this},n.prototype.getStrokeStyle=function(){return this.Fe},n.prototype.Le=function(){return this.Ie.Ee(this._r.toVec2(this.ke,this._r.getHeight(this.Yi).getInnerStart())).zt(this._r.toVec2(this._e-this.ke,this._r.getHeight(this.Yi).getInnerInterval())),Gu(this.Tr,[this.Ie],this.Yi),this},n.prototype.Pe=function(){return{fill:this.Oe,stroke:this.Fe}},n.prototype.ze=function(t,i){t.vn(i),this.kr.vr()},n.prototype.Or=function(){var i,n,r,e=this,o=function(o){var s=e.getUserInteractions(),u=Vu(s.move,"drag",o,o.shiftKey,o.ctrlKey,o.altKey),a=Vu(s.scale,"drag",o,o.shiftKey,o.ctrlKey,o.altKey);!function(t,o,s){var u=ee(e.kr.qi.Ne(t.clientX,t.clientY),e.kr.qi.Yi,e.Yi),a=e._r.getWidth(u),h=e.axis.Yi.pi(e.ke),f=e.axis.Yi.pi(e._e),c=(e.axis.Yi.pi(a)-h)/(f-h);i=o&&(!(c<.1||c>.9)||!s),(n=s&&!i)&&(r=c<.5)}(o,!!(null==u?void 0:u.drag),!!(null==a?void 0:a.drag));var h=i?t.MouseStyles.Point:n?e._r.getWidth({x:t.MouseStyles.Horizontal,y:t.MouseStyles.Vertical}):t.MouseStyles.Default;e.Ve=e.chart.engine.setMouseStyle(h,e.Ve)},s=function(t){e.Ve=e.chart.engine.restoreMouseStyle(e.Ve)};this.addEventListener("pointermove",o),this.addEventListener("pointerleave",s),this.addEventListener("pointerdown",(function(t){var u=e.getUserInteractions(),a=Vu(u.move,"drag",t,t.shiftKey,t.ctrlKey,t.altKey),h=Vu(u.scale,"drag",t,t.shiftKey,t.ctrlKey,t.altKey);if(((null==a?void 0:a.drag)||!i)&&((null==h?void 0:h.drag)||!n)){wo(t);var f=t,c=function(o){o.pointerId===t.pointerId&&(function(t,o,s,u){var a=e._r.getWidth(t);if(i)e.ke=e.axis.Yi.Bi(e.ke,a),e._e=e.axis.Yi.Bi(e._e,a),(h=null==s?void 0:s.on)&&h({event:o});else if(n&&r)e.ke=e.axis.Yi.Bi(e.ke,a),(h=null==u?void 0:u.on)&&h({event:o});else if(n&&!r){var h;e._e=e.axis.Yi.Bi(e._e,a),(h=null==u?void 0:u.on)&&h({event:o})}wo(o),e.Ct.Tt("valuechange",{start:e.ke,end:e._e}),e.kr.vr()}({x:o.clientX-f.clientX,y:f.clientY-o.clientY},o,a,h),f=o)},l=function(i){i.pointerId===t.pointerId&&(e.addEventListener("pointermove",o),e.addEventListener("pointerleave",s),Qe.removeEventListener("pointermove",c),Qe.removeEventListener("pointerup",l),ls())};e.removeEventListener("pointermove",o),e.removeEventListener("pointerleave",s),Qe.addEventListener("pointermove",c),Qe.addEventListener("pointerup",l)}}))},n.prototype.setUserInteractions=function(t){return this.Re=void 0===t?{move:!1,scale:!1}:t,this},n.prototype.getUserInteractions=function(){return Ze({move:{drag:!0},scale:{drag:!0}},this.Re)},n.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},n.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},n}(Ku),jh=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bh=function(i){function n(t,n,r,e,o,s,u,a){var h=i.call(this,t,n,r,e,o,s,u,a)||this;return h.yt="Constant Line",h.S=0,h.Fe=h.en.constantLineStrokeStyle,h.Ge=!0,h.Ct=new we,h.Ue=h.kr.We(h.Yi).Ye(h.Fe).vn(h.getHighlight()),h.rr(h.Ue),h}return jh(n,i),n.prototype.setValue=function(t){return this.S=t,this.Ct.Tt("valuechange",{value:this.S}),this.kr.vr(),this},n.prototype.getValue=function(){return this.S},n.prototype.setStrokeStyle=function(t){this.Fe="function"==typeof t?t(this.Fe):t;var i=this.Fe;return this.Ue.Ye(i),this.kr.vr(),this},n.prototype.getStrokeStyle=function(){return this.Fe},n.prototype.Le=function(){return this.Ue.He(this._r.toVec2(this.S,this._r.getHeight(this.Yi).getInnerStart())).Xe(this._r.toVec2(this.S,this._r.getHeight(this.Yi).getInnerEnd())),Gu(this.Tr,[this.Ue],this.Yi),this},n.prototype.Pe=function(){return{stroke:this.Fe}},n.prototype.ze=function(t,i){t.vn(i),this.kr.vr()},n.prototype.setUserInteractions=function(t){return this.Re=void 0===t?{move:!1}:t,this},n.prototype.getUserInteractions=function(){return Ze({move:{drag:!0}},this.Re)},n.prototype.Or=function(){var i=this;this.addEventListener("pointerenter",(function(n){var r=i.getUserInteractions();if(Vu(r.move,"drag",n,n.shiftKey,n.ctrlKey,n.altKey)){var e=i._r.getWidth({x:t.MouseStyles.Horizontal,y:t.MouseStyles.Vertical});i.Ve=i.chart.engine.setMouseStyle(e,i.Ve)}})),this.addEventListener("pointerleave",(function(t){i.Ve=i.chart.engine.restoreMouseStyle(i.Ve)})),this.addEventListener("pointerdown",(function(t){var n=i.getUserInteractions(),r=Vu(n.move,"drag",t,t.shiftKey,t.ctrlKey,t.altKey);if(r){wo(t),ls();var e=t,o=function(t){var n={x:t.clientX-e.clientX,y:e.clientY-t.clientY};e=t,i.S=i.axis.Yi.Bi(i.S,i._r.getWidth(n)),i.Ct.Tt("valuechange",{value:i.S}),i.kr.vr();var o=r.on;o&&o({event:t})},s=function(i){i.pointerId===t.pointerId&&(Qe.removeEventListener("pointermove",o),Qe.removeEventListener("pointerup",s))};Qe.addEventListener("pointermove",o),Qe.addEventListener("pointerup",s)}}))},n.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},n.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},n}(Ku),Dh="fitting",Lh="expansion",Eh="progressive",Ph="regressive",zh={fitting:function(t){var i=void 0===(null==t?void 0:t.start)||t.start,n=void 0===(null==t?void 0:t.end)||t.end,r=void 0===(null==t?void 0:t.considerVisibleRangeOnly)||t.considerVisibleRangeOnly;return{id:Dh,init:function(t){t.axis.Ze((function(t){return t.curEnd>t.curStart?{startMin:t.dataMin,endMax:t.dataMax}:{endMin:t.dataMin,startMax:t.dataMax}}))},considerVisibleRangeOnly:r,apply:function(t){if(t.seriesDataRange)return{start:i?t.curEnd>=t.curStart?t.seriesDataRange.min:t.seriesDataRange.max:t.curStart,end:n?t.curEnd>=t.curStart?t.seriesDataRange.max:t.seriesDataRange.min:t.curEnd,allowIntervalLengthChange:!0}}}},scrolling:function(t){var i=void 0!==(null==t?void 0:t.progressive)&&!t.progressive,n=!0===(null==t?void 0:t.realTime)?{}:null==t?void 0:t.realTime;if(n){var r,e=void 0!==n.catchUpThresholdMs?n.catchUpThresholdMs:3e3,o=function(t){t.isStopped&&(r=void 0)};return{id:i?Ph:Eh,init:function(t){t.axis.Ze((function(t){return i?t.curEnd>t.curStart?{startMin:t.dataMin}:{endMin:t.dataMin}:t.curEnd>t.curStart?{endMax:t.dataMax}:{startMax:t.dataMax}})),t.axis.addEventListener("stoppedchange",o)},dispose:function(t){t.axis.removeEventListener("stoppedchange",o)},considerVisibleRangeOnly:!0,apply:function(t){if(t.seriesDataRange){var n=Qe.performance.now();if(void 0!==r){var o,s=(n-r)*(i?-1:1),u=t.curStart+s,a=t.curEnd+s,h=t.axis.Je({forStart:u,forEnd:a,allowIntervalLengthChange:!1});return!i&&h&&t.curEnd>t.curStart&&h.end-a>=e&&(a+=o=h.end-a,u+=o),!i&&h&&t.curEnd<t.curStart&&h.start-u>=e&&(a+=o=h.start-u,u+=o),r=n,{start:u,end:a,allowIntervalLengthChange:!1,keepScrolling:!0,allowAnimation:!1}}return r=n,{keepScrolling:!0,start:t.curStart,end:t.curEnd,allowIntervalLengthChange:!1,allowAnimation:!1}}}}}return{id:i?Ph:Eh,init:function(t){t.axis.Ze((function(t){return i?t.curEnd>t.curStart?{startMin:t.dataMin}:{endMin:t.dataMin}:t.curEnd>t.curStart?{endMax:t.dataMax}:{startMax:t.dataMax}}))},considerVisibleRangeOnly:!0,apply:function(t){if(void 0!==t.seriesDataRange){if(Math.sign(t.curEnd-t.curStart)*Math.sign(i?-1:1)>0){var n=i?t.seriesDataRange.min:t.seriesDataRange.max;return{end:n,start:n+(t.curStart-t.curEnd),allowIntervalLengthChange:!1}}var r=i?t.seriesDataRange.min:t.seriesDataRange.max;return{start:r,end:r+(t.curEnd-t.curStart),allowIntervalLengthChange:!1}}}}},expansion:function(t){var i=void 0===(null==t?void 0:t.start)||t.start,n=void 0===(null==t?void 0:t.end)||t.end;return{id:Lh,considerVisibleRangeOnly:!0,apply:function(t){if(void 0!==t.seriesDataRange)return{start:i?t.curEnd>=t.curStart?t.seriesDataRange.min<t.curStart?t.seriesDataRange.min:t.curStart:t.seriesDataRange.max>t.curStart?t.seriesDataRange.max:t.curStart:t.curStart,end:n?t.curEnd>=t.curStart?t.seriesDataRange.max>t.curEnd?t.seriesDataRange.max:t.curEnd:t.seriesDataRange.min<t.curEnd?t.seriesDataRange.min:t.curEnd:t.curEnd,allowIntervalLengthChange:!0}}}},nextPowerOf10:{id:Dh,start:function(t,i,n,r){return i>=t?n:r},end:function(t,i,n,r){return i>=t?Math.pow(10,Math.ceil(Math.log10(r))):Math.pow(10,Math.ceil(Math.log10(n)))},allowIntervalLengthChange:!0},fittingStepped:function(t){var i=void 0===(null==t?void 0:t.start)||t.start,n=void 0===(null==t?void 0:t.end)||t.end;return{id:Dh,considerVisibleRangeOnly:!0,apply:function(t){if(void 0!==t.seriesDataRange){var r,e;if(i)if(t.curEnd>=t.curStart)if(t.seriesDataRange.min<t.curStart)r=t.curStart-(t.curEnd-t.curStart);else{var o=t.curStart+.5*(t.curEnd-t.curStart);r=t.seriesDataRange.min>o?o:t.curStart}else t.seriesDataRange.max>t.curStart?r=t.curStart+(t.curStart-t.curEnd):(o=t.curStart-.5*(t.curStart-t.curEnd),r=t.seriesDataRange.max<o?o:t.curStart);else r=t.curStart;return n?t.curEnd>=t.curStart?t.seriesDataRange.max>t.curEnd?e=t.curEnd+(t.curEnd-t.curStart):(o=t.curEnd-.5*(t.curEnd-t.curStart),e=t.seriesDataRange.max<o?o:t.curEnd):t.seriesDataRange.min<t.curEnd?e=t.curEnd-(t.curStart-t.curEnd):(o=t.curEnd+.5*(t.curStart-t.curEnd),e=t.seriesDataRange.min>o?o:t.curEnd):e=t.curEnd,{start:r,end:e,allowIntervalLengthChange:!0}}}}}},Nh={Empty:"Empty",Numeric:"Numeric",DateTime:"DateTime",Time:"Time"},Vh=function(t){return void 0!==t.Qe},Rh=function(t){return void 0!==t.Ke},Gh=function(t,i,n,r,e,o,s){return[o,s]},Uh=function(t,i,n,r){for(var e=[],o=Math.round(Math.abs((t-i)/n)),s=1;s<o;s+=1){var u=t+n*s;void 0!==r&&(u=Math.round(u*r)/r),u<i&&e.push(u)}return e},Yh=function(t,i,n,r,e){no(t,0)&&(t=0),no(i,0)&&(i=0);var o=[],s=void 0!==r?function(t,i,n){return t-(t-n)%i}(t,n,r):t,u=s;if(n<=0)throw new Error("_getRegularGreatKeyValues unit less than or equal to 0, unit: ".concat(n));for(var a=0;(u-t)/(i-t)<.98;)o.push(u),u=s+(a+=1)*n,void 0!==e&&(u=Math.round(u*e)/e);return o.push(u),o},Wh=function(t,i,n,r){for(var e=[],o=n(t),s=0;o<i&&!1===no(o,i);)if(e.push(o),o=r(o),(s+=1)>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return e.push(o),e},Xh=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var r=i.length>0?i.length:t?1:0;return function(n,e,o,s,u,a){if(!(e>=r)){var h=i[e]||1,f=!1,c=!1,l=1;return t&&(f="ignore"in t?"first"===t.ignore||"both"===t.ignore:f,c="ignore"in t?"last"===t.ignore||"both"===t.ignore:c,l="offset"in t&&void 0!==t.offset?t.offset:l),function(t,i,n,r,e){return n&&(t=t.filter((function(t,i){return i>0}))),r&&(t=t.filter((function(i,n){return n<t.length-1}))),t.filter((function(t,n){return(n+e)%i==0}))}(n,h,f,c,l)}}},Hh=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=t.length>0?t.length:0;return function(i,r,e,o,s,u){if(!(r>=n)){var a=t[r]||1;return i.filter((function(t,i){return i%a==0}))}}},Zh=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jh=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Zh(i,t),i.prototype.qe=function(t){return{$e:[],io:[],no:this.cursorFormatter?this.cursorFormatter:cu.Numeric,ro:void 0,eo:void 0}},i.prototype.setCursorFormatter=function(t){return this.set("cursorFormatter",t)},i.prototype.getCursorFormatter=function(){return this.get("cursorFormatter")},i}(vr({cursorFormatter:void 0})),Qh=function(t){return t&&"function"==typeof t?t():t},Kh=function(){return Kh=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Kh.apply(this,arguments)},qh=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},$h=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},tf=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},nf=function(t,i,n,r,e,o,s,u,a,h,f){var c=a.get(s);if(c||(c=new Map,a.set(s,c)),c.has(t))return c.get(t);if(0===i.length)return ps;var l=f.oo(i,s.so.labelFont,e),v=u.Bi(n,{x:-(r.x/2+.5)*l.x+o.x-h,y:-(r.y/2+.5)*l.y+o.y-h}),d=u.Bi(v,{x:l.x+h,y:l.y+h}),y={min:{x:Math.min(v.x,d.x),y:Math.min(v.y,d.y)},max:{x:Math.max(v.x,d.x),y:Math.max(v.y,d.y)}};return c.set(t,y),y},rf=(new Jh).qe({type:"linear"}),ef=function(){function i(i,n,r,e,o,s,u){var a=this;this.uo=rf,this.ao=Nh.Empty,this.ho=new Map,this.fo=!0,this.co=ke((function(){return a.chart.qi.vr()}))(300,Ce.linear),this.lo=!0,this.Zi=!0,this.vo=!1,this.do=bs,this.yo=!1,this.Ao=!1,this.bo=bs,this.po=bs,this.mo=bs,this.xo=!1,this.So="",this.wo=!1,this.Mo=!1,this.Co=!1,this.To=function(){a._o.ko=t.TextObjectIdentifier.AxisTitle,a._o.setPointerEvents(!0),a.title.xn(a._o),a.To=void 0},this.Oo=function(t,i,n,r,e,o,s,u,h,f,c){for(var l,v=a.Fo(),d=[],y=t.filter((function(t){return a.Io(t.keyValue,t.labelText,i)})),A=$h($h($h([],qh(y),!1),qh(h.filter((function(t){return a.Io(t.keyValue,t.labelText,t.tickLevel)}))),!1),qh(f.filter((function(t){return t.labelText.length>0}))),!1),b=function(t){var h=y[t],f=void 0,b=[];if(a.Io(h.keyValue,h.labelText,i)){var p=nf(h.keyValue,h.labelText,h.labelPosition,h.labelAlignment,h.labelRotation,h.labelOffset,i,v,u,c,a.chart.qi.jo);f=(b=Ko(A.map((function(t){return t&&t!==h&&xs(p,nf(t.keyValue,t.labelText,t.labelPosition,t.labelAlignment,t.labelRotation,t.labelOffset,t.tickLevel,v,u,c,a.chart.qi.jo))?t:void 0})))).length>0}else f=!1;if(f){var m=!0;return m&&b.every((function(t){return Vh(t.tickLevel)}))&&(m=!1),m&&i.Bo&&i.Bo.Do&&!1===i.Bo.Do(h.keyValue,n,r,e,o,s)&&(m=!1),!1===m?(y.splice(t,1),l=t-=1,"continue"):{value:!0}}d.push(h),l=t},p=0;p<y.length;p+=1){var m=b(p);if(p=l,"object"==typeof m)return m.value}return d},this.formatValue=function(t){return a.uo.no(t,{start:a.Yi.getInnerStart(),end:a.Yi.getInnerEnd()})},this.Lo=!0,this.Eo=!0,this.title=new we,this.chart=i,this.Po=n,this.en=e,this.zo=s,this.Yi=r,this.No=u,"logarithmic"===u.type&&this.setAnimationZoom(Ce.logarithmic(su(u.base))),this.Vo=s.numeric,this.Ro("Numeric"),this.Go=r.getInnerStart(),this.Uo=r.getInnerEnd(),this.setAnimationsEnabled(o),this.setScrollStrategy(zh.fitting)}return i.prototype.setUnits=function(t,i){return void 0===i&&(i={}),this.Yo=t,this.Yn=i,this.Wo(),this},i.prototype.getUnits=function(){return this.Yo},i.prototype.setDefaultInterval=function(t,i){return this.Xo=t,!1!==(null==i?void 0:i.applyImmediately)&&(this.xo=!0,this.chart.qi.vr()),this.Ho=void 0!==(null==i?void 0:i.skipIntervalRestrictions)?i.skipIntervalRestrictions:void 0,this},i.prototype.getDefaultInterval=function(){return this.Xo},i.prototype.getTitle=function(){return this.So},i.prototype.setTitle=function(t){return this.So=t,this.Wo(),this},i.prototype.getTitleFillStyle=function(){return this._o.Zo()},i.prototype.setIntervalRestrictions=function(t){return this.Jo=t,this.wo=!0,this.chart.qi.vr(),this},i.prototype.getIntervalRestrictions=function(){if("function"==typeof this.Jo){var t=this.Qo();return this.Jo({curStart:this.Go,curEnd:this.Uo,dataMin:null==t?void 0:t.min,dataMax:null==t?void 0:t.max})}return this.Jo},i.prototype.Ze=function(t){this.wo||this.Mo||(this.Jo=t)},i.prototype.setTitleFillStyle=function(t){return this._o.Be(t),this.chart.qi.vr(),this},i.prototype.getTitleFont=function(){return this._o.Ko()},i.prototype.setTitleFont=function(t){return this._o.qo(t),this.chart.qi.vr(),this},i.prototype.setTitleRotation=function(t){return this._o.$o(t),this.chart.qi.vr(),this.Co=!0,this},i.prototype.getTitleRotation=function(){return this._o.ts()},i.prototype.setTitleEffect=function(t){return this.ns.lr(t),this.chart.qi.vr(),this},i.prototype.getTitleEffect=function(){return this.ns.dr()},i.prototype.Ro=function(t,i){if(this.ho.size>0&&this.rs(),"Empty"===t){var n=i||function(t){return t};this.Vo=n(new Jh),this.uo=this.Vo.qe(this.No),this.ao=t}else"Numeric"===t?("Numeric"!==this.ao&&(this.Vo=this.zo.numeric),n=i||function(t){return t},this.Vo=n(this.Vo),this.uo=this.Vo.qe(this.No),this.ao=t):"DateTime"===t?("DateTime"!==this.ao&&(this.Vo=this.zo.datetime),n=i||function(t){return t},this.Vo=n(this.Vo),this.uo=this.Vo.qe(this.No),this.ao=t):"Time"===t&&("Time"!==this.ao&&(this.Vo=this.zo.time),n=i||function(t){return t},this.Vo=n(this.Vo),this.uo=this.Vo.qe(this.No),this.ao=t);return this.chart.qi.vr(),this},i.prototype.es=function(){return this.uo},i.prototype.ss=function(t,i){this.uo=t,this.ao=i,this.chart.qi.vr()},i.prototype.setInterval=function(t){var i=t.start,n=t.end,r=t.animate,e=t.stopAxisAfter;return this.wo||(this.Mo=!0,this.Jo=void 0),this.Wi(void 0!==i?i:this.Go,void 0!==n?n:this.Uo,void 0!==r&&r,void 0===e||e,"userSetInterval"),this},i.prototype.Wi=function(t,i,n,r,e){var o=this;void 0===n&&(n=!1),void 0===r&&(r=!0);var s,u,a={start:t,end:i},h="synchronizedAxis"===e||"setDefaultInterval"===e&&!1!==this.Ho,f="setDefaultInterval"!==e,c=Math.abs(i-t),l=Math.abs(this.Uo-this.Go);void 0!==this.uo.ro&&this.uo.ro>c&&(a={start:(s=(i+t)/2)-(u=(f?this.uo.ro/2:l/2)*(t>i?-1:1)),end:s+u}),void 0!==this.uo.eo&&this.uo.eo<c&&(a={start:(s=(i+t)/2)-(u=(f?this.uo.eo/2:l/2)*(t>i?-1:1)),end:s+u});var v,d=this.Yi.Wt(a.start,a.end,this.Go,this.Uo,f);if(!1===d)return this;if(!0===d);else if(a=d,"zoomBandChartOther"===e)return this;switch(e){case"userSetInterval":case"userFit":case"interactionSetInterval":case"interactionZoom":case"setDefaultInterval":case"zoomBandChartClick":v=!0;break;case"zoomBandChartOther":case"synchronizedAxis":v=!1;break;default:return $o(0,""),this}if(this.us&&this.us.finishAll(!1),this.co&&(!0===n||n>0)){this.setStopped(!0);var y=!0===n?void 0:n,A=!this.us||this.us.isOver()?this.co:this.us.NextAnimation.bind(this);this.us=A([[this.Go,a.start],[this.Uo,a.end]],(function(t){var i=qh(t,2),n=i[0],r=i[1];o.hs(n,r,{allowIntervalLengthChange:f,skipIntervalRestriction:h})}),y),this.us.addEventListener("end",(function(){o.us=void 0,v&&(o.mo=Qe.performance.now())})),this.us.addEventListener("end",(function(){o.setStopped(r)}))}else this.hs(a.start,a.end,{allowIntervalLengthChange:f,skipIntervalRestriction:h}),this.setStopped(r),v&&(this.mo=Qe.performance.now());return this},i.prototype.getInterval=function(){return{start:this.Go,end:this.Uo}},i.prototype.setStopped=function(t){return t===this.vo||(t&&(this.us&&this.us.finishAll(!1),this.us=void 0),this.vo=t,this.Ct.Tt("stoppedchange",{isStopped:this.vo}),this.do=Qe.performance.now(),this.chart.qi.vr()),this},i.prototype.getStopped=function(){return this.vo},i.prototype.fit=function(t,i){var n=this.Qo(),r=this.Xo||hf,e="function"==typeof r?r({curStart:this.Go,curEnd:this.Uo,dataMin:null==n?void 0:n.min,dataMax:null==n?void 0:n.max}):r;return this.Wi(void 0!==e.start?e.start:this.Go,void 0!==e.end?e.end:this.Uo,void 0!==t?t:void 0!==e.animate?e.animate:this.lo,void 0!==i?i:void 0===e.stopAxisAfter||e.stopAxisAfter,this.Xo?"setDefaultInterval":"userFit"),this},i.prototype.setScrollStrategy=function(t){var i,n;return(null===(i=this.fs)||void 0===i?void 0:i.dispose)&&this.fs.dispose({axis:this}),this.fs=Qh(t),this.wo||(this.Jo=void 0),(null===(n=this.fs)||void 0===n?void 0:n.init)&&this.fs.init({axis:this}),this.chart.qi.vr(),this},i.prototype.getScrollStrategy=function(){return this.fs},i.prototype.setAnimationScroll=function(t){return this.fo=Boolean(t),this.chart.qi.vr(),this},i.prototype.setAnimationZoom=function(t,i){var n=this;return void 0===i&&(i=300),this.us&&(this.us.finishAll(!1),this.us=void 0),this.co=t?ke((function(){return n.chart.qi.vr()}))(i,t):void 0,this},i.prototype.setAnimationsEnabled=function(t){return this.lo=t,t?(this.setAnimationScroll(!0),this.setAnimationZoom(Ce.ease,void 0)):(this.setAnimationScroll(void 0),this.setAnimationZoom(void 0)),this},i.prototype.getAnimationsEnabled=function(){return this.lo},i.prototype.setVisible=function(t){var i=this.Zi!==t;return this.Zi=t,this._o.setVisible(t),this.cs((function(i){i.ls.setVisible(t)})),i&&this.Ct.Tt("visiblechange",{isVisible:this.Zi}),this},i.prototype.getVisible=function(){return this.Zi},i.prototype.vs=function(t){return!1},i.prototype.ds=function(t){var i=this;this.To&&this.To(),this.title.setPointerEvents(this.title.bn.length>0);var n=this.ys(),r=n.min,e=n.max;if(!this.vs(t)||!this.As||this.Co){var o=new Map,s=new Map,u=sf(this.uo,r,e,this.Go,this.Uo,t.physicalAxisSize,Math.min(this.Go,this.Uo),Math.max(this.Go,this.Uo));this.bs();var a=ea(3,20,ro((t.physicalAxisSize-30)/270,0,1)),h=Kh(Kh({},t),this.ps(t)),f=this.gs(this.uo,Math.min(r,this.Go,this.Uo),Math.max(e,this.Go,this.Uo),u,o,h,s,a),c=this.xs(this.uo,Math.min(r,this.Go,this.Uo),Math.max(e,this.Go,this.Uo),u,o,h,f,s,a),l=new Map($h($h([],qh(f),!1),qh(c),!1)),v=this.uo.Ss,d=void 0!==this.uo.io.find((function(t){return Rh(t)&&!Tu(t.so.labelFillStyle)}));if(v&&d&&Array.from(l).reduce((function(t,i){return t+(i[1].labelText.length>0&&!Tu(i[0].ls.Zo())?1:0)}),0)<=1){this.bs(),l.clear();var y=[Math.min(this.Go,this.Uo),Math.max(this.Go,this.Uo)],A={start:this.Yi.getInnerStart(),end:this.Yi.getInnerEnd()};y.forEach((function(n){var r=i.ws(n,v,v.Ke(n,A),t,h),e=i.Ms(r.keyValue,v,h,r,r.labelText);l.set(e,r)}))}return this.Cs(),this.As=Kh(Kh(Kh({},h),this.Ts(t,l,!0)),{min:r,max:e}),this.As}var b=!1;return this.ho.forEach((function(t){t.forEach((function(i,n){(n<r||n>e)&&(i.dispose(),t.delete(n),b=!0)}))})),Kh(Kh({},this.As),{updatedTicks:b})},i.prototype.ks=function(t,i,n){var r=i.so;n.length>0?t.ls.Be(r.getLabelFillStyle()).qo(r.getLabelFont()).Os(n).setVisible(this.getVisible())._s(r.getLabelShadow()):t.ls.setVisible(!1)},i.prototype.Ms=function(t,i,n,r,e){var o=this.ho.get(i)||new Map;this.ho.set(i,o);var s=o.get(t);return s||(s=this.Fs(t,i,n,r),o.set(t,s)),this.ks(s,i,e),s.Is=!1,s},i.prototype.gs=function(t,i,n,r,e,o,s,u){var a,h,f=this,c=new Map,l=this.Fo(),v=[],d=function(t){for(var a=r.get(t).filter((function(t){return t>=i&&t<=n})),h=a.map((function(i){return f.ws(i,t,t.Ke(i,{start:f.Yi.getInnerStart(),end:f.Yi.getInnerEnd()}),o,o)})),d=function(i){var n=a[i],r=h[i],d=y.Ms(n,t,o,r,r.labelText),A=nf(d.S,d.ls.js(),r.labelPosition,r.labelAlignment,r.labelRotation,{x:0,y:0},t,l,e,u,y.chart.qi.jo);v.find((function(i,n){var r=h[n];return xs(A,nf(i.S,i.ls.js(),r.labelPosition,r.labelAlignment,r.labelRotation,{x:0,y:0},t,l,e,u,f.chart.qi.jo))}))&&d.ls.setVisible(!1),d.Is=!1,s.set(d,r),v.push(d),c.set(d,r)},A=0;A<a.length;A+=1)d(A)},y=this;try{for(var A=tf(t.$e),b=A.next();!b.done;b=A.next())d(b.value)}catch(t){a={error:t}}finally{try{b&&!b.done&&(h=A.return)&&h.call(A)}finally{if(a)throw a.error}}return c},i.prototype.xs=function(t,i,n,r,e,o,s,u,a){var h,f,c,l,v=this,d={start:this.Yi.getInnerStart(),end:this.Yi.getInnerEnd()},y=new Map,A=Array.from(s.values()),b=[],p=function(h){var f,p,g,x,S=h===t.io[t.io.length-1],w=r.get(h);if(!w)return"break";var M=void 0;if(void 0===l)M=[{start:i,end:n,keyValues:w}];else{M=[];for(var C=0;C<l.length-1;C+=1){var T=l[C],k=l[C+1],_={start:T,end:k,keyValues:[]};try{for(var O=(f=void 0,tf(w)),F=O.next();!F.done;F=O.next()){var I=F.value;I>=T&&I<k&&_.keyValues.push(I)}}catch(t){f={error:t}}finally{try{F&&!F.done&&(p=O.return)&&p.call(O)}finally{if(f)throw f.error}}_.end<i||_.start>n||M.push(_)}}if(l=w,function(t){return void 0!==t.Bs}(h))return"continue";var j=0,B=!1,D=-1,L=!0,E=[];for(C=0;C<M.length;C+=1){var P=M[C].keyValues.map((function(t){return v.ws(t,h,h.Ke(t,d),o,o)}));E=E.concat(P)}var z=void 0;if(h.so.getLabelFillStyle()!==Cu)for(z=[];++D<M.length;){var N=(_=M[D]).start,V=_.end,R=_.keyValues;if(j>0){if(void 0===h.Bo){L=!1;break}if(void 0===(R=(0,h.Bo.Ds)(_.keyValues,j-1,N,V,i,n)))break}if(P=Ko(R.map((function(t){return E.find((function(i){return i.keyValue===t}))}))),B)z=z.concat(P);else{var G=m.Oo(P,h,j,N,V,i,n,e,A,b,a);if(!0===G){j+=1,D=-1,z=[];continue}z=z.concat(G)}_!==M[M.length-1]||s.size+z.reduce((function(t,r){return t+(ks(r.keyValue,i,n)?1:0)}),0)>=2||S||B||(B=!0,j-=1,D=-1,z=[])}else z=E;var U=z.reduce((function(t,r){return t+(ks(r.keyValue,i,n)?1:0)}),0);void 0!==h.Ls&&U<h.Ls&&(z.length=0);var Y=[];try{for(var W=(g=void 0,tf(E)),X=W.next();!X.done;X=W.next()){var H=X.value;if(!(H.keyValue<i||H.keyValue>n)){var Z=z.includes(H);if(Z||"hide-tick"!==(null===(c=h.Bo)||void 0===c?void 0:c.Es)){H.labelText=Z?H.labelText:"";var J=m.Ms(H.keyValue,h,o,H,H.labelText);u.set(J,H),Y.push(H),y.set(J,H)}}}}catch(t){g={error:t}}finally{try{X&&!X.done&&(x=W.return)&&x.call(W)}finally{if(g)throw g.error}}return b=Y,L?void 0:"break"},m=this;try{for(var g=tf(t.io),x=g.next();!x.done&&"break"!==p(x.value);x=g.next());}catch(t){h={error:t}}finally{try{x&&!x.done&&(f=g.return)&&f.call(g)}finally{if(h)throw h.error}}return y},i.prototype.cs=function(t){var i,n,r,e;try{for(var o=tf(this.ho.values()),s=o.next();!s.done;s=o.next()){var u=s.value;try{for(var a=(r=void 0,tf(u.values())),h=a.next();!h.done;h=a.next())t(h.value)}catch(t){r={error:t}}finally{try{h&&!h.done&&(e=a.return)&&e.call(a)}finally{if(r)throw r.error}}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}},i.prototype.Ps=function(t,i){var n,r,e,o;try{for(var s=tf(this.ho.values()),u=s.next();!u.done;u=s.next()){var a=u.value;try{for(var h=(e=void 0,tf(a.values())),f=h.next();!f.done;f=h.next())i=t(i,f.value)}catch(t){e={error:t}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(e)throw e.error}}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},i.prototype.rs=function(){this.ho.forEach((function(t,i){t.forEach((function(t){t.dispose()}))})),this.ho.clear()},i.prototype.bs=function(){var t,i,n,r;try{for(var e=tf(this.ho.values()),o=e.next();!o.done;o=e.next()){var s=o.value;try{for(var u=(n=void 0,tf(s.values())),a=u.next();!a.done;a=u.next())a.value.Is=!0}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(i){t={error:i}}finally{try{o&&!o.done&&(i=e.return)&&i.call(e)}finally{if(t)throw t.error}}},i.prototype.Cs=function(){var t,i;try{for(var n=tf(this.ho.values()),r=n.next();!r.done;r=n.next())for(var e=r.value,o=Array.from(e.entries()),s=0;s<o.length;s+=1){var u=qh(o[s],2),a=u[0],h=u[1];h.Is&&(h.dispose(),e.delete(a))}}catch(i){t={error:i}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}},i.prototype.ys=function(){var t=this.Yi.getInnerStart()<this.Yi.getInnerEnd()?this.Yi.getInnerStart():this.Yi.getInnerEnd(),i=this.Yi.getInnerEnd()>this.Yi.getInnerStart()?this.Yi.getInnerEnd():this.Yi.getInnerStart();return f(t,i)},i.prototype.Io=function(t,i,n){return 0!==i.length&&(!Vh(n)||!0===n.zs)},i.prototype.Ns=function(t,i){return"Empty"===this.ao||(this.uo.$e.forEach((function(n){i=t(i,n.so)})),this.uo.io.forEach((function(n){Rh(n)&&(i=t(i,n.so))}))),i},i.prototype.getSeriesDataRange=function(){var t=this.Qo();if(t&&!0!==t.emptyBounds)return t},i.prototype.Je=function(t){var i=void 0!==t.forStart?t.forStart:this.Go,n=void 0!==t.forEnd?t.forEnd:this.Uo,r=this.Qo();if(r)return af(this.Jo,r,{start:n>i?r.min:r.max,end:n>i?r.max:r.min},{start:i,end:n},!0)},i.prototype.Qo=function(){var t,i=!this.fs||this.fs.considerVisibleRangeOnly,n=this.Po.Vs(i),r=this.Po.Rs(i);if(void 0!==n&&qe(n)&&void 0!==r&&qe(r)&&("logarithmic"===this.No.type&&(0===n&&(n=Math.min(1,r)),Math.sign(n)!==Math.sign(r)&&(n=Math.min(1,r-.1))),t?(t.min=Math.min(t.min,n),t.max=Math.max(t.max,r)):t=f(n,r)),t&&qe(t.min)&&qe(t.max))return no(t.min,t.max)?{min:t.min-1,max:t.max+1,emptyBounds:!0}:t},i.prototype.Gs=function(){if(!1===this.Lo)return{start:0,end:0};if("object"==typeof this.Lo)return this.Lo;var t=0,i=this.Po.Us();return i&&(t=Math.max(t,i)),{start:t,end:t}},i.prototype.setScrollMargins=function(t){return this.Lo=void 0!==t&&("number"==typeof t?{start:t,end:t}:t),this.chart.qi.vr(),this},i.prototype.getScrollMargins=function(){return this.Lo},i.prototype.setAutoRegionsEnabled=function(t){return this.setScrollMargins(t),this},i.prototype.Ys=function(){var t=this,i=this.yo,n=!1;if(this.xo&&this.Xo&&(o=this.Qo())){var r="function"==typeof this.Xo?this.Xo({curStart:this.Go,curEnd:this.Uo,dataMin:null==o?void 0:o.min,dataMax:null==o?void 0:o.max}):this.Xo;if("object"==typeof this.Xo&&!this.wo){var e=af(this.Jo,o,{start:void 0!==r.start?r.start:this.Go,end:void 0!==r.end?r.end:this.Uo},this.getInterval(),!0);e.start===r.start&&e.end===r.end||(this.Mo=!0,this.Jo=void 0)}this.Wi(void 0!==r.start?r.start:this.Go,void 0!==r.end?r.end:this.Uo,void 0!==r.animate&&r.animate,void 0===r.stopAxisAfter||r.stopAxisAfter,"setDefaultInterval"),this.xo=!1,this.Ho=void 0}if(this.fs&&!this.vo){var o;(null==(o=this.Qo())?void 0:o.emptyBounds)&&this.fs.id===Lh&&(o=void 0);var s=this.Go,u=this.Uo,a=this.fs.apply({axis:this,curStart:s,curEnd:u,seriesDataRange:o});if(a){var h=af(this.Jo,o,{start:a.start,end:a.end},{start:s,end:u},a.allowIntervalLengthChange),f=h.start,c=h.end,l=!1===no(s,f)||a.keepScrolling,v=!1===no(u,c)||a.keepScrolling;if(f=l?f:s,c=v?c:u,l||v){var d=!1;if(this.fo&&!this.Eo&&!1!==a.allowAnimation)if(this.fo){d=!0;var y=l?this.Ws(s,f):s,A=v?this.Ws(u,c):u;if(!0===this.hs(y,A,{allowIntervalLengthChange:a.allowIntervalLengthChange,skipIntervalRestriction:!1})&&(l&&!1===no(y,f)||v&&!1===no(A,c))||!0===a.keepScrolling){this.chart.qi.vr(!0),n=!0;var b=Math.abs(c-f)/Math.abs(y-A);b<1&&(b=1/b),this.Ao=b>=1.4}}else d=!1;d||(this.hs(f,c,{allowIntervalLengthChange:a.allowIntervalLengthChange,skipIntervalRestriction:!1}),!0===a.keepScrolling&&this.chart.qi.vr(!0)),this.Eo=!1}}}return n?(this.yo!==n&&(this.yo=n,this.bo=Qe.performance.now()),this.Xs&&(clearTimeout(this.Xs),this.Xs=void 0)):!0===i&&void 0===this.Xs&&(this.Ao=!1,this.Xs=setTimeout((function(){!1!==t.yo&&(t.yo=!1,t.bo=Qe.performance.now()),t.Xs=void 0,t.chart.qi.vr()}),200)),this},i.prototype.Hs=function(){var t=this.getInterval(),i=this.Qo();return"function"==typeof this.Jo?this.Jo({curStart:t.start,curEnd:t.end,dataMin:null==i?void 0:i.min,dataMax:null==i?void 0:i.max}):this.Jo},i.prototype.hs=function(t,i,n){var r={start:t,end:i},e=n.allowIntervalLengthChange,o=n.skipIntervalRestriction,s=!0;if(this.Jo&&!o){var u=this.Qo();r=af(this.Jo,u,r,{start:this.Go,end:this.Uo},e)}var a,h,f=Math.abs(i-t),c=Math.abs(this.Uo-this.Go);void 0!==this.uo.ro&&this.uo.ro>f&&(r={start:(a=(i+t)/2)-(h=(e?this.uo.ro/2:c/2)*(t>i?-1:1)),end:a+h},s=!1),void 0!==this.uo.eo&&this.uo.eo<f&&(r={start:(a=(i+t)/2)-(h=(e?this.uo.eo/2:c/2)*(t>i?-1:1)),end:a+h},s=!1);var l=this.Yi.Wt(r.start,r.end,this.Go,this.Uo,e);if(!1===l)return!1;!0!==l&&(r=l);var v=this.Gs(),d=this.Zs(r.start,r.end,v);return!!(l=this.Yi.Wt(d.start,d.end,this.Go,this.Uo,!1))&&(!0===l?this.Yi.Et(d.start,d.end):this.Yi.Et(r.start,r.end),this.Go=r.start,this.Uo=r.end,this.Ct.Tt("intervalchange",{start:r.start,end:r.end}),this.po=Qe.performance.now(),this.chart.qi.vr(),s)},i.prototype.Js=function(){return this.yo},i.prototype.Qs=function(){return void 0!==this.us},i.prototype.Wo=function(){var t,i=!1!==(null===(t=this.Yn)||void 0===t?void 0:t.displayOnAxis);this._o.Os(this.Yo&&i&&this.So?"".concat(this.So," (").concat(this.Yo,")"):this.So),this.chart.qi.vr()},i}(),of=function(){function t(t,i,n,r,e){void 0===e&&(e=n.$s(r).qs(os).Ks(os).setPointerEvents(!1)),this.Is=!1,this.Hi=!1,this.Zn=[],this.tu=t,this.S=i,this.iu=n,this.nu=r,this.ls=e,this.Zn.push(e)}return t.prototype.ar=function(t){this.Zn.forEach((function(i){return i.setVisible(t)}))},t.prototype.dispose=function(){return this.Hi||(this.Hi=!0,this.Zn.forEach((function(t){return t.dispose()}))),this},t}(),sf=function(t,i,n,r,e,o,s,u,a){var h,f,c,l;void 0===a&&(a=!1);var v,d=new Map;try{for(var y=tf(t.$e),A=y.next();!A.done;A=y.next()){var b=(g=A.value).ru(i,n,r,e,o,s,u);b=uf(b),d.set(g,b)}}catch(t){h={error:t}}finally{try{A&&!A.done&&(f=y.return)&&f.call(y)}finally{if(h)throw h.error}}try{for(var p=tf(t.io),m=p.next();!m.done;m=p.next()){var g=m.value;if(b=void 0,void 0===v)b=g.ru(i,n,i,n,o);else{if(a&&g===t.io[t.io.length-1])break;var x=[],S=v.filter((function(t){return i<=t&&t<=n})).length;if(S>0){var w=o/(S-1);if(void 0!==g.eu&&g.eu>w)break}for(var M=0;M<v.length-1;M+=1){var C=g.ru(v[M],v[M+1],i,n,o);x=x.concat(C)}b=x}b=uf(b),d.set(g,b),v=b}}catch(t){c={error:t}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(c)throw c.error}}return d},uf=function(t){return Array.from(new Set(t))},af=function(t,i,n,r,e){var o="function"==typeof t?t({curStart:r.start,curEnd:r.end,dataMin:null==i?void 0:i.min,dataMax:null==i?void 0:i.max}):t;if(!o)return n;var s={start:n.start,end:n.end},u=Math.abs(n.end-n.start);if(void 0!==o.intervalMin&&u<o.intervalMin){var a=(s.start+s.end)/2;s.start=a+.5*Math.sign(n.start-a)*o.intervalMin,s.end=a+.5*Math.sign(n.end-a)*o.intervalMin}return u=Math.abs(n.end-n.start),void 0!==o.intervalMax&&u>o.intervalMax&&(a=(s.start+s.end)/2,s.start=a+.5*Math.sign(n.start-a)*o.intervalMax,s.end=a+.5*Math.sign(n.end-a)*o.intervalMax),u=Math.abs(n.end-n.start),void 0!==o.startMin&&(s.start=Math.max(s.start,o.startMin),e||no(Math.abs(s.start-s.end),u)||(s.end=s.start+Math.sign(n.end-n.start)*u)),u=Math.abs(n.end-n.start),void 0!==o.startMax&&(s.start=Math.min(s.start,o.startMax),e||no(Math.abs(s.start-s.end),u)||(s.end=s.start+Math.sign(n.end-n.start)*u)),u=Math.abs(n.end-n.start),void 0!==o.endMin&&(s.end=Math.max(s.end,o.endMin),e||no(Math.abs(s.start-s.end),u)||(s.start=s.end+Math.sign(n.start-n.end)*u)),u=Math.abs(n.end-n.start),void 0!==o.endMax&&(s.end=Math.min(s.end,o.endMax),e||no(Math.abs(s.start-s.end),u)||(s.start=s.end+Math.sign(n.start-n.end)*u)),Math.sign(s.end-s.start)!==Math.sign(n.end-n.start)?{end:s.start,start:s.end}:s},hf=function(t){if(void 0===t.dataMin||void 0===t.dataMax)return{stopAxisAfter:!1};var i=t.curEnd>=t.curStart;return{start:i?t.dataMin:t.dataMax,end:i?t.dataMax:t.dataMin,stopAxisAfter:!1}},ff=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cf=function(i){var n=i.getDraggingMode();return void 0!==n&&n!==t.UIDraggingModes.notDraggable?n===t.UIDraggingModes.draggable?t.MouseStyles.Move:n===t.UIDraggingModes.onlyHorizontal?t.MouseStyles.Horizontal:t.MouseStyles.Vertical:void 0},lf=function(){function t(){this.Zi=!0}return Object.defineProperty(t.prototype,"draggable",{get:function(){return this.Ct.draggable},set:function(t){this.Ct.draggable=t},enumerable:!1,configurable:!0}),t.prototype.setPointerEvents=function(t){return this.Ct.setPointerEvents(t),this},t.prototype.getPointerEvents=function(){return this.Ct.getPointerEvents()},t.prototype.setVisible=function(t){var i=this.Zi!==t;return this.Zi=t,i&&this.Ct.Tt("visiblechange",{isVisible:this.Zi}),this},t.prototype.getVisible=function(){return this.Zi},t}(),vf=function(i){function n(n,r,e,s,u){var a=i.call(this)||this;a.Ct=new we,a.ou=o(50,50),a.origin=o(0,0),a.size=o(0,0),a.Hi=!1,a.su=void 0,a.uu=void 0,a.au=cf,a.hu=void 0,a.Zt=v(0,0,0,0),a.kr=n,a.renderingScale=r,a.scale=e,a.$i=s,a.en=u,a.kr.vr(),a.en=u,a.addEventListener("pointerenter",(function(){var t="function"==typeof a.au?a.au(a):a.au;t&&(a.uu=a.kr.qi.fu(t))})),a.addEventListener("pointerleave",(function(){a.kr.qi.cu(a.uu)}));var h=function(i){var n=a.getDraggingMode();if(n!==t.UIDraggingModes.notDraggable){wo(i);var r=i,e=function(i){var e={x:i.clientX-r.clientX,y:i.clientY-r.clientY};r=i;var o=a.scale.Bi(a.getPosition(),{x:n!==t.UIDraggingModes.onlyVertical?e.x:0,y:n!==t.UIDraggingModes.onlyHorizontal?-e.y:0}),s=a.scale,u=a.getSize(),h=a.getOrigin(),f=s.Bi({x:s.x.getInnerStart(),y:s.y.getInnerStart()},Xs({x:(1+h.x)/2,y:(1+h.y)/2},u)),c=s.Bi({x:s.x.getInnerEnd(),y:s.y.getInnerEnd()},Xs({x:(h.x-1)/2,y:(h.y-1)/2},u)),l={x:Math.min(Math.max(o.x,f.x),c.x),y:Math.min(Math.max(o.y,f.y),c.y)};a.setPosition(l)},o=function(t){a.kr.qi.lu.removeEventListener("pointermove",e),a.kr.qi.lu.removeEventListener("pointerup",o),a.addEventListener("pointerdown",h)};a.removeEventListener("pointerdown",h),a.kr.qi.lu.addEventListener("pointermove",e),a.kr.qi.lu.addEventListener("pointerup",o)}};return a.addEventListener("pointerdown",h),a}return ff(n,i),n.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},n.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},n.prototype.setPointerEvents=function(t){return this.Ct.setPointerEvents(t),this},n.prototype.getPointerEvents=function(){return this.Ct.getPointerEvents()},n.prototype.setEffect=function(t){return this.Qn=this.Qn||this.kr.qi.Qn.Kn(this,{vu:{shapes:this.du()}}),this.Qn.vu.lr(t),this},n.prototype.getEffect=function(){return!!this.Qn&&this.Qn.vu.dr()},n.prototype.setAutoDispose=function(t){return this.hu=t,this.kr.vr(),this},n.prototype.getAutoDispose=function(){return this.hu},n.prototype.getSize=function(i){return void 0===i&&(i=t.UISpace.Everything),i===t.UISpace.Everything?o(this.size.x+(this.Zt.left+this.Zt.right),this.size.y+(this.Zt.bottom+this.Zt.top)):this.size},n.prototype.setContentSize=function(t){this.size=t},n.prototype.setMargin=function(t){return this.Zt="object"==typeof t?y(this.Zt,t):{left:t,top:t,right:t,bottom:t},this.kr.vr(),this},n.prototype.getMargin=function(){return this.Zt},n.prototype.Le=function(){if(this.hu){var t=this.size,i=this.renderingScale.ai(),n={x:t.x/i.x,y:t.y/i.y};("max-width"===this.hu.type&&n.x>=this.hu.maxWidth||"max-height"===this.hu.type&&n.y>=this.hu.maxHeight)&&this.dispose()}return this},n.prototype.ds=function(){return this},n.prototype.dispose=function(){return this.Hi||(this.kr.vr(),this.Hi=!0,this.$i(this),this.Ct.Tt("dispose",{}),this.du().forEach((function(t){return t.dispose()}))),this},n.prototype.setVisible=function(t){return i.prototype.setVisible.call(this,t),this.du().forEach((function(i){return i.setVisible(t)})),this.kr.vr(),this},n.prototype.isDisposed=function(){return this.Hi},n.prototype.setPosition=function(t){return this.ou=t,this.kr.vr(),this},n.prototype.getPosition=function(i,n){void 0===i&&(i=this.origin),void 0===n&&(n=t.UISpace.Everything);var r=this.getSize(t.UISpace.Everything),e=this.scale.Bi(this.ou,Xs({x:-(this.origin.x+1)/2,y:-(this.origin.y+1)/2},r));if(n===t.UISpace.Everything)return this.scale.Bi(e,Xs({x:(i.x+1)/2,y:(i.y+1)/2},r));var o=this.scale.Bi(e,{x:this.Zt.left,y:this.Zt.bottom}),s=this.getSize(t.UISpace.Content);return this.scale.Bi(o,Xs({x:(i.x+1)/2,y:(i.y+1)/2},s))},n.prototype.setOrigin=function(t){return this.origin=t,this.kr.vr(),this},n.prototype.getOrigin=function(){return this.origin},n.prototype.setDraggingMode=function(i){return void 0===i&&(i=t.UIDraggingModes.notDraggable),this.su=i,this.kr.vr(),this},n.prototype.getDraggingMode=function(){return void 0!==this.su?this.su:t.UIDraggingModes.notDraggable},n.prototype.setMouseStyle=function(t){return this.au=t,this},n.prototype.getMouseStyle=function(){return this.au},n}(lf),df=function(i){function n(t,n,r,e,o,s){var u=i.call(this,t,n,r,o,s)||this;return u.yu=v(),u.Au=0,u.bu=e,u.backgroundElement=new u.bu(u.kr,u.renderingScale,u.scale,io,s),u.Ct.Mn(u.backgroundElement),u}return ff(n,i),n.prototype.setPointerEvents=function(t){return i.prototype.setPointerEvents.call(this,t),this.backgroundElement.setPointerEvents(t),this},n.prototype.du=function(){return this.backgroundElement.du()},n.prototype.setBackground=function(t){return t(this.backgroundElement),this},n.prototype.getBackground=function(){return this.backgroundElement},n.prototype.Le=function(){return i.prototype.Le.call(this),this.Hi||(void 0!==this.pu&&(this.backgroundElement.pu=this.pu-.01),this.backgroundElement.setOrigin(this.origin).setPosition(this.getPosition(this.origin,t.UISpace.PaddedBackground)).Le()),this},n.prototype.ds=function(){var n=this.getSize(t.UISpace.PaddedContent);return this.backgroundElement.mu(n).ds(),i.prototype.ds.call(this)},n.prototype.dispose=function(){return i.prototype.dispose.call(this),this.backgroundElement.dispose(),this},n.prototype.setVisible=function(t){return i.prototype.setVisible.call(this,t),this.backgroundElement.setVisible(t),this},n.prototype.setPadding=function(t){return this.yu="object"==typeof t?y(this.yu,t):{left:t,top:t,right:t,bottom:t},this.kr.vr(),this},n.prototype.getPadding=function(){return this.yu},n.prototype.getSize=function(n){void 0===n&&(n=t.UISpace.Everything);var r=i.prototype.getSize.call(this,n);return n>=t.UISpace.PaddedContent&&(r=o(r.x+this.yu.left+this.yu.right,r.y+this.yu.bottom+this.yu.top)),n>=t.UISpace.PaddedBackground&&(r=o(r.x+this.backgroundElement.gu()+this.backgroundElement.xu(),r.y+this.backgroundElement.Su()+this.backgroundElement.wu())),r},n.prototype.getPosition=function(n,r){if(void 0===n&&(n=this.origin),void 0===r&&(r=t.UISpace.Everything),r===t.UISpace.Everything)return i.prototype.getPosition.call(this,n,r);var e=i.prototype.getPosition.call(this,o(-1,-1),t.UISpace.Everything),s=this.getMargin(),u=this.scale.Bi(e,{x:s.left,y:s.bottom});if(r===t.UISpace.PaddedBackground){var a=this.getSize(t.UISpace.PaddedBackground);return this.scale.Bi(u,Xs({x:(n.x+1)/2,y:(n.y+1)/2},a))}var h=this.scale.Bi(u,{x:this.backgroundElement.gu(),y:this.backgroundElement.Su()});if(r===t.UISpace.PaddedContent){var f=this.getSize(t.UISpace.PaddedContent);return this.scale.Bi(h,Xs({x:(n.x+1)/2,y:(n.y+1)/2},f))}var c=this.getPadding(),l=this.scale.Bi(h,{x:c.left,y:c.bottom}),v=this.getSize(t.UISpace.Content);return this.scale.Bi(l,Xs({x:(n.x+1)/2,y:(n.y+1)/2},v))},n.prototype.getHighlight=function(){return this.Au},n.prototype.setHighlight=function(t){return this.Au=qo(t),this.backgroundElement.setHighlight(t),this.Ct.Tt("highlightchange",{highlight:this.Au}),this},n}(vf),yf=function(t){return"setBackground"in t},Af=function(i){var n=i.getPosition({x:-1,y:-1},t.UISpace.PaddedBackground),r=i.getSize(t.UISpace.PaddedBackground),e=i.scale.Bi(n,r),o=ee(n,i.scale,i.kr.qi.Yi),s=ee(e,i.scale,i.kr.qi.Yi),u=i.kr.qi.Mu(o.x,o.y),a=i.kr.qi.Mu(s.x,s.y);return{p1:{clientX:u.x,clientY:u.y},p2:{clientX:a.x,clientY:a.y}}},bf=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pf=function(t){function i(i,n,r,e,o,s,u,a,h,f,c){var l=t.call(this)||this;return l.S=0,l.Cu=1,l.Tu=!0,l.ku=new Br,l._u=!0,l.Hi=!1,l.Ct=new we,l.axisScale=e,l.renderingScale=o,l.Ou=u,l.Fu=a,l.Iu=h,l.$i=f,l.ju=n,l.Bu=r,l.Du=l.ju.We(l.renderingScale),l.Ct.xn(l.Du),l.en=c,l.Lu=l.Iu.setDirection(l.Fu).Eu(l.Bu,l.renderingScale,s,io,l.en,!1).setOrigin(xo(l.Fu)),l.Ct.Mn(l.Lu),l.axis=i,l.setPointerEvents(!1),"major"===l.Lu.Pu?l.Du.Ye(c.xAxisNumericTicks.majorTickStyle.gridStrokeStyle):"minor"===l.Lu.Pu?l.Du.Ye(c.xAxisNumericTicks.minorTickStyle.gridStrokeStyle):"other"===l.Lu.Pu&&l.Du.Ye(c.cursorGridStrokeStyleX),l}return bf(i,t),i.prototype.setValue=function(t){return this.S=t,this.Bu.vr(),this.Ct.Tt("valuechange",{value:this.S}),this},i.prototype.getValue=function(){return this.S},i.prototype.setTextFormatter=function(t){return this.zu=t,this.Bu.vr(),this},i.prototype.setTickLength=function(t){return this.Lu.setPointerLength(t),this.ju.vr(),this},i.prototype.getTickLength=function(){return this.Lu.getPointerLength()},i.prototype.setTickLabelAlignment=function(t,i){return this.Lu.setTickLabelAlignment(t,i),this.ju.vr(),this},i.prototype.getTickLabelAlignment=function(){return this.Lu.getTickLabelAlignment()},i.prototype.setTickLabelPadding=function(t){return this.Lu.setTickLabelPadding(t),this.ju.vr(),this},i.prototype.setTickLabelRotation=function(t){return this.Lu.setTextRotation(t),this.ju.vr(),this},i.prototype.getTickLabelRotation=function(){return this.Lu.getTextRotation()},i.prototype.getTickLabelPadding=function(){return this.Lu.getTickLabelPadding()},i.prototype.setGridStrokeLength=function(t){return this.Cu=t,this.ju.vr(),this},i.prototype.getGridStrokeLength=function(){return this.Cu},i.prototype.setGridStrokeStyle=function(t){return this.Du.Ye(t),this.ju.vr(),this},i.prototype.getGridStrokeStyle=function(){return this.Du.Nu()},i.prototype.dispose=function(){return this.Hi||(this.Hi=!0,this.Du.dispose(),this.Lu.dispose(),this.$i(this),this.ju.qi.vr(),this.Ct.Tt("dispose",{})),this},i.prototype.setMarkerVisible=function(t){return this.Tu=t,this.Bu.vr(),this},i.prototype.getMarkerVisible=function(){return this.Tu},i.prototype.setMarker=function(t){return t(this.Lu),this.Bu.vr(),this},i.prototype.getMarker=function(){return this.Lu},i.prototype.setPointerEvents=function(t){return this.Ct.setPointerEvents(t),this},i.prototype.getPointerEvents=function(){return this.Ct.getPointerEvents()},i.prototype.setAllocatesAxisSpace=function(t){return this._u=t,this.Bu.vr(),this},i.prototype.getAllocatesAxisSpace=function(){return this._u},i.prototype.isInScale=function(){return ks(this.S,this.axisScale.getInnerStart(),this.axisScale.getInnerEnd())},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(lf),mf=function(t){function i(i,n,r,e,o,s,u,a,h,f,c){var l=t.call(this,i,n,r,e,o,s,u,a,c,h,f)||this;return l.Vu=!1,l.$i=h,l.ju=n,l.Bu=r,l}return bf(i,t),i.prototype.dispose=function(){return this.Vu=!1,t.prototype.dispose.call(this)},i.prototype.update=function(){return this},i.prototype.plot=function(t,i,n,r,e){if(this.isInScale()&&this.getVisible()&&t){this.Vu=!1;var o=re(this.S,this.axisScale,this.Ou.getWidth(this.renderingScale));this.Du.setVisible(!0).He(this.Ou.toPoint(o,i)).Xe(this.Ou.toPoint(o,i-(r+n*this.Cu))),this.Tu?(this.zu&&this.Lu.setText(this.zu(this.S,this)),this.Lu.setVisible(!0).setPosition(this.Ou.toPoint(o,e))):this.Lu.setVisible(!1)}else this.Du.setVisible(!1),this.Lu.setVisible(!1);return this.Lu.ds().Le(),this},i.prototype.Ru=function(){this.Tu?(this.zu&&this.Lu.setText(this.zu(this.S,this)),this.Lu.setVisible(!0)):this.Lu.setVisible(!1);var t=this.Lu.ds().getSize();return this.Ou.getHeight(t)},i}(pf),gf={Gu:"X0Z1bGxBY2Nlc3M=",Uu:"X0Jhc2VDaGFydHM=",Yu:"RGF0YSBHcmlk",Wu:"X0hhc0hhcmRFeHBpcmF0aW9u",Xu:"X0lzVHJpYWw=",Hu:"X0lzQ29tbXVuaXR5",Zu:"T0hMQyBTZXJpZXM=",Ju:"QmFyIENoYXJ0",Qu:"c2xpY2VkIGNoYXJ0cw==",Ku:"R2F1Z2UgQ2hhcnQ=",qu:"U3BpZGVyIENoYXJ0",$u:"UG9sYXIgQ2hhcnQ=",ta:"M0QgQ2hhcnQ=",ia:"Wm9vbSBCYW5kIENoYXJ0",na:"TWFwIENoYXJ0",ra:"WFkgQ2hhcnQ=",ea:"WFkgU2VyaWVz",oa:"SGVhdG1hcCBTZXJpZXM=",sa:"RmlndXJlIFNlcmllcw==",ua:"bG9nYXJpdGhtaWMgYXhpcw==",aa:"cmVhbC10aW1lIHZpc3VhbGl6YXRpb24=",ha:"aW5kaXZpZHVhbCBwb2ludCBzaXpl",fa:"aW5kaXZpZHVhbCBwb2ludCBjb2xvcg==",ca:"VHJlZU1hcCBDaGFydA==",la:"UGFyYWxsZWwgQ29vcmRpbmF0ZSBDaGFydA==",va:"X1B5dGhvbkxpY2Vuc2U=",da:"X1N0dWRlbnRMaWNlbnNl"},xf=function(){return xf=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},xf.apply(this,arguments)},Sf=function(t,i){return t.setTextFillStyle(i.uiTextFillStyle).setTextFont(i.uiTextFont)},wf=function(t,i,n){n&&yf(t)&&t.setBackground((function(t){return t.setFillStyle(i.uiBackgroundFillStyle).setStrokeStyle(i.uiBackgroundStrokeStyle)})).setEffect(!0)},Mf={uiElement:void 0,stylers:an(),addStyler:function(t){return xf(xf({},this),{stylers:this.stylers.push(t)})},applyStylers:function(t,i){return this.stylers.forEach((function(n){return void 0!==n?n(t,i):void 0})),t}},Cf={background:void 0,setBackground:function(t){return xf(xf({},this),{background:t})}},Tf={Eu:function(t,i,n,r,e,o){var s=this.applyStylers(new this.uiElement(t,i,n,r,e),e);return wf(s,e,o),s}},kf={Eu:function(t,i,n,r,e,o){var s=this.applyStylers(new this.uiElement(t,i,n,this.background,r,e),e);return wf(s,e,o),s}},_f=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Of=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.ya=!0,i}return _f(i,t),i.prototype.Le=function(){return t.prototype.Le.call(this),this},i.prototype.setPointerEvents=function(t){return this.ya=t,this},i.prototype.getPointerEvents=function(){return this.ya},i.prototype.du=function(){return[]},i}(vf),Ff=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return _f(i,t),i.prototype.mu=function(t){return this.size=t,this},i.prototype.gu=function(){return 0},i.prototype.xu=function(){return 0},i.prototype.wu=function(){return 0},i.prototype.Su=function(){return 0},i.prototype.setHighlight=function(t){return this},i.prototype.getHighlight=function(){return 0},i.prototype.setFillStyle=function(){return this},i.prototype.getFillStyle=function(){return Cu},i.prototype.setStrokeStyle=function(){return this},i.prototype.getStrokeStyle=function(){return Pe},i.prototype.setStrokeThickness=function(){return this},i.prototype.getStrokeThickness=function(){return 0},i}(Of),If=function(){function t(t){this.Aa=new Map,this.qi=t}return t.prototype.tr=function(t,i,n){var r=this,e=n.animationEnabled;this.Aa.set(t,{applyHighlight:i,curUnanimatedHighlightValue:0,curAnimationPositionMillis:0,animationEnabled:e,curAnimatedHighlightValue:0});var o=function(){r.Aa.delete(t),t.removeEventListener("dispose",o)};Qe.requestAnimationFrame((function(){t.addEventListener("dispose",o)}))},t.prototype.ba=function(t,i){var n=this,r=i.animationEnabled,e=[],o=function(){e.forEach((function(t){n.Aa.delete(t)})),t.removeEventListener("dispose",o)};return Qe.requestAnimationFrame((function(){t.addEventListener("dispose",o)})),{pa:function(t,i){var o={applyHighlight:i,curUnanimatedHighlightValue:0,curAnimationPositionMillis:0,animationEnabled:r,curAnimatedHighlightValue:0};e.push(t),n.Aa.set(t,o)},ma:function(){e.forEach((function(t){n.Aa.delete(t)})),e.length=0},ga:function(t){r=t,e.forEach((function(t){n.mr(t,r)}))},xa:function(){return r}}},t.prototype.pr=function(t,i){var n=this.Aa.get(t);n&&(n.curUnanimatedHighlightValue=qo(i),this.qi.vr())},t.prototype.sr=function(t,i){void 0===i&&(i=!1);var n=this.Aa.get(t);return n?i?n.curAnimatedHighlightValue:n.curUnanimatedHighlightValue:0},t.prototype.mr=function(t,i){var n=this.Aa.get(t);n&&(n.animationEnabled=i)},t.prototype.gr=function(t){var i=this.Aa.get(t);return!!i&&i.animationEnabled},t.prototype.ds=function(t){var i=!1;this.Aa.forEach((function(n,r){var e;if(n.animationEnabled)if(n.curUnanimatedHighlightValue>0){var o=n.curAnimationPositionMillis/1e3;e=n.curUnanimatedHighlightValue*Math.abs(Math.sin(o*Math.PI/2+.5));var s=0===n.curAnimatedHighlightValue?1:t;n.curAnimationPositionMillis+=s,i=!0}else n.curAnimatedHighlightValue>0&&0===n.curUnanimatedHighlightValue?(e=Math.max(n.curAnimatedHighlightValue-t/1e3,0),i=i||e>0):e=0,n.curAnimationPositionMillis=0;else e=n.curUnanimatedHighlightValue;e!==n.curAnimatedHighlightValue&&(n.applyHighlight(e),n.curAnimatedHighlightValue=e)})),i&&this.qi.vr(!0)},t}(),jf=new Map,Bf=function(t,i){var n=t.getSize(),r=t.getFamily(),e=t.getWeight(),o=t.getStyle(),s=t.getVariant(),u=s?"small-caps":"normal",a="".concat(o," ").concat(u," ").concat(e," ").concat(n,"px ").concat(r),h="".concat(a," ").concat(i.toFixed(2)),f=jf.get(h);return f||(f=function(t,i,n,r){return{font:t,properties:i,dpr:n,id:r}}(a,{type:"font",size:n,family:r,style:o,variant:s,weight:e},i,h),jf.set(h,f)),f},Df=function(){return Df=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Df.apply(this,arguments)},Lf=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Ef=[],Pf=function(){if(void 0!==Oh){var t=Qe.getComputedStyle(Qe.document.body),i=Number(t.getPropertyValue("margin-top").replace("px",""))+Number(t.getPropertyValue("margin-bottom").replace("px",""));Oh.style.height="".concat(Qe.innerHeight-i,"px"),function(){for(var t=0;t<Ef.length;t+=1)Ef[t]()}()}},zf=new _u({color:Mr(255,255,255)}),Nf={font:Bf(Lr,0),fillStyle:zf,lineStyle:new Ta({fillStyle:zf,thickness:1}),pointStyle3D:new wa.Triangulated},Vf=function(){function t(t,i,n){var r=this;this.Yi=ne.d2({scaleXYConstructor:$r}),this.Sa=new Map,this.wa=ke((function(){return r.vr()}),60),this.Ma=o(0,0),this.Ca=!1,this.Ta=io,this.ka=function(){},this._a=[],this.Oa=-1,this.Fa=[],this.Hi=!1,this.Ia=!1,this.ja=function(t){t.dataTransfer&&t.dataTransfer.setDragImage(new Image,0,0)},this.Ba=new Map,this.Da=function(t,i){var n,e,o,s=i instanceof PointerEvent&&i,u=Me(i)?{clientX:i.changedTouches[0].clientX,clientY:i.changedTouches[0].clientY}:{clientX:i.clientX,clientY:i.clientY};if(s){if(!s.pointerType)return;r.La=i}var a=r.cr({x:u.clientX,y:u.clientY});if(("pointermove"===t||"pointerenter"===t)&&a&&s){var h=c=r.Ba.get(s.pointerId);h||(h={lastEvent:s,entity:a.entity,collectionMember:a.collectionMember,info:a.info},r.Ba.set(s.pointerId,h));var f=void 0===c||c.entity!==a.entity||c.collectionMember!==a.collectionMember;f&&c&&c.entity.Tt("pointerleave",i,c.collectionMember,c.info),f&&a&&a.entity.Tt("pointerenter",i,a.collectionMember,a.info),a&&(a.entity.Tt("pointermove",i,a.collectionMember,a.info),r.lu.draggable=null!==(n=a.entity.Ji)&&void 0!==n&&n),h.lastEvent=s,h.entity=a.entity,h.collectionMember=a.collectionMember,h.info=a.info}else if("pointerleave"===t&&s){var c;(c=r.Ba.get(s.pointerId))&&(c.entity.Tt("pointerleave",i,c.collectionMember,c.info),r.Ba.delete(s.pointerId))}else if("click"===t&&s)(l=(null===(e=r.Ea)||void 0===e?void 0:e.event)instanceof PointerEvent&&r.Ea.event.pointerId===s.pointerId&&r.Ea)&&l.entity.Tt("click",s,l.collectionMember,l.info);else if("dblclick"===t&&i instanceof MouseEvent){var l;(l="click"===(null===(o=r.Ea)||void 0===o?void 0:o.event.type)&&r.Ea)&&l.entity.Tt("dblclick",i,l.collectionMember,l.info)}else{var v=i instanceof PointerEvent?r.Ba.get(i.pointerId):a;null==v||v.entity.Tt(t,i,v.collectionMember,v.info)}i&&a&&!["touchend"].includes(t)&&(r.Ea=Df(Df({},a),{event:i}))},this.Pa=function(){var t=r.lu.getBoundingClientRect(),i=t.bottom,n=t.left,e=o(Math.floor(n),Math.floor(i));return e.x===r.Ma.x&&e.y===r.Ma.y||r.Ct.Tt("locationchange",{}),r.Ma=e,r.za=Qe.performance.now(),r},this.Na=function(){r.Va&&r.Va()},this.fu=function(t,i){if(void 0!==i){var n=r.Fa.find((function(t){return t[0]===i}));return n&&(n[1]=t,r.Fa.indexOf(n)===r.Fa.length-1&&(r.lu.style.cursor=t)),i}var e=r.Oa;return r.Oa+=1,r.Fa.push([e,t]),r.lu.style.cursor=t,e},this.cu=function(t){var i,n=r.Fa.find((function(i){return i[0]===t}));if(n){var e=r.Fa.indexOf(n),o=e===r.Fa.length-1;if(r.Fa.splice(e,1),o){var s=(null===(i=r.Fa[r.Fa.length-1])||void 0===i?void 0:i[1])||"default";r.lu.style.cursor=s}}},this.Ra=function(t){return r.Ga.C(t),r},this.Ua=function(){return r.Ga.T()},this.Ya=function(){r.Ta&&r.Ta(1e3/60),r.Wa(),r.Xa(),r.ka&&r.ka()},this.Ha=function(t){return r.Sa.set(t.Za(),t),r.Sa=new Map(function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}([],function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(r.Sa.entries()),!1).sort((function(t,i){return t[0]-i[0]}))),t},this.Ja=function(t){return r.Sa.delete(t),r},this.Dt=function(){return r.Ga.o=!1,r},this.Lt=function(){return r.Ga.o=!0,r},this.Qa=function(){return r.La},this.Ct=new we,this.Ka=t,this.en=i.theme,this.qa=n.qa,this.$a=n.th,this.ih={$r:i&&void 0!==i.resourcesBaseUrl&&null!==i.resourcesBaseUrl?i.resourcesBaseUrl:void 0,rh:!i||!("warnings"in i)||"boolean"!=typeof i.warnings||i.warnings,eh:function(){var t=null==i?void 0:i.pickingPrecision;if("string"==typeof t){var n=t.toLowerCase();if("best"===n)return 1;if("high"===n)return.5;if("low"===n)return 1/8}return 1/4}(),oh:void 0===(null==i?void 0:i.interactable)||i.interactable,uh:void 0===i.textPixelSnappingEnabled||i.textPixelSnappingEnabled};var e=i?i.container:void 0;if(e){if("string"==typeof e){var s=Qe.document.getElementById(e);if(!s)throw new Error('Container "'.concat(e,"\" doesn't exist."));this.lu=s}else this.lu=e;Qe.addEventListener("resize",this.Na),this._a.push((function(){Qe.removeEventListener("resize",r.Na)}))}else{if(void 0===Oh){var u=Qe.document.createElement("div");u.id="lcjs-auto-flexbox",u.style.position="relative",u.style.width="100%",u.style.display="flex",u.style.flexDirection="column",Qe.document.body.appendChild(u),Oh=u,Qe.addEventListener("resize",Pf)}for(var a=1;null!==Qe.document.getElementById("chart-".concat(a));)a+=1;this.lu=Qe.document.createElement("div"),this.lu.id="chart-".concat(a),this.lu.style.flex="1",this.lu.style.height="100%",Oh.appendChild(this.lu),Pf(),Ef.push(this.Na),this._a.push((function(){Oh&&Oh.removeChild(r.lu),Ef.includes(r.Na)&&Ef.splice(Ef.indexOf(r.Na),1),0===Ef.length&&Oh&&(Qe.document.body.removeChild(Oh),Oh=void 0,Qe.removeEventListener("resize",Pf))}))}Qe.ResizeObserver&&(this.ah=new Qe.ResizeObserver(function(t){var i,n;try{for(var e=Lf(t),o=e.next();!o.done;o=e.next())o.value.target===r.lu&&r.Na()}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=e.return)&&n.call(e)}finally{if(i)throw i.error}}}.bind(this)),this.ah.observe(this.lu)),this.lu.style.position="relative",this.lu.style.boxSizing="content-box",!1!==this.ih.oh&&(this.lu.style.touchAction="none"),this.lu.style.overflow="hidden",this.lu.addEventListener("fullscreenchange",this.Na),this.lu.addEventListener("webkitfullscreenchange",this.Na),this.lu.addEventListener("dragstart",this.ja);var h=i?i.maxFps:void 0;this.hh=h?-1===h?-1:0!==h?1e3/h:0:0,Object.keys(Se).forEach((function(t){var i=function(i){r.Da(t,i)};r.lu.addEventListener(t,i),r._a.push((function(){r.lu.removeEventListener(t,i)}))})),Qe.addEventListener("scroll",this.Pa,{passive:!0}),this.Ga=l(new Sr({r:0,g:0,b:0,a:0})),this.ir=new If(this)}return t.prototype.fh=function(t,i,n){this.dh=t?{entity:t,timestamp:n,pointed:i}:void 0},t.prototype.Ah=function(t,i){var n=Array.from(this.Ba.values()).find((function(i){return i.entity===t.entity&&(void 0===t.collectionMember||t.collectionMember===i.collectionMember)}));n&&(n.entity=i.entity,n.collectionMember=i.collectionMember)},t.prototype.fn=function(t,i){void 0===i&&(i=void 0);var n=Array.from(this.Ba.values()).find((function(n){return n.entity===t&&(void 0===i||i===n.collectionMember)}));n&&(t.Tt("pointerleave",n.lastEvent,n.collectionMember,n.info),this.Ba.delete(n.lastEvent.pointerId))},t.prototype.bh=function(){this.Ia=!0,this.Ta=void 0,this.ka=void 0},t.prototype.ph=function(){this.Fa.length=0,this.lu.style.cursor="unset"},t.prototype.mh=function(){return this.gh},t.prototype.Sh=function(){return this.wh},t.prototype.setBackgroundFillStyle=function(t){return this.Mh.Be(t),this.vr(),this},t.prototype.getBackgroundFillStyle=function(){return this.Mh.Zo()},t.prototype.setBackgroundStrokeStyle=function(t){return this.Mh.je(t),this.vr(),this},t.prototype.getBackgroundStrokeStyle=function(){return this.Mh.Ch()},t.prototype.Th=function(t){return this.ka=t,this},t.prototype.kh=function(t){return this.Ta=t,this},t.prototype._h=function(t){return this.Sa.get(t)},t.prototype.Oh=function(){return Array.from(this.Sa.keys()).reverse().reduce((function(t,i){return i!==Number.MAX_SAFE_INTEGER&&i>t?i:t}),0)+1},t.prototype.Ft=function(){var t,i;if(!this.Hi){if(this.Hi=!0,this.Sa)try{for(var n=Lf(this.Sa.values()),r=n.next();!r.done;r=n.next())r.value.Ft()}catch(i){t={error:i}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}this.Ta=void 0,this.ka=void 0,Qe.removeEventListener("scroll",this.Pa),this.lu.removeEventListener("fullscreenchange",this.Na),this.lu.removeEventListener("webkitfullscreenchange",this.Na),this.lu.removeEventListener("dragstart",this.ja),this.ah&&(this.ah.disconnect(),this.ah=void 0),this._a.forEach((function(t){t()})),this._a.length=0}},t.prototype.Ne=function(t,i){return o(t-this.Ma.x,this.Ma.y-i)},t.prototype.Mu=function(t,i){return o(t+this.Ma.x,this.Ma.y-i)},t.prototype.Fh=function(t){var i=this.Ne(t.clientX,t.clientY);return{engineX:i.x,engineY:i.y}},t.prototype.Ih=function(t){var i=this.Mu(t.engineX,t.engineY);return{clientX:i.x,clientY:i.y}},t.prototype.jh=function(t,i,n,r){var e=ee(t,n,this.Yi),o=ee(i,n,this.Yi),s=this.Ih({engineX:e.x,engineY:e.y}),u=this.Ih({engineX:o.x,engineY:o.y});return{p1:{clientX:Math.min(s.clientX,u.clientX)-r.left,clientY:Math.min(s.clientY,u.clientY)-r.top},p2:{clientX:Math.max(s.clientX,u.clientX)+r.right,clientY:Math.max(s.clientY,u.clientY)+r.bottom}}},t.prototype.kt=function(t,i,n){this.Ct.addEventListener(t,i,n)},t.prototype.Ot=function(t,i){this.Ct.removeEventListener(t,i)},t}(),Rf=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gf=function(t){function i(i,n,r,e){var o=t.call(this,i,r,e)||this;return o.pu=0,o.kr=n,o.kr.Bh=!0,o}return Rf(i,t),i.prototype.Dh=function(){},i.prototype.Lh=function(t){return this.pu===t||(this.pu=t,this.kr.Bh=!0),this},i.prototype.Eh=function(){return this.pu},i}(ge),Uf=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yf=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Wf=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,e,o)||this;return s.Ph=!0,s.Yi=r,s}return Uf(i,t),i}(Gf),Xf=function(t,i,n){if(n instanceof $r){var r=n.Gi(),e=Xs(i,{x:Math.abs(r.x),y:Math.abs(r.y)});return f(o(t.min.x-e.x,t.min.y-e.y),o(t.max.x+e.x,t.max.y+e.y))}return f(n.Bi(o(t.min.x,t.min.y),Us(i,-1)),n.Bi(o(t.max.x,t.max.y),i))},Hf=function(t,i){return"function"==typeof i?i(t):i},Zf=function(t,i){return!t||t!==i},Jf=function(t){return t!==Cu},Qf=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.Oe=Nf.fillStyle,s.qi=i,s}return Uf(i,t),i.prototype.Be=function(t){return this.Oe=Hf(this.Oe,t),this},i.prototype.Zo=function(){return this.Oe},i.prototype.zh=function(){return Zf(this.Nh,this.Oe)},i.prototype.Vh=function(){return t=this.Nh,i=this.Oe,t===Cu&&i!==Cu;var t,i},i.prototype.Rh=function(){return Jf(this.Oe)},i.prototype.Gh=function(t){this.Nh=t},i}(Wf),Kf=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.Fe=Nf.lineStyle,s.qi=i,s}return Uf(i,t),i.prototype.je=function(t){return this.Fe="function"==typeof t?t(this.Fe):t,this},i.prototype.Ch=function(){return this.Fe},i.prototype.Uh=function(){return!this.Yh||this.Yh!==this.Fe},i.prototype.Wh=function(t){return!this.Yh||this.Yh.getThickness()!==t},i.prototype.Rh=function(){return this.Fe!==Pe||t.prototype.Rh.call(this)},i.prototype.Vh=function(){return(this.Fe!==Pe||this.Oe!==Cu)&&this.Yh===Pe&&this.Nh===Cu},i.prototype.Xh=function(t){this.Yh=t},i}(Qf),qf=function(t){function i(i,n,r,e,o,s){void 0===s&&(s=l(5));var u=t.call(this,i,n,r,e,o)||this;return u.size=l(5),u.size=s,u}return Uf(i,t),i.prototype.zt=function(t){return this.size.C(t),this},i}(Qf),$f=function(t){function i(i,n,r,e,s,u){void 0===u&&(u=l(Nf.font));var a=t.call(this,i,n,r,e,s)||this;return a.Hh=l(""),a.Zh=!1,a.Jh={x:1,y:-1},a.ou=l(o(0,0)),a.Qh=l(0),a.Kh=l(0),a.qh=l(o(0,0)),a.$h=l(0),a.tf=l(Lr),a.$=o(0,0),a.Zt=l(v(1,1,1,1)),a.yu=l(d(4,4,4,4)),a.font=l(Nf.font),a.if=!1,a.font=u,a}return Uf(i,t),i.prototype.Rh=function(){return Jf(this.Oe)&&this.Hh.T().length>0},i.prototype.Vh=function(){return!1===this.if&&this.Rh()},i.prototype.Os=function(t){return this.Hh.C(t),this},i.prototype.js=function(){return this.Hh.T()},i.prototype.qo=function(t){return Dr(t)?this.tf.C(t):this.tf.C(t(this.tf.T())),this},i.prototype.Ko=function(){return this.tf.T()},i.prototype.nf=function(t){return this.tf.C(this.tf.T().setFamily(t)),this},i.prototype.rf=function(){return this.tf.T().getFamily()},i.prototype.ef=function(t){return this.tf.C(this.tf.T().setSize(t)),this},i.prototype.sf=function(){return this.tf.T().getSize()},i.prototype.uf=function(t){return this.tf.C(this.tf.T().setWeight(t)),this},i.prototype.af=function(){return this.tf.T().getWeight()},i.prototype.hf=function(t){return this.tf.C(this.tf.T().setStyle(t)),this},i.prototype.ff=function(){return this.tf.T().getStyle()},i.prototype.cf=function(t){return this.tf.C(this.tf.T().setVariant(t)),this},i.prototype.lf=function(){return this.tf.T().getVariant()},i.prototype.Ee=function(t){return this.ou.C(t),this},i.prototype.vf=function(){return this.ou.T()},i.prototype.$o=function(t){return this.$h.C(t),this},i.prototype.ts=function(){return this.$h.T()},i.prototype._s=function(t){return this.df=t,this},i.prototype.yf=function(){return this.df},i.prototype.Af=function(t,i){return this.qh.C(o(t,i)),this},i.prototype.bf=function(){return this.qh.T()},i.prototype.pf=function(t){return this.Kh.C(t),this},i.prototype.mf=function(){return this.Kh.T()},i.prototype.gf=function(){return{x:this.Kh.T(),y:this.Qh.T()}},i.prototype.xf=function(t){return this.Qh.C(t),this},i.prototype.Sf=function(){return this.Qh.T()},i.prototype.wf=function(t){return this.Kh.C(t.x),this.Qh.C(t.y),this},i.prototype.Ks=function(t){return this.Zt.C(t),this},i.prototype.Mf=function(){return this.Zt.T()},i.prototype.qs=function(t){return this.yu.C(t),this},i.prototype.Cf=function(){return this.yu.T()},i}(Qf);!function(i){function n(n,r,e,o,s,u){void 0===u&&(u=5);var a=i.call(this,n,r,e,o,s,l(u))||this;return a.Tf=[],a.kf=l(t.PointShape.Square),a.$h=l(0),a._f=l(!1),a.Of=l(!1),a.Ff=l(!1),a.If=ps,a.jf=0,a.Bf=[],a.Df=0,a.Lf=ps,a.Ef=!1,a.Pf=void 0,a}Uf(n,i),n.prototype.zf=function(){return this.Bf},n.prototype.Nf=function(){return this.Tf},n.prototype.Vf=function(t){return this.kf.C(t),this},n.prototype.Rf=function(){return this.kf.T()},n.prototype.$o=function(t){return this.$h.C(t),this},n.prototype.ts=function(){return this.$h.T()},n.prototype.Gf=function(t){return this._f.C(t),this},n.prototype.Uf=function(t){return this.Of.C(t),this},n.prototype.Yf=function(t){return this.Ff.C(t),this},n.prototype.Wf=function(t,i){return Array.isArray(t)||(t=[t]),this.Df+=t.length,this.Bf=No(this.Bf,t,{canReturnB:!0}),this.Lf&&(this.Lf=i?Ls(this.Lf,i):void 0),this.Pf=void 0,this},n.prototype.Sn=function(){return this.Ef=!0,this.Tf.length=0,this.jf=0,this.If=ps,this.Bf=[],this.Df=0,this.Pf=void 0,this},n.prototype.Xf=function(){return this.jf},n.prototype.Hf=function(){return this.Df}}(qf);var tc,ic=function(t){function i(i,n,r,e,s){var u=t.call(this,i,n,r,e,s)||this;return u.ou=l(o(0,0)),u.Bt=l(o(100,100)),u.$h=l(0),u.$=l(o(0,0)),u.Zf=!1,u}return Uf(i,t),i.prototype.ds=function(){return this.Jf(),this},i.prototype.Ee=function(t){var i=this.ou.T();return t.x===i.x&&t.y===i.y||(this.ou.C(t),this.Jf()),this},i.prototype.vf=function(){return this.ou.T()},i.prototype.Qf=function(t){var i=this.ou.T();return t!==i.x&&(this.ou.C(o(t,i.y)),this.Jf()),this},i.prototype.Kf=function(t){var i=this.ou.T();return t!==i.y&&(this.ou.C(o(i.x,t)),this.Jf()),this},i.prototype.zt=function(t){var i=this.Bt.T();return t.x===i.x&&t.y===i.y||(this.Bt.C(o(t.x,t.y)),this.Jf()),this},i.prototype.ai=function(){return this.Bt.T()},i.prototype.qf=function(t){var i=this.Bt.T();return t!==i.x&&(this.Bt.C(o(t,i.y)),this.Jf()),this},i.prototype.$f=function(t){var i=this.Bt.T();return t!==i.x&&(this.Bt.C(o(i.x,t)),this.Jf()),this},i.prototype.$o=function(t){return this.$h.C(t),this},i.prototype.ts=function(){return this.$h.T()},i.prototype.tc=function(t){var i=this.$.T();return t===i&&i.x===t.x&&i.y===t.y||(void 0===t?(this.Zf=!1,this.Jf()):(this.Zf=!0,this.$.C(t))),this},i.prototype.Jf=function(){if(!this.Zf){var t=this.ou.T(),i=this.Bt.T(),n=o(t.x+i.x/2,t.y+i.y/2),r=this.$.T();n.x===r.x&&n.y===r.y||this.$.C(n)}},i}(Kf),nc=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.Tf=[],i.ou=l(o(0,0)),i.If=ps,i.nc=!1,i}return Uf(i,t),i.prototype.rc=function(t){return t=Do(t),this.Tf=t,this.nc=!0,this},i.prototype.oc=function(){return this.Tf},i.prototype.Fn=function(){return this.If.max.x},i.prototype.On=function(){return this.If.min.x},i.prototype.jn=function(){return this.If.max.y},i.prototype.In=function(){return this.If.min.y},i.prototype.sc=function(){return 0},i.prototype.uc=function(){return 0},i}(Kf),rc=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.ac=new Array,s.hc=new Array,s.If=ps,s.fc=0,s.cc=!1,s.Bf=[Array(),Array()],s.lc=!1,s.vc=(new _u).setColor(Mr(42,171,240)),s.Ef=!1,s.dc=!1,s.yc=!1,s}return Uf(i,t),i.prototype.Wf=function(t,i){var n=this.fc-1,r=n>0&&!this.lc,e=Yf(r?[[this.ac[n]],[this.hc[n]]]:[[],[]],2),s=e[0],u=e[1];if(t instanceof Array){var a=Yf(h(t),2),f=a[0],c=a[1];s=No(s,f,{canReturnB:!0}),u=No(u,c,{canReturnB:!0})}else{var l=t.position;s.push(o(l,t.high)),u.push(o(l,t.low))}return this.lc?(this.Bf[0]=No(this.Bf[0],s,{canReturnB:!0}),this.Bf[1]=No(this.Bf[1],u,{canReturnB:!0})):(this.Bf=[s,u],this.lc=!0),this.If=Ls(this.If,i||Ls(Bs(s),Bs(u))),this},i.prototype.Sn=function(){return this.Ef=!0,this.ac.length=0,this.hc.length=0,this.fc=0,this.If=ps,this},i.prototype.Nf=function(){return[this.ac,this.hc]},i.prototype.zf=function(){return[this.Bf[0],this.Bf[1]]},i.prototype.Ac=function(t){return this.vc="function"==typeof t?t(this.vc):t,this},i.prototype.bc=function(){return this.vc},i.prototype.Xf=function(){return this.fc-(Number(this.dc)+Number(this.yc))},i.prototype.Hf=function(){return this.Bf.length},i.prototype.mc=function(t){return this.dc=t,this},i.prototype.gc=function(){return this.dc},i.prototype.xc=function(t){return this.yc=t,this},i.prototype.Sc=function(){return this.yc},i.prototype.Vh=function(){return this.Nh===Cu&&this.wc===Cu&&(this.Oe!==Cu||this.vc!==Cu)},i.prototype.Mc=function(t){this.wc=t},i.prototype.Rh=function(){return this.vc!==Cu||t.prototype.Rh.call(this)},i.prototype.zh=function(){return t.prototype.zh.call(this)||!this.wc||this.wc!==this.vc},i}(Qf),ec=function(t){function i(i,n,r,e,s){var u=t.call(this,i,n,r,e,s)||this;return u.ou=l(o(0,0)),u.Cc=l(0),u.ft=l(360),u.Tc=l(100),u.kc=l(100),u._c=l(0),u.Oc=l(void 0),u.Fc=o(0,0),u.Ic=o(0,0),u.jc=o(0,0),u}return Uf(i,t),i.prototype.Bc=function(){return this.Tc.T()},i.prototype.Dc=function(){return this.kc.T()},i.prototype.vf=function(){return this.ou.T()},i.prototype.Lc=function(){return this.Cc.T()},i.prototype.Ti=function(){return this.ft.T()},i.prototype.Ec=function(){return this._c.T()},i.prototype.Pc=function(){return this.Oc.T()},i.prototype.zc=function(){return this.Fc},i.prototype.Nc=function(){return this.Ic},i.prototype.Vc=function(){return this.jc},i.prototype.Ee=function(t){return this.ou.C(t),this},i.prototype.Rc=function(t){return this.Cc.C(t),this},i.prototype.Xe=function(t){return this.ft.C(t),this},i.prototype.Gc=function(t){return this.kc.C(t),this.Tc.C(t),this},i.prototype.Uc=function(t){return this.Tc.C(t),this},i.prototype.Yc=function(t){return this.kc.C(t),this},i.prototype.Wc=function(t){return this._c.C(t<0?0:t),this},i.prototype.Xc=function(t){return this.Oc.C(void 0!==t&&t<=0?void 0:t),this},i}(Kf);!function(t){t[t.Complex=0]="Complex",t[t.Simple=1]="Simple"}(tc||(tc={}));var oc,sc,uc,ac,hc,fc=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.Hc=Nf.lineStyle,s.engine=i,s.Zc=r instanceof te,s}return Uf(i,t),i.prototype.Ye=function(t){return this.Hc=function(t,i){return"function"==typeof i?i(t):i}(this.Hc,t),this.Zc&&ja(this.Hc)&&(Qe.console.error("LightningChart JS error | DashedLine is not supported together with logarithmic axis"),this.Hc=Nf.lineStyle),this},i.prototype.Nu=function(){return this.Hc},i.prototype.Uh=function(){return t=this.Jc,i=this.Hc,!t||t!==i;var t,i},i.prototype.Qc=function(t){return function(t,i){return!t||t.getThickness()!==i}(this.Jc,t)},i.prototype.Vh=function(){return t=this.Jc,i=this.Hc,t===Pe&&i!==Pe;var t,i},i.prototype.Rh=function(){return(t=this.Hc)!==Pe&&t.getFillStyle()!==Cu;var t},i.prototype.Kc=function(t){this.Jc=t},i}(Wf),cc=function(t){function i(i,n,r,e,s){var u=t.call(this,i,n,r,e,s)||this;return u.ht=o(0,0),u.ft=o(0,0),u.qc=!1,u}return Uf(i,t),i.prototype.C=function(t){var i=t.min,n=t.max;return i.x===this.ht.x&&i.y===this.ht.y&&n.x===this.ft.x&&n.y===this.ft.y||(this.qc=!0,this.ht=i,this.ft=n),this},i.prototype.ki=function(){return this.ht},i.prototype.Ti=function(){return this.ft},i.prototype.He=function(t){return t.x===this.ht.x&&t.y===this.ht.y||(this.qc=!0,this.ht=t),this},i.prototype.Xe=function(t){return t.x===this.ft.x&&t.y===this.ft.y||(this.qc=!0,this.ft=t),this},i}(fc),lc=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.$c=void 0,s.tl=0,s}return Uf(i,t),i}(fc),vc=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.il=[],s.If=ps,s.Bf=new Array,s.jf=0,s.Ef=!1,s.nl=l(void 0),s.dc=!1,s.yc=!1,s}return Uf(i,t),i.prototype.zf=function(){return this.Bf},i.prototype.Nf=function(){return this.il},i.prototype.Sn=function(){return this.Ef=!0,this.il.length=0,this.jf=0,this.Bf=[],this.If=ps,this},i.prototype.Xf=function(){return this.jf-(Number(this.dc)+Number(this.yc))},i.prototype.Hf=function(){return this.Bf.length},i.prototype.mc=function(t){return this.dc=t,this},i.prototype.gc=function(){return this.dc},i.prototype.xc=function(t){return this.yc=t,this},i.prototype.Sc=function(){return this.yc},i}(fc),dc=function(i){function n(n,r,e,o,s){var u=i.call(this,n,r,e,o,[])||this;return u.rl={uid:s,text:"",font:"",color:"",position:"absolute",left:0,top:0,padding:"",alignmentX:0,alignmentY:0,rotation:0,identifier:t.TextObjectIdentifier.Other,visible:!0},u}return Uf(n,i),n.prototype.el=function(){var i;if(!this.getVisible()||0===this.Hh.T().length||Tu(this.Oe))return this.rl.visible=!1,this.rl;this.rl.visible=!0;var n=Bf(this.tf.T(),devicePixelRatio);this.rl.identifier=null!==(i=this.ko)&&void 0!==i?i:t.TextObjectIdentifier.Other,this.rl.text=this.Hh.T(),this.rl.font=n.font,this.rl.color=Ou(this.Oe)?"rgba(".concat(255*this.Oe.color.r,",").concat(255*this.Oe.color.g,",").concat(255*this.Oe.color.b,",").concat(this.Oe.color.a,")"):this.rl.color;var r=this.ou.T(),e=ee(r,this.Yi,this.qi.Yi),o=Math.round(10*e.x)/10,s=Math.round(10*(this.qi.ai().y-e.y))/10;this.rl.top=s,this.rl.left=o,this.rl.alignmentX=this.Kh.T(),this.rl.alignmentY=this.Qh.T(),this.rl.rotation=this.$h.T();var u=this.Zt.T(),a=this.yu.T();return this.rl.padding="".concat(u.top+a.top,"px ").concat(u.right+a.right,"px ").concat(u.bottom+a.bottom,"px ").concat(u.left+a.left,"px"),this.rl},n.prototype.ol=function(){var t;this.el();var i=null===(t=this.qi.sl)||void 0===t?void 0:t.ul.getTextBoundingBox;if(i){var n=i(this.rl);if(n){var r=this.qi.Fh({clientX:n.left,clientY:n.top}),e=this.qi.Fh({clientX:n.left+n.width,clientY:n.top+n.height}),o=ee({x:r.engineX,y:r.engineY},this.qi.Yi,this.Yi),s=ee({x:e.engineX,y:e.engineY},this.qi.Yi,this.Yi);return{min:{x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},max:{x:Math.max(o.x,s.x),y:Math.max(o.y,s.y)}}}}return ps},n.prototype.al=function(){var t;this.el();var i=null===(t=this.qi.sl)||void 0===t?void 0:t.ul.measureText;if(i){var n=i(this.rl);if(n)return n}return this.qi.hl.jo.oo(this.Hh.T(),this.tf.T(),this.$h.T())},n.prototype.ai=function(){if(!(this.Yi instanceof $r))return{x:0,y:0};var t=this.Yi.Gi(),i=this.al();return{x:i.x*t.x,y:i.y*t.y}},n.prototype.ds=function(){return this},n.prototype.Fn=function(){return 0},n.prototype.On=function(){return 0},n.prototype.jn=function(){return 0},n.prototype.In=function(){return 0},n.prototype.sc=function(){return 0},n.prototype.uc=function(){return 0},n.prototype.fl=function(t,i){return{}},n.prototype.cl=function(){return this},n.prototype.ll=function(t,i,n,r,e){return{}},n}($f),yc=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ac=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.Au=0,i}return yc(i,t),i.prototype.getHighlight=function(){return this.Au},i.prototype.setHighlight=function(t){return this.Au=t,this.du().forEach((function(i){return i.vn(t)})),this.Ct.Tt("highlightchange",{highlight:t}),this.kr.vr(),this},i}(vf),bc=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return yc(i,t),i}(Ac),pc=function(t){function i(i,n,r,e,o,s){var u=t.call(this,i,n,r,o,s)||this;return u.kf=u.kr.vl(u.renderingScale,tc.Simple).setVisible(!1).Be(Cu).je(Pe),u.Ct.xn(u.kf),u}return yc(i,t),i.prototype.dl=function(){var t=this,i=this.yl();if(i.length>2){var n=Bs(i),r=o(n.max.x-n.min.x,n.max.y-n.min.y);this.setContentSize(r);var e=i.map((function(i){var e=Ys(i,Us(n.min,-1));return t.scale.Bi(t.ou,Ys(e,Xs(Us(Ys(t.origin,o(1,1)),-.5),r)))})).map((function(i){return ee(i,t.scale,t.renderingScale)}));this.kf.rc(e).setVisible(this.getVisible()).setVisible(this.getVisible())}else this.kf&&this.kf.setVisible(!1),this.setContentSize(o(0,0))},i.prototype.Le=function(){return t.prototype.Le.call(this),this.Hi||(this.dl(),void 0!==this.pu&&this.kf.Lh(this.pu)),this},i.prototype.ds=function(){return this.dl(),t.prototype.ds.call(this)},i.prototype.setVisible=function(i){return t.prototype.setVisible.call(this,i),this.kf.setVisible(i),this},i}(bc),mc=function(t){return!(!t||"object"!=typeof t||!("elementAt"in t))},gc=function(t){if("srcLoopArray"in t){var i=t.srcLoopArray,n=t.dataRanges,r=t.NewArray;return{length:n.reduce((function(t,i){return t+i.count}),0),elementAt:function(t){var r,e,o=0;try{for(var s=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),u=s.next();!u.done;u=s.next()){var a=u.value;if(o+a.count-1>=t){var h=a.offset+(t-o);return i[h]}o+=a.count}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return Ho(0,(function(){})),-1},toArray:function(t,e){var o=e-t+1;if(1===n.length){var s=n[0],u=s.offset+t,a=s.offset+e;return i.subarray(u,a+1)}var h=n[0],f=n[1],c=0+h.count-1,l=c+1,v=l+f.count-1,d=new r(o),y=0;if(!(e<0||t>c)){var A=Math.max(0,t),b=Math.min(c,e)-A+1,p=h.offset+(t+y-0);d.set(i.subarray(p,p+b),y),y+=b}return e<l||t>v||(A=Math.max(l,t),b=Math.min(v,e)-A+1,p=f.offset+(t+y-l),d.set(i.subarray(p,p+b),y),y+=b),d}}}return{length:t.length,elementAt:function(i){return t[i]},toArray:function(i,n){return He(t,i,n+1)}}},xc=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Sc=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},wc=function(t,i){return Object.keys(t).length===Object.keys(i).length&&!Object.keys(t).find((function(t){return void 0===i[t]}))&&!Object.entries(t).find((function(t){var n=xc(t,2),r=n[0],e=n[1];return i[r]!==e}))},Mc=function(){function t(t){var i=this;if(this.Al=0,this.bl=0,this.pl=0,this.ml=!1,this.xl=!0,this.Sl=!1,this.wl={warningDisplayed:!1,expandEvents:[]},this.Ct=new we,this.xl=!t||void 0===t.autoSortingEnabled||t.autoSortingEnabled,this.Ml=!1!==(null==t?void 0:t.allowInputModification),this.Cl=void 0===(null==t?void 0:t.includesNaN)||t.includesNaN,this.Tl=void 0!==(null==t?void 0:t.strictMode)&&t.strictMode,this.rh=void 0===(null==t?void 0:t.warnings)||t.warnings,this.kl=void 0===(null==t?void 0:t.autoDetectPatterns)||t.autoDetectPatterns,null==t?void 0:t.schema){var n={};Object.entries(t.schema).forEach((function(t){var r,e=xc(t,2),o=e[0],s=e[1];if(s){var u=void 0!==s.pattern?s.pattern:void 0;s.auto&&(u=("object"==typeof s.auto&&null!==(r=s.auto.step)&&void 0!==r?r:1)>0?"progressive":"regressive");var a={dataStorage:s.storage,_l:{effective:u,userSpecified:u},auto:s.auto,cache:void 0,ensureNoDuplication:void 0!==s.ensureNoDuplication&&s.ensureNoDuplication};if(i.Tl&&void 0===s.pattern)throw new Error("LightningChart JS error - DataSetXY property ('".concat(o,"') data pattern not specified. This is not allowed when strict mode is enabled."));n[o]=a}})),this.Ol=n}if(this.Tl&&!this.Ol)throw new Error("LightningChart JS error - DataSetXY schema not defined. This is not allowed when strict mode is enabled.")}return t.prototype.appendJSON=function(t,i,n){var r,e,o=this;if(!Array.isArray(t))return this.appendJSON([t]);var s=t.length;if(0===s)return this;var u=Object.keys(t[0]).filter((function(t){return(!(null==i?void 0:i.whitelist)||i.whitelist.includes(t))&&(!(null==i?void 0:i.blacklist)||!i.blacklist.includes(t))}));if(0===u.length)return this;for(var a=t[0],h=Object.fromEntries(u.map((function(t){if("number"!=typeof a[t])return[t,[]];var i=o.Ol&&o.Ol[t];return[t,new((null==i?void 0:i.dataStorage)||Float64Array)(s)]}))),f=0;f<s;f+=1){var c=t[f];try{for(var l=(r=void 0,Sc(u)),v=l.next();!v.done;v=l.next()){var d=v.value;h[d][f]=c[d]}}catch(t){r={error:t}}finally{try{v&&!v.done&&(e=l.return)&&e.call(l)}finally{if(r)throw r.error}}}return n&&Object.entries(n).forEach((function(t){var i=xc(t,2),n=i[0],r=i[1];h[n]=r})),this.appendSamples(h,i),this},t.prototype.appendSample=function(t,i){var n,r,e,o,s=this,u=Object.keys(t).filter((function(t){return(!(null==i?void 0:i.whitelist)||i.whitelist.includes(t))&&(!(null==i?void 0:i.blacklist)||!i.blacklist.includes(t))}));if(0===u.length)return this;var a=Object.fromEntries(u.map((function(i){var n,r;return[i,jc(t[i],s.Ol&&null!==(r=null===(n=s.Ol[i])||void 0===n?void 0:n.dataStorage)&&void 0!==r?r:Float64Array)]}))),h=this.Fl({appendCount:1,keys:u,parsedDataArrs:a,opts:i});if(!h.incomingDataReplacedCache&&this.xl){var f=this.Il(a);if((f=f&&f.filter((function(t){return s.Ol&&s.Ol[t]._l&&!("autoDetectResult"in s.Ol[t]._l)})))&&f.length>0)if(this.Sl);else{f.length>1&&this.rh&&Qe.console.warn("LightningChart JS warning - DataSetXY data pushed in order that doesn't match data pattern. Automatic sorting is attempted, but there is more than 1 data pattern mismatch. Behavior may be compromised.");try{for(var c=Sc(f),l=c.next();!l.done;l=c.next()){var v=l.value,d=this.Ol?this.Ol[v]:void 0;if(!(d&&d._l&&"autoDetectResult"in d._l))return this.jl(v,{parsedDataArrs:Object.fromEntries(h.keys.map((function(t){return[t,"number"==typeof a[t]?new Array(1).fill(a[t]):a[t]]}))),offset:0,count:1}),this}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}Qe.console.error("LightningChart JS error - data is arriving in wrong order and auto sorting is either disabled or not applicable. Chart functionality is compromised. Following data properties didn't match their configured pattern: ".concat(f.map((function(t){return"'".concat(t,"'")})).join(", ")))}}try{for(var y=Sc(h.keys),A=y.next();!A.done;A=y.next()){var b=A.value,p=h.buckets[b].cache;if(p){var m=a[b];p[this.Al]="number"==typeof m?m:m[0]}}}catch(t){e={error:t}}finally{try{A&&!A.done&&(o=y.return)&&o.call(y)}finally{if(e)throw e.error}}return this.Ct.Tt("change",{type:"change",iDataStart:this.Al,iDataEnd:this.Al}),this.Al+=1,this.Al>h.maxSampleCount-1&&void 0!==this.Bl&&(this.Al=0,this.ml=!0,this.Ct.Tt("loop",{type:"loop"})),this.bl=Math.min(this.bl+1,h.maxSampleCount),this.pl+=1,this},t.prototype.appendSamples=function(t,i){var n,r,e,o,s,u,a=this,h=Object.entries(t).filter((function(t){return void 0!==xc(t,2)[1]})).map((function(t){return t[0]}));if(0===h.length)return this;var f=Object.entries(t).filter((function(t){var i=xc(t,2)[1];return"object"==typeof i&&"length"in i})).map((function(t){return t[0]})),c=f.reduce((function(i,n){return Math.min(i,t[n].length)}),Number.MAX_SAFE_INTEGER);f.forEach((function(i){var n=t[i];n.length>c&&(Qe.console.warn("LightningChart JS warning - insymmetric DataSetXY input (".concat(i,"). Extra measurements will be dropped")),Array.isArray(n)?a.Ml?n.length=c:t[i]=n.slice(0,c):t[i]=n.subarray(0,c))}));var l=null==i?void 0:i.offset,v=null==i?void 0:i.count;if(l=void 0!==l?l:0,(v=void 0!==v?v:c-l)<=0)return this;var d=Object.fromEntries(h.map((function(i){var n,r,e=t[i];return a.Ol&&a.Ol[i]&&void 0!==a.Ol[i].dataStorage||a.Tl||!Dc(e)?[i,jc(t[i],a.Ol&&null!==(r=null===(n=a.Ol[i])||void 0===n?void 0:n.dataStorage)&&void 0!==r?r:Float64Array)]:[i,e]}))),y=this.Fl({appendCount:v,keys:h,parsedDataArrs:d,opts:i});if(Object.entries(y.buckets).forEach((function(t){var i=xc(t,2),n=i[0],r=i[1];if(0===a.bl&&r.ensureNoDuplication){var e=d[n],o=r.cache;if(Array.isArray(e)||o!==e)throw new Error("LightningChart JS error | DataSetXY ensureNoDuplication check failed for '".concat(n,"'"))}})),!y.incomingDataReplacedCache&&this.xl){var A=this.Il(d);if((A=A&&A.filter((function(t){return a.Ol&&a.Ol[t]._l&&!("autoDetectResult"in a.Ol[t]._l)})))&&A.length>0)if(this.Sl);else{A.length>1&&this.rh&&Qe.console.warn("LightningChart JS warning - DataSetXY data pushed in order that doesn't match data pattern. Automatic sorting is attempted, but there is more than 1 data pattern mismatch. Behavior may be compromised.");try{for(var b=Sc(A),p=b.next();!p.done;p=b.next()){var m=p.value,g=this.Ol?this.Ol[m]:void 0;if(!(g&&g._l&&"autoDetectResult"in g._l))return this.jl(m,{parsedDataArrs:Object.fromEntries(h.map((function(t){return[t,"number"==typeof d[t]?new Array(v).fill(d[t]):d[t]]}))),offset:l,count:v}),this}}catch(t){n={error:t}}finally{try{p&&!p.done&&(r=b.return)&&r.call(b)}finally{if(n)throw n.error}}Qe.console.error("LightningChart JS error - data is arriving in wrong order and auto sorting is either disabled or not applicable. Chart functionality is compromised. Following data properties didn't match their configured pattern: ".concat(A.map((function(t){return"'".concat(t,"'")})).join(", ")))}}var x=y.maxSampleCount-this.Al,S=Math.min(v,x);if(S>0){if(!y.incomingDataReplacedCache)try{for(var w=Sc(y.keys),M=w.next();!M.done;M=w.next()){var C=M.value,T=y.buckets[C].cache,k=d[C];_c(T,k,l,S,this.Al)}}catch(t){e={error:t}}finally{try{M&&!M.done&&(o=w.return)&&o.call(w)}finally{if(e)throw e.error}}this.Ct.Tt("change",{type:"change",iDataStart:this.Al,iDataEnd:this.Al+S-1}),this.Al+=S,this.Al>y.maxSampleCount-1&&(this.Al=0,this.ml=!0,this.Ct.Tt("loop",{type:"loop"}))}if(this.bl=Math.min(this.bl+S,y.maxSampleCount),this.pl+=S,v-S>0&&!y.incomingDataReplacedCache){var _={};try{for(var O=Sc(y.keys),F=O.next();!F.done;F=O.next())_[C=F.value]=He(d[C],l+S,void 0)}catch(t){s={error:t}}finally{try{F&&!F.done&&(u=O.return)&&u.call(O)}finally{if(s)throw s.error}}this.appendSamples(_,i)}else this.Dl();return this},t.prototype.fill=function(t){var i=this;return this.Ol?(Object.keys(t).forEach((function(t){i.Ol&&!i.Ol[t]&&i.rh&&Qe.console.warn("LightningChart JS warning - DataSetXY.fill() tried to fill data property that doesn't exist in schema (\"".concat(t,'")'))})),Object.entries(this.Ol).forEach((function(i){var n=xc(i,2),r=n[0],e=n[1],o=t[r];e.cache&&void 0!==o&&(wr(o)&&(o=o.toUint32()),e.cache.fill(o))})),this.Ct.Tt("clear",{type:"clear"}),this):this},t.prototype.setSamples=function(t,i){return this.clear().appendSamples(t,i)},t.prototype.alterSamplesStartingFrom=function(t,i,n){var r,e,o,s,u,a,h,f,c,l=this,v=Object.values(i).find((function(t){return"number"!=typeof t})),d=null==n?void 0:n.offset,y=null==n?void 0:n.count,A=v?v.length:1;if(d=void 0!==d?d:0,(y=void 0!==y?y:A-d)<=0)return this;var b=Object.keys(i),p=Object.fromEntries(b.map((function(t){var n,r;return[t,jc(i[t],l.Ol&&null!==(r=null===(n=l.Ol[t])||void 0===n?void 0:n.dataStorage)&&void 0!==r?r:Float64Array)]}))),m=this.pl-1,g=void 0!==this.Bl?Math.max(this.pl-this.Bl,0):0,x=t+y-1,S=Math.max(t,g),w=Math.min(x,m),M=w-S+1;if(this.pl>0&&M>0){var C=this.Fl({appendCount:0,keys:b,parsedDataArrs:p,opts:n}),T=null!==(c=null===(f=null===(h=Object.values(C.buckets).find((function(t){return t.cache})))||void 0===h?void 0:h.cache)||void 0===f?void 0:f.length)&&void 0!==c?c:0;if(void 0!==this.Bl&&this.ml&&this.pl%this.Bl!=0){var k=this.pl-this.pl%this.Bl,_=this.pl-1,O=this.pl-this.bl,F=k-1,I=Math.max(S,O),j=Math.min(w,F)-I+1;if(j>0){var B=I-t,D=Cc(I,this.pl,T,this.Al);try{for(var L=Sc(C.keys),E=L.next();!E.done;E=L.next())Y=E.value,W=C.buckets[Y].cache,X=p[Y],_c(W,X,d+B,j,D)}catch(t){o={error:t}}finally{try{E&&!E.done&&(s=L.return)&&s.call(L)}finally{if(o)throw o.error}}}var P=Math.max(S,k),z=Math.min(w,_)-P+1;if(z>0){B=P-t,D=Cc(P,this.pl,T,this.Al);try{for(var N=Sc(C.keys),V=N.next();!V.done;V=N.next())Y=V.value,W=C.buckets[Y].cache,X=p[Y],_c(W,X,d+B,z,D)}catch(t){u={error:t}}finally{try{V&&!V.done&&(a=N.return)&&a.call(N)}finally{if(u)throw u.error}}}}else{var R=S-g;try{for(var G=Sc(C.keys),U=G.next();!U.done;U=G.next()){var Y=U.value,W=C.buckets[Y].cache,X=p[Y];_c(W,X,d,M,R)}}catch(t){r={error:t}}finally{try{U&&!U.done&&(e=G.return)&&e.call(G)}finally{if(r)throw r.error}}}this.Ct.Tt("clear",{type:"clear"})}var H=t+y-1-m;if(H>0){var Z=w+1-t;this.appendSamples(i,{offset:d+Z,count:H})}return this},t.prototype.alterSamplesByIndex=function(t,i){var n,r,e,o=this;if(!this.Ol)return this;var s=t.length,u=Object.keys(i),a=Object.fromEntries(u.map((function(t){var n,r;return[t,jc(i[t],o.Ol&&null!==(r=null===(n=o.Ol[t])||void 0===n?void 0:n.dataStorage)&&void 0!==r?r:Float64Array)]}))),h=this.pl-1,f=void 0!==this.Bl?Math.max(this.pl-this.Bl,0):0;if(s<=0)return this;for(var c=!1,l=Object.values(this.Ol).find((function(t){return t.cache})).cache.length,v=0;v<s;v+=1){var d=t[v];if(!(d<f||d>h)){var y=Cc(d,this.pl,l,this.Al);try{for(var A=(n=void 0,Sc(u)),b=A.next();!b.done;b=A.next()){var p=b.value,m=null===(e=this.Ol[p])||void 0===e?void 0:e.cache,g=a[p];m&&(m[y]="number"==typeof g?g:g[v],c=!0)}}catch(t){n={error:t}}finally{try{b&&!b.done&&(r=A.return)&&r.call(A)}finally{if(n)throw n.error}}}}return c&&this.Ct.Tt("clear",{type:"clear"}),this},t.prototype.alterSamplesByMatch=function(t,i,n){var r,e,o,s=this;if(!this.Ol)return this;var u=i.length,a=this.bl,h=this.pl-1,f=Math.max(h-a+1,0),c=Object.keys(n),l=Object.fromEntries(c.map((function(t){var i,r;return[t,jc(n[t],s.Ol&&null!==(r=null===(i=s.Ol[t])||void 0===i?void 0:i.dataStorage)&&void 0!==r?r:Float64Array)]})));if(u<=0)return this;var v=!1,d=this.Ol[t].cache,y=this.Ll(t);if(!d)return this;for(var A=d.length,b=0;b<u;b+=1){var p=i[b],m=void 0;if(y){var g=kc(p,f,h,!0,(function(t){return d[Cc(t,s.pl,A,s.Al)]}));m=Cc(g,this.pl,A,this.Al)}else for(var x=0;x<A;x+=1)if(d[x]===p){m=x;break}if(void 0!==m){if(d[m]===p)try{for(var S=(r=void 0,Sc(c)),w=S.next();!w.done;w=S.next()){var M=w.value,C=null===(o=this.Ol[M])||void 0===o?void 0:o.cache,T=l[M];C&&(C[m]="number"==typeof T?T:T[b],v=!0)}}catch(t){r={error:t}}finally{try{w&&!w.done&&(e=S.return)&&e.call(S)}finally{if(r)throw r.error}}}else this.rh&&Qe.console.warn('LightningChart JS warning - DataSetXY.alterSamplesByMatch no match found for "'.concat(t,"=").concat(p,'"'))}return v&&this.Ct.Tt("clear",{type:"clear"}),this},t.prototype.Dl=function(t){var i=this;void 0===t&&(t=!1),this.Ol&&this.kl&&Object.entries(this.Ol).forEach((function(n){var r,e=xc(n,2),o=e[0],s=e[1];if(s.cache)if(s._l&&"userSpecified"in s._l)r=s._l.userSpecified;else if(s._l&&"autoDetectResult"in s._l)r=s._l.autoDetectResult;else if(s.cache&&i.pl>0&&!t){var u=void 0!==i.Bl&&i.ml?i.Al:0,a=i.bl-1,h=void 0!==i.Bl&&i.ml?0:void 0,f=void 0!==i.Bl&&i.ml?i.Al-1:void 0,c=xc(void 0!==h&&void 0!==f&&Math.abs(f-h)>Math.abs(a-u)?[h,f]:[u,a],2),l=c[0],v=c[1];if(1+v-l>=5){for(var d=void 0,y=s.cache[l],A=l+1;A<=v;A+=1)if(!1!==d){var b=s.cache[A],p=Math.sign(b-y);0!==p&&d&&d.direction!==p?d=!1:0===p||d||(d={direction:p}),y=b}r=d&&d.direction>0?"progressive":d&&d.direction<0?"regressive":null,s._l={autoDetectResult:r,effective:r},i.rh&&Qe.console.warn("LightningChart JS DataSetXY warning | Data pattern was detected automatically (".concat(o,"=").concat(r,").\nAutomatic detection is only intended for kick-starting application development, not for production use.\nDefine data patterns in schema when creating series or DataSetXY to clear this warning and improve performance."))}}}))},t.prototype.Fl=function(t){var i,n,r,e,o,s,u,a,h,f,c,l=this;if(this.Ol||(this.Ol=Object.fromEntries(t.keys.map((function(i){return[i,{dataStorage:Bc(t.parsedDataArrs[i]),_l:void 0}]})))),0===this.bl&&this.Ol&&!this.Tl){var v=this.Ol;t.keys.forEach((function(i){v[i]||(v[i]={dataStorage:Bc(t.parsedDataArrs[i])})}))}if((this.bl>0||this.Tl)&&this.Ol){var d=this.Ol,y=t.keys.filter((function(t){return!d[t]}));if(y.length>0&&t.appendCount>0){if(this.Tl)throw new Error("LightningChart JS error - Input data includes data properties that are not defined in schema. This is not allowed when strict mode is enabled. Extra data properties: ".concat(y.map((function(t){return"'".concat(t,"'")})).join(", ")));this.rh&&Qe.console.warn("LightningChart JS warning - Input data includes data properties that are not defined in schema. This is OK for data sets that don't yet have data pushed in, but this was not the case. Extra data properties were dropped: ".concat(y.map((function(t){return"'".concat(t,"'")})).join(", ")))}y.forEach((function(i){delete t.parsedDataArrs[i]})),t.keys=Object.keys(t.parsedDataArrs)}if(Object.entries(this.Ol).forEach((function(i){var n=xc(i,2),r=n[0],e=n[1];e.dataStorage||(e.dataStorage=Bc(t.parsedDataArrs[r]))})),0===this.bl&&1===Object.keys(this.Ol).length&&!this.Tl){var A=(null!==(e=null===(r=t.opts)||void 0===r?void 0:r.step)&&void 0!==e?e:1)>0?"progressive":"regressive";this.Ol._auto={dataStorage:Float64Array,auto:{start:null!==(s=null===(o=t.opts)||void 0===o?void 0:o.start)&&void 0!==s?s:0,step:null!==(a=null===(u=t.opts)||void 0===u?void 0:u.step)&&void 0!==a?a:1},_l:{userSpecified:A,effective:A}}}Object.entries(this.Ol).forEach((function(i){var n,r,e,o,s,u,a,h,f=xc(i,2),c=f[0],v=f[1];if(v.auto){var d,y=null!==(e=null!==(r=null===(n=t.opts)||void 0===n?void 0:n.step)&&void 0!==r?r:"object"==typeof v.auto?v.auto.step:void 0)&&void 0!==e?e:1;if(0===l.bl)d=null!==(u=null!==(s=null===(o=t.opts)||void 0===o?void 0:o.start)&&void 0!==s?s:"object"==typeof v.auto?v.auto.start:void 0)&&void 0!==u?u:0;else if(void 0!==(null===(a=t.opts)||void 0===a?void 0:a.start))d=t.opts.start;else{var A=l.El();if(!A)return;d=A[c]+y}for(var b=new(null!==(h=v.dataStorage)&&void 0!==h?h:Float64Array)(t.appendCount),p=0;p<t.appendCount;p+=1)b[p]=d+p*y;t.parsedDataArrs[c]=b}})),t.keys=Object.keys(t.parsedDataArrs);var b=Object.keys(this.Ol).filter((function(i){return!t.keys.includes(i)}));if(b.length>0&&t.appendCount>0){if(this.Tl)throw new Error("LightningChart JS error - Input data is missing keys that were defined in schema. This is not allowed when strict mode is enabled. Missing keys: ".concat(b.map((function(t){return"'".concat(t,"'")})).join(", ")));this.rh&&Qe.console.warn("LightningChart JS warning - Input data is missing keys that were defined in schema. They will be filled with `0`. Missing keys: ".concat(b.map((function(t){return"'".concat(t,"'")})).join(", ")))}try{for(var p=Sc(b),m=p.next();!m.done;m=p.next()){var g=m.value;t.parsedDataArrs[g]=new(null!==(h=this.Ol[g].dataStorage)&&void 0!==h?h:Float64Array)(t.appendCount).fill(0)}}catch(t){i={error:t}}finally{try{m&&!m.done&&(n=p.return)&&n.call(p)}finally{if(i)throw i.error}}if(t.keys=Object.keys(t.parsedDataArrs),0===this.bl&&0===Object.values(this.Ol).reduce((function(t,i){return t+(i.cache?1:0)}),0)&&(void 0===this.Bl||this.Bl===t.appendCount)&&this.Ml&&(0===(null===(f=t.opts)||void 0===f?void 0:f.offset)||void 0===(null===(c=t.opts)||void 0===c?void 0:c.offset)))return Object.entries(this.Ol).forEach((function(i){var n,r,e=xc(i,2),o=e[0],s=e[1];s.cache="number"==typeof t.parsedDataArrs[o]?new(null!==(n=s.dataStorage)&&void 0!==n?n:Float64Array)(t.appendCount).fill(t.parsedDataArrs[o]):Oc(t.parsedDataArrs[o],null!==(r=s.dataStorage)&&void 0!==r?r:Float64Array)})),this.Dl(),{maxSampleCount:t.appendCount,buckets:this.Ol,incomingDataReplacedCache:!0,keys:t.keys};if(void 0===this.Bl){var x=this.bl+t.appendCount;if(!Object.values(this.Ol).find((function(t){return t.cache})))return Object.values(this.Ol).forEach((function(t){var i;t.cache=new(null!==(i=t.dataStorage)&&void 0!==i?i:Float64Array)(x)})),this.Dl(),{maxSampleCount:x,buckets:this.Ol,keys:t.keys};var S=Object.values(this.Ol)[0].cache.length;if(S<x){if(!this.wl.warningDisplayed){var w=Qe.performance.now();if(this.wl.expandEvents=this.wl.expandEvents.filter((function(t){return w-t.timestamp<5e3})),x>1e3&&this.wl.expandEvents.push({timestamp:w}),this.wl.expandEvents.length>5)return this.rh&&Qe.console.warn("LightningChart JS warning - DataSetXY append operation was performed more than 5 times in 5 seconds.\nAutomatic max sample count control was enabled.\nFor streaming applications, DataSetXY.setMaxSampleCount() or Series.setMaxSampleCount() should be configured explicitly to get rid of this warning."),this.wl.warningDisplayed=!0,this.setMaxSampleCount({mode:"auto"}),this.Fl(t)}return Object.values(this.Ol).forEach((function(t){var i,n=new(null!==(i=t.dataStorage)&&void 0!==i?i:Float64Array)(x);n.set(t.cache),t.cache=n})),this.Al=this.bl,this.Dl(),{maxSampleCount:x,buckets:this.Ol,keys:t.keys}}return S>4*x?(Object.values(this.Ol).forEach((function(t){var i,n=new(null!==(i=t.dataStorage)&&void 0!==i?i:Float64Array)(x);n.set(t.cache.subarray(0,l.bl)),t.cache=n})),this.Dl(),{maxSampleCount:x,buckets:this.Ol,keys:t.keys}):(this.Dl(),{maxSampleCount:x,buckets:this.Ol,keys:t.keys})}t.appendCount+this.bl>this.Bl&&this.Ct.Tt("maxsamplecountexceed",{type:"maxsamplecountexceed",currentSampleCount:this.bl,currentMaxSampleCount:this.Bl,newTotalSampleCount:this.bl+t.appendCount});var M=this.Bl;return Object.values(this.Ol).forEach((function(t){var i;t.cache=t.cache||new(null!==(i=t.dataStorage)&&void 0!==i?i:Float64Array)(M)})),this.Dl(),{maxSampleCount:M,buckets:this.Ol,keys:t.keys}},t.prototype.getSampleCount=function(){return this.bl},t.prototype.getNextSampleIndex=function(){return this.pl},t.prototype.Ll=function(t){var i=this.Ol&&this.Ol[t];if(i)return i._l&&"userSpecified"in i._l?i._l.userSpecified:i._l&&"autoDetectResult"in i._l?i._l.autoDetectResult:void 0},t.prototype.Pl=function(t){if(this.Ol){var i=null==t?void 0:t.x,n=null==t?void 0:t.y,r=void 0!==i?this.Ol[i]:void 0,e=void 0!==n?this.Ol[n]:void 0;if(r&&r._l&&"userSpecified"in r._l){if("progressive"===r._l.userSpecified)return"ProgressiveX";if("regressive"===r._l.userSpecified)return"RegressiveX"}if(e&&e._l&&"userSpecified"in e._l){if("progressive"===e._l.userSpecified)return"ProgressiveY";if("regressive"===e._l.userSpecified)return"RegressiveY"}if(r&&r._l&&"autoDetectResult"in r._l&&r._l.autoDetectResult){if("progressive"===r._l.autoDetectResult)return"ProgressiveX";if("regressive"===r._l.autoDetectResult)return"RegressiveX"}if(e&&e._l&&"autoDetectResult"in e._l&&e._l.autoDetectResult){if("progressive"===e._l.autoDetectResult)return"ProgressiveY";if("regressive"===e._l.autoDetectResult)return"RegressiveY"}}},t.prototype.zl=function(t){var i,n;if(!t||!this.Ol)return{dataPattern:void 0,Nl:Float64Array,Vl:Float64Array};var r={dataPattern:this.Pl(t)};try{for(var e=Sc(Object.keys(t)),o=e.next();!o.done;o=e.next()){var s=o.value,u=t[s];if(void 0!==u){var a=this.Ol[u];a&&a.cache&&("x"===s&&(r.Rl=a.cache,r.Nl=a.dataStorage),"y"===s&&(r.Gl=a.cache,r.Vl=a.dataStorage),"color"===s&&(r.Ul=a.cache),"rotation"===s&&(r.Yl=a.cache),"size"===s&&(r.Wl=a.cache),"lookupValue"===s&&(r.Xl=a.cache))}}}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=e.return)&&n.call(e)}finally{if(i)throw i.error}}return r},t.prototype.setMaxSampleCount=function(t){var i=this;if("object"==typeof t){this.Hl&&this.removeEventListener("maxsamplecountexceed",this.Hl);var n=t.max,r=t.initial;this.Hl=function(t){if(!(void 0!==n&&t.currentMaxSampleCount>=n)){var r=Math.max(2*t.currentMaxSampleCount,t.newTotalSampleCount);void 0!==n&&(r=Math.min(r,n)),i.setMaxSampleCount(r)}},this.addEventListener("maxsamplecountexceed",this.Hl),void 0===this.Bl&&(void 0!==r?this.setMaxSampleCount(r):this.setMaxSampleCount(Math.min(2*this.bl,void 0!==n?n:Number.MAX_SAFE_INTEGER)))}else if("number"==typeof t){var e=t;if(void 0!==this.Bl&&this.Bl>e)throw new Error("LightningChart JS | DataSetXY.setMaxSampleCount attempted to shrink data set. This is currently not supported.");if(!this.Ol||!Object.values(this.Ol).find((function(t){return t.cache})))return this.Bl=e,this;if(e===this.Bl)return this;if(this.ml&&0!==this.Al&&this.Al!==this.getSampleCount())throw new Error("LightningChart JS | DataSetXY.setMaxSampleCount attempted to expand data set that has exceeded its max sample count. This is currently not supported.");this.Bl=e,this.bl<e?(this.Al=this.bl,this.ml=!1):(this.Al=0,this.ml=!0),Object.values(this.Ol).forEach((function(t){var i,n=new(null!==(i=t.dataStorage)&&void 0!==i?i:Float64Array)(e);n.set(t.cache),t.cache=n}))}return this},t.prototype.getMaxSampleCount=function(){return this.Bl},t.prototype.clear=function(){return this.Al=0,this.bl=0,this.pl=0,this.ml=!1,this.Ct.Tt("clear",{type:"clear"}),this},t.prototype.readBack=function(t){var i;if(!this.Ol)return{data:{},iSampleFirst:0};var n=null===(i=Object.values(this.Ol).find((function(t){return t.cache})))||void 0===i?void 0:i.cache;if(!n)return{data:{},iSampleFirst:0};var r,e=n.length,o=[];if(null==t?void 0:t.onlyInRange){var s=this.Ol[t.onlyInRange.key],u=this.Ll(t.onlyInRange.key),a=s.cache;if(!u)throw new Error("LightningChart JS - attempted to use `DataSetXY.readBack` with `onlyInRange` without a data pattern.\nThis operation is only supported for progressive data");if(!a)return{data:{},iSampleFirst:0};var h=Math.min(t.onlyInRange.start,t.onlyInRange.end),f=Math.max(t.onlyInRange.start,t.onlyInRange.end),c=Tc(h,f,a,this.pl,this.bl,this.Al,u,0);if(!c)return{data:{},iSampleFirst:0};o=c.dataRanges,r=c.iFirstSample}else if(void 0!==this.Bl&&this.ml&&this.pl%this.Bl!=0){var l=this.Al,v=e-l,d=this.Al-1;o.push({offset:l,count:v}),o.push({offset:0,count:d+1}),r=this.pl-e}else o.push({offset:0,count:this.bl}),r=0;var y=o.reduce((function(t,i){return t+i.count}),0),A=Object.fromEntries(Object.entries(this.Ol).filter((function(t){var i=xc(t,2);return i[0],i[1].cache})).map((function(t){var i,n,r,e,s=xc(t,2),u=s[0],a=s[1],h=a.cache;if(1===o.length&&o[0].count===h.length)e=h;else{e=new(null!==(r=a.dataStorage)&&void 0!==r?r:Float64Array)(y);var f=0;try{for(var c=Sc(o),l=c.next();!l.done;l=c.next()){var v=l.value;e.set(a.cache.subarray(v.offset,v.offset+v.count),f),f+=v.count}}catch(t){i={error:t}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(i)throw i.error}}}return[u,e]})));return{data:A,iSampleFirst:r}},t.prototype.Zl=function(t,i){var n,r,e=this.readBack(i);return{xValues:null!==(n=e.data[t.x])&&void 0!==n?n:new Float64Array,yValues:null!==(r=e.data[t.y])&&void 0!==r?r:new Float64Array,lookupValues:t.lookupValue?e.data[t.lookupValue]:void 0,colors:t.color?e.data[t.color]:void 0,sizes:t.size?e.data[t.size]:void 0,rotations:t.rotation?e.data[t.rotation]:void 0,iSampleFirst:e.iSampleFirst}},t.prototype.Jl=function(t){},t.prototype.Ql=function(){return{min:0,max:void 0!==this.Bl&&this.ml?this.Bl-1:this.bl-1}},t.prototype.Kl=function(t){t=Math.min(t,this.bl),this.pl-=t,this.bl-=t,this.Al-=t,this.Al<0&&void 0!==this.Bl&&(this.Al+=this.Bl)},t.prototype.jl=function(t,i){var n,r,e=this,o=this.Ol;if(o){var s=this.Ll(t),u="progressive"===s,a=o[t].cache,h=i.parsedDataArrs[t],f=Object.keys(i.parsedDataArrs);if(s&&a&&h){var c=i.count,l=h[0];if(this.Il(Object.fromEntries(f.map((function(t){return[t,i.parsedDataArrs[t][i.offset+i.count-1]]}))))){for(var v=a.length,d=this.bl,y=this.pl-1,A=Math.max(y-d+1,0),b=kc(l,A,y,u,(function(t){return a[Cc(t,e.pl,v,e.Al)]})),p=b-1,m=b+1,g=a[Cc(b,this.pl,v,this.Al)],x=m<=this.pl-1?a[Cc(m,this.pl,v,this.Al)]:void 0,S=void 0!==x&&(u&&x<l||!u&&x>l)?m+1:u&&g<l||!u&&g>l?b+1:p+1,w=y-S+1,M=Object.fromEntries(f.map((function(t){var i;return[t,new(null!==(i=o[t].dataStorage)&&void 0!==i?i:Float64Array)(w)]}))),C=0,T=S;T<=y;T+=1){var k=Cc(T,this.pl,v,this.Al);try{for(var _=(n=void 0,Sc(f)),O=_.next();!O.done;O=_.next()){var F=O.value;M[F][C]=o[F].cache[k]}}catch(t){n={error:t}}finally{try{O&&!O.done&&(r=_.return)&&r.call(_)}finally{if(n)throw n.error}}C+=1}this.Kl(w);var I=Object.fromEntries(f.map((function(t){var n,r=new(null!==(n=o[t].dataStorage)&&void 0!==n?n:Float64Array)(c+w);return r.set(i.parsedDataArrs[t]),r.set(M[t],c),[t,r]})));this.Sl=!0,this.appendSamples(I),this.Sl=!1,this.Ct.Tt("clear",{type:"clear"})}else{var j=this.El(),B=j?j[t]:0,D=0;for(T=0;T<c;T+=1)if(h[T]>B){D=T;break}this.Sl=!0,this.appendSamples(i.parsedDataArrs,{offset:D}),this.Sl=!1}}}},t.prototype.Il=function(t){var i,n,r=this.El();if(r&&this.Ol){var e=Object.keys(t),o=[];try{for(var s=Sc(e),u=s.next();!u.done;u=s.next()){var a=u.value,h=this.Ll(a);if(h){var f=r[a],c=t[a],l="number"==typeof c?c:c[0];("progressive"===h&&l<f||"regressive"===h&&l>f)&&o.push(a)}}}catch(t){i={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o.length>0?o:void 0}},t.prototype.ql=function(t){var i=this.zl(t);if(i.Rl&&i.Gl&&0!==this.bl){if(void 0===this.Bl)return this.pl>0?{x:i.Rl[0],y:i.Gl[0]}:void 0;if(!this.ml)return{x:i.Rl[0],y:i.Gl[0]};var n=this.Al-this.bl;return n<0&&(n+=this.Bl),{x:i.Rl[n],y:i.Gl[n]}}},t.prototype.$l=function(t){var i=this.zl(t);if(i.Rl&&i.Gl&&0!==this.bl){if(void 0===this.Bl){var n=this.bl-1;return n>=0?{x:i.Rl[n],y:i.Gl[n]}:void 0}var r=this.Al-1;return r<0&&(r+=this.Bl),{x:i.Rl[r],y:i.Gl[r]}}},t.prototype.tv=function(){if(this.Ol&&0!==this.bl){var t;if(void 0===this.Bl){if(this.pl>0)return;t=0}else this.ml?(t=this.Al-this.bl)<0&&(t+=this.Bl):t=0;return Object.fromEntries(Object.entries(this.Ol).map((function(i){var n=xc(i,2);return[n[0],n[1].cache[t]]})))}},t.prototype.El=function(){var t;if(this.Ol&&0!==this.bl)return void 0===this.Bl?t=this.bl-1:(t=this.Al-1)<0&&(t+=this.Bl),Object.fromEntries(Object.entries(this.Ol).map((function(i){var n=xc(i,2);return[n[0],n[1].cache[t]]})))},t.prototype.nv=function(t,i){var n=this.zl(t);if(this.Ol&&0!==this.bl&&n&&n.Rl&&n.Gl){var r=n.Rl.length,e=this.bl,o=this.pl-1,s=Math.max(o-e+1,0)+i,u=Cc(s,this.pl,r,this.Al);return{x:n.Rl[u],y:n.Gl[u],lookupValue:n.Xl?n.Xl[u]:void 0,color:n.Ul?n.Ul[u]:void 0,size:n.Wl?n.Wl[u]:void 0,rotation:n.Yl?n.Yl[u]:void 0,iSample:s,sample:Object.fromEntries(Object.entries(this.Ol).map((function(t){var i=xc(t,2),n=i[0],r=i[1];return[n,r.cache?r.cache[u]:void 0]})))}}},t.prototype.rv=function(t,i,n,r,e){var o=this;if(t){var s=this.Ol,u=this.zl(t),a=u.dataPattern,h=u.Rl,f=u.Gl;if(h&&f&&s){var c,l=function(t,i){var n=h[t],r=f[t],e=u.Xl?u.Xl[t]:void 0,o=u.Ul?u.Ul[t]:void 0,a=u.Wl?u.Wl[t]:void 0,c=u.Yl?u.Yl[t]:void 0,l=Object.fromEntries(Object.entries(s).map((function(i){var n=xc(i,2),r=n[0],e=n[1];return[r,e.cache?e.cache[t]:void 0]})));return{x:n,y:r,lookupValue:e,color:o,size:a,rotation:c,iSample:i,sample:l}},v=h.length,d=this.bl,y=this.pl-1,A=Math.max(y-d+1,0);if(a){var b=ra(a),p=this.ql(t),m=this.$l(t);if(!(p&&m&&u.Rl&&u.Gl))return;var g="ProgressiveX"===a||"RegressiveX"===a?"x":"y",x="x"===g?"y":"x",S="x"===g?u.Rl:u.Gl,w="x"===x?u.Rl:u.Gl,M=i[g],C=Math.min(p[g],m[g]),T=Math.max(p[g],m[g]);if(M<C||M>T)return;var k=kc(M,A,y,b,(function(t){return S[Cc(t,o.pl,v,o.Al)]})),_=Cc(k,this.pl,v,this.Al);if(!n)return l(_,k);var O=k-1,F=k+1,I=S[_],j=b?M>=I?F<=y?F:void 0:O>=A?O:void 0:M<=I?F<=y?F:void 0:O>=A?O:void 0;if(void 0===j)return;var B=Cc(j,this.pl,v,this.Al),D=k<j?{pos:S[_],val:w[_],iSample:k}:{pos:S[B],val:w[B],iSample:j},L=k>j?{pos:S[_],val:w[_],iSample:k}:{pos:S[B],val:w[B],iSample:j},E=(M-D.pos)/(L.pos-D.pos),P=ea(D.val,L.val,E),z=Object.fromEntries(Object.entries(s).map((function(t){var i=xc(t,2),n=i[0],r=i[1];return[n,r.cache?r.cache[_]:void 0]})));return"x"===na(a)?{x:M,y:P,iSample:ea(D.iSample,L.iSample,E),sample:z}:{y:M,x:P,iSample:ea(D.iSample,L.iSample,E),sample:z}}for(var N=Number.MAX_VALUE,V=ee(i,r,e),R=this.bl-1,G=0;G<=R;G+=1){var U=h[G],Y=f[G];if(!this.Cl||!Number.isNaN(U)&&!Number.isNaN(Y)){var W=re(U,r.x,e.x),X=re(Y,r.y,e.y),H=Math.pow(W-V.x,2)+Math.pow(X-V.y,2);H<N&&(N=H,c=G)}}return void 0===c?void 0:l(c,c)}}},t.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},t.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},t}(),Cc=function(t,i,n,r){return t%n},Tc=function(t,i,n,r,e,o,s,u){if(0!==r&&0!==e){var a="progressive"===s,h=n.length,f=r-1,c=Math.max(f-e+1,0),l=mc(n)?kc(t,c,f,a,(function(t){return n.elementAt(Cc(t,r,h))})):kc(t,c,f,a,(function(t){return n[Cc(t,r,h)]})),v=mc(n)?kc(i,c,f,a,(function(t){return n.elementAt(Cc(t,r,h))})):kc(i,c,f,a,(function(t){return n[Cc(t,r,h)]})),d=Math.min(l,v),y=Math.max(l,v);if(d!==y||0!==d&&d!==f){var A=Math.max(d-u,c),b=Math.min(y+u,f),p=Cc(A,r,h),m=Cc(b,r,h);return p>m?{iFirstSample:A,iLastSample:b,iFirstSampleDataArray:p,iLastSampleDataArray:m,dataRanges:[{offset:p,count:h-p},{offset:0,count:m+1}]}:{iFirstSample:A,iLastSample:b,iFirstSampleDataArray:p,iLastSampleDataArray:m,dataRanges:[{offset:p,count:m-p+1}]}}}},kc=function(t,i,n,r,e){for(var o=n;i!==n;){var s=Math.ceil((i+n)/2),u=e(s);r&&t<u||!r&&t>u?n=s-1:i=s}var a=Math.abs(t-e(i));return i<o&&Math.abs(t-e(i+1))<a?i+1:i},_c=function(t,i,n,r,e){if("number"==typeof i)t.fill(i,e,e+r);else{var o=i.length;if(Array.isArray(i))for(var s=0;s<r;s+=1)t[e+s]=i[n+s];else t.set(o===r?i:i.subarray(n,n+r),e)}},Oc=function(t,i){return void 0===t?void 0:Array.isArray(t)?new i(t):t instanceof i?t:new i(t)},Fc=/^(\d{4}-\d{2}-\d{2})(?:T(\d{2}:\d{2}:\d{2}(?:\.\d+)?)(Z|[+-]\d{2}:\d{2})?)?$/,Ic=function(t){return"string"==typeof t&&Fc.test(t)&&!Qe.isNaN(Date.parse(t))},jc=function(t,i){if("number"==typeof t)return t;if(wr(t))return t.toUint32();if(t instanceof Date)return t.getTime();if("string"==typeof t){if(Ic(t))return new Date(t).getTime();throw new Error("LightningChart JS error - XY coordinate supplied as unrecognized String format. Coordinates must be Numbers, Date objects or ISO 8601 Date strings")}var n=t.length,r=t[0]&&t[0]instanceof Date,e=t[0]&&Ic(t[0]),o=t[0]&&wr(t[0]);if(!e&&t[0]&&"string"==typeof t[0])throw new Error("LightningChart JS error - XY coordinate supplied as unrecognized String format. Coordinates must be Numbers, Date objects or ISO 8601 Date strings");if(e){for(var s=new i(n),u=0;u<n;u+=1)s[u]=new Date(t[u]).getTime();return s}if(r){for(s=new i(n),u=0;u<n;u+=1)s[u]=t[u].getTime();return s}if(o){var a=t.length,h=new Uint32Array(a);for(u=0;u<a;u+=1){var f=t[u],c=255*f.a<<24|255*f.b<<16|255*f.g<<8|255*f.r;h[u]=c}return h}return t},Bc=function(t){if(t&&Array.isArray(t))return Float64Array;var i="object"==typeof t?Object.getPrototypeOf(t).constructor:void 0;return null!=i?i:Float64Array},Dc=function(t){return!!t&&!Array.isArray(t)&&(t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)},Lc=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ec=function(){return Ec=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Ec.apply(this,arguments)},Pc=function(i){function n(t,n,r,e,o){var s,u=this;return(u=i.call(this,t,n,r,e,o)||this).Hh="label",u.kf=u.kr.$s(u.renderingScale).Os(u.Hh).Be(Cu).Ks(os).qs(os),u.setMargin(null!==(s=o.uiTextPadding)&&void 0!==s?s:5),u.Ct.xn(u.kf),u}return Lc(n,i),n.prototype.du=function(){return[this.kf]},n.prototype.setFillStyle=function(t){return this.kf.Be(t),this.kr.vr(),this},n.prototype.getFillStyle=function(){return this.kf.Zo()},n.prototype.Le=function(){void 0!==this.pu&&this.kf.Lh(this.pu);var i=this.getPosition(o(0,0),t.UISpace.Content),n=ee(i,this.scale,this.renderingScale);return this.kf.Ee(n),this.kf.ko=this.ko,this},n.prototype.ds=function(){this.kf.ds();var t=0===this.Hh.length?o(0,0):this.kf.al();return this.setContentSize(t),i.prototype.ds.call(this)},n.prototype.setText=function(t){return this.Hh=t,this.kf.Os(this.Hh),this.kr.vr(),this},n.prototype.getText=function(){return this.Hh},n.prototype.setFont=function(t){return this.kf.qo(t),this.kr.vr(),this},n.prototype.getFont=function(){return this.kf.Ko()},n.prototype.setTextRotation=function(t){return this.kf.$o(t),this.kr.vr(),this},n.prototype.getTextRotation=function(){return this.kf.ts()},n}(Ac),zc=Ec(Ec(Ec({},Mf),Tf),{uiElement:Pc}),Nc=function(i){function n(t,n,r,e,o){var s=i.call(this,t,n,r,e,o)||this;return s.fitTo=s.mu.bind(s),s.setSize=s.fitTo,s.kf=s.kr.ev(n).Be(Cu).je(Pe),s.ov=s.kf.pa(),s.Ct.xn(s.kf),s}return Lc(n,i),n.prototype.du=function(){return[this.kf]},n.prototype.setCornerRadius=function(t,i){var n,r,e,o;return this.sv=t,this.ov.uv(t?{extent:t,c_x1_y1:null===(n=null==i?void 0:i.bottomLeft)||void 0===n||n,c_x1_y2:null===(r=null==i?void 0:i.topLeft)||void 0===r||r,c_x2_y1:null===(e=null==i?void 0:i.bottomRight)||void 0===e||e,c_x2_y2:null===(o=null==i?void 0:i.topRight)||void 0===o||o,skipTooSmallCheck:!!i}:void 0),this.kr.vr(),this},n.prototype.getCornerRadius=function(){return this.sv},n.prototype.setFillStyle=function(t){return this.kf.Be(t),this.kr.vr(),this},n.prototype.getFillStyle=function(){return this.kf.Zo()},n.prototype.setStrokeStyle=function(t){return this.kf.je(t),this.kr.vr(),this},n.prototype.getStrokeStyle=function(){return this.kf.Ch()},n.prototype.Le=function(){var i=this;void 0!==this.pu&&this.kf.Lh(this.pu);var n=Bs([this.getPosition(o(-1,-1),t.UISpace.Content),this.getPosition(o(1,1),t.UISpace.Content)].map((function(t){return ee(t,i.scale,i.renderingScale)})));return this.ov.av(n.min.x,n.min.y,n.max.x,n.max.y),this},n.prototype.mu=function(t){return this.setContentSize(t),this.kr.vr(),this},n.prototype.gu=function(){return 0},n.prototype.xu=function(){return 0},n.prototype.wu=function(){return 0},n.prototype.Su=function(){return 0},n}(bc),Vc=function(i){function n(t,n,r,e,s){var u=i.call(this,t,n,r,e,s)||this;return u.hv=o(0,0),u.kf=t.fv(n).Rc(0).Xe(360).Be(Cu).je(Pe),u.Ct.xn(u.kf),u}return Lc(n,i),n.prototype.du=function(){return[this.kf]},n.prototype.setFillStyle=function(t){return this.kf.Be(t),this.kr.vr(),this},n.prototype.getFillStyle=function(){return this.kf.Zo()},n.prototype.setStrokeStyle=function(t){return this.kf.je(t),this.kr.vr(),this},n.prototype.getStrokeStyle=function(){return this.kf.Ch()},n.prototype.Le=function(){void 0!==this.pu&&this.kf.Lh(this.pu);var i=this.getSize(t.UISpace.Content).x/2;return this.kf.Uc(i*this.renderingScale.Gi().x).Yc(i*this.renderingScale.Gi().y).Ee(ee(this.getPosition(o(0,0),t.UISpace.Content),this.scale,this.renderingScale)).Xc(255).ds(),this},n.prototype.mu=function(t){var i=Math.sqrt(t.x*t.x/4+t.y*t.y/4);return this.setContentSize(o(2*i,2*i)),this.hv=t,this.kr.vr(),this},n.prototype.gu=function(){return(this.getSize(t.UISpace.Content).x-this.hv.x)/2},n.prototype.xu=function(){return(this.getSize(t.UISpace.Content).x-this.hv.x)/2},n.prototype.wu=function(){return(this.getSize(t.UISpace.Content).y-this.hv.y)/2},n.prototype.Su=function(){return(this.getSize(t.UISpace.Content).y-this.hv.y)/2},n.prototype.fitTo=function(t){var i=Math.min(t.x,t.y);return this.setContentSize(o(i,i)),this.hv=t,this},n}(bc),Rc=function(i){function n(t,n,r,e,s){var u=i.call(this,t,n,r,tc.Simple,e,s)||this;return u.cv=l(o(0,0)),u.lv=!1,u.dl(),u}return Lc(n,i),n.prototype.yl=function(){var t=this.cv.T();if(this.lv){var i=Math.min(t.x,t.y);return[o(0,0),o(i/2,i/2),o(0,i),o(-i/2,i/2)]}var n=2*Math.sqrt(this.cv.T().x*this.cv.T().x/4+this.cv.T().y*this.cv.T().y/4),r=o(Math.cos(Math.PI/4)*n,0),e=o(0,Math.sin(Math.PI/4)*n),s=o(0,0),u=Ys(s,Ys(r,e)),a=Ys(u,Ys(e,Us(r,-1)));return[s,u,a,Ws(a,Ys(r,e))]},n.prototype.du=function(){return[this.kf]},n.prototype.setFillStyle=function(t){return this.kf.Be(t),this.kr.vr(),this},n.prototype.getFillStyle=function(){return this.kf.Zo()},n.prototype.setStrokeStyle=function(t){return this.kf.je(t),this.kr.vr(),this},n.prototype.getStrokeStyle=function(){return this.kf.Ch()},n.prototype.mu=function(t){return this.cv.C(t),this.lv=!1,this.kr.vr(),this},n.prototype.gu=function(){return this.lv?0:(this.getSize(t.UISpace.Content).x-this.cv.T().x)/2},n.prototype.xu=function(){return this.lv?0:(this.getSize(t.UISpace.Content).x-this.cv.T().x)/2},n.prototype.wu=function(){return this.lv?0:(this.getSize(t.UISpace.Content).y-this.cv.T().y)/2},n.prototype.Su=function(){return this.lv?0:(this.getSize(t.UISpace.Content).y-this.cv.T().y)/2},n.prototype.fitTo=function(t){return this.cv.C(t),this.lv=!0,this.kr.vr(),this},n}(pc),Gc=function(i){function n(n,r,e,s,u){var a=i.call(this,n,r,e,tc.Simple,s,u)||this;return a.vv=l(o(0,0)),a.dv=l(10),a.yv=l(void 0),a.Fu=l(t.UIDirections.Right),a.dl(),a}return Lc(n,i),n.prototype.du=function(){return[this.kf]},n.prototype.setFillStyle=function(t){return this.kf.Be(t),this.kr.vr(),this},n.prototype.getFillStyle=function(){return this.kf.Zo()},n.prototype.setStrokeStyle=function(t){return this.kf.je(t),this.kr.vr(),this},n.prototype.getStrokeStyle=function(){return this.kf.Ch()},n.prototype.setDirection=function(t){return this.Fu.C(t),this.kr.vr(),this},n.prototype.getDirection=function(){return this.Fu.T()},n.prototype.setPointerLength=function(t){return this.dv.C(t),this.kr.vr(),this},n.prototype.getPointerLength=function(){return this.dv.T()},n.prototype.setPointerAngle=function(t){return this.yv.C(t),this.kr.vr(),this},n.prototype.getPointerAngle=function(){var t=this.yv.T();if(void 0===t){var i=this.Av();if(0===i)return 0;t=0!==i?180*Math.atan(2*this.getPointerLength()/i)/Math.PI:0}return Math.min(Math.max(t,1),89)},n.prototype.mu=function(t){return this.vv.C(t),this.kr.vr(),this},n.prototype.bv=function(){var t=this.getPointerAngle();return 0===t?0:2*this.getPointerLength()/Math.tan(t*Math.PI/180)},n.prototype.pv=function(){return So(this.Fu.T())?this.vv.T().x:this.vv.T().y},n.prototype.Av=function(){return So(this.Fu.T())?this.vv.T().y:this.vv.T().x},n.prototype.gu=function(){switch(this.Fu.T()){case t.UIDirections.Right:return 0;case t.UIDirections.Left:return this.getPointerLength();case t.UIDirections.Up:case t.UIDirections.Down:return Math.max(0,this.bv()-this.Av());default:return 0}},n.prototype.xu=function(){switch(this.Fu.T()){case t.UIDirections.Right:return this.getPointerLength();case t.UIDirections.Left:return 0;case t.UIDirections.Up:case t.UIDirections.Down:return Math.max(0,this.bv()-this.Av());default:return 0}},n.prototype.wu=function(){switch(this.Fu.T()){case t.UIDirections.Right:case t.UIDirections.Left:return Math.max(0,this.bv()-this.Av());case t.UIDirections.Up:return this.getPointerLength();case t.UIDirections.Down:default:return 0}},n.prototype.Su=function(){switch(this.Fu.T()){case t.UIDirections.Right:case t.UIDirections.Left:return Math.max(0,this.bv()-this.Av());case t.UIDirections.Up:return 0;case t.UIDirections.Down:return this.getPointerLength();default:return 0}},n.prototype.yl=function(){var t=xo(this.Fu.T()),i=Rs(o(0,0),t),n=this.getPointerLength(),r=this.bv(),e=this.pv(),s=this.Av();if(!(0!==n&&0!==r||0!==e&&0!==s))return[];var u=o(0,0),a=Ys(Ys(u,Us(t,-n)),Us(i,r/2)),h=Ys(a,Us(i,(s-r)/2)),f=Ys(h,Us(t,-e)),c=Ys(Ys(u,Us(t,-n)),Us(i,-r/2)),l=Ys(c,Us(i,-(s-r)/2)),v=Ys(l,Us(t,-e));return 0===e||0===s?[u,a,c]:0===n||0===r?[h,f,v,l]:no(s,r)?[u,a,f,v,c]:[u,a,h,f,v,l,c]},n}(pc),Uc=function(i){function n(t,n,r,e,o){var s=i.call(this,t,n,r,e,o)||this;return s.fitTo=s.mu.bind(s),s.setSize=s.fitTo,s.mv=new Mc,s.kf=s.kr.wv(n).Ye(Pe).Sv(Cu).xv(Cu).gv(s.mv,{x:"x",y:"y"}),s.Ct.xn(s.kf),s}return Lc(n,i),n.prototype.du=function(){return[this.kf]},n.prototype.setShape=function(t){return this.kf.Mv(t),this},n.prototype.getShape=function(){return this.kf.Cv()},n.prototype.setRotation=function(t){return this.kf.Tv(t),this},n.prototype.getRotation=function(){return this.kf.kv()},n.prototype.setFillStyle=function(t){return this.kf.xv(t),this.kr.vr(),this},n.prototype.getFillStyle=function(){return this.kf._v()},n.prototype.setStrokeStyle=function(t){return this.kf.Ov(t),this.kr.vr(),this},n.prototype.getStrokeStyle=function(){return this.kf.Fv()},n.prototype.Le=function(){void 0!==this.pu&&this.kf.Lh(this.pu);var i=ee(this.getPosition({x:0,y:0},t.UISpace.Content),this.scale,this.renderingScale),n=Math.max(this.size.x,this.size.y);if(this.mv.clear(),n>0){var r=this.kf.Cv(),e=this.kf._v(),o=Ea(r)&&r,s=De(e)&&e;if(o){var u=n/o.ai().y;this.kf.Iv(u)}else if(s){var a=s.source;a instanceof Image&&(u=n/a.height,this.kf.Iv(u))}else this.kf.Iv(n);this.mv.appendSample(i)}return this},n.prototype.mu=function(t){return this.setContentSize(t),this.kr.vr(),this},n.prototype.gu=function(){return 0},n.prototype.xu=function(){return 0},n.prototype.wu=function(){return 0},n.prototype.Su=function(){return 0},n}(Ac),Yc=Ec(Ec(Ec({},Mf),Tf),{uiElement:Uc}),Wc=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xc=function(){return Xc=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Xc.apply(this,arguments)},Hc=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Wc(i,t),i.prototype.setSize=function(t){return this.setContentSize(t),this.kr.vr(),this},i}(Of),Zc=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.jv=[],i.Bv=0,i.Dv=function(t){var n=i.jv.indexOf(t);n>=0&&i.jv.splice(n,1)},i}return Wc(i,t),i.prototype.getMembers=function(){return this.jv},i.prototype.getMemberCount=function(){return this.jv.length},i.prototype.setMinimumSize=function(t){return this.Lv=t,this.kr.vr(),this},i.prototype.getMinimumSize=function(){return this.Lv},i.prototype.addElement=function(t,i){void 0===i&&(i=-1);var n=t.Eu(this.kr,this.renderingScale,this.scale,this.Dv,this.en,!1);return n.setPointerEvents(this.getPointerEvents()),i>=0?this.jv.splice(i,0,n):this.jv.push(n),n.setVisible(this.getVisible()),this.Ct.Mn(n),this.Hi&&(Ho(0,(function(){})),n.dispose()),n},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.jv.slice().forEach(to),this},i.prototype.Le=function(){var i=this;t.prototype.Le.call(this),this.jv.forEach((function(t){t.ko=i.ko}));var n=this.pu;return void 0!==n&&this.jv.forEach((function(t,i){t.pu=n+1+.01*i})),this},i.prototype.setVisible=function(i){return t.prototype.setVisible.call(this,i),this.jv.forEach((function(t){return t.setVisible(i)})),this},i.prototype.setPointerEvents=function(i){t.prototype.setPointerEvents.call(this,i);for(var n=0;n<this.jv.length;n+=1)this.jv[n].setPointerEvents(i);return this},i.prototype.getPointerEvents=function(){if(t.prototype.getPointerEvents.call(this))return!0;for(var i=0;i<this.jv.length;i+=1)if(this.jv[i].getPointerEvents())return!0;return!1},i.prototype.setHighlight=function(i){t.prototype.setHighlight.call(this,i);for(var n=0;n<this.jv.length;n+=1){var r=this.jv[n];Ue(r)&&r.setHighlight(i)}return this},i}(df),Jc=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Wc(n,i),n.prototype.Le=function(){var n=this;i.prototype.Le.call(this);var r=this.getPosition(o(-1,1),t.UISpace.Content),e=this.jv.reduce((function(t,i){return t+ +(i instanceof Hc)}),0),s=e>0?(this.size.x-this.Bv)/e:0;return this.jv.reduce((function(t,i){return i instanceof Hc?n.scale.Bi({x:t,y:r.y},{x:s+i.getSize().x,y:0}).x:i.setOrigin(o(-1,1)).setPosition(o(t,r.y)).Le().getPosition(o(1,0)).x}),r.x),this},n.prototype.ds=function(){for(var t=0;t<this.jv.length;t+=1)(e=this.jv[t])instanceof Qc&&e.setMinimumSize(0),e.ds();var n=this.jv.reduce(this.Ev.bind(this),s(0,0));this.Bv=n.x;var r=void 0===this.Lv?n:o(Math.max(n.x,this.Lv),n.y);for(this.setContentSize(r),t=0;t<this.jv.length;t+=1){var e;(e=this.jv[t])instanceof Qc&&e.setMinimumSize(r.y).ds()}return i.prototype.ds.call(this)},n.prototype.Ev=function(t,i){var n=i.getSize();return t.x+=n.x,t.y=Math.max(t.y,n.y),t},n.prototype.addGap=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=-1),this.addElement(Kc,i).setSize(o(0,t))},n}(Zc),Qc=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Wc(n,i),n.prototype.Le=function(){var n=this;i.prototype.Le.call(this);var r=this.getPosition(o(-1,1),t.UISpace.Content),e=this.jv.reduce((function(t,i){return t+ +(i instanceof Hc)}),0),s=e>0?(this.size.y-this.Bv)/e:0;return this.jv.reduce((function(t,i){return i instanceof Hc?n.scale.Bi({x:r.x,y:t},{x:0,y:-(s+i.getSize().y)}).y:i.setOrigin(o(-1,1)).setPosition(o(r.x,t)).Le().getPosition(o(0,-1)).y}),r.y),this},n.prototype.ds=function(){for(var t=0;t<this.jv.length;t+=1)(e=this.jv[t])instanceof Jc&&e.setMinimumSize(0),e.ds();var n=this.jv.reduce(this.Ev.bind(this),s(0,0));this.Bv=n.y;var r=void 0===this.Lv?n:o(n.x,Math.max(n.y,this.Lv));for(this.setContentSize(r),t=0;t<this.jv.length;t+=1){var e;(e=this.jv[t])instanceof Jc&&e.setMinimumSize(r.x).ds()}return i.prototype.ds.call(this)},n.prototype.Ev=function(t,i){var n=i.getSize();return t.y+=n.y,t.x=Math.max(t.x,n.x),t},n.prototype.addGap=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=-1),this.addElement(Kc,i).setSize(o(0,t))},n}(Zc),Kc=Xc(Xc(Xc({},Mf),Tf),{uiElement:Hc}),qc=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.jv=[],i}return Wc(i,t),i.prototype.addColumn=function(){return this.addElement(il,void 0)},i.prototype.getColumn=function(t,i){return void 0===i&&(i=!1),i&&this.jv.length<=t?(this.addColumn(),this.getColumn(t,!0)):this.jv[t]},i}(Jc),$c=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.jv=[],i}return Wc(i,t),i.prototype.addRow=function(){return this.addElement(nl,void 0)},i.prototype.getRow=function(t,i){return void 0===i&&(i=!1),i&&this.jv.length<=t?(this.addRow(),this.getRow(t,!0)):this.jv[t]},i}(Qc),tl=Xc(Xc(Xc({},Mf),Cf),kf),il=Xc(Xc({},tl),{uiElement:Qc,background:Nc}),nl=Xc(Xc({},tl),{uiElement:Jc,background:Nc}),rl={setTextLabel:null,setText:function(t){return this.setTextLabel.setText(t),this},getText:function(){return this.setTextLabel.getText()}},el=(sc=[],(uc={})[ac="stylable".concat(oc="Text","s")]=sc,uc["set".concat(oc,"FillStyle")]=function(t){return this[ac].forEach((function(i){return i.setFillStyle(t)})),this},uc["get".concat(oc,"FillStyle")]=function(){return this[ac][0].getFillStyle()},uc["set".concat(oc,"Font")]=function(t){return this[ac].forEach((function(i){return i.setFont(t)})),this},uc["get".concat(oc,"Font")]=function(){return this[ac][0].getFont()},uc["set".concat(oc,"Rotation")]=function(t){return this[ac].forEach((function(i){return i.setTextRotation(t)})),this},uc["get".concat(oc,"Rotation")]=function(){return this[ac][0].getTextRotation()},uc),ol={button:void 0,isLocked:!1,setOn:function(t){var i=this.button.getOn()!==t;return this.button.setOn(t),i&&this.Ct.Tt("switch",{state:t}),this},getOn:function(){return this.button.getOn()},setLocked:function(t){return this.isLocked=t,this},getLocked:function(){return this.isLocked},setButtonOffFillStyle:function(t){return this.button.setOffFillStyle(t),this},getButtonOffFillStyle:function(){return this.button.getOffFillStyle()},setButtonOnFillStyle:function(t){return this.button.setOnFillStyle(t),this},getButtonOnFillStyle:function(){return this.button.getOnFillStyle()},setButtonStrokeStyle:function(t){return this.button.setStrokeStyle(t),this},getButtonStrokeStyle:function(){return this.button.getStrokeStyle()},setButtonSize:function(t){return this.button.setSize(t),this},getButtonSize:function(){return this.button.getSize()},setButtonShape:function(t){return this.button.setButtonShape(t),this},getButtonShape:function(){return this.button.getButtonShape()}},sl={textFillStyleHidden:void 0,setTextFillStyleHidden:function(t){return this.textFillStyleHidden="function"==typeof t?t(this.textFillStyleHidden):t,this},getTextFillStyleHidden:function(){return this.textFillStyleHidden}},ul={pointable:void 0,setDirection:function(t){return this.pointable.setDirection(t),this},getDirection:function(){return this.pointable.getDirection()},setPointerLength:function(t){return this.pointable.setPointerLength(t),this},getPointerLength:function(){return this.pointable.getPointerLength()}},al=function(){return al=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},al.apply(this,arguments)},hl=al(al(al({},Mf),Cf),{background:Nc,Eu:function(t,i,n,r,e,o){var s=new Jc(t,i,n,this.background,r,e),u=s.addElement(zc,void 0),a=Object.assign(s,rl,{setTextLabel:u},el,{stylableTexts:[u]});return wf(a,e,o),this.applyStylers(a,e)}}).addStyler(Sf),fl=al(al(al({},Mf),Cf),{background:Gc,direction:t.UIDirections.Up,setDirection:function(t){return this.direction=t,this},Eu:function(i,n,r,e,o,s){var u=this.direction,a=new Jc(i,n,r,this.background,e,o),h=a.addElement(zc,void 0),f=a.getBackground().setDirection(u),c=a.Le.bind(a),l=Object.assign(a,rl,{setTextLabel:h},el,{stylableTexts:[h]},ul,{pointable:f},{setTickLabelPadding:function(i){return this.getDirection()===t.UIDirections.Up?(this.setPadding({top:i}),h.setMargin({top:0})):this.getDirection()===t.UIDirections.Down?(this.setPadding({bottom:i}),h.setMargin({bottom:0})):this.getDirection()===t.UIDirections.Right?(this.setPadding({right:i}),h.setMargin({right:0})):this.getDirection()===t.UIDirections.Left&&(this.setPadding({left:i}),h.setMargin({left:0})),this},getTickLabelPadding:function(){return this.getDirection()===t.UIDirections.Up?this.getPadding().top:this.getDirection()===t.UIDirections.Down?this.getPadding().bottom:this.getDirection()===t.UIDirections.Right?this.getPadding().right:this.getPadding().left},setTickLabelAlignment:function(t,i){return this},getTickLabelAlignment:function(){return 0},ko:void 0,Le:function(){h.ko=this.ko,c()}});return l.Pu="other",l.setPointerLength(o.xAxisNumericTicks.majorTickStyle.getTickLength()).setTickLabelPadding(o.xAxisNumericTicks.majorTickStyle.getTickPadding()).setTextFont(o.uiTextFont).setTextFillStyle(o.uiTextFillStyle).setBackground((function(t){return t.setFillStyle(o.uiBackgroundFillStyle).setStrokeStyle(o.uiBackgroundStrokeStyle)})),wf(l,o,s),this.applyStylers(l,o)}}),cl=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ll=function(){return ll=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},ll.apply(this,arguments)},vl=function(i){function n(t,n,r,e,o,s){var u=i.call(this,t,n,r,o,s)||this;return u.Pv=!1,u.zv=Cu,u.Nv=Cu,u.getOn=function(){return u.Pv},u.Nv=s.uiButtonFillStyleHidden||s.uiButtonFillStyle,u.Vv=new Uc(u.kr,u.renderingScale,u.scale,io,s).setShape(e).setFillStyle(u.Nv),u.Ct.Mn(u.Vv),u}return cl(n,i),n.prototype.du=function(){return function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}([],function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(this.Vv.du()),!1)},n.prototype.setOn=function(t){return this.Pv=t,this.Vv.setFillStyle(t?this.zv:this.Nv),this.kr.vr(),this},n.prototype.setOffFillStyle=function(t){return this.Nv="function"==typeof t?t(this.Nv):t,this.Pv||this.Vv.setFillStyle(this.Nv),this},n.prototype.getOffFillStyle=function(){return this.Nv},n.prototype.setSize=function(t){return this.Vv.fitTo("number"==typeof t?o(t,t):t),this},n.prototype.getSize=function(){return this.Vv.getSize()},n.prototype.setOnFillStyle=function(t){return this.zv="function"==typeof t?t(this.zv):t,this.Pv&&this.Vv.setFillStyle(this.zv),this},n.prototype.getOnFillStyle=function(){return this.zv},n.prototype.setStrokeStyle=function(t){return this.Vv.setStrokeStyle(t),this},n.prototype.getStrokeStyle=function(){return this.Vv.getStrokeStyle()},n.prototype.setButtonShape=function(t){return this.Vv.setShape(t),this.kr.vr(),this},n.prototype.getButtonShape=function(){return this.Vv.getShape()},n.prototype.Le=function(){return i.prototype.Le.call(this),this.Vv.pu=this.pu,this.Vv.setVisible(this.getVisible()).setPosition(this.getPosition(o(0,0),t.UISpace.Content)).Le(),this},n.prototype.ds=function(){var t=this.Vv.ds().getSize();return this.setContentSize(t),i.prototype.ds.call(this)},n.prototype.dispose=function(){return i.prototype.dispose.call(this),this.Vv.dispose(),this},n.prototype.setPointerEvents=function(t){return this.Vv.setPointerEvents(t),this},n.prototype.getPointerEvents=function(){return this.Vv.getPointerEvents()},n.prototype.setHighlight=function(t){var i=qo(t);return this.Vv.setHighlight(i),this.Ct.Tt("highlightchange",{highlight:i}),this.kr.vr(),this},n.prototype.getHighlight=function(){return this.Vv.getHighlight()},n}(vf),dl=ll(ll({},Mf),{uiElement:vl,buttonShape:t.PointShape.Circle,setButtonShape:function(t){return ll(ll({},this),{buttonShape:t})},Eu:function(t,i,n,r,e,o){var s=this.applyStylers(new this.uiElement(t,i,n,this.buttonShape,r,e),e);return wf(s,e,o),s}}),yl=function(){return yl=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},yl.apply(this,arguments)},Al=yl(yl(yl({},Mf),Cf),{background:Nc,buttonBuilder:dl,setButtonShape:function(t){return yl(yl({},this),{buttonBuilder:this.buttonBuilder.setButtonShape(t)})},Eu:function(i,n,r,e,o,s){var u,a=new Jc(i,n,r,this.background,e,o),h=a.addElement(il);h.addGap();var f=h.addElement(this.buttonBuilder);h.addGap();var c=a.addElement(il);c.addGap();var l=c.addElement(zc);c.addGap(),a.addGap();var v,d=Object.assign(a,rl,{setTextLabel:l},el,{stylableTexts:[l]},ol,{button:f},sl);return d.addEventListener("click",(function(){d.getLocked()||d.setOn(!d.getOn())})),d.addEventListener("pointerenter",(function(){d.setHighlight(!0)})),d.addEventListener("pointerleave",(function(){d.setHighlight(!1)})),d.setMouseStyle(t.MouseStyles.Point),d.setTextFillStyleHidden(o.uiTextFillStyleHidden||o.uiTextFillStyle),d.addEventListener("switch",(function(t){t.state?v&&d.setTextFillStyle(v):(v=d.getTextFillStyle(),d.setTextFillStyle(d.getTextFillStyleHidden()))})),d.setPadding({left:null!==(u=o.uiTextPadding)&&void 0!==u?u:5}),wf(d,o,s),this.applyStylers(d,o)}}).addStyler(Sf).addStyler((function(t,i){return t.setButtonOnFillStyle(i.uiButtonFillStyle).setButtonOffFillStyle(i.uiButtonFillStyleHidden).setButtonSize(i.uiButtonSize).setButtonStrokeStyle(i.uiButtonStrokeStyle),t})),bl=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pl=function(){return pl=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},pl.apply(this,arguments)},ml=function(i){function n(n,r,e,o,s){var u=i.call(this,n,r,e,o,s)||this;return u.Rv=10,u.Gv=t.UIDirections.Up,u.Uv=0,u.Pu="major",u.Yv=0,u.Wv=1,u.Hh=n.$s(u.renderingScale).Ks(os).qs(os),u.Ct.xn(u.Hh),u.Ue=n.We(u.renderingScale),u.Ct.xn(u.Ue),u}return bl(n,i),n.prototype.du=function(){return[this.Hh]},n.prototype.Le=function(){if(i.prototype.Le.call(this),this.Hi)return this;var n=ee(this.getPosition(),this.scale,this.renderingScale),r=this.renderingScale.Bi(n,{x:this.Gv===t.UIDirections.Right?-this.Rv:this.Gv===t.UIDirections.Left?this.Rv:0,y:this.Gv===t.UIDirections.Up?-this.Rv:this.Gv===t.UIDirections.Down?this.Rv:0}),e=this.renderingScale.Bi(r,{x:this.Gv===t.UIDirections.Right?-this.Uv:this.Gv===t.UIDirections.Left?this.Uv:0,y:this.Gv===t.UIDirections.Up?-this.Uv:this.Gv===t.UIDirections.Down?this.Uv:0});return this.Ue.He(n).Xe(r),this.Hh.Ee(e).wf(this.Gv===t.UIDirections.Up?{x:this.Yv,y:this.Wv}:this.Gv===t.UIDirections.Down?{x:this.Yv,y:-this.Wv}:this.Gv===t.UIDirections.Right?{x:this.Wv,y:this.Yv}:{x:-this.Wv,y:this.Yv}),this.Hh.ko=this.ko,this},n.prototype.ds=function(){var n=this.Ue.Nu().getThickness();return this.size=this.Gv===t.UIDirections.Left||this.Gv===t.UIDirections.Right?{x:this.Rv+this.Uv+this.Hh.ds().al().x,y:n}:{y:this.Rv+this.Uv+this.Hh.ds().al().y,x:n},i.prototype.ds.call(this)},n.prototype.dispose=function(){return i.prototype.dispose.call(this),this.Hh.dispose(),this.Ue.dispose(),this},n.prototype.setVisible=function(t){return i.prototype.setVisible.call(this,t),this.Hh.setVisible(t),this.Ue.setVisible(t),this},n.prototype.setPointerEvents=function(t){return this.Hh.setPointerEvents(t),this.Ue.setPointerEvents(t),this},n.prototype.getPointerEvents=function(){return this.Hh.getPointerEvents()},n.prototype.getText=function(){return this.Hh.js()},n.prototype.setTextFillStyle=function(t){return this.Hh.Be(t),this.kr.vr(),this},n.prototype.getTextFillStyle=function(){return this.Hh.Zo()},n.prototype.setTextFont=function(t){return this.Hh.qo(t),this},n.prototype.setTextRotation=function(t){return this.Hh.$o(t),this},n.prototype.getTextRotation=function(){return this.Hh.ts()},n.prototype.getTextFont=function(){return this.Hh.Ko()},n.prototype.setText=function(t){return this.Hh.Os(t),this.kr.vr(),this},n.prototype.setDirection=function(t){return this.Gv=t,this.kr.vr(),this},n.prototype.getDirection=function(){return this.Gv},n.prototype.setPointerLength=function(t){return this.Rv=t,this.kr.vr(),this},n.prototype.getPointerLength=function(){return this.Rv},n.prototype.setTickLabelPadding=function(t){return this.Uv=t,this.kr.vr(),this},n.prototype.getTickLabelPadding=function(){return this.Uv},n.prototype.setTickStyle=function(t){return this.Ue.Ye(t),this.kr.vr(),this},n.prototype.getTickStyle=function(){return this.Ue.Nu()},n.prototype.setTickLabelAlignment=function(t,i){return this.Yv=t,i&&(this.Wv=i),this.kr.vr(),this},n.prototype.getTickLabelAlignment=function(){return this.Yv},n}(vf),gl=pl(pl({},Mf),{direction:t.UIDirections.Up,setDirection:function(t){return this.direction=t,this},Eu:function(t,i,n,r,e,o){var s=this.direction,u=new ml(t,i,n,r,e);return wf(u,e,o),u.setDirection(s),this.applyStylers(u,e)}}).addStyler(Sf),xl=gl.addStyler((function(t,i){return t.Pu="major",t.setPointerLength(i.xAxisNumericTicks.majorTickStyle.tickLength).setTickLabelPadding(i.xAxisNumericTicks.majorTickStyle.tickPadding).setTickStyle(i.xAxisNumericTicks.majorTickStyle.tickStyle).setTextFont(i.xAxisNumericTicks.majorTickStyle.labelFont).setTextFillStyle(i.xAxisNumericTicks.majorTickStyle.labelFillStyle)})),Sl=gl.addStyler((function(t,i){return t.Pu="minor",t.setPointerLength(i.xAxisNumericTicks.minorTickStyle.tickLength).setTickLabelPadding(i.xAxisNumericTicks.minorTickStyle.tickPadding).setTickStyle(i.xAxisNumericTicks.minorTickStyle.tickStyle).setTextFont(i.xAxisNumericTicks.minorTickStyle.labelFont).setTextFillStyle(i.xAxisNumericTicks.minorTickStyle.labelFillStyle)})),wl=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ml=function(){return Ml=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Ml.apply(this,arguments)},Cl=function(i){function n(t,n,r,e,o,s){var u,a,h,f,c,l,v=this;return(v=i.call(this,t,n,r,e,o)||this).Xv=[],v.Hv="",v.Zv=function(t,i){return void 0!==t.label?t.label:i.percentageValues?"".concat((100*t.value).toFixed(0),"%"):xu(i,t.value)},v.Jv=0,v.Qv=!1,v.Yv=s,v.Kv=t.ev(n).je(Pe),v.ov=v.Kv.pa().uv("number"==typeof o.legendLUTCornerRadius?{extent:o.legendLUTCornerRadius,c_x1_y1:!0,c_x1_y2:!0,c_x2_y1:!0,c_x2_y2:!0}:void 0),v.Ct.xn(v.Kv),v.qv=t.$s(n).Be(o.uiTextFillStyle).qo(o.uiTextFont).setPointerEvents(!1),v.Ct.xn(v.qv),v.$v=null!==(u=o.legendLUTLabelMargin)&&void 0!==u?u:7,v.td=null!==(a=o.legendLUTUnitLabelMargin)&&void 0!==a?a:7,"vertical"===s?(v.nd=null!==(h=o.legendLUTLengthVertical)&&void 0!==h?h:140,v.rd=null!==(f=o.legendLUTThicknessVertical)&&void 0!==f?f:25):(v.nd=null!==(c=o.legendLUTLengthHorizontal)&&void 0!==c?c:160,v.rd=null!==(l=o.legendLUTThicknessHorizontal)&&void 0!==l?l:15),v}return wl(n,i),n.prototype.du=function(){return[this.Kv,this.qv]},n.prototype.ed=function(t){return this.qv.Ks(t),this.Xv.forEach((function(i){return i.Ks(t)})),this.kr.vr(),this},n.prototype.od=function(t){this.sd=t;var i=_l(t,"vertical"===this.Yv?0:90,this.Qv);return this.Kv.Be(i),this.kr.vr(),this},n.prototype.Mr=function(){return this.sd},n.prototype.ud=function(t){return this.nd=t,this.kr.vr(),this},n.prototype.wf=function(t){return this.Yv=t,this.kr.vr(),this},n.prototype.ad=function(){return this.nd},n.prototype.hd=function(t){return this.rd=t,this.kr.vr(),this},n.prototype.fd=function(){return this.rd},n.prototype.ld=function(t){return this.Hv=t,this.kr.vr(),this},n.prototype.vd=function(){return this.Hv},n.prototype.dd=function(t){return this.Zv=t,this.kr.vr(),this},n.prototype.setLUTDisplayProportionalSteps=function(t){if(this.Qv=t,this.sd){var i=_l(this.sd,"vertical"===this.Yv?0:90,this.Qv);this.Kv.Be(i)}return this.kr.vr(),this},n.prototype.getLUTDisplayProportionalSteps=function(){return this.Qv},n.prototype.setFillStyle=function(t){return this.qv.Be(t),this.kr.vr(),this},n.prototype.getFillStyle=function(){return this.qv.Zo()},n.prototype.setFont=function(t){return this.qv.qo(t),this.kr.vr(),this},n.prototype.getFont=function(){return this.qv.Ko()},n.prototype.setTextRotation=function(t){return this.Jv=t,this.qv.$o(t),this.kr.vr(),this},n.prototype.getTextRotation=function(){return this.qv.ts()},n.prototype.Le=function(){var n,r,e,o,s=this;if(i.prototype.Le.call(this),this.Hi||!this.getVisible())return this;var u=this.sd;if(u){var a=this.renderingScale.Gi(),h=u.min,f=u.max;if("vertical"===this.Yv){var c={x:(b=Ys(v=this.getPosition({x:-1,y:-1},t.UISpace.Content),{x:this.rd*this.renderingScale.x.getPixelSize()+this.$v*a.x,y:0})).x,y:b.y+(this.Hv.length>0?this.td*a.y+this.qv.ai().y:0)+.5*((null===(n=this.Xv[0])||void 0===n?void 0:n.ai().y)||0)},l={x:c.x,y:this.getPosition({x:-1,y:1},t.UISpace.Content).y-.5*((null===(r=this.Xv[this.Xv.length-1])||void 0===r?void 0:r.ai().y)||0)};this.ov.av(v.x,c.y,v.x+this.rd*this.renderingScale.x.getPixelSize(),c.y+this.nd*this.renderingScale.y.getPixelSize()),this.qv.wf({x:-1,y:-1}).Ee(b),u.getSteps().forEach((function(t,i){var n=Is(c,l,s.Qv?!0===u.getInterpolation()?(t.value-h)/(f-h):.9*(t.value-h)/(f-h):!0===u.getInterpolation()?i/(u.getSteps().length-1):i/u.getSteps().length);s.Xv[i].wf({x:-1,y:0}).Ee(n)}))}else{var v=this.getPosition({x:-1,y:-1},t.UISpace.Content),d=this.getPosition({x:1,y:1},t.UISpace.Content),y=Math.max(this.Xv.reduce((function(t,i){return Math.max(t,i.ai().y)}),0),this.qv.ds().ai().y),A=Ys(v,{x:.5*((null===(e=this.Xv[0])||void 0===e?void 0:e.ai().x)||0),y:y}),b={x:d.x,y:A.y},p={x:u.getInterpolation()?b.x-(.5*((null===(o=this.Xv[this.Xv.length-1])||void 0===o?void 0:o.ai().x)||0)+(this.Hv.length>0?this.td*a.x+this.qv.ai().x:0)):A.x+this.nd*this.renderingScale.x.getPixelSize(),y:A.y},m={x:A.x,y:A.y+this.$v*a.y};this.ov.av(m.x,m.y,m.x+this.nd*this.renderingScale.x.getPixelSize(),m.y+this.rd*this.renderingScale.y.getPixelSize()),this.qv.wf({x:1,y:1}).Ee(b),u.getSteps().forEach((function(t,i){var n=Is(A,p,s.Qv?!0===u.getInterpolation()?(t.value-h)/(f-h):.9*(t.value-h)/(f-h):!0===u.getInterpolation()?i/(u.getSteps().length-1):i/u.getSteps().length);s.Xv[i].wf({x:0,y:1}).Ee(n)}))}}return this},n.prototype.ds=function(){if(this.sd&&this.getVisible()){for(var t=this.sd.getSteps(),n=this.Xv.length;n<t.length;n+=1){var r=this.kr.$s(this.renderingScale).setPointerEvents(!1);this.Xv.push(r),this.Ct.xn(r)}for(n=0;n<t.length;n+=1)this.Xv[n].Be(this.qv.Zo()).qo(this.qv.Ko()).Os(this.Zv(t[n],this.sd)).$o(this.Jv);for(n=t.length;n<this.Xv.length;n+=1)this.Xv[n].dispose();if(this.Xv.length=t.length,this.qv.Os(this.Hv),"vertical"===this.Yv){var e=this.rd,o=this.nd,s=e+Math.max(this.Xv.reduce((function(t,i){return Math.max(t,i.ds().al().x)}),0),this.qv.ds().al().x),u=(this.Hv.length>0?this.td+this.qv.ds().al().y:0)+o+.5*this.Xv[0].ds().al().y+.5*this.Xv[this.Xv.length-1].ds().al().y;this.setContentSize({x:s,y:u})}else{e=this.nd,o=this.rd;var a=Math.max(this.Hv.length>0?this.td+this.qv.ds().al().x+(this.sd.getInterpolation()?.5*this.Xv[this.Xv.length-1].ds().al().x:0):0,this.sd.getInterpolation()?.5*this.Xv[this.Xv.length-1].ds().al().x:0);s=e+.5*this.Xv[0].ds().al().x+a,u=o+this.$v+Math.max(this.Xv.reduce((function(t,i){return Math.max(t,i.ds().al().y)}),0),this.qv.ds().al().y),this.setContentSize({x:s,y:u})}}else this.Xv.forEach((function(t){return t.dispose()})),this.Xv.length=0,this.qv.setVisible(!1),this.Kv.setVisible(!1),this.setContentSize({x:0,y:0});return i.prototype.ds.call(this)},n.prototype.dispose=function(){return i.prototype.dispose.call(this),this.Kv.dispose(),this.Xv.forEach(to),this.qv.dispose(),this},n.prototype.setPointerEvents=function(t){return this.Kv.setPointerEvents(t),this},n.prototype.getPointerEvents=function(){return this.Kv.getPointerEvents()},n}(vf),Tl={lutElement:{},setLUT:function(t){return this.lutElement.od(t),this},getLUT:function(){return this.lutElement.Mr()},setLUTLength:function(t){return this.lutElement.ud(t),this},getLUTLength:function(){return this.lutElement.ad()},setLUTThickness:function(t){return this.lutElement.hd(t),this},getLUTThickness:function(){return this.lutElement.fd()},setLookUpUnit:function(t){return this.lutElement.ld(t),this},getLookUpUnit:function(){return this.lutElement.vd()},setLUTStepValueFormatter:function(t){return this.lutElement.dd(t),this},setLUTDisplayProportionalSteps:function(t){return this.lutElement.setLUTDisplayProportionalSteps(t),this},getLUTDisplayProportionalSteps:function(){return this.lutElement.getLUTDisplayProportionalSteps()}},kl=Ml(Ml(Ml({},Mf),Cf),{background:Nc,alignment:"horizontal",setAlignment:function(t){return Ml(Ml({},this),{alignment:t})},Eu:function(t,i,n,r,e,o){var s=this,u=new Qc(t,i,n,this.background,r,e),a=u.addElement({Eu:function(){return new Cl(t,i,n,io,e,s.alignment)}}),h=Object.assign(u,el,{stylableTexts:[a]},Tl,{lutElement:a});return wf(h,e,o),this.applyStylers(h,e)}}).addStyler(Sf),_l=function(t,i,n){var r=t.getSteps(),e=t.min,o=t.max-e;if(!0===t.getInterpolation())return new Vr({angle:i,stops:r.map((function(i,s){return{offset:n?(i.value-e)/o:s/(r.length-1),color:i.color||t.color}}))});for(var s=[],u=0;u<r.length;u+=1){var a=r[u];s.push({offset:n?.9*(a.value-e)/o:u/r.length,color:a.color||t.color});var h=u<r.length-1?r[u+1]:void 0;s.push({offset:n?h?.9*(h.value-e)/o:1:h?(u+1)/r.length:1,color:a.color||t.color})}return new Vr({angle:i,stops:s})},Ol=Al.addStyler((function(t){return t.addEventListener("switch",(function(i){return!0===i.state?setTimeout((function(){return t.setOn(!1)}),300):void 0}))})),Fl={TextBox:hl,CheckBox:Al,ButtonBox:Ol,PointableTextBox:fl,AxisTickMajor:xl,AxisTickMinor:Sl,LUTRange:kl},Il=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jl=function(){return jl=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},jl.apply(this,arguments)},Bl=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Dl=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Ll=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},El=function(t){function i(i,n,r,e,o,s){var u=t.call(this,i,n,r,e,s)||this;return u.yd=o,u}return Il(i,t),i}(of),Pl=function(i){function n(n,r,e,o,s,u,a,h,f,c,l,v,d,y,A,b){var p,m,g,x=this;return(x=i.call(this,c,f,a,y,A,{numeric:f.getWidth({x:y.xAxisNumericTicks,y:y.yAxisNumericTicks}),datetime:f.getWidth({x:y.xAxisDateTimeTicks,y:y.yAxisDateTimeTicks}),time:f.getWidth({x:y.xAxisTimeTicks,y:y.yAxisTimeTicks})},b)||this).Ad=new Map,x.bd=void 0,x.pd=0,x.md=[],x.gd=[],x.xd=!0,x.Sd=[],x.wd=function(t){var i=x.gd.indexOf(t);i>=0&&x.gd.splice(i,1)},x.Md=function(t){return x.gd.indexOf(t)<0&&x.gd.push(t),x.wd},x.Cd=!0,x.Td=jo(x.Sd),x.nd={relative:1},x.kd=function(t,i){return i.getAllocatesAxisSpace()&&ks(i.getValue(),x.Go,x.Uo)?Math.max(t,i.update().Ru()):t},x._d=function(t){var i=x.md.indexOf(t);-1!==i&&x.md.splice(i,1)},x.Wn=t.HighlightModes.onHover,x.Ct=new we,x.Re={},x.Od=a instanceof Jr?a:void 0,x.isX=x.Po.getWidth({x:!0,y:!1}),x.isY=x.Po.getHeight({x:!0,y:!1}),x.Fd=n,x.Id=r,x.jd=o,x.Bd=s,x.chart=c,x.Dd=v,x.Ld=e,x.Jn=u,"logarithmic"===b.type&&x.chart.qi.qa(gf.ua),x.Jo=Vl,d(x,x.Md),a.Ed=x,x.Pd=l,x.zd=x.Pd>50?1:-1,x.Nd=(g=x.Po.toPoint(0,-x.zd),Math.abs(g.x)>=Math.abs(g.y)?g.x>=0?t.UIDirections.Right:t.UIDirections.Left:g.y>=0?t.UIDirections.Up:t.UIDirections.Down),x.Vd=h,x.Rd=x.Yi instanceof Jr?(new $r).Di(x.Po.toVec2(x.Yi,x.Vd)):(new te).Di(x.Po.toVec2(x.Yi,x.Vd)),x.Gd=x.chart.Ud,x.Yd=(new $r).Di(x.Po.toVec2(x.Po.getWidth(x.Gd),x.Vd)),x.Wd=x.Id.We(x.Rd).setPointerEvents(!1),x.Xd=x.Ld.De(x.Gd).Be(f.getWidth({x:y.xAxisOverlayStyle,y:y.yAxisOverlayStyle})).je(Pe).yn(y.highlightColorOffsetAxisOverlay||y.highlightColorOffset),x.Hd=x.Ld.De(x.Gd).Be(f.getWidth({x:y.xAxisZoomingBandFillStyle,y:y.yAxisZoomingBandFillStyle})).je(f.getWidth({x:y.xAxisZoomingBandStrokeStyle,y:y.yAxisZoomingBandStrokeStyle})).yn(y.highlightColorOffsetAxisOverlay||y.highlightColorOffset),x._o=x.Ld.$s(x.Rd).setPointerEvents(!1).$o(x.Po.getTitleTextRotation(x.zd)).qs(os).Ks(os),x.chart.qi.ir.tr(x.Xd,(function(t){return x.Xd.vn(t)}),{animationEnabled:x.lo}),x.Ct.xn(x.Xd),x.Wd.Ye(f.getWidth({x:y.xAxisStrokeStyle,y:y.yAxisStrokeStyle})),x._o.Be(f.getWidth({x:y.xAxisTitleFillStyle,y:y.yAxisTitleFillStyle})).qo(f.getWidth({x:y.xAxisTitleFont,y:y.yAxisTitleFont})),x.Qn=u.Kn(x,{}),x.ns=x.Qn.Zd([x._o]).lr(y.effectsText),x.Jd=null!==(p=f.getWidth({x:y.xAxisMarginAfterTicks,y:y.yAxisMarginAfterTicks}))&&void 0!==p?p:7,x.Qd=null!==(m=f.getWidth({x:y.xAxisMarginAfterTitle,y:y.yAxisMarginAfterTitle}))&&void 0!==m?m:7,x}return Il(n,i),n.prototype.setHighlight=function(t){return this.chart.qi.ir.pr(this.Xd,t),this.Ct.Tt("highlightchange",{highlight:qo(t)}),this},n.prototype.getHighlight=function(){return this.chart.qi.ir.sr(this)},n.prototype.Js=function(){return this.yo},n.prototype.Qs=function(){return void 0!==this.us},n.prototype.setKeepTickLabelsInAxisBounds=function(t){return this.Cd=t,this.chart.qi.vr(),this},n.prototype.getKeepTickLabelsInAxisBounds=function(){return this.Cd},n.prototype.setTickStrategy=function(t,n){return i.prototype.Ro.call(this,t,n)},n.prototype.getTickStrategy=function(){return this.ao},n.prototype.addBand=function(t){var i,n=null===(i=null==t?void 0:t.onTop)||void 0===i||i,r=null==t?void 0:t.legend,e=n?this.Bd:this.jd,o=new Ih(e,this.chart,this.Td,this,this.Rd,this.Po,this.en,this.Jn);return r&&this.chart.legend.add(o,r),this.Sd.push(o),o},n.prototype.addConstantLine=function(t){var i,n=null===(i=null==t?void 0:t.onTop)||void 0===i||i,r=null==t?void 0:t.legend,e=n?this.Bd:this.jd,o=new Bh(e,this.chart,this.Td,this,this.Rd,this.Po,this.en,this.Jn);return r&&this.chart.legend.add(o,r),this.Sd.push(o),o},n.prototype.Kd=function(t){this.Sd.forEach(t)},n.prototype.qd=function(t){return this.Sd.map(t)},n.prototype.getHighlighters=function(){return this.Sd},n.prototype.setThickness=function(t){return"number"==typeof t?(this.$d=t,this.ty=t):"object"==typeof t?(this.$d=t.min,this.ty=t.max):void 0===t&&(this.$d=void 0,this.ty=void 0),this.As=void 0,this.chart.qi.vr(),this},n.prototype.getThickness=function(){return{min:this.$d,max:this.ty}},n.prototype.iy=function(){return this.gd},n.prototype.ps=function(t){return{}},n.prototype.ws=function(t,i,n,r,e){var o,s=i.so;return{keyValue:t,tickLevel:i,labelText:n,labelPosition:this.Po.toPoint(t,0),labelAlignment:this.Po.toPoint(s.getLabelAlignment(),null!==(o=s.labelAlignmentOpposite)&&void 0!==o?o:-this.zd),labelOffset:{x:0,y:0},labelRotation:i.so.labelRotation}},n.prototype.Ts=function(t,i,n){var r=this;if(!this.Zi)return{ny:0,ey:0,oy:0,ticksInfo:i,updatedTicks:n};var e=this._o&&this._o.js().length>0&&this.getTitleFillStyle()!==Cu,o=this.Po.getHeight(e?this._o.ds().al():{x:0,y:0})+(e?this.Qd:0),s=0;this.ho.forEach((function(t,i){var n=i.so.tickLength<0||i.so.tickPadding<0,e=i.so.tickLength+i.so.tickPadding;t.forEach((function(t){if(t.ls.getVisible()&&!Tu(t.ls.Zo())){var i=e+r.Po.getHeight(t.ls.ds().al());n||(s=Math.max(s,i))}else n||(s=Math.max(s,e))}))}));var u=this.md.reduce(this.kd,0);s=Math.max(s,u),s+=this.Jd;var a=ro(o+s,void 0!==this.$d?this.$d:0,void 0!==this.ty?this.ty:As);return this.pd=a,{ny:s,ey:o,oy:a,ticksInfo:i,updatedTicks:n}},n.prototype.Fs=function(t,i){return new El(i,t,this.Id,this.Rd,this.Rd)},n.prototype.Fo=function(){return this.Rd},n.prototype.rs=function(){var t,n;if(this.Ad){try{for(var r=Bl(this.Ad),e=r.next();!e.done;e=r.next()){var o=e.value;o[1].grid.dispose(),o[1].tick.dispose()}}catch(i){t={error:i}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.Ad.clear()}i.prototype.rs.call(this)},n.prototype.Ws=function(t,i){return"linear"===this.No.type||"linear-highPrecision"===this.No.type?Wu(t,i,this.Yi):Xu(t,i,this.Yi)},n.prototype.sy=function(t,i){return i instanceof Jr?Wu:Xu},n.prototype.Zs=function(t,i,n){if("logarithmic"!==this.No.type){var r=this.Yi.ji(Math.abs(i-t));return{start:t+Math.sign(t-i)*n.start*r,end:i+Math.sign(i-t)*n.end*r}}var e=this.Yi,o={start:e.It,end:e.jt};e.Et(t,i).Nn();var s={start:e.Bi(t,n.start*Math.sign(t-i)),end:e.Bi(i,n.end*Math.sign(i-t))};return e.Et(o.start,o.end).Nn(),s},n.prototype.vs=function(t){var i,n,r=this.ys(),e=r.min,o=r.max,s=this.ho.size>0,u=(null===(i=this.As)||void 0===i?void 0:i.physicalAxisSize)!==t.physicalAxisSize,a=(null===(n=this.As)||void 0===n?void 0:n.min)!==e||this.As.max!==o;if(this.As&&this.Od){var h=this.Od.getPixelSize(),f=Math.abs(o-this.As.max),c=Math.abs(f/h),l=Math.abs(e-this.As.min),v=Math.abs(l/h);a=Math.max(c,v)>=10}return!(!s||u||a||t.anyPreviousAxisUpdated)},n.prototype.Le=function(i){var n,r,e,o,s,u,a,h,f=this.getVisible()&&i.uy>0,c=this.Yi.getInnerStart()<this.Yi.getInnerEnd()?this.Yi.getInnerStart():this.Yi.getInnerEnd(),l=this.Yi.getInnerEnd()>this.Yi.getInnerStart()?this.Yi.getInnerEnd():this.Yi.getInnerStart();f||this.rs();var v=this.Wd.Nu().getThickness()*this.zd/2,d=this.Vd.getInnerInterval(),y=this.Pd/100*d,A=y+i.hy,b=d*this.zd,p=A+v;if("Empty"!==this.ao&&f){var m=this.Yi.ei(),g=this.Yi.oi(),x=Math.min(m,g),S=Math.max(m,g);try{for(var w=Bl(this.ho),M=w.next();!M.done;M=w.next()){var C=Dl(M.value,2),T=C[0],k=C[1],_=this.Ad.get(T);if(!_)if(T.Qe)_={grid:this.Fd[0].ly(this.Rd).setPointerEvents(!1),tick:this.Fd[0].ly(this.Rd).setPointerEvents(!1)};else if("vy"in T){var O=Array.from(this.ho.keys()).filter((function(t){return"vy"in t})).reverse().indexOf(T),F=this.Fd[O];if(!F)throw new Error("Not enough tick layers. This is an internal LCJS error - if you see this, please contact LightningChart support.");_={grid:F.ly(this.Rd).setPointerEvents(!1),tick:F.ly(this.Rd).setPointerEvents(!1)}}if(_){_.grid.Sn(),_.tick.Sn();var I=T.so,j=y-b*I.getGridStrokeLength(),B=p+I.getTickLength()*this.zd,D=B+I.getTickPadding()*this.zd;try{for(var L=(e=void 0,Bl(k)),E=L.next();!E.done;E=L.next()){var P=Dl(E.value,2),z=(P[0],P[1]),N=i.ticksInfo.get(z);if(N){var V={start:this.Po.toPoint(z.S,A),end:this.Po.toPoint(z.S,j)},R={start:this.Po.toPoint(z.S,p),end:this.Po.toPoint(z.S,B)},G=0;if(this.Cd){var U=z.ls.al(),Y=this.Yi.pi(N.keyValue)+this.Po.getWidth(N.labelOffset)+(-.5*this.Po.getWidth(N.labelAlignment)-.5)*this.Po.getWidth(U),W=Y+this.Po.getWidth(U);G=W>S?S-W:Y<x?x-Y:0}z.ls.Ee(this.Po.toPoint(this.Yi.Bi(z.S,G),D)).wf(N.labelAlignment).$o(N.labelRotation),_.grid.pa().yy(V.start,V.end),_.tick.pa().yy(R.start,R.end)}}}catch(t){e={error:t}}finally{try{E&&!E.done&&(o=L.return)&&o.call(L)}finally{if(e)throw e.error}}_.grid.Ye(T.so.getGridStrokeStyle()),_.tick.Ye(T.so.getTickStyle()),this.Ad.set(T,_)}}}catch(t){n={error:t}}finally{try{M&&!M.done&&(r=w.return)&&r.call(w)}finally{if(n)throw n.error}}}var X=p,H=X+this.zd*i.oy,Z={start:this.Po.toVec2(this.Yi.getInnerStart(),X),end:this.Po.toVec2(this.Yi.getInnerEnd(),H)},J=ee(Z.start,this.Rd,this.Gd),Q=ee(Z.end,this.Rd,this.Gd);this.Wd.He(this.Po.toPoint(c,A)).Xe(this.Po.toPoint(l,A)).setVisible(f);var K=this.Ay;K||(K="center-chart",("pixels"in this.nd||void 0!==this.by||void 0!==this.my||1!==i.gy||this.isY)&&(K="center"));var q=A+i.ny*this.zd;if(this._o.Ee(this.Po.toPoint(this.Po.getWidth(ee("center-chart"===K?{x:.5*this.Gd.x.getInnerInterval(),y:.5*this.Gd.y.getInnerInterval()}:"center"===K?Us(Ys(J,Q),.5):"start"===K?J:Q,this.Gd,this.Rd)),q)).wf(this.Po.toPoint("center-chart"===K||"center"===K?0:"start"===K?-1:1,-1*this.zd)).setVisible(f),this.bd){var $=this.Pd/100*d+i.hy,tt=-this.zd*d-i.hy,it={start:this.Po.toVec2(this.bd.min,p+this.zd*this.pd),end:this.Po.toVec2(this.bd.max,$+tt)},nt=ee(it.start,this.Rd,this.Gd),rt=ee(it.end,this.Rd,this.Gd);this.Hd.Ee(nt).zt(Ws(rt,nt)).setVisible(!0)}else this.Hd.setVisible(!1);this.Xd.Ee(J).zt(Ws(Q,J)).setVisible(f);try{for(var et=Bl(this.md),ot=et.next();!ot.done;ot=et.next())if((z=ot.value).update().plot(f,A,b,i.hy,p),this.Ld.qi.sl&&z.getVisible()&&z.getMarkerVisible()&&z.Lu.ko===t.TextObjectIdentifier.CursorTickMarker){var st=Af(z.Lu);this.Ld.qi.sl.xy(jl(jl({},st),{blacklist:[t.TextObjectIdentifier.CursorResultTable,t.TextObjectIdentifier.CursorTickMarker]}))}}catch(t){s={error:t}}finally{try{ot&&!ot.done&&(u=et.return)&&u.call(et)}finally{if(s)throw s.error}}try{for(var ut=Bl(this.Sd),at=ut.next();!at.done;at=ut.next())at.value.Le()}catch(t){a={error:t}}finally{try{at&&!at.done&&(h=ut.return)&&h.call(ut)}finally{if(a)throw a.error}}return{width:Math.abs(Q.x-J.x),height:Math.abs(Q.y-J.y),left:Math.min(J.x,Q.x),right:this.Gd.x.getInnerEnd()-Math.max(J.x,Q.x),bottom:Math.min(J.y,Q.y),top:this.Gd.y.getInnerEnd()-Math.max(J.y,Q.y)}},n.prototype.setLength=function(t){return this.nd=t,this.As=void 0,this.chart.qi.vr(),this},n.prototype.getLength=function(){return this.nd},n.prototype.setMargins=function(t,i){return this.by=t,this.my=i,this.As=void 0,this.chart.qi.vr(),this},n.prototype.getMargins=function(){var t,i;return{start:null!==(t=this.by)&&void 0!==t?t:0,end:null!==(i=this.my)&&void 0!==i?i:0}},n.prototype.getStackIndex=function(){var t,i,n=this;return null!==(i=null===(t=Ll(Ll(Ll(Ll([],Dl(this.chart.Sy),!1),Dl(this.chart.wy),!1),Dl(this.chart.My),!1),Dl(this.chart.Cy),!1).find((function(t){return t.axis===n})))||void 0===t?void 0:t.iStack)&&void 0!==i?i:0},n.prototype.getParallelIndex=function(){var t,i,n=this;return null!==(i=null===(t=Ll(Ll(Ll(Ll([],Dl(this.chart.Sy),!1),Dl(this.chart.wy),!1),Dl(this.chart.My),!1),Dl(this.chart.Cy),!1).find((function(t){return t.axis===n})))||void 0===t?void 0:t.iParallel)&&void 0!==i?i:0},n.prototype.Ty=function(){return this.pd},n.prototype.ky=function(i,n){n=n||Fl.AxisTickMajor;var r=new mf(this,i?this.Fd[0]:this.Ld,this.Ld,this.Yi,this.Yd,this.Yd,this.Po,this.Nd,this._d,this.en,n).setTextFormatter(this.formatValue);return this.md.push(r),this.As=void 0,"other"===r.Lu.Pu&&(r.Lu.ko=t.TextObjectIdentifier.CursorTickMarker),r},n.prototype._y=function(t,i){var n=-this.Po.getWidth(i);this.pan(n)},n.prototype.pan=function(t,i){var n,r,e=this.Go,o=this.Uo,s=this.Yi.Bi(e,t),u=this.Yi.Bi(o,t);this.hs(s,u,{allowIntervalLengthChange:!1,skipIntervalRestriction:!1});var a,h=this.Qo();!1!==(null==i?void 0:i.releaseScrollingAxisIfLiveReached)&&(null===(n=this.fs)||void 0===n?void 0:n.id)===Eh&&this.vo&&h&&(a=this.Je({forStart:s,forEnd:u,allowIntervalLengthChange:!1}))&&(this.Uo>this.Go&&this.Uo>=a.end||this.Uo<this.Go&&this.Go>=a.start)&&this.setStopped(!1),!1!==(null==i?void 0:i.releaseScrollingAxisIfLiveReached)&&(null===(r=this.fs)||void 0===r?void 0:r.id)===Ph&&this.vo&&h&&(a=this.Je({forStart:s,forEnd:u,allowIntervalLengthChange:!1}))&&(this.Uo<this.Go&&this.Uo<=a.end||this.Uo>this.Go&&this.Go<=a.start)&&this.setStopped(!1)},n.prototype.zoom=function(t,i){var n,r=this.Yi.pi(this.Go),e=this.Yi.pi(this.Uo),o=this.Yi.pi(t),s=ro((o-r)/(e-r),0,1),u=.2*this.Yi.si(),a=s*u*-i,h=(1-s)*u*i,f=this.Yi.Bi(this.Go,a),c=this.Yi.Bi(this.Uo,h),l=this.Hs(),v=f,d=c;void 0!==(null==l?void 0:l.intervalMax)&&Math.abs(d-v)>l.intervalMax&&(v-=(n=l.intervalMax-Math.abs(d-v))*s,d+=n*(1-s)),void 0!==(null==l?void 0:l.intervalMin)&&Math.abs(d-v)<l.intervalMin&&(v-=(n=l.intervalMin-Math.abs(d-v))*s,d+=n*(1-s)),this.hs(v,d,{allowIntervalLengthChange:!0,skipIntervalRestriction:!1})},n.prototype.addCustomTick=function(t){return this.ky(!0,t)},n.prototype.getCustomTicks=function(){return Ll([],Dl(this.md),!1)},n.prototype.setTitlePosition=function(t){return this.Ay=t,this.chart.qi.vr(),this},n.prototype.getTitlePosition=function(){var t;return null!==(t=this.Ay)&&void 0!==t?t:"center-chart"},n.prototype.getUiPosition=function(){return this.Pd},n.prototype.setStrokeStyle=function(t){return this.Wd.Ye(t),this.Id.vr(),this},n.prototype.getStrokeStyle=function(){return this.Wd.Nu()},n.prototype.getOverlayStyle=function(){return this.Xd.Zo()},n.prototype.setOverlayStyle=function(t){return this.Xd.Be(t),this.Id.vr(),this},n.prototype.setAnimationHighlight=function(t){return this.chart.qi.ir.mr(this.Xd,t),this},n.prototype.getAnimationHighlight=function(){return this.chart.qi.ir.gr(this.Xd)},n.prototype.getMarginAfterTicks=function(){return this.Jd},n.prototype.setMarginAfterTicks=function(t){return this.Jd=t,this.As=void 0,this.Id.vr(),this},n.prototype.getMarginAfterTitle=function(){return this.Qd},n.prototype.setMarginAfterTitle=function(t){return this.Qd=t,this.As=void 0,this.Id.vr(),this},n.prototype.Dt=function(){return this.Yi.Dt(),this},n.prototype.Lt=function(){return this.Yi.Lt(),this},n.prototype.dispose=function(){var t,i,n;(null===(n=this.fs)||void 0===n?void 0:n.dispose)&&this.fs.dispose({axis:this}),this.Wd.dispose(),this.Xd.dispose(),this.Hd.dispose(),this._o.dispose(),this.cs(to);try{for(var r=Bl(this.Ad.values()),e=r.next();!e.done;e=r.next()){var o=e.value;o.grid.dispose(),o.tick.dispose()}}catch(i){t={error:i}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}return this.gd.slice().forEach(to),this.Sd.slice().forEach(to),this.Dd(this),this.Ct.Tt("dispose",{}),this},n.prototype.setVisible=function(t){var n,r;this.Wd.setVisible(t),this._o.setVisible(t),this.Xd.setVisible(t),this.cs((function(i){i.ar(t)}));try{for(var e=Bl(this.Ad.values()),o=e.next();!o.done;o=e.next()){var s=o.value;s.grid.setVisible(t),s.tick.setVisible(t)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return i.prototype.setVisible.call(this,t),this.As=void 0,this.chart.qi.vr(),this},n.prototype.setAnimationsEnabled=function(t){return i.prototype.setAnimationsEnabled.call(this,t),this.setAnimationHighlight(this.lo),this},n.prototype.setHighlightOnHover=function(i){return this.Wn=i?t.HighlightModes.onHover:t.HighlightModes.noHighlighting,!1===i&&this.getHighlight()>0&&this.setHighlight(!1),this},n.prototype.getHighlightOnHover=function(){return this.Wn!==t.HighlightModes.noHighlighting},n.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},n.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},n.prototype.setPointerEvents=function(t){return this.Ct.setPointerEvents(t),this},n.prototype.getPointerEvents=function(){return this.Ct.getPointerEvents()},Object.defineProperty(n.prototype,"draggable",{get:function(){return this.Ct.draggable},set:function(t){this.Ct.draggable=t},enumerable:!1,configurable:!0}),n.prototype.setUserInteractions=function(t){return this.Re=void 0===t?{pan:!1,zoom:!1,rectangleZoom:!1,restoreDefault:!1,chartInteractions:{pan:!1,paginate:!1,zoom:!1,rectangleZoom:!1,restoreDefault:!1,restorePrevious:!1}}:t,this},n.prototype.getUserInteractions=function(){return this.Re},n}(ef);t.AxisXYTitlePositionOptions=void 0,(hc=t.AxisXYTitlePositionOptions||(t.AxisXYTitlePositionOptions={})).Start="start",hc.Center="center",hc.End="end",hc.CenterChart="center-chart";var zl,Nl,Vl=function(t){return t.curEnd>t.curStart?{startMin:t.dataMin,endMax:t.dataMax}:{endMin:t.dataMin,startMax:t.dataMax}},Rl={getWidth:function(t){return t.x},getHeight:function(t){return t.y},toVec2:function(t,i){return{x:t,y:i}},toPoint:function(t,i){return o(t,i)}},Gl={getWidth:function(t){return t.y},getHeight:function(t){return t.x},toVec2:function(t,i){return{x:i,y:t}},toPoint:function(t,i){return o(i,t)}},Ul=function(t){return!!(t&&"object"==typeof t&&"x"in t&&t.x instanceof Pl&&"y"in t&&t.y instanceof Pl)},Yl=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wl=function(t){function i(i){return t.call(this,i)||this}return Yl(i,t),i.prototype.setGridStrokeLength=function(t){return this.set("gridStrokeLength",t)},i.prototype.getGridStrokeLength=function(){return this.get("gridStrokeLength")},i.prototype.setGridStrokeStyle=function(t){return this.set("gridStrokeStyle","function"==typeof t?t(this.get("gridStrokeStyle")):t)},i.prototype.getGridStrokeStyle=function(){return this.get("gridStrokeStyle")},i.prototype.setTickLength=function(t){return this.set("tickLength",t)},i.prototype.getTickLength=function(){return this.get("tickLength")},i.prototype.setTickStyle=function(t){return this.set("tickStyle","function"==typeof t?t(this.get("tickStyle")):t)},i.prototype.getTickStyle=function(){return this.get("tickStyle")},i.prototype.setTickPadding=function(t){return this.set("tickPadding",t)},i.prototype.getTickPadding=function(){return this.get("tickPadding")},i.prototype.setLabelFillStyle=function(t){return this.set("labelFillStyle","function"==typeof t?t(this.get("labelFillStyle")):t)},i.prototype.getLabelFillStyle=function(){return this.get("labelFillStyle")},i.prototype.setLabelShadow=function(t){return this.set("labelShadow",t)},i.prototype.getLabelShadow=function(){return this.get("labelShadow")},i.prototype.setLabelFont=function(t){return this.set("labelFont","function"==typeof t?t(this.get("labelFont")):t)},i.prototype.getLabelFont=function(){return this.get("labelFont")},i.prototype.setLabelAlignment=function(t,i){return this.withMutations((function(n){return n.set("labelAlignment",t).set("labelAlignmentOpposite",i)}))},i.prototype.getLabelAlignment=function(){return this.get("labelAlignment")},i.prototype.setLabelRotation=function(t){return this.set("labelRotation",t)},i.prototype.getLabelRotation=function(){return this.get("labelRotation")},i}(vr({type:"tick-style",gridStrokeLength:1,gridStrokeStyle:new Ta,tickLength:7,tickStyle:new Ta,tickPadding:0,labelFont:new Br,labelFillStyle:new _u,labelAlignment:0,labelAlignmentOpposite:void 0,labelRotation:0,labelShadow:void 0})),Xl=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"tick-style"!==t.type)},Hl=new Wl({labelFillStyle:Cu,gridStrokeStyle:Pe,tickStyle:Pe}),Zl=function(t){return Xl(t)&&Tu(t.labelFillStyle)&&ze(t.gridStrokeStyle)&&ze(t.tickStyle)},Jl=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ql=1e6,Kl=vr({type:"time-ticks",cursorFormatter:void 0,timeOrigin:void 0,majorTickStyle:new Wl,minorTickStyle:new Wl,majorFormattingFunction:void 0,minorFormattingFunction:void 0}),ql=36e5,$l=6e4,tv=1e3,iv=1e-6,nv=function(t,i){var n=i-t;return n>=864e5?"MajorHours12":n>=ql?"MajorHours":n>=6e5?"MajorMinutes15":n>=9e4?"MajorMinutes":n>=10500?"MajorSeconds15":n>=tv?"MajorSeconds":n>=100?"MajorMilliseconds100":n>=10?"MajorMilliseconds10":n>=1?"MajorMilliseconds":n>=.1?"MajorMicroseconds100":n>=.01?"MajorMicroseconds10":n>=.001?"MajorMicroseconds":n<=.001?"MajorNanoseconds100":"Unknown"},rv={hhmmss:function(t){var i=Math.abs(t),n=t>=0?"":"-",r=Math.floor(i/ql);i%=ql;var e=Math.floor(i/$l);i%=$l;var o=Math.floor(i/tv);return"".concat(n).concat(Wo(r,2),":").concat(Wo(e,2),":").concat(Wo(o,2))},hhmmssmmm:function(t){var i=Math.abs(t),n=t>=0?"":"-",r=Math.floor(i/ql);i%=ql;var e=Math.floor(i/$l);i%=$l;var o=Math.floor(i/tv);i%=tv;var s=Math.floor(i/1);return"".concat(n).concat(Wo(r,2),":").concat(Wo(e,2),":").concat(Wo(o,2),".").concat(Wo(s,3))},hhmmssmmmuuu:function(t){var i=Math.abs(t),n=t>=0?"":"-",r=Math.floor(i/ql),e=Math.floor(i/$l)%60,o=Math.floor(i/tv)%60,s=Math.floor(i/1)%1e3,u=t.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}).split(".")[1];return"".concat(n).concat(Wo(r,2),":").concat(Wo(e,2),":").concat(Wo(o,2),".").concat(Wo(s,3)).concat(u)},hhmmssmmmuuunnn:function(t){var i=Math.abs(t),n=t>=0?"":"-",r=Math.floor(i/ql),e=Math.floor(i/$l)%60,o=Math.floor(i/tv)%60,s=Math.floor(i/1)%1e3,u=t.toLocaleString("en-US",{minimumFractionDigits:6,maximumFractionDigits:6}).split(".")[1];return"".concat(n).concat(Wo(r,2),":").concat(Wo(e,2),":").concat(Wo(o,2),".").concat(Wo(s,3)).concat(u)}},ev={MajorHours12:{major:{format:rv.hhmmss,getKeyValues:function(t,i,n,r){var e=432e5;return t=Math.floor(t/(4*e))*e*4,Yh(t,i,e,void 0,Ql)},fitKeyValues:Xh({ignore:"first"},2,4)},minor:{format:rv.hhmmss,getKeyValues:function(t,i,n,r){return Uh(t,i,36e5,Ql)},fitKeyValues:Xh({},2,3,4,6)},defaultValueFormatter:rv.hhmmss},MajorHours:{major:{format:rv.hhmmss,getKeyValues:function(t,i,n,r){var e=ql;return t=Math.floor(t/(12*e))*e*12,Yh(t,i,e,void 0,Ql)},fitKeyValues:Xh({ignore:"first"},2,6,12)},minor:{format:rv.hhmmss,getKeyValues:function(t,i,n,r){return Uh(t,i,3e5,Ql)},fitKeyValues:Xh({},2,4,6)},defaultValueFormatter:rv.hhmmss},MajorMinutes15:{major:{format:rv.hhmmss,getKeyValues:function(t,i,n,r){return t=Math.floor(t/ql)*ql,Yh(t,i,9e5,void 0,Ql)},fitKeyValues:Xh({ignore:"first"},2)},minor:{format:rv.hhmmss,getKeyValues:function(t,i,n,r){return Uh(t,i,6e4,Ql)},fitKeyValues:Xh({},3,5)},defaultValueFormatter:rv.hhmmss},MajorMinutes:{major:{format:rv.hhmmss,getKeyValues:function(t,i,n,r){var e=$l;return t=Math.floor(t/6e5)*e*10,Yh(t,i,e,void 0,Ql)},fitKeyValues:Xh({ignore:"first"},2,5)},minor:{format:rv.hhmmss,getKeyValues:function(t,i,n,r){return Uh(t,i,5e3,Ql)},fitKeyValues:Xh({},2,3,4,6)},defaultValueFormatter:rv.hhmmss},MajorSeconds15:{major:{format:rv.hhmmss,getKeyValues:function(t,i,n,r){var e=15e3;return t=Math.floor(t/6e4)*e*4,Yh(t,i,e,void 0,Ql)},fitKeyValues:Xh({ignore:"first"},2,4)},minor:{format:rv.hhmmss,getKeyValues:function(t,i,n,r){return Uh(t,i,1e3,Ql)},fitKeyValues:Xh({},3,5)},defaultValueFormatter:rv.hhmmss},MajorSeconds:{major:{format:rv.hhmmss,getKeyValues:function(t,i,n,r){var e=tv;return t=Math.floor(t/1e4)*e*10,Yh(t,i,e,void 0,Ql)},fitKeyValues:Xh({ignore:"first"},2,5)},minor:{format:rv.hhmmssmmm,getKeyValues:function(t,i,n,r){return Uh(t,i,100,Ql)},fitKeyValues:Xh({},2,3,5)},defaultValueFormatter:rv.hhmmssmmm},MajorMilliseconds100:{major:{format:rv.hhmmssmmm,getKeyValues:function(t,i,n,r){return t=100*Math.floor(t/1e3)*10,Yh(t,i,100,void 0,Ql)},fitKeyValues:Xh({ignore:"first"},2,5)},minor:{format:rv.hhmmssmmm,getKeyValues:function(t,i,n,r){return Uh(t,i,10,Ql)},fitKeyValues:Xh({},2,3,5)},defaultValueFormatter:rv.hhmmssmmm},MajorMilliseconds10:{major:{format:rv.hhmmssmmm,getKeyValues:function(t,i,n,r){return t=10*Math.floor(t/100)*10,Yh(t,i,10,void 0,Ql)},fitKeyValues:Xh({ignore:"first"},2,5)},minor:{format:rv.hhmmssmmm,getKeyValues:function(t,i,n,r){return Uh(t,i,1,Ql)},fitKeyValues:Xh({},2,3,5)},defaultValueFormatter:rv.hhmmssmmm},MajorMilliseconds:{major:{format:rv.hhmmssmmmuuu,getKeyValues:function(t,i,n,r){return t=1*Math.floor(t/10)*10,Yh(t,i,1,void 0,Ql)},fitKeyValues:Xh({ignore:"first"},2,5)},minor:{format:rv.hhmmssmmmuuu,getKeyValues:function(t,i,n,r){return Uh(t,i,.1,Ql)},fitKeyValues:Xh({},2)},defaultValueFormatter:rv.hhmmssmmmuuu},MajorMicroseconds100:{major:{format:rv.hhmmssmmmuuu,getKeyValues:function(t,i,n,r){return t=.1*Math.floor(t/1)*10,Yh(t,i,.1,void 0,Ql)},fitKeyValues:Xh({ignore:"first"},2,5)},minor:{format:rv.hhmmssmmmuuu,getKeyValues:function(t,i,n,r){return Uh(t,i,.01,Ql)},fitKeyValues:Xh({},2,3,5)},defaultValueFormatter:rv.hhmmssmmmuuu},MajorMicroseconds10:{major:{format:rv.hhmmssmmmuuu,getKeyValues:function(t,i,n,r){var e=.01;return t=Math.floor(t/.1)*e*10,Yh(t,i,e,void 0,Ql)},fitKeyValues:Xh({ignore:"first"},2,5)},minor:{format:rv.hhmmssmmmuuu,getKeyValues:function(t,i,n,r){return Uh(t,i,.001,Ql)},fitKeyValues:Xh({},2,3,5)},defaultValueFormatter:rv.hhmmssmmmuuu},MajorMicroseconds:{major:{format:rv.hhmmssmmmuuunnn,getKeyValues:function(t,i,n,r){var e=.001;return t=Math.floor(t/.01)*e*10,Yh(t,i,e,void 0,Ql)},fitKeyValues:Xh({ignore:"first"},2,5)},minor:{format:rv.hhmmssmmmuuunnn,getKeyValues:function(t,i,n,r){return Uh(t,i,100*iv,Ql)},fitKeyValues:Xh({},2,3,5)},defaultValueFormatter:rv.hhmmssmmmuuunnn},MajorNanoseconds100:{major:{format:rv.hhmmssmmmuuunnn,getKeyValues:function(t,i,n,r){var e=100*iv;return t=Math.floor(t/.001)*e*10,Yh(t,i,e,void 0,Ql)},fitKeyValues:Xh({ignore:"first"},2,5)},minor:{format:rv.hhmmssmmmuuunnn,getKeyValues:function(t,i,n,r){return Uh(t,i,10*iv,Ql)},fitKeyValues:Xh({},2,3,5)},defaultValueFormatter:rv.hhmmssmmmuuunnn},Unknown:{major:{format:function(t,i,n){return""},getKeyValues:function(t,i,n,r){return[]},fitKeyValues:void 0},minor:{format:function(t,i,n){return""},getKeyValues:function(t,i,n,r){return[]},fitKeyValues:void 0},defaultValueFormatter:function(t,i,n){return""}}},ov=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Jl(i,t),i.prototype.qe=function(t){var i=this.timeOrigin||0,n=[{ls:"Major ticks",vy:0,so:this.majorTickStyle,Ke:this.majorFormattingFunction?this.majorFormattingFunction:function(t,n,r){var e=nv(Math.min(n.start,n.end),Math.max(n.start,n.end));return(0,ev[e].major.format)(t+i,n,r)},ru:function(t,i,n,r,e){var o=nv(n,r);return(0,ev[o].major.getKeyValues)(t,i,n,r,e)},Bo:{Ds:function(t,i,n,r,e,o){var s=nv(e,o),u=ev[s].major.fitKeyValues;if(u)return u(t,i,n,r,e,o)},Es:"hide-label"},eu:void 0}];return Xl(this.minorTickStyle)&&n.push({ls:"Minor ticks",vy:1,so:this.minorTickStyle,Ke:this.minorFormattingFunction?this.minorFormattingFunction:function(t,n,r){var e=nv(Math.min(n.start,n.end),Math.max(n.start,n.end));return(0,ev[e].minor.format)(t+i,n,r)},ru:function(t,i,n,r,e){var o=nv(n,r);return(0,ev[o].minor.getKeyValues)(t,i,n,r,e)},Bo:{Ds:function(t,i,n,r,e,o){var s=nv(e,o),u=ev[s].minor.fitKeyValues;if(u)return u(t,i,n,r,e,o)},Es:"hide-tick"},eu:void 0}),{$e:[],io:n,no:this.cursorFormatter||function(t,n,r){var e=nv(Math.min(n.start,n.end),Math.max(n.start,n.end));return ev[e].defaultValueFormatter(t+i,n,r)},ro:1e-4,eo:864e6}},i.prototype.setTickStyle=function(t){return this.setMajorTickStyle(t).setMinorTickStyle(t)},i.prototype.setMajorTickStyle=function(t){return"function"==typeof t?this.set("majorTickStyle",t(this.get("majorTickStyle"))):this.set("majorTickStyle",t)},i.prototype.getMajorTickStyle=function(){return this.get("majorTickStyle")},i.prototype.setMinorTickStyle=function(t){if("function"==typeof t){var i=this.get("minorTickStyle");return this.set("minorTickStyle",t(i))}return this.set("minorTickStyle",t)},i.prototype.getMinorTickStyle=function(){return this.get("minorTickStyle")},i.prototype.setCursorFormatter=function(t){return this.set("cursorFormatter",t)},i.prototype.getCursorFormatter=function(){return this.get("cursorFormatter")},i.prototype.setTimeOrigin=function(t){return this.set("timeOrigin",t)},i.prototype.getTimeOrigin=function(){return this.get("timeOrigin")},i.prototype.setFormattingFunction=function(t){return this.withMutations((function(i){return i.set("majorFormattingFunction",t).set("minorFormattingFunction",t).set("cursorFormatter",t)}))},i.prototype.getMajorFormattingFunction=function(){return this.get("majorFormattingFunction")},i.prototype.setMajorFormattingFunction=function(t){return this.set("majorFormattingFunction",t)},i.prototype.getMinorFormattingFunction=function(){return this.get("minorFormattingFunction")},i.prototype.setMinorFormattingFunction=function(t){return this.set("minorFormattingFunction",t)},i}(Kl),sv=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uv=function(t,i,n,r,e){return function(o,s){return function(u){var a=new Date(u+o),h={year:s?a.getUTCFullYear():a.getFullYear(),monthIndex:s?a.getUTCMonth():a.getMonth(),day:s?a.getUTCDate():a.getDate(),hours:s?a.getUTCHours():a.getHours(),minutes:s?a.getUTCMinutes():a.getMinutes(),seconds:s?a.getUTCSeconds():a.getSeconds(),millis:s?a.getUTCMilliseconds():a.getMilliseconds()},f=r?r(h):void 0;if(0===t&&!0===f)return u;var c=h[i];e.includes("year")&&(h.year=Math.floor(h.year/n)*n),e.includes("monthIndex")&&(h.monthIndex=0),e.includes("day")&&(h.day=1),e.includes("hours")&&(h.hours=0),e.includes("minutes")&&(h.minutes=0),e.includes("seconds")&&(h.seconds=0),e.includes("millis")&&(h.millis=0);var l=(0===t?1:t)*n;return-1===t&&!1===f&&(l=0),0!==l&&(h[i]=n*(l>0?Math.floor((c+l)/n):Math.ceil((c+l)/n))),s?Date.UTC(h.year,h.monthIndex,h.day,h.hours,h.minutes,h.seconds,h.millis)-o:new Date(h.year,h.monthIndex,h.day,h.hours,h.minutes,h.seconds,h.millis).getTime()-o}}},av=function(t,i,n){for(var r=[],e=3;e<arguments.length;e++)r[e-3]=arguments[e];return uv(-1,t,i,n,r)},hv=function(t,i,n){for(var r=[],e=3;e<arguments.length;e++)r[e-3]=arguments[e];return uv(-1,t,i,n,r)},fv=function(t,i,n){for(var r=[],e=3;e<arguments.length;e++)r[e-3]=arguments[e];return uv(0,t,i,n,r)},cv=function(t,i){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return uv(1,t,i,void 0,n)},lv=function(t){return function(i,n){return function(r){var e=new Date(r+i),o=n?e.getUTCDay():e.getDay(),s=1===o&&0===(n?e.getUTCHours():e.getHours())&&0===(n?e.getUTCMinutes():e.getMinutes())&&0===e.getSeconds()&&0===e.getMilliseconds();if(0===t&&!0===s)return r;var u=n?e.getUTCDate():e.getDate();return-1===t&&1===o&&!1===s||(-1===t?u-=o>=2?o-1:o+6:u+=o>0?8-o:1),n?Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),u,0,0,0,0)-i:new Date(e.getFullYear(),e.getMonth(),u,0,0,0,0).getTime()-i}}},vv=[{label:"NanoSecond10",unit:1e-5,irregular:!1,greatTicks:void 0,majorTicks:{fitFunction:Xh({offset:0},2,5)},minorTicks:{amount:4,fitFunction:Xh(void 0,2)}},{label:"NanoSecond100",unit:1e-4,irregular:!1,greatTicks:{getReferenceKeyValue:function(t,i){return function(t){return 1e-4*Math.floor(t/1e-4)}}},majorTicks:{fitFunction:Xh({offset:0},2,5)},minorTicks:{amount:4,fitFunction:Xh(void 0,2)}},{label:"MicroSecond1",unit:.001,irregular:!1,greatTicks:{getReferenceKeyValue:function(t,i){return function(t){return.001*Math.floor(t/.001)}}},majorTicks:{fitFunction:Xh({offset:0},2,5)},minorTicks:{amount:4,fitFunction:Xh(void 0,2)}},{label:"MicroSecond10",unit:.01,irregular:!1,greatTicks:{getReferenceKeyValue:function(t,i){return function(t){return.01*Math.floor(t/.01)}}},majorTicks:{fitFunction:Xh({offset:0},2,5)},minorTicks:{amount:4,fitFunction:Xh(void 0,2)}},{label:"MicroSecond100",unit:.1,irregular:!1,greatTicks:{getReferenceKeyValue:function(t,i){return function(t){return.1*Math.floor(t/.1)}}},majorTicks:{fitFunction:Xh({offset:0},2,5)},minorTicks:{amount:4,fitFunction:Xh(void 0,2)}},{label:"MilliSecond1",unit:1,irregular:!1,greatTicks:{getReferenceKeyValue:av("millis",1,(function(t){return t.millis%1==0}),"millis")},majorTicks:{fitFunction:Xh({offset:0},2,5)},minorTicks:{amount:4,fitFunction:Xh(void 0,2)}},{label:"MilliSecond10",unit:10,irregular:!1,greatTicks:{getReferenceKeyValue:av("millis",10,(function(t){return t.millis%10==0}),"millis")},majorTicks:{fitFunction:Xh({offset:0},2,5)},minorTicks:{amount:4,fitFunction:Xh(void 0,2)}},{label:"MilliSecond100",unit:100,irregular:!1,greatTicks:{getReferenceKeyValue:av("millis",100,(function(t){return t.millis%100==0}),"millis")},majorTicks:{fitFunction:Xh({offset:0},2,5)},minorTicks:{amount:4,fitFunction:Xh(void 0,2)}},{label:"Second",unit:1e3,irregular:!1,greatTicks:{getReferenceKeyValue:av("seconds",1,(function(t){return 0===t.millis}),"millis")},majorTicks:{fitFunction:Hh(3,5,10,15,30)},minorTicks:{amount:4,fitFunction:Xh(void 0,2)}},{label:"Minute",unit:6e4,irregular:!1,greatTicks:{getReferenceKeyValue:av("minutes",1,(function(t){return 0===t.seconds&&0===t.millis}),"seconds","millis")},majorTicks:{fitFunction:Hh(3,5,10,15,30)},minorTicks:{amount:12,fitFunction:Xh(void 0,3,6)}},{label:"Hour",unit:36e5,irregular:!1,greatTicks:{getReferenceKeyValue:av("hours",1,(function(t){return 0===t.minutes&&0===t.seconds&&0===t.millis}),"minutes","seconds","millis")},majorTicks:{fitFunction:Hh(3,6,12)},minorTicks:{amount:8,fitFunction:Xh(void 0,2,4)}},{label:"Day",unit:864e5,irregular:!1,greatTicks:{getReferenceKeyValue:av("day",1,(function(t){return 0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"hours","minutes","seconds","millis")},majorTicks:{fitFunction:Xh({ignore:"last"},2,4)},minorTicks:{amount:7,fitFunction:Xh({ignore:"last"},2,3)}},{label:"Week",unit:6048e5,irregular:!0,getPrevKeyValue:lv(-1),getNextKeyValueIncludingRef:lv(0),getNextKeyValue:lv(1),greatTicks:!0,majorTicks:{fitFunction:Xh(void 0,2)},minorTicks:{fitFunction:void 0}},{label:"Month",unit:2592e6,irregular:!0,getPrevKeyValue:hv("monthIndex",1,(function(t){return 1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:fv("monthIndex",1,(function(t){return 1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"day","hours","minutes","seconds","millis"),getNextKeyValue:cv("monthIndex",1,"day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:Xh(void 0,2,3,6)},minorTicks:{fitFunction:Xh(void 0,2,4,6)}},{label:"Year",unit:31536e6,irregular:!0,getPrevKeyValue:hv("year",1,(function(t){return 1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:fv("year",1,(function(t){return 1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:cv("year",1,"monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:Xh({ignore:"first"},2,5)},minorTicks:{fitFunction:Xh(void 0,2,5)}},{label:"Decade",unit:31536e7,irregular:!0,getPrevKeyValue:hv("year",10,(function(t){return t.year%10==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:fv("year",10,(function(t){return t.year%10==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:cv("year",10,"year","monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:Xh(void 0,2,4)},minorTicks:{fitFunction:Xh(void 0,2,5)}},{label:"Century",unit:316224e7,irregular:!0,getPrevKeyValue:hv("year",100,(function(t){return t.year%100==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:fv("year",100,(function(t){return t.year%100==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:cv("year",100,"year","monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:void 0},minorTicks:void 0},{label:"Millennium",unit:316224e8,irregular:!0,getPrevKeyValue:hv("year",1e3,(function(t){return t.year%1e3==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:fv("year",1e3,(function(t){return t.year%1e3==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:cv("year",1e3,"year","monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:void 0},minorTicks:void 0}],dv=function(t,i,n,r,e){for(var o,s=i-t,u=e?0:vv.length-1;e?u<vv.length:u>=0;e?u+=1:u-=1){var a=s/vv[u].unit;if((void 0===n||a>=n)&&(void 0===r||a<=r)){o=vv[u];break}}return o},yv=function(t,i,n){var r=dv(i,n,void 0,2,!0);if(void 0!==r&&0===vv.indexOf(r)&&(r=vv[1]),void 0!==r){if("great"===t)return r;var e="major"===t?1:2,o=vv[vv.indexOf(r)-e];return void 0===o?vv[0]:o}},Av=function(t,i,n){return function(r,e,o,s){var u=yv("great",r,e);if(void 0===u)return[];if("Decade"===u.label||"Century"===u.label||"Millennium"===u.label)return[];var a,h=s>o?r:e,f=(r+e)/2,c=s>o?e:r;if(vv.indexOf(u)<=vv.findIndex((function(t){return"Hour"===t.label})))return"left"===n?[h]:[];if(!0===u.irregular)a=Wh(r,e,u.getPrevKeyValue(t,i),u.getNextKeyValue(t,i));else{var l=u.greatTicks.getReferenceKeyValue(t,i)(r);a=Yh(r,e,u.unit,l,void 0)}var v=function(t,i,n){var r,e;try{for(var o=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),s=o.next();!s.done;s=o.next()){var u=s.value;if(u>=t&&u<=i)return u}}catch(t){r={error:t}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}}(r,e,a);return"left"===n?void 0===v||ks(v,f,c)?[h]:[v]:void 0!==v&&ks(v,f,c)?[v]:[c]}},bv=function(t,i,n){return function(r,e,o,s){var u,a=yv(t,o,s);if(void 0===a)return[];if("great"===t&&void 0!==a.greatTicks)if(!0===a.irregular)u=Wh(r,e,a.getPrevKeyValue(i,n),a.getNextKeyValue(i,n));else{var h=a.greatTicks.getReferenceKeyValue(i,n)(r);u=Yh(r,e,a.unit,h,void 0)}else if("major"===t&&void 0!==a.majorTicks)u=!0===a.irregular?function(t,i,n,r){for(var e=[],o=n(t),s=0;o<i;)if(e.push(o),o=r(o),(s+=1)>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return e.push(o),e}(r,e,a.getPrevKeyValue(i,n),a.getNextKeyValue(i,n)):function(t,i,n){for(var r=[],e=t,o=0;(e-t)/(i-t)<.98;)if(r.push(e),e=t+(o+=1)*n,o>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return r.push(e),r}(r,e,a.unit);else{if("minor"!==t||void 0===a.minorTicks)return[];if(!0===a.irregular)u=function(t,i,n,r){for(var e=[],o=r(t),s=0;o<i;)if(e.push(o),o=r(o),(s+=1)>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return e}(r,e,a.getNextKeyValueIncludingRef(i,n),a.getNextKeyValue(i,n));else{var f=function(t){if(void 0!==t)return vv[vv.indexOf(t)+1]}(a);if(void 0===f)return[];u=Uh(r,e,f.unit/a.minorTicks.amount,void 0)}}return u}},pv=function(t){return function(i,n,r,e,o,s){var u,a=yv(t,o,s);if(void 0!==a)return"major"===t?u=a.majorTicks.fitFunction:a.minorTicks&&(u=a.minorTicks.fitFunction),u?u(i,n,r,e,o,s):void 0}},mv=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return sv(i,t),i.prototype.qe=function(t){var i=this,n=void 0!==this.dateOrigin?this.dateOrigin.getTime():0,r=function(t){return vv.map((function(n){var r=function(t,i,n){switch(n.label){case"NanoSecond10":case"NanoSecond100":return t.formatNanosecondRange;case"MicroSecond1":case"MicroSecond10":case"MicroSecond100":return t.formatMicrosecondRange;case"MilliSecond1":case"MilliSecond10":case"MilliSecond100":return"Great"===i?t.formatOptionsGreatMinute:t.formatMillisecondRange;case"Second":return"Great"===i?t.formatOptionsGreatMinute:"Major"===i?t.formatOptionsMajorSecond:t.formatOptionsMinorSecond;case"Minute":return"Great"===i?t.formatOptionsGreatMinute:"Major"===i?t.formatOptionsMajorMinute:t.formatOptionsMinorMinute;default:case"Hour":return"Great"===i?t.formatOptionsGreatHour:"Major"===i?t.formatOptionsMajorHour:t.formatOptionsMinorHour;case"Day":return"Great"===i?t.formatOptionsGreatDay:"Major"===i?t.formatOptionsMajorDay:t.formatOptionsMinorDay;case"Week":return"Great"===i?t.formatOptionsGreatWeek:"Major"===i?t.formatOptionsMajorWeek:t.formatOptionsMinorWeek;case"Month":return"Great"===i?t.formatOptionsGreatMonth:"Major"===i?t.formatOptionsMajorMonth:t.formatOptionsMinorMonth;case"Year":return"Great"===i?t.formatOptionsGreatYear:"Major"===i?t.formatOptionsMajorYear:t.formatOptionsMinorYear;case"Decade":return"Great"===i?void 0:"Major"===i?t.formatOptionsMajorDecade:t.formatOptionsMinorDecade;case"Century":return"Great"===i?void 0:"Major"===i?t.formatOptionsMajorCentury:void 0;case"Millennium":return}}(i,t,n);if("object"!=typeof r)return r;try{return new Intl.DateTimeFormat(i.locale,r)}catch(t){var e="";for(var o in r)e+=" ".concat(o,": ").concat(r[o],",");Qe.console.error("Invalid Intl.DateTimeFormat ( locale: ".concat(i.locale,", formatOptions {").concat(e,"} )"))}}))},e=new Map;e.set("great",r("Great")),e.set("major",r("Major")),e.set("minor",r("Minor"));var o=function(t){return String(t)},s=function(t,r){return function(s,u){var a=s,h=s+n,f=u.start,c=u.end,l=f>c,v=yv(t,l?c:f,l?f:c);if(void 0===v)return o(h);if("great"===t){var d,y=no(s,"left"===r?f:c);if(a=d=!1===y?s:!1===v.irregular?"left"===r&&!1===l||"right"===r&&!0===l?v.greatTicks.getReferenceKeyValue(n,i.utc)(s):v.greatTicks.getReferenceKeyValue(n,i.utc)(s+1*v.unit):"left"===r&&!1===l||"right"===r&&!0===l?v.getPrevKeyValue(n,i.utc)(s):v.getNextKeyValue(n,i.utc)(s),h=d+n,"right"===r&&!0===y)return"";if("right"===r&&"Week"===v.label)return""}var A=e.get(t);if(void 0===A)return o(h,i.locale);var b=A[vv.indexOf(v)];return void 0===b?"":"function"==typeof b?b(h,u,i.locale,{valueShifted:a,shiftOrigin:i.dateOrigin?i.dateOrigin.getTime():0}):b.format(h)}},u=[],a=[{ls:"Great ticks (directive)",vy:0,Bs:!0,ru:bv("great",n,this.utc),eu:void 0},{ls:"Major ticks",vy:1,so:this.majorTickStyle,Ke:s("major"),ru:bv("major",n,this.utc),Bo:{Ds:pv("major"),Es:"hide-tick"},eu:void 0}];Zl(this.greatTickStyle)||u.push({ls:"Great ticks (left)",so:this.greatTickStyle.setLabelAlignment(-1),Ke:s("great","left"),ru:Av(n,this.utc,"left"),Qe:!0,zs:!1}),Zl(this.minorTickStyle)||a.push({ls:"Minor ticks",vy:2,so:this.minorTickStyle,Ke:s("minor"),ru:bv("minor",n,this.utc),Bo:{Ds:pv("minor"),Do:function(t,i,n,r,e,o){var s=yv("minor",e,o);return!s||"Week"!==s.label},Es:"hide-tick"},eu:void 0,Ls:2});var h=this.cursorFormatter;return{$e:u,io:a,no:h?function(t,i,r){return h(n+t,i,r)}:function(t,r,e){var o=dv(Math.min(r.start,r.end),Math.max(r.start,r.end),void 0,1,!0),s=o&&o.unit<=.1,u=o&&o.unit<=100,a=o&&o.unit<=6e4,h=new Date(n+t),f=new Date(n+t);f.setHours(0,0,0,0);var c=s?i.formatNanosecondRange:u?i.formatMicrosecondRange:a?i.formatMillisecondRange:rv.hhmmss;return"".concat(new Intl.DateTimeFormat(e,{year:"numeric",month:"numeric",day:"numeric"}).format(h)," ").concat(c(h.getTime()-f.getTime(),r,i.locale,{valueShifted:t,shiftOrigin:n}))},ro:Math.pow(10,-5),eo:31536e9}},i.prototype.setCursorFormatter=function(t){return this.set("cursorFormatter",t)},i.prototype.getCursorFormatter=function(){return this.get("cursorFormatter")},i.prototype.setTickStyle=function(t){return this.setGreatTickStyle(t).setMajorTickStyle(t).setMinorTickStyle(t)},i.prototype.setGreatTickStyle=function(t){if("function"==typeof t){var i=this.get("greatTickStyle");return this.set("greatTickStyle",t(i))}return this.set("greatTickStyle",t)},i.prototype.getGreatTickStyle=function(){return this.get("greatTickStyle")},i.prototype.setMajorTickStyle=function(t){return"function"==typeof t?this.set("majorTickStyle",t(this.get("majorTickStyle"))):this.set("majorTickStyle",t)},i.prototype.getMajorTickStyle=function(){return this.get("majorTickStyle")},i.prototype.setMinorTickStyle=function(t){if("function"==typeof t){var i=this.get("minorTickStyle");return this.set("minorTickStyle",t(i))}return this.set("minorTickStyle",t)},i.prototype.getMinorTickStyle=function(){return this.get("minorTickStyle")},i.prototype.setUTC=function(t){return this.set("utc",t)},i.prototype.getUTC=function(){return this.get("utc")},i.prototype.setLocale=function(t){return this.set("locale",t)},i.prototype.getLocale=function(){return this.get("locale")},i.prototype.setDateOrigin=function(t){return this.set("dateOrigin",t)},i.prototype.getDateOrigin=function(){return this.get("dateOrigin")},i.prototype.setFormatting=function(t,i,n){var r=this;return this.withMutations((function(e){return e.set("formatOptionsGreatYear",t||r.formatOptionsGreatYear).set("formatOptionsGreatMonth",t||r.formatOptionsGreatMonth).set("formatOptionsGreatWeek",t||r.formatOptionsGreatWeek).set("formatOptionsGreatDay",t||r.formatOptionsGreatDay).set("formatOptionsGreatHour",t||r.formatOptionsGreatHour).set("formatOptionsGreatMinute",t||r.formatOptionsGreatMinute).set("formatOptionsMajorCentury",i||r.formatOptionsMajorCentury).set("formatOptionsMajorDecade",i||r.formatOptionsMajorDecade).set("formatOptionsMajorYear",i||r.formatOptionsMajorYear).set("formatOptionsMajorMonth",i||r.formatOptionsMajorMonth).set("formatOptionsMajorWeek",i||r.formatOptionsMajorWeek).set("formatOptionsMajorDay",i||r.formatOptionsMajorDay).set("formatOptionsMajorHour",i||r.formatOptionsMajorHour).set("formatOptionsMajorMinute",i||r.formatOptionsMajorMinute).set("formatOptionsMajorSecond",i||r.formatOptionsMajorSecond).set("formatOptionsMinorDecade",n||r.formatOptionsMinorDecade).set("formatOptionsMinorYear",n||r.formatOptionsMinorYear).set("formatOptionsMinorMonth",n||r.formatOptionsMinorMonth).set("formatOptionsMinorWeek",n||r.formatOptionsMinorWeek).set("formatOptionsMinorDay",n||r.formatOptionsMinorDay).set("formatOptionsMinorHour",n||r.formatOptionsMinorHour).set("formatOptionsMinorMinute",n||r.formatOptionsMinorMinute).set("formatOptionsMinorSecond",n||r.formatOptionsMinorSecond)}))},i.prototype.setFormattingDecade=function(t,i){return this.withMutations((function(n){return t&&(n=n.set("formatOptionsMajorDecade",t)),i&&(n=n.set("formatOptionsMinorYear",i)),n}))},i.prototype.setFormattingYear=function(t,i){return this.withMutations((function(n){return t&&(n=n.set("formatOptionsMajorYear",t)),i&&(n=n.set("formatOptionsMinorMonth",i)),n}))},i.prototype.setFormattingMonth=function(t,i,n){return this.withMutations((function(r){return t&&(r=r.set("formatOptionsGreatYear",t)),i&&(r=r.set("formatOptionsMajorMonth",i)),n&&(r=r.set("formatOptionsMinorWeek",n)),r}))},i.prototype.setFormattingWeek=function(t,i,n){return this.withMutations((function(r){return t&&(r=r.set("formatOptionsGreatMonth",t)),i&&(r=r.set("formatOptionsMajorWeek",i)),n&&(r=r.set("formatOptionsMinorDay",n)),r}))},i.prototype.setFormattingDay=function(t,i,n){return this.withMutations((function(r){return t&&(r=r.set("formatOptionsGreatWeek",t)),i&&(r=r.set("formatOptionsMajorDay",i)),n&&(r=r.set("formatOptionsMinorHour",n)),r}))},i.prototype.setFormattingHour=function(t,i,n){return this.withMutations((function(r){return t&&(r=r.set("formatOptionsGreatDay",t)),i&&(r=r.set("formatOptionsMajorHour",i)),n&&(r=r.set("formatOptionsMinorMinute",n)),r}))},i.prototype.setFormattingMinute=function(t,i,n){return this.withMutations((function(r){return t&&(r=r.set("formatOptionsGreatHour",t)),i&&(r=r.set("formatOptionsMajorMinute",i)),n&&(r=r.set("formatOptionsMinorSecond",n)),r}))},i.prototype.setFormattingSecond=function(t,i,n){return this.withMutations((function(r){return t&&(r=r.set("formatOptionsGreatMinute",t)),i&&(r=r.set("formatOptionsMajorSecond",i)),n&&(r=r.set("formatOptionsMinorMillisecond",n)),r}))},i.prototype.setFormattingMilliSecond=function(t,i){return this.withMutations((function(n){return t&&(n=n.set("formatOptionsGreatSecond",t)),i&&(n=n.set("formatOptionsMajorMilliSecond",i)),n}))},i}(vr({utc:!1,locale:void 0,dateOrigin:void 0,cursorFormatter:void 0,greatTickStyle:new Wl,majorTickStyle:new Wl,minorTickStyle:new Wl,formatOptionsMajorCentury:{year:"numeric",hour12:!1},formatOptionsMinorDecade:{year:"numeric",hour12:!1},formatOptionsMajorDecade:{year:"numeric",hour12:!1},formatOptionsMinorYear:{year:"numeric",hour12:!1},formatOptionsMajorYear:{year:"numeric",hour12:!1},formatOptionsMinorMonth:{month:"short",hour12:!1},formatOptionsGreatYear:{year:"numeric",hour12:!1},formatOptionsMajorMonth:{month:"long",hour12:!1},formatOptionsMinorWeek:{day:"numeric",hour12:!1},formatOptionsGreatMonth:{year:"numeric",month:"long",hour12:!1},formatOptionsMajorWeek:{day:"numeric",weekday:"short",hour12:!1},formatOptionsMinorDay:{day:"numeric",weekday:"short",hour12:!1},formatOptionsGreatWeek:function(t,i,n){var r=new Date(t),e=function(t){var i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));i.setUTCDate(i.getUTCDate()+4-(i.getUTCDay()||7));var n=new Date(Date.UTC(i.getUTCFullYear(),0,1));return Math.ceil(((i.getTime()-n.getTime())/864e5+1)/7)}(r);return"".concat(new Intl.DateTimeFormat(n,{year:"numeric",month:"long",hour12:!1}).format(r)," Week ").concat(e)},formatOptionsMajorDay:{weekday:"long",day:"numeric",hour12:!1},formatOptionsMinorHour:{hour:"2-digit",minute:"2-digit",hour12:!1},formatOptionsGreatDay:{year:"numeric",month:"long",day:"numeric",hour12:!1},formatOptionsMajorHour:{hour:"2-digit",minute:"2-digit",hour12:!1},formatOptionsMinorMinute:{hour:"2-digit",minute:"2-digit",hour12:!1},formatOptionsGreatHour:{year:"numeric",month:"long",day:"numeric",hour12:!1},formatOptionsMajorMinute:{hour:"2-digit",minute:"2-digit",hour12:!1},formatOptionsMinorSecond:{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},formatOptionsGreatMinute:{year:"numeric",month:"long",day:"numeric",hour12:!1},formatOptionsMajorSecond:{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},formatOptionsMinorMillisecond:function(t){var i=new Date(t);return i.setHours(0,0,0,0),rv.hhmmssmmm(t-i.getTime())},formatMillisecondRange:function(t){var i=new Date(t);return i.setHours(0,0,0,0),rv.hhmmssmmm(t-i.getTime())},formatMicrosecondRange:function(t){var i=new Date(t);return i.setHours(0,0,0,0),rv.hhmmssmmmuuu(t-i.getTime())},formatNanosecondRange:function(t,i,n,r){var e;return r?((e=new Date(r.valueShifted)).setHours(0,0,0,0),rv.hhmmssmmmuuunnn(r.valueShifted-e.getTime())):((e=new Date(t)).setHours(0,0,0,0),rv.hhmmssmmmuuunnn(t-e.getTime()))},formatOptionsGreatSecond:{},formatOptionsMajorMilliSecond:{}})),gv=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xv=function(t,i){return function(n,r,e,o,s){var u=r-n;if(i){var a=5;s<=125?a=2:s<=250?a=3:s<=500&&(a=4);var h,f=Math.log10(u/a),c=Math.floor(2*f)/2,l=1/(h=c%1==0?Math.pow(10,c-t):Math.pow(10,Math.ceil(c))/2);h=Math.round(h*l)/l;var v=Math.round(Math.floor(n/(10*h))*h*10*l)/l;return Yh(v,r,h,void 0,l)}var d=u/5,y=1/d;return d=Math.round(d*y)/y,Uh(n,r,d,y)}},Sv=function(t,i,n,r,e,o){return 0===i?t.filter((function(t,i){return i%2==0})):1===i?t.filter((function(t,i){return i%5==0})):2===i?t.filter((function(t,i){return i%10==0})):void 0},wv=function(t,i,n,r,e,o){},Mv=function(t,i,n,r,e,o){return 0===i?t.filter((function(t,i){return i%2==0})):1===i?t.filter((function(t,i){return i%3==0})):2===i?t.filter((function(t,i){return i%4==0})):3===i?t.filter((function(t,i){return i%5==0})):void 0},Cv=function(t,i,n,r,e,o){return 0===i?[t[1],t[3],t[5]]:1===i?[t[0],t[3]]:2===i?[t[1]]:void 0},Tv=function(t,i){var n=ou(t),r=su(t);if(i)return function(t,i){for(var e=[],o=Math.floor(n(t)),s=Math.ceil(n(i)),u=o-1;u<=s+1;u+=1){var a=Math.pow(r,u);e.push(a)}return e};var e=10===t?9:4;return function(t,i){for(var o=Math.round(n(t)),s=Math.round(n(i)),u=[],a=Math.pow(r,o),h=(Math.pow(r,s)-a)/e,f=1;f<=e;f+=1){var c=a+h*f;c>t&&c<i&&u.push(c)}return u}},kv=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return gv(i,t),i.prototype.qe=function(t){var i=this.formattingOffset,n=this.get("extremeFormattingFunction")||("logarithmic"===t.type?function(i,n){return cu.LogarithmicNoExponents(i,n,void 0,t.base)}:cu.Numeric),r=this.get("majorFormattingFunction")||("logarithmic"===t.type?function(i,n){return cu.LogarithmicNoExponents(i,n,void 0,t.base)}:cu.Numeric),e=this.get("minorFormattingFunction")||("logarithmic"===t.type?function(i,n){return cu.LogarithmicNoExponents(i,n,void 0,t.base)}:cu.Numeric),o=[],s=[];Zl(this.extremeTickStyle)||o.push({ls:"Extreme ticks",so:this.extremeTickStyle,Ke:void 0===i?n:function(t,r,e){return n(i+t,r,e)},ru:Gh,Qe:!0,zs:!0});var u={ls:"Major ticks",vy:0,so:this.majorTickStyle,Ke:void 0===i?r:function(t,n,e){return r(i+t,n,e)},ru:"logarithmic"===t.type?Tv(t.base,!0):xv(0,!0),Bo:{Es:"hide-label",Ds:"logarithmic"===t.type?Mv:Sv},eu:void 0};if(s.push(u),!Zl(this.minorTickStyle)){var a="logarithmic"===t.type?Tv(t.base,!1):xv(1,!1);s.push({ls:"Minor ticks",vy:1,so:this.minorTickStyle,Ke:void 0===i?e:function(t,n,r){return e(i+t,n,r)},ru:function(t,i,n,r,e){return a(t,i,n,r,e)},Bo:{Es:"hide-tick",Ds:"logarithmic"===t.type?Cv:wv},eu:80})}var h=this.cursorFormatter?this.cursorFormatter:cu.Numeric;return{$e:o,io:s,no:void 0===i?h:function(t,n,r){return h(i+t,n,r)},ro:1e-9,eo:void 0,Ss:this.fallBackToExtremeTicksAutomatically?u:void 0}},i.prototype.setCursorFormatter=function(t){return this.set("cursorFormatter",t)},i.prototype.getCursorFormatter=function(){return this.get("cursorFormatter")},i.prototype.setExtremeTickStyle=function(t){if("function"==typeof t){var i=this.get("extremeTickStyle");return this.set("extremeTickStyle",t(i))}return this.set("extremeTickStyle",t)},i.prototype.getExtremeTickStyle=function(){return this.get("extremeTickStyle")},i.prototype.setFormattingOffset=function(t){return this.set("formattingOffset",t)},i.prototype.getFormattingOffset=function(){return this.get("formattingOffset")},i.prototype.setTickStyle=function(t){var i=this.setMajorTickStyle(t).setMinorTickStyle(t);return i.extremeTickStyle!==Hl?i.setExtremeTickStyle(t):i},i.prototype.setMajorTickStyle=function(t){return"function"==typeof t?this.set("majorTickStyle",t(this.get("majorTickStyle"))):this.set("majorTickStyle",t)},i.prototype.getMajorTickStyle=function(){return this.get("majorTickStyle")},i.prototype.setMinorTickStyle=function(t){if("function"==typeof t){var i=this.get("minorTickStyle");return this.set("minorTickStyle",t(i))}return this.set("minorTickStyle",t)},i.prototype.getMinorTickStyle=function(){return this.get("minorTickStyle")},i.prototype.setFormattingFunction=function(t){return this.withMutations((function(i){return i.set("extremeFormattingFunction",t).set("majorFormattingFunction",t).set("minorFormattingFunction",t).set("cursorFormatter",t)}))},i.prototype.getExtremeFormattingFunction=function(){return this.get("extremeFormattingFunction")},i.prototype.setExtremeFormattingFunction=function(t){return this.set("extremeFormattingFunction",t)},i.prototype.getMajorFormattingFunction=function(){return this.get("majorFormattingFunction")},i.prototype.setMajorFormattingFunction=function(t){return this.set("majorFormattingFunction",t)},i.prototype.getMinorFormattingFunction=function(){return this.get("minorFormattingFunction")},i.prototype.setMinorFormattingFunction=function(t){return this.set("minorFormattingFunction",t)},i.prototype.getFallBackToExtremeTicksAutomatically=function(){return this.get("fallBackToExtremeTicksAutomatically")},i.prototype.setFallBackToExtremeTicksAutomatically=function(t){return this.set("fallBackToExtremeTicksAutomatically",t)},i}(vr({cursorFormatter:void 0,extremeTickStyle:new Wl,majorTickStyle:new Wl,minorTickStyle:new Wl,formattingOffset:void 0,extremeFormattingFunction:void 0,majorFormattingFunction:void 0,minorFormattingFunction:void 0,fallBackToExtremeTicksAutomatically:!0})),_v=function(t,i,n,r,e){void 0===n&&(n="image/png"),void 0===e&&(e=1);var o=n.slice(n.indexOf("image/")+6);i+=".".concat(o);var s=t.captureFrame(n,r,void 0,e);if("image/png"!==n&&s.type.includes("image/png"))throw new Error("saveToFile | type not supported by browser: ".concat(n,"\nCheck support table for HTMLCanvasElement.toDataURL"));if(Qe.navigator.msSaveBlob)Qe.navigator.msSaveBlob(s,i);else{var u=Qe.document.createElement("a");Qe.document.body.appendChild(u);var a=Qe.URL.createObjectURL(s);u.href=a,u.download=i,u.click(),setTimeout((function(){Qe.URL.revokeObjectURL(a),Qe.document.body.removeChild(u)}),0)}},Ov=function(i,n,r,e,o,s){var u=i.Eu(n,r,e,o,s,!0);return u.setDraggingMode(t.UIDraggingModes.draggable),u},Fv=function(t,i){if("relative"===t)return i;if(t instanceof qr)return t;var n=t.x instanceof ef?t.x.Yi:t.x.x,r=t.y instanceof ef?t.y.Yi:t.y.y;return Du(n,r)},Iv=function(t,i,n,r,e){if(n){var o=t,s=i,u=Ul(s)?s:Pu(s)?r:void 0;if(u&&Lu(n)){var a=ee(o,u,e.Yi);return e.Ih({engineX:a.x,engineY:a.y})}if(u&&Pu(n))return ee(o,u,r);if(u&&Ul(n))return ee(o,u,n)}else{if(o=t,Pu(i))return a=e.Fh(o),ee({x:a.engineX,y:a.engineY},e.Yi,r);if(Ul(i)){var h=i;return a=e.Fh(o),ee({x:a.engineX,y:a.engineY},e.Yi,h)}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")},jv=function(){function t(t){this.Oy=[],this.Fy=t}return t.prototype.Iy=function(){var t=this;return this.jy(),{add:function(){return t.Rf()},finishPlot:function(){t.By()}}},t.prototype.Rf=function(){var t=this.Oy.find((function(t){return t.isFree}));return t||(t={isFree:!1,shape:this.Fy()},this.Oy.push(t)),t.isFree=!1,t.shape},t.prototype.jy=function(){this.Oy.forEach((function(t){t.isFree=!0}))},t.prototype.By=function(){var t=this;this.Oy.filter((function(t){return t.isFree})).forEach((function(i){i.shape.dispose(),t.Oy.splice(t.Oy.indexOf(i),1)}))},t.prototype.Dy=function(){this.Oy.forEach((function(t){return t.shape.dispose()})),this.Oy.length=0},t.prototype.du=function(){return this.Oy.map((function(t){return t.shape}))},t}(),Bv=function(){return Bv=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Bv.apply(this,arguments)},Dv=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Lv=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Ev=function(i){var n=i.layer,r=i.scale,e=i.panel,o=i.legend,s=void 0,u=e.qi.ir,a=new Map,h=function(t,i,n,r){var e;a.has(t)||a.set(t,[]),null===(e=a.get(t))||void 0===e||e.push({eventType:i,callback:n}),t.addEventListener(i,n,r)},f=function(){var t,i,n,r;try{for(var e=Dv(a.entries()),o=e.next();!o.done;o=e.next()){var s=Lv(o.value,2),u=s[0],h=s[1];try{for(var f=(n=void 0,Dv(h)),c=f.next();!c.done;c=f.next()){var l=c.value,v=l.eventType,d=l.callback;u.removeEventListener(v,d)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}}}catch(i){t={error:i}}finally{try{o&&!o.done&&(i=e.return)&&i.call(e)}finally{if(t)throw t.error}}a.clear()},c=[],l=[],v=[],d=new jv((function(){return n.$s(r).Ks(os).qs(os)})),y=new jv((function(){return n.wv(r)})),A=n.ev(r).Be(e.getTheme().uiBackgroundFillStyle).setVisible(!1),b=A.pa().uv({extent:8,c_x1_y1:!0,c_x1_y2:!0,c_x2_y1:!0,c_x2_y2:!0}),p=e.getTheme().uiButtonFillStyle,m=e.getTheme().uiButtonFillStyleHidden,g=e.getTheme().uiTextFillStyle,x=e.getTheme().uiTextFillStyleHidden,S=e.getTheme().uiTextFont,w=e.getTheme().uiBackgroundFillStyle,M=e.getTheme().uiBackgroundStrokeStyle,C=e.getTheme().uiButtonStrokeStyle,T=function(){A.setVisible(!1),c.forEach((function(t){return t.setVisible(!1).ds()})),l.forEach((function(t){return t.setVisible(!1)})),v.forEach((function(t){return t.setVisible(!1)}))},k=function(s){var a,l,v,A;f(),s.titleEvents.Sn(),s.backgroundEvents.Sn(),c.forEach((function(t){return t.dispose()})),c.length=0;var b,w=d.Iy(),M=y.Iy(),T=null!==(a=s.marginInner)&&void 0!==a?a:0,k=s.marginOuter,_=s.chartPadding,O={left:k.left+_.left,right:k.right+_.right,top:k.top+_.top,bottom:k.bottom+_.bottom},F=e.getSizePixels(),I={x:-1,y:1};if("number"==typeof s.position)switch(s.position){case t.LegendPosition.TopLeft:case t.LegendPosition.TopCenter:case t.LegendPosition.TopRight:case t.LegendPosition.BottomLeft:case t.LegendPosition.BottomCenter:case t.LegendPosition.BottomRight:b={x:F.x-s.chartTitleSpace.left-s.chartTitleSpace.right-O.left-O.right,y:F.y-s.chartTitleSpace.top-s.chartTitleSpace.bottom-O.top-O.bottom};break;default:b={x:F.x-O.left-O.right,y:F.y-O.top-O.bottom}}else s.position.origin&&(I=s.position.origin),b={x:F.x-s.position.x*(I.x+1)/2,y:s.position.y*(I.y+1)/2};var j=void 0!==s.orientation?s.orientation===t.LegendOrientation.Vertical:"number"==typeof s.position&&s.position<6,B=null!==(l=s.padding)&&void 0!==l?l:{left:5,right:5,top:5,bottom:5},D=B.top+B.bottom,L=B.left+B.right,E=null!==(v=s.entryMargin)&&void 0!==v?v:10,P={left:E,right:E,top:E,bottom:E},z=i.panel.getTheme().uiButtonSize,N=0,V=0,R=0,G=0,U=[],Y=s.title?w.add().wf({x:-1,y:0}).Os(s.title).qo(s.titleFont?new Br(s.titleFont):S.setWeight("bold")).Be(null!==(A=s.titleFillStyle)&&void 0!==A?A:g).Ks(P):void 0;if(Y){var W=Y.setVisible(!0).ds().al();R=j?W.y:W.x+E,G=j?W.x:W.y,N=W.x,V=W.y,s.titleEvents.xn(Y)}var X=s.entries.filter((function(t){return!1!==t.options.show})),H=X.map((function(i,s){var a,f,l=void 0!==i.options.text?i.options.text:i.component&&"getName"in i.component?i.component.getName():"",v=i.component&&i.component.getVisible?i.component.getVisible()?void 0!==i.options.textFillStyle?i.options.textFillStyle:g:x:void 0!==i.options.textFillStyle?i.options.textFillStyle:g,d=i.options.textFont?new Br(i.options.textFont):S,y=w.add().wf({x:-1,y:0}).Os(l).Be(v).qo(d).Ks(P),A=void 0!==i.options.buttonShape?i.options.buttonShape:i.component&&i.component.Cr?i.component.Cr():t.PointShape.Circle,T=Ea(A);T&&A.Fr instanceof Image&&h(A.Fr,"load",(function(){o.br()}));var k=i.component&&i.component.getVisible?i.component.getVisible()?void 0!==i.options.buttonFillStyle?i.options.buttonFillStyle:i.component&&i.component.Pe?Go(e.getTheme(),i.options.matchStyleExactly||!1,i.component.Pe()):p:m:void 0!==i.options.buttonFillStyle?i.options.buttonFillStyle:i.component&&i.component.Pe?Go(e.getTheme(),i.options.matchStyleExactly||!1,i.component.Pe()):p,_=null!==(a=i.options.buttonStrokeStyle)&&void 0!==a?a:C,O=void 0!==i.options.buttonSize?i.options.buttonSize:T?Math.max(A.ai().x,A.ai().y):l?z:0,F=void 0!==i.options.buttonRotation?i.options.buttonRotation:i.component&&i.component.getPointRotation?i.component.getPointRotation():0,I=M.add().Ly({x:-1,y:0}).Iv(O).Tv(F);k&&I.xv(k),void 0!==A&&I.Mv(A),I.Ov(_);var B=null===i.options.lut?void 0:i.options.lut?i.options.lut:i.component&&i.component.Mr?null===(f=i.component.Mr())||void 0===f?void 0:f.lut:void 0,Y=void 0;B&&(Y=new Cl(n,r,r,(function(){}),e.getTheme(),j?"vertical":"horizontal").od(B),c.push(Y),Y.od(B).setVisible(!0).wf(j?"vertical":"horizontal").setFillStyle(v).setFont(d).setMargin(E).ed(os),i.options.lutLength&&Y.ud(i.options.lutLength),i.options.lutThickness&&Y.hd(i.options.lutThickness),i.options.lutDisplayProportionalSteps&&Y.setLUTDisplayProportionalSteps(i.options.lutDisplayProportionalSteps),i.options.lutStepValueFormatter&&Y.dd(i.options.lutStepValueFormatter),B.units&&Y.ld(B.units)),u.tr(y,(function(t){y.vn(t)}),{animationEnabled:!0}),u.tr(I,(function(t){I.vn(t)}),{animationEnabled:!0});var W=i.component&&Ue(i.component)?i.component:void 0;W&&h(W,"highlightchange",(function(t){var i=t.highlight;y.vn(i),I.vn(i),e.qi.vr()})),[y,I].forEach((function(t){t&&(h(t,"pointerenter",(function(){!1!==i.options.highlight&&(W&&W.setHighlight(!0),y.vn(1),I.vn(1))})),h(t,"pointerleave",(function(){W&&W.setHighlight(!1),y.vn(0),I.vn(0)})))})),[y,I,Y].forEach((function(n){n&&(h(n,"pointerenter",(function(){e.engine.setMouseStyle(t.MouseStyles.Point)})),h(n,"pointerleave",(function(){e.engine.clearMouseStyle()})),i.options.events&&Object.entries(i.options.events).forEach((function(t){var r=Lv(t,2),e=r[0],o=r[1];h(n,e,(function(t){return o(t,{entry:i,allEntries:X})}))})),h(n,"click",(function(){o.br(),e.qi.vr()})))}));var H=y.setVisible(!0).ds().al(),Z={length:0,thickness:0};if(Y){var J=Y.ds().getSize();Z=j?{length:J.y,thickness:J.x}:{length:J.x,thickness:J.y}}var Q=j?{width:(O?E+O:0)+Math.max(H.x,Z.thickness),height:Math.max(O,H.y)+Z.length}:{width:(O?E+O:0)+H.x+Z.length,height:Math.max(O,H.y,Z.thickness)};return N=Math.max(Q.width,N),V=Math.max(Q.height,V),(j?R+Q.height<b.y-D:R+Q.width<b.x-L)?(G=j?Math.max(Q.width,G):Math.max(Q.height,G),R+=j?Q.height:Q.width,s===X.length-1&&U.push(j?{width:G,height:0===U.length?R:b.y-D}:{width:0===U.length?R:b.x-L,height:G})):(U.push(j?{width:G,height:b.y-D}:{width:b.x-L,height:G}),R=j?Q.height:Q.width,s===X.length-1&&U.push(j?{width:Q.width,height:b.y-D}:{width:b.x-L,height:Q.height}),G=j?Q.width:Q.height),{text:l?y:void 0,button:l&&0!==O?I:void 0,buttonSize:O,lut:Y}}));return{entries:H,sectionSizes:U,legendTitle:Y,isVertical:j,availableChartSize:b,horizontalLegendPadding:L,verticalLegendPadding:D,marginInner:T,totalMarginOuter:O,maxEntryWidth:N,maxEntryHeight:V,chartSize:F,legendSpace:{left:0,right:0,top:0,bottom:0},origin:I,legendPadding:B,entryMarginValue:E,shapeProviderText:w,shapeProviderMarker:M}};return{update:function(i){if(!i.visible||i.renderOnTop)return os;var n=k(i);s=n;var r=n.entries,e=n.sectionSizes,o=n.isVertical,u=n.availableChartSize,a=n.horizontalLegendPadding,h=n.verticalLegendPadding,f=n.marginInner,c=n.totalMarginOuter,l=n.maxEntryWidth,v=n.maxEntryHeight,d=n.legendSpace,y=n.shapeProviderText,A=n.shapeProviderMarker;if(y.finishPlot(),A.finishPlot(),0===r.length&&0===e.length)return os;var b=zv(o,e,a,h,u);if(i.autoHideThreshold&&Pv(i.autoHideThreshold,b,u,o,l,v))return os;var p=Bv({},d),m=i.chartPadding,g=Math.max(0,c.left-m.left),x=Math.max(0,c.right-m.right),S=Math.max(0,c.top-m.top),w=Math.max(0,c.bottom-m.bottom);switch(i.position){case t.LegendPosition.RightTop:case t.LegendPosition.RightCenter:case t.LegendPosition.RightBottom:p.right=b.width+f+x;break;case t.LegendPosition.LeftTop:case t.LegendPosition.LeftCenter:case t.LegendPosition.LeftBottom:p.left=b.width+f+g;break;case t.LegendPosition.TopLeft:case t.LegendPosition.TopCenter:case t.LegendPosition.TopRight:p.top=b.height+f+S;break;case t.LegendPosition.BottomLeft:case t.LegendPosition.BottomCenter:case t.LegendPosition.BottomRight:p.bottom=b.height+f+w}return p},plot:function(i){var n;if(i.visible){var r=s||k(i);s=void 0;var e=r.entries,o=r.sectionSizes,u=r.legendTitle,a=r.isVertical,h=r.availableChartSize,f=r.horizontalLegendPadding,c=r.verticalLegendPadding,p=r.chartSize,m=r.maxEntryWidth,g=r.maxEntryHeight,x=r.origin,S=r.legendPadding,C=r.entryMarginValue,_=r.shapeProviderText,O=r.shapeProviderMarker,F=r.totalMarginOuter;if(l=d.du(),v=y.du(),0===e.length&&0===o.length)return T(),_.finishPlot(),void O.finishPlot();var I=zv(a,o,f,c,h);if(i.autoHideThreshold&&Pv(i.autoHideThreshold,I,h,a,m,g))return T(),_.finishPlot(),void O.finishPlot();var j=(x.x+1)*I.width/2,B=(x.y+1)*I.height/2;l.forEach((function(t){return t.setVisible(!0)})),v.forEach((function(t){return t.setVisible(!0)}));var D=i.chartTitleSpace,L={leftBottom:{x:0,y:0},leftTop:{x:0,y:0},rightTop:{x:0,y:0},rightBottom:{x:0,y:0}};switch(i.position){case t.LegendPosition.RightTop:case t.LegendPosition.RightCenter:case t.LegendPosition.RightBottom:L={leftBottom:{x:p.x-I.width-F.right,y:0+F.bottom},leftTop:{x:p.x-I.width-F.right,y:p.y-F.top},rightTop:{x:p.x-F.right,y:p.y-F.top},rightBottom:{x:p.x-F.right,y:0+F.bottom}};break;case t.LegendPosition.LeftTop:case t.LegendPosition.LeftCenter:case t.LegendPosition.LeftBottom:L={leftBottom:{x:0+F.left,y:0+F.bottom},leftTop:{x:0+F.left,y:p.y-F.top},rightTop:{x:I.width+F.left,y:p.y-F.top},rightBottom:{x:I.width+F.left,y:0+F.bottom}};break;case t.LegendPosition.TopLeft:case t.LegendPosition.TopCenter:case t.LegendPosition.TopRight:L={leftBottom:{x:0+F.left,y:p.y-I.height-F.top-D.top},leftTop:{x:0+F.left,y:p.y-F.top-D.top},rightTop:{x:p.x-F.right,y:p.y-F.top-D.top},rightBottom:{x:p.x-F.right,y:p.y-I.height-F.top-D.top}};break;case t.LegendPosition.BottomLeft:case t.LegendPosition.BottomCenter:case t.LegendPosition.BottomRight:L={leftBottom:{x:0+F.left,y:0+F.bottom+D.bottom},leftTop:{x:0+F.left,y:I.height+F.bottom+D.bottom},rightTop:{x:p.x-F.right,y:I.height+F.bottom+D.bottom},rightBottom:{x:p.x-F.right,y:0+F.bottom+D.bottom}};break;default:L={leftBottom:{x:i.position.x-j,y:i.position.y-B},leftTop:{x:i.position.x-j,y:i.position.y-B+I.height},rightTop:{x:i.position.x-j+I.width,y:i.position.y-B+I.height},rightBottom:{x:i.position.x-j+I.width,y:i.position.y-B}}}if(i.backgroundVisible){var E={x:0,y:0},P=I.width,z=I.height;switch(i.position){case t.LegendPosition.RightTop:E={x:p.x-I.width-F.right,y:p.y-I.height-F.top};break;case t.LegendPosition.RightCenter:E={x:p.x-I.width-F.right,y:p.y/2-I.height/2-F.top/2+F.bottom/2};break;case t.LegendPosition.RightBottom:E={x:p.x-I.width-F.right,y:0+F.bottom};break;case t.LegendPosition.LeftTop:E={x:0+F.left,y:p.y-I.height-F.top};break;case t.LegendPosition.LeftCenter:E={x:0+F.left,y:p.y/2-I.height/2-F.top/2+F.bottom/2};break;case t.LegendPosition.LeftBottom:E={x:0+F.left,y:0+F.bottom};break;case t.LegendPosition.TopLeft:E={x:0+F.left,y:p.y-I.height-F.top-D.top};break;case t.LegendPosition.TopCenter:E={x:p.x/2-I.width/2+F.left/2-F.right/2,y:p.y-I.height-F.top-D.top};break;case t.LegendPosition.TopRight:E={x:p.x-I.width-F.right,y:p.y-I.height-F.top-D.top};break;case t.LegendPosition.BottomLeft:E={x:0+F.left,y:0+F.bottom+D.bottom};break;case t.LegendPosition.BottomCenter:E={x:p.x/2-I.width/2+F.left/2-F.right/2,y:0+F.bottom+D.bottom};break;case t.LegendPosition.BottomRight:E={x:p.x-I.width-F.right,y:0+F.bottom+D.bottom};break;default:E={x:i.position.x-j,y:i.position.y-B}}b.av(E.x,E.y,E.x+P,E.y+z)}i.backgroundEvents.xn(A),A.setVisible(null===(n=i.backgroundVisible)||void 0===n||n),A.Be(void 0!==i.backgroundFillStyle?i.backgroundFillStyle:w),A.je(void 0!==i.backgroundStrokeStyle?i.backgroundStrokeStyle:M);var N={x:0,y:0};switch(i.position){case t.LegendPosition.LeftTop:case t.LegendPosition.RightTop:N={x:L.leftTop.x,y:L.leftTop.y};break;case t.LegendPosition.LeftCenter:case t.LegendPosition.RightCenter:N={x:L.leftBottom.x,y:L.leftBottom.y+(L.leftTop.y-L.leftBottom.y)/2+I.height/2};break;case t.LegendPosition.LeftBottom:case t.LegendPosition.RightBottom:N={x:L.leftBottom.x,y:L.leftBottom.y+I.height};break;case t.LegendPosition.TopLeft:case t.LegendPosition.BottomLeft:N={x:L.leftTop.x,y:L.leftTop.y};break;case t.LegendPosition.TopCenter:case t.LegendPosition.BottomCenter:N={x:L.leftBottom.x+(L.rightBottom.x-L.leftBottom.x)/2-I.width/2,y:L.leftTop.y};break;case t.LegendPosition.TopRight:case t.LegendPosition.BottomRight:N={x:L.rightTop.x-I.width,y:L.leftTop.y};break;default:N={x:L.leftTop.x,y:L.leftTop.y}}N={x:N.x+S.left,y:N.y-S.top};var V=Bv({},N),R=0,G=0,U=[],Y=[];if(u){var W=u.al();u.Ee(Bv(Bv({},N),{y:N.y-W.y/2})),G+=a?W.y:W.x+C,N=Bv(Bv({},N),a?{y:N.y-W.y}:{x:N.x+W.x+C})}e.forEach((function(t){var i=t.text?t.text.al():{x:0,y:0},n=t.button?t.buttonSize:0,r=t.lut||void 0,e=Nv(i,n,a,C,t.lut);G+e>=(a?o[R].height:o[R].width)&&o.length-1>R&&(U.push(Y),Y=[],R+=1,G=0),Y.push({entry:t,textSize:i,buttonSize:n,lut:r,entryLength:e}),G+=e})),Y.length>0&&U.push(Y);var X=U.map((function(t,i){var n=t.reduce((function(t,i){return t+i.entryLength}),0);if(0===i&&u){var r=u.al();return n+(a?r.y:r.x+C)}return n}));U.forEach((function(n,r){var e,s=X[r],h=U.length>1;if(0===r)if(h)if(a){var f=(l=o[r].height)-s;e={x:V.x,y:V.y-f/2}}else f=(A=o[r].width)-s,e={x:V.x+f/2,y:V.y};else e=Bv({},V);else if(a){var c=o.slice(0,r).reduce((function(t,i){return t+i.width}),0),l=o[r].height,v=void 0;if(h){f=l-s;var d=void 0;switch(i.position){case t.LegendPosition.LeftTop:case t.LegendPosition.RightTop:d=L.leftTop.y-S.top;break;case t.LegendPosition.LeftCenter:case t.LegendPosition.RightCenter:d=L.leftBottom.y+(L.leftTop.y-L.leftBottom.y)/2+l/2;break;case t.LegendPosition.LeftBottom:case t.LegendPosition.RightBottom:d=L.leftBottom.y+l+S.bottom;break;default:d=V.y}v=d-f/2}else v=V.y;e={x:V.x+c,y:v}}else{var y=o.slice(0,r).reduce((function(t,i){return t+i.height}),0),A=o[r].width,b=void 0;if(h){f=A-s;var p=void 0;switch(i.position){case t.LegendPosition.TopLeft:case t.LegendPosition.BottomLeft:p=L.leftTop.x+S.left;break;case t.LegendPosition.TopCenter:case t.LegendPosition.BottomCenter:p=L.leftBottom.x+(L.rightBottom.x-L.leftBottom.x)/2-A/2;break;case t.LegendPosition.TopRight:case t.LegendPosition.BottomRight:p=L.rightTop.x-A-S.right;break;default:p=V.x}b=p+f/2}else b=V.x;e={x:b,y:V.y-y}}if(0===r&&u){var m=u.al();a?(u.Ee({x:e.x,y:e.y-m.y/2}),e=Bv(Bv({},e),{y:e.y-m.y})):(u.Ee({x:e.x,y:e.y-m.y/2}),e=Bv(Bv({},e),{x:e.x+m.x+C}))}var g=Bv({},e);n.forEach((function(t){Vv(g,t.entry.button,t.entry.text,t.lut,t.textSize,t.buttonSize,a,C),g=Bv(Bv({},g),a?{y:g.y-t.entryLength}:{x:g.x+t.entryLength})}))})),_.finishPlot(),O.finishPlot()}else T()},dispose:function(){f(),d.Dy(),y.Dy(),A.dispose(),c.forEach((function(t){return t.dispose()}))}}},Pv=function(t,i,n,r,e,o){return(r?Math.ceil(i.width)>=Math.ceil(n.x*t):Math.ceil(i.height)>=Math.ceil(n.y*t))||e>n.x||o>n.y},zv=function(t,i,n,r,e){return t?{width:i.reduce((function(t,i){return t+i.width}),0)+n,height:i.length>1?e.y:i[0].height+r}:{width:i.length>1?e.x:i[0].width+n,height:i.reduce((function(t,i){return t+i.height}),0)+r}},Nv=function(t,i,n,r,e){if(void 0===r&&(r=0),e){var o=e.ds().getSize(),s=n?{length:o.y,thickness:o.x}:{length:o.x,thickness:o.y};return n?Math.max(i,t.y)+s.length:(i?r+i:0)+t.x+s.length}return n?Math.max(i,t.y):(i?r+i:0)+t.x},Vv=function(t,i,n,r,e,o,s,u){var a,h;if(void 0===u&&(u=0),h=e.y>o?{x:(a={x:t.x+(o?u:0),y:t.y-e.y/2}).x+o,y:t.y-e.y/2}:{x:(a={x:t.x+(o?u:0),y:t.y-o/2}).x+o,y:t.y-o/2},i&&i.gv(new Mc({schema:{x:{},y:{}}}).appendSample(a),{x:"x",y:"y"}),n&&n.Ee(h),r){var f=r.ds().getSize(),c=s?{length:f.y,thickness:f.x}:{length:f.x,thickness:f.y},l=s?{x:h.x+c.thickness/2,y:t.y-Math.max(o,e.y)-c.length/2}:{x:h.x+e.x+c.length/2,y:t.y-c.thickness/2};r.setPosition(l),r.Le()}},Rv=function(){return Rv=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Rv.apply(this,arguments)},Gv=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Uv=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},Yv=function(t){return"Mr"in t};t.LegendPosition=void 0,(zl=t.LegendPosition||(t.LegendPosition={}))[zl.RightTop=0]="RightTop",zl[zl.RightCenter=1]="RightCenter",zl[zl.RightBottom=2]="RightBottom",zl[zl.LeftTop=3]="LeftTop",zl[zl.LeftCenter=4]="LeftCenter",zl[zl.LeftBottom=5]="LeftBottom",zl[zl.TopLeft=6]="TopLeft",zl[zl.TopCenter=7]="TopCenter",zl[zl.TopRight=8]="TopRight",zl[zl.BottomLeft=9]="BottomLeft",zl[zl.BottomCenter=10]="BottomCenter",zl[zl.BottomRight=11]="BottomRight",t.LegendOrientation=void 0,(Nl=t.LegendOrientation||(t.LegendOrientation={}))[Nl.Horizontal=0]="Horizontal",Nl[Nl.Vertical=1]="Vertical";var Wv,Xv={toggleIndividualVisibility:function(t,i){if(i.entry.component&&i.entry.component.getVisible&&i.entry.component.setVisible){var n=i.entry.component.getVisible();i.entry.component.setVisible(!n)}},focusClicked:function(t,i){if(i.entry.component&&i.entry.component.getVisible&&i.entry.component.setVisible){var n=!1;i.allEntries.forEach((function(t){t.component&&t.component.getVisible&&t.component.getVisible()&&t!==i.entry&&(n=!0)})),i.allEntries.forEach((function(t){t.component&&t.component.setVisible&&t.component.setVisible(!n)})),i.entry.component.setVisible(!0)}},doNothing:function(){}},Hv=function(){function i(i,n,r,e,o,s){var u,a=this;this.Ey=[],this.Py=!0,this.ou=t.LegendPosition.BottomCenter,this.So=void 0,this.zy=!1,this.Ny=!1,this.Vy=!0,this.Ry=!1,this.Gy={left:0,right:0,top:0,bottom:0},this.Hi=!1,this.Uy=5,this.Yy={x:0,y:0},this.Wy=!0,this.Xy=.5,this.Hy=[],this.Zy=!1,this.title=new we,this.background=new we,this.Jy=n,this.Qy=null!==(u=n.getTheme().panelPadding)&&void 0!==u?u:7,this.Ky={events:{click:Xv.toggleIndividualVisibility}},i!==Ev&&(this.zy=!0);var h=this.zy?{panel:n}:{panel:n,layer:r,scale:e,legend:this};this.qy=i(h),o&&(this.Ey=o),s&&this.setOptions(s),this.Jy.qi.vr();var f=function(){Qe.setTimeout((function(){a.br(),a.Jy.qi.vr()}),0)};Qe.setTimeout((function(){a.Hi||a.Jy.addEventListener("resize",f)}),0),this.$y=function(){a.Jy.removeEventListener("resize",f)}}return i.prototype.tA=function(i,n){var r=this,e=i&&"number"==typeof i?Rv(Rv({},os),{top:i}):i&&"number"!=typeof i?i:os,o={visible:this.Ey.length>0&&this.Py,chartTitleSpace:e,marginOuter:this.Gy,chartPadding:n,titleEvents:this.title,backgroundEvents:this.background,position:this.ou,orientation:this.iA,padding:this.yu?this.yu:this.Ny?{left:5,right:5,top:5,bottom:5}:os,entryMargin:this.Uy,marginInner:this.Qy,renderOnTop:this.Ry,title:this.So,titleFont:this.nA,titleFillStyle:this.rA,backgroundVisible:this.Ny,backgroundFillStyle:this.eA,backgroundStrokeStyle:this.oA,autoHideThreshold:this.Xy,entries:this.Ey};if(this.zy){var s=this.Jy.getTheme().uiTextFillStyle,u=this.Jy.getTheme().uiButtonFillStyle,a=this.Jy.getTheme().uiTextFont,h=this.Ey.map((function(i){var n,e,o,h,f;return{component:i.component,options:Rv(Rv({},i.options),{show:null===(n=i.options.show)||void 0===n||n,text:null!==(e=i.options.text)&&void 0!==e?e:i.component&&i.component.getName?i.component.getName():"",textFont:i.options.textFont?i.options.textFont:a,textFillStyle:i.options.textFillStyle?i.options.textFillStyle:s,buttonSize:null!==(o=i.options.buttonSize)&&void 0!==o?o:10,buttonShape:null!==(h=i.options.buttonShape)&&void 0!==h?h:t.PointShape.Circle,buttonRotation:null!==(f=i.options.buttonRotation)&&void 0!==f?f:0,buttonFillStyle:i.component&&i.component.Pe?Go(r.Jy.getTheme(),i.options.matchStyleExactly||!1,i.component.Pe()):u,events:Rv({click:Xv.toggleIndividualVisibility},i.options.events)})}}));o=Rv(Rv({},o),{entries:h})}return o},i.prototype.sA=function(){var t=!1,i=this.Jy.getSizePixels(),n=this.Jy.getMinimumSize(),r=void 0===n||i.x>n.x&&i.y>n.y;return i.x===this.Yy.x&&i.y===this.Yy.y&&r||(t=!0),this.Yy=i,t},i.prototype.uA=function(){var t=this,i=this.Ey.map((function(t){return{entryText:t.component&&t.component.getName?t.component.getName():void 0,buttonShape:t.component&&t.component.Cr?t.component.Cr():void 0,legendStyle:t.component&&t.component.Pe?t.component.Pe():void 0}}));if(this.Hy.length!==i.length)return this.Hy=i,!0;var n=i.some((function(i,n){var r,e,o,s,u=t.Hy[n];if(i.entryText!==u.entryText)return!0;if(i.buttonShape!==u.buttonShape)return!0;if(i.legendStyle&&u.legendStyle){if(i.legendStyle.fill!==u.legendStyle.fill)return!0;if(i.legendStyle.fill2!==u.legendStyle.fill2)return!0;if(i.legendStyle.stroke!==u.legendStyle.stroke)return!0;if(i.legendStyle.point3D!==u.legendStyle.point3D)return!0;if((null===(r=i.legendStyle.behavior)||void 0===r?void 0:r.colorStep)!==(null===(e=u.legendStyle.behavior)||void 0===e?void 0:e.colorStep))return!0;if((null===(o=i.legendStyle.behavior)||void 0===o?void 0:o.priority)!==(null===(s=u.legendStyle.behavior)||void 0===s?void 0:s.priority))return!0;if(i.legendStyle.lutValue!==u.legendStyle.lutValue)return!0}}));return this.Hy=i,n},i.prototype.aA=function(){this.Zy||this.ou===t.LegendPosition.RightCenter||this.Ey.some((function(t){var i;return!!(t.component&&t.component.Mr&&(null===(i=t.component.Mr())||void 0===i?void 0:i.lut)||gu(t.component)||t.options.lut)}))&&(this.ou=t.LegendPosition.RightCenter,this.Wy=!0)},i.prototype.ds=function(t,i){var n;if(this.Hi)return os;if((this.sA()||this.uA())&&(this.Wy=!0),this.aA(),!this.Wy&&!this.zy)return null!==(n=this.hA)&&void 0!==n?n:os;var r=this.tA(t,i),e=this.qy.update(r);return this.hA=e||os,this.hA},i.prototype.Le=function(t,i){if(!this.Hi&&this.Wy){var n=this.tA(t,i);this.qy.plot(n),this.Wy=!1}},i.prototype.Wf=function(t,i){var n=this;if(void 0===t||!this.Ey.some((function(i){return i.component===t}))){if(this.Ey.push({component:t,options:Rv(Rv({},this.Ky),i)}),t instanceof Ju){var r=function(){n.br(),n.Jy.qi.vr()},e=function(){t.removeEventListener("dispose",e),t.removeEventListener("visiblechange",r),n.remove(t),n.Jy.qi.vr()};t.addEventListener("visiblechange",r),t.addEventListener("dispose",e)}return this.Wy=!0,this}},i.prototype.fA=function(){return this.Vy},i.prototype.br=function(){return this.Wy=!0,this},i.prototype.cA=function(t){var i=this,n=(t=Array.isArray(t)?t:[t]).map((function(t){return Yv(t)?i.Ey.find((function(i){return i.component===t})):i.Ey.find((function(i){var n,r,e;return(null===(n=i.component)||void 0===n?void 0:n.Mr)&&(null===(e=null===(r=i.component)||void 0===r?void 0:r.Mr())||void 0===e?void 0:e.lut)===t}))})).filter((function(t){return void 0!==t})),r=this.Ey.filter((function(t){return!n.includes(t)}));return this.Ey=Uv(Uv([],Gv(n),!1),Gv(r),!1),this.Wy=!0,this.Jy.qi.vr(),this},i.prototype.add=function(t,i){var n=this;return void 0===t&&void 0===i||(t instanceof id?t.lA().forEach((function(t){return n.Wf(t,i)})):t&&!Yv(t)?this.Wf({Mr:function(){return{lut:t}}},i):this.Wf(t,i),this.Wy=!0,this.Jy.qi.vr()),this},i.prototype.remove=function(t){var i=this.Ey.find((function(i){return i.component===t}));if(i){var n=this.Ey.indexOf(i);this.Ey.splice(n,1)}return this.Wy=!0,this.Jy.qi.vr(),this},i.prototype.clear=function(){return this.Ey=[],this.Wy=!0,this.Jy.qi.vr(),this},i.prototype.dispose=function(){return this.Hi||(this.Hi=!0,this.$y(),this.qy.dispose&&this.qy.dispose(),this.Wy=!0,this.Jy.qi.vr()),this},i.prototype.setOptions=function(t){var i,n,r,e,o,s,u,a,h=this;return void 0!==t.addEntriesAutomatically&&(this.Vy=t.addEntriesAutomatically),void 0!==t.position&&(this.ou=t.position,this.Zy=!0),void 0!==t.orientation&&(this.iA=t.orientation),void 0!==t.padding&&("number"==typeof t.padding?this.yu={left:t.padding,right:t.padding,top:t.padding,bottom:t.padding}:this.yu={left:null!==(i=t.padding.left)&&void 0!==i?i:0,right:null!==(n=t.padding.right)&&void 0!==n?n:0,top:null!==(r=t.padding.top)&&void 0!==r?r:0,bottom:null!==(e=t.padding.bottom)&&void 0!==e?e:0}),void 0!==t.marginOuter&&("number"==typeof t.marginOuter?this.Gy={left:t.marginOuter,right:t.marginOuter,top:t.marginOuter,bottom:t.marginOuter}:this.Gy={left:null!==(o=t.marginOuter.left)&&void 0!==o?o:0,right:null!==(s=t.marginOuter.right)&&void 0!==s?s:0,top:null!==(u=t.marginOuter.top)&&void 0!==u?u:0,bottom:null!==(a=t.marginOuter.bottom)&&void 0!==a?a:0}),void 0!==t.entryMargin&&(this.Uy=t.entryMargin),void 0!==t.marginInner&&(this.Qy=t.marginInner),void 0!==t.renderOnTop&&(this.Ry=t.renderOnTop),void 0!==t.title&&(this.So=t.title),void 0!==t.titleFont&&(this.nA=t.titleFont),void 0!==t.titleFillStyle&&(this.rA=t.titleFillStyle),void 0!==t.visible&&(this.Py=t.visible),void 0!==t.backgroundVisible&&(this.Ny=t.backgroundVisible),void 0!==t.backgroundFillStyle&&(this.eA=t.backgroundFillStyle),void 0!==t.backgroundStrokeStyle&&(this.oA=t.backgroundStrokeStyle),void 0!==t.autoHideThreshold&&(this.Xy=t.autoHideThreshold),void 0!==t.entries&&(this.Ky=Rv(Rv({},this.Ky),t.entries),this.Ey.forEach((function(t){t.options=Rv(Rv({},h.Ky),t.options)}))),this.Wy=!0,this.Jy.qi.vr(),this},i.prototype.getOptions=function(){return{addEntriesAutomatically:this.Vy,position:this.ou,orientation:this.iA,padding:this.yu,marginOuter:this.Gy,entryMargin:this.Uy,marginInner:this.Qy,renderOnTop:this.Ry,title:this.So,titleFont:new Br(this.nA),titleFillStyle:this.rA,visible:this.Py,backgroundVisible:this.Ny,backgroundFillStyle:this.eA,backgroundStrokeStyle:this.oA,autoHideThreshold:this.Xy,entries:this.Ky}},i.prototype.setEntryOptions=function(t,i){var n=Yv(t)?this.Ey.find((function(i){return i.component===t})):this.Ey.find((function(i){var n,r,e;return(null===(n=i.component)||void 0===n?void 0:n.Mr)&&(null===(e=null===(r=i.component)||void 0===r?void 0:r.Mr())||void 0===e?void 0:e.lut)===t}));return n&&(n.options=Rv(Rv({},n.options),i)),this.Wy=!0,this.Jy.qi.vr(),this},i.prototype.getEntryOptions=function(t){var i=Yv(t)?this.Ey.find((function(i){return i.component===t})):this.Ey.find((function(i){var n,r,e;return(null===(n=i.component)||void 0===n?void 0:n.Mr)&&(null===(e=null===(r=i.component)||void 0===r?void 0:r.Mr())||void 0===e?void 0:e.lut)===t}));if(i)return i.options},i.prototype.getEntries=function(){return this.Ey},i}(),Zv=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jv=function(){return Jv=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Jv.apply(this,arguments)},Qv=function(){function t(t,i,n,r,e,s,u,a,h){var f=this;this.coordsRelative="relative",this.coordsClient="client",this.vA=[],this.Ar=[],this.dA=void 0,this.yA=void 0,this.AA=void 0,this.Zt=v(0,0,0,0),this.bA=!1,this.Hi=!1,this.pA=function(){f.mA=!0,f.gA.vr()},this.xA=function(t){return function(i){var n=f.vA.indexOf(i);-1!==n&&f.vA.splice(n,1),f.qi.vr(),t.Ft()}},this.mA=!0,this.background=new we,this.SA=t,this.wA=n,this.gA=r,this.removePanel=e,this.en=i.qi.en;var c=i.qi.ai();this.uiScale=n.d2({scaleXYConstructor:$r}).Pi(0,100).zi(0,100).zt(c),this.Ud=n.d2({scaleXYConstructor:$r}).Pi(0,this.uiScale.x.getCellSize()).zi(0,this.uiScale.y.getCellSize()).zt(c),this.engine=i.qi.MA,this.qi=i.qi.hl,this.Qn=this.qi.Qn.Kn(this,{}),this.CA=function(){return i.TA("unidentified ui")},this.kA=i._A(),this.OA=this.gA.De(this.uiScale).Ee(o(0,0)).zt(o(100,100)).Be(s).je(u),this.background.xn(this.OA),a?(a.addEventListener("resize",this.pA),this.FA=function(){return a.removeEventListener("resize",f.pA)}):(i.qi.kt("resize",this.pA),this.IA=function(){return i.qi.Ot("resize",f.pA)});var l=function(t){f.bA=t.isInView,f.Ct.Tt("inviewchanged",{isInView:f.bA})};i.qi.kt("inviewchanged",l),this.jA=function(){return i.qi.Ot("inviewchanged",l)},this.dA=e,this.legend=new Hv(null!=h?h:Ev,this,this.kA,this.Ud),this.Ar=[this.legend]}return t.prototype.getTheme=function(){return this.en},t.prototype.getSizePixels=function(){return this.Ud.getInnerIntervalPixels()},t.prototype.setBackgroundFillStyle=function(t){return this.OA.Be(t),this.gA.vr(),this},t.prototype.getBackgroundFillStyle=function(){return this.OA.Zo()},t.prototype.setBackgroundStrokeStyle=function(t){return this.OA.je(t),this.gA.vr(),this},t.prototype.getBackgroundStrokeStyle=function(){return this.OA.Ch()},t.prototype.translateCoordinate=function(t,i,n){return Iv(t,i,n,this.Ud,this.qi)},t.prototype.BA=function(t){return this.vA.push(t),this.qi.vr(),t},t.prototype.addUIElement=function(t,i){void 0===t&&(t=hl),void 0===i&&(i=this.uiScale),i=Fv(i,this.Ud);var n=this.CA();return this.BA(Ov(t,n,this.uiScale,i,this.xA(n),this.en))},t.prototype.dispose=function(){return this.Hi||(this.Hi=!0,this.IA&&this.IA(),this.FA&&this.FA(),Kv(this.uiScale),Kv(this.Ud),this.jA&&this.jA(),this.yA&&this.yA(),this.gA.Ft(),this.kA.Ft(),this.vA.slice().forEach((function(t){t.dispose()})),this.Ar.forEach((function(t){return t.dispose()})),this.qi.vr(),this.dA&&this.dA(this),this.Ct.Tt("dispose",{})),this},t.prototype.isDisposed=function(){return this.Hi},t.prototype.saveToFile=function(t,i,n,r){return _v(this.engine,t,i,n,r),this},t.prototype.Ks=function(t){this.Zt=t,this.pA()},t.prototype.Dt=function(){return this.Ud.Dt(),this.uiScale.Dt(),this},t.prototype.Lt=function(){return this.Ud.Lt(),this.uiScale.Lt(),this},t.prototype.Le=function(t){if(this.mA){var i=this.gA.qi.ai(),n=i.x,r=i.y;this.uiScale.zt(n,r),this.Ud.zt(n,r);var e=[this.Zt.left,this.Zt.right],o=[this.Zt.bottom,this.Zt.top];this.uiScale.Li(e),this.uiScale.Ei(o);var s=this.uiScale.getInnerIntervalPixels();this.Ud.Pi(0,s.x).Li(e).zi(0,s.y).Ei(o),this.Ct.Tt("resize",{width:s.x,height:s.y,engineHeight:r,engineWidth:n})}this.mA=!1},t.prototype.DA=function(){for(var t=0;t<this.vA.length;t+=1)this.vA[t].ds().Le();this.AA&&this.AA()},t.prototype.LA=function(t,i){if(t){var n=t(i);this.addEventListener("resize",n.ds.bind(n)),this.yA=n.Ft.bind(n),this.AA=n.ds.bind(n)}},t.prototype.getIsInView=function(){return this.bA},t}(),Kv=function(t){t.ni&&t.ni()},qv=function(i){function n(n,r,e,o,s,u,a){var h=i.call(this,n,r,e,r.EA("uipanel bg",0),o,r.qi.en.uiPanelBackgroundFillStyle,r.qi.en.uiPanelBackgroundStrokeStyle,u)||this;return h.Ct=new we,h.legend.setOptions(Jv({position:t.LegendPosition.LeftTop},a)),h.LA(s,h.Ud),h}return Zv(n,i),n.prototype.setMinimumSize=function(t){return this.Lv=t,this.qi.vr(),this},n.prototype.getMinimumSize=function(){return this.Lv},n.prototype.Le=function(t){this.Ar.forEach((function(t){return t.ds(0,os)})),i.prototype.Le.call(this,t),i.prototype.DA.call(this),this.Ar.forEach((function(t){return t.Le(0,os)}))},n.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},n.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},n}(Qv),$v=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),td=function(){return td=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},td.apply(this,arguments)},id=function(i){function n(n,r,e,s,u,a,h,f,c,l,v,d){var y=i.call(this,n,r,e,s,u,a,h,v,d)||this;return y.PA={},y.lo=!0,y.zA={left:!1,top:!1,right:!1,bottom:!1},y.title=new we,y.NA=r.VA("chart internal ui",0),y.yu=void 0!==y.en.panelPadding?{left:y.en.panelPadding,right:y.en.panelPadding,top:y.en.panelPadding,bottom:y.en.panelPadding}:{left:7,right:7,top:7,bottom:7},y.So=y.NA.$s(y.uiScale).Os("Chart").Ee(o(50,100)).wf(o(0,1)).qo(f).Be(c).setPointerEvents(!1)._s(l),y.So.ko=t.TextObjectIdentifier.ChartTitle,y.title.xn(y.So),y.RA=y.Qn.Zd([y.So]).lr(y.en.effectsText),y}return $v(n,i),n.prototype.addLegend=function(t){var i,n=void 0;(t=td({addEntriesAutomatically:!1,backgroundVisible:!0},t)).addEntriesAutomatically&&this.legend&&(n=this.legend.getEntries());var r=null!==(i=t.customLegend)&&void 0!==i?i:Ev,e=new Hv(r,this,this.kA,this.Ud,n,t);return this.Ar.push(e),this.qi.vr(),e},n.prototype.setAnimationsEnabled=function(t){return this.lo=t,this},n.prototype.getAnimationsEnabled=function(){return this.lo},n.prototype.setTitle=function(t){return this.So.Os(t),this.qi.vr(),this},n.prototype.getTitle=function(){return this.So.js()},n.prototype.getTitleSize=function(){return this.So.ds().al()},n.prototype.setTitleFillStyle=function(t){return this.So.Be(t),this.pA(),this},n.prototype.getTitleFillStyle=function(){return this.So.Zo()},n.prototype.setTitleShadow=function(t){return this.So._s(t),this.qi.vr(),this},n.prototype.getTitleShadow=function(){return this.So.yf()},n.prototype.setTitleFont=function(t){return this.So.qo(t),this.pA(),this},n.prototype.getTitleFont=function(){return this.So.Ko()},n.prototype.setTitleRotation=function(t){return this.So.$o(t),this.qi.vr(),this},n.prototype.getTitleRotation=function(){return this.So.ts()},n.prototype.setTitleEffect=function(t){return this.RA.lr(t),this.qi.vr(),this},n.prototype.getTitleEffect=function(){return this.RA.dr()},n.prototype.setTitleMargin=function(t){var i,n;return this.PA="object"==typeof t?this.PA?(i=this.PA,{left:void 0!==(n=t).left?n.left:i.left,top:void 0!==n.top?n.top:i.top,right:void 0!==n.right?n.right:i.right,bottom:void 0!==n.bottom?n.bottom:i.bottom}):t:{left:t,top:t,right:t,bottom:t},this.pA(),this},n.prototype.getTitleMargin=function(){return this.PA},n.prototype.qs=function(t,i){var n=this,r="object"==typeof t?y(this.yu,t):{left:t,top:t,right:t,bottom:t};return r.bottom===this.yu.bottom&&r.left===this.yu.left&&r.right===this.yu.right&&r.top===this.yu.top||(Object.entries(t).forEach((function(t){var r=t[0],e=t[1];void 0===e||!i&&n.zA[r]||(n.yu[r]=e,n.zA[r]=i)})),this.pA()),this},n.prototype.setPadding=function(t){return this.qs("object"==typeof t?t:{left:t,top:t,right:t,bottom:t},!0),this},n.prototype.getPadding=function(){return this.yu},n.prototype.GA=function(t){var i=t.UA(),n=null==i?void 0:i.height,r=null==i?void 0:i.width;if(void 0!==n&&void 0!==r)return{x:n/2,y:r/2}},n.prototype.dispose=function(){return i.prototype.dispose.call(this),this.NA.Ft(),this},n}(Qv),nd=function(t,i){var n,r;return t.Zo()!==Cu&&0!==t.js().length&&t.getVisible()?t.ds().al().y+(null!==(n=i.bottom)&&void 0!==n?n:10)+(null!==(r=i.top)&&void 0!==r?r:10):0},rd=function(t,i,n,r,e){var o,s=e&&e.left?e.left:0,u=e&&e.right?e.right:0,a={x:50,y:100-n.y*(r.top+(null!==(o=i.top)&&void 0!==o?o:10))};t.Ee(a).wf({x:0,y:1}).Ks({top:0,bottom:0,right:r.right+(i.right||0)+u,left:r.left+(i.left||0)+s})},ed=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),od=function(){return od=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},od.apply(this,arguments)},sd=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,e,o)||this;return s.YA=da,s.WA=!0,s.XA=!0,s.HA=!0,s.chart=i,s.ZA=r,s.Zn=new Map,s.axisX=i.axisX,s.axisY=i.axisY,s.axisZ=i.axisZ,s}return ed(i,t),i.prototype.Bn=function(t,i,n){var r=null==t?void 0:t.dataPoint;if(r){var e=this.chart.translateCoordinate(i,this.chart.coordsRelative);return od(od({cursorPosition:{resultTable:e,resultTableScale:this.chart.Ud,axisLocation:r}},r),{series:this,axisX:this.chart.getDefaultAxisX(),axisY:this.chart.getDefaultAxisY(),axisZ:this.chart.getDefaultAxisZ()})}},i.prototype.setCursorEnabled=function(t){return this.WA=t,this},i.prototype.getCursorEnabled=function(){return this.WA},i.prototype.setCursorFormattingOverride=function(t){return this.JA=t,this},i.prototype.getCursorFormattingOverride=function(){return this.JA},i.prototype.QA=function(){return this.getCursorEnabled()},i.prototype.setAutoScrollingEnabled=function(t){return this.XA=t,this.chart.qi.vr(),this},i.prototype.getAutoScrollingEnabled=function(){return this.XA},i.prototype.setColorShadingStyle=function(t){return this.YA=t,this.Zn.forEach((function(i,n){return n.KA(t)})),this.ZA.vr(),this},i.prototype.getColorShadingStyle=function(){return this.YA},i.prototype.setDepthTestEnabled=function(t){return this.HA=t,this.Zn.forEach((function(i,n){return n.qA(t)})),this.ZA.vr(),this},i.prototype.getDepthTestEnabled=function(){return this.HA},i.prototype.$A=function(){},i.prototype.Le=function(){},i.prototype.tb=function(){},i.prototype.getXMax=function(){var t=this.kf;return t?t.Fn():0},i.prototype.getXMin=function(){var t=this.kf;return t?t.On():0},i.prototype.getYMax=function(){var t=this.kf;return t?t.jn():0},i.prototype.getYMin=function(){var t=this.kf;return t?t.In():0},i.prototype.getZMax=function(){var t=this.kf;return t?t.qr():0},i.prototype.getZMin=function(){var t=this.kf;return t?t.Kr():0},i.prototype.Us=function(){var t=this.kf;return t?a(t.sc(),t.uc(),t.ib()):a(0,0,0)},i}(Ju),ud=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ad=function(t){function i(i,n,r,e,o,s){var u=t.call(this,i,n,r,e,s)||this;return u.yt="Box Series 3D",u.nb=.25,u.rb=!1,u.Ct=new we,u.Oe=Xo(u.en.boxSeries3DFillStyle,o),u.kf=u.ZA.ob().qA(u.HA).Be(u.Oe).eb(u.nb).vn(u.getHighlight()),u.rr(u.kf),u}return ud(i,t),i.prototype.sb=function(){return this.rb},i.prototype.invalidateData=function(t){var i=t.length;if(0===i)return this;this.rb&&this.chart.qi.qa(gf.aa);var n,r=t[0];if(!r)return this;if("xMin"in r||"yMin"in r||"zMin"in r||"xMax"in r||"yMax"in r||"zMax"in r){n=[];for(var e=0;e<i;e+=1){var o=t[e],s="xMin"in o&&"xMax"in o,u="yMin"in o&&"yMax"in o,a="zMin"in o&&"zMax"in o;n[e]={color:o.color,value:o.value,id:o.id,xCenter:s?(o.xMin+o.xMax)/2:void 0,yCenter:u?(o.yMin+o.yMax)/2:void 0,zCenter:a?(o.zMin+o.zMax)/2:void 0,xSize:s?o.xMax-o.xMin:void 0,ySize:u?o.yMax-o.yMin:void 0,zSize:a?o.zMax-o.zMin:void 0}}}else n=t;return this.kf.ub(n.slice()),this.chart.qi.vr(),this.rb=!0,this},i.prototype.clear=function(){return this.kf.Sn(),this.rb=!1,this.chart.qi.vr(),this},i.prototype.setFillStyle=function(t){return this.Oe="function"==typeof t?t(this.Oe):t,this.kf.Be(t),this.chart.qi.vr(),this},i.prototype.getFillStyle=function(){return this.Oe},i.prototype.setRoundedEdges=function(t){return void 0!==t&&isNaN(t)&&(console.error("'BoxSeries3D.setRoundedEdges | NaN was supplied.'"),t=void 0),this.nb=void 0!==t?ro(t,0,1):void 0,this.kf.eb(this.nb),this.ZA.vr(),this},i.prototype.getRoundedEdges=function(){return this.nb},i.prototype.ab=function(){return this.XA&&this.getVisible()},i.prototype.ze=function(t,i){t.vn(i),this.chart.qi.vr()},i.prototype.Mr=function(){return Uo(this.Oe,this.kf.an())},i.prototype.Le=function(){t.prototype.Le.call(this),this.kf.ds(!1)},i.prototype.Pe=function(){return{fill:this.Oe}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(sd),hd=function(t){if(ka(t)){var i=t.getThickness(),n=t.getFillStyle();if(Ou(n))return 1===i?pa:new ma({size:i,fillStyle:n,shape:"sphere"})}return pa},fd={UserSeries:{type:"ApplicationType",args:{type:"UserSeries"}},InternalUI:{type:"ApplicationType",args:{type:"InternalUI"}}},cd=function(){function t(t,i,n,r,e,o,s,u,a,h){this.S=0,this.Zi=!0,this.Hi=!1,this.Xi=!0,this.Ct=new we,this.vr=t,this.hb=i,this.fb=n,this.cb=r,this.lb=e,this.yb=o,this.Jv=s,this.Ab=u,this.bb=a,this.zu=h}return t.prototype.setValue=function(t){return t===this.S||(this.S=t,this.vr(),this.Ct.Tt("valuechange",{value:this.S})),this},t.prototype.getValue=function(){return this.S},t.prototype.setTickStyle=function(t){return this.fb="function"==typeof t?t(this.fb):t,this.vr(),this},t.prototype.getTickStyle=function(){return this.fb},t.prototype.setTickLength=function(t){return this.cb=t,this.vr(),this},t.prototype.getTickLength=function(){return this.cb},t.prototype.setGridStrokeStyle=function(t){return this.lb="function"==typeof t?t(this.lb):t,this.vr(),this},t.prototype.getGridStrokeStyle=function(){return this.lb},t.prototype.setTextPadding=function(t){return this.yb=t,this.vr(),this},t.prototype.getTextPadding=function(){return this.yb},t.prototype.setTextRotation=function(t){return this.Jv=t,this.vr(),this},t.prototype.getTextRotation=function(){return this.Jv},t.prototype.setTextFillStyle=function(t){return this.Ab="function"==typeof t?t(this.Ab):t,this.vr(),this},t.prototype.getTextFillStyle=function(){return this.Ab},t.prototype.setTextFont=function(t){return this.bb="function"==typeof t?t(this.bb):t,this.vr(),this},t.prototype.getTextFont=function(){return this.bb},t.prototype.setTextFormatter=function(t){return this.zu=t,this.vr(),this},t.prototype.dispose=function(){return this.Hi||(this.Hi=!0,this.hb(),this.vr(),this.Ct.Tt("dispose",{})),this},t.prototype.isDisposed=function(){return this.Hi},t.prototype.setVisible=function(t){var i=this.Zi!==t;return this.Zi=t,i&&(this.Ct.Tt("visiblechange",{isVisible:this.Zi}),this.vr()),this},t.prototype.getVisible=function(){return this.Zi},t.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},t.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},t.prototype.setPointerEvents=function(t){return this.Xi=t,this.vr(),this},t.prototype.getPointerEvents=function(){return this.Xi},t}(),ld=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vd=function(){return vd=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},vd.apply(this,arguments)},dd=function(t){function i(i,n,r,e,o,s,u,a,h,f,c,l,v){var d=t.call(this,i,n,r,e,o,s,u,a,h,f)||this;return d.eA=c,d.oA=l,d.yu=v,d}return ld(i,t),i.prototype.setBackgroundFillStyle=function(t){return this.eA="function"==typeof t?t(this.eA):t,this.vr(),this},i.prototype.getBackgroundFillStyle=function(){return this.eA},i.prototype.setBackgroundStrokeStyle=function(t){return this.oA="function"==typeof t?t(this.oA):t,this.vr(),this},i.prototype.getBackgroundStrokeStyle=function(){return this.oA},i.prototype.setPadding=function(t){return this.yu="number"==typeof t?{left:t,top:t,right:t,bottom:t}:vd(vd({},this.yu),t),this.vr(),this},i.prototype.getPadding=function(){return this.yu},i}(cd),yd=function(){return yd=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},yd.apply(this,arguments)},Ad=function(){function t(t,i,n,r){this.pb=[],this.mb=new Map,this.gb=t,this.xb=i,this.Sb=n,this.tb=r}return t.prototype.Iy=function(){var t=this;this.Sb&&this.Sb();var i=[];return{add:function(t,n){i.push({instanceUniqueProperties:t,instanceSharedProperties:n})},finishPlot:function(){var n=[],r=[];i.forEach((function(t){var i=n.find((function(i){return function(t,i){var n,r,e=Object.keys(t);try{for(var o=We(e),s=o.next();!s.done;s=o.next()){var u=s.value;if(t[u]!==i[u])return!1}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!0}(i.sharedProperties,t.instanceSharedProperties)}));i?i.instances.push(t.instanceUniqueProperties):n.push({sharedProperties:t.instanceSharedProperties,instances:[t.instanceUniqueProperties]})}));var e=t.pb.slice(),o=[];n.forEach((function(i){var n=e.shift();n||(n=t.gb(),t.pb.push(n));var s=[],u=n.wb().slice();i.instances.forEach((function(t){var i=u.shift();s.push(yd(yd({},t),{existingMember:i}))}));var a=t.xb(n,s,i.sharedProperties);r=No(r,a,{canReturnB:!0});for(var h=0;h<i.instances.length;h+=1)o.push({nn:i.instances[h].nn,collection:n,member:a[h]});u.forEach((function(t){null==n||n.Dv(t)}))})),e.forEach((function(i){i.dispose();var n=t.pb.indexOf(i);n<0?Ho(0,(function(){})):t.pb.splice(n,1)})),o.forEach((function(i){var n=t.mb.get(i.nn);n&&i.collection.qi.Ah({entity:n.collection,collectionMember:n.member},{entity:i.collection,collectionMember:i.member})})),t.mb.clear(),o.forEach((function(i){t.mb.set(i.nn,i)})),t.tb&&t.tb(t.pb,r)}}},t.prototype.Dy=function(){this.pb.forEach((function(t){t.dispose()})),this.pb.length=0},t}(),bd=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pd=function(){return pd=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},pd.apply(this,arguments)},md=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},gd=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},xd=function(i){function n(t,n,r,e,o,s,u,a,h){var f=i.call(this,t,n,r,e,a,{numeric:n.Mb({x:t.qi.en.xAxis3DNumericTicks,y:t.qi.en.yAxis3DNumericTicks,z:t.qi.en.zAxis3DNumericTicks}),datetime:n.Mb({x:t.qi.en.xAxis3DDateTimeTicks,y:t.qi.en.yAxis3DDateTimeTicks,z:t.qi.en.zAxis3DDateTimeTicks}),time:n.Mb({x:t.qi.en.xAxis3DTimeTicks,y:t.qi.en.yAxis3DTimeTicks,z:t.qi.en.zAxis3DTimeTicks})},{type:"linear"})||this;f.md=[],f.Ct=new we,f.chart=t,f.ZA=o,f.Cb=s,f.Tb=u,f.kb=f.ZA.Yi;var c=f.Po.Mb({x:f.en.xAxis3DStrokeStyle,y:f.en.yAxis3DStrokeStyle,z:f.en.zAxis3DStrokeStyle});return f._b=f.ZA.Fb([fd.InternalUI],void 0).Ye(c).Ob(hd(c)).setPointerEvents(!1),f._o=f.Cb.$s(f.Tb).setPointerEvents(!1).Be(n.Mb({x:t.qi.en.xAxis3DTitleFillStyle,y:t.qi.en.yAxis3DTitleFillStyle,z:t.qi.en.zAxis3DTitleFillStyle})).qo(n.Mb({x:t.qi.en.xAxis3DTitleFont,y:t.qi.en.yAxis3DTitleFont,z:t.qi.en.zAxis3DTitleFont})).Lh(3),f.Ib=new jv((function(){return f.Cb.$s(f.Tb).Lh(2).qs(os).Ks(os)})),f.jb=new Ad((function(){return f.Cb.Bb(f.Tb).setPointerEvents(!1).Lh(1)}),(function(t,i,n){return t.Be(n.fillStyle).je(n.strokeStyle),i.map((function(i){var n=i.positions,r=i.existingMember||t.pa();return r.rc(n),r}))})),f.Db=new Ad((function(){return f.ZA.ly().setPointerEvents(!1)}),(function(t,i,n){return t.Sn().Ye(n.lineStyle),i.map((function(i){var n=i.positions;return i.existingMember||t.Wf(n)}))})),f.Qn=h,f.ns=f.Qn.Zd([f._o]).lr(e.effectsText),r.Ed=f,f}return bd(n,i),n.prototype.setTickStrategy=function(t,n){return i.prototype.Ro.call(this,t,n)},n.prototype.getTickStrategy=function(){return this.ao},n.prototype.addCustomTick=function(){var t=this,i=new dd((function(){return t.chart.qi.vr()}),(function(){var n=t.md.indexOf(i);n>=0&&t.md.splice(n,1)}),this.en.xAxis3DNumericTicks.majorTickStyle.tickStyle,this.en.xAxis3DNumericTicks.majorTickStyle.tickLength,this.en.xAxis3DNumericTicks.majorTickStyle.gridStrokeStyle,this.en.xAxis3DNumericTicks.majorTickStyle.tickPadding,this.en.xAxis3DNumericTicks.majorTickStyle.labelRotation,this.en.xAxis3DNumericTicks.majorTickStyle.labelFillStyle,this.en.xAxis3DNumericTicks.majorTickStyle.labelFont,(function(i){return t.formatValue(i)}),Cu,Pe,{left:4,right:4,top:4,bottom:4});return this.md.push(i),this.chart.qi.vr(),i},n.prototype.getCustomTicks=function(){return function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}([],md(this.md),!1)},n.prototype.setStrokeStyle=function(t){return this._b.Ye(t).Ob(hd(this._b.Nu())),this.chart.qi.vr(),this},n.prototype.getStrokeStyle=function(){return this._b.Nu()},n.prototype.setVisible=function(t){return i.prototype.setVisible.call(this,t),this._b.setVisible(t),!1===t&&(this.Db.Dy(),this.Ib.Dy(),this.jb.Dy()),this.ZA.vr(),this},n.prototype.iy=function(){return this.chart.getSeries()},n.prototype.Zs=function(t,i,n){var r=Math.abs(this.Yi.Nt(Math.abs(i-t))*this.ZA.Lb(1));return{start:t+n.start*r*Math.sign(t-i),end:i+n.end*r*Math.sign(i-t)}},n.prototype.ps=function(t){var i=this,n=this.kb,r=a(n.x.Gt(),n.y.Gt(),n.z.Gt()),e=this.Po.Eb(t.cameraDirection),s=e.gridlinePositionA,u=e.gridlinePositionB,h=e.gridlinePositionC,f=function(t){return{x:-1===t.x?i.kb.x.getInnerStart():1===t.x?i.kb.x.getInnerEnd():0,y:-1===t.y?i.kb.y.getInnerStart():1===t.y?i.kb.y.getInnerEnd():0,z:-1===t.z?i.kb.z.getInnerStart():1===t.z?i.kb.z.getInnerEnd():0}},c=f(s),l=f(u),v=f(h),d=this.Po.Gv,y=js(t.start,t.end,.5),A=ys.addVec(y,ys.multiplyVec(ys.multiply(d,-1),r)),b=this.ZA.Pb(y)||o(0,0),p=this.ZA.Pb(A)||o(0,0);return{center:y,wuSize:r,tickDirection3D:d,tickDirection2D:Vs(Ws(ee(b,this.chart.qi.Yi,this.Tb),ee(p,this.chart.qi.Yi,this.Tb))),gridlinePositionA:c,gridlinePositionB:l,gridlinePositionC:v}},n.prototype.ws=function(t,i,n,r,e){var o=this.zb(e,t,i.so.tickLength,i.so.tickPadding);return pd(pd({},o),{keyValue:t,tickLevel:i,labelText:n,labelOffset:{x:0,y:0},labelRotation:i.so.labelRotation})},n.prototype.Fs=function(t,i){var n=new Sd(i,t,this.Cb,this.Tb,this.ZA);return n.ls.Lh(0),n},n.prototype.Ts=function(t,i,n){return{ticksInfo:i,updatedTicks:n}},n.prototype.Fo=function(){return this.Tb},n.prototype.zb=function(t,i,n,r){var e=t.wuSize,s=t.start,u=t.end,a=t.tickDirection3D,h=t.tickDirection2D,f=(i-this.Yi.getInnerStart())/(this.Yi.getInnerEnd()-this.Yi.getInnerStart()),c=ys.addVec(js(s,u,f),ys.multiplyVec(ys.multiply(a,this.ZA.Lb(.5*this._b.Nu().getThickness())),e)),l=ys.addVec(c,ys.multiplyVec(ys.multiply(a,this.ZA.Lb(n)),e)),v=this.ZA.Pb(l)||o(0,0);return{labelPosition:Ys(ee(v,this.chart.qi.Yi,this.Tb),Us(h,r)),labelAlignment:{x:-h.x,y:-h.y},posTickEnd3D:l,posTickStart3D:c,tickPositionRelative:f}},n.prototype.Nb=function(t,i,n){var r=i.wuSize,e=i.start,s=i.end,u=i.tickDirection3D,a=(t-this.Yi.getInnerStart())/(this.Yi.getInnerEnd()-this.Yi.getInnerStart()),h=ys.addVec(js(e,s,a),ys.multiplyVec(ys.multiply(u,this.ZA.Lb(.5*this._b.Nu().getThickness())),r)),f=ys.addVec(h,ys.multiplyVec(ys.multiply(u,this.ZA.Lb(10)),r)),c=this.ZA.Pb(h)||o(0,0),l=this.ZA.Pb(f)||o(0,0);return this.Cb.We(this.Tb).He(c).Xe(l).Ye(new Ta({fillStyle:new _u({color:Tr(120*n)}),thickness:1}))},n.prototype.Ws=function(t,i){return wd(t,i,this.Yi)},n.prototype.Vb=function(t){var i,n,r=this.kb;this.Rb()?(i=a(r.x.getInnerEnd(),r.y.getInnerStart(),r.z.getInnerStart()),n=a(r.x.getInnerEnd(),r.y.getInnerStart(),r.z.getInnerEnd())):(i=a(r.x.getInnerStart(),r.y.getInnerStart(),r.z.getInnerStart()),n=this.Po.Gb(a(r.x.getInnerEnd(),r.y.getInnerEnd(),r.z.getInnerEnd()),i));var e=this.ZA.Pb(i)||o(0,0),s=this.ZA.Pb(n)||o(0,0);return{cameraDirection:t,physicalAxisSize:Gs(Ws(e,s)),start:i,end:n,start2D:e,end2D:s}},n.prototype.Le=function(i){var n,r,e,s,u=this;if(this.Zi){var a=Math.min(this.Go,this.Uo),h=Math.max(this.Go,this.Uo);this._b.Sn().Wf([i.start,i.end]);var f=this.Db.Iy();try{for(var c=gd(this.ho),l=c.next();!l.done;l=c.next()){var v=md(l.value,2),d=v[0],y=v[1];try{for(var A=(e=void 0,gd(y)),b=A.next();!b.done;b=A.next()){var p=md(b.value,2)[1],m=i.ticksInfo.get(p);if(m){var g=this.Ub(i,m);f.add({nn:0,positions:[g.tickStroke.start,g.tickStroke.end]},{lineStyle:d.so.tickStyle}),g.gridStroke&&f.add({nn:0,positions:g.gridStroke},{lineStyle:d.so.gridStrokeStyle}),p.ls.Ee(m.labelPosition).wf(m.labelAlignment).$o(m.labelRotation).Af(m.labelOffset.x,m.labelOffset.y)}}}catch(t){e={error:t}}finally{try{b&&!b.done&&(s=A.return)&&s.call(A)}finally{if(e)throw e.error}}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}var x=this.Ib.Iy(),S=this.jb.Iy(),w={x:0,y:0};this.md.forEach((function(n){if(!(!n.Zi||n.S<a||n.S>h)){var r=u.zb(i,n.S,n.cb,n.yb),e=u.Ub(i,r);if(n.Ab!==Cu){var o=x.add().Ee(r.labelPosition).wf(r.labelAlignment).Be(n.Ab).qo(n.bb).Os(n.zu(n.S)).$o(n.Jv).setPointerEvents(n.Xi);o.ko=n.ko;var s=o.ds().ai();if(w.x=Math.max(w.x,s.x),w.y=Math.max(w.y,s.y),n.eA!==Cu){var c=o.ol(),l=[{x:c.min.x-n.yu.left,y:c.max.y+n.yu.top},{x:c.max.x+n.yu.right,y:c.max.y+n.yu.top},{x:c.max.x+n.yu.right,y:c.min.y-n.yu.bottom},{x:c.min.x-n.yu.left,y:c.min.y-n.yu.bottom}];S.add({nn:0,positions:l},{fillStyle:n.eA,strokeStyle:n.oA}),u.Cb.qi.sl&&n.ko===t.TextObjectIdentifier.CursorTickMarker&&u.Cb.qi.sl.xy(pd(pd({},u.Cb.qi.jh(c.min,c.max,o.Yi,n.yu)),{blacklist:[t.TextObjectIdentifier.CursorTickMarker]}))}}f.add({nn:0,positions:[e.tickStroke.start,e.tickStroke.end]},{lineStyle:n.fb}),e.gridStroke&&f.add({nn:0,positions:e.gridStroke},{lineStyle:n.lb})}})),x.finishPlot(),S.finishPlot(),f.finishPlot();var M=this.Ps((function(t,i){var n=i.ls.ds().ai();return t.x=Math.max(t.x,n.x),t.y=Math.max(t.y,n.y),t}),{x:w.x,y:w.y}),C=Math.atan((i.end2D.y-i.start2D.y)/(i.end2D.x-i.start2D.x));this._o.wf({x:0,y:0}).$o(180*-C/Math.PI);var T=ys.addVec(i.center,ys.multiplyVec(ys.multiply(i.tickDirection3D,this.ZA.Lb(.5*this._b.Nu().getThickness()+this.Ns((function(t,i){return Math.max(t,i.tickLength)}),0))),i.wuSize)),k=this.ZA.Pb(T)||o(0,0),_=Ys(ee(k,this.chart.qi.Yi,this.Tb),Ys(Ys(Xs(M,i.tickDirection2D),Us(i.tickDirection2D,this.Ns((function(t,i){return Math.max(t)}),0))),Xs(Us(this._o.ds().ai(),.5),i.tickDirection2D)));this._o.Ee(_)}},n.prototype.Ub=function(t,i){var n,r=t.gridlinePositionA,e=t.gridlinePositionB,o=t.gridlinePositionC,s=i.posTickStart3D,u=i.posTickEnd3D,a=i.tickPositionRelative;return no(a,0)||no(a,1)||(n=[this.Yb()?pd(pd({},r),{x:s.x}):this.Wb()?pd(pd({},r),{y:s.y}):this.Rb()?pd(pd({},r),{z:s.z}):{x:0,y:0,z:0},this.Yb()?pd(pd({},e),{x:s.x}):this.Wb()?pd(pd({},e),{y:s.y}):this.Rb()?pd(pd({},e),{z:s.z}):{x:0,y:0,z:0},this.Yb()?pd(pd({},o),{x:s.x}):this.Wb()?pd(pd({},o),{y:s.y}):this.Rb()?pd(pd({},o),{z:s.z}):{x:0,y:0,z:0}]),{gridStroke:n,tickStroke:{start:s,end:u}}},n.prototype.Xb=function(t){var i=this.Go,n=this.Uo,r=.01*t*(n-i),e=i+r,o=n+r;this.hs(e,o,{allowIntervalLengthChange:!1,skipIntervalRestriction:!1})},n.prototype.Hb=function(t,i,n){if(0!==i){n<0&&(i*=-1,n*=-1);var r=this.Uo-this.Go,e=r*(i>=1?1+.02*n:1-.02*n)-r;"centered"===t?this.hs(this.Go+e/2,this.Uo-e/2,{allowIntervalLengthChange:!0,skipIntervalRestriction:!1}):"keep-start"===t?this.hs(this.Go,this.Uo-e/2,{allowIntervalLengthChange:!0,skipIntervalRestriction:!1}):"keep-end"===t&&this.hs(this.Go+e/2,this.Uo,{allowIntervalLengthChange:!0,skipIntervalRestriction:!1})}},n.prototype.rs=function(){i.prototype.rs.call(this),this.Db.Dy(),this.Ib.Dy(),this.jb.Dy()},n.prototype.Yb=function(){return this.Po.Yb()},n.prototype.Wb=function(){return this.Po.Wb()},n.prototype.Rb=function(){return this.Po.Rb()},n.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},n.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},n.prototype.setPointerEvents=function(t){return this.Ct.setPointerEvents(t),this},n.prototype.getPointerEvents=function(){return this.Ct.getPointerEvents()},n}(ef),Sd=function(t){function i(i,n,r,e,o,s){var u=t.call(this,i,n,r,e,s)||this;return u.Zb=o,u}return bd(i,t),i}(of),wd=function(t,i,n){return ro(t+.1*(i-t)+Math.abs(n.Gt())/100*Math.sign(i-t),Math.min(t,i),Math.max(t,i))},Md=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Cd=function(t,i,n,r){return{Vs:function(n){var r,e,o,s=t();try{for(var u=Md(s),a=u.next();!a.done;a=u.next()){var h=a.value;if(h.ab()){var f=i(h,n);o=void 0===f?o:void 0!==o?Math.min(o,f):f}}}catch(t){r={error:t}}finally{try{a&&!a.done&&(e=u.return)&&e.call(u)}finally{if(r)throw r.error}}return o},Rs:function(i){var r,e,o,s=t();try{for(var u=Md(s),a=u.next();!a.done;a=u.next()){var h=a.value;if(h.ab()){var f=n(h,i);o=void 0===f?o:void 0!==o?Math.max(o,f):f}}}catch(t){r={error:t}}finally{try{a&&!a.done&&(e=u.return)&&e.call(u)}finally{if(r)throw r.error}}return o},Us:function(){var i,n,e,o=t();try{for(var s=Md(o),u=s.next();!u.done;u=s.next()){var a=u.value;if(a.ab()){var h=r(a);e=void 0===h?e:void 0!==e?Math.max(e,h):h}}}catch(t){i={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return e}}},Td=function(){return Td=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Td.apply(this,arguments)},kd=function(t){return Td(Td({},Cd(t,(function(t){return t.getYMin()}),(function(t){return t.getYMax()}),(function(t){return t.Us().y}))),{Mb:function(t){return t.y},Gb:function(t,i){return{x:i.x,y:t.y,z:i.z}},Gv:a(-1,0,0),Eb:function(t){var i={x:t.x>=0?1:-1,y:t.y>=0?1:-1,z:t.z>=0?1:-1};return{gridlinePositionA:a(i.x,0,i.z),gridlinePositionB:a(i.x,0,-i.z),gridlinePositionC:a(-i.x,0,-i.z)}},Yb:function(){return!1},Wb:function(){return!0},Rb:function(){return!1}})},_d=function(t){return Td(Td({},Cd(t,(function(t){return t.getZMin()}),(function(t){return t.getZMax()}),(function(t){return t.Us().z}))),{Mb:function(t){return t.z},Gb:function(t,i){return{x:i.x,y:i.y,z:t.z}},Gv:a(1,0,0),Eb:function(t){var i={x:t.x>=0?1:-1,y:t.y>=0?1:-1,z:t.z>=0?1:-1};return{gridlinePositionA:a(i.x,-i.y,0),gridlinePositionB:a(i.x,i.y,0),gridlinePositionC:a(-i.x,i.y,0)}},Yb:function(){return!1},Wb:function(){return!1},Rb:function(){return!0}})},Od=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fd=function(){return Fd=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Fd.apply(this,arguments)},Id=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.rb=!1,s.Ct=new we,s}return Od(i,t),i.prototype.sb=function(){return this.getPointAmount()>0},i.prototype.setStrokeStyle=function(t){this.Hc="function"==typeof t?t(this.Hc):t;var i=this.Hc;return this.kf.Ye(i),this.ZA.vr(),this},i.prototype.getStrokeStyle=function(){return this.Hc},i.prototype.add=function(t){return this.rb&&this.chart.qi.qa(gf.aa),this.rb=!0,(t=Array.isArray(t)?t:[t])?(this.kf.Wf(t.slice()),this.ZA.vr(),this):this},i.prototype.clear=function(){return this.kf.Sn(),this},i.prototype.getPointAmount=function(){var t=this.kf;return t.Xf()+t.Hf()},i.prototype.ab=function(){return this.XA&&this.getPointAmount()>0&&this.getVisible()},i.prototype.ze=function(t,i){t.vn(i),this.ZA.vr()},i.prototype.Pe=function(){return{stroke:this.Hc}},i.prototype.Mr=function(){return Uo(this.Hc.getFillStyle(),this.kf.an())},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(sd),jd=function(t){function i(i,n,r,e,o,s,u){var a=t.call(this,i,n,r,e,s)||this;a.yt="Line Series 3D",a.Hc=Xo(e.lineSeries3DStrokeStyle,o),a.Jb=Nf.pointStyle3D,a.Qb(a.Hc);var h=Fd({individualLookupValuesEnabled:!1},u);return a.kf=a.ZA.Fb([fd.UserSeries],h).qA(a.HA).Ye(a.Hc).Ob(a.Jb).vn(a.getHighlight()),a.rr(a.kf),a}return Od(i,t),i.prototype.setStrokeStyle=function(i){t.prototype.setStrokeStyle.call(this,i),this.Qb(this.Hc);var n=this.Jb;return this.kf.Ob(n),this},i.prototype.Qb=function(t){var i=new wa.Triangulated({shape:"sphere",fillStyle:t.getFillStyle(),size:t.getThickness()});this.Jb=i},i}(Id),Bd=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dd=function(){return Dd=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Dd.apply(this,arguments)},Ld=function(t){function i(i,n,r,e,o,s,u){var a=t.call(this,i,n,r,e,s)||this;a.yt="Point Line Series 3D",a.Jb=Xo(e.pointLineSeries3DPointStyle,o),a.Hc=Xo(e.lineSeries3DStrokeStyle,o),a.Kb();var h=Dd({individualLookupValuesEnabled:!1},u);return a.kf=a.ZA.Fb([fd.UserSeries],h).qA(a.HA).Ye(a.Hc).Ob(a.Jb).vn(a.getHighlight()),a.rr(a.kf),a}return Bd(i,t),i.prototype.setPointStyle=function(t){return this.Jb="function"==typeof t?t(this.Jb):t,this.Kb(),this.kf.Ob(this.Jb),this.ZA.vr(),this},i.prototype.getPointStyle=function(){return this.Jb},i.prototype.setStrokeStyle=function(i){t.prototype.setStrokeStyle.call(this,i);var n=this.Hc,r=Math.abs(n.getThickness()),e=this.Jb,o=e.getSize();r>("object"==typeof o?Math.max(o.x,o.y,o.z):o)&&(this.Jb=e.setSize(r)),this.Kb();var s=this.Jb;return this.kf.Ob(s),this.ZA.vr(),this},i.prototype.Mr=function(){return Uo(this.Hc.getFillStyle(),this.kf.an())||Uo(this.Jb.getFillStyle(),this.kf.an())},i.prototype.Kb=function(){var t=this.Jb,i=t.getSize();this.Jb=t.setSize(i)},i.prototype.ze=function(t,i){t.vn(i),this.ZA.vr()},i}(Id),Ed=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pd=function(){return Pd=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Pd.apply(this,arguments)},zd=function(t){function i(i,n,r,e,o,s){var u=t.call(this,i,n,r,e,o)||this;return u.rb=!1,u.Ct=new we,((null==s?void 0:s.individualPointSizeAxisEnabled)||(null==s?void 0:s.individualPointSizeEnabled))&&u.chart.qi.qa(gf.ha),u}return Ed(i,t),i.prototype.sb=function(){return this.getPointAmount()>0},i.prototype.add=function(t){return this.rb&&this.chart.qi.qa(gf.aa),this.rb=!0,(t=Array.isArray(t)?t:[t])?(this.kf.Wf(t.slice()),this.ZA.vr(),this):this},i.prototype.clear=function(){return this.kf.Sn(),this},i.prototype.getPointAmount=function(){var t=this.kf;return t.Xf()+t.Hf()},i.prototype.ab=function(){return this.XA&&this.getPointAmount()>0&&this.getVisible()},i.prototype.ze=function(t,i){t.vn(i),this.ZA.vr()},i.prototype.Pe=function(){return{point3D:this.qb}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(sd),Nd=function(t){function i(i,n,r,e,o,s){var u=t.call(this,i,n,r,e,o,s)||this;u.yt="Point Series 3D";var a=void 0!==(null==s?void 0:s.automaticColorIndex)?s.automaticColorIndex:u.chart.getSeries().length;u.qb=Xo(e.pointSeries3DPointStyle,a);var h=Pd({individualPointColorEnabled:!1,individualPointSizeEnabled:!1,individualLookupValuesEnabled:!1,individualPointSizeAxisEnabled:!1},s);return u.kf=u.ZA.tp(h).qA(u.HA).$b(u.qb).vn(u.getHighlight()),u.rr(u.kf),u}return Ed(i,t),i.prototype.setPointStyle=function(t){this.qb="function"==typeof t?t(this.qb):t;var i=this.qb;return this.kf.$b(i),this.ZA.vr(),this},i.prototype.getPointStyle=function(){return this.qb},i.prototype.Mr=function(){return Uo(this.qb.getFillStyle(),this.kf.an())},i}(zd),Vd=function(t){function i(i,n,r,e,o,s){var u=t.call(this,i,n,r,e,o,s)||this;u.yt="Point Cloud Series 3D";var a=u.chart.getSeries().length;u.qb=Xo(e.pointCloudSeries3DPointStyle,a);var h=Pd({individualPointColorEnabled:!1,individualPointSizeEnabled:!1,individualLookupValuesEnabled:!1,individualPointSizeAxisEnabled:!1},s);return u.kf=u.ZA.tp(h).$b(u.qb).vn(u.getHighlight()),u.rr(u.kf),u}return Ed(i,t),i.prototype.setPointStyle=function(t){this.qb="function"==typeof t?t(this.qb):t;var i=this.qb;return this.kf.$b(i),this.ZA.vr(),this},i.prototype.getPointStyle=function(){return this.qb},i.prototype.Mr=function(){return Uo(this.qb.getFillStyle(),this.kf.an())},i}(zd),Rd={Triangulated:Nd,Pixelated:Vd},Gd=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ud=function(t){function i(i,n,r,e,o,s,u,a,h,f,c,l){var v=t.call(this,i,n,r,e,o,s,u,a,h,f,c,l)||this;return v.ip=[],v.np=0,v.rp=function(t){var i=v.ip.indexOf(t);i>=0&&(v.ip.splice(i,1),v.Ct.Tt("seriesdispose",{series:t}))},v.seriesBackground=new we,v.ep=v.Qn.Zd(),v}return Gd(i,t),i.prototype.setAnimationsEnabled=function(i){return t.prototype.setAnimationsEnabled.call(this,i),this.ip.forEach((function(t){return t.setAnimationHighlight(i)})),this},i.prototype.op=function(t,i){this.ep.er([i]),this.seriesBackground.xn(t)},i.prototype.setSeriesBackgroundFillStyle=function(t){return this.sp.Be(t),this.qi.vr(),this},i.prototype.getSeriesBackgroundFillStyle=function(){return this.sp.Zo()},i.prototype.setSeriesBackgroundStrokeStyle=function(t){return this.up.je(t),this.qi.vr(),this},i.prototype.getSeriesBackgroundStrokeStyle=function(){return this.up.Ch()},i.prototype.setSeriesBackgroundEffect=function(t){return this.ep.lr(t),this.qi.vr(),this},i.prototype.getSeriesBackgroundEffect=function(){return this.ep.dr()},i.prototype.ap=function(t,i){this.ip.push(t),void 0!==this.hp&&t.setHighlightOnHover(this.hp),this.Ct.Tt("seriesadd",{series:t}),this.Ar.forEach((function(n){n.fA()&&null!==(null==i?void 0:i.legend)&&n.Wf(t,null==i?void 0:i.legend)}))},i.prototype.lA=function(){return this.ip},i.prototype.setSeriesHighlightOnHover=function(t){return this.hp=t,this.ip.forEach((function(i){return i.setHighlightOnHover(t)})),this},i.prototype.dispose=function(){return this.ip.slice().forEach(to),t.prototype.dispose.call(this)},i}(id),Yd=ys.normalize({x:-.5610788649579117,y:-.35242840511865414,z:-1.1349149375849081}),Wd=function(){function t(t,i,n,r){this.fp=!0,this.cp=!0,this.lp=2*-Math.PI/2160,this.vp=2*Math.PI/2160,this.dp=.1,this.yp=1*Math.PI/180,this.Ap=t,this.bp=i,this.pp=n,this.Pb=r}return t.prototype.getDefaultCameraConfiguration=function(t,i){var n={direction:Yd,location:ys.multiply(Yd,-1)};return this.cameraLocationChanged({boundingBox:t,cameraDirection:n.direction,cameraLocation:n.location,projection:i})||n},t.prototype.applyCameraInteractions=function(t,i){var n=this,r={direction:t.cameraDirection,location:t.cameraLocation};return i.forEach((function(t){"rotate"===t.type?r=n.mp(r,t):"wheel-zoom"===t.type?r=n.gp(r,t):"rotate+zoom"===t.type?r=n.xp(r,t):"fixed-rotate"===t.type?r=n.Sp(r,t):"move"===t.type&&(r=n.wp(r,t))})),this.fp?r=this.Mp(t.boundingBox,r):this.cp&&(r=this.Cp(t.boundingBox,t.projection,r)),r},t.prototype.mp=function(t,i){var n=i.rotation,r=t.location,e=ys.multiply(ys.normalize(t.location),-1),o=this.Tp(e),s=o.Right,u=o.Up,a=r,h=this.kp(e),f=n.x*this.lp*h;a=ys.rotateAroundAxis(a,u,f);var c=(n.y>0?1:-1)*Math.min(Math.abs(n.y)*this.vp,h-this.yp);return 0!==c&&(a=ys.rotateAroundAxis(a,s,c)),{location:a,direction:ys.multiply(ys.normalize(a),-1)}},t.prototype.gp=function(t,i){var n=i.deltaY;this.fp&&this._p(!1);var r=t.location,e=ys.multiply(ys.normalize(r),-1),o=n*this.dp,s=ys.length(r)*-o;return{direction:e,location:ys.addVec(r,ys.multiply(e,s))}},t.prototype.xp=function(t,i){var n=i.rotation,r=i.cameraDistance;this.fp&&this._p(!1);var e=this.mp(t,{type:"rotate",rotation:n}),o=e.location,s=ys.multiply(ys.normalize(o),-1),u=ys.multiply(s,-r);return{direction:ys.multiply(ys.normalize(u),-1),location:u}},t.prototype.Sp=function(t,i){this.fp&&this._p(!1);var n=i.rotation,r=t.location,e=t.direction,o=this.Tp(e),s=o.Right,u=o.Up,a=n.x*this.lp,h=ys.normalize(ys.rotateAroundAxis(e,u,a)),f=n.y*this.vp;return{location:r,direction:h=ys.normalize(ys.rotateAroundAxis(h,s,f))}},t.prototype.wp=function(t,i){this.fp&&this._p(!1),this.cp=!1;var n=i.amountRight,r=i.amountForward,e=t.location,o=t.direction,s=this.Tp(o).Right;return{location:ys.addVec(e,ys.multiply(o,.01*r),ys.multiply(s,.01*n)),direction:o}},t.prototype.projectionChanged=function(t,i){return this.viewportChanged(t)},t.prototype.boundingBoxChanged=function(t){var i={location:t.cameraLocation,direction:ys.multiply(ys.normalize(t.cameraLocation),-1)};return this.fp?this.Mp(t.boundingBox,i):this.Cp(t.boundingBox,t.projection,i)},t.prototype.cameraLocationChanged=function(t){var i={location:t.cameraLocation,direction:ys.multiply(ys.normalize(t.cameraLocation),-1)};return this.fp?this.Mp(t.boundingBox,i):this.Cp(t.boundingBox,t.projection,i)},t.prototype.viewportChanged=function(t){var i={location:t.cameraLocation,direction:ys.multiply(ys.normalize(t.cameraLocation),-1)};if(this.fp)return this.Mp(t.boundingBox,i)},t.prototype.Mp=function(t,i,n){var r=i;n=void 0!==n?n:0,r=this.Op(t,r,100,20,1,n,5);var e=this.kp(r.direction);return this.Fp(r,this.Ip(t,r,100,1),e)},t.prototype.Op=function(t,i,n,r,e,o,s){var u=this;return Xd(o,s,(function(t){return{direction:i.direction,location:ys.multiply(i.direction,-t)}}),(function(i){return u.jp(t,i)}),n,e,"linear",r)},t.prototype.Ip=function(t,i,n,r){var e=this,o=this.Tp(i.direction),s=o.Right,u=o.Left,a=o.Up,h=o.Down,f=this.Bp(t,!1,i),c=i,l=r,v=.1;return Math.abs(f.bottom-f.top)>l&&(c=f.bottom<f.top?Hd(0,v,(function(t){return{location:c.location,direction:ys.normalize(ys.lerp(c.direction,h,t))}}),(function(i){return e.Dp(t,i)}),0,l,!0,n):Hd(0,v,(function(t){return{location:c.location,direction:ys.normalize(ys.lerp(c.direction,a,t))}}),(function(i){return e.Dp(t,i)}),0,l,!0,n)),Math.abs(f.left-f.right)>l&&(c=f.left<f.right?Hd(0,v,(function(t){return{location:c.location,direction:ys.normalize(ys.lerp(c.direction,u,t))}}),(function(i){return e.Lp(t,i)}),0,l,!0,n):Hd(0,v,(function(t){return{location:c.location,direction:ys.normalize(ys.lerp(c.direction,s,t))}}),(function(i){return e.Lp(t,i)}),0,l,!0,n)),c},t.prototype.jp=function(t,i){var n=this.Bp(t,!0,i);return Math.min(n.left+n.right,n.top+n.bottom)},t.prototype.Lp=function(t,i){var n=this.Bp(t,!1,i);return Math.abs(n.left-n.right)},t.prototype.Dp=function(t,i){var n=this.Bp(t,!1,i);return Math.abs(n.top-n.bottom)},t.prototype.Bp=function(t,i,n){var r=this,e=Bs(this.Ep(t,i,n).map((function(t){return ee(t,r.Ap,r.bp)})));return{left:e.min.x,right:this.bp.x.getInnerEnd()-e.max.x,top:this.bp.y.getInnerEnd()-e.max.y,bottom:e.min.y}},t.prototype.Ep=function(t,i,n){var r=this,e=this.pp,o=a(e.x.getInnerStart(),e.y.getInnerStart(),e.z.getInnerStart()),s=a(e.x.getInnerEnd(),e.y.getInnerEnd(),e.z.getInnerEnd()),u=[],h=i?16:4,f=(o.x+s.x)/2,c=(o.z+s.z)/2,l=Math.sqrt(2)*(s.x-f),v=Math.sqrt(2)*(s.z-c);return[o.y,s.y].forEach((function(t){for(var i=0;i<h;i+=1){var n=Math.PI/4+2*Math.PI*i/h,r=f+Math.cos(n)*l,e=c+Math.sin(n)*v;u.push({x:r,y:t,z:e})}})),u.map((function(t){return r.Pb(t,n)})).filter((function(t){return void 0!==t}))},t.prototype.Cp=function(t,i,n){var r=ys.length(n.location),e=this.Pp(t,i);return r<e.min?{direction:n.direction,location:ys.multiply(n.direction,-e.min)}:r>e.max?{direction:n.direction,location:ys.multiply(n.direction,-e.max)}:n},t.prototype.Pp=function(t,i){return{min:("perspective"===i?.8:.5)*Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2)+Math.pow(t.z,2)),max:3*Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2)+Math.pow(t.z,2))}},t.prototype.Tp=function(t){var i=a(0,1,0),n=ys.normalize(ys.cross(i,ys.multiply(t,-1))),r=ys.cross(n,t);return r.y=Math.abs(r.y),{Right:n,Up:r=ys.normalize(r),Down:ys.multiply(r,-1),Left:ys.multiply(n,-1)}},t.prototype.kp=function(t){var i={x:0,y:1,z:0},n=ys.angle(t,i),r=ys.angle(t,ys.multiply(i,-1));return Math.min(n,r)},t.prototype.Fp=function(t,i,n){return{location:ys.lerp(t.location,i.location,n),direction:ys.normalize(ys.lerp(t.direction,i.direction,n))}},t.prototype._p=function(t){return this.fp=t,this},t.prototype.zp=function(){return this.fp},t}(),Xd=function(t,i,n,r,e,o,s,u){var a,h=0,f=(i+t)/2;do{var c=n(f);if(a={value:f,result:c,score:r(c)},Math.abs(a.score-e)<=o)break;var l=a.score>e;l&&"linear"===s||!l&&"reversed"===s?(f=(a.value+t)/2,i=a.value):(f=(a.value+i)/2,t=a.value),h+=1}while(h<u);return a.result},Hd=function(t,i,n,r,e,o,s,u){var a,h=0,f=t;do{var c=n(f),l=r(c);if(void 0===a||Math.abs(l-e)<Math.abs(a.score-e)){if(a={value:f,result:c,score:r(c)},Math.abs(a.score-e)<=o)break}else if(s)break;h+=1,f+=1/(u-1)*(i-t)}while(h<u);return a.result},Zd=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jd=function(){return Jd=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Jd.apply(this,arguments)},Qd=function(t){function i(i,n,r,e,o,s){var u=t.call(this,i,n,r,o,s)||this;u.yt="Surface Grid Series 3D",u.Np={},u.rb=!1,u.Ct=new we,u.YA=la;var a=void 0!==(null==e?void 0:e.automaticColorIndex)?e.automaticColorIndex:u.chart.getSeries().length;u.Oe=Xo(u.en.surfaceGridSeries3DFillStyle,a),u.Vp=Xo(u.en.surfaceGridSeries3DWireframeStyle,a);var h={heatmapDataType:"intensity",dataOrder:e.dataOrder||"columns",columns:e.columns,rows:e.rows};return u.ih=h,u.kf=u.ZA.Gp(h).Be(u.Oe).Rp(u.Vp).KA(u.YA).vn(u.getHighlight()),u.rr(u.kf),u.setHighlightOnHover(!1),u}return Zd(i,t),i.prototype.sb=function(){return this.rb},i.prototype.Bn=function(t,i,n){var r=null==t?void 0:t.dataPoint;if(r){var e=this.chart.translateCoordinate(i,this.chart.coordsRelative);return Jd(Jd({cursorPosition:{resultTable:e,resultTableScale:this.chart.Ud,axisLocation:r}},r),{series:this,axisX:this.chart.getDefaultAxisX(),axisY:this.chart.getDefaultAxisY(),axisZ:this.chart.getDefaultAxisZ(),lut:Bu(this.Oe)?this.Oe.lut:void 0})}},i.prototype.Pe=function(){return{fill:this.Oe}},i.prototype.Yp=function(){var t,i=this.Np.start||{x:0,z:0};t=this.Np.end?{x:(this.Np.end.x-i.x)/this.ih.columns,z:(this.Np.end.z-i.z)/this.ih.rows}:this.Np.step?this.Np.step:{x:1,z:1},this.kf.Wp(i,t),this.chart.qi.vr()},i.prototype.setStart=function(t){return this.Np.start=t,this.Yp(),this},i.prototype.getStart=function(){return this.kf.Xp().start},i.prototype.setStep=function(t){return this.Np.step=t,this.Yp(),this},i.prototype.getStep=function(){return this.kf.Xp().step},i.prototype.setEnd=function(t){return this.Np.end=t,this.Yp(),this},i.prototype.getEnd=function(){return this.kf.Xp().end},i.prototype.setContours=function(t){var i=this;return this.kf.Hp(t?{valueSource:t.valueSource,levels:t.levels.map((function(t){var n,r;return{value:t.value,strokeStyle:null!==(r=null!==(n=t.strokeStyle)&&void 0!==n?n:i.en.surfaceGridSeriesContourStrokeStyle)&&void 0!==r?r:new Ta({thickness:1,fillStyle:new _u({color:Mr(255,0,0)})})}}))}:void 0),this.ZA.vr(),this},i.prototype.getContours=function(){return this.kf.Zp()},i.prototype.setFillStyle=function(t){return this.Oe="function"==typeof t?t(this.Oe):t,this.kf.Be(this.Oe),this.ZA.vr(),this},i.prototype.getFillStyle=function(){return this.Oe},i.prototype.setWireframeStyle=function(t){return this.Vp="function"==typeof t?t(this.Vp):t,this.kf.Rp(this.Vp),this.ZA.vr(),this},i.prototype.getWireframeStyle=function(){return this.kf.Jp()},i.prototype.setIntensityInterpolation=function(t){return t=t||"disabled",this.kf.Qp(t),this.ZA.vr(),this},i.prototype.getIntensityInterpolation=function(){return this.kf.Kp()},i.prototype.invalidateIntensityValues=function(t){if(this.rb&&this.chart.qi.qa(gf.aa),Array.isArray(t)){if(0===t.length||0===t[0].length)return this;var i={x:t.length,y:t[0].length,columns:"columns"===this.ih.dataOrder?t.length:t[0].length,rows:"rows"===this.ih.dataOrder?t.length:t[0].length},n="columns"===this.ih.dataOrder?this.ih.columns:this.ih.rows,r="columns"===this.ih.dataOrder?this.ih.rows:this.ih.columns;if(i.x>n||i.y>r){if(!0===this.chart.SA.rh){var e="SurfaceGridSeries3D.invalidateIntensityValues intensity matrix overflow.\n    Grid ".concat(this.ih.columns,"x").concat(this.ih.rows,", input ").concat(i.columns,"x").concat(i.rows,".\n    Excess data will be automatically clipped. This can result in sub-optimal performance.");Qe.console.warn(e)}for(var o=[],s=0;s<n;s+=1)o[s]=t[s].slice(0,r);t=o}this.kf.qp({type:"intensity",lengthPrimary:t.length,lengthSecondary:t[0].length,startPrimary:0,startSecondary:0,values:t})}else if("iColumn"in t&&"iRow"in t&&"values"in t){if(0===t.values.length||0===t.values[0].length)return this;i={primary:t.values.length,secondary:t.values[0].length,columns:"columns"===this.ih.dataOrder?t.values.length:t.values[0].length,rows:"rows"===this.ih.dataOrder?t.values.length:t.values[0].length};var u="columns"===this.ih.dataOrder?t.iColumn:t.iRow,a=u+i.primary-1,h="columns"===this.ih.dataOrder?t.iRow:t.iColumn,f=h+i.secondary-1,c=("columns"===this.ih.dataOrder?this.ih.columns:this.ih.rows)-1,l=("columns"===this.ih.dataOrder?this.ih.rows:this.ih.columns)-1;if(u<0||h<0||a>c||f>l){!0===this.chart.SA.rh&&(e="SurfaceGridSeries3D.invalidateIntensityValues intensity matrix overflow.\n    Grid ".concat(this.ih.columns,"x").concat(this.ih.rows,", input ").concat(i.columns,"x").concat(i.rows," starting at [").concat(t.iColumn,",").concat(t.iRow,"].\n    Out of bounds data will be automatically clipped. This can result in sub-optimal performance."),Qe.console.warn(e));var v=Math.max(-u,0),d=Math.max(-h,0),y=Math.max(a-c,0),A=Math.max(f-l,0),b=i.primary-(v+y);if(o=[],0===d&&0===A)for(s=0;s<b;s+=1)o[s]=t.values[v+s];else for(s=0;s<b;s+=1)o[s]=t.values[v+s].slice(d,0===A?void 0:-A);if(0===o.length||0===o[0].length)return this;t={iColumn:t.iColumn,iRow:t.iRow,values:o},u=Math.max(u,0),h=Math.max(h,0)}this.kf.qp({type:"intensity",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:u,startSecondary:h,values:t.values})}return this.ZA.vr(),this.rb=!0,this},i.prototype.invalidateHeightMap=function(t){if(this.rb&&this.chart.qi.qa(gf.aa),Array.isArray(t)){if(0===t.length||0===t[0].length)return this;var i={x:t.length,y:t[0].length,columns:"columns"===this.ih.dataOrder?t.length:t[0].length,rows:"rows"===this.ih.dataOrder?t.length:t[0].length},n="columns"===this.ih.dataOrder?this.ih.columns:this.ih.rows,r="columns"===this.ih.dataOrder?this.ih.rows:this.ih.columns;if(i.x>n||i.y>r){if(!0===this.chart.SA.rh){var e="SurfaceGridSeries3D.invalidateHeightMap height matrix overflow.\n    Grid ".concat(this.ih.columns,"x").concat(this.ih.rows,", input ").concat(i.columns,"x").concat(i.rows,".\n    Excess data will be automatically clipped. This can result in sub-optimal performance.");Qe.console.warn(e)}for(var o=[],s=0;s<n;s+=1)o[s]=t[s].slice(0,r);t=o}this.kf.$p({type:"y",lengthPrimary:t.length,lengthSecondary:t[0].length,startPrimary:0,startSecondary:0,values:t})}else if("iColumn"in t&&"iRow"in t&&"values"in t){if(0===t.values.length||0===t.values[0].length)return this;i={primary:t.values.length,secondary:t.values[0].length,columns:"columns"===this.ih.dataOrder?t.values.length:t.values[0].length,rows:"rows"===this.ih.dataOrder?t.values.length:t.values[0].length};var u="columns"===this.ih.dataOrder?t.iColumn:t.iRow,a=u+i.primary-1,h="columns"===this.ih.dataOrder?t.iRow:t.iColumn,f=h+i.secondary-1,c=("columns"===this.ih.dataOrder?this.ih.columns:this.ih.rows)-1,l=("columns"===this.ih.dataOrder?this.ih.rows:this.ih.columns)-1;if(u<0||h<0||a>c||f>l){!0===this.chart.SA.rh&&(e="SurfaceGridSeries3D.invalidateHeightMap height matrix overflow.\n    Grid ".concat(this.ih.columns,"x").concat(this.ih.rows,", input ").concat(i.columns,"x").concat(i.rows," starting at [").concat(t.iColumn,",").concat(t.iRow,"].\n    Out of bounds data will be automatically clipped. This can result in sub-optimal performance."),Qe.console.warn(e));var v=Math.max(-u,0),d=Math.max(-h,0),y=Math.max(a-c,0),A=Math.max(f-l,0),b=i.primary-(v+y);if(o=[],0===d&&0===A)for(s=0;s<b;s+=1)o[s]=t.values[v+s];else for(s=0;s<b;s+=1)o[s]=t.values[v+s].slice(d,0===A?void 0:-A);if(0===o.length||0===o[0].length)return this;t={iColumn:t.iColumn,iRow:t.iRow,values:o},u=Math.max(u,0),h=Math.max(h,0)}this.kf.$p({type:"y",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:u,startSecondary:h,values:t.values})}return this.ZA.vr(),this.rb=!0,this},i.prototype.setCullMode=function(t){return this.kf.tm("boolean"==typeof t?t?"cull-back":"disabled":t),this},i.prototype.getCullMode=function(){return this.kf.im()},i.prototype.Mr=function(){return Uo(this.Oe,this.kf.an())},i.prototype.$A=function(){},i.prototype.Le=function(){},i.prototype.tb=function(){},i.prototype.ab=function(){return this.XA&&this.getVisible()},i.prototype.ze=function(t,i){t.vn(i),this.ZA.vr()},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(sd),Kd=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qd=function(){return qd=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},qd.apply(this,arguments)},$d=function(t){function i(i,n,r,e,o,s){var u=t.call(this,i,n,r,o,s)||this;u.yt="Surface Grid Series 3D",u.rb=!1,u.Np={},u.Ct=new we,u.chart.qi.qa(gf.aa),u.YA=la;var a=void 0!==(null==e?void 0:e.automaticColorIndex)?e.automaticColorIndex:u.chart.getSeries().length;u.Oe=Xo(u.en.surfaceScrollingGridSeries3DFillStyle,a),u.Vp=Xo(u.en.surfaceScrollingGridSeries3DWireframeStyle,a);var h={heatmapDataType:"intensity",scrollDimension:e.scrollDimension||"columns",columns:e.columns,rows:e.rows};return u.ih=h,u.kf=u.ZA.nm(h).Be(u.Oe).Rp(u.Vp).KA(u.YA).vn(u.getHighlight()),u.rr(u.kf),u.setHighlightOnHover(!1),u}return Kd(i,t),i.prototype.sb=function(){return this.rb},i.prototype.Bn=function(t,i,n){var r=null==t?void 0:t.dataPoint;if(r){var e=this.chart.translateCoordinate(i,this.chart.coordsRelative);return qd(qd({cursorPosition:{resultTable:e,resultTableScale:this.chart.Ud,axisLocation:r}},r),{series:this,axisX:this.chart.getDefaultAxisX(),axisY:this.chart.getDefaultAxisY(),axisZ:this.chart.getDefaultAxisZ(),lut:Bu(this.Oe)?this.Oe.lut:void 0})}},i.prototype.Yp=function(){var t,i=this.Np.start||{x:0,z:0};t=this.Np.step?this.Np.step:{x:1,z:1},this.kf.Wp(i,t),this.chart.qi.vr()},i.prototype.setStart=function(t){return this.Np.start=t,this.Yp(),this},i.prototype.getStart=function(){return this.kf.Xp().start},i.prototype.setStep=function(t){return this.Np.step=t,this.Yp(),this},i.prototype.getStep=function(){return this.kf.Xp().step},i.prototype.setFillStyle=function(t){return this.Oe="function"==typeof t?t(this.Oe):t,this.kf.Be(this.Oe),this.ZA.vr(),this},i.prototype.getFillStyle=function(){return this.Oe},i.prototype.setWireframeStyle=function(t){return this.Vp="function"==typeof t?t(this.Vp):t,this.kf.Rp(this.Vp),this.ZA.vr(),this},i.prototype.getWireframeStyle=function(){return this.kf.Jp()},i.prototype.setIntensityInterpolation=function(t){return t=t||"disabled",this.kf.Qp(t),this.ZA.vr(),this},i.prototype.getIntensityInterpolation=function(){return this.kf.Kp()},i.prototype.clear=function(){return this.kf.Sn(),this.ZA.vr(),this},i.prototype.addValues=function(t){if(!t)return this;var i=t.yValues,n=t.intensityValues;if(!i&&!n)return this;if(i&&0===i.length&&(i=void 0),n&&0===n.length&&(n=void 0),this.rb=!0,i){var r=i[0].length;if(0+r-1>(u="columns"===this.ih.scrollDimension?this.ih.rows:this.ih.columns)-1){if(!0===this.chart.SA.rh){var e="SurfaceScrollingGridSeries3D.addValues input yValues overflow.\nGrid was created with ".concat(u," ").concat("columns"===this.ih.scrollDimension?"rows":"columns",", input yValues have ").concat(r,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");Qe.console.warn(e)}for(var o=[],s=0;s<i.length;s+=1)o[s]=i[s].slice(0,u+1);i=o}}if(n){var u,a=n[0].length;if(0+a-1>(u="columns"===this.ih.scrollDimension?this.ih.rows:this.ih.columns)-1){for(!0===this.chart.SA.rh&&(e="SurfaceScrollingGridSeries3D.addValues intensityValues overflow.\nGrid was created with ".concat(u," ").concat("columns"===this.ih.scrollDimension?"rows":"columns",", input intensityValues have ").concat(a,".\nExcess data will be automatically clipped. This can result in sub-optimal performance."),Qe.console.warn(e)),o=[],s=0;s<n.length;s+=1)o[s]=n[s].slice(0,u+1);n=o}}if(i&&n){var h=i.length,f=n.length;h!==f&&(!0===this.chart.SA.rh&&(e="SurfaceScrollingGridSeries3D.addValues input yValues and intensityValues size does not match.\nyValues: ".concat(h,"\nintensityValues: ").concat(f,"\nData will be automatically clipped according to the smaller supplied sample. This can result in sub-optimal performance."),Qe.console.warn(e)),h>f?i=i.slice(0,f):n=n.slice(0,h))}var c=i?i.length:null==n?void 0:n.length,l=i?i[0].length:null==n?void 0:n[0].length;return this.kf.rm({startPrimary:0,startSecondary:0,lengthPrimary:c,lengthSecondary:l,heightMapValues:i,intensityValues:n}),this.ZA.vr(),this},i.prototype.invalidateValues=function(t){return this.kf.qp(t),this.chart.qi.vr(),this},i.prototype.getSampleCount=function(){return this.kf.om()},i.prototype.setCullMode=function(t){return this.kf.tm("boolean"==typeof t?t?"cull-back":"disabled":t),this},i.prototype.getCullMode=function(){return this.kf.im()},i.prototype.Mr=function(){return Uo(this.Oe,this.kf.an())},i.prototype.$A=function(){},i.prototype.Le=function(){},i.prototype.tb=function(){},i.prototype.ab=function(){return this.XA&&this.getVisible()},i.prototype.ze=function(t,i){t.vn(i),this.ZA.vr()},i.prototype.Pe=function(){return{fill:this.Oe}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(sd),ty=function(t){return!!(t&&"object"==typeof t&&"id"in t&&"chart"in t&&t.chart instanceof Iy)},iy=function(t){return!!(t&&"object"==typeof t&&"x"in t&&"number"==typeof t.x&&"y"in t&&"number"==typeof t.y&&"z"in t&&"number"==typeof t.z)},ny=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ry=function(){return ry=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},ry.apply(this,arguments)},ey=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},oy=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},sy=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},uy=function(t,i){return void 0===i&&(i=/\s+/g),Array.from(t.split(i).map(parseFloat))},ay=function(t){if(t.length<=3)return t;for(var i=new Array,n=1;n<t.length-1;n+=1)i.push(t[0]),i.push(t[n]),i.push(t[n+1]);return i},hy={id:"",ambient:Mr(0,0,0,0),diffuse:Mr(254,204,0),emissive:Mr(0,0,0,0),specular:Mr(255,255,255),specularCoeff:1,opacity:1},fy=function(t){function i(i,n,r,e,o,s){var u=t.call(this,i,n,r,e,s)||this;u.yt="Mesh Model 3D",u.sm=new Float32Array,u.um=new Float32Array,u.am=new Uint16Array,u.Yi={x:1,y:1,z:1},u.hm={x:0,y:0,z:0},u.fm={x:0,y:0,z:0},u.lm={x:0,y:0,z:0},u.vm={w:1,x:0,y:0,z:0},u.dm={x:0,y:0,z:0},u.ym=new Array,u.Am=[],u.If=ms,u.Ct=new we;var a=void 0!==(null==o?void 0:o.automaticColorIndex)?o.automaticColorIndex:u.chart.getSeries().length;return u.kf=u.ZA.bm().qA(u.HA).Be(Xo(u.en.meshModel3DFillStyle||u.en.pointSeriesFillStyle,a)).vn(u.getHighlight()),u.rr(u.kf),u}return ny(i,t),i.prototype.sb=function(){return this.sm.length>0},i.prototype.Bn=function(t,i,n){var r=this,e=this.getFillStyle();return as({series:this,axisX:this.chart.getDefaultAxisX(),axisY:this.chart.getDefaultAxisY(),axisZ:this.chart.getDefaultAxisZ(),lut:Bu(e)?e.lut:void 0},{cursorPosition:0,index:0,x:0,y:0,z:0,value:0,coordAxis:0,coordModel:0},(function(){var n=r.kf.pm(t,i);if(n){var o=r.chart.translateCoordinate(i,r.chart.coordsRelative);return ry(ry({cursorPosition:{resultTable:o,resultTableScale:r.chart.Ud,axisLocation:n.coordAxis}},n.coordAxis),{index:n.index,value:n.value,coordAxis:n.coordAxis,coordModel:n.coordModel,series:r,axisX:r.chart.getDefaultAxisX(),axisY:r.chart.getDefaultAxisY(),axisZ:r.chart.getDefaultAxisZ(),lut:Bu(e)?e.lut:void 0})}}))},i.prototype.setModelGeometry=function(t){for(var i=t.indices,n=t.vertices,r=t.normals,e=bs,o=As,s=bs,u=As,a=bs,h=As,f=0;f<n.length;f+=3){var c=n[f],l=n[f+1],v=n[f+2];e=Math.max(e,c),o=Math.min(o,c),s=Math.max(s,l),u=Math.min(u,l),a=Math.max(a,v),h=Math.min(h,v)}for(this.If={min:{x:o,y:u,z:h},max:{x:e,y:s,z:a}},f=0;f<n.length;f+=3)n[f]-=this.If.min.x,n[f+1]-=this.If.min.y,n[f+2]-=this.If.min.z;this.dm={x:this.If.max.x-this.If.min.x,y:this.If.max.y-this.If.min.y,z:this.If.max.z-this.If.min.z},this.sm=n instanceof Float32Array?n:new Float32Array(n),this.checkedNormals=r&&!Number.isNaN(r[0])?r instanceof Float32Array?r:new Float32Array(r):void 0,this.checkedNormals||this.setColorShadingStyle(la);var d=new Array,y={indexStart:0,count:i.length,useIndexBuffer:!0,offset:0,material:{id:hy.id,diffuse:hy.diffuse,specular:hy.specular,ambient:hy.ambient,emissive:hy.emissive,specularCoeff:hy.specularCoeff,opacity:1}};return d.push(y),this.Am=d,this.kf.gm({vertices:this.sm,normals:this.checkedNormals,indices:i instanceof Uint32Array||i instanceof Uint16Array?i:new Uint16Array(i),modelSize:this.dm,parts:this.Am}),this.chart.qi.vr(),this},i.prototype.xm=function(t){var i,n;if(!t)return this;this.ym=[];var r={id:hy.id,diffuse:hy.diffuse,specular:hy.specular,ambient:hy.ambient,emissive:hy.emissive,specularCoeff:hy.specularCoeff,opacity:1},e=t.split("\n");try{for(var o=ey(e),s=o.next();!s.done;s=o.next()){var u=s.value;if(""!==(u=u.trim())&&!u.startsWith("#")){var a=u.split(/\s+/g);switch(a[0].trim().toLowerCase()){case"ka":var h=uy(u.substring(2).trim()).map((function(t){return 255*t}));r.ambient=Mr(h[0],h[1],h[2]);break;case"ke":h=uy(u.substring(2).trim()).map((function(t){return 255*t})),r.emissive=Mr(h[0],h[1],h[2]);break;case"kd":h=uy(u.substring(2).trim()).map((function(t){return 255*t})),r.diffuse=Mr(h[0],h[1],h[2]);break;case"ks":h=uy(u.substring(2).trim()).map((function(t){return 255*t})),r.specular=Mr(h[0],h[1],h[2]);break;case"d":r.opacity=parseFloat(a[1].trim());break;case"tr":r.opacity=1-parseFloat(a[1].trim());break;case"newmtl":r.diffuse=Mr(255*r.diffuse.r,255*r.diffuse.g,255*r.diffuse.b,255*r.opacity),r.specular=Mr(255*r.specular.r,255*r.specular.g,255*r.specular.b,255*r.opacity),r.emissive=Mr(255*r.emissive.r,255*r.emissive.g,255*r.emissive.b,255*r.opacity),r={id:a[1],diffuse:hy.diffuse,specular:hy.specular,ambient:hy.ambient,emissive:hy.emissive,specularCoeff:hy.specularCoeff,opacity:hy.opacity},this.ym.push(r)}}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return this},i.prototype.setModelMaterial=function(t){var i=this;return t?(this.xm(t),this.setFillStyle(Cu),this.Am?(this.Am.forEach((function(t){var n=i.ym.find((function(i){return i.id.toLowerCase()===t.material.id.toLowerCase()}));n&&(t.material=n)})),this.Am.sort((function(t,i){return i.material.opacity-t.material.opacity})),this.chart.qi.vr(),this):this):this},i.prototype.setModelFromObj=function(t){var i,n;if(!t)return this;var r=new Array,e=new Array,o=new Array,s=new Array,u=new Array,a=new Array,h=new Array,f={indexStart:0,count:0,offset:0,useIndexBuffer:!1,material:{id:hy.id,diffuse:hy.diffuse,specular:hy.specular,ambient:hy.ambient,emissive:hy.emissive,specularCoeff:hy.specularCoeff,opacity:hy.opacity}},c=0,l=0,v=0,d=0,y=0,A=0,b=0,p=bs,m=As,g=bs,x=As,S=bs,w=As,M=t.replace(/\r/g,"").split("\n"),C=function(t){if(""===(t=t.trim())||t.startsWith("#"))return"continue";var i=t.split(/\s+/g),n=0;switch(i[0].trim().toLowerCase()){case"v":var M=uy(t.substring(1).trim()),C=M[0],k=M[1],_=M[2];p=Math.max(p,C),m=Math.min(m,C),g=Math.max(g,k),x=Math.min(x,k),S=Math.max(S,_),w=Math.min(w,_),r.push.apply(r,sy([],oy(M.slice(0,3)),!1)),d=c+=1;break;case"vt":var O=uy(t.substring(2).trim());e.push.apply(e,sy([],oy(O),!1)),y=l+=1;break;case"vn":var F=uy(t.substring(2).trim());o.push.apply(o,sy([],oy(F),!1)),A=v+=1;break;case"usemtl":var I=T.ym.find((function(t){return t.id.toLowerCase()===i[1].toLowerCase()}));b+=h.length>0?f.count:0,f={indexStart:void 0!==f?3*b*2:0,count:0,offset:void 0!==f?1*b:0,useIndexBuffer:!1,material:I||{id:i[1].toLowerCase(),diffuse:hy.diffuse,specular:hy.specular,ambient:hy.ambient,emissive:hy.emissive,specularCoeff:1,opacity:1}},h.push(f);break;case"fo":n+=1;case"f":n+=1,F=function(t){var i,n,r=t.split(/\s+/g),e=[],o=[],s=[];try{for(var u=ey(r),a=u.next();!a.done;a=u.next()){var h=a.value,f=uy(h.trim(),"/");e.push(f[0]),f.length>1&&!Number.isNaN(f[1])&&s.push(f[1]),f.length>2&&!Number.isNaN(f[2])&&o.push(f[2])}}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}return{vertexIndex:e=ay(e),textureIndex:(s=ay(s))||void 0,normalIndex:(o=ay(o))||void 0}}(t.substring(n).trim());for(var j=0;j<F.vertexIndex.length;j+=1)(B=F.vertexIndex[j])<0?B+=d:B-=1,B*=3,s.push(r[B]),s.push(r[B+1]),s.push(r[B+2]);if(f.count+=F.vertexIndex.length,F.textureIndex)for(j=0;j<F.textureIndex.length;j+=1)(B=F.textureIndex[j])<0?B+=y:B-=1,B*=3,a.push(e[B]),a.push(e[B+1]),a.push(e[B+2]);if(F.normalIndex)for(j=0;j<F.normalIndex.length;j+=1){var B;(B=F.normalIndex[j])<0?B+=A:B-=1,B*=3,u.push(o[B]),u.push(o[B+1]),u.push(o[B+2])}}},T=this;try{for(var k=ey(M),_=k.next();!_.done;_=k.next())C(_.value)}catch(t){i={error:t}}finally{try{_&&!_.done&&(n=k.return)&&n.call(k)}finally{if(i)throw i.error}}this.If={min:{x:m,y:x,z:w},max:{x:p,y:g,z:S}};for(var O=0;O<s.length;O+=3)s[O]-=this.If.min.x,s[O+1]-=this.If.min.y,s[O+2]-=this.If.min.z;if(this.dm={x:this.If.max.x-this.If.min.x,y:this.If.max.y-this.If.min.y,z:this.If.max.z-this.If.min.z},h.length<1&&s.length>0&&(f.count=s.length/3,h.push(f)),this.Am=h,this.sm=new Float32Array(s),u.length<1)for(O=0;O<s.length/9;O+=1)for(var F={x:s[9*O],y:s[9*O+1],z:s[9*O+2]},I={x:s[9*O+3],y:s[9*O+4],z:s[9*O+5]},j={x:s[9*O+6],y:s[9*O+7],z:s[9*O+8]},B=ys.normalize(ys.cross(ys.subtractVec(F,I),ys.subtractVec(F,j))),D=0;D<3;D+=1)u.push(B.x),u.push(B.y),u.push(B.z);return this.um=new Float32Array(u.map((function(t,i){return u[i]}))),this.checkedNormals=new Float32Array,this.ym&&this.Am.sort((function(t,i){return i.material.opacity-t.material.opacity})),this.kf.gm({vertices:this.sm,normals:this.um,indices:this.am,modelSize:this.dm,parts:this.Am}),this.chart.qi.vr(),this},i.prototype.setVertexValues=function(t){return this.kf.Sm(t),this.chart.qi.vr(),this},i.prototype.setScale=function(t){var i={x:"number"==typeof t?t:(null==t?void 0:t.x)||1,y:"number"==typeof t?t:(null==t?void 0:t.y)||1,z:"number"==typeof t?t:(null==t?void 0:t.z)||1};return this.Yi=i,this.kf.wm(i),this.chart.qi.vr(),this},i.prototype.getScale=function(){return this.Yi},i.prototype.setModelLocation=function(t){return this.fm=t,this.kf.Mm(t),this.chart.qi.vr(),this},i.prototype.getModelLocation=function(){return this.fm},i.prototype.setModelAlignment=function(t){return this.hm=t,this.kf.Cm(t),this.chart.qi.vr(),this},i.prototype.getModelAlignment=function(){return this.hm},i.prototype.setModelRotation=function(t){return this.setModelRotationEuler(t)},i.prototype.getModelRotation=function(){return this.lm},i.prototype.setModelRotationEuler=function(t){var i={x:Ks(t.x),y:Ks(t.y),z:Ks(t.z)};return this.lm=i,this.kf.Tm(this.lm),this.chart.qi.vr(),this},i.prototype.getModelRotationEuler=function(){return this.lm},i.prototype.setModelRotationQuaternion=function(t){return this.vm=t,this.kf.km(this.vm),this.chart.qi.vr(),this},i.prototype.getModelRotationQuaternion=function(){return this.vm},i.prototype.setBackfaceCullingMode=function(t){return this.kf._m(t),this.chart.qi.vr(),this},i.prototype.getBackfaceCullingMode=function(){return this.kf.Om()},i.prototype.setFillStyle=function(t){return this.kf.Be(t),this.chart.qi.vr(),this},i.prototype.getFillStyle=function(){return this.kf.Zo()},i.prototype.setColorShadingStyle=function(i){return this.checkedNormals||i!==da?t.prototype.setColorShadingStyle.call(this,i):(console.warn("Phong shading style is not supported without normals. Switching to Simple shading style."),t.prototype.setColorShadingStyle.call(this,new ya.Simple))},i.prototype.ab=function(){return!1},i.prototype.ze=function(t,i){t.vn(i),this.chart.qi.vr()},i.prototype.Mr=function(){return Uo(this.getFillStyle(),this.kf.an())},i.prototype.Pe=function(){return{fill:this.getFillStyle()}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(sd),cy={None:Ff,Rectangle:Nc,Circle:Vc,Diamond:Rc,Pointer:Gc},ly=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vy=function(){return vy=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},vy.apply(this,arguments)},dy=function(i){function n(n,r,e,o,s,u){var a=i.call(this,n,r,e,o,s,u)||this;return a.ku=a.en.cursorResultTableTextFont,a.Jv=0,a.Ab=a.en.cursorResultTableTextFillStyle,a.pu=100,a.ko=t.TextObjectIdentifier.CursorResultTable,a}return ly(n,i),n.prototype.setContent=function(t){var i,n,r=this;void 0===t?n=[]:Array.isArray(t)?(n=[],t.forEach((function(t){n.push(Array.isArray(t)?t:[t])}))):n=[[t]];for(var e=0;e<n.length;e+=1){for(var o=n[e],s=!1,u=0;u<o.length;u+=1){var a=o[u],h="object"==typeof a&&"text"in a?a.text:"string"==typeof a?a:void 0,f="object"==typeof a&&"icon"in a?a.icon:Ea(a)?a:void 0,c=a instanceof Ju&&a;if(!(h&&h.length>0||f||c)){s=!0;break}}s||(o.unshift(""),o.push(""))}for(var l,v=n.length,d=this.getMembers().length,y=function(t){var e=A.getRow(t,!0);if(t>=v)A.getMembers()[t].dispose(),t-=1,d-=1;else for(var o,s=n[t].length,u=e.getMembers().length,a=function(a){var h,f=n[t][a],c="object"==typeof f&&"font"in f?f.font:void 0,l="object"==typeof f&&"fillStyle"in f?f.fillStyle:void 0,d="object"==typeof f&&"text"in f?f.text:"string"==typeof f?f:void 0,y="object"==typeof f&&"icon"in f?f.icon:Ea(f)?f:void 0,b=f instanceof Ju&&f||("object"==typeof f&&"component"in f?f.component:void 0),p="object"==typeof f&&"componentColor"in f&&f.componentColor,m="object"==typeof f&&"componentFillStyle"in f&&f.componentFillStyle,g="object"==typeof f&&"rowFillStyle"in f?f.rowFillStyle:void 0,x=e.getMembers();if(a>=s)e.getMembers()[a].dispose(),a-=1,u-=1;else if(void 0!==d&&d.length>0||y||b){var S=c?A.ku.withMutations((function(t){var i,n;try{for(var r=(i=void 0,function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(c))),e=r.next();!e.done;e=r.next()){var o=e.value,s=c[o];void 0!==s&&t.set(o,s)}}catch(t){i={error:t}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return t})):A.ku,w=l||A.Ab,M=x[a];if(d){var C=void 0;M&&M instanceof Pc?C=M:(M&&M.dispose(),C=e.addElement(zc,a)),C.setText(d).setFont(S).setFillStyle(w).setTextRotation(A.Jv)}else if(y){var T=void 0;M&&M instanceof Uc?T=M:(M&&M.dispose(),T=e.addElement(Yc,a)),T.setFillStyle(w).setShape(y).setSize({y:S.size,x:S.size}),T.setMargin(null!==(i=A.en.uiTextPadding)&&void 0!==i?i:5)}else if(b){var k=void 0;M&&"setTextFillStyleHidden"in(h=M)&&"setText"in h?k=M:(M&&M.dispose(),k=e.addElement(Al.setBackground(cy.None),a).setOn(!0));var _=b.Cr();void 0!==_&&k.setButtonShape(_),k.setText(b.getName()).setTextFont(S).setTextFillStyle(w).setTextRotation(A.Jv),p?k.setButtonOnFillStyle(new _u({color:p})):m?k.setButtonOnFillStyle(m):k.setButtonOnFillStyle(Go(b.chart.getTheme(),!1,b.Pe()))}g&&e.setBackground((function(i){i.setFillStyle(g);var n=r.getBackground();$u(n)&&i instanceof Nc&&i.setCornerRadius(n.getCornerRadius(),{topLeft:0===t,topRight:0===t,bottomLeft:t===v-1,bottomRight:t===v-1})}))}else(M=x[a])&&M instanceof Hc||(M&&M.dispose(),e.addGap(void 0,a));o=a},h=0;h<Math.max(s,u);h+=1)a(h),h=o;l=t},A=this,b=0;b<Math.max(v,d);b+=1)y(b),b=l;return this.kr.vr(),this},n.prototype.Le=function(){if(i.prototype.Le.call(this),this.kr.qi.sl&&this.getVisible()){var n=Af(this);this.kr.qi.sl.xy(vy(vy({},n),{blacklist:[t.TextObjectIdentifier.CursorResultTable]}))}return this},n.prototype.setTextFillStyle=function(t){this.Ab="function"==typeof t?t(this.Ab):t;for(var i=0;i<this.getMemberCount();i+=1)for(var n=this.getRow(i),r=0;r<n.getMembers().length;r+=1){var e=n.getMembers()[r];e instanceof Pc&&e.setFillStyle(this.Ab)}return this.kr.vr(),this},n.prototype.getTextFillStyle=function(){return this.Ab},n.prototype.setTextFont=function(t){return Dr(t)?this.ku=t:this.ku=t(this.ku),this.kr.vr(),this},n.prototype.getTextFont=function(){return this.ku},n.prototype.setTextRotation=function(t){return this.Jv=t,this.kr.vr(),this},n.prototype.getTextRotation=function(){return this.Jv},n.prototype.Fm=function(){for(var t=0;t<this.jv.length;t+=1)for(var i=0;i<this.jv[t].getMembers().length;i+=1)this.jv[t].getMembers()[i].dispose()},n.prototype.ds=function(){for(var t=0;t<this.jv.length;t+=1)this.jv[t].setMinimumSize(void 0);for(i.prototype.ds.call(this),t=0;t<this.jv.length;t+=1)this.jv[t].setMinimumSize(this.size.x);return i.prototype.ds.call(this),this},n}($c),yy=function(){return yy=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},yy.apply(this,arguments)},Ay=function(){function i(t,i,n,r,e,o){var s=this;this.Im=[],this.jm=!0,this.Bm=!0,this.bA=!1,this.Zi=!0,this.Hi=!1,this.Dm=[],this.Lm=!0,this.Ct=new we,this.kr=t,this.renderingScale=i,this.scale=n,this.Em=r,this.Pm=e,this.en=o,this.zm=new dy(this.kr,this.renderingScale,this.scale,this.Pm,io,o).setPointerEvents(!1).setBackground((function(t){return t.setFillStyle(o.cursorResultTableFillStyle).setStrokeStyle(o.cursorResultTableStrokeStyle)})).setTextFillStyle(o.cursorResultTableTextFillStyle).setTextFont(o.cursorResultTableTextFont),this.Nm=new py((function(t){return s.zm.setOrigin(t)}),(function(){return s.zm.getOrigin()})),this.Vm=new py((function(t){return s.zm.setPosition(t)}),(function(){return s.zm.getPosition()}))}return i.prototype.isDisposed=function(){return this.Hi},i.prototype.setPointMarkerVisible=function(t){return this.jm=t,this.Im.forEach((function(i){return i.pointMarker.setVisible(i.targetVisible&&t)})),this.kr.vr(),this},i.prototype.getPointMarkerVisible=function(){return this.jm},i.prototype.setPointMarker=function(t){return this.Im.forEach((function(i){return t(i.pointMarker)})),this.Dm.push(t),this.kr.vr(),this},i.prototype.setResultTableVisible=function(t){return this.Bm=t,this.kr.vr(),this},i.prototype.getResultTableVisible=function(){return this.Bm},i.prototype.setResultTable=function(t){return t(this.zm),this.kr.vr(),this},i.prototype.setAutoFit=function(t){return this.Lm=t,this.Nm.resetValue(),this.Vm.resetValue(),this.kr.vr(),this},i.prototype.getAutoFit=function(){return this.Lm},i.prototype.setVisible=function(t){return this.Zi=t,this.kr.vr(),this},i.prototype.getVisible=function(){return this.Zi},i.prototype.dispose=function(){return this.Im.forEach((function(t){return t.pointMarker.dispose()})),this.zm.dispose(),this.Dm.length=0,this.Em(this),this.Ct.Tt("dispose",{}),this},i.prototype.Rm=function(){var i=this.zm,n=this.kr.qi.Yi,r=ee(i.getPosition(o(-1,-1),t.UISpace.PaddedBackground),i.scale,n),e=ee(i.getPosition(o(1,1),t.UISpace.PaddedBackground),i.scale,n),s=r.x<n.x.getInnerStart()||e.x>n.x.getInnerEnd(),u=r.y<n.y.getInnerStart()||e.y>n.y.getInnerEnd();return{x:s,y:u,either:s||u,resultTableViewport:this.zm.kr.qi.Yi,resultTableViewportBounds:{x:{min:Math.min(n.x.getInnerStart(),n.x.getInnerEnd()),max:Math.max(n.x.getInnerStart(),n.x.getInnerEnd())},y:{min:Math.min(n.y.getInnerStart(),n.y.getInnerEnd()),max:Math.max(n.y.getInnerStart(),n.y.getInnerEnd())}}}},i.prototype.Le=function(){var i=this;if(this.Zi){(this.Nm.isAltered()||this.Vm.isAltered())&&(this.Nm.resetValue(),this.Vm.resetValue(),this.zm.ds());var n=this.Lm&&this.Rm();if(n&&n.either){var r=n.resultTableViewport,e=ee(this.zm.getPosition(o(-1,-1),t.UISpace.PaddedBackground),this.zm.scale,r),s=ee(this.zm.getPosition(o(1,1),t.UISpace.PaddedBackground),this.zm.scale,r),u=n.resultTableViewportBounds,a=this.zm.getOrigin(),h={x:0,y:0},f=yy({},a);if(s.y>u.y.max?h.y=u.y.max-s.y:e.y<u.y.min&&(h.y=u.y.min-e.y),(s.x>u.x.max||e.x<u.x.min)&&(f.x*=-1),0!==h.x||0!==h.y||f.x!==a.x||f.y!==a.y){var c=this.zm.getPosition(),l=ee(c,this.zm.scale,r),v={x:l.x+h.x,y:l.y+h.y},d=ee(v,r,this.zm.scale);this.Vm.alter(d),this.Nm.alter(f),this.zm.ds(),(n=this.Rm()).x&&(e=ee(this.zm.getPosition(o(-1,-1),t.UISpace.PaddedBackground),this.zm.scale,r),(s=ee(this.zm.getPosition(o(1,1),t.UISpace.PaddedBackground),this.zm.scale,r)).x>u.x.max?h.x=u.x.max-s.x:e.x<u.x.min&&(h.x=u.x.min-e.x),v={x:l.x+h.x,y:l.y+h.y},d=ee(v,r,this.zm.scale),this.Vm.alter(d),this.zm.ds())}}}return this.Im.forEach((function(t){return t.pointMarker.setVisible(t.targetVisible&&i.bA&&i.Zi&&i.jm)})),this.Im.forEach((function(t){return t.pointMarker.Le()})),this.zm.Le(),this},i.prototype.ds=function(){return this.zm.setVisible(this.bA&&this.Zi&&this.Bm),this.Im.forEach((function(t){return t.pointMarker.ds()})),this.zm.ds(),this},i.prototype.Gm=function(t,i){var n=i===this.scale?t:ee(t,i,this.scale);this.zm.setPosition(n)},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(),by=function(t,i){return t.setResultTable((function(t){return t.setEffect(!0).setOrigin(o(-1,-1)).setMargin(.5*i.cursorPointMarkerSize.x+2).setBackground((function(t){i.cursorResultTableBorderRadius&&$u(t)&&t.setCornerRadius(i.cursorResultTableBorderRadius)}))}))},py=function(){function t(t,i){this.Um=t,this.Ym=i}return t.prototype.alter=function(t){this.Wm=void 0!==this.Wm?this.Wm:this.Ym(),this.Xm=t,this.Um(t)},t.prototype.resetValue=function(){void 0!==this.Xm&&(void 0!==this.Wm&&this.isAltered()&&this.Um(this.Wm),this.Wm=void 0,this.Xm=void 0)},t.prototype.getNormalValue=function(){return void 0!==this.Wm?this.Wm:this.Ym()},t.prototype.isAltered=function(){return void 0!==this.Xm&&this.Ym()===this.Xm},t}(),my=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gy=function(i){function n(n,r,e,o,s,u,a){var h=i.call(this,n,r,e,o,s,u)||this;return h.chart=a,h.Hm=h.chart.getDefaultAxisX().addCustomTick().setVisible(!1).setGridStrokeStyle(u.cursor3DGridStrokeStyleX).setTickStyle(u.cursor3DTickStrokeStyleX).setTextFillStyle(u.cursor3DTickLabelFillStyleX).setTextFont(u.cursor3DTickLabelFontX).setBackgroundFillStyle(u.cursor3DTickLabelBackgroundFillStyleX).setBackgroundStrokeStyle(u.cursor3DTickLabelBackgroundStrokeStyleX).setPadding(u.cursor3DTickLabelPaddingX),h.Zm=h.chart.getDefaultAxisY().addCustomTick().setVisible(!1).setGridStrokeStyle(u.cursor3DGridStrokeStyleY).setTickStyle(u.cursor3DTickStrokeStyleY).setTextFillStyle(u.cursor3DTickLabelFillStyleY).setTextFont(u.cursor3DTickLabelFontY).setBackgroundFillStyle(u.cursor3DTickLabelBackgroundFillStyleY).setBackgroundStrokeStyle(u.cursor3DTickLabelBackgroundStrokeStyleY).setPadding(u.cursor3DTickLabelPaddingY),h.Jm=h.chart.getDefaultAxisZ().addCustomTick().setVisible(!1).setGridStrokeStyle(u.cursor3DGridStrokeStyleZ).setTickStyle(u.cursor3DTickStrokeStyleZ).setTextFillStyle(u.cursor3DTickLabelFillStyleZ).setTextFont(u.cursor3DTickLabelFontZ).setBackgroundFillStyle(u.cursor3DTickLabelBackgroundFillStyleZ).setBackgroundStrokeStyle(u.cursor3DTickLabelBackgroundStrokeStyleZ).setPadding(u.cursor3DTickLabelPaddingZ),h.Hm.ko=t.TextObjectIdentifier.CursorTickMarker,h.Zm.ko=t.TextObjectIdentifier.CursorTickMarker,h.Jm.ko=t.TextObjectIdentifier.CursorTickMarker,h}return my(n,i),n.prototype.setTickX=function(t){return t(this.Hm),this.chart.qi.vr(),this},n.prototype.setTickY=function(t){return t(this.Zm),this.chart.qi.vr(),this},n.prototype.setTickZ=function(t){return t(this.Jm),this.chart.qi.vr(),this},n.prototype.setTicks=function(t){return t(this.Hm),t(this.Zm),t(this.Jm),this.chart.qi.vr(),this},n.prototype.dispose=function(){return i.prototype.dispose.call(this),this.Hm.dispose(),this.Zm.dispose(),this.Jm.dispose(),this},n.prototype.Le=function(){return this.Hm.setVisible(this.Zi&&this.bA),this.Zm.setVisible(this.Zi&&this.bA),this.Jm.setVisible(this.Zi&&this.bA),i.prototype.Le.call(this)},n.prototype.setPosition=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if(0===t.length)return this;var n=t[0];this.bA=!0;var r=this.renderingScale,e=Fv(n.resultTableScale,r),o=e===this.scale?n.resultTable:ee(n.resultTable,e,this.scale);this.zm.setPosition(o),this.Hm.setValue(n.axisLocation.x),this.Zm.setValue(n.axisLocation.y),this.Jm.setValue(n.axisLocation.z);var s=this.Im[0];if(!s){var u=new Uc(this.kr,this.renderingScale,this.scale,io,this.en).setPointerEvents(!1).setFillStyle(this.en.cursorPointMarkerFillStyle).setStrokeStyle(this.en.cursorPointMarkerStrokeStyle).setSize(this.en.cursorPointMarkerSize).setShape(this.en.cursorPointMarkerShape);s={pointMarker:u,targetVisible:!0},this.Im.push(s),this.Dm.forEach((function(t){return t(u)}))}return n.pointMarkerShape&&s.pointMarker.setShape(n.pointMarkerShape),n.pointMarkerSize&&s.pointMarker.setSize(n.pointMarkerSize),n.pointMarkerFillStyle&&s.pointMarker.setFillStyle(n.pointMarkerFillStyle),n.pointMarkerStrokeStyle&&s.pointMarker.setStrokeStyle(n.pointMarkerStrokeStyle),s.pointMarker.setPosition(o),this.chart.qi.vr(),this},n}(Ay),xy=function t(i,n){var r=this;this.Qm=[],this.Km=function(t,i){return r.Qm.forEach((function(n){return n(t,i)})),t},this.addStyler=function(i){return new t(r.Pm,r.Qm.map((function(t){return t})).concat(i))},this.setResultTableBackground=function(i){return new t(i,r.Qm.map((function(t){return t})))},this.qm=function(t,i,n,e,o,s){return r.Km(new gy(t,i,n,e,r.Pm,o,s),o)},this.Pm=i,this.Qm=n},Sy=new xy(Nc,[function(t,i){by(t,i)}]),wy=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},My=function(t,i,n,r){t.background.addEventListener(i,n,r),t.seriesBackground.addEventListener(i,n,r),t.getSeries().forEach((function(t){return t.addEventListener(i,n,r)}));var e=function(t){return t.series.addEventListener(i,n,r)};return t.addEventListener("seriesadd",e),function(){t.background.removeEventListener(i,n),t.seriesBackground.removeEventListener(i,n),t.getSeries().forEach((function(t){return t.removeEventListener(i,n)})),t.removeEventListener("seriesadd",e)}},Cy=function(i,n,r,e){var o,s,u,a,h,f;vs(),n.camera&&r.$m(),n.x&&i.axisX.fit(null!==(o=n.animationsEnabled)&&void 0!==o?o:void 0,null!==(s=n.stopScroll)&&void 0!==s?s:void 0),n.y&&i.axisY.fit(null!==(u=n.animationsEnabled)&&void 0!==u?u:void 0,null!==(a=n.stopScroll)&&void 0!==a?a:void 0),n.z&&i.axisZ.fit(null!==(h=n.animationsEnabled)&&void 0!==h?h:void 0,null!==(f=n.stopScroll)&&void 0!==f?f:void 0);var c=n.cursor;if(null!==c){c=null!=c?c:t.MouseStyles.ZoomOut;var l=i.engine.setMouseStyle(c);Qe.setTimeout((function(){i.engine.restoreMouseStyle(l)}),500)}var v=n.on;v&&Qe.requestAnimationFrame((function(){return v({event:e})}))},Ty=function(t,i,n,r){vs(),t.restorePreviousZoomState();var e=i.on;e&&Qe.requestAnimationFrame((function(){return e({event:r})}))},ky=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_y=function(){return _y=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},_y.apply(this,arguments)},Oy=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Fy=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},Iy=function(i){function n(n,r,e,s,u,h,f){var c,l,v=this;(v=i.call(this,n,r,e,r.EA("chart3D bg",0),s,r.qi.en.chart3DBackgroundFillStyle,r.qi.en.chart3DBackgroundStrokeStyle,r.qi.en.chart3DTitleFont,r.qi.en.chart3DTitleFillStyle,r.qi.en.chart3DTitleShadow,h,null===(c=null==f?void 0:f.legend)||void 0===c?void 0:c.customLegend)||this).tg=1,v.ig=[],v.ng=2,v.rg=!0,v.eg=!0,v.og=!0,v.sg=0,v.coordsAxis={id:"axes",chart:v},v.coordsWorld={id:"world",chart:v},v._a=[],v.ug=[],v.ag=!1,v.hg=function(){if(!v.Hi){var t=new Map;v.forEachAxis((function(i){void 0!==i.iy().find((function(t){return t.sb()}))&&t.set(i,_y(_y({},i.getInterval()),{stopped:i.getStopped()}))})),t.size<=0||(v.ug.push(t),v.ug.length>100&&v.ug.shift())}},v.Va=function(){var t=v.ZA.cg();v.vg.lg(t),v.dg.lg(t);var i=v.yg.viewportChanged(v.Ag());i&&v.bg(i),v.qi.vr()},v.Ct=new we,v.qi.qa(gf.ta),v.So.Os("Chart3D"),v.pg=e.d3(),v.pg.x.Et(-1,1),v.pg.y.Et(-1,1),v.pg.z.Et(-1,1),v.ZA=r.mg("chart3D layer3D",0,v.pg),v.vg=r.gg("chart3D series bg",0),v.dg=r.xg("chart3D axis ui",1),v.Sg={x:new xd(v,(l=function(){return v.ip},Td(Td({},Cd(l,(function(t){return t.getXMin()}),(function(t){return t.getXMax()}),(function(t){return t.Us().x}))),{Mb:function(t){return t.x},Gb:function(t,i){return{x:t.x,y:i.y,z:i.z}},Gv:a(0,-1,0),Eb:function(t){var i={x:t.x>=0?1:-1,y:t.y>=0?1:-1,z:t.z>=0?1:-1};return{gridlinePositionA:a(0,i.y,i.z),gridlinePositionB:a(0,i.y,-i.z),gridlinePositionC:a(0,-i.y,-i.z)}},Yb:function(){return!0},Wb:function(){return!1},Rb:function(){return!1}})),v.pg.x,v.en,v.ZA,v.dg,v.Ud,!1,v.Qn),y:new xd(v,kd((function(){return v.ip})),v.pg.y,v.en,v.ZA,v.dg,v.Ud,!1,v.Qn),z:new xd(v,_d((function(){return v.ip})),v.pg.z,v.en,v.ZA,v.dg,v.Ud,!1,v.Qn)},v.wg=v.ZA.Fb([fd.InternalUI],void 0).setPointerEvents(!1),v.setBoundingBoxStrokeStyle(v.en.chart3DBoundingBoxStrokeStyle),v.sp=v.vg.vl(v.qi.Yi,tc.Simple).Be(v.en.chart3DSeriesBackgroundFillStyle).je(Pe).setPointerEvents(!0),v.up=v.vg.vl(v.qi.Yi,tc.Simple).Be(Cu).je(v.en.chart3DSeriesBackgroundStrokeStyle).setPointerEvents(!1),i.prototype.op.call(v,v.sp,v.up),v.Mg({x:1,y:1,z:1},!0),v.yg=new Wd(v.qi.Yi,v.Ud,v.pg,(function(t,i){return i&&v.bg(i),v.ZA.Pb(t)})),v.Cg=v.yg.getDefaultCameraConfiguration(v.Tg(v.kg),v.getProjection()),v.bg(v.Cg);var d=oo(f?f.cursorBuilder:void 0,Sy),y=r._g();v.Og=mS(v,y,d.qm(y,v.Ud,v.Ud,io,v.en,v),v,"show-pointed",jy,(function(){return 0})),v.setAnimationsEnabled(!1!==(null==f?void 0:f.animationsEnabled)),v.addEventListener("resize",v.Va),v.Va(),v.LA(u,v.Ud),v.Fg=function(t){var i=!1,n=!1,r=!1,e=function(t){var i=!0,n=t.getCameraLocation(),r=t.getCameraAutomaticFittingEnabled();return{Ig:function(){i&&(n=t.getCameraLocation(),r=t.getCameraAutomaticFittingEnabled()),i=!1},$m:function(){t.setCameraLocation(n).setCameraAutomaticFittingEnabled(r),i=!0}}}(t),s={},u=function(){return Ze({rotate:{drag:{},ctrl:{drag:!1},shift:{drag:!1},alt:{drag:!1}},zoom:{wheel:{},camera:!0,mode:"centered",pinch:{camera:!1,x:!0,y:!0,z:!0}},restoreDefault:{doubleClick:!0,camera:!0,x:!0,y:!0,z:!0},restorePrevious:!1},s)},a=function(o){var s,a,h=u(),f=!1,c=!1,l=!1;try{for(var v=wy(Object.keys(h)),d=v.next();!d.done;d=v.next()){var y=h[d.value];"object"==typeof y&&(void 0!==y.ctrl&&(f=!0),void 0!==y.shift&&(c=!0),void 0!==y.alt&&(l=!0))}}catch(t){s={error:t}}finally{try{d&&!d.done&&(a=v.return)&&a.call(v)}finally{if(s)throw s.error}}n=o.ctrlKey,i=o.shiftKey,r=o.altKey,("Control"===o.key&&f||"Shift"===o.key&&c||"Alt"===o.key&&l)&&o.preventDefault();var A=Vu(h.restoreDefault,void 0,o,i,n,r);A&&A.code===o.code&&(wo(o),Cy(t,A,e,o));var b=Vu(h.restorePrevious,void 0,o,i,n,r);b&&b.code===o.code&&(wo(o),Ty(t,b,0,o))},h=function(t){n=t.ctrlKey,i=t.shiftKey,r=t.altKey},f=function(){n=!1,i=!1,r=!1};Qe.addEventListener("keydown",a),Qe.addEventListener("keyup",h),Qe.addEventListener("blur",f),t.addEventListener("dispose",(function(){Qe.removeEventListener("keydown",a),Qe.removeEventListener("keyup",h),Qe.removeEventListener("blur",f)}));var c=function(t){},l=function(s){var a=Ru(!1!==t.qi.ih.rh),h=u(),f=Vu(h.rotate,"drag",s,i,n,r),c=Vu(h.pan,"drag",s,i,n,r);c&&a.push((function(){return function(t,i,n,r){var e=t.getCursorMode();t.setCursorMode(void 0);var o=i;"mouse"===i.pointerType&&i.preventDefault();var s=function(r){var e,s,u;if(r.pointerId===i.pointerId){wo(r);var a=r.clientX-o.clientX,h=r.clientY-o.clientY;if(o=r,n&&n.x){var f=a+-h;t.axisX.Xb(-Math.sign(f)*(null!==(e=n.sensitivity)&&void 0!==e?e:1)),!1!==n.stopScroll&&t.axisX.setStopped(!0)}n&&n.y&&(f=-a+h,t.axisY.Xb(Math.sign(f)*(null!==(s=n.sensitivity)&&void 0!==s?s:1)),!1!==n.stopScroll&&t.axisY.setStopped(!0)),n&&n.z&&(f=-a+h,t.axisZ.Xb(Math.sign(f)*(null!==(u=n.sensitivity)&&void 0!==u?u:1)),!1!==n.stopScroll&&t.axisZ.setStopped(!0));var c=null==n?void 0:n.on;c&&Qe.requestAnimationFrame((function(){return c({event:r})}))}},u=function(n){n.pointerId===i.pointerId&&(wo(n),t.setCursorMode(e),Qe.removeEventListener("pointermove",s),Qe.removeEventListener("pointerup",u),t.engine.container.removeEventListener("pointerdown",a),r())},a=function(n){n.pointerId!==i.pointerId&&(t.setCursorMode(e),Qe.removeEventListener("pointermove",s),Qe.removeEventListener("pointerup",u),t.engine.container.removeEventListener("pointerdown",a),r())};Qe.addEventListener("pointermove",s),Qe.addEventListener("pointerup",u),t.engine.container.addEventListener("pointerdown",a),vs()}(t,s,c,v())})),f&&a.push((function(){return function(t,i,n,r,e){var o=t.getCursorMode();t.setCursorMode(void 0);var s=i,u=!1,a=0;"mouse"===i.pointerType&&i.preventDefault();var h=function(r){var o,h;if(r.pointerId===i.pointerId){wo(r);var f={x:r.clientX-s.clientX,y:r.clientY-s.clientY};s=r,a+=Gs(f),e.Ig(),t.jg({x:f.x*(null!==(o=n.sensitivity)&&void 0!==o?o:1),y:-f.y*(null!==(h=n.sensitivity)&&void 0!==h?h:1)}),u||(ls(),u=!0);var c=n.on;c&&Qe.requestAnimationFrame((function(){return c({event:r})}))}},f=function(n){n.pointerId===i.pointerId&&(wo(n),t.setCursorMode(o),Qe.removeEventListener("pointermove",h),Qe.removeEventListener("pointerup",f),t.engine.container.removeEventListener("pointerdown",c),r(),a>=10&&cs("click"))},c=function(n){n.pointerId!==i.pointerId&&(t.setCursorMode(o),Qe.removeEventListener("pointermove",h),Qe.removeEventListener("pointerup",f),t.engine.container.removeEventListener("pointerdown",c),r())};Qe.addEventListener("pointermove",h),Qe.addEventListener("pointerup",f),t.engine.container.addEventListener("pointerdown",c),vs()}(t,s,f,v(),e)}));var l=Vu(h.zoom,"drag",s,i,n,r);l&&a.push((function(){return function(t,i,n,r,e){var o=t.getCursorMode();t.setCursorMode(void 0);var s=i;"mouse"===i.pointerType&&i.preventDefault();var u=function(r){var o,u,a,h,f,c,l;if(r.pointerId===i.pointerId){wo(r);var v=r.clientX-s.clientX,d=r.clientY-s.clientY;if(s=r,n.x){var y=v+-d;t.axisX.Hb(null!==(o=n.mode)&&void 0!==o?o:"centered",Math.sign(y),null!==(u=n.sensitivity)&&void 0!==u?u:1),!1!==n.stopScroll&&t.axisX.setStopped(!0)}n.y&&(y=-v+d,t.axisY.Hb(null!==(a=n.mode)&&void 0!==a?a:"centered",-Math.sign(y),null!==(h=n.sensitivity)&&void 0!==h?h:1),!1!==n.stopScroll&&t.axisY.setStopped(!0)),n.z&&(y=-v+d,t.axisZ.Hb(null!==(f=n.mode)&&void 0!==f?f:"centered",-Math.sign(y),null!==(c=n.sensitivity)&&void 0!==c?c:1),!1!==n.stopScroll&&t.axisZ.setStopped(!0)),n.camera&&(y=v+-d,e.Ig(),t.Bg(-.15*Math.sign(y)*(null!==(l=n.sensitivity)&&void 0!==l?l:1)));var A=n.on;A&&Qe.requestAnimationFrame((function(){return A({event:r})}))}},a=function(n){n.pointerId===i.pointerId&&(wo(n),t.setCursorMode(o),Qe.removeEventListener("pointermove",u),Qe.removeEventListener("pointerup",a),t.engine.container.removeEventListener("pointerdown",h),r())},h=function(i){t.setCursorMode(o),Qe.removeEventListener("pointermove",u),Qe.removeEventListener("pointerup",a),t.engine.container.removeEventListener("pointerdown",h),r()};Qe.addEventListener("pointermove",u),Qe.addEventListener("pointerup",a),t.engine.container.addEventListener("pointerdown",h),vs()}(t,s,l,v(),e)})),a.end();var d=Vu(h.rotate,"pinch",s,i,n,r),y=Vu(h.pan,"pinch",s,i,n,r),A=Vu(h.zoom,"pinch",s,i,n,r);(d||A||y)&&function(t,i,n,r,e,s,u){if(n||r||e){var a=function(f){if(f.pointerId!==i.pointerId){var c,l=s();t.engine.container.removeEventListener("pointerdown",a),Qe.removeEventListener("pointerup",h);var v,d=f,y=f,A=t.getCursorMode();t.setCursorMode(void 0);var b,p,m,g,x=t.getCameraLocation(),S=[],w=function(){var s,a,h,l,A,w,M,C;g=void 0;var T=c,k=d;if(S.forEach((function(t){t.pointerId===i.pointerId?c=t:t.pointerId===f.pointerId&&(d=t)})),S.length=0,v=v||c,void 0!==c&&void 0!==T&&void 0!==v){if(!p||!m){var _=function(t){for(;t<0;)t+=360;for(;t>360;)t-=360;return t},O=function(i,n){var r=t.ZA.Pb(i),e=t.ZA.Pb(n);if(!r||!e)return{deg:-1,dir:{x:0,y:0}};var o=t.qi.Ih({engineX:r.x,engineY:r.y}),s=t.qi.Ih({engineX:e.x,engineY:e.y});return{deg:_(qs(Ws(e,r))),dir:Vs(Ws({x:s.clientX,y:s.clientY},{x:o.clientX,y:o.clientY}))}},F=t.axisX.getInterval(),I=t.axisY.getInterval(),j=t.axisZ.getInterval(),B={x:O({x:F.start,y:I.start,z:j.start},{x:F.end,y:I.start,z:j.start}),y:O({x:F.start,y:I.start,z:j.start},{x:F.start,y:I.end,z:j.start}),z:O({x:F.end,y:I.start,z:j.start},{x:F.end,y:I.start,z:j.end})},D=t.qi.Fh(v),L=t.qi.Fh(y),E=_(qs(Ws({x:L.engineX,y:L.engineY},{x:D.engineX,y:D.engineY})));p=["x","y","z"].reduce((function(t,i){var n=Math.abs(B[i].deg-E),r=Math.abs(_(B[i].deg+180)-E),e=Math.min(n,r);return Math.min(e,r)<t.angleDiff?{angleDiff:e,axis:i}:t}),{axis:"x",angleDiff:1e3}).axis,m=B[p].dir}var P=c.clientX-T.clientX,z=c.clientY-T.clientY,N=d.clientX-k.clientX,V=d.clientY-k.clientY,R=Math.sqrt(Math.pow(v.clientX-y.clientX,2)+Math.pow(v.clientY-y.clientY,2)),G=Math.sqrt(Math.pow(c.clientX-d.clientX,2)+Math.pow(c.clientY-d.clientY,2)),U=ys.length(x),Y=R/G*(null!==(s=null==e?void 0:e.sensitivity)&&void 0!==s?s:1)*U,W=o((null!==(a=null==n?void 0:n.sensitivity)&&void 0!==a?a:1)*(P+N)/2,(null!==(h=null==n?void 0:n.sensitivity)&&void 0!==h?h:1)*-(z+V)/2);u.Ig(),(n||(null==e?void 0:e.camera))&&(t.ig.push({type:"rotate+zoom",rotation:n?W:{x:0,y:0},cameraDistance:(null==e?void 0:e.camera)?Y:U}),t.qi.vr());var X=void 0===b?0:G-Gs(b)?1:-1,H=b?.25*(null!==(l=null==e?void 0:e.sensitivity)&&void 0!==l?l:1)*(G-Gs(b)):0;e&&e.x&&("x"===p||void 0===e.y&&void 0===e.z)&&(t.axisX.Hb(null!==(A=e.mode)&&void 0!==A?A:"centered",X,H),!1!==e.stopScroll&&t.axisX.setStopped(!0)),e&&e.y&&("y"===p||void 0===e.x&&void 0===e.z)&&(t.axisY.Hb(null!==(w=e.mode)&&void 0!==w?w:"centered",X,H),!1!==e.stopScroll&&t.axisY.setStopped(!0)),e&&e.z&&("z"===p||void 0===e.x&&void 0===e.y)&&(t.axisZ.Hb(null!==(M=e.mode)&&void 0!==M?M:"centered",X,H),!1!==e.stopScroll&&t.axisZ.setStopped(!0));var Z=(T.clientX+k.clientX)/2,J=(T.clientY+k.clientY)/2,Q={x:(c.clientX+d.clientX)/2-Z,y:(c.clientY+d.clientY)/2-J},K=Js(Vs(Q),m),q=Gs(Q)*K*.3*(null!==(C=null==r?void 0:r.sensitivity)&&void 0!==C?C:1);r&&r.x&&("x"===p||void 0===r.y&&void 0===r.z)&&(t.axisX.Xb(-q),!1!==r.stopScroll&&t.axisX.setStopped(!0)),r&&r.y&&("y"===p||void 0===r.x&&void 0===r.z)&&(t.axisY.Xb(-q),!1!==r.stopScroll&&t.axisY.setStopped(!0)),r&&r.z&&("z"===p||void 0===r.x&&void 0===r.y)&&(t.axisZ.Xb(-q),!1!==r.stopScroll&&t.axisZ.setStopped(!0)),b={x:Math.abs(c.clientX-d.clientX),y:Math.abs(c.clientY-d.clientY)};var $=(null==r?void 0:r.on)||(null==n?void 0:n.on)||(null==e?void 0:e.on);$&&Qe.requestAnimationFrame((function(){return $({event:void 0})}))}},M=function(t){t.pointerId!==i.pointerId&&t.pointerId!==f.pointerId||(wo(t),S.push(t),g||(g=Qe.requestAnimationFrame(w)))},C=function(n){n.pointerId!==i.pointerId&&n.pointerId!==f.pointerId||(wo(n),t.setCursorMode(A),Qe.removeEventListener("pointermove",M),Qe.removeEventListener("pointerup",C),l(),g&&Qe.cancelAnimationFrame(g))};Qe.addEventListener("pointermove",M),Qe.addEventListener("pointerup",C),vs()}},h=function(n){n.pointerId===i.pointerId&&(t.engine.container.removeEventListener("pointerdown",a),Qe.removeEventListener("pointerup",h))};t.engine.container.addEventListener("pointerdown",a),Qe.addEventListener("pointerup",h)}}(t,s,d,y,A,v,e)};My(t,"wheel",(function(o){var s=Ru(!1!==t.qi.ih.rh),a=u(),h=Vu(a.pan,"wheel",o,i,n,r);h&&s.push((function(){return function(t,i,n){var r,e,o;wo(i),n.x&&(t.axisX.Xb(2*Math.sign(i.deltaY)*(null!==(r=n.sensitivity)&&void 0!==r?r:1)),!1!==n.stopScroll&&t.axisX.setStopped(!0)),n.y&&(t.axisY.Xb(2*Math.sign(i.deltaY)*(null!==(e=n.sensitivity)&&void 0!==e?e:1)),!1!==n.stopScroll&&t.axisY.setStopped(!0)),n.z&&(t.axisZ.Xb(2*Math.sign(i.deltaY)*(null!==(o=n.sensitivity)&&void 0!==o?o:1)),!1!==n.stopScroll&&t.axisZ.setStopped(!0));var s=n.on;s&&Qe.requestAnimationFrame((function(){return s({event:i})}))}(t,o,h)}));var f=Vu(a.zoom,"wheel",o,i,n,r);f&&s.push((function(){return function(t,i,n,r){var e,o,s,u,a,h,f;wo(i),n.x&&(t.axisX.Hb(null!==(e=n.mode)&&void 0!==e?e:"centered",-Math.sign(i.deltaY),3*(null!==(o=n.sensitivity)&&void 0!==o?o:1)),!1!==n.stopScroll&&t.axisX.setStopped(!0)),n.y&&(t.axisY.Hb(null!==(s=n.mode)&&void 0!==s?s:"centered",-Math.sign(i.deltaY),3*(null!==(u=n.sensitivity)&&void 0!==u?u:1)),!1!==n.stopScroll&&t.axisY.setStopped(!0)),n.z&&(t.axisZ.Hb(null!==(a=n.mode)&&void 0!==a?a:"centered",-Math.sign(i.deltaY),3*(null!==(h=n.sensitivity)&&void 0!==h?h:1)),!1!==n.stopScroll&&t.axisZ.setStopped(!0)),n.camera&&(r.Ig(),t.Bg(.5*Math.sign(i.deltaY)*(null!==(f=n.sensitivity)&&void 0!==f?f:1)));var c=n.on;c&&Qe.requestAnimationFrame((function(){return c({event:i})}))}(t,o,f,e)})),s.end()})),My(t,"dblclick",(function(o){if(!o.defaultPrevented){var s=Ru(!1!==t.qi.ih.rh),a=u(),h=Vu(a.restoreDefault,void 0,o,i,n,r);h&&h.doubleClick&&(wo(o),Cy(t,h,e,o));var f=Vu(a.restorePrevious,void 0,o,i,n,r);f&&f.doubleClick&&(wo(o),Ty(t,f,0,o)),s.end()}})),My(t,"click",(function(o){if(!o.defaultPrevented){var s=Ru(!1!==t.qi.ih.rh),a=u(),h=Vu(a.restoreDefault,void 0,o,i,n,r);h&&h.singleClick&&(wo(o),Cy(t,h,e,o));var f=Vu(a.restorePrevious,void 0,o,i,n,r);f&&f.singleClick&&(wo(o),Ty(t,f,0,o)),s.end()}})),My(t,"contextmenu",(function(o){if(!o.defaultPrevented){var s=Ru(!1!==t.qi.ih.rh),a=u(),h=Vu(a.restoreDefault,"rmb",o,i,n,r);h&&h.singleClick&&(wo(o),Cy(t,h,e,o));var f=Vu(a.restorePrevious,"rmb",o,i,n,r);f&&f.singleClick&&(wo(o),Ty(t,f,0,o)),s.end()}}));var v=function(){return d(),y(),function(){d=My(t,"pointermove",c),y=My(t,"pointerdown",l)}},d=My(t,"pointermove",c),y=My(t,"pointerdown",l);return{setUserInteractions:function(t){var i,n;if(void 0===t)s={rotate:!1,zoom:!1,pan:!1,restoreDefault:!1,restorePrevious:!1};else if(0===Object.keys(t).length)s={};else try{for(var r=wy(Object.keys(t)),e=r.next();!e.done;e=r.next()){var o=e.value;!1===t[o]||"object"==typeof t[o]?s[o]=t[o]:s[o]={}}}catch(t){i={error:t}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}},getUserInteractions:u}}(v),v.Dg(v.axisX),v.Dg(v.axisY),v.Dg(v.axisZ);var A=_y({position:t.LegendPosition.RightCenter,backgroundVisible:!0},null==f?void 0:f.legend);return v.legend.setOptions(A),v}return ky(n,i),n.prototype.restorePreviousZoomState=function(t){if(this.ug.length<=1)return this;this.ug.pop();var i=this.ug[this.ug.length-1];return i?(this.ag=!0,this.forEachAxis((function(n){if(!(null==t?void 0:t.whitelist)||t.whitelist.includes(n)){var r=i.get(n);r?n.Wi(r.start,r.end,null==t?void 0:t.animate,void 0!==(null==t?void 0:t.stopAxisAfter)?t.stopAxisAfter:r.stopped,"userSetInterval"):n.fit(null==t?void 0:t.animate,null==t?void 0:t.stopAxisAfter)}})),this.ag=!1,this):this},n.prototype.clearPreviousZoomStateHistory=function(){if(void 0!==this.Lg)this.ug.length=0;else for(;this.ug.length>1;)this.ug.unshift();return this},n.prototype.Dg=function(t){var i=this,n=function(){i.ag||(i.Lg&&Qe.clearTimeout(i.Lg),i.Lg=Qe.setTimeout((function(){i.hg(),i.Lg=void 0}),300))};Qe.requestAnimationFrame((function(){n()})),t.addEventListener("intervalchange",n),t.addEventListener("dispose",(function(){i.ug.forEach((function(i){i.delete(t)}))}))},n.prototype.setUserInteractions=function(t){return this.Fg.setUserInteractions(t),this},n.prototype.getUserInteractions=function(){return this.Fg.getUserInteractions()},n.prototype.setProjection=function(t){this.ZA.Eg(t);var i=this.yg.projectionChanged(this.Ag(),t);return i&&this.bg(i),this.qi.vr(),this},n.prototype.getProjection=function(){return this.ZA.Pg()},n.prototype.setCursor=function(t){return this.Og.setCursor(t),this},n.prototype.getCursor=function(){return this.Og.getCursor()},n.prototype.setCursorMode=function(t){return this.Og.setCursorMode(t),this},n.prototype.getCursorMode=function(){return this.Og.getCursorMode()},n.prototype.setCustomCursor=function(t){return this.Og.setCustomCursor(t),this},n.prototype.setCursorDynamicBehavior=function(t){return this.Og.zg(t),this},n.prototype.setCursorFormatting=function(t){return this.Og.setCursorFormatting(t),this},n.prototype.getCursorFormatting=function(){return this.Og.getCursorFormatting()},n.prototype.addCursor=function(t){void 0===t&&(t=Sy);var i=this.CA(),n=t.qm(i,this.Ud,this.Ud,this.xA(i),this.en,this);return this.BA(n),n},n.prototype.addPointSeries=function(t){var i=new(t&&t.type||Nd)(this,this.rp,this.ZA,this.en,this.qi.Qn,t);return this.ap(i,t),i},n.prototype.addLineSeries=function(t){var i=new jd(this,this.rp,this.ZA,this.en,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ip.length,this.qi.Qn,t);return this.ap(i,t),i},n.prototype.addPointLineSeries=function(t){var i=new Ld(this,this.rp,this.ZA,this.en,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ip.length,this.qi.Qn,t);return this.ap(i,t),i},n.prototype.addSurfaceGridSeries=function(t){var i=new Qd(this,this.rp,this.ZA,t,this.en,this.qi.Qn);return this.ap(i,t),i},n.prototype.addSurfaceScrollingGridSeries=function(t){var i=new $d(this,this.rp,this.ZA,t,this.en,this.qi.Qn);return this.ap(i,t),i},n.prototype.addBoxSeries=function(t){var i=new ad(this,this.rp,this.ZA,this.en,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ip.length,this.qi.Qn);return this.ap(i,t),i},n.prototype.addMeshModel=function(t){var i=new fy(this,this.rp,this.ZA,this.en,t,this.qi.Qn);return this.ap(i,t),i},n.prototype.translateCoordinate=function(t,i,n){if(ty(i)||ty(n)||iy(t)){if(ty(i)&&ty(n)&&iy(t)){if("axes"===i.id&&"world"===n.id)return this.ZA.Ng(t);if("world"===i.id&&"axes"===n.id)return this.ZA.Vg(t);if(i.id===n.id)return t}var r;if(ty(i)&&Lu(n)&&iy(t))return(r=this.ZA.Pb(t))?this.qi.Ih({engineX:r.x,engineY:r.y}):{clientX:-1,clientY:-1};if(ty(i)&&Pu(n)&&iy(t))return(r=this.ZA.Pb(t))?ee(r,this.qi.Yi,this.Ud):{clientX:-1,clientY:-1};throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")}return Iv(t,i,n,this.Ud,this.qi)},n.prototype.getDefaultAxisX=function(){return this.Sg.x},n.prototype.getDefaultAxisY=function(){return this.Sg.y},n.prototype.getDefaultAxisZ=function(){return this.Sg.z},Object.defineProperty(n.prototype,"axisX",{get:function(){return this.getDefaultAxisX()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"xAxis",{get:function(){return this.getDefaultAxisX()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"axisY",{get:function(){return this.getDefaultAxisY()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"yAxis",{get:function(){return this.getDefaultAxisY()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"axisZ",{get:function(){return this.getDefaultAxisZ()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"zAxis",{get:function(){return this.getDefaultAxisZ()},enumerable:!1,configurable:!0}),n.prototype.getDefaultAxes=function(){return[this.Sg.x,this.Sg.y,this.Sg.z]},n.prototype.setCameraLocation=function(t){var i={location:t,direction:ys.normalize(ys.multiply(t,-1))},n=this.yg.cameraLocationChanged(this.Ag(i));return n&&(i=n),this.bg(i),this.qi.vr(),this},n.prototype.getCameraLocation=function(){return this.ZA.getCameraLocation()},n.prototype.getCameraDirection=function(){return this.ZA.getCameraDirection()},n.prototype.setCameraAutomaticFittingEnabled=function(t){this.yg._p(t);var i=this.yg.cameraLocationChanged(this.Ag());return i&&this.bg(i),this},n.prototype.getCameraAutomaticFittingEnabled=function(){return this.yg.zp()},n.prototype.setBoundingBoxStrokeStyle=function(t){return this.wg.Ye(t).Ob(hd(this.wg.Nu())),this.ZA.vr(),this},n.prototype.getBoundingBoxStrokeStyle=function(){return this.wg.Nu()},n.prototype.setBoundingBox=function(t){return this.Mg(t,!1),this},n.prototype.Mg=function(t,i){this.kg=t;var n=this.Tg(t);if(this.pg.x.zt(n.x),this.pg.y.zt(n.y),this.pg.z.zt(-n.z),!i){var r=this.yg.boundingBoxChanged(this.Ag());r&&this.bg(r)}this.qi.vr()},n.prototype.getBoundingBox=function(){return this.kg},n.prototype.Le=function(t){var n=this,r=nd(this.So,this.PA);this.Ar.forEach((function(t){return t.ds(r,n.yu)}));var e=os;if(rd(this.So,this.PA,this.uiScale.Gi(),this.yu,e),0!==this.sg){var o=this.sg*t*.006;this.ig.push({type:"wheel-zoom",deltaY:o}),this.sg=Math.sign(this.sg)*Math.max(Math.abs(this.sg)-.01*t,0),0!==this.sg&&this.qi.vr(!0)}var s=this.getCameraDirection();if(this.ig.length>0){var u=this.yg.applyCameraInteractions(this.Ag(),this.ig);u&&this.bg(u),this.ig.length=0}this.Rg&&ys.equals(this.Rg.location,this.Cg.location)&&ys.equals(this.Rg.direction,this.Cg.direction)||this.Ct.Tt("camerachange",{cameraLocation:this.getCameraLocation()}),this.Rg=this.Cg,i.prototype.Le.call(this,t);for(var h=0;h<this.ip.length;h+=1)this.ip[h].$A();for(h=0;h<this.ip.length;h+=1)this.ip[h].Le();this.Sg.x.Ys(),this.Sg.y.Ys(),this.Sg.z.Ys();var f=this.Sg.x.ds(this.Sg.x.Vb(s)),c=this.Sg.y.ds(this.Sg.y.Vb(s)),l=this.Sg.z.ds(this.Sg.z.Vb(s));this.Sg.x.Le(f),this.Sg.y.Le(c),this.Sg.z.Le(l),this.Og.Le(!1,this.ip,void 0),i.prototype.DA.call(this);var v=this.pg,d=a(v.x.getInnerStart(),v.y.getInnerStart(),v.z.getInnerStart()),y=a(v.x.getInnerEnd(),v.y.getInnerEnd(),v.z.getInnerEnd());this.wg.Sn().Wf([a(y.x,d.y,d.z),a(y.x,y.y,d.z),a(y.x,y.y,y.z),a(y.x,d.y,y.z),a(d.x,d.y,y.z),a(d.x,y.y,y.z),a(y.x,y.y,y.z),a(y.x,y.y,d.z),a(d.x,y.y,d.z),a(d.x,y.y,y.z),a(d.x,d.y,y.z),a(d.x,d.y,d.z)]);var A,b,p,m,g,x,S,w,M,C,T,k=[a(d.x,d.y,d.z),a(y.x,d.y,d.z),a(d.x,y.y,d.z),a(y.x,y.y,d.z),a(d.x,d.y,y.z),a(y.x,d.y,y.z),a(d.x,y.y,y.z),a(y.x,y.y,y.z)].map((function(t){return n.ZA.Pb(t)})),_=this.ZA.Pb(a((d.x+y.x)/2,(d.y+y.y)/2,(d.z+y.z)/2)),O=zo(k,_),F=[];for(h=0;h<O.length;h+=1){var I=O[h];b=_,p=O[h>0?h-1:O.length-1],m=O[h<O.length-1?h+1:0],void 0,void 0,void 0,void 0,void 0,void 0,void 0,g=(A=I).x-m.x,x=A.y-m.y,S=m.x-p.x,M=(w=p.y-m.y)*g+S*x,C=(m.y-b.y)*g+(b.x-m.x)*x,((T=w*(b.x-m.x)+S*(b.y-m.y))<0?M<=0&&C<=0&&M+C>=T:M>=0&&C>=0&&M+C<=T)||F.push(I)}var j=zo(F,_);for(this.sp.rc(j),this.up.rc(j),h=0;h<this.ip.length;h+=1)this.ip[h].tb();this.Ar.forEach((function(t){return t.Le(r,n.yu)}))},n.prototype.dispose=function(){return this._a.forEach((function(t){t()})),this._a.length=0,this.pg.Ft(),this.ZA.Ft(),this.dg.Ft(),this.vg.Ft(),this.Og.Ft(),i.prototype.dispose.call(this)},n.prototype.Dt=function(){return this.pg.x.Dt(),this.pg.y.Dt(),this.pg.z.Dt(),i.prototype.Dt.call(this)},n.prototype.Lt=function(){return i.prototype.Lt.call(this)},n.prototype.bg=function(t){this.ZA.setCameraLocation(t.location).setCameraDirection(t.direction).setLightLocation(ys.addVec(t.location,ys.multiply(t.direction,-this.ng))),this.Cg=t,this.qi.vr()},n.prototype.Tg=function(t){return ys.divide(t,ys.length(t)/this.tg)},n.prototype.Ag=function(t){return void 0===t&&(t=this.Cg),{boundingBox:this.Tg(this.kg),cameraLocation:t.location,cameraDirection:t.direction,projection:this.getProjection()}},n.prototype.forEachAxis=function(t){return t(this.Sg.x),t(this.Sg.y),t(this.Sg.z),this},n.prototype.getSeries=function(){return this.ip},n.prototype.getMinimumSize=function(){},n.prototype.setAnimationsEnabled=function(t){return i.prototype.setAnimationsEnabled.call(this,t),this.setAnimationZoom(t),this.forEachAxis((function(i){return i.setAnimationsEnabled(t)})),this},n.prototype.setAnimationZoom=function(t){return this.rg=!!t,this},n.prototype.getAnimationZoom=function(){return this.rg},n.prototype.jg=function(t){this.ig.push({type:"rotate",rotation:t}),this.qi.vr()},n.prototype.Bg=function(t){this.rg?Math.sign(this.sg)!==Math.sign(t)?this.sg=t:this.sg+=t:this.ig.push({type:"wheel-zoom",deltaY:t}),this.qi.vr()},n.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},n.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},n}(Ud),jy=function(t,i,n){var r,e,o=t.axisX.getTitle()||void 0,s=t.axisY.getTitle()||void 0,u=t.axisZ.getTitle()||void 0;return ue(i)?yS(i,[[{component:i.series,componentColor:AS(i),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],Fy(Fy([],Oy(o?[o,""]:[]),!1),[{text:Uu(i.axisX.formatValue(i.x),i.axisX),font:{weight:"bold"}}],!1),Fy(Fy([],Oy(s?[s,""]:[]),!1),[{text:Uu(i.axisY.formatValue(i.y),i.axisY),font:{weight:"bold"}}],!1),Fy(Fy([],Oy(u?[u,""]:[]),!1),[{text:Uu(i.axisZ.formatValue(i.z),i.axisZ),font:{weight:"bold"}}],!1),void 0!==i.intensity?["Value","",{text:Uu(i.lut?xu(i.lut,i.intensity):i.intensity.toFixed(2),null===(r=i.lut)||void 0===r?void 0:r.units),font:{weight:"bold"}}]:[]]):he(i)?yS(i,[[{component:i.series,componentColor:AS(i),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],void 0!==i.value?["Value","",{text:Uu(i.lut?xu(i.lut,i.value):i.value.toFixed(2),null===(e=i.lut)||void 0===e?void 0:e.units),font:{weight:"bold"}}]:[]]):yS(i,[[{component:i.series,componentColor:AS(i),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],Fy(Fy([],Oy(o?[o,""]:[]),!1),[{text:Uu(i.axisX.formatValue(i.x),i.axisX),font:{weight:"bold"}}],!1),Fy(Fy([],Oy(s?[s,""]:[]),!1),[{text:Uu(i.axisY.formatValue(i.y),i.axisY),font:{weight:"bold"}}],!1),Fy(Fy([],Oy(u?[u,""]:[]),!1),[{text:Uu(i.axisZ.formatValue(i.z),i.axisZ),font:{weight:"bold"}}],!1)])},By=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dy=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return By(i,t),i.prototype.setPosition=function(){for(var t=this,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var r=this.renderingScale;if(i.length>0){var e=Fv(i[0].resultTableScale,r),o=e===this.scale?i[0].resultTable:ee(i[0].resultTable,e,this.scale);this.zm.setPosition(o)}return this.bA=!1,this.Im.forEach((function(t){t.targetVisible=!1})),i.forEach((function(i,n){var e=Fv(i.pointMarkerScale,r),o=e===t.scale?i.pointMarker:ee(i.pointMarker,e,t.scale),s=t.Im[n];if(!s){var u=new Uc(t.kr,t.renderingScale,t.scale,io,t.en).setPointerEvents(!1).setFillStyle(t.en.cursorPointMarkerFillStyle).setStrokeStyle(t.en.cursorPointMarkerStrokeStyle).setSize(t.en.cursorPointMarkerSize).setShape(t.en.cursorPointMarkerShape);s={pointMarker:u,targetVisible:!0},t.Im.push(s),t.Dm.forEach((function(t){return t(u)}))}i.pointMarkerShape&&s.pointMarker.setShape(i.pointMarkerShape),i.pointMarkerSize&&s.pointMarker.setSize(i.pointMarkerSize),i.pointMarkerFillStyle&&s.pointMarker.setFillStyle(i.pointMarkerFillStyle),i.pointMarkerStrokeStyle&&s.pointMarker.setStrokeStyle(i.pointMarkerStrokeStyle),s.pointMarker.setPosition(o),s.targetVisible=function(t,i,n){void 0===n&&(n=i);var r=i!==n?ee(t,i,n):t;return r.x>=n.x.getInnerStart()&&r.x<=n.x.getInnerEnd()&&r.y>=n.y.getInnerStart()&&r.y<=n.y.getInnerEnd()}(i.pointMarker,e),s.targetVisible&&(t.bA=!0)})),this.kr.vr(),this},i}(Ay),Ly=function t(i,n){void 0===n&&(n=[]);var r=this;this.Qm=[],this.Km=function(t,i){return r.Qm.forEach((function(n){return n(t,i)})),t},this.addStyler=function(i){return new t(r.Pm,r.Qm.map((function(t){return t})).concat(i))},this.setResultTableBackground=function(i){return new t(i,r.Qm.map((function(t){return t})))},this.qm=function(t,i,n,e,o){return r.Km(new Dy(t,i,n,e,r.Pm,o),o)},this.Pm=i,this.Qm=n},Ey=new Ly(Nc,[by]),Py=Ey,zy=Ey,Ny=Ey,Vy=Ey,Ry=Py,Gy=new Ly(Nc,[by,function(t){return t.setPointMarkerVisible(!1).setResultTable((function(t){return t.setOrigin(gh.LeftBottom)}))}]),Uy=Ey,Yy={Angola:{name:"Angola",ISO_A3:"AGO"},Burundi:{name:"Burundi",ISO_A3:"BDI"},Benin:{name:"Benin",ISO_A3:"BEN"},"Burkina Faso":{name:"Burkina Faso",ISO_A3:"BFA"},Botswana:{name:"Botswana",ISO_A3:"BWA"},"Central African Republic":{name:"Central African Republic",ISO_A3:"CAF"},"Ivory Coast":{name:"Ivory Coast",ISO_A3:"CIV"},Cameroon:{name:"Cameroon",ISO_A3:"CMR"},"Democratic Republic of the Congo":{name:"Democratic Republic of the Congo",ISO_A3:"COD"},"Republic of Congo":{name:"Republic of Congo",ISO_A3:"COG"},Comoros:{name:"Comoros",ISO_A3:"COM"},"Cape Verde":{name:"Cape Verde",ISO_A3:"CPV"},Djibouti:{name:"Djibouti",ISO_A3:"DJI"},Algeria:{name:"Algeria",ISO_A3:"DZA"},Egypt:{name:"Egypt",ISO_A3:"EGY"},Eritrea:{name:"Eritrea",ISO_A3:"ERI"},Ethiopia:{name:"Ethiopia",ISO_A3:"ETH"},Gabon:{name:"Gabon",ISO_A3:"GAB"},Ghana:{name:"Ghana",ISO_A3:"GHA"},Guinea:{name:"Guinea",ISO_A3:"GIN"},Gambia:{name:"Gambia",ISO_A3:"GMB"},"Guinea Bissau":{name:"Guinea Bissau",ISO_A3:"GNB"},"Equatorial Guinea":{name:"Equatorial Guinea",ISO_A3:"GNQ"},Israel:{name:"Israel",ISO_A3:"ISR"},Jordan:{name:"Jordan",ISO_A3:"JOR"},Kenya:{name:"Kenya",ISO_A3:"KEN"},Lebanon:{name:"Lebanon",ISO_A3:"LBN"},Liberia:{name:"Liberia",ISO_A3:"LBR"},Libya:{name:"Libya",ISO_A3:"LBY"},Lesotho:{name:"Lesotho",ISO_A3:"LSO"},Morocco:{name:"Morocco",ISO_A3:"MAR"},Madagascar:{name:"Madagascar",ISO_A3:"MDG"},Mali:{name:"Mali",ISO_A3:"MLI"},Malta:{name:"Malta",ISO_A3:"MLT"},Mozambique:{name:"Mozambique",ISO_A3:"MOZ"},Mauritania:{name:"Mauritania",ISO_A3:"MRT"},Mauritius:{name:"Mauritius",ISO_A3:"MUS"},Malawi:{name:"Malawi",ISO_A3:"MWI"},Namibia:{name:"Namibia",ISO_A3:"NAM"},Niger:{name:"Niger",ISO_A3:"NER"},Nigeria:{name:"Nigeria",ISO_A3:"NGA"},Oman:{name:"Oman",ISO_A3:"OMN"},Rwanda:{name:"Rwanda",ISO_A3:"RWA"},"Western Sahara":{name:"Western Sahara",ISO_A3:"ESH"},"Saudi Arabia":{name:"Saudi Arabia",ISO_A3:"SAU"},Sudan:{name:"Sudan",ISO_A3:"SDN"},"South Sudan":{name:"South Sudan",ISO_A3:"SSD"},Senegal:{name:"Senegal",ISO_A3:"SEN"},"Saint Helena":{name:"Saint Helena",ISO_A3:"SHN"},"Sierra Leone":{name:"Sierra Leone",ISO_A3:"SLE"},Somalia:{name:"Somalia",ISO_A3:"SOM"},Swaziland:{name:"Swaziland",ISO_A3:"SWZ"},Seychelles:{name:"Seychelles",ISO_A3:"SYC"},Syria:{name:"Syria",ISO_A3:"SYR"},Chad:{name:"Chad",ISO_A3:"TCD"},Togo:{name:"Togo",ISO_A3:"TGO"},Tunisia:{name:"Tunisia",ISO_A3:"TUN"},"United Republic of Tanzania":{name:"United Republic of Tanzania",ISO_A3:"TZA"},Uganda:{name:"Uganda",ISO_A3:"UGA"},Yemen:{name:"Yemen",ISO_A3:"YEM"},"South Africa":{name:"South Africa",ISO_A3:"ZAF"},Zambia:{name:"Zambia",ISO_A3:"ZMB"},Zimbabwe:{name:"Zimbabwe",ISO_A3:"ZWE"}},Wy={Afghanistan:{name:"Afghanistan",ISO_A3:"AFG"},"United Arab Emirates":{name:"United Arab Emirates",ISO_A3:"ARE"},Armenia:{name:"Armenia",ISO_A3:"ARM"},Australia:{name:"Australia",ISO_A3:"AUS"},Azerbaijan:{name:"Azerbaijan",ISO_A3:"AZE"},Bangladesh:{name:"Bangladesh",ISO_A3:"BGD"},Bahrain:{name:"Bahrain",ISO_A3:"BHR"},Brunei:{name:"Brunei",ISO_A3:"BRN"},Bhutan:{name:"Bhutan",ISO_A3:"BTN"},China:{name:"China",ISO_A3:"CHN"},Georgia:{name:"Georgia",ISO_A3:"GEO"},Indonesia:{name:"Indonesia",ISO_A3:"IDN"},India:{name:"India",ISO_A3:"IND"},Iran:{name:"Iran",ISO_A3:"IRN"},Iraq:{name:"Iraq",ISO_A3:"IRQ"},Israel:{name:"Israel",ISO_A3:"ISR"},Jordan:{name:"Jordan",ISO_A3:"JOR"},Japan:{name:"Japan",ISO_A3:"JPN"},Kazakhstan:{name:"Kazakhstan",ISO_A3:"KAZ"},Kyrgyzstan:{name:"Kyrgyzstan",ISO_A3:"KGZ"},Cambodia:{name:"Cambodia",ISO_A3:"KHM"},"South Korea":{name:"South Korea",ISO_A3:"KOR"},Kuwait:{name:"Kuwait",ISO_A3:"KWT"},Laos:{name:"Laos",ISO_A3:"LAO"},Lebanon:{name:"Lebanon",ISO_A3:"LBN"},"Sri Lanka":{name:"Sri Lanka",ISO_A3:"LKA"},Maldives:{name:"Maldives",ISO_A3:"MDV"},Myanmar:{name:"Myanmar",ISO_A3:"MMR"},Mongolia:{name:"Mongolia",ISO_A3:"MNG"},Malaysia:{name:"Malaysia",ISO_A3:"MYS"},Nepal:{name:"Nepal",ISO_A3:"NPL"},Oman:{name:"Oman",ISO_A3:"OMN"},Pakistan:{name:"Pakistan",ISO_A3:"PAK"},Philippines:{name:"Philippines",ISO_A3:"PHL"},"Papua New Guinea":{name:"Papua New Guinea",ISO_A3:"PNG"},"North Korea":{name:"North Korea",ISO_A3:"PRK"},Palestine:{name:"Palestine",ISO_A3:"PSE"},Qatar:{name:"Qatar",ISO_A3:"QAT"},Russia:{name:"Russia",ISO_A3:"RUS"},"Saudi Arabia":{name:"Saudi Arabia",ISO_A3:"SAU"},Singapore:{name:"Singapore",ISO_A3:"SGP"},Syria:{name:"Syria",ISO_A3:"SYR"},Thailand:{name:"Thailand",ISO_A3:"THA"},Tajikistan:{name:"Tajikistan",ISO_A3:"TJK"},Turkmenistan:{name:"Turkmenistan",ISO_A3:"TKM"},Turkey:{name:"Turkey",ISO_A3:"TUR"},Taiwan:{name:"Taiwan",ISO_A3:"TWN"},Uzbekistan:{name:"Uzbekistan",ISO_A3:"UZB"},Vietnam:{name:"Vietnam",ISO_A3:"VNM"},Yemen:{name:"Yemen",ISO_A3:"YEM"}},Xy={"New South Wales":{name:"New South Wales"},Victoria:{name:"Victoria"},Queensland:{name:"Queensland"},"South Australia":{name:"South Australia"},"Western Australia":{name:"Western Australia"},Tasmania:{name:"Tasmania"},"Northern Territory":{name:"Northern Territory"},"Australian Capital Territory":{name:"Australian Capital Territory"},"Other Territories":{name:"Other Territories"}},Hy={"British Columbia":{name:"British Columbia"},Quebec:{name:"Quebec"},Nunavut:{name:"Nunavut"},"Prince Edward Island":{name:"Prince Edward Island"},Saskatchewan:{name:"Saskatchewan"},Yukon:{name:"Yukon"},Manitoba:{name:"Manitoba"},Ontario:{name:"Ontario"},"New Brunswick":{name:"New Brunswick"},"Northwest Territories":{name:"Northwest Territories"},Alberta:{name:"Alberta"},"Newfoundland and Labrador":{name:"Newfoundland and Labrador"},"Nova Scotia":{name:"Nova Scotia"}},Zy={Albania:{name:"Albania",ISO_A3:"ALB"},Austria:{name:"Austria",ISO_A3:"AUT"},Belarus:{name:"Belarus",ISO_A3:"BLR"},Belgium:{name:"Belgium",ISO_A3:"BEL"},Bulgaria:{name:"Bulgaria",ISO_A3:"BGR"},"Bosnia and Herzegovina":{name:"Bosnia and Herzegovina",ISO_A3:"BIH"},Switzerland:{name:"Switzerland",ISO_A3:"CHE"},Cyprus:{name:"Cyprus",ISO_A3:"CYP"},"Czech Republic":{name:"Czech Republic",ISO_A3:"CZE"},Germany:{name:"Germany",ISO_A3:"DEU"},Denmark:{name:"Denmark",ISO_A3:"DNK"},Spain:{name:"Spain",ISO_A3:"ESP"},Estonia:{name:"Estonia",ISO_A3:"EST"},Finland:{name:"Finland",ISO_A3:"FIN"},France:{name:"France",ISO_A3:"FRA"},"United Kingdom":{name:"United Kingdom",ISO_A3:"GBR"},Greece:{name:"Greece",ISO_A3:"GRC"},Croatia:{name:"Croatia",ISO_A3:"HRV"},Hungary:{name:"Hungary",ISO_A3:"HUN"},Ireland:{name:"Ireland",ISO_A3:"IRL"},Iceland:{name:"Iceland",ISO_A3:"ISL"},Italy:{name:"Italy",ISO_A3:"ITA"},Kosovo:{name:"Kosovo",ISO_A3:"-99"},Lithuania:{name:"Lithuania",ISO_A3:"LTU"},Luxembourg:{name:"Luxembourg",ISO_A3:"LUX"},Latvia:{name:"Latvia",ISO_A3:"LVA"},Macedonia:{name:"Macedonia",ISO_A3:"MKD"},Malta:{name:"Malta",ISO_A3:"MLT"},Montenegro:{name:"Montenegro",ISO_A3:"MNE"},Netherlands:{name:"Netherlands",ISO_A3:"NLD"},Norway:{name:"Norway",ISO_A3:"NOR"},Poland:{name:"Poland",ISO_A3:"POL"},Portugal:{name:"Portugal",ISO_A3:"PRT"},Romania:{name:"Romania",ISO_A3:"ROU"},"Republic of Serbia":{name:"Republic of Serbia",ISO_A3:"SRB"},Slovakia:{name:"Slovakia",ISO_A3:"SVK"},Slovenia:{name:"Slovenia",ISO_A3:"SVN"},Sweden:{name:"Sweden",ISO_A3:"SWE"},Ukraine:{name:"Ukraine",ISO_A3:"UKR"},Moldova:{name:"Moldova",ISO_A3:"MDA"},Russia:{name:"Russia",ISO_A3:"RUS"},Turkey:{name:"Turkey",ISO_A3:"TUR"}},Jy={Aruba:{name:"Aruba",ISO_A3:"ABW"},Afghanistan:{name:"Afghanistan",ISO_A3:"AFG"},Angola:{name:"Angola",ISO_A3:"AGO"},Anguilla:{name:"Anguilla",ISO_A3:"AIA"},Albania:{name:"Albania",ISO_A3:"ALB"},Aland:{name:"Aland",ISO_A3:"ALA"},Andorra:{name:"Andorra",ISO_A3:"AND"},"United Arab Emirates":{name:"United Arab Emirates",ISO_A3:"ARE"},Argentina:{name:"Argentina",ISO_A3:"ARG"},Armenia:{name:"Armenia",ISO_A3:"ARM"},"American Samoa":{name:"American Samoa",ISO_A3:"ASM"},Antarctica:{name:"Antarctica",ISO_A3:"ATA"},"French Southern and Antarctic Lands":{name:"French Southern and Antarctic Lands",ISO_A3:"ATF"},"Antigua and Barbuda":{name:"Antigua and Barbuda",ISO_A3:"ATG"},Australia:{name:"Australia",ISO_A3:"AUS"},Austria:{name:"Austria",ISO_A3:"AUT"},Azerbaijan:{name:"Azerbaijan",ISO_A3:"AZE"},Burundi:{name:"Burundi",ISO_A3:"BDI"},Belgium:{name:"Belgium",ISO_A3:"BEL"},Benin:{name:"Benin",ISO_A3:"BEN"},"Burkina Faso":{name:"Burkina Faso",ISO_A3:"BFA"},Bangladesh:{name:"Bangladesh",ISO_A3:"BGD"},Bulgaria:{name:"Bulgaria",ISO_A3:"BGR"},Bahrain:{name:"Bahrain",ISO_A3:"BHR"},"The Bahamas":{name:"The Bahamas",ISO_A3:"BHS"},"Bosnia and Herzegovina":{name:"Bosnia and Herzegovina",ISO_A3:"BIH"},Belarus:{name:"Belarus",ISO_A3:"BLR"},Belize:{name:"Belize",ISO_A3:"BLZ"},Bermuda:{name:"Bermuda",ISO_A3:"BMU"},Bolivia:{name:"Bolivia",ISO_A3:"BOL"},Brazil:{name:"Brazil",ISO_A3:"BRA"},Barbados:{name:"Barbados",ISO_A3:"BRB"},Brunei:{name:"Brunei",ISO_A3:"BRN"},Bhutan:{name:"Bhutan",ISO_A3:"BTN"},Botswana:{name:"Botswana",ISO_A3:"BWA"},"Central African Republic":{name:"Central African Republic",ISO_A3:"CAF"},Canada:{name:"Canada",ISO_A3:"CAN"},Switzerland:{name:"Switzerland",ISO_A3:"CHE"},Chile:{name:"Chile",ISO_A3:"CHL"},China:{name:"China",ISO_A3:"CHN"},"Ivory Coast":{name:"Ivory Coast",ISO_A3:"CIV"},Cameroon:{name:"Cameroon",ISO_A3:"CMR"},"Cyprus No Mans Area":{name:"Cyprus No Mans Area",ISO_A3:"-99"},"Democratic Republic of the Congo":{name:"Democratic Republic of the Congo",ISO_A3:"COD"},"Republic of Congo":{name:"Republic of Congo",ISO_A3:"COG"},"Cook Islands":{name:"Cook Islands",ISO_A3:"COK"},Colombia:{name:"Colombia",ISO_A3:"COL"},Comoros:{name:"Comoros",ISO_A3:"COM"},"Cape Verde":{name:"Cape Verde",ISO_A3:"CPV"},"Costa Rica":{name:"Costa Rica",ISO_A3:"CRI"},Cuba:{name:"Cuba",ISO_A3:"CUB"},"Curaao":{name:"Curaao",ISO_A3:"CUW"},"Cayman Islands":{name:"Cayman Islands",ISO_A3:"CYM"},"Northern Cyprus":{name:"Northern Cyprus",ISO_A3:"-99"},Cyprus:{name:"Cyprus",ISO_A3:"CYP"},"Czech Republic":{name:"Czech Republic",ISO_A3:"CZE"},Germany:{name:"Germany",ISO_A3:"DEU"},Djibouti:{name:"Djibouti",ISO_A3:"DJI"},Dominica:{name:"Dominica",ISO_A3:"DMA"},Denmark:{name:"Denmark",ISO_A3:"DNK"},"Dominican Republic":{name:"Dominican Republic",ISO_A3:"DOM"},Algeria:{name:"Algeria",ISO_A3:"DZA"},Ecuador:{name:"Ecuador",ISO_A3:"ECU"},Egypt:{name:"Egypt",ISO_A3:"EGY"},Eritrea:{name:"Eritrea",ISO_A3:"ERI"},"Dhekelia Sovereign Base Area":{name:"Dhekelia Sovereign Base Area",ISO_A3:"-99"},Spain:{name:"Spain",ISO_A3:"ESP"},Estonia:{name:"Estonia",ISO_A3:"EST"},Ethiopia:{name:"Ethiopia",ISO_A3:"ETH"},Finland:{name:"Finland",ISO_A3:"FIN"},Fiji:{name:"Fiji",ISO_A3:"FJI"},"Falkland Islands":{name:"Falkland Islands",ISO_A3:"FLK"},France:{name:"France",ISO_A3:"FRA"},"Faroe Islands":{name:"Faroe Islands",ISO_A3:"FRO"},"Federated States of Micronesia":{name:"Federated States of Micronesia",ISO_A3:"FSM"},Gabon:{name:"Gabon",ISO_A3:"GAB"},"United Kingdom":{name:"United Kingdom",ISO_A3:"GBR"},Georgia:{name:"Georgia",ISO_A3:"GEO"},Guernsey:{name:"Guernsey",ISO_A3:"GGY"},Ghana:{name:"Ghana",ISO_A3:"GHA"},Guinea:{name:"Guinea",ISO_A3:"GIN"},Gambia:{name:"Gambia",ISO_A3:"GMB"},"Guinea Bissau":{name:"Guinea Bissau",ISO_A3:"GNB"},"Equatorial Guinea":{name:"Equatorial Guinea",ISO_A3:"GNQ"},Greece:{name:"Greece",ISO_A3:"GRC"},Grenada:{name:"Grenada",ISO_A3:"GRD"},Greenland:{name:"Greenland",ISO_A3:"GRL"},Guatemala:{name:"Guatemala",ISO_A3:"GTM"},Guam:{name:"Guam",ISO_A3:"GUM"},Guyana:{name:"Guyana",ISO_A3:"GUY"},"Hong Kong S.A.R.":{name:"Hong Kong S.A.R.",ISO_A3:"HKG"},"Heard Island and McDonald Islands":{name:"Heard Island and McDonald Islands",ISO_A3:"HMD"},Honduras:{name:"Honduras",ISO_A3:"HND"},Croatia:{name:"Croatia",ISO_A3:"HRV"},Haiti:{name:"Haiti",ISO_A3:"HTI"},Hungary:{name:"Hungary",ISO_A3:"HUN"},Indonesia:{name:"Indonesia",ISO_A3:"IDN"},"Isle of Man":{name:"Isle of Man",ISO_A3:"IMN"},India:{name:"India",ISO_A3:"IND"},"Indian Ocean Territories":{name:"Indian Ocean Territories",ISO_A3:"-99"},"British Indian Ocean Territory":{name:"British Indian Ocean Territory",ISO_A3:"IOT"},Ireland:{name:"Ireland",ISO_A3:"IRL"},Iran:{name:"Iran",ISO_A3:"IRN"},Iraq:{name:"Iraq",ISO_A3:"IRQ"},Iceland:{name:"Iceland",ISO_A3:"ISL"},Israel:{name:"Israel",ISO_A3:"ISR"},Italy:{name:"Italy",ISO_A3:"ITA"},Jamaica:{name:"Jamaica",ISO_A3:"JAM"},Jersey:{name:"Jersey",ISO_A3:"JEY"},Jordan:{name:"Jordan",ISO_A3:"JOR"},Japan:{name:"Japan",ISO_A3:"JPN"},"Baykonur Cosmodrome":{name:"Baykonur Cosmodrome",ISO_A3:"-99"},"Siachen Glacier":{name:"Siachen Glacier",ISO_A3:"-99"},Kazakhstan:{name:"Kazakhstan",ISO_A3:"KAZ"},Kenya:{name:"Kenya",ISO_A3:"KEN"},Kyrgyzstan:{name:"Kyrgyzstan",ISO_A3:"KGZ"},Cambodia:{name:"Cambodia",ISO_A3:"KHM"},Kiribati:{name:"Kiribati",ISO_A3:"KIR"},"Saint Kitts and Nevis":{name:"Saint Kitts and Nevis",ISO_A3:"KNA"},"South Korea":{name:"South Korea",ISO_A3:"KOR"},Kosovo:{name:"Kosovo",ISO_A3:"-99"},Kuwait:{name:"Kuwait",ISO_A3:"KWT"},Laos:{name:"Laos",ISO_A3:"LAO"},Lebanon:{name:"Lebanon",ISO_A3:"LBN"},Liberia:{name:"Liberia",ISO_A3:"LBR"},Libya:{name:"Libya",ISO_A3:"LBY"},"Saint Lucia":{name:"Saint Lucia",ISO_A3:"LCA"},Liechtenstein:{name:"Liechtenstein",ISO_A3:"LIE"},"Sri Lanka":{name:"Sri Lanka",ISO_A3:"LKA"},Lesotho:{name:"Lesotho",ISO_A3:"LSO"},Lithuania:{name:"Lithuania",ISO_A3:"LTU"},Luxembourg:{name:"Luxembourg",ISO_A3:"LUX"},Latvia:{name:"Latvia",ISO_A3:"LVA"},"Macao S.A.R":{name:"Macao S.A.R",ISO_A3:"MAC"},"Saint Martin":{name:"Saint Martin",ISO_A3:"MAF"},Morocco:{name:"Morocco",ISO_A3:"MAR"},Moldova:{name:"Moldova",ISO_A3:"MDA"},Madagascar:{name:"Madagascar",ISO_A3:"MDG"},Maldives:{name:"Maldives",ISO_A3:"MDV"},Mexico:{name:"Mexico",ISO_A3:"MEX"},"Marshall Islands":{name:"Marshall Islands",ISO_A3:"MHL"},Macedonia:{name:"Macedonia",ISO_A3:"MKD"},Mali:{name:"Mali",ISO_A3:"MLI"},Malta:{name:"Malta",ISO_A3:"MLT"},Myanmar:{name:"Myanmar",ISO_A3:"MMR"},Montenegro:{name:"Montenegro",ISO_A3:"MNE"},Mongolia:{name:"Mongolia",ISO_A3:"MNG"},"Northern Mariana Islands":{name:"Northern Mariana Islands",ISO_A3:"MNP"},Mozambique:{name:"Mozambique",ISO_A3:"MOZ"},Mauritania:{name:"Mauritania",ISO_A3:"MRT"},Montserrat:{name:"Montserrat",ISO_A3:"MSR"},Mauritius:{name:"Mauritius",ISO_A3:"MUS"},Malawi:{name:"Malawi",ISO_A3:"MWI"},Malaysia:{name:"Malaysia",ISO_A3:"MYS"},Namibia:{name:"Namibia",ISO_A3:"NAM"},"New Caledonia":{name:"New Caledonia",ISO_A3:"NCL"},Niger:{name:"Niger",ISO_A3:"NER"},Nigeria:{name:"Nigeria",ISO_A3:"NGA"},Nicaragua:{name:"Nicaragua",ISO_A3:"NIC"},Niue:{name:"Niue",ISO_A3:"NIU"},Netherlands:{name:"Netherlands",ISO_A3:"NLD"},Norway:{name:"Norway",ISO_A3:"NOR"},Nepal:{name:"Nepal",ISO_A3:"NPL"},"New Zealand":{name:"New Zealand",ISO_A3:"NZL"},Oman:{name:"Oman",ISO_A3:"OMN"},Pakistan:{name:"Pakistan",ISO_A3:"PAK"},Panama:{name:"Panama",ISO_A3:"PAN"},"Pitcairn Islands":{name:"Pitcairn Islands",ISO_A3:"PCN"},Peru:{name:"Peru",ISO_A3:"PER"},"Spratly Islands":{name:"Spratly Islands",ISO_A3:"-99"},Philippines:{name:"Philippines",ISO_A3:"PHL"},Palau:{name:"Palau",ISO_A3:"PLW"},"Papua New Guinea":{name:"Papua New Guinea",ISO_A3:"PNG"},Poland:{name:"Poland",ISO_A3:"POL"},"Puerto Rico":{name:"Puerto Rico",ISO_A3:"PRI"},"North Korea":{name:"North Korea",ISO_A3:"PRK"},Portugal:{name:"Portugal",ISO_A3:"PRT"},Paraguay:{name:"Paraguay",ISO_A3:"PRY"},Palestine:{name:"Palestine",ISO_A3:"PSE"},"French Polynesia":{name:"French Polynesia",ISO_A3:"PYF"},Qatar:{name:"Qatar",ISO_A3:"QAT"},Romania:{name:"Romania",ISO_A3:"ROU"},Russia:{name:"Russia",ISO_A3:"RUS"},Rwanda:{name:"Rwanda",ISO_A3:"RWA"},"Western Sahara":{name:"Western Sahara",ISO_A3:"ESH"},"Saudi Arabia":{name:"Saudi Arabia",ISO_A3:"SAU"},Sudan:{name:"Sudan",ISO_A3:"SDN"},"South Sudan":{name:"South Sudan",ISO_A3:"SSD"},Senegal:{name:"Senegal",ISO_A3:"SEN"},Singapore:{name:"Singapore",ISO_A3:"SGP"},"South Georgia and South Sandwich Islands":{name:"South Georgia and South Sandwich Islands",ISO_A3:"SGS"},"Saint Helena":{name:"Saint Helena",ISO_A3:"SHN"},"Solomon Islands":{name:"Solomon Islands",ISO_A3:"SLB"},"Sierra Leone":{name:"Sierra Leone",ISO_A3:"SLE"},"El Salvador":{name:"El Salvador",ISO_A3:"SLV"},Somalia:{name:"Somalia",ISO_A3:"SOM"},"Saint Pierre and Miquelon":{name:"Saint Pierre and Miquelon",ISO_A3:"SPM"},"Republic of Serbia":{name:"Republic of Serbia",ISO_A3:"SRB"},"Sao Tome and Principe":{name:"Sao Tome and Principe",ISO_A3:"STP"},Suriname:{name:"Suriname",ISO_A3:"SUR"},Slovakia:{name:"Slovakia",ISO_A3:"SVK"},Slovenia:{name:"Slovenia",ISO_A3:"SVN"},Sweden:{name:"Sweden",ISO_A3:"SWE"},Swaziland:{name:"Swaziland",ISO_A3:"SWZ"},Seychelles:{name:"Seychelles",ISO_A3:"SYC"},Syria:{name:"Syria",ISO_A3:"SYR"},"Turks and Caicos Islands":{name:"Turks and Caicos Islands",ISO_A3:"TCA"},Chad:{name:"Chad",ISO_A3:"TCD"},Togo:{name:"Togo",ISO_A3:"TGO"},Thailand:{name:"Thailand",ISO_A3:"THA"},Tajikistan:{name:"Tajikistan",ISO_A3:"TJK"},Turkmenistan:{name:"Turkmenistan",ISO_A3:"TKM"},"East Timor":{name:"East Timor",ISO_A3:"TLS"},Tonga:{name:"Tonga",ISO_A3:"TON"},"Trinidad and Tobago":{name:"Trinidad and Tobago",ISO_A3:"TTO"},Tunisia:{name:"Tunisia",ISO_A3:"TUN"},Turkey:{name:"Turkey",ISO_A3:"TUR"},Tuvalu:{name:"Tuvalu",ISO_A3:"TUV"},Taiwan:{name:"Taiwan",ISO_A3:"TWN"},"United Republic of Tanzania":{name:"United Republic of Tanzania",ISO_A3:"TZA"},Uganda:{name:"Uganda",ISO_A3:"UGA"},Ukraine:{name:"Ukraine",ISO_A3:"UKR"},"United States Minor Outlying Islands":{name:"United States Minor Outlying Islands",ISO_A3:"UMI"},Uruguay:{name:"Uruguay",ISO_A3:"URY"},"United States of America":{name:"United States of America",ISO_A3:"USA"},"US Naval Base Guantanamo Bay":{name:"US Naval Base Guantanamo Bay",ISO_A3:"-99"},Uzbekistan:{name:"Uzbekistan",ISO_A3:"UZB"},"Saint Vincent and the Grenadines":{name:"Saint Vincent and the Grenadines",ISO_A3:"VCT"},Venezuela:{name:"Venezuela",ISO_A3:"VEN"},"British Virgin Islands":{name:"British Virgin Islands",ISO_A3:"VGB"},"United States Virgin Islands":{name:"United States Virgin Islands",ISO_A3:"VIR"},Vietnam:{name:"Vietnam",ISO_A3:"VNM"},Vanuatu:{name:"Vanuatu",ISO_A3:"VUT"},"Wallis and Futuna":{name:"Wallis and Futuna",ISO_A3:"WLF"},"Akrotiri Sovereign Base Area":{name:"Akrotiri Sovereign Base Area",ISO_A3:"-99"},Samoa:{name:"Samoa",ISO_A3:"WSM"},Yemen:{name:"Yemen",ISO_A3:"YEM"},"South Africa":{name:"South Africa",ISO_A3:"ZAF"},Zambia:{name:"Zambia",ISO_A3:"ZMB"},Zimbabwe:{name:"Zimbabwe",ISO_A3:"ZWE"},"French Guyana":{name:"French Guyana",ISO_A3:"GUF"}},Qy={Alabama:{name:"Alabama"},Alaska:{name:"Alaska"},Arizona:{name:"Arizona"},Arkansas:{name:"Arkansas"},California:{name:"California"},Colorado:{name:"Colorado"},Connecticut:{name:"Connecticut"},Delaware:{name:"Delaware"},"District of Columbia":{name:"District of Columbia"},Florida:{name:"Florida"},Georgia:{name:"Georgia"},Hawaii:{name:"Hawaii"},Idaho:{name:"Idaho"},Illinois:{name:"Illinois"},Indiana:{name:"Indiana"},Iowa:{name:"Iowa"},Kansas:{name:"Kansas"},Kentucky:{name:"Kentucky"},Louisiana:{name:"Louisiana"},Maine:{name:"Maine"},Maryland:{name:"Maryland"},Massachusetts:{name:"Massachusetts"},Michigan:{name:"Michigan"},Minnesota:{name:"Minnesota"},Mississippi:{name:"Mississippi"},Missouri:{name:"Missouri"},Montana:{name:"Montana"},Nebraska:{name:"Nebraska"},Nevada:{name:"Nevada"},"New Hampshire":{name:"New Hampshire"},"New Jersey":{name:"New Jersey"},"New Mexico":{name:"New Mexico"},"New York":{name:"New York"},"North Carolina":{name:"North Carolina"},"North Dakota":{name:"North Dakota"},Ohio:{name:"Ohio"},Oklahoma:{name:"Oklahoma"},Oregon:{name:"Oregon"},Pennsylvania:{name:"Pennsylvania"},"Rhode Island":{name:"Rhode Island"},"South Carolina":{name:"South Carolina"},"South Dakota":{name:"South Dakota"},Tennessee:{name:"Tennessee"},Texas:{name:"Texas"},Utah:{name:"Utah"},Vermont:{name:"Vermont"},Virginia:{name:"Virginia"},Washington:{name:"Washington"},"West Virginia":{name:"West Virginia"},Wisconsin:{name:"Wisconsin"},Wyoming:{name:"Wyoming"}},Ky={Anguilla:{name:"Anguilla",ISO_A3:"AIA"},"Antigua and Barbuda":{name:"Antigua and Barbuda",ISO_A3:"ATG"},"The Bahamas":{name:"The Bahamas",ISO_A3:"BHS"},Bermuda:{name:"Bermuda",ISO_A3:"BMU"},Barbados:{name:"Barbados",ISO_A3:"BRB"},Canada:{name:"Canada",ISO_A3:"CAN"},Cuba:{name:"Cuba",ISO_A3:"CUB"},"Cayman Islands":{name:"Cayman Islands",ISO_A3:"CYM"},Dominica:{name:"Dominica",ISO_A3:"DMA"},"Dominican Republic":{name:"Dominican Republic",ISO_A3:"DOM"},Grenada:{name:"Grenada",ISO_A3:"GRD"},Greenland:{name:"Greenland",ISO_A3:"GRL"},Haiti:{name:"Haiti",ISO_A3:"HTI"},Jamaica:{name:"Jamaica",ISO_A3:"JAM"},"Saint Kitts and Nevis":{name:"Saint Kitts and Nevis",ISO_A3:"KNA"},"Saint Lucia":{name:"Saint Lucia",ISO_A3:"LCA"},"Saint Martin":{name:"Saint Martin",ISO_A3:"MAF"},Mexico:{name:"Mexico",ISO_A3:"MEX"},Montserrat:{name:"Montserrat",ISO_A3:"MSR"},"Puerto Rico":{name:"Puerto Rico",ISO_A3:"PRI"},"Saint Pierre and Miquelon":{name:"Saint Pierre and Miquelon",ISO_A3:"SPM"},"Turks and Caicos Islands":{name:"Turks and Caicos Islands",ISO_A3:"TCA"},"Trinidad and Tobago":{name:"Trinidad and Tobago",ISO_A3:"TTO"},"United States of America":{name:"United States of America",ISO_A3:"USA"},"Saint Vincent and the Grenadines":{name:"Saint Vincent and the Grenadines",ISO_A3:"VCT"},"British Virgin Islands":{name:"British Virgin Islands",ISO_A3:"VGB"},"United States Virgin Islands":{name:"United States Virgin Islands",ISO_A3:"VIR"}},qy={Argentina:{name:"Argentina",ISO_A3:"ARG"},Bolivia:{name:"Bolivia",ISO_A3:"BOL"},Brazil:{name:"Brazil",ISO_A3:"BRA"},Chile:{name:"Chile",ISO_A3:"CHL"},Colombia:{name:"Colombia",ISO_A3:"COL"},"Costa Rica":{name:"Costa Rica",ISO_A3:"CRI"},Ecuador:{name:"Ecuador",ISO_A3:"ECU"},"Falkland Islands":{name:"Falkland Islands",ISO_A3:"FLK"},Guyana:{name:"Guyana",ISO_A3:"GUY"},Nicaragua:{name:"Nicaragua",ISO_A3:"NIC"},Panama:{name:"Panama",ISO_A3:"PAN"},Peru:{name:"Peru",ISO_A3:"PER"},Paraguay:{name:"Paraguay",ISO_A3:"PRY"},Suriname:{name:"Suriname",ISO_A3:"SUR"},Uruguay:{name:"Uruguay",ISO_A3:"URY"},Venezuela:{name:"Venezuela",ISO_A3:"VEN"},"French Guyana":{name:"French Guyana",ISO_A3:"GUF"},Guatemala:{name:"Guatemala",ISO_A3:"GTM"},"El Salvador":{name:"El Salvador",ISO_A3:"SLV"},Honduras:{name:"Honduras",ISO_A3:"HND"}},$y={World:Jy,USA:Qy,NorthAmerica:Ky,SouthAmerica:qy,Canada:Hy,Europe:Zy,Asia:Wy,Africa:Yy,Australia:Xy},tA={World:"World",USA:"USA",NorthAmerica:"NorthAmerica",SouthAmerica:"SouthAmerica",Canada:"Canada",Europe:"Europe",Asia:"Asia",Africa:"Africa",Australia:"Australia"},iA=function(){return iA=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},iA.apply(this,arguments)},nA=function(t,i){var n;if(t===tA.World)n="countries_world.json";else if(t===tA.NorthAmerica)n="countries_northAmerica.json";else if(t===tA.SouthAmerica)n="countries_southAmerica.json";else if(t===tA.Africa)n="countries_africa.json";else if(t===tA.Europe)n="countries_europe.json";else if(t===tA.Asia)n="countries_asia.json";else if(t===tA.USA)n="states_usa.json";else if(t===tA.Canada)n="territoriesProvinces_canada.json";else{if(t!==tA.Australia){var r="LCJS MapChart unidentified `type`: ".concat(t);throw Qe.alert(r),new Error(r)}n="territories_australia.json"}return new Promise((function(t,r){!function(t){if(t.resourcesBaseUrl){var i="".concat(t.resourcesBaseUrl).concat(t.fileName);Qe.fetch(i).then((function(i){t.success(i)})).catch((function(){t.error({url:i})}))}else{var n="".concat(Qe.location.origin,"/resources").concat(t.fileName);Qe.fetch(n).then((function(i){if(!i.ok)throw new Error;t.success(i)})).catch((function(){var i="https://lcjs-resources.lightningchart.com/v1".concat(t.fileName);Qe.fetch(i).then((function(i){Qe.console.warn("LightningChart JS warning | fallbacking publicly hosted asset resources.\nFor more information, please see https://lightningchart.com/js-charts/docs/troubleshooting/warning-using-publicly-hosted-resources/"),t.success(i)})).catch((function(){t.error({url:n})}))}))}}({fileName:"/maps/".concat(n),resourcesBaseUrl:i,success:function(i){return i.json().then(t)},error:function(t){var n=t.url;return ns(i,n,"Map Chart",{shouldCrash:!0})}})}))},rA=function(t,i){return!(!i.name||t.name.toLowerCase()!==i.name.toLowerCase())||"ISO_A3"in t&&"ISO_A3"in i&&t.ISO_A3.toLowerCase()===i.ISO_A3.toLowerCase()},eA={World:{min:{x:-180,y:-90},max:{x:180.0000000000002,y:83.63410065300012}},Europe:{min:{x:-25,y:34},max:{x:40,y:70}},Africa:{min:{x:-17,y:-40},max:{x:52,y:37.37549753800012}},Asia:{min:{x:27,y:-10.922621351999808},max:{x:180.0000000000002,y:81.85871002800009}},NorthAmerica:{min:{x:-179.1435033839999,y:5.515082098000121},max:{x:-50,y:83.11652252800009}},SouthAmerica:{min:{x:-85,y:-55.9185042229998},max:{x:-35,y:15}},USA:{min:{x:-125,y:24},max:{x:-68,y:50}},Canada:{min:{x:-141.0181,y:41.7297},max:{x:-52.6194,y:75}},Australia:{min:{x:111,y:-43.6586},max:{x:155,y:-9.2199}}},oA={World:.6,Europe:1/1.4,Africa:1.3,Asia:.8,NorthAmerica:.9,SouthAmerica:1.5,USA:3/4,Canada:6/8,Australia:11/12},sA=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uA=function(){return uA=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},uA.apply(this,arguments)},aA=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},hA=function(t){function i(i,n,r,e,o,s,u){var a,h=this;(h=t.call(this,i,n,r,n.EA("mapChart bg",0),e,n.qi.en.mapChartBackgroundFillStyle,n.qi.en.mapChartBackgroundStrokeStyle,n.qi.en.mapChartTitleFont,n.qi.en.mapChartTitleFillStyle,n.qi.en.mapChartTitleShadow,u,null===(a=null==s?void 0:s.legend)||void 0===a?void 0:a.customLegend)||this).Gg=[],h.Yi=h.wA.d2({scaleXYConstructor:$r}),h.Ug=!0,h.Yg=h.en.mapChartSeparateRegionFillStyle,h.Wg=h.en.mapChartSeparateRegionStrokeStyle,h.lo=!0,h.Xg=0,h.Hg=!0,h.Zg=new Map,h.regions=new we,h.Jg=function(t){h.Yi.x.zt(t.engineWidth).ri([h.Zt.left+h.yu.left,h.Zt.right+h.yu.right]),h.Yi.y.zt(t.engineHeight).ri([h.Zt.bottom+h.yu.bottom,h.Zt.top+h.yu.top+nd(h.So,h.PA)]),h.Qg&&h.Kg(h.qg,h.Yi,h.Qg)},h.Ct=new we,h.qi.qa(gf.na),h.lo=!1!==(null==s?void 0:s.animationsEnabled),h.$g=n.xg("mapChart plotting",0),h.addEventListener("resize",h.Jg),h.So.Os("Map Chart");var f=n._g(),c=oo(s?s.cursorBuilder:void 0,Gy);h.Og=mS(h,f,c.qm(f,h.uiScale,h.uiScale,io,h.en),void 0,"show-pointed",cA,(function(){return 0})),h.tx=h.Qn.Zd(),h.LA(o,h.uiScale),h.ix=h.$g.Bb(h.Yi).setPointerEvents(h.Ug).Be(h.en.mapChartFillStyle).je(h.en.mapChartStrokeStyle),h.regions.wn(h.ix,(function(t){if(h.nx){var i=h.ox(h.nx,t);if(i)return i.region}})),h.ix.addEventListener("pointermove",(function(t,i){var n=i.collectionMember;if(h.nx&&n){var r=h.ox(h.nx,n);h.sx(r),h.Hg&&r&&h.qi.ir.pr(r.region,!0)}})),h.ix.addEventListener("pointerleave",(function(t,i){var n=i.collectionMember;if(h.nx&&n){var r=h.ox(h.nx,n);h.ux(),h.Hg&&r&&h.qi.ir.pr(r.region,!1)}})),h.hx=h.$g.Bb(h.Yi).setPointerEvents(h.Ug).Be(h.en.mapChartOutlierRegionFillStyle).je(h.en.mapChartOutlierRegionStrokeStyle);var l=oo(s&&s.type,tA.World);h.qg=l,h.lx(l).then((function(){h.Ct.Tt("ready",{})}));var v=uA({renderOnTop:!0,backgroundVisible:!0},null==s?void 0:s.legend);return h.legend.setOptions(v),h}return sA(i,t),i.prototype.setFillStyle=function(t){var i=this;return this.ix.Be(t),this.Ar.forEach((function(t){t.fA()&&t.add(i)})),this.Ar.forEach((function(t){return t.br()})),this.qi.vr(),this},i.prototype.getFillStyle=function(){return this.ix.Zo()},i.prototype.setStrokeStyle=function(t){return this.ix.je(t),this.qi.vr(),this},i.prototype.getStrokeStyle=function(){return this.ix.Ch()},i.prototype.setEffect=function(t){return this.tx.lr(t),this.qi.vr(),this},i.prototype.getEffect=function(){return this.tx.dr()},i.prototype.setOutlierRegionFillStyle=function(t){return this.hx.Be(t),this.qi.vr(),this},i.prototype.getOutlierRegionFillStyle=function(){return this.hx.Zo()},i.prototype.setOutlierRegionStrokeStyle=function(t){return this.hx.je(t),this.qi.vr(),this},i.prototype.getOutlierRegionStrokeStyle=function(){return this.hx.Ch()},i.prototype.setSeparateRegionFillStyle=function(t){var i=this;return this.Yg="function"==typeof t?t(this.Yg):t,this.Gg.forEach((function(t){return t.Be(i.Yg)})),this.qi.vr(),this},i.prototype.getSeparateRegionFillStyle=function(){return this.Yg},i.prototype.setSeparateRegionStrokeStyle=function(t){var i=this;return this.Wg="function"==typeof t?t(this.Wg):t,this.Gg.forEach((function(t){return t.je(i.Wg)})),this.qi.vr(),this},i.prototype.getSeparateRegionStrokeStyle=function(){return this.Wg},i.prototype.invalidateRegionValues=function(t){var i,n,r=this;if(!this.nx||!this.vx)return this.yx=this.yx||[],this.yx.push(t),this;if("function"==typeof t)for(var e=function(i){var n=o.nx.regions[i],r=o.vx[i],e=t(uA(uA({},n),{geometry:void 0}),r);if(void 0!==e&&e!==r){o.vx[i]=e;var s=o.Zg.get(n);null==s||s.forEach((function(t){t.Ax(e)}))}},o=this,s=0;s<this.nx.regions.length;s+=1)e(s);else{var u=function(t){if(t)for(var i=0;i<a.nx.regions.length;i+=1){var n=a.nx.regions[i],r=a.vx[i];if(void 0!==t.value&&t.value!==r&&rA(n,t)){a.vx[i]=t.value;var e=a.Zg.get(n);null==e||e.forEach((function(i){i.Ax(t.value)}))}}},a=this;try{for(var h=aA(t),f=h.next();!f.done;f=h.next())u(f.value)}catch(t){i={error:t}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(i)throw i.error}}}return this.Ar.forEach((function(t){t.fA()&&t.add(r)})),this.qi.vr(),this},i.prototype.setPointerEvents=function(t){return this.Ug=t,this.ix.setPointerEvents(t),this},i.prototype.getPointerEvents=function(){return this.Ug},i.prototype.setHighlight=function(t){var i,n=this;return t=qo(t),this.Xg=t,null===(i=this.nx)||void 0===i||i.regions.forEach((function(i){n.qi.ir.pr(i,t)})),this.Ct.Tt("highlightchange",{highlight:t}),this},i.prototype.getHighlight=function(){return this.Xg},i.prototype.setAnimationHighlight=function(t){var i,n=this;return null===(i=this.nx)||void 0===i||i.regions.forEach((function(i){n.qi.ir.mr(i,t)})),this},i.prototype.getAnimationHighlight=function(){var t;return this.qi.ir.gr(null===(t=this.nx)||void 0===t?void 0:t.regions[0])},i.prototype.setHighlightOnHover=function(t){return this.Hg=t,!1===t&&this.getHighlight()>0&&this.setHighlight(!1),this},i.prototype.getHighlightOnHover=function(){return this.Hg},i.prototype.lx=function(t){return i=this,n=void 0,e=function(){var i,n,r,e,o,s,u,a,h,f,c,l,v,d,y,A,b,p,m,g,x,S;return function(t,i){var n,r,e,o,s={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(e=2&o[0]?r.return:o[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,o[1])).done)return e;switch(r=0,e&&(o=[2&o[0],e.value]),o[0]){case 0:case 1:e=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((e=(e=s.trys).length>0&&e[e.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!e||o[1]>e[0]&&o[1]<e[3])){s.label=o[1];break}if(6===o[0]&&s.label<e[1]){s.label=e[1],e=o;break}if(e&&s.label<e[2]){s.label=e[2],s.ops.push(o);break}e[2]&&s.ops.pop(),s.trys.pop();continue}o=i.call(t,s)}catch(t){o=[6,t],r=0}finally{n=e=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(w){switch(w.label){case 0:return[4,nA(t,this.SA.$r)];case 1:if(i=w.sent(),this.vx=new Array(i.regions.length).map((function(t){})).fill(void 0),!(n=eA[t]))throw new Error("Unidentified map type.");try{for(r=aA(i.outliers),e=r.next();!e.done;e=r.next()){o=e.value;try{for(m=void 0,s=aA(o.geometry),u=s.next();!u.done;u=s.next())a=u.value,this.hx.pa().rc(a)}catch(t){m={error:t}}finally{try{u&&!u.done&&(g=s.return)&&g.call(s)}finally{if(m)throw m.error}}}}catch(t){b={error:t}}finally{try{e&&!e.done&&(p=r.return)&&p.call(r)}finally{if(b)throw b.error}}for(t===tA.USA&&(h=25.8,this.Gg.push(this.gA.De(this.Yi).setPointerEvents(!1).Be(this.Yg).je(this.Wg).Ee({x:-126,y:h}).zt({x:10,y:29.7-h}),this.gA.De(this.Yi).setPointerEvents(!1).Be(this.Yg).je(this.Wg).Ee({x:-113,y:h}).zt({x:7,y:29.7-h}))),f=this.qi.ir.ba(this.ix,{animationEnabled:this.lo}),c=function(n){var r,e,o=i.regions[n],s=function(t,i){var n=i.geometry;return n=function(t,i,n){if(t===tA.Asia){for(var r=[],e=0;e<n.length;e+=1){r[e]=[];for(var o=n[e],s=r[e],u=0;u<o.length;u+=1){var a=o[u];a.x<-100?s[u]={x:a.x+360,y:a.y}:s[u]=a}}return r}return n}(t,0,n),function(t,i,n){var r,e=i.name.toLowerCase();if(t===tA.USA&&("alaska"===e?r={translate:{x:55,y:-25},scale:{x:.16,y:.16}}:"hawaii"===e&&(r={translate:{x:48,y:7},scale:{x:1,y:1}})),r){for(var o=r.translate,s=r.scale,u=Bs(eo(n)),a=[],h=0;h<n.length;h+=1){a[h]=[];for(var f=n[h],c=a[h],l=0;l<f.length;l+=1){var v=f[l],d=v.x;"alaska"===e&&1===Math.sign(d)&&(d=-180-(180-d)),c[l]={x:o.x+(d-u.min.x)*s.x+u.min.x,y:o.y+(v.y-u.min.y)*s.y+u.min.y}}}return i.outlier=!0,i.transform=iA(iA({},r),{vertexBoundaries:u}),a}return n}(t,i,n)}(t,o),u=[];try{for(var a=(r=void 0,aA(s)),h=a.next();!h.done;h=a.next()){var c=h.value;c.length<3||u.push(l.ix.pa().rc(c))}}catch(t){r={error:t}}finally{try{h&&!h.done&&(e=a.return)&&e.call(a)}finally{if(r)throw r.error}}l.Zg.set(o,u),f.pa(o,(function(t){u.forEach((function(i){return i.vn(t)}))}))},l=this,v=0;v<i.regions.length;v+=1)c(v);if(this.tx.er([this.ix]),this.Qg=n,this.Kg(t,this.Yi,n),this.nx=i,this.yx){try{for(d=aA(this.yx),y=d.next();!y.done;y=d.next())A=y.value,this.invalidateRegionValues(A)}catch(t){x={error:t}}finally{try{y&&!y.done&&(S=d.return)&&S.call(d)}finally{if(x)throw x.error}}this.yx=void 0}return this.qi.vr(),[2]}}))},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{a(e.next(t))}catch(t){o(t)}}function u(t){try{a(e.throw(t))}catch(t){o(t)}}function a(i){var n;i.done?t(i.value):(n=i.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,u)}a((e=e.apply(i,n||[])).next())}));var i,n,r,e},i.prototype.Kg=function(t,i,n){var r=oA[t],e=i.x.getCellSize(),o=i.y.getCellSize()/e,s={min:{x:n.min.x,y:n.min.y},max:{x:n.max.x,y:n.max.y}};if(o<r){var u=(s.max.x-s.min.x)*(r/o-1);s.min.x-=u/2,s.max.x+=u/2}else o>r&&(u=(s.max.y-s.min.y)*(o/r-1),s.min.y-=u/2,s.max.y+=u/2);i.x.Et(s.min.x,s.max.x),i.y.Et(s.min.y,s.max.y);var a=this.Yi.x.fi(),h=this.Yi.y.fi();this.Ct.Tt("viewchange",{latitudeRange:{start:s.min.y,end:s.max.y},longitudeRange:{start:s.min.x,end:s.max.x},margin:{top:h[1],bottom:h[0],left:a[0],right:a[1]}})},i.prototype.sx=function(t){this.bx=t,this.qi.vr()},i.prototype.ux=function(){this.bx=void 0,this.qi.vr()},i.prototype.ox=function(t,i){var n=Array.from(this.Zg.entries()).findIndex((function(t){var n=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(t,2);return n[0],n[1].includes(i)})),r=null==t?void 0:t.regions[n],e=this.qi.Qa();if(e){var o=this.qi.Fh(e),s=this.vx&&this.vx[n],u=ee({x:o.engineX,y:o.engineY},this.qi.Yi,this.Yi),a=(u={x:ro(u.x,this.Yi.x.getInnerStart(),this.Yi.x.getInnerEnd()),y:ro(u.y,this.Yi.y.getInnerStart(),this.Yi.y.getInnerEnd())}).x,h=u.y,f=r.transform;r.outlier&&f&&(a=(a-f.translate.x-f.vertexBoundaries.min.x)/f.scale.x+f.vertexBoundaries.min.x,h=(h-f.translate.y-f.vertexBoundaries.min.y)/f.scale.y+f.vertexBoundaries.min.y);var c=this.getFillStyle();return{cursorPosition:{pointMarker:{x:o.engineX,y:o.engineY},pointMarkerScale:this.qi.Yi,resultTable:{x:o.engineX,y:o.engineY},resultTableScale:this.qi.Yi},region:r,value:s,longitude:h,latitude:a,lut:Bu(c)?c.lut:void 0}}},i.prototype.setCursor=function(t){return this.Og.setCursor(t),this},i.prototype.getCursor=function(){return this.Og.getCursor()},i.prototype.setCursorMode=function(t){return this.Og.setCursorMode(t),this},i.prototype.getCursorMode=function(){return this.Og.getCursorMode()},i.prototype.setCustomCursor=function(t){return this.Og.setCustomCursor(t),this},i.prototype.setCursorDynamicBehavior=function(t){return this.Og.zg(t),this},i.prototype.setCursorFormatting=function(t){return this.Og.setCursorFormatting(t),this},i.prototype.getCursorFormatting=function(){return this.Og.getCursorFormatting()},i.prototype.addCursor=function(t){void 0===t&&(t=Gy);var i=this.CA(),n=t.qm(i,this.uiScale,this.uiScale,this.xA(i),this.en);return this.BA(n),n},i.prototype.setAnimationsEnabled=function(t){return this.lo=!t,this},i.prototype.getAnimationsEnabled=function(){return this.lo},i.prototype.getMinimumSize=function(){},i.prototype.lA=function(){return[this]},i.prototype.Le=function(i){var n=this;t.prototype.Le.call(this,i),t.prototype.DA.call(this);var r=nd(this.So,this.PA),e=this.Ar.reduce((function(t,i){var e=i.ds(r,n.yu);return{top:Math.max(t.top,e.top),bottom:Math.max(t.bottom,e.bottom),left:Math.max(t.left,e.left),right:Math.max(t.right,e.right)}}),{top:0,bottom:0,left:0,right:0});rd(this.So,this.PA,this.uiScale.Gi(),this.yu,e);var o=c(this.Yi.x.ei()+e.left,this.Yi.y.ei()+e.bottom,this.Yi.x.si()-e.right,this.Yi.y.si()-e.top);return this.$g.lg(o),this.Og.Le(!1,[],void 0,{explicitTarget:this.bx}),this.Ar.forEach((function(t){return t.Le(r,n.yu)})),this},i.prototype.dispose=function(){return this.$g.Ft(),this.Og.Ft(),Kv(this.Yi),t.prototype.dispose.call(this)},i.prototype.Dt=function(){return t.prototype.Dt.call(this),this.Yi.Dt(),this},i.prototype.Lt=function(){return t.prototype.Lt.call(this),this.Yi.Lt(),this},i.prototype.Mr=function(){return Uo(this.getFillStyle(),this.ix.an())},i.prototype.Pe=function(){return{fill:this.getFillStyle()}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(id),fA=function(t,i){var n=t>0,r=[Wo(Math.abs(0|t),2)," ",Wo(Math.abs(0|(t<0?t=-t:t)%1*60),2),"' "].join("")+(n?"E":"W"),e=i>0,o=[Wo(Math.abs(0|i),2)," ",Wo(Math.abs(0|(i<0?i=-i:i)%1*60),2),"' "].join("")+(e?"N":"S");return"".concat(r,", ").concat(o)},cA=function(t,i,n){var r,e=[[{text:i.region.name,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[fA(i.longitude,i.latitude)]];return void 0!==i.value&&e.push({text:Uu(i.lut?xu(i.lut,i.value):i.value.toFixed(2),null===(r=i.lut)||void 0===r?void 0:r.units),font:{weight:"bold"}}),e},lA=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vA=function(t){function i(i,n,r,e,o,s,u,a,h){var f=t.call(this,i,n,n.mx(r),e,o,{numeric:n.gx({amplitude:e.polarAmplitudeAxisNumericTicks,radial:e.polarAmplitudeAxisNumericTicks}),datetime:n.gx({amplitude:e.polarAmplitudeAxisDateTimeTicks,radial:e.polarAmplitudeAxisDateTimeTicks}),time:n.gx({amplitude:e.polarAmplitudeAxisTimeTicks,radial:e.polarAmplitudeAxisTimeTicks})},{type:"linear"})||this;return f.Ct=new we,f.xx=s,f.Sx=u,f.wx=a,f.Qn=h,f.Mx=r,f.Cx=n.gx({amplitude:e.polarAmplitudeAxisStrokeStyle,radial:e.polarRadialAxisStrokeStyle}),f._o=a.$s(r).setPointerEvents(!1).qo(n.gx({amplitude:e.polarAmplitudeAxisTitleFont,radial:e.polarRadialAxisTitleFont})).Be(n.gx({amplitude:e.polarAmplitudeAxisTitleFillStyle,radial:e.polarRadialAxisTitleFillStyle})),f.ns=f.Qn.Zd([f._o]).lr(e.effectsText),f}return lA(i,t),i.prototype.setTickStrategy=function(i,n){return t.prototype.Ro.call(this,i,n)},i.prototype.setStrokeStyle=function(t){return this.Cx="function"==typeof t?t(this.Cx):t,this.Sx.vr(),this},i.prototype.getStrokeStyle=function(){return this.Cx},i.prototype.ps=function(t){return{}},i.prototype.ws=function(t,i,n,r){var e=this.Tx(this.Mx,t,i.so);return{keyValue:t,tickLevel:i,labelText:n,labelPosition:Ys(this.kx(this.Mx,t),e.padding),labelAlignment:e.alignment,labelRotation:e.rotation,labelOffset:e.offset}},i.prototype.Fs=function(t,i,n,r){return new dA(i,t,this.Mx,this.wx,this._x(this.xx,this.Mx),this.wx.We(this.Mx).setPointerEvents(!1))},i.prototype.Fo=function(){return this.Mx},i.prototype.Le=function(t){var i=this;this.Ox(this.Mx,this.Cx,t.oy),this.Fx(this.Mx,this._o,t.oy),t.ticksInfo.forEach((function(t,n){n.ls.Ee(t.labelPosition).wf(t.labelAlignment).$o(t.labelRotation).Af(t.labelOffset.x,t.labelOffset.y),i.Ix&&!1===i.Ix(n)&&n.ls.setVisible(!1),i.jx(i.Mx,n.Bx,n.Dx,n)}))},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i.prototype.setPointerEvents=function(t){return this.Ct.setPointerEvents(t),this},i.prototype.getPointerEvents=function(){return this.Ct.getPointerEvents()},i}(ef),dA=function(t){function i(i,n,r,e,o,s,u){var a=t.call(this,i,n,e,r,u)||this;return a.Bx=o,a.Dx=s,o.setPointerEvents(!1),a.Zn.push(o,s),a}return lA(i,t),i}(of),yA=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),AA=function(){return AA=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},AA.apply(this,arguments)},bA=function(t){function i(i,n,r,e,o,s,u,a,h){var f=t.call(this,i,pA((function(){return f.iy()})),n,r,e,o,s,u,a)||this;return f._b=f.Sx.We(f.Mx).setPointerEvents(!1),f.Lx=h,f.setScrollStrategy(zh.expansion),f.setTickStrategy(Nh.Numeric),f.setTitle("Amplitude"),f._o._s(r.polarAmplitudeAxisTitleShadow),f}return yA(i,t),i.prototype.iy=function(){return this.Lx()},i.prototype.Ts=function(t,i,n){var r=this;return{ticksInfo:i,oy:this.Ps((function(t,i){var n=i.tu.so,e=.5*r.Cx.getThickness()+n.tickLength+n.tickPadding+Math.abs(i.ls.ds().al().y);return Math.max(t,e)}),0),updatedTicks:n}},i.prototype.Ws=function(t,i){return Wu(t,i,this.Mx.y)},i.prototype.Zs=function(t,i,n){var r=2*Math.abs(i-t),e=this.Mx.x.ji(r);return{start:t+n.start*e*Math.sign(t-i),end:i+n.end*e*Math.sign(i-t)}},i.prototype.kx=function(t,i){return{x:t.Yr()?i-t.Ur().start:t.Ur().start-i,y:0}},i.prototype._x=function(t,i){return t.fv(i)},i.prototype.jx=function(t,i,n,r){var e=r.tu.so,o=t.Yr()?r.S-t.Ur().start:t.Ur().start-r.S;no(r.S,t.Ur().start)||no(r.S,t.Ur().end)?i.setVisible(!1):i.setVisible(!0).Rc(0).Xe(360).Xc(void 0).Wc(0).Gc(o).Xc(60).Be(Cu).je(e.gridStrokeStyle);var s=.5*this.Cx.getThickness();n.He({x:o,y:-s*t.Gi().y}).Xe({x:o,y:-(s+e.tickLength)*t.Gi().y}).Ye(e.tickStyle)},i.prototype.Tx=function(t,i,n){return{alignment:{x:0,y:1},padding:{x:0,y:t.Gi().y*-(.5*this.Cx.getThickness()+n.tickLength+n.tickPadding)},rotation:0,offset:{x:0,y:0}}},i.prototype.Ox=function(t,i,n){var r=t.Yr()?t.Ur().end-t.Ur().start:t.Ur().start-t.Ur().end;this._b.He({x:0,y:0}).Xe({x:r,y:0}).Ye(i)},i.prototype.Fx=function(t,i,n){var r=t.Yr()?(t.Ur().start+t.Ur().end)/2-t.Ur().start:t.Ur().start-(t.Ur().start+t.Ur().end)/2;i.wf({x:0,y:1}).Ee({x:r,y:-n*t.Gi().y})},i}(vA),pA=function(t){return AA(AA({},Cd(t,(function(t){return t.getAmplitudeMin()}),(function(t){return t.getAmplitudeMax()}),(function(t){}))),{mx:function(t){return{getInnerStart:function(){return t.Ur().start},getInnerEnd:function(){return t.Ur().end},Et:function(i,n){return t.Rr(i,n)},Wt:function(i,n,r,e,o){return t.y.Wt(i,n,r,e,o)}}},gx:function(t){return t.amplitude}})},mA=function(){function t(t,i,n,r){this.Ex=!1,this.Ct=new we,this.ue=t,this.Px=i,this.ip=n,this.kf=r}return t.prototype.setGeometry=function(t){return this.zx=t,this.Ex=!0,this.ue.qi.vr(),this},t.prototype.getGeometry=function(){return this.zx},t.prototype.setPointerEvents=function(t){return this.kf.setPointerEvents(t),this},t.prototype.dispose=function(){return this.kf.dispose(),this.Px(this),this.Ct.Tt("dispose",{}),this},t.prototype.setVisible=function(t){var i=this.kf.getVisible()!==t;return this.kf.setVisible(t),i&&this.Ct.Tt("visiblechange",{isVisible:t}),this.ue.qi.vr(),this},t.prototype.getVisible=function(){return this.kf.getVisible()},t.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},t.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},t}(),gA=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xA=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.XA=!0,i.WA=!0,i}return gA(i,t),i.prototype.setAutoScrollingEnabled=function(t){return this.XA=t,this.chart.qi.vr(),this},i.prototype.getAutoScrollingEnabled=function(){return this.XA},i.prototype.$A=function(){},i.prototype.Le=function(){},i.prototype.tb=function(){},i.prototype.setCursorEnabled=function(t){return this.WA=t,this},i.prototype.getCursorEnabled=function(){return this.WA},i.prototype.QA=function(){return this.getVisible()&&this.getCursorEnabled()},i.prototype.setCursorFormattingOverride=function(t){return this.JA=t,this},i.prototype.getCursorFormattingOverride=function(){return this.JA},i}(Ju),SA=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wA=function(t){function i(i,n,r,e,o,s){var u=t.call(this,n,r,o,s)||this;return u.kr=i,u.chart=n,u.scale=e,u}return SA(i,t),i.prototype.getAmplitudeMin=function(){return this.Nx?this.Nx.min:void 0},i.prototype.getAmplitudeMax=function(){return this.Nx?this.Nx.max:void 0},i}(xA),MA=function(){return MA=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},MA.apply(this,arguments)},CA=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},TA=function(t,i){var n,r,e=[],o=i.Ur().start,s=i.Ur().end,u=i.Yr(),a=i.Xr()?1:-1,h=i.Zr(),f=Math.abs(s-o),c=Math.min(o,s)+.001*f,l=Math.max(o,s)-.001*f;try{for(var v=CA(t),d=v.next();!d.done;d=v.next()){var y=d.value,A=ro(y.amplitude,c,l),b=y.angle*Math.PI/180-h,p=Math.cos(b*a)*(u?A-o:o-A),m=Math.sin(b*a)*(u?A-o:o-A),g=y.color;e.push({x:p,y:m,color:g})}}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=v.return)&&r.call(v)}finally{if(n)throw n.error}}return e},kA=function(t){var i,n,r={min:As,max:bs};try{for(var e=CA(t),o=e.next();!o.done;o=e.next()){var s=o.value;r.min=Math.min(r.min,s.amplitude),r.max=Math.max(r.max,s.amplitude)}}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=e.return)&&n.call(e)}finally{if(i)throw i.error}}return r},_A=function(t){return t.slice().map((function(t){return t.angle>=0&&t.angle<=360?t:MA(MA({},t),{angle:t.angle%360})}))},OA=function(t,i){var n=qs(t);for(i.Xr()||(n*=-1),n+=180*i.Zr()/Math.PI;n<0;)n+=360;n%=360;var r=Gs(t),e=i.Ur(),o=Math.abs(e.end-e.start);return{angle:n,amplitude:ea(e.start,e.end,r/o),color:t.color?kr(t.color):void 0}},FA=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),IA=function(){return IA=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},IA.apply(this,arguments)},jA=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},BA=function(t){function i(i,n,r,e,o,s,u){var a=t.call(this,i,n,r,e,o,u)||this;return a.yt="Polygon Series",a.Vx=[],a.Rx=[],a.Gx=function(t){var i=a.Rx.indexOf(t);i>=0&&a.Rx.splice(i,1);var n=a.Vx.findIndex((function(i){return i===t.kf}));n>=0&&a.Vx.splice(n,1),a.kr.vr()},a.Ct=new we,a.Oe=Xo(a.en.polarPolygonSeriesFillStyle,s),a.Fe=Xo(a.en.polarPolygonSeriesStrokeStyle,s),a}return FA(i,t),i.prototype.solveNearest=function(t,i){var n=this,r=this.chart.qi.Fh(t),e={x:r.engineX,y:r.engineY},o=Nu(e,this.Vx,(function(t,i){var r=t.rv(i);if(r)return ee(r,n.scale,t.qi.Yi)}),_s);if(o){var s=ee(o[0],o[1].qi.Yi,this.scale);if(this.Ux(o[1])){var u=OA(s,this.scale);return IA({cursorPosition:{pointMarker:s,pointMarkerScale:this.scale,resultTable:s,resultTableScale:this.scale},series:this},u)}}},i.prototype.Bn=function(t,i,n){var r=this;return as({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},i.prototype.addPolygon=function(){var t=new mA(this.chart,this.Gx,this,this.Yx());return this.Rx.push(t),t},i.prototype.setFillStyle=function(t){var i,n;this.Oe="function"==typeof t?t(this.Oe):t;var r=this.Oe;try{for(var e=jA(this.Vx),o=e.next();!o.done;o=e.next())o.value.Be(r)}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=e.return)&&n.call(e)}finally{if(i)throw i.error}}return this.kr.vr(),this},i.prototype.getFillStyle=function(){return this.Oe},i.prototype.setStrokeStyle=function(t){var i,n;this.Fe="function"==typeof t?t(this.Fe):t;var r=this.Fe;try{for(var e=jA(this.Vx),o=e.next();!o.done;o=e.next())o.value.je(r)}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=e.return)&&n.call(e)}finally{if(i)throw i.error}}return this.kr.vr(),this},i.prototype.getStrokeStyle=function(){return this.Fe},i.prototype.ab=function(){return this.XA&&void 0!==this.Rx.find((function(t){return void 0!==t.Wx}))&&this.getVisible()},i.prototype.Le=function(){var t=this;this.Rx.forEach((function(i){(i.Ex||t.scale.Jr())&&i.Xx&&(i.kf.rc(TA(i.Xx,t.scale)),i.Ex=!1,i.kf.ds())}))},i.prototype.$A=function(){t.prototype.$A.call(this);var i=f(As,bs);this.Rx.forEach((function(t){if(t.zx){var n=!t.Ex&&t.Xx?t.Xx:_A(t.zx);t.Xx=n;var r=!t.Ex&&t.Wx?t.Wx:kA(n);t.Wx=r,i.min=Math.min(i.min,r.min),i.max=Math.max(i.max,r.max)}})),this.Nx=i},i.prototype.ze=function(t,i){t.vn(i),this.kr.vr()},i.prototype.Pe=function(){return{fill:this.Oe,stroke:this.Fe}},i.prototype.Yx=function(){var t=this.kr.vl(this.scale,tc.Simple).Be(this.Oe).je(this.Fe).vn(this.getHighlight());return this.Vx.push(t),this.rr(t),t},i.prototype.Ux=function(t){return this.Rx.find((function(i){return i.kf===t}))},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(wA),DA=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),LA=function(t){function i(i,n,r,e,o,s,u){var a=t.call(this,i,n,r,e,o,u)||this;return a.yt="Area Series",a.Hx=[],a.Zx=!1,a.Jx=!1,a.Qx=!1,a.Ct=new we,a.Oe=Xo(a.en.polarAreaSeriesFillStyle,s),a.Fe=Xo(a.en.polarAreaSeriesStrokeStyle,s),a}return DA(i,t),i.prototype.setData=function(t){0!==this.Hx.length&&this.chart.qi.qa(gf.aa);var i=function(t){for(var i,n,r=[],e=!1,o=0;o<t.length;o+=1){var s=t[o],u=!0;if(i){u=!1;var a=s.angle-i.angle;if(no(a,0))u=!0;else{var h=Math.sign(a);void 0===n?(n=h,u=!0):n===h&&(u=!0)}}u?r.push(s):e=!0,i=s}return{progressivePoints:r,userDataModified:e}}(t);return i.userDataModified&&!1===this.Qx&&(console.warn("".concat(this.yt," setData data format is faulty. Consecutive 'angle' values should progress in the same direction! Invalid data points have been removed.")),this.Qx=!0),this.Hx=i.progressivePoints,this.Zx=!0,this.Nx=kA(this.Hx),this.kr.vr(),this},i.prototype.getData=function(){return this.Hx},i.prototype.setFillStyle=function(t){return this.Oe="function"==typeof t?t(this.Oe):t,this.kr.vr(),this},i.prototype.getFillStyle=function(){return this.Oe},i.prototype.setStrokeStyle=function(t){return this.Fe="function"==typeof t?t(this.Fe):t,this.kr.vr(),this},i.prototype.getStrokeStyle=function(){return this.Fe},i.prototype.setConnectDataAutomaticallyEnabled=function(t){return this.Jx=t,this.kr.vr(),this},i.prototype.getConnectDataAutomaticallyEnabled=function(){return this.Jx},i.prototype.ab=function(){return this.XA&&this.Hx.length>0&&this.getVisible()},i.prototype.Pe=function(){return{fill:this.Oe,stroke:this.Fe}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(wA),EA=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),PA=function(){return PA=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},PA.apply(this,arguments)},zA=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},NA=function(t){function i(i,n,r,e,o,s,u){var a=t.call(this,i,n,r,e,o,s,u)||this;return a.Kx=a.kr.vl(a.scale,tc.Simple).vn(a.getHighlight()),a.rr(a.Kx),a}return EA(i,t),i.prototype.solveNearest=function(t,i){var n=this.chart.qi.Fh(t),r={x:n.engineX,y:n.engineY},e=this.Kx.rv(r);if(e){var o=OA(e,this.scale);return PA({cursorPosition:{pointMarker:e,pointMarkerScale:this.scale,resultTable:e,resultTableScale:this.scale},series:this},o)}},i.prototype.Bn=function(t,i,n){var r=this;return as({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},i.prototype.Le=function(){if(this.Zx||this.scale.Jr()){var t=this.Hx,i=!0===this.Jx?TA(t,this.scale):zA(zA([],function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(TA(t,this.scale)),!1),[{x:0,y:0}],!1);this.Kx.rc(i).Be(this.Oe).je(this.Fe),this.Zx=!1,this.Kx.ds()}},i.prototype.ze=function(t,i){t.vn(i),this.kr.vr()},i}(LA),VA=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),RA=function(){return RA=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},RA.apply(this,arguments)},GA=function(t){function i(i,n,r,e,o,s,u){var a=t.call(this,i,n,r,e,o,u)||this;return a.yt="Line Series",a.Hx=[],a.Zx=!1,a.Jx=!1,a.Ct=new we,a.Hc=Xo(a.en.polarLineSeriesStrokeStyle,s),a.qx=i.Fb(e,void 0,[fd.UserSeries]).Ye(a.Hc).vn(a.getHighlight()),a.rr(a.qx),a}return VA(i,t),i.prototype.solveNearest=function(t,i){var n=this.chart.qi.Fh(t),r={x:n.engineX,y:n.engineY},e=this.qx.$x(r);if(e){var o=OA(e,this.scale);return RA({cursorPosition:{pointMarker:e,pointMarkerScale:this.scale,resultTable:e,resultTableScale:this.scale},series:this},o)}},i.prototype.Bn=function(t,i,n){var r=this;return as({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(function(){return r.solveNearest(i,"show-nearest")}))},i.prototype.setData=function(t){return 0!==this.Hx.length&&this.chart.qi.qa(gf.aa),this.Hx=_A(t),this.Zx=!0,this.Nx=kA(this.Hx),this.kr.vr(),this},i.prototype.getData=function(){return this.Hx},i.prototype.setStrokeStyle=function(t){this.Hc="function"==typeof t?t(this.Hc):t;var i=this.Hc;return this.qx.Ye(i),this.kr.vr(),this},i.prototype.getStrokeStyle=function(){return this.Hc},i.prototype.setConnectDataAutomaticallyEnabled=function(t){return this.Jx=t,this.kr.vr(),this},i.prototype.getConnectDataAutomaticallyEnabled=function(){return this.Jx},i.prototype.ab=function(){return this.XA&&this.Hx.length>0&&this.getVisible()},i.prototype.ze=function(t,i){t.vn(i),this.kr.vr()},i.prototype.Le=function(){if(this.Zx||this.scale.Jr()){var t=TA(this.Hx,this.scale),i=Bs(t);this.Jx?(t.push(RA({},t[0])),this.qx.xc(!0)):this.qx.xc(!1),this.qx.Sn().Wf(t).cn(i),this.Zx=!1,this.qx.ds()}},i.prototype.Pe=function(){return{stroke:this.Hc}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(wA),UA=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),YA=function(t){function i(i,n,r,e,o,s,u,a,h){var f=t.call(this)||this;return f.nn=ss(),f.Hi=!1,f.Ct=new we,f.tS=e,f.iS=o,f.nS=s,f.rS=u,f.eS=a,f.kr=i,f.scale=n,f.oS=r,f.en=h,f}return UA(i,t),i.prototype.sS=function(t){this.uS=t},i.prototype.setHighlight=function(t){var i=qo(t);return this.aS=i<=0?void 0:i,this.uS&&this.uS.vn(i),this.Ct.Tt("highlightchange",{highlight:i}),this},i.prototype.dispose=function(){return this.oS&&this.oS(this),this.kr.qi.vr(),this.Ct.Tt("dispose",{}),this.Hi=!0,this},i.prototype.setVisible=function(i){return t.prototype.setVisible.call(this,i),this.nS(),this.kr.qi.vr(),this},i.prototype.isDisposed=function(){return this.Hi},i.prototype.setPointerEvents=function(t){return this.rS(this,t),this},i.prototype.getPointerEvents=function(){return this.eS(this)},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(lf),WA=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),XA=function(){return XA=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},XA.apply(this,arguments)},HA=function(t){function i(i,n,r,e,o,s,u,a,h,c,l,v,d,y,A,b,p,m){var g=t.call(this,n,r,e,o,s,u,a,h,m)||this;return g.hS=1,g.fS=1,g.ip=i,g.kr=n,g.scale=r,g.dimensionStrategy=c,g.start=l,g.end=v,g.lowerExtreme=d,g.lowerQuartile=y,g.median=A,g.upperQuartile=b,g.upperExtreme=p,g.boundaries=f(g.dimensionStrategy.toPoint(l,d),g.dimensionStrategy.toPoint(v,p)),g.cS=g.en.boxSeriesBodyFillStyle,g.lS=g.en.boxSeriesBodyStrokeStyle,g.Hc=g.en.boxSeriesStrokeStyle,g.vS=g.en.boxSeriesMedianStrokeStyle,g.ds(),g}return WA(i,t),i.prototype.Bn=function(t,i){var n=this.ip._r.toPoint((this.start+this.end)/2,this.median);return XA(XA({cursorPosition:{resultTable:n,resultTableScale:this.scale,pointMarker:n,pointMarkerScale:{x:this.ip.axisX,y:this.ip.axisY}}},n),{figure:this,start:this.start,end:this.end,lowerExtreme:this.lowerExtreme,lowerQuartile:this.lowerQuartile,median:this.median,upperQuartile:this.upperQuartile,upperExtreme:this.upperExtreme,series:this.ip,axisX:this.ip.axisX,axisY:this.ip.axisY})},i.prototype.dS=function(){return this.boundaries},i.prototype.setBodyWidth=function(t){return this.hS=t,this.ds(),this},i.prototype.getBodyWidth=function(){return this.hS},i.prototype.setBodyFillStyle=function(t){return this.cS="function"==typeof t?t(this.cS):t,this.iS(),this},i.prototype.getBodyFillStyle=function(){return this.cS},i.prototype.setBodyStrokeStyle=function(t){return this.lS="function"==typeof t?t(this.lS):t,this.iS(),this},i.prototype.getBodyStrokeStyle=function(){return this.lS},i.prototype.setTailWidth=function(t){return this.fS=t,this.ds(),this},i.prototype.getTailWidth=function(){return this.fS},i.prototype.setStrokeStyle=function(t){return this.Hc="function"==typeof t?t(this.Hc):t,this.iS(),this},i.prototype.getStrokeStyle=function(){return this.Hc},i.prototype.setMedianStrokeStyle=function(t){return this.vS="function"==typeof t?t(this.vS):t,this.iS(),this},i.prototype.getMedianStrokeStyle=function(){return this.vS},i.prototype.ds=function(){this.tS()},i.prototype.getDominantStyle=function(){return this.getBodyFillStyle()},i}(YA),ZA=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),JA=function(t){function i(i,n,r,e,o,s,u,a,h,f){var c=t.call(this,i,n,h,f)||this;return c.Tr=!0,c.Zn=new Map,c.chart=i,c.kr=r,c.axisX=e,c.axisY=o,c.axisXAttachHandler=s,c.axisYAttachHandler=u,c.scale=Du(e.Yi,o.Yi),c.yS=i.AS,i.AS+=1,c.bS(c.scale),c.attacheAxis(),c}return ZA(i,t),Object.defineProperty(i.prototype,"xAxis",{get:function(){return this.axisX},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"yAxis",{get:function(){return this.axisY},enumerable:!1,configurable:!0}),i.prototype.Dh=function(){var t,i,n=Array.from(this.Zn.keys());try{for(var r=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e=r.next();!e.done;e=r.next()){var o=e.value.Dh();if(o)return o}}catch(i){t={error:i}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}},i.prototype.setClipping=function(t){return this.Tr=t,this.kr.vr(),this},i.prototype.getClipping=function(){return this.Tr},i.prototype.attacheAxis=function(){this.pS=this.axisXAttachHandler(this),this.mS=this.axisYAttachHandler(this)},i.prototype.rr=function(i,n){t.prototype.rr.call(this,i,n),i.Lh(this.yS)},i.prototype.getName=function(){var t=this.nr(),i="ProgressiveY"===t||"RegressiveY"===t?this.axisX.getTitle():this.axisY.getTitle();return this.yt||i.length>0&&i||"Series"},i.prototype.setDrawOrder=function(t){var i=this;return this.yS=t.seriesDrawOrderIndex,this.Zn.forEach((function(t,n){n.Lh(i.yS)})),this.chart.qi.vr(),this},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.pS(this),this.mS(this),this.chart.legend.remove(this),this},i.prototype.tb=function(){t.prototype.tb.call(this),Gu(this.Tr,Array.from(this.Zn.keys()),this.scale)},i.prototype.getXMax=function(){var t;return null!==(t=this.gS(!1))&&void 0!==t?t:0},i.prototype.getXMin=function(){var t;return null!==(t=this.xS(!1))&&void 0!==t?t:0},i.prototype.getYMax=function(){var t;return null!==(t=this.SS(!1))&&void 0!==t?t:0},i.prototype.getYMin=function(){var t;return null!==(t=this.wS(!1))&&void 0!==t?t:0},i.prototype.getBoundaries=function(){return f(o(this.getXMin()||0,this.getYMin()||0),o(this.getXMax()||0,this.getYMax()||0))},i.prototype.setCursorEnabled=function(i){return t.prototype.setCursorEnabled.call(this,i)},i}(xA),QA=function(t,i,n,r){var e=t.length,o=0;if(void 0!==i){var s=n-i;if(s>0){var u=t.slice(o,s);o+=s,r(u,!0)}}for(;o<e;){var a=t.slice(o,o+n);o+=n,r(a,!1)}},KA=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qA=function(i){function n(n,r,e,o,s,u,a,h,f,c){var l=i.call(this,n,r,e,o,s,u,a,h,f,c)||this;return l.MS=[],l.CS=void 0,l.TS=!1,l.oS=function(t){var i=l.MS.findIndex((function(i){return i===t}));i>=0&&l.MS.splice(i,1),l.TS=!0,l.CS=void 0,l.kr.vr()},l.tS=function(){l.CS=void 0,l.TS=!0,l.chart.qi.vr()},l.iS=function(){l.TS=!0,l.chart.qi.vr()},l.nS=function(){l.CS=void 0,l.TS=!0,l.chart.qi.vr()},l.rS=function(t,i){l.setPointerEvents(i)},l.kS=function(t){return l.getPointerEvents()},l.Wn=t.HighlightModes.onHoverIndividual,l}return KA(n,i),n.prototype.getFigures=function(){return this.MS.slice()},n.prototype.setPointerEvents=function(t){return i.prototype.setPointerEvents.call(this,t),this.Zn.forEach((function(i,n){return n.setPointerEvents(t)})),this},n.prototype.sb=function(){return this.MS.length>0},n.prototype.Le=function(){i.prototype.Le.call(this),this.TS&&(this._S(this.MS),this.TS=!1)},n.prototype.clear=function(){return this.MS.slice().forEach(to),this.MS.length=0,this.TS=!0,this.CS=void 0,this.kr.vr(),this},n.prototype.OS=function(i,n){var r=this;void 0!==n?this.MS.splice(n,0,i):this.MS.push(i),this.TS=!0,this.FS&&this.FS(i),this.Ct.Mn(i),this.kr.vr(),i.addEventListener("pointerenter",(function(){r.Wn===t.HighlightModes.onHoverIndividual&&i.setHighlight(!0)})),i.addEventListener("pointerleave",(function(){r.Wn===t.HighlightModes.onHoverIndividual&&i.setHighlight(!1)}))},n.prototype.ab=function(){return this.XA&&this.MS.length>0&&this.getVisible()},n.prototype.setDefaultStyle=function(t){return this.FS=t,this.MS.forEach(t),t(this.IS),this.TS=!0,this.chart.qi.vr(),this},n.prototype.setVisible=function(t){return i.prototype.setVisible.call(this,t),t!==this.getVisible()&&this.MS.forEach((function(i){return i.setVisible(t)})),this},n.prototype.gS=function(){return this.CS||(this.CS=this.jS()),this.CS.max.x},n.prototype.xS=function(){return this.CS||(this.CS=this.jS()),this.CS.min.x},n.prototype.SS=function(){return this.CS||(this.CS=this.jS()),this.CS.max.y},n.prototype.wS=function(){return this.CS||(this.CS=this.jS()),this.CS.min.y},n.prototype.Us=function(){return o(0,0)},n.prototype.jS=function(){for(var t=f(s(As,As),s(bs,bs)),i=0;i<this.MS.length;i+=1)if(this.MS[i].getVisible()){var n=this.MS[i].dS();t.min.x=Math.min(t.min.x,n.min.x),t.min.y=Math.min(t.min.y,n.min.y),t.max.x=Math.max(t.max.x,n.max.x),t.max.y=Math.max(t.max.y,n.max.y)}return t},n.prototype.Pe=function(){return{fill:this.MS.length>0?this.MS[0].getDominantStyle():this.IS.getDominantStyle()}},n}(JA),$A=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tb=function(){return tb=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},tb.apply(this,arguments)},ib=function(t){function i(i,n,r,e,o,s,u,a,h,f,c,l){var v=t.call(this,i,n,r,e,o,s,u,a,f,c)||this;return v.yt="Box Series",v.BS=es(),v.DS=function(t){return ee(v._r.toPoint((t.start+t.end)/2,t.median),v.scale,v.kr.qi.Yi)},v.Ct=new we,v.chart.qi.qa(gf.sa),v._r=h,v.IS=new HA(v,v.kr,v.scale,v.oS,io,io,io,io,(function(t){return!1}),v._r,0,0,0,0,0,0,0,v.en).dispose(),v.LS=new Ad((function(){var t=v.kr.ly(v.scale);return v.rr(t,{setEventHandlers:!1,pointerEventsDisabled:!0}),t}),(function(t,i,n){return t.Ye(n.strokeStyle),i.map((function(i){var n=i.existingMember||t.pa();return n.yy(i.start,i.end),n}))})),v.ES=new Ad((function(){var t=v.BS.V(v.kr.Bb(v.scale));return v.rr(t,{setEventHandlers:!1}),t}),(function(t,i,n){return t.Be(n.fillStyle).je(n.strokeStyle),i.map((function(i){var n=i.existingMember||t.pa();return n.rc(i.vertices),v.BS.Dn(n,i.figure),i.figure.sS(n),n}))}),(function(){v.BS.Sn()}),(function(t,i){v.ur(i)})),v}return $A(i,t),i.prototype.solveNearest=function(t,i){var n=this.chart.qi.Fh(t),r={x:n.engineX,y:n.engineY};if(0!==this.MS.length){var e=Nu(r,this.MS.filter((function(t){return t.getVisible()})),this.DS,_s);if(e){var o=ee(e[0],this.kr.qi.Yi,this.scale);return tb(tb({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{figure:e[1],start:e[1].start,end:e[1].end,lowerExtreme:e[1].lowerExtreme,lowerQuartile:e[1].lowerQuartile,median:e[1].median,upperQuartile:e[1].upperQuartile,upperExtreme:e[1].upperExtreme,series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.Bn=function(t,i,n){if(n){var r=this.MS.find((function(t){return t.uS===n}));if(r){var e=this._r.toPoint((r.start+r.end)/2,r.median);return tb(tb({cursorPosition:{resultTable:e,resultTableScale:this.scale,pointMarker:e,pointMarkerScale:{x:this.axisX,y:this.axisY}}},e),{start:r.start,end:r.end,lowerExtreme:r.lowerExtreme,lowerQuartile:r.lowerQuartile,median:r.median,upperQuartile:r.upperQuartile,upperExtreme:r.upperExtreme,figure:r,series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.bS=function(t){if(!(t instanceof $r||t instanceof te))throw new Error("BoxSeries only supports Linear Axes")},i.prototype._S=function(t){var i=this,n=this.ES.Iy(),r=this.LS.Iy();t.forEach((function(t){if(t.getVisible()){var e=i._r.toPoint((t.start+t.end-t.hS*(t.end-t.start))/2,t.lowerQuartile),o=i._r.toPoint((t.end-t.start)*t.hS,t.upperQuartile-t.lowerQuartile),s=i._r.toPoint((t.start+t.end)/2,t.lowerQuartile),u=i._r.toPoint((t.start+t.end)/2,t.lowerExtreme),a=i._r.toPoint((t.start+t.end)/2,t.upperQuartile),h=i._r.toPoint((t.start+t.end)/2,t.upperExtreme),f=i._r.toPoint((t.start+t.end-t.fS*(t.end-t.start))/2,t.lowerExtreme),c=i._r.toPoint((t.start+t.end+t.fS*(t.end-t.start))/2,t.lowerExtreme),l=i._r.toPoint((t.start+t.end-t.fS*(t.end-t.start))/2,t.upperExtreme),v=i._r.toPoint((t.start+t.end+t.fS*(t.end-t.start))/2,t.upperExtreme),d=i._r.toPoint((t.start+t.end-t.hS*(t.end-t.start))/2,t.median),y=i._r.toPoint((t.start+t.end+t.hS*(t.end-t.start))/2,t.median);n.add({nn:t.nn,vertices:[{x:e.x,y:e.y},{x:e.x,y:e.y+o.y},{x:e.x+o.x,y:e.y+o.y},{x:e.x+o.x,y:e.y}],figure:t},{fillStyle:t.cS,strokeStyle:t.lS}),r.add({nn:0,start:s,end:u,figure:t},{strokeStyle:t.Hc}),r.add({nn:0,start:a,end:h,figure:t},{strokeStyle:t.Hc}),r.add({nn:0,start:f,end:c,figure:t},{strokeStyle:t.Hc}),r.add({nn:0,start:l,end:v,figure:t},{strokeStyle:t.Hc}),r.add({nn:0,start:d,end:y,figure:t},{strokeStyle:t.vS})}})),n.finishPlot(),r.finishPlot()},i.prototype.add=function(t){var i=new HA(this,this.kr,this.scale,this.oS,this.tS,this.iS,this.nS,this.rS,this.kS,this._r,t.start,t.end,t.lowerExtreme,t.lowerQuartile,t.median,t.upperQuartile,t.upperExtreme,this.en);return this.OS(i),this.TS=!0,this.chart.qi.vr(),i},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(qA),nb=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rb=function(){return rb=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},rb.apply(this,arguments)},eb=function(t){function i(i,n,r,e,s,u,a,h,c,l,v){var d=t.call(this,n,r,e,s,u,a,h,c,l)||this;return d.dimensions={x:0,y:0,radiusX:0,radiusY:0},d.If=f(o(0,0),o(0,0)),d.ip=i,d.kr=n,d.scale=r,d.Oe=Xo(l.ellipseSeriesFillStyle,v),d.Fe=Xo(l.ellipseSeriesStrokeStyle,v),d}return nb(i,t),i.prototype.Bn=function(t,i){var n=this.getDimensions(),r=o(n.x,n.y);return rb(rb(rb(rb({cursorPosition:{resultTable:r,resultTableScale:this.scale,pointMarker:r,pointMarkerScale:{x:this.ip.axisX,y:this.ip.axisY}}},r),{figure:this}),this.getDimensions()),{series:this.ip,axisX:this.ip.axisX,axisY:this.ip.axisY})},i.prototype.dS=function(){return this.If},i.prototype.setDimensions=function(t){return this.dimensions=t,this.If=f(o(t.x-t.radiusX,t.y-t.radiusY),o(t.x+t.radiusX,t.y+t.radiusY)),this.tS(),this.kr.vr(),this},i.prototype.getDimensions=function(){return this.dimensions},i.prototype.setFillStyle=function(t){return this.Oe="function"==typeof t?t(this.Oe):t,this.iS(),this},i.prototype.getFillStyle=function(){return this.Oe},i.prototype.setStrokeStyle=function(t){return this.Fe="function"==typeof t?t(this.Fe):t,this.iS(),this},i.prototype.getStrokeStyle=function(){return this.Fe},i.prototype.getDominantStyle=function(){return this.Oe},i}(YA),ob=function(t){function i(i,n,r,e,s,u,a,h,f,c,l){var v=t.call(this,i,n,r,e,s,u,a,h,f,c)||this;return v.yt="Ellipse Series",v.BS=es(),v.DS=function(t){var i=t.getDimensions(),n=o(i.x,i.y);return ee(n,v.scale,v.kr.qi.Yi)},v.Ct=new we,v.chart.qi.qa(gf.sa),v.PS=l,v.IS=new eb(v,v.kr,v.scale,io,io,io,io,io,(function(t){return!1}),v.en,v.PS).dispose(),v.ES=new Ad((function(){var t=v.BS.V(v.kr.Bb(v.scale));return v.rr(t,{setEventHandlers:!1}),t}),(function(t,i,n){return t.Be(n.fillStyle).je(n.strokeStyle),i.map((function(i){var n=i.existingMember||t.pa();return n.rc(i.vertices),v.BS.Dn(n,i.figure),i.figure.sS(n),n}))}),(function(){v.BS.Sn()}),(function(t,i){v.ur(i)})),v}return nb(i,t),i.prototype.solveNearest=function(t,i){var n=this.chart.qi.Fh(t),r={x:n.engineX,y:n.engineY};if(0!==this.MS.length){var e=Nu(r,this.MS.filter((function(t){return t.getVisible()})),this.DS,_s);if(e){var o=ee(e[0],this.kr.qi.Yi,this.scale);return rb(rb(rb(rb({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{figure:e[1]}),e[1].getDimensions()),{series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.Bn=function(t,i,n){if(n){var r=this.MS.find((function(t){return t.uS===n}));if(r){var e=r.getDimensions();return rb(rb({cursorPosition:{resultTable:e,resultTableScale:this.scale,pointMarker:e,pointMarkerScale:{x:this.axisX,y:this.axisY}}},e),{figure:r,series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.bS=function(t){if(!(t instanceof $r||t instanceof te))throw new Error("EllipseSeries only supports Linear Axes")},i.prototype._S=function(t){var i=this.ES.Iy();t.forEach((function(t){if(t.getVisible()){for(var n=t.getDimensions(),r=[],e=void 0!==n.drawSteps?n.drawSteps:72,o=0;o<=e;o+=1){var s=o/e*2*Math.PI,u=n.x+n.radiusX*Math.cos(s),a=n.y+n.radiusY*Math.sin(s);r.push({x:u,y:a})}var h=t.getFillStyle(),f=t.getStrokeStyle();i.add({nn:t.nn,vertices:r,figure:t},{fillStyle:h,strokeStyle:f})}})),i.finishPlot()},i.prototype.add=function(t){var i=new eb(this,this.kr,this.scale,this.oS,this.tS,this.iS,this.nS,this.rS,this.kS,this.en,this.PS).setDimensions(t);return this.OS(i),this.TS=!0,this.chart.qi.vr(),i},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(qA),sb=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ub=function(){return ub=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},ub.apply(this,arguments)},ab=function(t){function i(i,n,r,e,o,s,u,a,h,f,c){var l=t.call(this,n,r,e,o,s,u,a,h,f)||this;return l.zS=[],l.If=ps,l.ip=i,l.kr=n,l.scale=r,l.Oe=Xo(f.polygonSeriesFillStyle,c),l.Fe=Xo(f.polygonSeriesStrokeStyle,c),l}return sb(i,t),i.prototype.Bn=function(t,i){var n=this.dS(),r=o((n.min.x+n.max.x)/2,(n.min.y+n.max.y)/2);return ub(ub({cursorPosition:{resultTable:r,resultTableScale:this.scale,pointMarker:r,pointMarkerScale:{x:this.ip.axisX,y:this.ip.axisY}}},r),{figure:this,coordinates:this.getDimensions(),series:this.ip,axisX:this.ip.axisX,axisY:this.ip.axisY})},i.prototype.dS=function(){return this.If},i.prototype.setDimensions=function(t){return this.zS=t,this.If=Bs(this.zS),this.tS(),this.kr.vr(),this},i.prototype.getDimensions=function(){return this.zS},i.prototype.setFillStyle=function(t){return this.Oe="function"==typeof t?t(this.Oe):t,this.iS(),this},i.prototype.getFillStyle=function(){return this.Oe},i.prototype.setStrokeStyle=function(t){return this.Fe="function"==typeof t?t(this.Fe):t,this.iS(),this},i.prototype.getStrokeStyle=function(){return this.Fe},i.prototype.getDominantStyle=function(){return this.Oe},i}(YA),hb=function(t){function i(i,n,r,e,s,u,a,h,f,c,l){var v=t.call(this,i,n,r,e,s,u,a,h,f,c)||this;return v.yt="Polygon Series",v.BS=es(),v.DS=function(t){var i=t.dS(),n=o((i.min.x+i.max.x)/2,(i.min.y+i.max.y)/2);return ee(n,v.scale,v.kr.qi.Yi)},v.Ct=new we,v.chart.qi.qa(gf.sa),v.PS=l,v.IS=new ab(v,v.kr,v.scale,io,io,io,io,io,(function(t){return!1}),v.en,v.PS).dispose(),v.ES=new Ad((function(){var t=v.BS.V(v.kr.Bb(v.scale));return v.rr(t,{setEventHandlers:!1}),t}),(function(t,i,n){return t.Be(n.fillStyle).je(n.strokeStyle),i.map((function(i){var n=i.existingMember||t.pa();return n.rc(i.vertices),v.BS.Dn(n,i.figure),i.figure.sS(n),n}))}),(function(){v.BS.Sn()}),(function(t,i){v.ur(i)})),v}return sb(i,t),i.prototype.solveNearest=function(t,i){var n=this.chart.qi.Fh(t),r={x:n.engineX,y:n.engineY};if(0!==this.MS.length){var e=Nu(r,this.MS.filter((function(t){return t.getVisible()})),this.DS,_s);if(e){var o=ee(e[0],this.kr.qi.Yi,this.scale);return ub(ub({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{figure:e[1],coordinates:e[1].getDimensions(),series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.Bn=function(t,i,n){if(n){var r=this.MS.find((function(t){return t.uS===n}));if(r){var e=r.dS(),s=o((e.min.x+e.max.x)/2,(e.min.y+e.max.y)/2);return ub(ub({cursorPosition:{resultTable:s,resultTableScale:this.scale,pointMarker:s,pointMarkerScale:{x:this.axisX,y:this.axisY}}},s),{coordinates:r.getDimensions(),figure:r,series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.bS=function(t){},i.prototype._S=function(t){var i=this.ES.Iy();t.forEach((function(t){if(t.getVisible()){var n=t.getDimensions(),r=t.getFillStyle(),e=t.getStrokeStyle();i.add({nn:t.nn,vertices:n,figure:t},{fillStyle:r,strokeStyle:e})}})),i.finishPlot()},i.prototype.add=function(t){var i=new ab(this,this.kr,this.scale,this.oS,this.tS,this.iS,this.nS,this.rS,this.kS,this.en,this.PS).setDimensions(t);return this.OS(i),this.TS=!0,this.chart.qi.vr(),i},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(qA),fb=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cb=function(){return cb=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},cb.apply(this,arguments)},lb=function(t){function i(i,n,r,e,s,u,a,h,c,l,v){var d=t.call(this,n,r,e,s,u,a,h,c,l)||this;return d.NS={x:0,y:0,width:0,height:0},d.VS={x1:0,y1:0,x2:0,y2:0},d.If=f(o(0,0),o(0,0)),d.ip=i,d.Oe=Xo(l.rectangleSeriesFillStyle,v),d.kr=n,d.scale=r,d.Fe=Xo(l.rectangleSeriesStrokeStyle,v),d}return fb(i,t),i.prototype.setCornerRadius=function(t){return this.RS=t,this.tS(),this},i.prototype.getCornerRadius=function(){return this.RS},i.prototype.Bn=function(t,i){var n=this.getDimensionsPositionAndSize(),r=o(n.x+n.width/2,n.y+n.height/2);return cb(cb(cb(cb({cursorPosition:{resultTable:r,resultTableScale:this.scale,pointMarker:r,pointMarkerScale:{x:this.ip.axisX,y:this.ip.axisY}}},r),{figure:this,positionAndSize:this.getDimensionsPositionAndSize()}),this.getDimensionsTwoPoints()),{series:this.ip,axisX:this.ip.axisX,axisY:this.ip.axisY})},i.prototype.dS=function(){return this.If},i.prototype.setDimensions=function(t){return"x"in t?(this.NS=t,this.VS={x1:t.x,y1:t.y,x2:t.x+t.width,y2:t.y+t.height}):(this.VS=t,this.NS={x:t.x1,y:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}),this.If=Bs([this.NS,o(this.NS.x+this.NS.width,this.NS.y+this.NS.height)]),this.tS(),this.kr.vr(),this},i.prototype.getDimensionsPositionAndSize=function(){return this.NS},i.prototype.getDimensionsTwoPoints=function(){return this.VS},i.prototype.setFillStyle=function(t){return this.Oe="function"==typeof t?t(this.Oe):t,this.iS(),this},i.prototype.getFillStyle=function(){return this.Oe},i.prototype.setStrokeStyle=function(t){return this.Fe="function"==typeof t?t(this.Fe):t,this.iS(),this},i.prototype.getStrokeStyle=function(){return this.Fe},i.prototype.getDominantStyle=function(){return this.Oe},i}(YA),vb=function(t){function i(i,n,r,e,s,u,a,h,f,c,l,v){var d=t.call(this,i,n,r,e,s,u,a,h,f,c)||this;return d.yt="Rectangle Series",d.GS=es(),d.US="xy",d.DS=function(t){var i=t.getDimensionsPositionAndSize(),n=o(i.x+i.width/2,i.y+i.height/2);return ee(n,d.scale,d.kr.qi.Yi)},d.Ct=new we,d.chart.qi.qa(gf.sa),d.PS=l,d.ih=v,d.IS=new lb(d,d.kr,d.scale,io,io,io,io,io,(function(t){return!1}),d.en,d.PS).dispose(),d.YS=new Ad((function(){var t=d.GS.V(d.kr.ev(d.scale));return d.rr(t,{setEventHandlers:!1}),t}),(function(t,i,n){return t.Be(n.fillStyle).je(n.strokeStyle),i.map((function(i){var n=i.existingMember||t.pa();return n.av(i.x1,i.y1,i.x2,i.y2).uv(i.roundedCorners?{extent:i.roundedCorners,c_x1_y1:!0,c_x1_y2:!0,c_x2_y1:!0,c_x2_y2:!0}:void 0),d.GS.Dn(n,i.figure),i.figure.sS(n),n}))}),(function(){d.GS.Sn()}),(function(t,i){d.ur(i)})),d}return fb(i,t),i.prototype.WS=function(){var t,i,n,r,e,o=void 0,s=void 0;if(!(null===(n=this.ih)||void 0===n?void 0:n.solvePlane)&&this.MS.length>=3){var u=void 0;try{for(var a=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.MS),h=a.next();!h.done;h=a.next()){var f=h.value.getDimensionsPositionAndSize(),c={x:f.x+f.width/2,y:f.y+f.height/2};if(u){var l=c.x-u.x,v=0===l?o:l>0?"progressive":"regressive";o=null===o?null:void 0===o?v:v!==o?null:o;var d=c.y-u.y,y=0===d?s:d>0?"progressive":"regressive";s=null===s?null:void 0===s?y:y!==s?null:s}u=c}}catch(i){t={error:i}}finally{try{h&&!h.done&&(i=a.return)&&i.call(a)}finally{if(t)throw t.error}}}var A=null!==(e=null===(r=this.ih)||void 0===r?void 0:r.solvePlane)&&void 0!==e?e:o?"x":s?"y":"xy";this.US=A},i.prototype.nr=function(){return"x"===this.US?"ProgressiveX":"y"===this.US?"ProgressiveY":void 0},i.prototype.solveNearest=function(t,i){var n=this.chart.qi.Fh(t),r={x:n.engineX,y:n.engineY};if(0!==this.MS.length){var e="x"===this.US?function(t,i){return Math.abs(t.x-i.x)}:"y"===this.US?function(t,i){return Math.abs(t.y-i.y)}:_s,o=Nu(r,this.MS.filter((function(t){return t.getVisible()})),this.DS,e);if(o){var s=ee(r,this.kr.qi.Yi,this.scale);if(("x"!==this.US||ks(s.x,this.getXMin(),this.getXMax()))&&("y"!==this.US||ks(s.y,this.getYMin(),this.getYMax()))){var u=ee(o[0],this.kr.qi.Yi,this.scale);return cb(cb(cb(cb({cursorPosition:{resultTable:u,resultTableScale:this.scale,pointMarker:u,pointMarkerScale:{x:this.axisX,y:this.axisY}}},u),{figure:o[1],positionAndSize:o[1].getDimensionsPositionAndSize()}),o[1].getDimensionsTwoPoints()),{series:this,axisX:this.axisX,axisY:this.axisY})}}}},i.prototype.Bn=function(t,i,n){if(n){var r=this.MS.find((function(t){return t.uS===n}));if(r){var e=r.getDimensionsPositionAndSize(),s=o(e.x+e.width/2,e.y+e.height/2);return cb(cb(cb(cb({cursorPosition:{resultTable:s,resultTableScale:this.scale,pointMarker:s,pointMarkerScale:{x:this.axisX,y:this.axisY}}},s),{positionAndSize:r.getDimensionsPositionAndSize()}),r.getDimensionsTwoPoints()),{figure:r,series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.bS=function(t){},i.prototype._S=function(t){var i=this.YS.Iy();t.forEach((function(t){if(t.getVisible()){var n=t.getDimensionsTwoPoints(),r=t.getFillStyle(),e=t.getStrokeStyle();i.add(cb({nn:t.nn,figure:t,roundedCorners:t.RS},n),{fillStyle:r,strokeStyle:e})}})),i.finishPlot(),this.WS()},i.prototype.add=function(t){var i=new lb(this,this.kr,this.scale,this.oS,this.tS,this.iS,this.nS,this.rS,this.kS,this.en,this.PS).setDimensions(t);return this.OS(i),this.TS=!0,this.chart.qi.vr(),i},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(qA),db=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yb=function(){return yb=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},yb.apply(this,arguments)},Ab=function(t){function i(i,n,r,e,s,u,a,h,c,l,v){var d=t.call(this,n,r,e,s,u,a,h,c,l)||this;return d.dimensions={startX:0,startY:0,endX:0,endY:0},d.If=f(o(0,0),o(0,0)),d.ip=i,d.en=l,d.kr=n,d.scale=r,d.Fe=Xo(l.segmentSeriesStrokeStyle,v),d}return db(i,t),i.prototype.Bn=function(t,i){var n=this.getDimensions(),r=o((n.startX+n.endX)/2,(n.startY+n.endY)/2);return yb(yb(yb(yb({cursorPosition:{resultTable:r,resultTableScale:this.scale,pointMarker:r,pointMarkerScale:{x:this.ip.axisX,y:this.ip.axisY}}},r),{figure:this}),this.getDimensions()),{series:this.ip,axisX:this.ip.axisX,axisY:this.ip.axisY})},i.prototype.dS=function(){return this.If},i.prototype.setDimensions=function(t){return this.dimensions=t,this.If=f(o(Math.min(t.startX,t.endX),Math.min(t.startY,t.endY)),o(Math.max(t.startX,t.endX),Math.max(t.startY,t.endY))),this.tS(),this.kr.vr(),this},i.prototype.getDimensions=function(){return this.dimensions},i.prototype.setStrokeStyle=function(t){return this.Fe="function"==typeof t?t(this.Fe):t,this.iS(),this},i.prototype.getStrokeStyle=function(){return this.Fe},i.prototype.getDominantStyle=function(){var t=this.Fe;return t!==Pe?t.getFillStyle():Cu},i}(YA),bb=function(t){function i(i,n,r,e,s,u,a,h,f,c,l){var v=t.call(this,i,n,r,e,s,u,a,h,f,c)||this;return v.yt="Segment Series",v.XS=es(),v.DS=function(t){var i=t.getDimensions(),n=o((i.startX+i.endX)/2,(i.startY+i.endY)/2);return ee(n,v.scale,v.kr.qi.Yi)},v.Ct=new we,v.chart.qi.qa(gf.sa),v.PS=l,v.IS=new Ab(v,v.kr,v.scale,io,io,io,io,io,(function(t){return!1}),v.en,v.PS).dispose(),v.LS=new Ad((function(){var t=v.XS.V(v.kr.ly(v.scale));return v.rr(t,{setEventHandlers:!1}),t}),(function(t,i,n){return t.Ye(n.strokeStyle),i.map((function(i){var n=i.existingMember||t.pa();return n.yy(i.start,i.end),v.XS.Dn(n,i.figure),i.figure.sS(n),n}))}),(function(){v.XS.Sn()}),(function(t,i){v.ur(i)})),v}return db(i,t),i.prototype.solveNearest=function(t,i){var n=this.chart.qi.Fh(t),r={x:n.engineX,y:n.engineY};if(0!==this.MS.length){var e=Nu(r,this.MS.filter((function(t){return t.getVisible()})),this.DS,_s);if(e){var o=ee(e[0],this.kr.qi.Yi,this.scale);return yb(yb(yb(yb({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{figure:e[1]}),e[1].getDimensions()),{series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.Bn=function(t,i,n){if(n){var r=this.MS.find((function(t){return t.uS===n}));if(r){var e=r.getDimensions(),s=o((e.startX+e.endX)/2,(e.startY+e.endY)/2);return yb(yb(yb({cursorPosition:{resultTable:s,resultTableScale:this.scale,pointMarker:s,pointMarkerScale:{x:this.axisX,y:this.axisY}}},s),e),{figure:r,series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.bS=function(t){},i.prototype._S=function(t){var i=this.LS.Iy();t.forEach((function(t){if(t.getVisible()){var n=t.getDimensions(),r={x:n.startX,y:n.startY},e={x:n.endX,y:n.endY},o=t.getStrokeStyle();i.add({nn:t.nn,start:r,end:e,figure:t},{strokeStyle:o})}})),i.finishPlot()},i.prototype.add=function(t){var i=new Ab(this,this.kr,this.scale,this.oS,this.tS,this.iS,this.nS,this.rS,this.kS,this.en,this.PS).setDimensions(t);return this.OS(i),this.TS=!0,this.chart.qi.vr(),i},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(qA),pb=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mb=function(){return mb=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},mb.apply(this,arguments)},gb={x:0,y:0},xb=function(t){function i(i,n,r,e,o,s,u,a,h,f,c){var l,v=this;return(v=t.call(this,n,r,e,o,s,u,a,h,f)||this).Hh="Text",v.Ma=gb,v.Yv=gb,v.$h=0,v.Zt=os,v.ip=i,v.Oe=f.textSeriesFillStyle?Xo(f.textSeriesFillStyle,c):f.uiTextFillStyle,v.ku=null!==(l=f.textSeriesFont)&&void 0!==l?l:f.uiTextFont,v.kf=v.kr.$s(r,!1)._s(f.textSeriesShadow),v.kf.Zh=!0,v.Ct.xn(v.kf,{getExtraData:function(t,i,n){return v.Bn(n,t)}}),v.addEventListener("dispose",(function(){return v.kf.dispose()})),v}return pb(i,t),i.prototype.Bn=function(t,i){var n=this.Ma;return mb(mb({cursorPosition:{resultTable:n,resultTableScale:this.scale,pointMarker:n,pointMarkerScale:{x:this.ip.axisX,y:this.ip.axisY}}},n),{figure:this,series:this.ip,axisX:this.ip.axisX,axisY:this.ip.axisY})},i.prototype.dS=function(){return{min:{x:this.Ma.x,y:this.Ma.y},max:{x:this.Ma.x,y:this.Ma.y}}},i.prototype.HS=function(){this.kf.Os(this.Hh).Ee(this.Ma).wf(this.Yv).$o(this.$h).Ks(this.Zt).Be(this.Oe).qo(this.ku)},i.prototype.getSizePixels=function(){return this.HS(),this.kf.ds().al()},i.prototype.getBoundingBox=function(){return this.HS(),this.kf.ds().ol()},i.prototype.setText=function(t){return this.Hh=t,this.tS(),this},i.prototype.getText=function(){return this.Hh},i.prototype.setLocation=function(t){return this.Ma=t,this.tS(),this},i.prototype.getLocation=function(){return this.Ma},i.prototype.setAlignment=function(t){return this.Yv=t,this.tS(),this},i.prototype.getAlignment=function(){return this.Yv},i.prototype.setRotation=function(t){return this.$h=t,this.tS(),this},i.prototype.getRotation=function(){return this.$h},i.prototype.setMargin=function(t){return this.Zt=y(this.Zt,t),this.tS(),this},i.prototype.getMargin=function(){return this.Zt},i.prototype.setLabelShadow=function(t){return this.kf._s(t),this.kr.vr(),this},i.prototype.getLabelShadow=function(){return this.kf.yf()},i.prototype.setFillStyle=function(t){return this.Oe="function"==typeof t?t(this.Oe):t,this.iS(),this},i.prototype.getFillStyle=function(){return this.Oe},i.prototype.setFont=function(t){return this.ku="function"==typeof t?t(this.ku):t,this.iS(),this},i.prototype.getFont=function(){return this.ku},i.prototype.getDominantStyle=function(){return this.Oe},i}(YA),Sb=function(t){function i(i,n,r,e,o,s,u,a,h,f,c){var l=t.call(this,i,n,r,e,o,s,u,a,h,f)||this;return l.yt="Text Series",l.DS=function(t){return ee(t.getLocation(),l.scale,l.kr.qi.Yi)},l.Ct=new we,l.PS=c,l.IS=new xb(l,l.kr,l.scale,io,io,io,io,io,(function(t){return!1}),l.en,l.PS).dispose(),l}return pb(i,t),i.prototype.bS=function(t){},i.prototype._S=function(t){t.forEach((function(t){t.HS(),t.kf.setVisible(t.getVisible())}))},i.prototype.add=function(t){var i=new xb(this,this.kr,this.scale,this.oS,this.tS,this.iS,this.nS,this.rS,this.kS,this.en,this.PS);return(null==t?void 0:t.alignment)&&i.setAlignment(t.alignment),(null==t?void 0:t.fillStyle)&&i.setFillStyle(t.fillStyle),(null==t?void 0:t.font)&&i.setFont(t.font),(null==t?void 0:t.location)&&i.setLocation(t.location),(null==t?void 0:t.margin)&&i.setMargin(t.margin),void 0!==(null==t?void 0:t.rotation)&&i.setRotation(t.rotation),(null==t?void 0:t.text)&&i.setText(t.text),this.OS(i),this.TS=!0,this.rr(i.kf,{setEventHandlers:!1,isText:!0}),this.chart.qi.vr(),this.Ct.xn(i.kf,{getExtraData:function(t,n,r){return i.Bn(r,t)}}),i},i.prototype.Bn=function(t,i,n){var r=this;return as({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,multiHit:0,figure:0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},i.prototype.solveNearest=function(t,i){var n=this.chart.qi.Fh(t),r={x:n.engineX,y:n.engineY};if(0!==this.MS.length){var e=Nu(r,this.MS.filter((function(t){return t.getVisible()})),this.DS,_s);if(e){var o=ee(e[0],this.kr.qi.Yi,this.scale);return mb(mb({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{figure:e[1],series:this,axisX:this.axisX,axisY:this.axisY})}}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(qA),wb=function(t,i){for(var n=0,r=[];n<t;){var e=n,o=i,s=n>0;o-=s?1:0,o-=n+o<t?1:0;var u=Math.min(o,t-e),a=n-(s?1:0),h={start:a,startUnique:e,sizeData:Math.min(i,t-a),sizeUniqueData:u};r.push(h),n+=u}return r},Mb=function(t,i){for(var n=0,r=[];n<t;){var e=n,o=i,s=n>0;o-=s?1:0,o-=0;var u=Math.min(o,t-e),a=n-(s?1:0),h={start:a,startUnique:e,sizeData:Math.min(i,t-a),sizeUniqueData:u};r.push(h),n+=u}return r},Cb=function(t,i,n,r){if(n){var e=new Map;return i.gridTiles.forEach((function(t){e.set(t,{type:n,dataInvalidationRanges:[{tileInvalidationOffset:{primary:0,secondary:0},tileInvalidationLength:t.sizeHeatmapDataVectors}]})})),e}for(var s=new Map,u=function(n){var e=t[n],u={x:e.startPrimary,y:e.startSecondary},a={x:u.x+e.lengthPrimary-1,y:u.y+e.lengthSecondary-1},h=[u,{x:a.x,y:u.y},a,{x:u.x,y:a.y}];i.gridTiles.forEach((function(t){var i=t.iFirstVector,n=r(t),u={x:i.primary+n.primary-1,y:i.secondary+n.secondary-1},a=[{x:i.primary,y:i.secondary},{x:u.x,y:i.secondary},u,{x:i.primary,y:u.y}];if(Ss(h,a)){var c=s.get(t);c||(c={type:e.type,dataInvalidationRanges:[]},s.set(t,c));for(var l,v,d=(l=h,v=a,f(o(Math.max(Math.min(l[0].x,l[2].x),Math.min(v[0].x,v[2].x)),Math.max(Math.min(l[0].y,l[2].y),Math.min(v[0].y,v[2].y))),o(Math.min(Math.max(l[0].x,l[2].x),Math.max(v[0].x,v[2].x)),Math.min(Math.max(l[0].y,l[2].y),Math.max(v[0].y,v[2].y))))),y={primary:d.min.x-i.primary,secondary:d.min.y-i.secondary},A={primary:1+d.max.x-d.min.x,secondary:1+d.max.y-d.min.y},b=!1,p=[{x:y.primary,y:y.secondary},{x:y.primary+A.primary,y:y.secondary},{x:y.primary+A.primary,y:y.secondary+A.secondary},{x:y.primary,y:y.secondary+A.secondary}],m=0;m<c.dataInvalidationRanges.length;m+=1)if(!b){var g=c.dataInvalidationRanges[m],x=[{x:g.tileInvalidationOffset.primary,y:g.tileInvalidationOffset.secondary},{x:g.tileInvalidationOffset.primary+g.tileInvalidationLength.primary,y:g.tileInvalidationOffset.secondary},{x:g.tileInvalidationOffset.primary+g.tileInvalidationLength.primary,y:g.tileInvalidationOffset.secondary+g.tileInvalidationLength.secondary},{x:g.tileInvalidationOffset.primary,y:g.tileInvalidationOffset.secondary+g.tileInvalidationLength.secondary}];if(Ss(p,x)){var S=ws(p,x);g.tileInvalidationOffset.primary=S.min.x,g.tileInvalidationOffset.secondary=S.min.y,g.tileInvalidationLength.primary=S.max.x-S.min.x,g.tileInvalidationLength.secondary=S.max.y-S.min.y,b=!0}}b||c.dataInvalidationRanges.push({tileInvalidationLength:A,tileInvalidationOffset:y})}}))},a=0;a<t.length;a+=1)u(a);return s},Tb=function(t){return Dc(t)||Array.isArray(t)&&"number"==typeof t[0]},kb=function(t){return!Tb(t)&&Array.isArray(t)},_b=function(t,i,n,r){if(1!==t.length||0!==i.startPrimary||0!==i.startSecondary||i.lengthPrimary!==t[0].sizeHeatmapDataVectors.primary||i.lengthSecondary!==t[0].sizeHeatmapDataVectors.secondary)t.forEach((function(t){var r=n(t),e=Math.max(i.startPrimary,t.iFirstVector.primary),o=Math.min(i.startPrimary+i.lengthPrimary-1,t.iFirstVector.primary+t.sizeHeatmapDataVectors.primary-1),s=Math.max(i.startSecondary,t.iFirstVector.secondary),u=Math.min(i.startSecondary+i.lengthSecondary-1,t.iFirstVector.secondary+t.sizeHeatmapDataVectors.secondary-1);if(kb(i.values))for(var a=e;a<=o;a+=1)for(var h=a-i.startPrimary,f=i.values[h],c=(a-t.iFirstVector.primary)*t.sizeHeatmapDataVectors.secondary,l=s;l<=u;l+=1){var v=l-i.startSecondary,d=l-t.iFirstVector.secondary,y=f[v];r[c+d]=y}else for(a=e;a<=o;a+=1)for(h=a-i.startPrimary,c=(a-t.iFirstVector.primary)*t.sizeHeatmapDataVectors.secondary,l=s;l<=u;l+=1){v=l-i.startSecondary,d=l-t.iFirstVector.secondary;var A=h*i.lengthSecondary+v;y=i.values[A],r[c+d]=y}}));else{var e=t[0],o=n(e);if(kb(i.values))for(var s=0;s<i.lengthPrimary;s+=1){var u=s*e.sizeHeatmapDataVectors.secondary;o.set(i.values[s],u)}else r(e,Bc(i.values)===Float32Array?i.values:new Float32Array(i.values))}},Ob=function(t,i,n){var r,e,o=null===(r=t.gl2)||void 0===r?void 0:r.ctx;if(o)return t.ZS(null,o.RED,!1,!0,{x:i,y:n},!1,o.FLOAT,o.R32F);var s=t.gl;return(null===(e=t.gl1)||void 0===e?void 0:e.optional.OES_texture_float)?t.ZS(null,s.LUMINANCE,!1,!0,{x:i,y:n},!1,s.FLOAT):t.ZS(null,s.RGBA,!1,!0,{x:i,y:n},!1,s.UNSIGNED_BYTE)},Fb=function(t,i,n,r){i.forEach((function(i,e){var o,s,u=n(e),a=r(e),h=t.gl;h.bindTexture(h.TEXTURE_2D,a),h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);var f=null===(o=t.gl2)||void 0===o?void 0:o.ctx,c=i.dataInvalidationRanges.length,l=i.dataInvalidationRanges.reduce((function(t,i){return t+i.tileInvalidationLength.primary}),0)/e.sizeHeatmapDataVectors.primary;1===c&&l<1||l<.5&&c<10?i.dataInvalidationRanges.forEach((function(i){var n,r=i.tileInvalidationOffset.primary*e.sizeHeatmapDataVectors.secondary,o=r+i.tileInvalidationLength.primary*e.sizeHeatmapDataVectors.secondary;if(f)f.texSubImage2D(h.TEXTURE_2D,0,0,i.tileInvalidationOffset.primary,e.sizeHeatmapDataVectors.secondary,i.tileInvalidationLength.primary,f.RED,f.FLOAT,u.subarray(r,o));else if(null===(n=t.gl1)||void 0===n?void 0:n.optional.OES_texture_float)h.texSubImage2D(h.TEXTURE_2D,0,0,i.tileInvalidationOffset.primary,e.sizeHeatmapDataVectors.secondary,i.tileInvalidationLength.primary,h.LUMINANCE,h.FLOAT,u.subarray(r,o));else{var s=new Uint8Array(u.buffer).subarray(4*r,4*o);h.texSubImage2D(h.TEXTURE_2D,0,0,i.tileInvalidationOffset.primary,e.sizeHeatmapDataVectors.secondary,i.tileInvalidationLength.primary,h.RGBA,h.UNSIGNED_BYTE,s)}})):f?f.texImage2D(h.TEXTURE_2D,0,f.R32F,e.sizeHeatmapDataVectors.secondary,e.sizeHeatmapDataVectors.primary,0,f.RED,f.FLOAT,u):(null===(s=t.gl1)||void 0===s?void 0:s.optional.OES_texture_float)?h.texImage2D(h.TEXTURE_2D,0,h.LUMINANCE,e.sizeHeatmapDataVectors.secondary,e.sizeHeatmapDataVectors.primary,0,h.LUMINANCE,h.FLOAT,u):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,e.sizeHeatmapDataVectors.secondary,e.sizeHeatmapDataVectors.primary,0,h.RGBA,h.UNSIGNED_BYTE,new Uint8Array(u.buffer)),h.bindTexture(h.TEXTURE_2D,null)}))},Ib=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jb=function(t){function i(i,n,r,e,o,s,u,a,h,f,c,l){var v=t.call(this,i,n,r,e,o,s,u,a,f,c)||this;v.yt="Heatmap Grid Series",v.JS=!0,v.Np={},v.chart.qi.qa(gf.oa),v.QS=h,v.en=f;var d=l;v.Oe=Xo(f.heatmapGridSeriesFillStyle,d),v.Vp=Xo(v.en.heatmapGridSeriesWireframeStyle,d);var y={heatmapDataType:"intensity",dataOrder:h.dataOrder||"columns",columns:h.columns,rows:h.rows,KS:h.maxTileSize};return v.ih=y,v.qS=v.kr.$S(v.scale,[],y).Be(v.Oe).Rp(v.Vp).vn(v.getHighlight()),v.rr(v.qS),v.JS=!0,v.setHighlightOnHover(!1),v}return Ib(i,t),i.prototype.solveNearest=function(t,i){void 0===i&&(i="show-nearest");var n=this.chart.qi.Fh(t),r={x:n.engineX,y:n.engineY},e=ee(r,this.kr.qi.Yi,this.scale),o=dS(i)?this.qS.tw(e):this.qS.rv(e);if(o)return{cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}},x:o.x,y:o.y,column:o.column,row:o.row,intensity:o.cellValue,series:this,axisX:this.axisX,axisY:this.axisY,lut:Bu(this.Oe)?this.Oe.lut:void 0}},i.prototype.Bn=function(t,i,n){var r=this;return as({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,multiHit:0,intensity:0,column:0,row:0,lut:Bu(this.Oe)?this.Oe.lut:void 0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},i.prototype.Yp=function(){var t,i=this.Np.start||{x:0,y:0};t=this.Np.end?{x:(this.Np.end.x-i.x)/this.ih.columns,y:(this.Np.end.y-i.y)/this.ih.rows}:this.Np.step?this.Np.step:{x:1,y:1},this.qS.Wp(i,t),this.chart.qi.vr()},i.prototype.setStart=function(t){return this.Np.start=t,this.Yp(),this},i.prototype.getStart=function(){return this.qS.Xp().start},i.prototype.setStep=function(t){return this.Np.step=t,this.Yp(),this},i.prototype.getStep=function(){return this.qS.Xp().step},i.prototype.setEnd=function(t){return this.Np.end=t,this.Yp(),this},i.prototype.getEnd=function(){return this.qS.Xp().end},i.prototype.setContours=function(t){var i,n,r,e=this;return this.qS.Hp(t?{showLabels:null===(i=t.showLabels)||void 0===i||i,levels:t.levels.map((function(t){var i,n,r,o,s,u;return{value:t.value,strokeStyle:null!==(n=null!==(i=t.strokeStyle)&&void 0!==i?i:e.en.heatmapGridSeriesContourStrokeStyle)&&void 0!==n?n:new Ta({thickness:1,fillStyle:new _u({color:Mr(0,0,0)})}),labelFillStyle:new _u({color:null!==(r=t.labelColor)&&void 0!==r?r:e.en.heatmapGridSeriesContourLabelColor}),labelFont:(s=t.labelFont,u=null!==(o=e.en.heatmapGridSeriesContourLabelFont)&&void 0!==o?o:e.en.uiTextFont,void 0===s?u:Dr(s)?s:new Br(Ye({size:u.size,family:u.family,variant:u.variant,type:u.type,style:u.style,weight:u.weight},s))),label:t.label}})),shadows:null!==(r=null!==(n=t.shadows)&&void 0!==n?n:this.en.heatmapGridSeriesContourLabelShadow)&&void 0!==r?r:null}:void 0),this.kr.vr(),this},i.prototype.getContours=function(){return this.qS.Zp()},i.prototype.ab=function(){return this.XA&&this.getVisible()},i.prototype.Mr=function(){return Uo(this.Oe,this.qS.an())},i.prototype.Pe=function(){return{fill:this.Oe}},i.prototype.iw=function(t){this.qS.iw().forEach((function(i){t.qS.qp(i)}))},i.prototype.gS=function(){var t=this.qS;return t?t.Fn():void 0},i.prototype.xS=function(){var t=this.qS;return t?t.On():void 0},i.prototype.SS=function(){var t=this.qS;return t?t.jn():void 0},i.prototype.wS=function(){var t=this.qS;return t?t.In():void 0},i.prototype.Us=function(){var t=o(0,0);return t.x=Math.max(t.x,this.qS.sc()),t.y=Math.max(t.y,this.qS.uc()),t},i.prototype.bS=function(t){if(!(t instanceof $r))throw new Error("HeatmapGridSeries can only be attached to a pair of Linear Axes.")},i.prototype.ze=function(t,i){t.vn(i),this.kr.vr()},i.prototype.Le=function(){return t.prototype.Le.call(this),this.qS.cn(this.getBoundaries()),this},i}(JA),Bb=function(t){function i(i,n,r,e,o,s,u,a,h,f,c,l){var v=t.call(this,i,n,r,e,o,s,u,a,h,f,c,l)||this;return v.rb=!1,v.Ct=new we,v}return Ib(i,t),i.prototype.sb=function(){return this.rb},i.prototype.invalidateIntensityValues=function(t){if(this.rb&&this.chart.qi.qa(gf.aa),Dc(t)||Array.isArray(t)&&"number"==typeof t[0]){var i=this.ih.columns*this.ih.rows,n=t.length;if(i!==n)throw new Error("LightningChart JS input error | Heatmap invalidateIntensityValues received typed array whose length does not match heatmap columns x rows (received ".concat(n,", expected ").concat(i,")"));this.qS.qp({type:"intensity",lengthPrimary:"columns"===this.ih.dataOrder?this.ih.columns:this.ih.rows,lengthSecondary:"columns"===this.ih.dataOrder?this.ih.rows:this.ih.columns,startPrimary:0,startSecondary:0,values:t})}else if(Array.isArray(t)){var r=t;if(0===t.length)return this;var e={x:r.length,y:r[0].length,columns:"columns"===this.ih.dataOrder?r.length:r[0].length,rows:"rows"===this.ih.dataOrder?r.length:r[0].length},o="columns"===this.ih.dataOrder?this.ih.columns:this.ih.rows,s="columns"===this.ih.dataOrder?this.ih.rows:this.ih.columns;if(e.x>o||e.y>s){if(!0===this.chart.SA.rh){var u="HeatmapGridSeries.invalidateIntensityValues intensity matrix overflow.\nGrid ".concat(this.ih.columns,"x").concat(this.ih.rows,", input ").concat(e.columns,"x").concat(e.rows,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");Qe.console.warn(u)}for(var a=[],h=0;h<o;h+=1)a[h]=r[h].slice(0,s);r=a}this.qS.qp({type:"intensity",lengthPrimary:e.x,lengthSecondary:e.y,startPrimary:0,startSecondary:0,values:r})}else if("iColumn"in t&&"iRow"in t&&"values"in t&&kb(t.values)){var f=t.values;if(0===t.values.length)return this;e={primary:f.length,secondary:f[0].length,columns:"columns"===this.ih.dataOrder?f.length:f[0].length,rows:"rows"===this.ih.dataOrder?f.length:f[0].length};var c=(p="columns"===this.ih.dataOrder?t.iColumn:t.iRow)+e.primary-1,l=(m="columns"===this.ih.dataOrder?t.iRow:t.iColumn)+e.secondary-1,v=("columns"===this.ih.dataOrder?this.ih.columns:this.ih.rows)-1,d=("columns"===this.ih.dataOrder?this.ih.rows:this.ih.columns)-1;if(p<0||m<0)return!0===this.chart.SA.rh&&(u="HeatmapGridSeries.invalidateIntensityValues invalidation start below 0 not permitted.\niColumn: ".concat(t.iColumn,", iRow: ").concat(t.iRow,".\nNo intensity values will be invalidated."),Qe.console.warn(u)),this;if(c>v||l>d){!0===this.chart.SA.rh&&(u="HeatmapGridSeries.invalidateIntensityValues intensity matrix overflow.\nGrid ".concat(this.ih.columns,"x").concat(this.ih.rows,", input ").concat(e.columns,"x").concat(e.rows," starting at [").concat(t.iColumn,",").concat(t.iRow,"].\nOut of bounds data will be automatically clipped. This can result in sub-optimal performance."),Qe.console.warn(u));var y=Math.max(c-v,0),A=e.primary-y,b=Math.max(l-d,0);for(a=[],h=0;h<A;h+=1)a[h]=f[h].slice(0,b>0?-b:void 0);t={iColumn:t.iColumn,iRow:t.iRow,values:a}}this.qS.qp({type:"intensity",lengthPrimary:f.length,lengthSecondary:f[0].length,startPrimary:p,startSecondary:m,values:f})}else if("iColumn"in t&&"iRow"in t&&"columns"in t&&"rows"in t&&"values"in t&&Tb(t.values)){if(f=t.values,0===t.values.length)return this;var p,m;if(e={primary:"columns"===this.ih.dataOrder?t.columns:t.rows,secondary:"columns"===this.ih.dataOrder?t.rows:t.columns,columns:t.columns,rows:t.rows},c=(p="columns"===this.ih.dataOrder?t.iColumn:t.iRow)+e.primary-1,l=(m="columns"===this.ih.dataOrder?t.iRow:t.iColumn)+e.secondary-1,v=("columns"===this.ih.dataOrder?this.ih.columns:this.ih.rows)-1,d=("columns"===this.ih.dataOrder?this.ih.rows:this.ih.columns)-1,p<0||m<0)return!0===this.chart.SA.rh&&(u="HeatmapGridSeries.invalidateIntensityValues invalidation start below 0 not permitted.\niColumn: ".concat(t.iColumn,", iRow: ").concat(t.iRow,".\nNo intensity values will be invalidated."),Qe.console.warn(u)),this;if(c>v||l>d)return!0===this.chart.SA.rh&&(u="HeatmapGridSeries.invalidateIntensityValues intensity matrix overflow.\nGrid ".concat(this.ih.columns,"x").concat(this.ih.rows,", input ").concat(e.columns,"x").concat(e.rows," starting at [").concat(t.iColumn,",").concat(t.iRow,"].\nWith flat array input, this operation is not permitted. No intensity values will be invalidated."),Qe.console.warn(u)),this;var g=e.columns*e.rows;if(f.length!==g)return!0===this.chart.SA.rh&&(u="HeatmapGridSeries.invalidateIntensityValues invalid flat data input.\ncolumns=".concat(t.columns," rows=").concat(t.rows,", array length must be ").concat(g,", received ").concat(f.length,"\nNo intensity values will be invalidated."),Qe.console.warn(u)),this;this.qS.qp({type:"intensity",lengthPrimary:e.primary,lengthSecondary:e.secondary,startPrimary:p,startSecondary:m,values:f})}return this.Ct.Tt("invalidateintensity",{value:t}),this.kr.vr(),this.rb=!0,this},i.prototype.setFillStyle=function(t){return this.Oe="function"==typeof t?t(this.Oe):t,this.qS.Be(this.Oe),this.Ct.Tt("stylechange",{}),this.kr.vr(),this},i.prototype.getFillStyle=function(){return this.Oe},i.prototype.setIntensityInterpolation=function(t){return t=t||"disabled",this.qS.Qp(t),this.kr.vr(),this.Ct.Tt("stylechange",{}),this},i.prototype.getIntensityInterpolation=function(){return this.qS.Kp()},i.prototype.setAggregation=function(t){return this.qS.nw(t),this.kr.vr(),this},i.prototype.getAggregation=function(){return this.qS.rw()},i.prototype.clear=function(){return this.qS.Sn(),this.kr.vr(),this.Ct.Tt("dataclear",{}),this},i.prototype.setWireframeStyle=function(t){return this.Vp="function"==typeof t?t(this.Vp):t,this.qS.Rp(this.Vp),this.kr.vr(),this.Ct.Tt("stylechange",{}),this},i.prototype.getWireframeStyle=function(){return this.Vp},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(jb),Db=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lb=function(){return Lb=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Lb.apply(this,arguments)},Eb=function(t){function i(i,n,r,e,o,s,u,a,h,f,c,l){var v=t.call(this,i,n,r,e,o,s,u,a,f,c)||this;v.yt="Scrolling Heatmap Grid Series",v.Np={},v.chart.qi.qa(gf.oa),v.chart.qi.qa(gf.aa);var d=l;v.Oe=Xo(f.heatmapScrollingGridSeriesFillStyle,d),v.Vp=Xo(v.en.heatmapScrollingGridSeriesWireframeStyle,d);var y=Lb({scrollDimension:"columns",heatmapDataType:"intensity"},h);return v.ih=y,v.ew=v.kr.ow(v.scale,[],y).Be(v.Oe).Rp(v.Vp).vn(v.getHighlight()),v.rr(v.ew),v.setHighlightOnHover(!1),v}return Db(i,t),i.prototype.sb=function(){return this.ew.om()>0},i.prototype.solveNearest=function(t,i){void 0===i&&(i="show-nearest");var n=this.chart.qi.Fh(t),r={x:n.engineX,y:n.engineY},e=ee(r,this.kr.qi.Yi,this.scale),o=dS(i)?this.ew.tw(e):this.ew.rv(e);if(o)return{cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}},x:o.x,y:o.y,column:o.column,row:o.row,intensity:o.cellValue,series:this,axisX:this.axisX,axisY:this.axisY,lut:Bu(this.Oe)?this.Oe.lut:void 0}},i.prototype.Bn=function(t,i,n){var r=this;return as({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,intensity:0,multiHit:0,column:0,row:0,lut:Bu(this.Oe)?this.Oe.lut:void 0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},i.prototype.Yp=function(){var t,i=this.Np.start||{x:0,y:0};t=this.Np.step?this.Np.step:{x:1,y:1},this.ew.Wp(i,t),this.chart.qi.vr()},i.prototype.setStart=function(t){return this.Np.start=t,this.Yp(),this},i.prototype.getStart=function(){return this.ew.Xp().start},i.prototype.setStep=function(t){return this.Np.step=t,this.Yp(),this},i.prototype.getStep=function(){return this.ew.Xp().step},i.prototype.clear=function(){return this.ew.Sn(),this.kr.vr(),this},i.prototype.setAggregation=function(t){return this.ew.nw(t),this.kr.vr(),this},i.prototype.getAggregation=function(){return this.ew.rw()},i.prototype.setWireframeStyle=function(t){return this.Vp="function"==typeof t?t(this.Vp):t,this.ew.Rp(this.Vp),this.kr.vr(),this},i.prototype.getWireframeStyle=function(){return this.Vp},i.prototype.setIntensityInterpolation=function(t){return t=t||"disabled",this.ew.Qp(t),this.kr.vr(),this},i.prototype.getIntensityInterpolation=function(){return this.ew.Kp()},i.prototype.setPixelInterpolationMode=function(t){return this.setIntensityInterpolation(t),this},i.prototype.getPixelInterpolationMode=function(){return this.getIntensityInterpolation()},i.prototype.setDataCleaning=function(t){return this.ew.sw(t),this.kr.vr(),this},i.prototype.ab=function(){return this.XA&&this.getVisible()},i.prototype.Mr=function(){return Uo(this.Oe,this.ew.an())},i.prototype.Pe=function(){return{fill:this.Oe}},i.prototype.Be=function(t){return this.Oe="function"==typeof t?t(this.Oe):t,this.ew.Be(this.Oe),this.kr.vr(),this},i.prototype.bS=function(t){if(!(t instanceof $r))throw new Error("HeatmapScrollingGridSeries can only be attached to a pair of Linear Axes.")},i.prototype.gS=function(){return this.ew.Fn()||0},i.prototype.xS=function(){return this.ew.On()||0},i.prototype.SS=function(){return this.ew.jn()||0},i.prototype.wS=function(){return this.ew.In()||0},i.prototype.Us=function(){var t=o(0,0);return t.x=Math.max(t.x,this.ew.sc()),t.y=Math.max(t.y,this.ew.uc()),t},i.prototype.ze=function(t,i){t.vn(i),this.kr.vr()},i}(JA),Pb=function(t){function i(i,n,r,e,o,s,u,a,h,f,c,l){var v=t.call(this,i,n,r,e,o,s,u,a,h,f,c,l)||this;return v.Ct=new we,v}return Db(i,t),i.prototype.addIntensityValues=function(t){if(0===t.length||0===t[0].length)return this;var i={primary:t.length,secondary:t[0].length,columns:"columns"===this.ih.scrollDimension?t.length:t[0].length,rows:"rows"===this.ih.scrollDimension?t.length:t[0].length},n=0+i.secondary-1,r=this.ih.resolution-1;if(n>r){if(!0===this.chart.SA.rh){var e="HeatmapScrollingGridSeries.addIntensityValues intensity matrix overflow.\nGrid resolution: ".concat(this.ih.resolution,", input ").concat(i.primary,"x").concat(i.secondary,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");Qe.console.warn(e)}for(var o=[],s=0;s<i.primary;s+=1)o[s]=t[s].slice(0,r+1);t=o}return this.ew.rm(t),this.kr.vr(),this},i.prototype.invalidateIntensityValues=function(t){return this.ew.qp(t.iSample,t.values),this.kr.vr(),this},i.prototype.getSampleCount=function(){return this.ew.om()},i.prototype.setFillStyle=function(t){return this.Be(t),this},i.prototype.getFillStyle=function(){return this.Oe},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(Eb),zb=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nb=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Vb=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Rb=function(i){function n(){var n=null!==i&&i.apply(this,arguments)||this;return n.uw=[],n.il=[],n.aw=[],n.hw=[],n.fw=1e3,n.cw=0,n.Wn=t.HighlightModes.onHover,n.lw=[],n.dw=[],n.yw=!1,n.Aw=function(t,i){var r=t.$x(i);if(r)return[ee(r[0],n.scale,n.kr.qi.Yi),ee(r[1],n.scale,n.kr.qi.Yi)]},n.bw=function(t,i){var r=t.pw(i);if(r)return[ee(r[0],n.scale,n.kr.qi.Yi),ee(r[1],n.scale,n.kr.qi.Yi)]},n.mw=function(t){var i=t.length;if(n.uw.length>0){var r=n.uw.length-1,e=n.uw[r];if(i>0){var s=Nb(e.Nf(),2),a=s[0],h=s[1],c=Nb(e.zf(),2),l=c[0],v=c[1];if((l?a.length+l.length:a.length)>=n.fw){var d=l&&l.length>0?l[l.length-1]:a[a.length-1],y=v&&v.length>0?v[v.length-1]:h[a.length-1],A=(d.x+t[0].position)/2,b=Qs(A,d,o(t[0].position,t[0].high)).y,p=Qs(A,y,o(t[0].position,t[0].low)).y,m=u(A,b,p);e.Wf(m,f(o(A,p),o(A,b))).xc(!0),n.gw([m].concat(t)).mc(!0)}else e.Wf(t)}}else i>0&&n.gw(t)},n.xw=function(t){var i=n.lw,r=t.length;if(n.lw.length>0){if(r>0){var e=i[i.length-1],s=e.Nf(),u=e.zf();if(s.length+u.length>=n.fw){var a=u.length>0?u[u.length-1]:s[s.length-1],h=(a.x+t[0].x)/2,c=Qs(h,a,o(t[0].x,t[0].y)).y,l=o(h,c);e.Wf(l,f(o(h,c),o(h,c))).xc(!0),i.push(n.Sw([l].concat(t),n.ww).mc(!0))}else e.Wf(t)}}else r>0&&i.push(n.Sw(t))},n.Mw=function(t){var i=n.dw,r=t.length;if(n.dw.length>0){if(r>0){var e=i[i.length-1],s=e.Nf(),u=e.zf();if(s.length+u.length>=n.fw){var a=u.length>0?u[u.length-1]:s[s.length-1],h=(a.x+t[0].x)/2,c=Qs(h,a,o(t[0].x,t[0].y)).y,l=o(h,c);e.Wf(l,f(o(h,c),o(h,c))).xc(!0),i.push(n.Cw([l].concat(t)).mc(!0))}else e.Wf(t)}}else r>0&&i.push(n.Cw(t))},n}return zb(n,i),n.prototype.nr=function(){return"ProgressiveX"},n.prototype.sb=function(){return this.getPointAmount()>0},n.prototype.setDataCleaning=function(t){var i=t&&t.minDataPointCount;return this.cw=void 0!==i&&i>0?i:0,this.kr.vr(),this},n.prototype.clear=function(){for(var t=0;t<this.uw.length;t+=1)this.uw[t].dispose();for(t=0;t<this.lw.length;t+=1)this.lw[t].dispose();for(t=0;t<this.dw.length;t+=1)this.dw[t].dispose();return this.il.length=0,this.aw.length=0,this.hw.length=0,this.ww=void 0,this.uw.length=0,this.lw.length=0,this.dw.length=0,this.kr.vr(),this.Ct.Tt("dataclear",{}),this},n.prototype.getPointAmount=function(){return this.uw.reduce((function(t,i){return t+i.Xf()+i.Hf()}),this.il.length)},n.prototype.gS=function(){return yo(this.uw,uo,Math.max,co,this.ww)||0},n.prototype.xS=function(){return yo(this.uw,so,Math.min,fo,this.ww)||0},n.prototype.SS=function(){return yo(this.uw,ho,Math.max,vo,this.ww)||0},n.prototype.wS=function(){return yo(this.uw,ao,Math.min,lo,this.ww)||0},n.prototype.Us=function(){var t,i,n=o(0,0);try{for(var r=Vb(this.uw),e=r.next();!e.done;e=r.next()){var s=e.value;n.x=Math.max(n.x,s.sc()),n.y=Math.max(n.y,s.uc())}}catch(i){t={error:i}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}return n},n.prototype.Mr=function(){return Uo(this.Tw,void 0)||Uo(this.kw,void 0)},n.prototype.ab=function(){return this.XA&&this.getPointAmount()>0&&this.getVisible()},n.prototype.bS=function(t){},n.prototype._w=function(t,i,n){this.il=No(this.il,t,{canReturnB:!1}),this.aw=No(this.aw,i,{canReturnB:!1}),this.hw=No(this.hw,n,{canReturnB:!1}),this.kr.vr()},n.prototype.Ow=function(t,i,n,r){this.Fw(i,n,r),this._w(Array.isArray(t)?t:[t],i,n)},n.prototype.Fw=function(t,i,n){var r=Ls(Bs(t),Bs(i));this.ww?this.ww=Ls(this.ww,r):this.ww=r,n&&(this.ww=Ls(this.ww,n))},n.prototype.Iw=function(){var t=this.uw.length,i=Math.min(this.scale.x.getInnerStart(),this.scale.x.getInnerEnd()),n=0;if(t>1)for(var r=0;r<t-1;r+=1)this.scale.x.Bi(this.uw[r].Fn(),this.uw[r].sc())<i&&(n+=1);return n},n.prototype.jw=function(t,i,n,r){if(n>0){var e=Math.ceil(n/i),o=t.length-e;if(o>0&&r>0){var s=o-r>0?r:o;if(s>0){for(var u=0;u<s;u+=1)t[u].dispose();t.splice(0,s)}}}},n.prototype.Bw=function(t){var i=this.uw.length>0?this.uw[this.uw.length-1]:void 0,n=i?i.Nf()[0].length+(i.zf()[0]?i.zf()[0].length:0):void 0;QA(t,n,this.fw,this.mw)},n.prototype.Dw=function(t){var i=this.lw.length>0?this.lw[this.lw.length-1].Nf().length+this.lw[this.lw.length-1].zf().length:void 0;QA(t,i,this.fw,this.xw)},n.prototype.Lw=function(t,i){var n=this.lw.length>0?this.lw[this.lw.length-1].Nf().length+this.lw[this.lw.length-1].zf().length:void 0;QA(t,n,this.fw,this.xw),QA(i,n,this.fw,this.Mw)},n.prototype.gw=function(t,i){var n=this.kr.Ew(this.scale).Wf(t,i).Be(this.Tw).Ac(this.kw).vn(this.getHighlight());return this.uw.push(n),this.rr(n),n},n.prototype.Pw=function(t,i,n){var r=this.kr.Fb(this.scale,void 0,[fd.UserSeries]).Wf(t,n).setPointerEvents(!1).Ye(i).vn(this.getHighlight());return this.rr(r),r},n.prototype.Sw=function(t,i){return this.Pw(t,this.zw,i)},n.prototype.Cw=function(t,i){return this.Pw(t,this.Nw,i)},n.prototype.Vw=function(t){this.Tw="function"==typeof t?t(this.Tw):t;for(var i=this.Tw,n=0;n<this.uw.length;n+=1)this.uw[n].Be(i);this.kr.vr()},n.prototype.Rw=function(t){this.kw="function"==typeof t?t(this.kw):t;for(var i=this.kw,n=0;n<this.uw.length;n+=1)this.uw[n].Ac(i);this.kr.vr()},n.prototype.Gw=function(){return this.Tw},n.prototype.bc=function(){return this.kw},n.prototype.Uw=function(t){this.zw="function"==typeof t?t(this.zw):t;for(var i=this.zw,n=0;n<this.lw.length;n+=1)this.lw[n].Ye(i);this.kr.vr()},n.prototype.Yw=function(t){this.Nw="function"==typeof t?t(this.Nw):t;for(var i=this.Nw,n=0;n<this.dw.length;n+=1)this.dw[n].Ye(i);this.kr.vr()},n.prototype.Ww=function(){return this.zw},n.prototype.Xw=function(){return this.Nw},n.prototype.ze=function(t,i){t.vn(i),this.Hw(i),this.kr.vr()},n.prototype.Hw=function(t){for(var i=0;i<this.lw.length;i+=1)this.lw[i].vn(t);for(i=0;i<this.dw.length;i+=1)this.dw[i].vn(t)},n.prototype.$A=function(){if(i.prototype.$A.call(this),this.yw=!1,this.cw>0){var t=this.Iw();this.jw(this.uw,this.fw,this.cw,t),this.lw.length>0&&this.jw(this.lw,this.fw,this.cw,t),this.dw.length>0&&this.jw(this.dw,this.fw,this.cw,t),this.yw=!0}},n.prototype.Le=function(){var t,n,r,e,o,s;if(i.prototype.Le.call(this),this.il.length>0&&(this.Bw(this.il),this.Zw(this.aw,this.hw),this.yw=!0),this.yw){var u=this.getBoundaries();try{for(var a=Vb(this.uw),h=a.next();!h.done;h=a.next())h.value.cn(u)}catch(i){t={error:i}}finally{try{h&&!h.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}try{for(var f=Vb(this.lw),c=f.next();!c.done;c=f.next())c.value.cn(u)}catch(t){r={error:t}}finally{try{c&&!c.done&&(e=f.return)&&e.call(f)}finally{if(r)throw r.error}}try{for(var l=Vb(this.dw),v=l.next();!v.done;v=l.next())v.value.cn(u)}catch(t){o={error:t}}finally{try{v&&!v.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}}},n.prototype.tb=function(){i.prototype.tb.call(this),this.ww=void 0,this.il.length=0,this.aw.length=0,this.hw.length=0},n}(JA),Gb=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ub=function(){return Ub=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Ub.apply(this,arguments)},Yb=function(t){function i(i,n,r,e,o,s,u,a,h,f,c){var l=t.call(this,i,n,r,e,o,s,u,a,h,f)||this;l.Ct=new we,l.chart.qi.qa(gf.ea);var v=c;return l.Tw=Xo(l.en.areaRangeSeriesFillStyle,v),l.zw=Xo(l.en.areaRangeSeriesStrokeStyle,v),l.kw=Xo(l.en.areaRangeSeriesFillStyleInverted,v),l.Nw=Xo(l.en.areaRangeSeriesStrokeStyleInverted,v),l}return Gb(i,t),i.prototype.solveNearest=function(t,i){void 0===i&&(i=this.chart.getCursorMode()||"show-nearest");var n=this.chart.qi.Fh(t),r=function(t,i,n){for(var r,e,o=Number.MAX_VALUE,s=0;s<i.length;s+=1){var u=i[s],a=n(u,t);if(a){var h=_s(t,a[0]),f=_s(t,a[1]);(void 0===r||h<o||f<o)&&(r=a,e=u,h<o?o=h:f<o&&(o=f))}}return r&&e?[r,e]:void 0}({x:n.engineX,y:n.engineY},this.uw,dS(i)?this.bw:this.Aw);if(void 0!==r&&void 0!==r[0]){var e=ee(r[0][0],this.kr.qi.Yi,this.scale),o=ee(r[0][1],this.kr.qi.Yi,this.scale);return Ub(Ub({cursorPosition:{resultTable:e,resultTableScale:this.scale,pointMarker:e,pointMarkerScale:{x:this.axisX,y:this.axisY}}},e),{series:this,axisX:this.axisX,axisY:this.axisY,multiHit:[e,o]})}},i.prototype.add=function(t){var i=Array.isArray(t)?t:[t],n=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(h(i),2),r=n[0],e=n[1];this.Ow(t,r,e);var o=this.il[this.il.length-1];return this.Jw=o?{position:o.position,high:o.high,low:o.low}:void 0,this.Ct.Tt("dataadd",{data:i,boundaries:this.ww}),this},i.prototype.addArraysHighLow=function(t,i,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),t.length!==i.length)throw new Error("arrayHigh and arrayLow lengths are not equal");var e=r;return e||(e=this.Jw?this.Jw.position+n:0),this.add(function(t,i,n,r){void 0===n&&(n=1);for(var e=void 0!==r?r:0,o=new Array(t.length),s=0;s<t.length;s+=1)o[s]={position:e+n*s,high:t[s],low:i[s]};return o}(t,i,n,e)),this},i.prototype.Zw=function(t,i){this.Lw(t,i)},i.prototype.setHighFillStyle=function(t){return this.Vw(t),this},i.prototype.setLowFillStyle=function(t){return this.Rw(t),this},i.prototype.setHighStrokeStyle=function(t){return this.Uw(t),this},i.prototype.setLowStrokeStyle=function(t){return this.Yw(t),this},i.prototype.getHighFillStyle=function(){return this.Gw()},i.prototype.getLowFillStyle=function(){return this.bc()},i.prototype.getHighStrokeStyle=function(){return this.Ww()},i.prototype.getLowStrokeStyle=function(){return this.Xw()},i.prototype.Qw=function(){return function(t,i){void 0===i&&(i=function(t){return t});for(var n,r=[],e=0;e<t.length;e+=1){var o=i((n=t[e]).Nf()),s=n.zf(),u=s?i(s):[],a=!1,h=!1;"gc"in n&&(a=n.gc(),h=n.Sc()),r.push.apply(r,o.slice(a?1:0,o.length-(h&&0===u.length?1:0))),r.push.apply(r,u.slice(a&&0===o.length?1:0,u.length-(h?1:0)))}return r}(this.uw,(function(t){var i=t[0],n=t[1];if(!i||!n)return[];for(var r=[],e=i.length,o=0;o<e;o+=1)r[o]={position:i[o].x,high:i[o].y,low:n[o].y};return r}))},i.prototype.Pe=function(){return{fill:this.Tw,fill2:this.kw,behavior:{colorStep:!0}}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(Rb),Wb=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xb=function(t){function i(i,n,r,e,o,u,a,h,c,l){var v=t.call(this,i,n,r,e,o,u,a,h,c,l)||this;return v.Kw=function(t){return t[4]>=t[1]},v.CS=f(s(As,As),s(bs,bs)),v.qw=[],v.$w=!1,v.tM=-1,v.iM=[],v.nM=!0,v.rM=!1,v.eM=4,v.oM=[1e-7,1e-6,1e-5,1e-4,.001,.01,.1,1,5,10,30,60,300,600,1800,3600,7200,14400,28800,36e3,43200,50400,57600,64800,72e3,86400,172800,259200,345600,432e3,604800,1209600,2592e3,7776e3,10368e3,15552e3,31536e3,15768e4,31536e4,63072e4,7884e5,15768e5,31536e5,3942e6,47304e5,63072e5,7884e6,15768e6,31536e6,3942e7,47304e6,63072e6,7884e7,15768e7,31536e7,63072e7,7884e8,15768e8,31536e8,47304e8,63072e8],v.Ct=new we,v.chart.qi.qa(gf.Zu),v}return Wb(i,t),i.prototype.sb=function(){return this.iM.length>0},i.prototype.nr=function(){return"ProgressiveX"},i.prototype.Qw=function(){return this.iM},i.prototype.ab=function(){return this.XA&&this.iM.length>0&&this.getVisible()},i.prototype.sM=function(t){if(!(this.iM.length<1))return[this.iM[t][0],this.iM[t][1],this.iM[t][2],this.iM[t][3],this.iM[t][4]]},i.prototype.solveNearest=function(t,i){var n=this;if(0!==this.iM.length){var r,e,s,u,a,h=this.chart.translateCoordinate(t,{x:this.axisX,y:this.axisY}).x,f=void 0!==this.getPackDataState();if(f){var c=this.uM;if(!c)return;var l=rs(h,c.length-1,(function(t){return c[t][0]})),v=void 0!==l&&c[l];if(!v)return;u=v[3],s=v[2],e=v[1],a=v[4],r=v[0]}else{var d=rs(h,this.iM.length-1,(function(t){return n.iM[t][0]})),y=void 0!==d&&this.iM[d];if(!y)return;r=y[0],e=y[1],s=y[2],u=y[3],a=y[4]}return{cursorPosition:{resultTable:o(r,a),resultTableScale:this.scale,pointMarker:o(r,a),pointMarkerScale:{x:this.axisX,y:this.axisY}},x:r,y:a,open:e,high:s,low:u,close:a,position:r,isPacked:f,series:this,axisX:this.axisX,axisY:this.axisY}}},i.prototype.Bn=function(t,i,n){var r=this;return as({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,multiHit:0,open:0,high:0,low:0,close:0,position:0,isPacked:0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},i.prototype.bS=function(t){if(!(t.x instanceof Jr))throw new Error("OHLCSeries must be attached to a Linear X Axis.");this.aM=t.x},i.prototype.Us=function(){return o(5,5)},i.prototype.yw=function(t){var i=t.length-1;if(i<0)return this;for(var n=0;n<=i;n+=1)t[n][3]<this.CS.min.y&&(this.CS.min.y=t[n][3]),this.CS.max.y<t[n][2]&&(this.CS.max.y=t[n][2]);return this.CS.min.x=Math.min(this.CS.min.x,t[0][0]),this.CS.max.x=Math.max(this.CS.max.x,t[i][0]),this},i.prototype.gS=function(){return this.CS.max.x},i.prototype.xS=function(){return this.CS.min.x},i.prototype.SS=function(){return this.CS.max.y},i.prototype.wS=function(){return this.CS.min.y},i.prototype.add=function(t){this.iM.length>0&&this.chart.qi.qa(gf.aa);var i=Array.isArray(t[0])?t:[t[0]];if(i.length>0){this.$w=!0;var n=this.iM.length,r=this.qw.length,e=i.length;this.iM.length=n+e,this.qw.length=r+e;for(var o=0;o<e;o+=1)this.iM[n+o]=i[o],this.qw[r+o]=this.iM[n+o];this.yw(i),this.Ct.Tt("dataadd",{data:i}),this.kr.vr()}return this},i.prototype.setPackData=function(t){return t!==this.nM&&(this.rM=!0,this.nM=t,this.chart.qi.vr()),this},i.prototype.getPackData=function(){return this.nM},i.prototype.getPackDataState=function(){var t=this.tM;if(!(t<0||void 0===this.uM||this.uM.length===this.iM.length))return{figureAxisInterval:t}},i.prototype.setFigureWidth=function(t){return this.hM=t,this.chart.qi.vr(),this},i.prototype.getFigureWidth=function(){return this.hM},i.prototype.setFigureMinimumGap=function(t){return this.eM=t,this.chart.qi.vr(),this},i.prototype.getFigureMinimumGap=function(){return this.eM},i.prototype.clear=function(){return this.iM=[],this.qw=[],this.uM=void 0,this.fM(),this.CS.min.x=As,this.CS.min.y=As,this.CS.max.x=bs,this.CS.max.y=bs,this.Ct.Tt("dataclear",{}),this},i.prototype.cM=function(t){return this.aM.getPixelSize()*t/1e3},i.prototype.lM=function(){var t=this,i=this.oM.length-1,n=this.cM(this.hM+this.eM),r=rs(n,i,(function(i){return t.oM[i]}));return void 0===r?r=n<this.oM[0]?0:this.oM[i]<n?i:this.oM.length/2:this.oM[r]<n&&(r+=1),this.oM.length<=r&&(r=i),1e3*this.oM[r]},i.prototype.Le=function(){if(t.prototype.Le.call(this),!this.nM){this.uM=void 0;var i=null;if(this.rM?(this.rM=!1,i=this.iM,this.fM()):i=this.qw,i.length>=1){for(var n=0;n<i.length;n+=1){var r=i[n],e=r[0];this.Kw(r)?this.vM(e,r):this.dM(e,r)}this.qw.length=0,this.$w=!1,this.tM=-1}}},i.prototype.tb=function(){t.prototype.tb.call(this);var i=this.lM();if(this.nM&&this.iM.length>=1&&(i!==this.tM||this.$w||this.rM)){this.rM=!1,this.tM=i,this.$w=!1,this.fM(),this.uM=[];for(var n=this.iM.length,r=this.iM[0][0]-this.iM[0][0]%(i/2)+i,e=0;e<n;){var o=this.sM(e);if(void 0===o)break;var s=o[3],u=o[2],a=e;for(e+=1;e<n&&this.iM[e][0]<r;)o=this.iM[e],this.iM[e][3]<s&&(s=this.iM[e][3]),u<this.iM[e][2]&&(u=this.iM[e][2]),e+=1;var h=e-1,f=o[0];a<h&&(o=[f=this.iM[h][0],this.iM[a][1],u,s,this.iM[h][4]]),o[1]<o[4]?this.vM(f,o):this.dM(f,o),this.uM.push(o),r+=i}}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(JA),Hb=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zb=function(t){function i(i,n,r,e,o,s,u,a,h,f){var c=t.call(this,i,n,r,e,o,s,u,a,h,f)||this;return c.yM=1175494351e-14,c.hM=c.en.ohlcCandleThicknessPixels||5,c.AM=c.en.ohlcCandleTailStrokeStylePositive,c.bM=c.en.ohlcCandleTailStrokeStyleNegative,c.pM=c.en.ohlcCandleBodyFillStylePositive,c.mM=c.en.ohlcCandleBodyFillStyleNegative,c.gM=r.ly(c.scale).Ye(new Ta({thickness:c.hM,fillStyle:c.pM})),c.gM.$c={x:0,y:1},c.xM=r.ly(c.scale).Ye(new Ta({thickness:c.hM,fillStyle:c.mM})),c.xM.$c={x:0,y:-1},c.SM=r.ly(c.scale).Ye(c.AM),c.wM=r.ly(c.scale).Ye(c.bM),c.rr(c.gM),c.rr(c.xM),c.rr(c.SM),c.rr(c.wM),c}return Hb(i,t),i.prototype.setBodyThickness=function(t){return this.hM=t,this.gM.Ye(new Ta({thickness:this.hM,fillStyle:this.pM})),this.xM.Ye(new Ta({thickness:this.hM,fillStyle:this.mM})),this.chart.qi.vr(),this},i.prototype.getBodyThickness=function(){return this.hM},i.prototype.setBodyFillStylePositive=function(t){return this.pM="function"==typeof t?t(this.pM):t,this.gM.Ye(new Ta({thickness:this.hM,fillStyle:this.pM})),this.chart.qi.vr(),this},i.prototype.getBodyFillStylePositive=function(){return this.pM},i.prototype.setBodyFillStyleNegative=function(t){return this.mM="function"==typeof t?t(this.mM):t,this.xM.Ye(new Ta({thickness:this.hM,fillStyle:this.mM})),this.chart.qi.vr(),this},i.prototype.getBodyFillStyleNegative=function(){return this.mM},i.prototype.setTailStrokeStylePositive=function(t){return this.AM="function"==typeof t?t(this.AM):t,this.SM.Ye(this.AM),this.chart.qi.vr(),this},i.prototype.getTailStrokeStylePositive=function(){return this.AM},i.prototype.setTailStrokeStyleNegative=function(t){return this.bM="function"==typeof t?t(this.bM):t,this.wM.Ye(this.bM),this.chart.qi.vr(),this},i.prototype.getTailStrokeStyleNegative=function(){return this.bM},i.prototype.Pe=function(){return{fill:this.pM,fill2:this.mM,behavior:{colorStep:!0}}},i.prototype.fM=function(){return this.SM.Sn(),this.wM.Sn(),this.gM.Sn(),this.xM.Sn(),this},i.prototype.vM=function(t,i){return Math.abs(i[1]-i[4])<this.yM?this.gM.pa().yy({x:t,y:i[1]-this.yM},{x:t,y:i[1]+this.yM}):this.gM.pa().yy({x:t,y:i[1]},{x:t,y:i[4]}),i[4]<i[2]&&this.SM.pa().yy({x:t,y:i[4]},{x:t,y:i[2]}),i[3]<i[1]&&this.SM.pa().yy({x:t,y:i[3]},{x:t,y:i[1]}),this},i.prototype.dM=function(t,i){return Math.abs(i[1]-i[4])<this.yM?this.xM.pa().yy({x:t,y:i[1]-this.yM},{x:t,y:i[1]+this.yM}):this.xM.pa().yy({x:t,y:i[1]},{x:t,y:i[4]}),i[3]<i[4]&&this.wM.pa().yy({x:t,y:i[3]},{x:t,y:i[4]}),i[1]<i[2]&&this.wM.pa().yy({x:t,y:i[1]},{x:t,y:i[2]}),this},i}(Xb),Jb=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qb=function(t){function i(i,n,r,e,o,s,u,a,h,f){var c=t.call(this,i,n,r,e,o,s,u,a,h,f)||this;return c.hM=c.en.ohlcBarThicknessPixels||10,c.MM=c.en.ohlcBarStrokeStylePositive,c.CM=c.en.ohlcBarStrokeStyleNegative,c.TM=r.ly(c.scale).Ye(c.MM),c.rr(c.TM),c.kM=r.ly(c.scale).Ye(c.MM),c.kM.$c={x:-c.hM/2,y:0},c.rr(c.kM),c._M=r.ly(c.scale).Ye(c.MM),c._M.$c={x:c.hM/2,y:0},c.rr(c._M),c.OM=r.ly(c.scale).Ye(c.CM),c.rr(c.OM),c.FM=r.ly(c.scale).Ye(c.CM),c.FM.$c={x:-c.hM/2,y:0},c.rr(c.FM),c.IM=r.ly(c.scale).Ye(c.CM),c.IM.$c={x:c.hM/2,y:0},c.rr(c.IM),c}return Jb(i,t),i.prototype.setStrokeStylePositive=function(t){return this.MM="function"==typeof t?t(this.MM):t,this.TM.Ye(this.MM),this.kM.Ye(this.MM),this._M.Ye(this.MM),this.chart.qi.vr(),this},i.prototype.getStrokeStylePositive=function(){return this.MM},i.prototype.setStrokeStyleNegative=function(t){return this.CM="function"==typeof t?t(this.CM):t,this.OM.Ye(this.CM),this.FM.Ye(this.CM),this.IM.Ye(this.CM),this.chart.qi.vr(),this},i.prototype.getStrokeStyleNegative=function(){return this.CM},i.prototype.Pe=function(){return{fill:this.MM.getFillStyle(),fill2:this.CM.getFillStyle(),behavior:{colorStep:!0}}},i.prototype.setFigureWidth=function(i){return t.prototype.setFigureWidth.call(this,i),this.kM.$c={x:-i/2,y:0},this.FM.$c={x:-i/2,y:0},this._M.$c={x:i/2,y:0},this.IM.$c={x:i/2,y:0},this},i.prototype.fM=function(){return this.OM.Sn(),this.TM.Sn(),this.FM.Sn(),this.kM.Sn(),this.IM.Sn(),this._M.Sn(),this},i.prototype.vM=function(t,i){return this.TM.pa().yy({x:t,y:i[3]},{x:t,y:i[2]}),this.kM.pa().yy({x:t,y:i[1]},{x:t,y:i[1]}),this._M.pa().yy({x:t,y:i[4]},{x:t,y:i[4]}),this},i.prototype.dM=function(t,i){return this.OM.pa().yy({x:t,y:i[3]},{x:t,y:i[2]}),this.FM.pa().yy({x:t,y:i[1]},{x:t,y:i[1]}),this.IM.pa().yy({x:t,y:i[4]},{x:t,y:i[4]}),this},i}(Xb),Kb={Candlesticks:Zb,Bars:Qb},qb=function(){return qb=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},qb.apply(this,arguments)},$b=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tp=function(i){function n(t,n,r,e,o,s,u,a){var h=i.call(this,t,n,r,e,o,a)||this;return h.jM=!1,h.BM=!1,h.DM=!1,h.LM=!1,h.EM=!1,h.PM=new Map,h.zM=new Map,h.NM=[],h.VM=[],h.RM=!0,h.GM=!0,h.UM=!1,h.YM=[],h.WM=new Set,h.XM=!1,h.Pm=o,h.HM=s,h.ZM=u,h.JM=a.cursorGridStrokeStyleX,h.QM=a.cursorGridStrokeStyleY,h}return $b(n,i),n.prototype.setKeepWithinAxisBoundaries=function(t){return this.jM=t,this.kr.vr(),this},n.prototype.getKeepWithinAxisBoundaries=function(){return this.jM},n.prototype.dispose=function(){return i.prototype.dispose.call(this),this.PM.forEach((function(t){return t.forEach((function(t){return t.dispose()}))})),this.zM.forEach((function(t){return t.forEach((function(t){return t.dispose()}))})),this.NM.length=0,this.VM.length=0,this.Dm.length=0,this},n.prototype.Le=function(){var t=this;return this.UM&&this.Zi&&this.setPosition.apply(this,function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}([],function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(this.YM),!1)),this.PM.forEach((function(t){t.forEach((function(t){return t.setVisible(!1).setMarkerVisible(!1)}))})),this.zM.forEach((function(t){t.forEach((function(t){return t.setVisible(!1).setMarkerVisible(!1)}))})),this.NM.forEach((function(i){return i.setVisible(t.Zi&&t.bA).setMarkerVisible(t.Zi&&t.bA&&t.RM)})),this.VM.forEach((function(i){return i.setVisible(t.Zi&&t.bA).setMarkerVisible(t.Zi&&t.bA&&t.GM)})),i.prototype.Le.call(this)},n.prototype.Rm=function(){if(!this.jM)return i.prototype.Rm.call(this);var n=this.zm,r=n.getPosition(o(-1,-1),t.UISpace.PaddedBackground),e=n.getPosition(o(1,1),t.UISpace.PaddedBackground),s=this.YM.map((function(t){var i=t.pointMarkerScale.x,o=t.pointMarkerScale.y,s=ee({x:i.Yi.It,y:o.Yi.It},{x:i,y:o},n.scale),u=ee({x:i.Yi.jt,y:o.Yi.jt},{x:i,y:o},n.scale),a={x:ro(r.x,s.x,u.x),y:ro(r.y,s.y,u.y)},h={x:ro(e.x,s.x,u.x),y:ro(e.y,s.y,u.y)};return{axisX:i,axisY:o,a:s,b:u,visibleArea:Math.abs(h.x-a.x)*Math.abs(h.y-a.y),clampMin:a,clampMax:h,tableMin:r,tableMax:e}}));s.sort((function(t,i){return i.visibleArea-t.visibleArea}));var u=s[0];if(!u)return i.prototype.Rm.call(this);var a=ks(u.tableMin.x,u.a.x,u.b.x)&&ks(u.tableMax.x,u.a.x,u.b.x),h=ks(u.tableMin.y,u.a.y,u.b.y)&&ks(u.tableMax.y,u.a.y,u.b.y);return{x:!a,y:!h,either:!a||!h,resultTableViewport:{x:u.axisX,y:u.axisY},resultTableViewportBounds:{x:{min:Math.min(u.axisX.Yi.It,u.axisX.Yi.jt),max:Math.max(u.axisX.Yi.It,u.axisX.Yi.jt)},y:{min:Math.min(u.axisY.Yi.It,u.axisY.Yi.jt),max:Math.max(u.axisY.Yi.It,u.axisY.Yi.jt)}}}},n.prototype.setPosition=function(){for(var t,i,n=this,r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];r=r.filter((function(t){return!Number.isNaN(t.pointMarker.x)&&!Number.isNaN(t.pointMarker.y)})),this.YM=r,this.NM.length=0,this.VM.length=0;var s=this.renderingScale;if(r.length>0){var u=r[0].resultTable,a=Fv(r[0].resultTableScale,s),h=a===this.scale?u:ee(u,a,this.scale);this.zm.setPosition(h)}this.bA=!1,this.Im.forEach((function(t){t.targetVisible=!1}));var f=new Map;r.forEach((function(t,i){var r=t.pointMarkerScale.x,e=t.pointMarkerScale.y,u=f.get(r)||[],a=f.get(e)||[],h=!u.includes(t.pointMarker.x),c=!a.includes(t.pointMarker.y);u.push(t.pointMarker.x),a.push(t.pointMarker.y),f.set(r,u),f.set(e,a);var l=t.pointMarker,v=rp(o(l.x,l.y),r,e);if(h){var d=n.KM(r,!0);d.setValue(l.x),d.setGridStrokeLength(n.BM?v.x:1).setAllocatesAxisSpace(n.XM),n.NM.push(d)}if(c){var y=n.KM(e,!1);y.setValue(l.y),y.setGridStrokeLength(n.DM?v.y:1).setAllocatesAxisSpace(n.XM),n.VM.push(y)}var A=n.Im[i];if(!A){var b=new Uc(n.kr,n.renderingScale,n.scale,io,n.en).setPointerEvents(!1).setFillStyle(n.en.cursorPointMarkerFillStyle).setStrokeStyle(n.en.cursorPointMarkerStrokeStyle).setSize(n.en.cursorPointMarkerSize).setShape(n.en.cursorPointMarkerShape);A={pointMarker:b,targetVisible:!0},n.Im.push(A),n.Dm.forEach((function(t){return t(b)}))}void 0!==t.pointMarkerShape&&A.pointMarker.setShape(t.pointMarkerShape),void 0!==t.pointMarkerSize&&A.pointMarker.setSize(t.pointMarkerSize),t.pointMarkerFillStyle&&A.pointMarker.setFillStyle(t.pointMarkerFillStyle),t.pointMarkerStrokeStyle&&A.pointMarker.setStrokeStyle(t.pointMarkerStrokeStyle);var p=Fv(t.pointMarkerScale,s),m=p===n.scale?t.pointMarker:ee(t.pointMarker,p,n.scale);A.pointMarker.setPosition(m),A.targetVisible=!0;var g=r.getInterval(),x=e.getInterval(),S=Math.min(g.start,g.end),w=Math.max(g.start,g.end),M=Math.min(x.start,x.end),C=Math.max(x.start,x.end);l.x>=S&&l.x<=w&&l.y>=M&&l.y<=C&&(n.bA=!0)}));try{for(var c=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.Im),l=c.next();!l.done;l=c.next()){var v=l.value;v.targetVisible||(v.pointMarker.dispose(),this.Im.splice(this.Im.indexOf(v),1))}}catch(i){t={error:i}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(t)throw t.error}}return this},n.prototype.setTickMarkersAllocateAxisSpace=function(t){return this.XM=t,this.kr.vr(),this},n.prototype.getTickMarkersAllocateAxisSpace=function(){return this.XM},n.prototype.KM=function(t,i){this.WM.has(t)||(t.addEventListener("dispose",(function(){var i;null===(i=n.get(t))||void 0===i||i.forEach((function(t){return t.dispose()})),n.delete(t)})),this.WM.add(t));var n=i?this.PM:this.zM,r=i?this.NM:this.VM,e=n.get(t)||[];n.set(t,e);var o=e.find((function(t){return!r.includes(t)}));return o||(o=i?t.ky(!1,this.HM):t.ky(!1,this.ZM),e.push(o),this.ks(o,i),o.setPointerEvents(!1)),o},n.prototype.ks=function(t,i){var n=i?this.JM:this.QM;return t.setGridStrokeStyle(n),t.setPointerEvents(!1),(i?this.RM:this.GM)?t.setMarkerVisible(!0):t.setMarkerVisible(!1),t},n.prototype.setGridStrokeXCut=function(t){return this.BM=t,this.kr.vr(),this},n.prototype.getGridStrokeXCut=function(){return this.BM},n.prototype.setGridStrokeYCut=function(t){return this.DM=t,this.kr.vr(),this},n.prototype.getGridStrokeYCut=function(){return this.DM},n.prototype.setGridStrokeXStyle=function(t){var i=this;return this.JM=t instanceof Function?t(this.getGridStrokeXStyle()):t,this.PM.forEach((function(t){return t.forEach((function(t){return t.setGridStrokeStyle(i.JM)}))})),this},n.prototype.getGridStrokeXStyle=function(){return this.JM},n.prototype.setGridStrokeYStyle=function(t){var i=this;return this.QM=t instanceof Function?t(this.getGridStrokeYStyle()):t,this.zM.forEach((function(t){return t.forEach((function(t){return t.setGridStrokeStyle(i.QM)}))})),this},n.prototype.getGridStrokeYStyle=function(){return this.QM},n.prototype.setTickMarkerXVisible=function(t){return this.RM=t,this.kr.vr(),this},n.prototype.getTickMarkerXVisible=function(){return this.RM},n.prototype.setTickMarkerYVisible=function(t){return this.GM=t,this.kr.vr(),this},n.prototype.getTickMarkerYVisible=function(){return this.GM},n.prototype.setTickMarkerX=function(t){return this.PM.forEach((function(i){return i.forEach((function(i){return i.setMarker(t)}))})),this.HM=this.HM.addStyler(t),this.kr.vr(),this},n.prototype.setTickMarkerY=function(t){return this.zM.forEach((function(i){return i.forEach((function(i){return i.setMarker(t)}))})),this.ZM=this.ZM.addStyler(t),this.kr.vr(),this},n}(Ay),ip=function t(i,n,r,e){var o=this;this.Qm=[],this.Km=function(t,i){return o.Qm.forEach((function(n){return n(t,i)})),t},this.addStyler=function(i){return new t(o.Pm,o.HM,o.ZM,o.Qm.map((function(t){return t})).concat(i))},this.setResultTableBackground=function(i){return new t(i,o.HM,o.ZM,o.Qm.map((function(t){return t})))},this.qm=function(t,i,n,r,e){return o.Km(new tp(t,i,n,r,o.Pm,o.HM,o.ZM,e),e)},this.Pm=i,this.Qm=e,this.HM=n,this.ZM=r},np=new ip(Nc,Fl.PointableTextBox,Fl.PointableTextBox,[function(t,i){by(t,i),t.setTickMarkerX((function(t){t.setEffect(!0).setTextFont(i.cursorTickMarkerXTextFont).setTextFillStyle(i.cursorTickMarkerXTextFillStyle),yf(t)&&t.setBackground((function(t){return t.setFillStyle(i.cursorTickMarkerXBackgroundFillStyle).setStrokeStyle(i.cursorTickMarkerXBackgroundStrokeStyle)}))})),t.setTickMarkerY((function(t){t.setEffect(!0).setTextFont(i.cursorTickMarkerYTextFont).setTextFillStyle(i.cursorTickMarkerYTextFillStyle),yf(t)&&t.setBackground((function(t){return t.setFillStyle(i.cursorTickMarkerYBackgroundFillStyle).setStrokeStyle(i.cursorTickMarkerYBackgroundStrokeStyle)}))}))}]),rp=function(t,i,n){var r=i.Yi,e=n.Yi,s=(t.x-r.getInnerStart())/(r.getInnerEnd()-r.getInnerStart()),u=(t.y-e.getInnerStart())/(e.getInnerEnd()-e.getInnerStart());return 1===n.zd&&(s=1-s),1===i.zd&&(u=1-u),o(u,s)},ep=function(){function i(t,i,n,r){var e=this;this.qM=!1,this.Ct=new we,this.chart=n,this.$M=r,this.$r=t.$r,this.se=r||kh,this.tC=Qe.document.createElement("div"),this.tC.style.position="absolute",this.tC.style.pointerEvents="none",Qe.document.body.append(this.tC);var o=function(){var t=n.engine.container.getBoundingClientRect();e.tC.style.left="".concat(t.left,"px"),e.tC.style.top="".concat(t.top,"px"),e.tC.style.width="".concat(t.width,"px"),e.tC.style.height="".concat(t.height,"px")};o(),n.addEventListener("resize",o),this.iC(this.tC),this.nC(),this.rC(),this.eC(),this.oC(i),this.chart.sC().push(this)}return i.prototype.iC=function(t){this.uC=Qe.document.createElement("div"),this.uC.style.pointerEvents="all",t.append(this.uC),this.aC=Qe.document.createElement("div"),this.hC=new ph(this.$r,this.se,this.chart,this.aC),this.fC=Qe.document.createElement("table"),this.fC.style.borderSpacing="0",this.uC.appendChild(this.hC.ye()),this.uC.appendChild(this.aC),this.aC.appendChild(this.fC)},i.prototype.rC=function(){var t=this,i=0,n=0,r=0,e=0,o=!1;this.qM=!1,this.uC.onmousedown=function(s){s=s||Qe.event,r=s.clientX,e=s.clientY,o=!0,Qe.document.onmouseup=function(i){t.qM?t.uC.addEventListener("click",wo,!0):t.uC.removeEventListener("click",wo,!0),o=!1,t.qM=!1,Qe.document.onmouseup=null,Qe.document.onmousemove=null},Qe.document.onmousemove=function(s){s=s||Qe.event,o&&(i=r-s.clientX,n=e-s.clientY,r=s.clientX,e=s.clientY,t.qM=!0,t.uC.style.top="".concat(t.uC.offsetTop-n,"px"),t.uC.style.left="".concat(t.uC.offsetLeft-i,"px"),t.uC.style.removeProperty("right"),t.uC.style.removeProperty("bottom"))}}},i.prototype.eC=function(){var t=this,i=0,n=0,r=0,e=0,o=!1;this.uC.ontouchstart=function(s){s=s||Qe.event,r=s.touches[0].clientX,e=s.touches[0].clientY,o=!0,t.uC.ontouchend=function(){o=!1,Qe.document.ontouchend=null,Qe.document.ontouchmove=null},t.uC.ontouchmove=function(s){o&&(wo(s),s=s||Qe.event,i=r-s.touches[0].clientX,n=e-s.touches[0].clientY,r=s.touches[0].clientX,e=s.touches[0].clientY,t.uC.style.top="".concat(t.uC.offsetTop-n,"px"),t.uC.style.left="".concat(t.uC.offsetLeft-i,"px"),t.uC.style.removeProperty("right"),t.uC.style.removeProperty("bottom"))}}},i.prototype.nC=function(){this.uC.style.setProperty("top","10px"),this.uC.style.setProperty("left","10px"),this.uC.style.position="absolute",this.uC.style.display="flex",this.uC.style.alignItems="flex-start",this.aC.style.setProperty("display","none")},i.prototype.removePositionProperty=function(){this.uC.style.removeProperty("top"),this.uC.style.removeProperty("left"),this.uC.style.removeProperty("bottom"),this.uC.style.removeProperty("right")},i.prototype.setPositionProperty=function(i){switch(this.removePositionProperty(),i){case t.OSMPosition.BottomLeft:this.uC.style.setProperty("bottom","10px"),this.uC.style.setProperty("left","10px");break;case t.OSMPosition.TopLeft:this.uC.style.setProperty("top","10px"),this.uC.style.setProperty("left","10px");break;case t.OSMPosition.BottomRight:this.uC.style.setProperty("bottom","10px"),this.uC.style.setProperty("right","10px");break;case t.OSMPosition.TopRight:default:this.uC.style.setProperty("top","10px"),this.uC.style.setProperty("right","10px")}},i.prototype.oC=function(t){for(var i=0;i<t.length;i+=1)for(var n=this.fC.insertRow(),r=0;r<t[i].length;r+=1){var e=n.insertCell(),o=t[i][r];"object"!=typeof o?this.cC(o,e):this.addCustomButton(o,e)}},i.prototype.cC=function(i,n){switch(i){case t.OnScreenMenuButtonType.ZoomIn:this.lC(new hh(this.$r,this.chart,this.se),n);break;case t.OnScreenMenuButtonType.ZoomInX:this.lC(new fh(this.$r,this.chart,this.se),n);break;case t.OnScreenMenuButtonType.ZoomInY:this.lC(new ch(this.$r,this.chart,this.se),n);break;case t.OnScreenMenuButtonType.ZoomOut:this.lC(new lh(this.$r,this.chart,this.se),n);break;case t.OnScreenMenuButtonType.ZoomOutX:this.lC(new vh(this.$r,this.chart,this.se),n);break;case t.OnScreenMenuButtonType.ZoomOutY:this.lC(new dh(this.$r,this.chart,this.se),n);break;case t.OnScreenMenuButtonType.ZoomToFit:this.lC(new Ah(this.$r,this.chart,this.se),n);break;case t.OnScreenMenuButtonType.ToggleAnimations:this.lC(new yh(this.$r,this.chart,this.se),n);break;default:console.error('No predefined button like "'.concat(t.OnScreenMenuButtonType[i],'" exists.'))}},i.prototype.lC=function(t,i){i.rowSpan=t.te.rows,i.colSpan=t.te.columns,t.de(i)},i.prototype.addCustomButton=function(t,i){var n=new bh(this.$r,t,this.chart);return this.lC(n,i),this},i.prototype.dispose=function(){this.tC.remove(),this.Ct.Tt("dispose",{})},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(),op=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sp=function(){return sp=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},sp.apply(this,arguments)},up=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},ap=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},hp=function(t){function i(i,n,r,e,o,s,u,a,h,f,c,l){var v,d=this;return(d=t.call(this,i,n,r,e,o,s,u,a,h,f)||this).vC=function(t){d.Ct.Tt(t.type,t)},d.dC=0,d.Ct=new we,d.ih=l,d.kf=d.kr.wv(d.scale).Ye(Xo(d.en.lineSeriesStrokeStyle,c)).xv(Xo(d.en.pointSeriesFillStyle,c)).Ov(Xo(d.en.pointSeriesStrokeStyle,c)).Sv(Xo(d.en.areaSeriesPositiveFillStyle,c)).yC(void 0).Iv(7),d.kf.AC=!1!==(null===(v=d.ih)||void 0===v?void 0:v.allowDataGrouping),d.rr(d.kf),d}return op(i,t),i.prototype.sb=function(){return this.bC().getSampleCount()>0},i.prototype.nr=function(){return this.getDataSet().Pl(this.pC)},i.prototype.setDataSet=function(t,i){var n,r=this,e=null===(n=this.mv)||void 0===n?void 0:n.En;if(t===e&&i&&this.pC&&wc(i,this.pC))return this;var o=["change","clear","loop","maxsamplecountexceed"];return e&&o.forEach((function(t){return e.removeEventListener(t,r.vC)})),t?(o.forEach((function(i){return t.addEventListener(i,r.vC)})),!i&&t.Ol&&(i=this.mC(t.Ol)),i&&t.Jl(i),this.pC=i,this.gC=!1,(null==i?void 0:i.color)&&this.chart.qi.qa(gf.fa),(null==i?void 0:i.size)&&this.chart.qi.qa(gf.ha),this.mv=us(t,this.mv,(function(){return{change:function(){r.dC+=1,r.dC>1&&r.chart.qi.qa(gf.aa),r.chart.qi.vr()},clear:function(){r.chart.qi.vr()}}})),i&&this.kf.gv(t,i),this.chart.qi.vr(),this):(this.kf.gv(),this)},i.prototype.getDataSet=function(){return this.bC()},i.prototype.setDataMapping=function(t){var i;return(null===(i=this.mv)||void 0===i?void 0:i.En)?this.setDataSet(this.getDataSet(),t):this.pC=t,this.gC=!1,this},i.prototype.getDataMapping=function(){return this.pC},i.prototype.setStrokeStyle=function(t){return this.kf.Ye(t),this.kr.vr(),this},i.prototype.getStrokeStyle=function(){return this.kf.Nu()},i.prototype.setAreaFillStyle=function(t){return this.kf.Sv(t),this.kr.vr(),this},i.prototype.getAreaFillStyle=function(){return this.kf.xC()},i.prototype.setPointFillStyle=function(t){return this.kf.xv(t),this.kr.vr(),this},i.prototype.getPointFillStyle=function(){return this.kf._v()},i.prototype.setPointStrokeStyle=function(t){return this.kf.Ov(t),this.kr.vr(),this},i.prototype.getPointStrokeStyle=function(){return this.kf.Fv()},i.prototype.setPointSize=function(t){return this.kf.Iv(t),this.kr.vr(),this},i.prototype.getPointSize=function(){return this.kf.SC()},i.prototype.setPointShape=function(t){return this.kf.Mv(t),this.kr.vr(),this},i.prototype.getPointShape=function(){return this.kf.Cv()},i.prototype.setPointRotation=function(t){return this.kf.Tv(t),this.kr.vr(),this},i.prototype.getPointRotation=function(){return this.kf.kv()},i.prototype.setPointAlignment=function(t){return this.kf.Ly(t),this.chart.qi.vr(),this},i.prototype.getPointAlignment=function(){return this.kf.wC()},i.prototype.setCurvePreprocessing=function(t){return this.kf.yC(t),this.kr.vr(),this},i.prototype.getCurvePreprocessing=function(){return this.kf.MC()},i.prototype.appendJSON=function(t,i,n){return this.bC().appendJSON(t,i,n),this.kr.qi.vr(),this},i.prototype.appendSample=function(t,i){return this.bC().appendSample(t,i),this.kr.qi.vr(),this},i.prototype.appendSamples=function(t,i){return this.bC().appendSamples(t,i),this.kr.qi.vr(),this},i.prototype.fill=function(t){return this.bC().fill(t),this.kr.vr(),this},i.prototype.setSamples=function(t,i){return this.bC().setSamples(t,i),this.kr.vr(),this},i.prototype.alterSamplesStartingFrom=function(t,i,n){return this.bC().alterSamplesStartingFrom(t,i,n),this.kr.vr(),this},i.prototype.alterSamplesByIndex=function(t,i){return this.bC().alterSamplesByIndex(t,i),this.kr.vr(),this},i.prototype.alterSamplesByMatch=function(t,i,n){return this.bC().alterSamplesByMatch(t,i,n),this.kr.vr(),this},i.prototype.getSampleCount=function(){return this.bC().getSampleCount()},i.prototype.getNextSampleIndex=function(){return this.bC().getNextSampleIndex()},i.prototype.setMaxSampleCount=function(t){return this.bC().setMaxSampleCount(t),this.kr.vr(),this},i.prototype.getMaxSampleCount=function(){return this.bC().getMaxSampleCount()},i.prototype.clear=function(){return this.bC().clear(),this.kr.vr(),this},i.prototype.readBack=function(t){if(this.pC||this.CC(),!this.pC)return{xValues:new Float64Array,yValues:new Float64Array,iSampleFirst:0};var i=this.bC();if(null==t?void 0:t.onlyInRange){var n=i.Pl(this.pC),r=n&&na(n);if(!r)throw new Error("LightningChart JS - attempted to use `PointLineAreaSeries.readBack` with `onlyInRange` without a data pattern.\nThis operation is only supported for progressive data");var e=this.pC[r];return i.Zl(this.pC,{onlyInRange:{key:e,start:t.onlyInRange.start,end:t.onlyInRange.end}})}return i.Zl(this.pC)},i.prototype.solveNearest=function(t,i){void 0===i&&(i=this.chart.getCursorMode()||"show-nearest"),this.pC||this.CC();var n=dS(i);void 0!==this.getCurvePreprocessing()&&(n=!1);var r=this.TC(),e=Eu(t)?this.chart.translateCoordinate(t,{x:this.axisX,y:this.axisY}):t,o=r.rv(this.pC,e,n,this.scale,this.chart.Ud);if(void 0!==o)return sp(sp({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{series:this,axisX:this.axisX,axisY:this.axisY,pointShape:this.getPointShape()})},i.prototype.Bn=function(t,i,n){var r=this,e=this.getDataSet(),o=null==t?void 0:t.dataPoint;return void 0===e.Pl(this.pC)||o?o?sp(sp({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{series:this,axisX:this.axisX,axisY:this.axisY,pointShape:this.getPointShape()}):void 0:as({series:this,axisX:this.axisX,axisY:this.axisY},{x:0,y:0,cursorPosition:0,rotation:0,size:0,color:0,lookupValue:0,multiHit:0,iSample:0,sample:0,pointShape:0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},i.prototype.TC=function(){return this.bC()},i.prototype.Mr=function(){return Uo(this.getPointFillStyle(),this.kf.an())||Uo(this.getStrokeStyle().getFillStyle(),this.kf.an())||Uo(this.getAreaFillStyle(),this.kf.an())},i.prototype.ab=function(){var t,i=null===(t=this.mv)||void 0===t?void 0:t.En;return this.getVisible()&&this.getAutoScrollingEnabled()&&void 0!==i&&i.pl>0},i.prototype.bS=function(t){},i.prototype.gS=function(t){this.pC||this.CC();var i=this.kf.Dh();return i&&"y"===i.kC&&t&&i._C(),this.kf.Fn(t)},i.prototype.xS=function(t){this.pC||this.CC();var i=this.kf.Dh();return i&&"y"===i.kC&&t&&i._C(),this.kf.On(t)},i.prototype.SS=function(t){this.pC||this.CC();var i=this.kf.Dh();return i&&"x"===i.kC&&!t&&i._C(),this.kf.jn(t)},i.prototype.wS=function(t){this.pC||this.CC();var i=this.kf.Dh();return i&&"x"===i.kC&&t&&i._C(),this.kf.In(t)},i.prototype.Us=function(){return{x:this.kf.sc(),y:this.kf.uc()}},i.prototype.CC=function(){var t,i=null===(t=this.mv)||void 0===t?void 0:t.En;if((!this.pC||this.gC)&&i&&i.Ol){var n=i.Ol,r=this.OC,e=!1;if(this.pC&&this.gC&&r){var o=Object.keys(n).length!==Object.keys(r).length,s=Object.entries(n).find((function(t){var i,n=up(t,2),e=n[0],o=n[1];return e in r&&r[e]!==(null===(i=o._l)||void 0===i?void 0:i.effective)}));e=!o&&void 0===s}if(!e){var u=this.mC(i.Ol);!u||this.pC&&wc(this.pC,u)||(this.pC=u,this.gC=!0,u.color&&this.chart.qi.qa(gf.fa),u.size&&this.chart.qi.qa(gf.ha),this.kf.gv(i,u)),this.OC=Object.fromEntries(Object.entries(i.Ol).map((function(t){var i,n=up(t,2);return[n[0],null===(i=n[1]._l)||void 0===i?void 0:i.effective]})))}}},i.prototype.$A=function(){var i,n,r,e;if(t.prototype.$A.call(this),this.CC(),((null===(i=this.ih)||void 0===i?void 0:i.strictMode)||(null===(n=this.mv)||void 0===n?void 0:n.En.Tl))&&this.pC&&(null===(r=this.mv)||void 0===r?void 0:r.En)){var o=this.mv.En.Ol;o&&Object.values(this.pC).forEach((function(t){if(!(t in o))throw new Error("LightningChart JS error - PointLineAreaSeries data mapping is referencing a data property ('".concat(t,"') that doesn't exist in the connected data set. This is not allowed when strict mode is enabled."))}))}var s=na(null!==(e=this.nr())&&void 0!==e?e:"ProgressiveX");this.kf.FC("x"===s?0===this.xAxis.Pd?"bottom":"top":0===this.yAxis.Pd?"left":"right")},i.prototype.bC=function(){var t;if(!this.mv){var i=new Mc(this.ih);return this.setDataSet(i,!0!==this.gC?this.pC:void 0),i}return null===(t=this.mv)||void 0===t?void 0:t.En},i.prototype.mC=function(t){var i,n,r;if((null===(n=this.ih)||void 0===n?void 0:n.strictMode)||(null===(r=this.mv)||void 0===r?void 0:r.En.Tl))throw new Error("LightningChart JS error - PointLineAreaSeries data mapping is not explicitly defined. This is not allowed when strict mode is enabled.");var e=Object.entries(t),o=e.find((function(t){return t[0].toLowerCase().includes("x")})),s=e.find((function(t){return t[0].toLowerCase().includes("y")})),u=e.find((function(t){return t[0].toLowerCase().includes("size")})),a=e.find((function(t){return t[0].toLowerCase().includes("rot")})),h=e.find((function(t){return t[0].toLowerCase().includes("lookup")||t[0].toLowerCase().includes("value")&&!t[0].toLowerCase().includes("y")&&!t[0].toLowerCase().includes("x")})),f=e.find((function(t){return t[0].toLowerCase().includes("color")})),c={};u&&(c.size=u[0]),a&&(c.rotation=a[0]),h&&(c.lookupValue=h[0]),f&&(c.color=f[0]);var l=e.find((function(t){var i;return Boolean(null===(i=t[1]._l)||void 0===i?void 0:i.effective)})),v=function(t){for(var i,n,r,o,s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];try{for(var a=ap(s),h=a.next();!h.done;h=a.next())if((v=h.value)!==t)return v[0]}catch(t){i={error:t}}finally{try{h&&!h.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}try{for(var f=ap(e),l=f.next();!l.done;l=f.next()){var v;if((v=l.value)!==t&&!Object.keys(c).includes(v[0]))return v[0]}}catch(t){r={error:t}}finally{try{l&&!l.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}};if("xValues"in t&&"yValues"in t)return sp(sp({},c),{x:"xValues",y:"yValues"});if("yValues"in t){var d=v(e.find((function(t){return"yValues"===t[0]})));if(d)return sp(sp({},c),{x:d,y:"yValues"})}if("xValues"in t){var y=v(e.find((function(t){return"xValues"===t[0]})));if(y)return sp(sp({},c),{y:y,x:"xValues"})}if(o&&s)return sp(sp({},c),{x:o[0],y:s[0]});if(l){var A=v(l);if(A)return sp(sp({},c),((i={}).x=l[0],i.y=A,i))}return e.length>=2?sp(sp({},c),{x:e[0][0],y:e[1][0]}):void 0},i.prototype.Pe=function(){var t=this.getPointFillStyle(),i=this.getAreaFillStyle();return{stroke:this.getStrokeStyle(),fill:t!==Cu?t:i,behavior:{priority:"stroke"}}},i.prototype.Cr=function(){return this.yr||this.getPointShape()},i.prototype.ze=function(t,i){t.vn(i),this.kr.vr()},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(JA),fp=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},cp={pan:!1,zoom:!1,rectangleZoom:!1,restoreDefault:!1,chartInteractions:void 0},lp=function(t,i,n,r){t.seriesBackground.addEventListener(i,n,r),t.getSeries().forEach((function(t){return t.addEventListener(i,n,r)}));var e=function(t){return t.series.addEventListener(i,n,r)};return t.addEventListener("seriesadd",e),function(){t.seriesBackground.removeEventListener(i,n),t.getSeries().forEach((function(t){return t.removeEventListener(i,n)})),t.removeEventListener("seriesadd",e)}},vp=function(t,i,n,r){var e=[];t.forEachAxis((function(t){var o=function(i){return n(t,i)};t.addEventListener(i,o,r),e.push((function(){return t.removeEventListener(i,o)}))}));var o=function(t){var o=function(i){return n(t.axis,i)};t.axis.addEventListener(i,o,r),e.push((function(){return t.axis.removeEventListener(i,o)}))};return t.addEventListener("axisadd",o),e.push((function(){return t.removeEventListener("axisadd",o)})),function(){e.forEach((function(t){return t()}))}},dp=function(i,n,r){vs();var e=new Map;i.forEachAxis((function(t){var i,r,o=t.Re.chartInteractions;!1===o||"object"==typeof o&&!1===o.restoreDefault||e.set(t,{animate:null!==(i=n.animationsEnabled)&&void 0!==i?i:void 0,stopAxisAfter:null!==(r=n.stopScroll)&&void 0!==r?r:void 0})})),i.IC(e);var o=n.cursor;if(null!==o){o=null!=o?o:t.MouseStyles.ZoomOut;var s=i.engine.setMouseStyle(o);Qe.setTimeout((function(){i.engine.restoreMouseStyle(s)}),500)}var u=n.on;u&&Qe.requestAnimationFrame((function(){return u({event:r})}))},yp=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ap=function(){return Ap=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Ap.apply(this,arguments)},bp=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},pp=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},mp=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},gp=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return function(i,n){return t.forEach((function(t){return t.forEach((function(t){t.axis.Yi.zt(i),t.axis.Vd.zt(n)}))}))}},xp=o(10,10);t.AxisPosition=void 0,(Wv=t.AxisPosition||(t.AxisPosition={}))[Wv.Top=0]="Top",Wv[Wv.Bottom=1]="Bottom",Wv[Wv.Left=2]="Left",Wv[Wv.Right=3]="Right";var Sp,wp,Mp=new Set([t.AxisPosition.Top,t.AxisPosition.Bottom,t.AxisPosition.Left,t.AxisPosition.Right]),Cp=function(t){return t.setStopped(!0)},Tp=function(t,i){if(!t||!i)throw new Error("LightningChart JS error | either X or Y axis didn't exist when creating a series.");var n="linear-highPrecision"===t.No.type||"linear-highPrecision"===i.No.type,r="logarithmic"===t.No.type||"logarithmic"===i.No.type;if(n&&r){var e="Invalid Axis combination | 'logarithmic' can't be combined with 'linear-highPrecision' (x: ".concat(t.No.type,", y: ").concat(i.No.type,")");throw new Error(e)}};!function(t){t[t.seriesBackground=0]="seriesBackground",t[t.gridLine0=1]="gridLine0",t[t.gridLine1=2]="gridLine1",t[t.gridLine2=3]="gridLine2",t[t.highlightersBelow=4]="highlightersBelow"}(Sp||(Sp={})),function(t){t[t.plotting=0]="plotting",t[t.highlightersAbove=1]="highlightersAbove",t[t.fg=2]="fg"}(wp||(wp={}));var kp,_p=function(i){function n(n,r,e,o,s,u,a){var h,f,c,l,v,d=this;(d=i.call(this,n,r,e,r.EA("chartXY bg",0),o,r.qi.en.chartXYBackgroundFillStyle,r.qi.en.chartXYBackgroundStrokeStyle,r.qi.en.chartXYTitleFont,r.qi.en.chartXYTitleFillStyle,r.qi.en.chartXYTitleShadow,a,null===(h=null==u?void 0:u.legend)||void 0===h?void 0:h.customLegend)||this).jC=d.wA.d2({scaleXYConstructor:$r}),d.Sy=[],d.wy=[],d.Cy=[],d.My=[],d.BC=new Map,d.DC=!0,d.LC=[],d.EC=d.en.chartXYZoomingRectangleFillStyle,d.PC=d.en.chartXYZoomingRectangleStrokeStyle,d.Ay=Fp,d.AS=0,d.ug=[],d.hg=function(){if(!d.Hi){var t=new Map;d.forEachAxis((function(i){void 0!==i.iy().find((function(t){return t.sb()}))&&t.set(i,Ap(Ap({},i.getInterval()),{stopped:i.getStopped()}))})),t.size<=0||(d.ug.push(t),d.ug.length>100&&d.ug.shift())}},d.zC=function(t,i,n){var r=t.solveNearest(i,n);return r&&ks(r.cursorPosition.pointMarker.x,r.axisX.getInterval().start,r.axisX.getInterval().end)&&ks(r.cursorPosition.pointMarker.y,r.axisY.getInterval().start,r.axisY.getInterval().end)?r:void 0},d.NC=gp(d.wy,d.Sy),d.VC=gp(d.Cy,d.My),d.RC=function(t){d.NC(t.engineWidth,t.engineHeight),d.VC(t.engineHeight,t.engineWidth),d.jC.zt(t.engineWidth,t.engineHeight),d.qi.vr()},d.GC=function(t,i){d.BC.set(t,i)},d.Dd=function(t){var i=d.wy.findIndex((function(i){return i.axis===t})),n=d.Sy.findIndex((function(i){return i.axis===t})),r=d.Cy.findIndex((function(i){return i.axis===t})),e=d.My.findIndex((function(i){return i.axis===t}));i>=0&&d.wy.splice(i,1),n>=0&&d.Sy.splice(n,1),r>=0&&d.Cy.splice(r,1),e>=0&&d.My.splice(e,1),d.BC.delete(t),d.qi.vr()},d.addAreaRangeSeries=function(t){var i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||d.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||d.getDefaultAxisY();Tp(i,n);var r=new Yb(d,d.rp,d.$g,i,n,d.UC(i),d.UC(n),d.CA,d.en,d.qi.Qn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:d.ip.length);return d.ap(r,t),r},d.Ct=new we,d.qi.qa(gf.ra),d.qs({left:null!==(f=d.en.panelPadding)&&void 0!==f?f:7,right:null!==(c=d.en.panelPadding)&&void 0!==c?c:7,top:null!==(l=d.en.panelPadding)&&void 0!==l?l:7,bottom:null!==(v=d.en.panelPadding)&&void 0!==v?v:7},!1),d.YC=r.gg("chartXY series bg",Sp.seriesBackground),d.WC=[Sp.gridLine0,Sp.gridLine1,Sp.gridLine2].map((function(t){return r.XC("chartXY gridline #".concat(t),t)})),d.jd=r.XC("chartXY highlighters below",Sp.highlightersBelow),d.$g=r.xg("chartXY plotting",wp.plotting),d.Bd=r.xg("chartXY highlighters above",wp.highlightersAbove),d.Id=r.xg("chartXY fg",wp.fg),d.jC.x.Et(0,d.uiScale.x.getCellSize()-(d.Zt.left+d.Zt.right+d.yu.left+d.yu.right)),d.jC.y.Et(0,d.uiScale.y.getCellSize()-(d.Zt.bottom+d.Zt.top+d.yu.bottom+d.yu.top)),d.jC.zt(d.uiScale.ai().x,d.uiScale.ai().y),d.sp=d.YC.De(d.jC).Be(d.en.chartXYSeriesBackgroundFillStyle).je(Pe),d.up=d.YC.De(d.jC).Be(Cu).je(d.en.chartXYSeriesBackgroundStrokeStyle).setPointerEvents(!1),i.prototype.op.call(d,d.sp,d.up),d.setSeriesBackgroundEffect(!1);var y=oo(u?u.cursorBuilder:void 0,np),A=r._g();d.Og=mS(d,A,y.qm(A,d.jC,d.jC,io,d.en),d,"show-all",Lp,(function(t,i){var n=d.translateCoordinate(t,{x:t.axisX,y:t.axisY},d.coordsClient);return Math.sqrt(Math.pow(n.clientX-i.clientX,2)+Math.pow(n.clientY-i.clientY,2))})),d.addAxisX(u&&u.defaultAxisX),d.addAxisY(u&&u.defaultAxisY),d.addEventListener("resize",d.RC),d.So.Os("ChartXY"),d.setAnimationsEnabled(!1!==(null==u?void 0:u.animationsEnabled)),d.LA(s,d.jC),d.Fg=function(i){var n={},r=!1,e=!1,o=!1,s=function(){var t,r=i.getAxes().find((function(t){var i,n;return(null===(i=t.getScrollStrategy())||void 0===i?void 0:i.id)===Eh||(null===(n=t.getScrollStrategy())||void 0===n?void 0:n.id)===Ph})),e=i.getSeries().map((function(t){return t.nr()})).find((function(t){return t})),o=i.getSeries().find((function(t){return t instanceof hp&&!Tu(t.getAreaFillStyle())&&t.nr()})),s=r?{type:"scrolling",scrollingAxis:r,x:r.isX,y:r.isY}:e?{type:"progressive",x:"ProgressiveX"===e||"RegressiveX"===e,y:"ProgressiveY"===e||"RegressiveY"===e}:{type:"freeform"};if("progressive"===s.type){var u={zoom:{wheel:{},stopScroll:!0},pan:{lmb:!1,rmb:{drag:{}}},restoreDefault:{doubleClick:!0},rectangleZoom:{lmb:{drag:{}},rmb:!1}},a={pan:{lmb:!1,rmb:{drag:{}}},zoom:{wheel:{},mode:o?"keep-start":"centered"},restoreDefault:{doubleClick:!0},rectangleZoom:{lmb:{drag:{}},rmb:!1}};return Ze({rectangleZoom:{x:s.x,y:s.y,rmb:!1},pan:{x:s.x,y:s.y,pinch:{},lmb:!1,rmb:{drag:{}}},paginate:!1,zoom:{x:s.x,y:s.y,wheel:{},pinch:{},stopScroll:!0},restoreDefault:{doubleClick:!0},restorePrevious:{ctrl:{code:"KeyZ"}},xAxis:s.x?u:a,yAxis:s.y?u:a},n)}if("scrolling"===s.type){var h=((null===(t=s.scrollingAxis.fs)||void 0===t?void 0:t.id)===Ph?-1:1)*(s.scrollingAxis.getInterval().end>s.scrollingAxis.getInterval().start?1:-1)>0?"keep-end":"keep-start";return u={zoom:{wheel:{},stopScroll:!1,mode:h},pan:{drag:{}},restoreDefault:{doubleClick:!0}},a={rectangleZoom:{lmb:{},rmb:!1,mmb:!1},pan:{lmb:!1,rmb:{drag:{}},mmb:!1},zoom:{drag:!1,wheel:{},mode:o?"keep-start":"centered"},restoreDefault:{doubleClick:!0}},Ze({rectangleZoom:!1,pan:{x:s.x,y:s.y,pinch:{},drag:{}},paginate:!1,zoom:{x:s.x,y:s.y,wheel:{},pinch:{stopScroll:!0},stopScroll:!1,mode:h},restoreDefault:{doubleClick:!0},restorePrevious:!1,xAxis:s.x?u:a,yAxis:s.y?u:a},n)}return Ze({pan:{x:!0,y:!0,pinch:{},lmb:!1,rmb:{drag:{}}},zoom:{x:!0,y:!0,pinch:{},wheel:{},mode:"toward-pointer"},rectangleZoom:{x:!0,y:!0,lmb:!0,rmb:!1},restoreDefault:{doubleClick:!0},restorePrevious:{ctrl:{code:"KeyZ"}},axes:{pan:{rmb:{drag:{}},lmb:!1},rectangleZoom:{lmb:{drag:{}},rmb:!1},zoom:{wheel:{}},restoreDefault:{doubleClick:!0}}},n)},u=function(t){var i=s(),n=t.getUserInteractions(),r=t.isX?i.xAxis:i.yAxis,e=i.axes;return Ze(null!=(e=!1!==e?e:cp)?e:{},null!=(r=!1!==r?r:cp)?r:{},n)},a=function(t){},h=function(n){if(i.axisX&&i.axisY){var u=Ru(!1!==i.qi.ih.rh),a=s(),h=Vu(a.pan,"drag",n,r,e,o);h&&u.push((function(){return function(i,n,r,e){var o,s=i.getCursorMode(),u=!1,a=n;"mouse"===n.pointerType&&n.preventDefault();var h=function(e){if(e.pointerId===n.pointerId){var s=e.clientX-a.clientX,h=e.clientY-a.clientY;if(a=e,!u){if(!("mouse"===e.pointerType||Math.max(Math.abs(e.clientX-n.clientX),Math.abs(e.clientY-n.clientY))>=10))return;u=!0;var f=r.cursor;null!==f&&(f=null!=f?f:!1===r.x?t.MouseStyles.Vertical:!1===r.y?t.MouseStyles.Horizontal:t.MouseStyles.Move,o=i.engine.setMouseStyle(f)),i.setCursorMode(void 0),ls()}wo(e),r.x&&i.forEachAxisX((function(t){var i,n=t.Re.chartInteractions;!1===n||"object"==typeof n&&!1===n.pan||(!1!==r.stopScroll&&t.setStopped(!0),t.pan(-s*(null!==(i=r.sensitivity)&&void 0!==i?i:1)))})),r.y&&i.forEachAxisY((function(t){var i,n=t.Re.chartInteractions;!1===n||"object"==typeof n&&!1===n.pan||(!1!==r.stopScroll&&t.setStopped(!0),t.pan(h*(null!==(i=r.sensitivity)&&void 0!==i?i:1)))}));var c=r.on;c&&Qe.requestAnimationFrame((function(){return c({event:e})}))}},f=function(t){t.pointerId===n.pointerId&&(Qe.removeEventListener("pointermove",h),Qe.removeEventListener("pointerup",f),i.engine.container.removeEventListener("pointerdown",c),o=i.engine.restoreMouseStyle(o),e(),i.setCursorMode(s),u&&(cs("click"),cs("contextmenu")))},c=function(t){t.pointerId!==n.pointerId&&(Qe.removeEventListener("pointermove",h),Qe.removeEventListener("pointerup",f),i.engine.container.removeEventListener("pointerdown",c),o=i.engine.restoreMouseStyle(o),e(),i.setCursorMode(s))};Qe.addEventListener("pointermove",h),Qe.addEventListener("pointerup",f),i.engine.container.addEventListener("pointerdown",c),vs()}(i,n,h,d())}));var f=Vu(a.zoom,"drag",n,r,e,o);f&&u.push((function(){return function(i,n,r,e){var o,s=r.cursor;if(null!==s){var u="function"==typeof s?s("in"):s;null!==u&&(u=null!=u?u:t.MouseStyles.ZoomIn,o=i.engine.setMouseStyle(u))}var a=i.getCursorMode();i.setCursorMode(void 0);var h=!1,f=n;"mouse"===n.pointerType&&n.preventDefault();var c=function(e){if(e.pointerId===n.pointerId){wo(e);var u={x:e.clientX-f.clientX,y:e.clientY-f.clientY};f=e,r.x&&i.forEachAxisX((function(e){var a,h=e.Re.chartInteractions;if(!1!==h&&("object"!=typeof h||!1!==h.zoom)){var f;f="keep-start"===r.mode?e.getInterval().start:"keep-end"===r.mode?e.getInterval().end:"centered"===r.mode?e.Yi.mi((e.Yi.ei()+e.Yi.oi())/2):i.translateCoordinate(n,{x:e,y:e}).x;var c=.05*e.Po.getWidth({x:-u.x,y:u.y})*(null!==(a=r.sensitivity)&&void 0!==a?a:1);if(e.zoom(f,c),!1!==r.stopScroll&&e.setStopped(!0),null!==s){var l="function"==typeof s?s(c<0?"in":"out"):s;null!==l&&(l=null!=l?l:c<0?t.MouseStyles.ZoomIn:t.MouseStyles.ZoomOut,o=i.engine.setMouseStyle(l,o))}}})),r.y&&i.forEachAxisY((function(e){var a,h=e.Re.chartInteractions;if(!1!==h&&("object"!=typeof h||!1!==h.zoom)){var f;f="keep-start"===r.mode?e.getInterval().start:"keep-end"===r.mode?e.getInterval().end:"centered"===r.mode?e.Yi.mi((e.Yi.ei()+e.Yi.oi())/2):i.translateCoordinate(n,{x:e,y:e}).y;var c=.05*e.Po.getWidth({x:-u.x,y:u.y})*(null!==(a=r.sensitivity)&&void 0!==a?a:1);if(e.zoom(f,c),!1!==r.stopScroll&&e.setStopped(!0),null!==s){var l="function"==typeof s?s(c<0?"in":"out"):s;null!==l&&(l=null!=l?l:c<0?t.MouseStyles.ZoomIn:t.MouseStyles.ZoomOut,o=i.engine.setMouseStyle(l,o))}}})),h||(ls(),h=!0);var a=r.on;a&&Qe.requestAnimationFrame((function(){return a({event:e})}))}},l=function(t){t.pointerId===n.pointerId&&(Qe.removeEventListener("pointermove",c),Qe.removeEventListener("pointerup",l),i.engine.container.removeEventListener("pointerdown",v),o=i.engine.restoreMouseStyle(o),e(),i.setCursorMode(a))},v=function(t){t.pointerId!==n.pointerId&&(Qe.removeEventListener("pointermove",c),Qe.removeEventListener("pointerup",l),i.engine.container.removeEventListener("pointerdown",v),o=i.engine.restoreMouseStyle(o),e(),i.setCursorMode(a))};Qe.addEventListener("pointermove",c),Qe.addEventListener("pointerup",l),i.engine.container.addEventListener("pointerdown",v),vs()}(i,n,f,d())}));var c=Vu(a.rectangleZoom,void 0,n,r,e,o);c&&u.push((function(){return function(i,n,r,e){var o,s=i.getCursorMode(),u=i.addRectangleSeries({legend:null}).setDrawOrder({seriesDrawOrderIndex:1e3}).setPointerEvents(!1).setCursorEnabled(!1).setAutoScrollingEnabled(!1).setClipping(!1),a=u.add({x1:0,x2:0,y1:0,y2:0}),h=!1,f=!1;"mouse"===n.pointerType&&n.preventDefault();var c=function(e){if(e.pointerId===n.pointerId){wo(e),r.x&&i.forEachAxisX((function(t){var i=t.Re.chartInteractions;!1===i||"object"==typeof i&&!1===i.rectangleZoom||t.setStopped(!0)})),r.y&&i.forEachAxisY((function(t){var i=t.Re.chartInteractions;!1===i||"object"==typeof i&&!1===i.rectangleZoom||t.setStopped(!0)}));var u=i.translateCoordinate(n,i.coordsAxis),c=i.translateCoordinate(e,i.coordsAxis),l=ee({x:0,y:0},i.jC,i.coordsAxis),v=ee({x:i.jC.x.getInnerEnd(),y:i.jC.y.getInnerEnd()},i.jC,i.coordsAxis);!1===r.x?a.setDimensions({y1:u.y,x1:l.x,y2:c.y,x2:v.x}):!1===r.y?a.setDimensions({x1:u.x,y1:l.y,x2:c.x,y2:v.y}):a.setDimensions({x1:u.x,y1:u.y,x2:c.x,y2:c.y});var d=_s({x:e.clientX,y:e.clientY},{x:r.x?n.clientX:e.clientX,y:r.y?n.clientY:e.clientY})>=20,y=ks(c.x,l.x,v.x)&&ks(c.y,l.y,v.y);if(a.setFillStyle(d&&y?i.getZoomingRectangleFillStyle():Cu).setStrokeStyle(d&&y?i.getZoomingRectangleStrokeStyle():Pe),h||(ls(),h=!0),i.setCursorMode(d?void 0:s),d){var A=r.cursor;if(null!==A&&(A=null!=A?A:t.MouseStyles.ZoomIn,o=i.engine.setMouseStyle(A,o)),!f){var b=r.start;b&&b({event:e})}}else o=i.engine.restoreMouseStyle(o);f=d}},l=function(t){if(t.pointerId===n.pointerId){var a=_s({x:t.clientX,y:t.clientY},{x:r.x?n.clientX:t.clientX,y:r.y?n.clientY:t.clientY})>=20,h=i.translateCoordinate(t,i.coordsAxis),f=ee({x:0,y:0},i.jC,i.coordsAxis),d=ee({x:i.jC.x.getInnerEnd(),y:i.jC.y.getInnerEnd()},i.jC,i.coordsAxis),y=ks(h.x,f.x,d.x)&&ks(h.y,f.y,d.y);a&&y&&i.forEachAxis((function(e){var o,s;if((!e.isX||r.x)&&(!e.isY||r.y)){var u=e.Re.chartInteractions;if(!1!==u&&("object"!=typeof u||!1!==u.rectangleZoom)){var a=i.translateCoordinate(n,{x:e,y:e}),h=i.translateCoordinate(t,{x:e,y:e}),f=e.Po.getWidth(a),c=e.Po.getWidth(h),l=Math.sign(c-f),v=Math.sign(e.getInterval().end-e.getInterval().start),d=l===v?f:c,y=l===v?c:f;e.Wi(d,y,null!==(o=r.animationsEnabled)&&void 0!==o?o:void 0,null!==(s=r.stopScroll)&&void 0!==s?s:void 0,"interactionSetInterval")}}})),a&&(cs("click"),cs("contextmenu")),i.setCursorMode(s),u.dispose(),Qe.removeEventListener("pointermove",c),Qe.removeEventListener("pointerup",l),i.engine.container.removeEventListener("pointerdown",v),o=i.engine.restoreMouseStyle(o),e();var A=a&&y&&r.on;A&&Qe.requestAnimationFrame((function(){return A({event:t})}))}},v=function(t){t.pointerId!==n.pointerId&&(i.setCursorMode(s),u.dispose(),Qe.removeEventListener("pointermove",c),Qe.removeEventListener("pointerup",l),i.engine.container.removeEventListener("pointerdown",v),o=i.engine.restoreMouseStyle(o),e())};Qe.addEventListener("pointermove",c),Qe.addEventListener("pointerup",l),i.engine.container.addEventListener("pointerdown",v),vs()}(i,n,c,d())})),u.end();var l=Vu(a.pan,"pinch",n,r,e,o),v=Vu(a.zoom,"pinch",n,r,e,o);(v||l)&&function(t,i,n,r,e){if(n||r){var o=function(u){if(u.pointerId!==i.pointerId){var a,h=e();t.engine.container.removeEventListener("pointerdown",o),Qe.removeEventListener("pointerup",s);var f=u,c=t.getCursorMode();t.setCursorMode(void 0);var l=function(e){var o,s,h,c,l=a,v=f;if(e.pointerId===i.pointerId)a=e;else{if(e.pointerId!==u.pointerId)return;f=e}if(wo(e),void 0!==a&&void 0!==l){var d={x:(a.clientX-l.clientX+(f.clientX-v.clientX))/2*(null!==(o=null==n?void 0:n.sensitivity)&&void 0!==o?o:1),y:(a.clientY-l.clientY+(f.clientY-v.clientY))/-2*(null!==(s=null==n?void 0:n.sensitivity)&&void 0!==s?s:1)},y=!1;if(n&&n.x&&(y=!0,t.forEachAxisX((function(t){var i=t.Re.chartInteractions;!1===i||"object"==typeof i&&!1===i.pan||t._y({},d)}))),n&&n.y&&(y=!0,t.forEachAxisY((function(t){var i=t.Re.chartInteractions;!1===i||"object"==typeof i&&!1===i.pan||t._y({},d)}))),y){var A=null==n?void 0:n.on;A&&Qe.requestAnimationFrame((function(){return A({event:e})}))}var b=Xs(Ws({x:Math.abs(l.clientX-v.clientX),y:Math.abs(l.clientY-v.clientY)},{x:Math.abs(a.clientX-f.clientX),y:Math.abs(a.clientY-f.clientY)}),{x:null!==(h=null==r?void 0:r.sensitivity)&&void 0!==h?h:1,y:null!==(c=null==r?void 0:r.sensitivity)&&void 0!==c?c:1}),p=!1;if(r&&r.x&&(p=!0,t.forEachAxisX((function(t){var i,n=t.Re.chartInteractions;!1===n||"object"==typeof n&&!1===n.zoom||t.Wi(t.Yi.Bi(t.getInterval().start,-t.Po.getWidth(b)),t.Yi.Bi(t.getInterval().end,t.Po.getWidth(b)),!1,null!==(i=r.stopScroll)&&void 0!==i?i:void 0,"interactionZoom")}))),r&&r.y&&(p=!0,t.forEachAxisY((function(t){var i,n=t.Re.chartInteractions;!1===n||"object"==typeof n&&!1===n.zoom||t.Wi(t.Yi.Bi(t.getInterval().start,-t.Po.getWidth(b)),t.Yi.Bi(t.getInterval().end,t.Po.getWidth(b)),!1,null!==(i=r.stopScroll)&&void 0!==i?i:void 0,"interactionZoom")}))),p){var m=null==r?void 0:r.on;m&&Qe.requestAnimationFrame((function(){return m({event:e})}))}}},v=function(n){n.pointerId!==i.pointerId&&n.pointerId!==u.pointerId||(wo(n),t.setCursorMode(c),Qe.removeEventListener("pointermove",l),Qe.removeEventListener("pointerup",v),h())};Qe.addEventListener("pointermove",l),Qe.addEventListener("pointerup",v),vs()}},s=function(n){n.pointerId===i.pointerId&&(t.engine.container.removeEventListener("pointerdown",o),Qe.removeEventListener("pointerup",s))};t.engine.container.addEventListener("pointerdown",o),Qe.addEventListener("pointerup",s)}}(i,n,l,v,d)}};lp(i,"wheel",(function(n){var u=Ru(!1!==i.qi.ih.rh),a=s(),h=Vu(a.pan,"wheel",n,r,e,o);h&&u.push((function(){return function(i,n,r){if(wo(n),i.forEachAxisX((function(t){var i,e=t.Re.chartInteractions;!1===e||"object"==typeof e&&!1===e.pan||r.x&&(!1!==r.stopScroll&&t.setStopped(!0),t.pan(-30*Math.sign(n.deltaY)*(null!==(i=r.sensitivity)&&void 0!==i?i:1)))})),i.forEachAxisY((function(t){var i,e=t.Re.chartInteractions;!1===e||"object"==typeof e&&!1===e.pan||r.y&&(!1!==r.stopScroll&&t.setStopped(!0),t.pan(-30*Math.sign(n.deltaY)*(null!==(i=r.sensitivity)&&void 0!==i?i:1)))})),r.x||r.y){var e=r.cursor;if(null!==e){e=null!=e?e:!r.x&&r.y?t.MouseStyles.Vertical:r.x&&!r.y?t.MouseStyles.Horizontal:t.MouseStyles.Move;var o=i.engine.setMouseStyle(e);Qe.setTimeout((function(){i.engine.restoreMouseStyle(o)}),500)}var s=r.on;s&&Qe.requestAnimationFrame((function(){return s({event:n})}))}}(i,n,h)}));var f=Vu(a.zoom,"wheel",n,r,e,o);f&&u.push((function(){return function(i,n,r){wo(n),i.forEachAxisX((function(t){var e,o,s=t.Re.chartInteractions;!1===s||"object"==typeof s&&!1===s.zoom||r.x&&(o="keep-start"===r.mode?t.getInterval().start:"keep-end"===r.mode?t.getInterval().end:"centered"===r.mode?t.Yi.mi((t.Yi.ei()+t.Yi.oi())/2):i.translateCoordinate(n,{x:t,y:t}).x,t.zoom(o,Math.sign(n.deltaY)*(null!==(e=r.sensitivity)&&void 0!==e?e:1)),!1!==r.stopScroll&&t.setStopped(!0))})),i.forEachAxisY((function(t){var e,o,s=t.Re.chartInteractions;!1===s||"object"==typeof s&&!1===s.zoom||r.y&&(o="keep-start"===r.mode?t.getInterval().start:"keep-end"===r.mode?t.getInterval().end:"centered"===r.mode?t.Yi.mi((t.Yi.ei()+t.Yi.oi())/2):i.translateCoordinate(n,{x:t,y:t}).y,t.zoom(o,Math.sign(n.deltaY)*(null!==(e=r.sensitivity)&&void 0!==e?e:1)),!1!==r.stopScroll&&t.setStopped(!0))}));var e=r.cursor;if(null!==e){var o="function"==typeof e?e(n.deltaY<0?"in":"out"):e;if(null!==o){o=null!=o?o:n.deltaY<0?t.MouseStyles.ZoomIn:t.MouseStyles.ZoomOut;var s=i.engine.setMouseStyle(o);Qe.setTimeout((function(){i.engine.restoreMouseStyle(s)}),500)}}var u=r.on;u&&Qe.requestAnimationFrame((function(){return u({event:n})}))}(i,n,f)})),u.end()})),lp(i,"click",(function(n){if(!n.defaultPrevented){var u=Ru(!1!==i.qi.ih.rh),a=s(),h=Vu(a.restoreDefault,void 0,n,r,e,o);h&&h.singleClick&&u.push((function(){wo(n),dp(i,h,n)}));var f=Vu(a.restorePrevious,void 0,n,r,e,o);f&&f.singleClick&&u.push((function(){wo(n);var r=i.getAxes().filter((function(t){var i=t.Re.chartInteractions;return!(!1===i||"object"==typeof i&&!1===i.restorePrevious)}));i.restorePreviousZoomState({whitelist:r});var e=f.cursor;if(null!==e){e=null!=e?e:t.MouseStyles.ZoomOut;var o=i.engine.setMouseStyle(e);Qe.setTimeout((function(){i.engine.restoreMouseStyle(o)}),500)}var s=f.on;s&&Qe.requestAnimationFrame((function(){return s({event:n})}))})),u.end()}})),lp(i,"contextmenu",(function(n){if(!n.defaultPrevented){var u=Ru(!1!==i.qi.ih.rh),a=s(),h=Vu(a.restoreDefault,"rmb",n,r,e,o);h&&h.singleClick&&u.push((function(){wo(n),dp(i,h,n)}));var f=Vu(a.restorePrevious,"rmb",n,r,e,o);f&&f.singleClick&&u.push((function(){wo(n);var r=i.getAxes().filter((function(t){var i=t.Re.chartInteractions;return!(!1===i||"object"==typeof i&&!1===i.restorePrevious)}));i.restorePreviousZoomState({whitelist:r});var e=f.cursor;if(null!==e){e=null!=e?e:t.MouseStyles.ZoomOut;var o=i.engine.setMouseStyle(e);Qe.setTimeout((function(){i.engine.restoreMouseStyle(o)}),500)}var s=f.on;s&&Qe.requestAnimationFrame((function(){return s({event:n})}))})),u.end()}})),lp(i,"dblclick",(function(n){if(!n.defaultPrevented){var u=Ru(!1!==i.qi.ih.rh),a=s(),h=Vu(a.restoreDefault,void 0,n,r,e,o);h&&h.doubleClick&&u.push((function(){wo(n),dp(i,h,n)}));var f=Vu(a.restorePrevious,void 0,n,r,e,o);f&&f.doubleClick&&u.push((function(){wo(n);var r=i.getAxes().filter((function(t){var i=t.Re.chartInteractions;return!(!1===i||"object"==typeof i&&!1===i.restorePrevious)}));i.restorePreviousZoomState({whitelist:r});var e=f.cursor;if(null!==e){e=null!=e?e:t.MouseStyles.ZoomOut;var o=i.engine.setMouseStyle(e);Qe.setTimeout((function(){i.engine.restoreMouseStyle(o)}),500)}var s=f.on;s&&Qe.requestAnimationFrame((function(){return s({event:n})}))})),u.end()}}));var f=function(n,s){var a=Ru(!1!==i.qi.ih.rh),h=u(n),f=Vu(h.pan,"drag",s,r,e,o);f&&a.push((function(){return function(i,n,r,e){var o,s=i.chart,u=s.getCursorMode();s.setCursorMode(void 0);var a=r.cursor;null!==a&&(a=null!=a?a:i.isY?t.MouseStyles.Vertical:t.MouseStyles.Horizontal,o=s.engine.setMouseStyle(a));var h=!1,f=n;"mouse"===n.pointerType&&n.preventDefault();var c=function(t){var e;if(t.pointerId===n.pointerId){wo(t);var o=t.clientX-f.clientX,s=t.clientY-f.clientY;f=t,!1!==r.stopScroll&&i.setStopped(!0),i.pan((i.isX?-o:s)*(null!==(e=r.sensitivity)&&void 0!==e?e:1)),h||(ls(),h=!0);var u=r.on;u&&Qe.requestAnimationFrame((function(){return u({event:t})}))}},l=function(t){t.pointerId===n.pointerId&&(wo(t),Qe.removeEventListener("pointermove",c),Qe.removeEventListener("pointerup",l),o=i.chart.engine.restoreMouseStyle(o),e(),i.chart.setCursorMode(u))};Qe.addEventListener("pointermove",c),Qe.addEventListener("pointerup",l)}(n,s,f,d())}));var c=Vu(h.zoom,"drag",s,r,e,o);c&&a.push((function(){return function(i,n,r,e){var o,s=i.chart,u=r.cursor;if(null!==u){var a="function"==typeof u?u("in"):u;null!==a&&(a=null!=a?a:t.MouseStyles.ZoomIn,o=s.engine.setMouseStyle(a))}var h=s.getCursorMode();s.setCursorMode(void 0);var f=!1,c=n;"mouse"===n.pointerType&&n.preventDefault();var l=function(e){var a;if(e.pointerId===n.pointerId){wo(e);var h,l={x:e.clientX-c.clientX,y:e.clientY-c.clientY};c=e,h="keep-start"===r.mode?i.getInterval().start:"keep-end"===r.mode?i.getInterval().end:i.Yi.mi((i.Yi.ei()+i.Yi.oi())/2);var v=.05*i.Po.getWidth({x:-l.x,y:l.y})*(null!==(a=r.sensitivity)&&void 0!==a?a:1);if(i.zoom(h,v),!1!==r.stopScroll&&i.setStopped(!0),null!==u){var d="function"==typeof u?u("in"):u;null!==d&&(d=null!=d?d:v<0?t.MouseStyles.ZoomIn:t.MouseStyles.ZoomOut,o=s.engine.setMouseStyle(d,o))}f||(ls(),f=!0);var y=r.on;y&&Qe.requestAnimationFrame((function(){return y({event:e})}))}},v=function(t){t.pointerId===n.pointerId&&(wo(t),Qe.removeEventListener("pointermove",l),Qe.removeEventListener("pointerup",v),o=s.engine.restoreMouseStyle(o),s.setCursorMode(h),e())};Qe.addEventListener("pointermove",l),Qe.addEventListener("pointerup",v)}(n,s,c,d())}));var l=Vu(h.rectangleZoom,void 0,s,r,e,o);l&&a.push((function(){return function(i,n,r,e){var o,s=i.chart,u=s.getCursorMode();s.setCursorMode(void 0);var a=r.cursor;null!==a&&(a=null!=a?a:t.MouseStyles.ZoomIn,o=s.engine.setMouseStyle(a));var h=i.addBand({onTop:!0}).setPointerEvents(!1).setValueStart(i.Po.getWidth(s.translateCoordinate(n,{x:i,y:i}))).setValueEnd(i.Po.getWidth(s.translateCoordinate(n,{x:i,y:i}))).setVisible(!1).setFillStyle(s.getZoomingRectangleFillStyle()).setStrokeStyle(s.getZoomingRectangleStrokeStyle()),f=!1,c=!1;"mouse"===n.pointerType&&n.preventDefault();var l=function(t){if(t.pointerId===n.pointerId){wo(t),i.setStopped(!0);var e=s.translateCoordinate(t,{x:i,y:i});h.setValueEnd(i.Po.getWidth(e));var o=_s({x:t.clientX,y:t.clientY},{x:i.isX?n.clientX:t.clientX,y:i.isY?n.clientY:t.clientY})>=20;if(h.setVisible(o),f||(ls(),f=!0),o&&!c){var u=o&&r.start;u&&u({event:t})}c=o}},v=function(t){var a,f;if(t.pointerId===n.pointerId){wo(t);var c=_s({x:t.clientX,y:t.clientY},{x:i.isX?n.clientX:t.clientX,y:i.isY?n.clientY:t.clientY})>=20;if(c){var d=i.Po.getWidth(s.translateCoordinate(n,{x:i,y:i})),y=i.Po.getWidth(s.translateCoordinate(t,{x:i,y:i})),A=Math.sign(y-d),b=Math.sign(i.getInterval().end-i.getInterval().start),p=A===b?d:y,m=A===b?y:d;i.Wi(p,m,null!==(a=r.animationsEnabled)&&void 0!==a?a:void 0,null!==(f=r.stopScroll)&&void 0!==f?f:void 0,"interactionSetInterval")}h.dispose(),Qe.removeEventListener("pointermove",l),Qe.removeEventListener("pointerup",v),o=s.engine.restoreMouseStyle(o),e(),s.setCursorMode(u);var g=c&&r.on;g&&Qe.requestAnimationFrame((function(){return g({event:t})}))}};Qe.addEventListener("pointermove",l),Qe.addEventListener("pointerup",v)}(n,s,l,d())})),a.end()};vp(i,"pointerenter",(function(t,i){var n=u(t);t.getHighlightOnHover()&&(n.pan||n.rectangleZoom||n.restoreDefault||n.zoom)&&t.setHighlight(!0)})),vp(i,"pointerleave",(function(t,i){t.getHighlightOnHover()&&t.setHighlight(!1)})),vp(i,"wheel",(function(n,s){var a=Ru(!1!==i.qi.ih.rh),h=u(n),f=Vu(h.zoom,"wheel",s,r,e,o);f&&a.push((function(){return function(i,n,r){var e,o;wo(n),o="keep-start"===r.mode?i.getInterval().start:"keep-end"===r.mode?i.getInterval().end:"centered"===r.mode?i.Yi.mi((i.Yi.ei()+i.Yi.oi())/2):i.Po.getWidth(i.chart.translateCoordinate(n,{x:i,y:i})),i.zoom(o,Math.sign(n.deltaY)*(null!==(e=r.sensitivity)&&void 0!==e?e:1)),!1!==r.stopScroll&&i.setStopped(!0);var s=r.cursor;if(null!==s){var u="function"==typeof s?s(n.deltaY<0?"in":"out"):s;if(null!==u){u=null!=u?u:n.deltaY<0?t.MouseStyles.ZoomIn:t.MouseStyles.ZoomOut;var a=i.chart.engine.setMouseStyle(u);Qe.setTimeout((function(){i.chart.engine.restoreMouseStyle(a)}),500)}}var h=r.on;h&&Qe.requestAnimationFrame((function(){return h({event:n})}))}(n,s,f)}));var c=Vu(h.pan,"wheel",s,r,e,o);c&&a.push((function(){return function(i,n,r){var e;wo(n);var o=i.chart;!1!==r.stopScroll&&i.setStopped(!0),i.pan(30*Math.sign(n.deltaY)*i.Po.getWidth({x:-1,y:1})*(null!==(e=r.sensitivity)&&void 0!==e?e:1));var s=r.cursor;if(null!==s){s=null!=s?s:i.isY?t.MouseStyles.Vertical:t.MouseStyles.Horizontal;var u=o.engine.setMouseStyle(s);Qe.setTimeout((function(){i.chart.engine.restoreMouseStyle(u)}),500)}var a=r.on;a&&Qe.requestAnimationFrame((function(){return a({event:n})}))}(n,s,c)})),a.end()})),vp(i,"dblclick",(function(n,s){var a,h;if(!s.defaultPrevented){var f=u(n),c=Vu(f.restoreDefault,void 0,s,r,e,o);if(c&&c.doubleClick){wo(s),n.fit(null!==(a=c.animationsEnabled)&&void 0!==a?a:void 0,null!==(h=c.stopScroll)&&void 0!==h?h:void 0);var l=c.cursor;if(null!==l){l=null!=l?l:t.MouseStyles.ZoomOut;var v=i.engine.setMouseStyle(l);Qe.setTimeout((function(){i.engine.restoreMouseStyle(v)}),500)}var d=c.on;d&&Qe.requestAnimationFrame((function(){return d({event:s})}))}}}));var c=function(n){var u,a,h,f,c=s(),l=!1,v=!1,d=!1;try{for(var y=fp(Object.keys(c)),A=y.next();!A.done;A=y.next()){var b=A.value,p=c[b];if("object"==typeof p)if("axes"===b||"xAxis"===b||"yAxis"===b){var m=p;if("object"!=typeof m)continue;try{for(var g=(h=void 0,fp(Object.keys(m))),x=g.next();!x.done;x=g.next()){var S=m[x.value];"object"==typeof S&&("ctrl"in S&&void 0!==S.ctrl&&(l=!0),"shift"in S&&void 0!==S.shift&&(v=!0),"alt"in S&&void 0!==S.alt&&(d=!0))}}catch(t){h={error:t}}finally{try{x&&!x.done&&(f=g.return)&&f.call(g)}finally{if(h)throw h.error}}}else"ctrl"in p&&void 0!==p.ctrl&&(l=!0),"shift"in p&&void 0!==p.shift&&(v=!0),"alt"in p&&void 0!==p.alt&&(d=!0)}}catch(t){u={error:t}}finally{try{A&&!A.done&&(a=y.return)&&a.call(y)}finally{if(u)throw u.error}}e=n.ctrlKey,r=n.shiftKey,o=n.altKey,("Control"===n.key&&l||"Shift"===n.key&&v||"Alt"===n.key&&d)&&n.preventDefault();var w=Vu(c.restorePrevious,void 0,n,r,e,o);if(w&&w.code===n.code){wo(n);var M=i.getAxes().filter((function(t){var i=t.Re.chartInteractions;return!(!1===i||"object"==typeof i&&!1===i.restorePrevious)}));i.restorePreviousZoomState({whitelist:M});var C=w.on;C&&Qe.requestAnimationFrame((function(){return C({event:n})}))}var T=Vu(c.paginate,void 0,n,r,e,o);T&&function(i,n,r){var e,o,s,u,a=null!==(o=null===(e=r.forward)||void 0===e?void 0:e.code)&&void 0!==o?o:"ArrowLeft",h=null!==(u=null===(s=r.backward)||void 0===s?void 0:s.code)&&void 0!==u?u:"ArrowRight",f=n.code===a?1:n.code===h?-1:0;if(0!==f){var c=!1;if(i.forEachAxis((function(t){var i,n=t.Re.chartInteractions;!1===n||"object"==typeof n&&!1===n.paginate||t.isX&&!r.x||t.isY&&!r.y||(c=!0,!1!==r.stopScroll&&t.setStopped(!0),t.pan(-f*(t.Uo>t.Go?1:-1)*.5*t.Yi.si()*(null!==(i=r.sensitivity)&&void 0!==i?i:1)))})),c){wo(n);var l=r.cursor;if(null!==l){l=null!=l?l:!r.x&&r.y?t.MouseStyles.Vertical:r.x&&!r.y?t.MouseStyles.Horizontal:t.MouseStyles.Move;var v=i.engine.setMouseStyle(l);Qe.setTimeout((function(){i.engine.restoreMouseStyle(v)}),500)}var d=r.on;d&&Qe.requestAnimationFrame((function(){return d({event:n})}))}}}(i,n,T);var k=Vu(c.restoreDefault,void 0,n,r,e,o);if(k&&k.code===n.code){wo(n),i.getAxes().forEach((function(t){var i,n,r=t.Re.chartInteractions;!1===r||"object"==typeof r&&!1===r.restoreDefault||t.fit(null!==(i=k.animationsEnabled)&&void 0!==i?i:void 0,null!==(n=k.stopScroll)&&void 0!==n?n:void 0)}));var _=k.on;_&&Qe.requestAnimationFrame((function(){return _({event:n})}))}},l=function(t){e=t.ctrlKey,r=t.shiftKey,o=t.altKey},v=function(){e=!1,r=!1,o=!1};Qe.addEventListener("keydown",c),Qe.addEventListener("keyup",l),Qe.addEventListener("blur",v),i.addEventListener("dispose",(function(){Qe.removeEventListener("keydown",c),Qe.removeEventListener("keyup",l),Qe.removeEventListener("blur",v)}));var d=function(){return y(),A(),b(),function(){y=lp(i,"pointermove",a),A=lp(i,"pointerdown",h),b=vp(i,"pointerdown",f)}},y=lp(i,"pointermove",a),A=lp(i,"pointerdown",h),b=vp(i,"pointerdown",f);return{setUserInteractions:function(t){var i,r;if(void 0===t)n={pan:!1,zoom:!1,rectangleZoom:!1,restoreDefault:!1,restorePrevious:!1,axes:!1,xAxis:!1,yAxis:!1};else if(0===Object.keys(t).length)n={};else try{for(var e=fp(Object.keys(t)),o=e.next();!o.done;o=e.next()){var s=o.value;!1===t[s]||"object"==typeof t[s]?n[s]=t[s]:n[s]={}}}catch(t){i={error:t}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}},getUserInteractions:s}}(d);var b=Ap({},null==u?void 0:u.legend);return d.legend.setOptions(b),d}return yp(n,i),Object.defineProperty(n.prototype,"coordsAxis",{get:function(){return{x:this.getDefaultAxisX(),y:this.getDefaultAxisY()}},enumerable:!1,configurable:!0}),n.prototype.getSeries=function(){return this.ip},n.prototype.restorePreviousZoomState=function(t){if(this.ug.length<=1)return this;this.ug.pop();var i=this.ug[this.ug.length-1];return i?(this.HC=Qe.performance.now(),this.forEachAxis((function(n){if(!(null==t?void 0:t.whitelist)||t.whitelist.includes(n)){var r=i.get(n);r?n.Wi(r.start,r.end,null==t?void 0:t.animate,void 0!==(null==t?void 0:t.stopAxisAfter)?t.stopAxisAfter:r.stopped,"userSetInterval"):n.fit(null==t?void 0:t.animate,null==t?void 0:t.stopAxisAfter)}})),this):this},n.prototype.clearPreviousZoomStateHistory=function(){if(void 0!==this.Lg)this.ug.length=0;else for(;this.ug.length>1;)this.ug.unshift();return this},n.prototype.setCursor=function(t){return this.Og.setCursor(t),this},n.prototype.getCursor=function(){return this.Og.getCursor()},n.prototype.setCursorMode=function(t){return this.Og.setCursorMode(t),this},n.prototype.getCursorMode=function(){return this.Og.getCursorMode()},n.prototype.setCustomCursor=function(t){return this.Og.setCustomCursor(t),this},n.prototype.setCursorDynamicBehavior=function(t){return this.Og.zg(t),this},n.prototype.setCursorFormatting=function(t){return this.Og.setCursorFormatting(t),this},n.prototype.getCursorFormatting=function(){return this.Og.getCursorFormatting()},n.prototype.solveNearest=function(t,i){return void 0===i&&(i=this.getCursorMode()||"show-nearest"),this.Og.solveNearest(t,i,this.ip,this.zC)},n.prototype.addCursor=function(t){void 0===t&&(t=np);var i=this.CA(),n=t.qm(i,this.jC,this.jC,this.xA(i),this.en);return n.UM=!0,this.BA(n),n},n.prototype.getMinimumSize=function(){var t,i={x:0,y:0};i.x+=this.Zt.left+this.Zt.right+this.yu.left+this.yu.right,i.y+=this.Zt.top+this.Zt.bottom+this.yu.top+this.yu.bottom;var n=this.So.ds().al(),r=y(Ip(this.Ay||Fp,null!==(t=this.en.chartXYTitleMargin)&&void 0!==t?t:5),this.PA);return i.x+=n.x+r.left+r.right,i.y+=n.y+r.top+r.bottom,this.ZC&&(i.x+=this.ZC.left,i.x+=this.ZC.right,i.y+=this.ZC.top,i.y+=this.ZC.bottom),i.x+=xp.x,i.y+=xp.y,i},n.prototype.getLayout=function(){var t=this,i=this.JC;return this.qi.QC()||!i?new Promise((function(i){t.addEventListener("layoutchange",i,{once:!0}),t.JC=void 0})):new Promise((function(t){t(i)}))},n.prototype.addAxisX=function(i){var n,r,e,o=Yu(i),s=o.opposite,u=o.type;(e="linear"===u.type?this.wA.d1({dimension:"x",scale1DConstructor:Jr}):"linear-highPrecision"===u.type?this.wA.d1({dimension:"x",scale1DConstructor:Jr}).xi():this.wA.d1({dimension:"x",scale1DConstructor:eu}).Vn(u.base)).zt(this.jC.x.ai());var a,h,f,c=s?this.Sy:this.wy,l=new Pl(this.WC,this.Id,this.NA,this.jd,this.Bd,this.qi.Qn,e,this.jC.y,(f=function(){return l.iy()},qb(qb({},Rl),function(i){return qb({defaultDragMouseStyle:t.MouseStyles.Horizontal,getTitleTextRotation:function(){return 0}},Cd(i,(function(t,i){return t.xS(i)}),(function(t,i){return t.gS(i)}),(function(t){return t.Us().x})))}(f))),this,s?100:0,this.Dd,this.GC,this.en,this.lo,u);return void 0===(null==i?void 0:i.iParallel)&&void 0===(null==i?void 0:i.iStack)?(a=c.reduce((function(t,i){return Math.max(t,i.iParallel+1)}),0),h=0):(a=null!==(n=i.iParallel)&&void 0!==n?n:0,h=null!==(r=i.iStack)&&void 0!==r?r:0),c.push({axis:l,iStack:h,iParallel:a}),this.qi.vr(),this.Ct.Tt("axisadd",{axis:l}),this.Dg(l),l},n.prototype.addAxisY=function(i){var n,r,e,o=Yu(i),s=o.opposite,u=o.type;(e="linear"===u.type?this.wA.d1({dimension:"y",scale1DConstructor:Jr}):"linear-highPrecision"===u.type?this.wA.d1({dimension:"y",scale1DConstructor:Jr}).xi():this.wA.d1({dimension:"y",scale1DConstructor:eu}).Vn(u.base)).zt(this.jC.y.ai());var a,h,f,c=s?this.My:this.Cy,l=new Pl(this.WC,this.Id,this.NA,this.jd,this.Bd,this.qi.Qn,e,this.jC.x,(f=function(){return l.iy()},qb(qb({},Gl),function(i){return qb({defaultDragMouseStyle:t.MouseStyles.Vertical,getTitleTextRotation:function(t){return 90*t}},Cd(i,(function(t,i){return t.wS(i)}),(function(t,i){return t.SS(i)}),(function(t){return t.Us().y})))}(f))),this,s?100:0,this.Dd,this.GC,this.en,this.lo,u);return void 0===(null==i?void 0:i.iParallel)&&void 0===(null==i?void 0:i.iStack)?(a=c.reduce((function(t,i){return Math.max(t,i.iParallel+1)}),0),h=0):(a=null!==(n=i.iParallel)&&void 0!==n?n:0,h=null!==(r=i.iStack)&&void 0!==r?r:0),c.push({axis:l,iParallel:a,iStack:h}),this.qi.vr(),this.Ct.Tt("axisadd",{axis:l}),this.Dg(l),l},n.prototype.Dg=function(t){var i=this,n=function(){var n=Qe.performance.now();void 0!==i.HC&&n-i.HC<=1e3||t.getVisible()&&(i.KC=n+300)};Qe.requestAnimationFrame((function(){n()})),t.addEventListener("intervalchange",n),t.addEventListener("dispose",(function(){i.ug.forEach((function(i){i.delete(t)}))}))},n.prototype.swapAxes=function(t,i){var n=[this.wy,this.Cy,this.My,this.Sy],r=n.find((function(i){return void 0!==i.find((function(i){return i.axis===t}))})),e=n.find((function(t){return void 0!==t.find((function(t){return t.axis===i}))}));if(!r||!e)return this;if(r!==e)throw new Error("LightningChart JS ChartXY.swapAxes does not support swapping Axes that are on different sides.");var o=r.find((function(i){return i.axis===t})),s=r.find((function(t){return t.axis===i}));if(!o||!s)return this;var u=o.iParallel,a=o.iStack;o.iParallel=s.iParallel,o.iStack=s.iStack,s.iParallel=u,s.iStack=a,this.JC=void 0;var h=[];this.legend.getEntries().forEach((function(t){if(t.component&&t.component instanceof JA){var i=t.component.axisX,n=t.component.axisY,e=r.find((function(t){return t.axis===i||t.axis===n}));e&&h.push({iStack:e.iStack,entry:t.component})}}));var f=h.sort((function(t,i){return i.iStack-t.iStack})).map((function(t){return t.entry}));return this.Ar.forEach((function(t){return t.cA(f)})),this.qi.vr(),this},n.prototype.dispose=function(){return this.Og.Ft(),this.YC.Ft(),this.$g.Ft(),this.Id.Ft(),this.WC.forEach((function(t){return t.Ft()})),this.Bd.Ft(),this.jd.Ft(),this.sC().forEach((function(t){return t.dispose()})),Kv(this.jC),this.wy.slice().forEach((function(t){return t.axis.dispose()})),this.Cy.slice().forEach((function(t){return t.axis.dispose()})),this.My.slice().forEach((function(t){return t.axis.dispose()})),this.Sy.slice().forEach((function(t){return t.axis.dispose()})),this.ip.slice().forEach((function(t){t.dispose()})),i.prototype.dispose.call(this)},n.prototype.getDefaultAxisX=function(){var t;return null===(t=pp(pp([],bp(this.wy),!1),bp(this.Sy),!1).find((function(t){return t.axis.getVisible()})))||void 0===t?void 0:t.axis},Object.defineProperty(n.prototype,"axisX",{get:function(){return this.getDefaultAxisX()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"xAxis",{get:function(){return this.getDefaultAxisX()},enumerable:!1,configurable:!0}),n.prototype.getDefaultAxisY=function(){var t;return null===(t=pp(pp([],bp(this.Cy),!1),bp(this.My),!1).find((function(t){return t.axis.getVisible()})))||void 0===t?void 0:t.axis},Object.defineProperty(n.prototype,"axisY",{get:function(){return this.getDefaultAxisY()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"yAxis",{get:function(){return this.getDefaultAxisY()},enumerable:!1,configurable:!0}),n.prototype.getDefaultAxes=function(){return[this.getDefaultAxisX(),this.getDefaultAxisY()]},n.prototype.getAxes=function(){for(var i=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var e=n&&n.length>0?new Set(n):Mp;return eo(Array.from(e).map((function(n){switch(n){default:case t.AxisPosition.Top:return i.Sy.slice().sort((function(t,i){return t.iStack-i.iStack})).map((function(t){return t.axis}));case t.AxisPosition.Bottom:return i.wy.slice().sort((function(t,i){return t.iStack-i.iStack})).map((function(t){return t.axis}));case t.AxisPosition.Left:return i.Cy.slice().sort((function(t,i){return t.iStack-i.iStack})).map((function(t){return t.axis}));case t.AxisPosition.Right:return i.My.slice().sort((function(t,i){return t.iStack-i.iStack})).map((function(t){return t.axis}))}})))},n.prototype.qC=function(t){var i;return this.forEachAxisX((function(n){i=t===n?"x":i})),this.forEachAxisY((function(n){i=t===n?"y":i})),i},n.prototype.forEachAxisX=function(t){this.wy.forEach((function(i,n,r){return t(i.axis,n,r.map((function(t){return t.axis})))})),this.Sy.forEach((function(i,n,r){return t(i.axis,n,r.map((function(t){return t.axis})))}))},n.prototype.forEachAxisY=function(t){this.Cy.forEach((function(i,n,r){return t(i.axis,n,r.map((function(t){return t.axis})))})),this.My.forEach((function(i,n,r){return t(i.axis,n,r.map((function(t){return t.axis})))}))},n.prototype.setTitlePosition=function(t){return this.Ay=t,this.Ar.forEach((function(t){return t.br()})),this.qi.vr(),this},n.prototype.getTitlePosition=function(){return this.Ay},n.prototype.Le=function(t,n){var r,e,s,u,a,h,f,l=this;void 0===n&&(n=!1),i.prototype.Le.call(this,t);var v=Qe.performance.now();void 0!==this.KC&&this.KC<=v&&(this.hg(),this.KC=void 0);try{for(var d=mp(this.ip),A=d.next();!A.done;A=d.next())A.value.$A()}catch(t){r={error:t}}finally{try{A&&!A.done&&(e=d.return)&&e.call(d)}finally{if(r)throw r.error}}try{for(var b=mp(this.ip),p=b.next();!p.done;p=b.next())p.value.Le()}catch(t){s={error:t}}finally{try{p&&!p.done&&(u=b.return)&&u.call(b)}finally{if(s)throw s.error}}var m=Ko(this.ip.map((function(t){return t.Dh()}))),g=new Set(m.map((function(t){return t.kC})));if(1===g.size){var x=Array.from(g)[0],S="x"===x?[this.wy,this.Sy]:[this.Cy,this.My],w="y"===x?[this.wy,this.Sy]:[this.Cy,this.My];S.forEach((function(t){return t.forEach((function(t){return t.axis.Ys()}))})),w.forEach((function(t){return t.forEach((function(t){return t.axis.Ys()}))}))}else this.Cy.forEach((function(t){return t.axis.Ys()})),this.wy.forEach((function(t){return t.axis.Ys()})),this.Sy.forEach((function(t){return t.axis.Ys()})),this.My.forEach((function(t){return t.axis.Ys()}));var M=!1;this.forEachAxis((function(t){(t.Js()||t.Qs())&&(M=!0)}));var C=!this.DC&&M,T=new Set(this.getAxes().map((function(t){return t.getStackIndex()}))).size>1;this.Og.Le(C,T?this.ip.sort((function(t,i){return i.axisY.getStackIndex()-t.axisY.getStackIndex()})):this.ip,this.zC,{afterCursorPointedAt:function(t){var i=l.qi.Qa();if(t.length>1&&i){var n=l.qi.Fh(i);l.Og.$C.Gm({x:n.engineX,y:n.engineY},l.qi.Yi)}},overrideCursorPositions:function(t,i){return t.map((function(t){return t.multiHit?t.multiHit.map((function(i){return Ap(Ap({},t.cursorPosition),{pointMarker:i})})):[t.cursorPosition]})).flat()}});var k=function(t,i,n,r,e){void 0===e&&(e={});var o=Dp(t),s=0,u=[],a=o.parallels.map((function(t){var o=t.stacks.reduce((function(t,i){var n,r;return t+(i.axis.getVisible()?(null!==(n=i.axis.by)&&void 0!==n?n:0)+(null!==(r=i.axis.my)&&void 0!==r?r:0):0)}),0),a=t.stacks.reduce((function(t,i){return t+(i.axis.getVisible()&&"pixels"in i.axis.nd?i.axis.nd.pixels:0)}),0),h=i-o-a,f=0,c=t.stacks.map((function(n){var o,a,c=n.axis,l=c.getVisible(),v=Math.max(i-f,0),d=Math.min(l?"pixels"in c.nd?c.nd.pixels:c.nd.relative/t.sumRelativeSize*h:0,v),y=t.stacks.length,A=Ap(Ap({},e),{availableSpace:i,stack:n,axisLength:d,axisLengthOffset:f,axisThicknessOffset:s,stackAxisCount:y}),b=r(A,u);return u.push(Ap(Ap({},A),b)),l&&(f+=d+(null!==(o=c.by)&&void 0!==o?o:0)+(null!==(a=c.my)&&void 0!==a?a:0)),Ap(Ap({},b),{stack:n,axis:c})})),l=c.reduce((function(t,i){return i.axis.getVisible()?Math.max(t,i.oy):t}),0),v=c.reduce((function(t,i){return Math.max(t,i.ny)}),0);return c.forEach((function(t){t.ny=v})),s+=l*n,Ap(Ap({},t),{stacks:c})}));return{parallels:a,thicknessTotal:Math.abs(s)}},_=this.getTitleFillStyle()!==Cu&&this.getTitle().length>0,O=_?this.So.ds().al():{x:0,y:0},F=y(Ip(this.Ay,null!==(f=this.en.chartXYTitleMargin)&&void 0!==f?f:5),this.PA),I=_?jp(this.Ay,O,F):os,j=this.Ar.reduce((function(t,i){var n=i.ds(I,l.yu);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0}),B=this.jC.x.getCellSize()-(this.yu.left+this.yu.right+I.left+I.right)-j.left-j.right,D=this.jC.y.getCellSize()-(this.yu.top+this.yu.bottom+I.bottom+I.top)-j.top-j.bottom,L=new Map,E=function(t,i){var n=!!i.find((function(t){return!0===t.updatedTicks})),r={physicalAxisSize:t.axisLength,uy:t.axisLength,tT:t.axisLengthOffset,hy:t.axisThicknessOffset,anyPreviousAxisUpdated:n,gy:t.stackAxisCount};return t.stack.axis.ds(r)},P=k(this.Cy,D,-1,E),z=k(this.My,D,1,E),N=k(this.wy,B,-1,E),V=k(this.Sy,B,1,E),R=[this.yu.left+I.left+P.thicknessTotal+j.left,this.yu.right+I.right+z.thicknessTotal+j.right],G=[this.yu.bottom+N.thicknessTotal+I.bottom+j.bottom,this.yu.top+I.top+V.thicknessTotal+j.top],U=this.jC.x.getCellSize()-(R[0]+R[1]),Y=this.jC.y.getCellSize()-(G[0]+G[1]);this.jC.x.Et(0,U),this.jC.y.Et(0,Y),this.jC.x.ri(R),this.jC.y.ri(G),i.prototype.DA.call(this);var W=pp(pp(pp(pp([],bp(P.parallels),!1),bp(N.parallels),!1),bp(z.parallels),!1),bp(V.parallels),!1).map((function(t){return t.stacks})).flat(),X=function(t){var i,n,r=t.stack.axis,e=W.find((function(t){return t.axis===r}));if(!e)throw new Error("LightningChart JS unexpected runtime error");var o=r.getVisible()?t.margins[0]+t.axisLengthOffset+(null!==(i=r.by)&&void 0!==i?i:0):0,s=r.getVisible()?t.margins[1]+(t.availableSpace-t.axisLengthOffset)-t.axisLength-(null!==(n=r.by)&&void 0!==n?n:0):0;r.Yi.ri([o,s]);var u=t.stack.axis.Le(e);return L.set(t.stack.axis,u),e},H=B-(P.thicknessTotal+z.thicknessTotal),Z=D-(N.thicknessTotal+V.thicknessTotal);k(this.Cy,Z,-1,X,{margins:G}),k(this.My,Z,1,X,{margins:G}),k(this.wy,H,-1,X,{margins:R}),k(this.Sy,H,1,X,{margins:R}),this.ZC={left:P.thicknessTotal,top:V.thicknessTotal,right:z.thicknessTotal,bottom:N.thicknessTotal};var J={chartWidth:this.jC.x.getCellSize(),chartHeight:this.jC.y.getCellSize(),viewportWidth:U,viewportHeight:Y,margins:{left:R[0],right:R[1],bottom:G[0],top:G[1]},axes:L},Q=this.JC;if(n)this.Ct.Tt("layoutchange",Ap(Ap({},J),{userChangedLayout:function(){}}));else if(!Q||Math.abs(Q.chartWidth-J.chartWidth)>=1||Math.abs(Q.chartHeight-J.chartHeight)>=1||Math.abs(Q.viewportWidth-J.viewportWidth)>=1||Math.abs(Q.viewportHeight-J.viewportHeight)>=1||this.getAxes().find((function(t){var i,n,r,e,o,s,u,a,h,f,c,l,v=Q.axes.get(t),d=J.axes.get(t);if(Math.abs((null!==(i=null==v?void 0:v.width)&&void 0!==i?i:0)-(null!==(n=null==d?void 0:d.width)&&void 0!==n?n:0))>=1||Math.abs((null!==(r=null==v?void 0:v.height)&&void 0!==r?r:0)-(null!==(e=null==d?void 0:d.height)&&void 0!==e?e:0))>=1||Math.abs((null!==(o=null==v?void 0:v.left)&&void 0!==o?o:0)-(null!==(s=null==d?void 0:d.left)&&void 0!==s?s:0))>=1||Math.abs((null!==(u=null==v?void 0:v.right)&&void 0!==u?u:0)-(null!==(a=null==d?void 0:d.right)&&void 0!==a?a:0))>=1||Math.abs((null!==(h=null==v?void 0:v.bottom)&&void 0!==h?h:0)-(null!==(f=null==d?void 0:d.bottom)&&void 0!==f?f:0))>=1||Math.abs((null!==(c=null==v?void 0:v.top)&&void 0!==c?c:0)-(null!==(l=null==d?void 0:d.top)&&void 0!==l?l:0))>=1)return t}))){var K=!1;if(this.Ct.Tt("layoutchange",Ap(Ap({},J),{userChangedLayout:function(){K=!0}})),this.mA||K)return this.engine.layout(),this.RC({width:this.uiScale.ai().x,height:this.uiScale.ai().y,engineWidth:this.qi.Yi.ai().x,engineHeight:this.qi.Yi.ai().y}),this.mA=!0,void this.Le(t,!0)}this.JC=J,this.sp.Ee(o(0,0)).zt(o(U,Y)),this.up.Ee(o(0,0)).zt(o(U,Y));var q=Bp(this.Ay,O,F,this.uiScale.Gi(),this.yu,R,G,j);this.So.Ee(q.position).Ks(q.margin).pf(q.horizontalAlignment).xf(q.verticalAlignment),this.Ar.forEach((function(t){return t.Le(I,l.yu)}));var $=c(this.jC.x.ei(),this.jC.y.ei(),this.jC.x.si(),this.jC.y.si());this.$g.lg($),this.jd.lg($),this.Bd.lg($),this.AA&&this.AA();try{for(var tt=mp(this.ip),it=tt.next();!it.done;it=tt.next())it.value.tb()}catch(t){a={error:t}}finally{try{it&&!it.done&&(h=tt.return)&&h.call(tt)}finally{if(a)throw a.error}}},n.prototype.IC=function(t){var i=Ko(this.ip.map((function(t){return t.Dh()}))),n=new Set(i.map((function(t){return t.kC})));if(1===n.size){var r=Array.from(n)[0],e="x"===r?[this.wy,this.Sy]:[this.Cy,this.My],o="y"===r?[this.wy,this.Sy]:[this.Cy,this.My];e.forEach((function(i){return i.forEach((function(i){var n=t.get(i.axis);n&&i.axis.fit(n.animate,n.stopAxisAfter)}))})),i.forEach((function(t){return t._C()})),o.forEach((function(i){return i.forEach((function(i){var n=t.get(i.axis);n&&(i.axis.getScrollStrategy()&&void 0===i.axis.getDefaultInterval()?i.axis.setStopped(!1):i.axis.fit(n.animate,n.stopAxisAfter))}))}))}else t.forEach((function(t,i){return i.fit(null==t?void 0:t.animate,null==t?void 0:t.stopAxisAfter)}))},n.prototype.Dt=function(){for(var t=0;t<this.wy.length;t+=1)this.wy[t].axis.Dt();for(t=0;t<this.Sy.length;t+=1)this.Sy[t].axis.Dt();for(t=0;t<this.Cy.length;t+=1)this.Cy[t].axis.Dt();for(t=0;t<this.My.length;t+=1)this.My[t].axis.Dt();return i.prototype.Dt.call(this)},n.prototype.UC=function(t){if(this.BC.has(t))return this.BC.get(t);throw new Error("No attach handler for axis Make sure that passed axes definitely belong to this chart and that they haven't been disposed of.")},n.prototype.addPointLineAreaSeries=function(t){var i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Tp(i,n);var r=new hp(this,this.rp,this.$g,i,n,this.UC(i),this.UC(n),this.CA,this.en,this.qi.Qn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ip.length,t);return this.ap(r,t),r},n.prototype.addLineSeries=function(t){return this.addPointLineAreaSeries(t).setAreaFillStyle(Cu).setPointFillStyle(Cu)},n.prototype.addPointSeries=function(t){return this.addPointLineAreaSeries(t).setAreaFillStyle(Cu).setStrokeStyle(Pe)},n.prototype.addPointLineSeries=function(t){return this.addPointLineAreaSeries(t).setAreaFillStyle(Cu)},n.prototype.addStepSeries=function(t){return this.addPointLineAreaSeries(t).setAreaFillStyle(Cu).setCurvePreprocessing({type:"step"})},n.prototype.addSplineSeries=function(t){return this.addPointLineAreaSeries(t).setAreaFillStyle(Cu).setCurvePreprocessing({type:"spline"})},n.prototype.addAreaSeries=function(t){return this.addPointLineAreaSeries(t).setPointFillStyle(Cu)},n.prototype.addRectangleSeries=function(t){var i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Tp(i,n);var r=new vb(this,this.rp,this.$g,i,n,this.UC(i),this.UC(n),this.CA,this.en,this.qi.Qn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ip.length,t);return this.ap(r,t),r},n.prototype.addPolygonSeries=function(t){var i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY(),r=new hb(this,this.rp,this.$g,i,n,this.UC(i),this.UC(n),this.CA,this.en,this.qi.Qn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ip.length);return this.ap(r,t),r},n.prototype.addSegmentSeries=function(t){var i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Tp(i,n);var r=new bb(this,this.rp,this.$g,i,n,this.UC(i),this.UC(n),this.CA,this.en,this.qi.Qn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ip.length);return this.ap(r,t),r},n.prototype.addEllipseSeries=function(t){var i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Tp(i,n);var r=new ob(this,this.rp,this.$g,i,n,this.UC(i),this.UC(n),this.CA,this.en,this.qi.Qn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ip.length);return this.ap(r,t),r},n.prototype.addBoxSeries=function(t){var i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Tp(i,n);var r=t&&t.dimensionStrategy?t.dimensionStrategy:Rl,e=new ib(this,this.rp,this.$g,i,n,this.UC(i),this.UC(n),this.CA,r,this.en,this.qi.Qn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ip.length);return this.ap(e,t),e},n.prototype.addTextSeries=function(t){var i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Tp(i,n);var r=new Sb(this,this.rp,this.$g,i,n,this.UC(i),this.UC(n),this.CA,this.en,this.qi.Qn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ip.length);return this.ap(r,t),r},n.prototype.addHeatmapGridSeries=function(t){var i,n=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),r=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();if(void 0!==t.heatmapDataType&&"intensity"!==t.heatmapDataType)throw new Error("Unsupported Heatmap Grid heatmapDataType: '".concat(t.heatmapDataType,"'"));return i=new Bb(this,this.rp,this.$g,n,r,this.UC(n),this.UC(r),this.CA,t,this.en,this.qi.Qn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ip.length),this.ap(i,t),i},n.prototype.addHeatmapScrollingGridSeries=function(t){var i,n=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),r=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();if(void 0!==t.heatmapDataType&&"intensity"!==t.heatmapDataType)throw new Error("Unsupported Heatmap Grid heatmapDataType: '".concat(t.heatmapDataType,"'"));return i=new Pb(this,this.rp,this.$g,n,r,this.UC(n),this.UC(r),this.CA,t,this.en,this.qi.Qn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ip.length),this.ap(i,t),i},n.prototype.addOHLCSeries=function(t){var i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Tp(i,n);var r=new(t&&t.type?t.type:Kb.Candlesticks)(this,this.rp,this.$g,i,n,this.UC(i),this.UC(n),this.CA,this.en,this.qi.Qn);return this.ap(r,t),r},n.prototype.addOnScreenMenu=function(t,i){return new ep(this.SA,t,this,i)},n.prototype.setZoomingRectangleFillStyle=function(t){return this.EC="function"==typeof t?t(this.EC):t,this.qi.vr(),this},n.prototype.getZoomingRectangleFillStyle=function(){return this.EC},n.prototype.setZoomingRectangleStrokeStyle=function(t){return this.PC="function"==typeof t?t(this.PC):t,this.qi.vr(),this},n.prototype.getZoomingRectangleStrokeStyle=function(){return this.PC},n.prototype.pan=function(t){this.forEachAxisX((function(i){i.setStopped(!0).pan(t.x)})),this.forEachAxisY((function(i){i.setStopped(!0).pan(t.y)}))},n.prototype.zoom=function(t,i){this.forEachAxis(Cp),this.forEachAxisX((function(n){n.zoom(n.Yi.mi(t.x),i.x)})),this.forEachAxisY((function(n){n.zoom(n.Yi.mi(t.y),i.y)}))},n.prototype.setAnimationsEnabled=function(t){return i.prototype.setAnimationsEnabled.call(this,t),this.forEachAxis((function(i){return i.setAnimationsEnabled(t)})),this},n.prototype.lA=function(){var t=[];return this.forEachAxis((function(i){return i.Kd((function(i){return t.push(i)}))})),i.prototype.lA.call(this).concat(t)},n.prototype.sC=function(){return this.LC},n.prototype.Me=function(){return this.GA(this.$g)},n.prototype.setCursorEnabledDuringAxisAnimation=function(t){return this.DC=t,this},n.prototype.getCursorEnabledDuringAxisAnimation=function(){return this.DC},n.prototype.forEachAxis=function(t){return this.forEachAxisX(t),this.forEachAxisY(t),this},n.prototype.translateCoordinate=function(t,i,n){if(n){var r=t,e=i,o=Ul(e)?e:Pu(e)?this.Ud:void 0;if(o&&Lu(n)){var s=ee(r,o,this.qi.Yi);return this.qi.Ih({engineX:s.x,engineY:s.y})}if(o&&Pu(n))return ee(r,o,this.Ud);if(o&&Ul(n))return ee(r,o,n)}else{if(r=t,Pu(i))return s=this.qi.Fh(r),ee({x:s.engineX,y:s.engineY},this.qi.Yi,this.Ud);if(Ul(i)){var u=i;return s=this.qi.Fh(r),ee({x:s.engineX,y:s.engineY},this.qi.Yi,u)}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")},n.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n),"layoutchange"===t&&this.JC&&i(Ap(Ap({},this.JC),{userChangedLayout:function(){}}))},n.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},n.prototype.setUserInteractions=function(t){return this.Fg.setUserInteractions(t),this},n.prototype.getUserInteractions=function(){return this.Fg.getUserInteractions()},n}(Ud);t.ChartXYTitlePositionOptions=void 0,(kp=t.ChartXYTitlePositionOptions||(t.ChartXYTitlePositionOptions={})).CenterTop="center-top",kp.RightTop="right-top",kp.LeftTop="left-top",kp.CenterBottom="center-bottom",kp.RightBottom="right-bottom",kp.LeftBottom="left-bottom",kp.SeriesCenterTop="series-center-top",kp.SeriesRightTop="series-right-top",kp.SeriesLeftTop="series-left-top",kp.SeriesCenterBottom="series-center-bottom",kp.SeriesRightBottom="series-right-bottom",kp.SeriesLeftBottom="series-left-bottom";var Op,Fp=t.ChartXYTitlePositionOptions.CenterTop,Ip=function(t,i){switch(t){case"center-top":case"series-center-bottom":return{left:0,right:0,top:0,bottom:i};case"left-top":return{left:20,right:0,top:0,bottom:i};case"right-top":return{left:0,right:20,top:0,bottom:i};case"center-bottom":return{left:0,right:0,top:0,bottom:0};case"left-bottom":return{left:20,right:0,top:0,bottom:0};case"right-bottom":return{left:0,right:20,top:0,bottom:0};case"series-center-top":return{left:0,right:0,top:i,bottom:0};case"series-left-top":return{left:i,right:0,top:i,bottom:0};case"series-right-top":return{left:0,right:i,top:i,bottom:0};case"series-left-bottom":return{left:i,right:0,top:0,bottom:i};case"series-right-bottom":return{left:0,right:i,top:0,bottom:i}}return $o(0,"Unexpected ChartXY title position selection ".concat(t))},jp=function(t,i,n){switch(t){case"center-top":case"left-top":case"right-top":return{top:i.y+n.top+n.bottom,right:0,bottom:0,left:0};case"center-bottom":case"left-bottom":case"right-bottom":return{bottom:i.y+n.top+n.bottom,right:0,left:0,top:0};default:return os}},Bp=function(t,i,n,r,e,o,s,u){var a=(n.left-n.right)*r.x,h=(n.bottom-n.top)*r.y,f={top:0,left:u.left+e.left,right:u.right+e.right,bottom:0};switch(t){case"center-top":return{horizontalAlignment:0,verticalAlignment:1,position:{x:50+a,y:100-(e.top+n.top)*r.y},margin:f};case"left-top":return{horizontalAlignment:-1,verticalAlignment:1,position:{x:a,y:100-(e.top-n.top)*r.y},margin:f};case"right-top":return{horizontalAlignment:1,verticalAlignment:1,position:{x:100+a,y:100-(e.top-n.top)*r.y},margin:f};case"center-bottom":return{horizontalAlignment:0,verticalAlignment:-1,position:{x:50+a,y:(e.bottom+n.bottom)*r.y},margin:f};case"left-bottom":return{horizontalAlignment:-1,verticalAlignment:-1,position:{x:a,y:(e.bottom+n.bottom)*r.y},margin:f};case"right-bottom":return{horizontalAlignment:1,verticalAlignment:-1,position:{x:100+a,y:(e.bottom+n.bottom)*r.y},margin:f};case"series-center-top":return{horizontalAlignment:0,verticalAlignment:1,position:{x:50+a,y:100-s[1]*r.y+h},margin:f};case"series-left-top":return{horizontalAlignment:-1,verticalAlignment:1,position:{x:o[0]*r.x+a,y:100-s[1]*r.y+h},margin:os};case"series-right-top":return{horizontalAlignment:1,verticalAlignment:1,position:{x:100-o[1]*r.x+a,y:100-s[1]*r.y+h},margin:os};case"series-center-bottom":return{horizontalAlignment:0,verticalAlignment:-1,position:{x:50,y:s[0]*r.y+h},margin:f};case"series-left-bottom":return{horizontalAlignment:-1,verticalAlignment:-1,position:{x:o[0]*r.x+a,y:s[0]*r.y+h},margin:os};case"series-right-bottom":return{horizontalAlignment:1,verticalAlignment:-1,position:{x:100-o[1]*r.x+a,y:s[0]*r.y+h},margin:os}}return $o(0,"Unexpected ChartXY title position selection ".concat(t))},Dp=function(t){var i=[];t.forEach((function(t,n){var r=i.find((function(i){return i.iParallel===t.iParallel}));r?(r.stacks.push(Ap({},t)),r.stacks.sort((function(t,i){return t.iStack-i.iStack}))):i.push({iParallel:t.iParallel,stacks:[Ap({},t)]})}));var n=i.map((function(t){var i=t.stacks.reduce((function(t,i){return t+(i.axis.getVisible()&&"relative"in i.axis.nd?i.axis.nd.relative:0)}),0);return Ap(Ap({},t),{sumRelativeSize:i})}));return n.sort((function(t,i){return t.iParallel-i.iParallel})),{parallels:n}},Lp=function(t,i,n){var r,e=Array.from(new Set(n.map((function(t){return t.series.nr()})))),o=1===e.length&&void 0!==e[0]?e[0]:void 0,s="ProgressiveY"===o||"RegressiveY"===o?{progressiveDimension:i.axisY.getTitle()||void 0,progressiveAxis:i.axisY,valueDimension:i.axisX.getTitle()||void 0,hitValueAxis:function(t){return t.axisX},value:function(t){return t.x},position:function(t){return t.y}}:{progressiveDimension:i.axisX.getTitle()||void 0,progressiveAxis:i.axisX,valueDimension:i.axisY.getTitle()||void 0,hitValueAxis:function(t){return t.axisY},value:function(t){return t.y},position:function(t){return t.x}};return se(i)?yS(i,[[{component:i.series,componentColor:AS(i),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[t.getDefaultAxisX().getTitle()||"X","",{text:Uu(i.axisX.formatValue(i.x),i.axisX),font:{weight:"bold"}}],[t.getDefaultAxisY().getTitle()||"Y","",{text:Uu(i.axisY.formatValue(i.y),i.axisY),font:{weight:"bold"}}],void 0!==i.intensity?["Value","",{text:Uu(i.lut?xu(i.lut,i.intensity):i.intensity.toFixed(2),null===(r=i.lut)||void 0===r?void 0:r.units),font:{weight:"bold"}}]:[]]):o?pp([[{text:Uu(s.progressiveAxis.formatValue(s.position(i)),s.progressiveAxis),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}]],bp(n.map((function(t){return t.multiHit?yS(t,[[{component:t.series,componentColor:AS(t)},""],pp(pp([],bp(s.valueDimension?["".concat(s.valueDimension,"1"),""]:[]),!1),[{text:Uu(s.hitValueAxis(t).formatValue(s.value(t.multiHit[0])),s.hitValueAxis(t)),font:{weight:"bold"}}],!1),pp(pp([],bp(s.valueDimension?["".concat(s.valueDimension,"2"),""]:[]),!1),[{text:Uu(s.hitValueAxis(t).formatValue(s.value(t.multiHit[1])),s.hitValueAxis(t)),font:{weight:"bold"}}],!1)]):yS(t,[[{component:t.series,componentColor:AS(t)},"",{text:Uu(s.hitValueAxis(t).formatValue(s.value(t)),s.hitValueAxis(t)),font:{weight:"bold"}}]])})).flat()),!1):n.map((function(i){return yS(i,[[{component:i.series,componentColor:AS(i),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],pp(pp([],bp(s.progressiveDimension?["".concat(s.progressiveDimension),""]:[]),!1),[{text:Uu(s.progressiveAxis.formatValue(s.position(i)),s.progressiveAxis),font:{weight:"bold"}}],!1),pp(pp([],bp(s.valueDimension?["".concat(s.valueDimension),""]:[]),!1),[{text:Uu(s.hitValueAxis(i).formatValue(s.value(i)),s.hitValueAxis(i)),font:{weight:"bold"}}],!1)])})).flat()},Ep=function(){return Ep=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Ep.apply(this,arguments)},Pp=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},zp=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},Np=function(){function i(t,i,n,r,e,o,s){var u,a=this;this.coordsRelative="relative",this.coordsClient="client",this.iT=[],this.nT=new Map,this.ip=new Map,this.rT=!0,this.eT=new Set,this.oT=function(){a.sT.qi.vr()},this.uT=function(t,i,n){0!==a.ip.size&&void 0!==zp([],Pp(a.ip.values()),!1).find((function(t){return!0===t.series.getVisible()}))||a.aT.Wi(i,n,!1,!1,"zoomBandChartOther"),a.sT.qi.vr()},this.hT=!0,this.Ct=new we,i.qi.qa(gf.ia),this.SA=t,this.iA=(null==o?void 0:o.orientation)||"x",this.fT=void 0!==(null==o?void 0:o.useSharedValueAxis)&&o.useSharedValueAxis,this.cT=r,this.Ou="x"===this.iA?Rl:Gl;var h=Ep(Ep({},o),{defaultAxisX:this.Ou.getWidth({x:null==o?void 0:o.defaultAxis,y:void 0}),defaultAxisY:this.Ou.getHeight({x:null==o?void 0:o.defaultAxis,y:void 0}),legend:null!==(u=null==o?void 0:o.legend)&&void 0!==u?u:{addEntriesAutomatically:!1}});this.sT=new _p(t,i,n,io,e,h,s).setTitle("Zoom Band Chart").setUserInteractions(void 0).setCursorMode(void 0),this.engine=this.sT.engine;var f=this.sT.getDefaultAxisX().setPointerEvents(!1),c=this.sT.getDefaultAxisY().setPointerEvents(!1);this.aT=this.Ou.getWidth({x:f,y:c}).setScrollStrategy(zh.fitting()).setAnimationScroll(!1).setStrokeStyle(Pe).setTickStrategy(Nh.Empty),(null==o?void 0:o.useSharedValueAxis)?this.lT=this.Ou.getHeight({x:f,y:c}):this.Ou.getHeight({x:f,y:c}).dispose();var l=this.getTheme().zoomBandChartDefocusOverlayFillStyle||new _u({color:this.getTheme().isDark?Mr(0,0,0,180):Mr(255,255,255,180)});this.vT=[this.sT.Id.De(this.aT.Rd).Be(l).je(Pe),this.sT.Id.De(this.aT.Rd).Be(l).je(Pe)];var v=this.sT.Id.ly(this.aT.Rd).Ye(this.getTheme().zoomBandChartSplitterStrokeStyle||this.getTheme().chartXYSeriesBackgroundStrokeStyle);this.dT={collection:v,members:new Array(5).fill(0).map((function(t){return v.pa()}))};var d=this.getTheme(),y="function"==typeof d.zoomBandChartKnobFillStyle?Je({resourcesBaseUrl:this.SA.$r,styleFactory:d.zoomBandChartKnobFillStyle,apply:function(t){return a.setKnobFillStyle(t)}}):d.zoomBandChartKnobFillStyle||Cu;this.yT=[this.sT.Id.De(this.sT.Ud).Be(y).je(Pe),this.sT.Id.De(this.sT.Ud).Be(y).je(Pe)],this.AT=this.getTheme().zoomBandChartKnobSize||{x:0,y:0},this.bT()}return Object.defineProperty(i.prototype,"chart",{get:function(){return this.sT},enumerable:!1,configurable:!0}),i.prototype.setUserInteractions=function(t){return this.Re=void 0===t?{pan:{drag:!1,click:!1},zoom:{wheel:void 0,dragKnob:!1}}:t,this},i.prototype.getUserInteractions=function(){return Ze({pan:{drag:!0,click:!0},zoom:{wheel:{},dragKnob:!0}},this.Re)},i.prototype.add=function(t){var i=this;this.eT.has(t.chart)||(this.eT.add(t.chart),t.chart.addEventListener("layoutchange",this.oT));var n=this.iT.map((function(t){return t.axis})),r="x"===this.iA?t.axisX:t.axisY;if(!n.includes(r)){var e=function(t){i.uT(r,t.start,t.end)};r.addEventListener("intervalchange",e),this.iT.push({axis:r,deattach:function(){r.removeEventListener("intervalchange",e)}}),this.aT.ss(r.es(),r.getTickStrategy()),this.pT&&this.pT.remove(),this.pT=oe.apply(void 0,zp([],Pp(this.iT.map((function(t){return t.axis}))),!1))}var o,s=this.Ou.getHeight({x:t.axisX,y:t.axisY});if(this.fT)o=this.lT;else{var u=this.nT.get(s);u?o=u:(o=this.Ou.getHeight({x:this.sT.addAxisX.bind(this.sT),y:this.sT.addAxisY.bind(this.sT)})({type:s.No.type}),this.mT(o)),this.nT.set(s,o)}var a,h=this.Ou.getWidth({x:this.aT,y:o}),f=this.Ou.getHeight({x:this.aT,y:o}),c=[];if(t instanceof hp)(a=this.sT.addPointLineAreaSeries(Ep(Ep({},t.ih),{axisX:h,axisY:f,xAxis:h,yAxis:f})).setStrokeStyle(t.getStrokeStyle()).setAreaFillStyle(t.getAreaFillStyle()).setPointFillStyle(t.getPointFillStyle()).setPointAlignment(t.getPointAlignment()).setPointRotation(t.getPointRotation()).setPointShape(t.getPointShape()).setPointSize(t.getPointSize()).setCurvePreprocessing(t.getCurvePreprocessing())).setDataSet(t.TC(),t.getDataMapping());else if(t instanceof Xb){var l=this.sT.addPointLineAreaSeries({axisX:h,axisY:f,xAxis:h,yAxis:f});!function(t,i){var n=function(t){if(0!==t.length)if("x"in t[0]){var n=t;i.appendJSON(n)}else{n=t;for(var r=[],e=0;e<n.length;e+=1){var o=n[e];r.push({x:o[0],y:o[4]})}i.appendJSON(r)}},r=t.Qw();n(r);var e=function(t){n(t.data)},o=function(){i.clear()};t.addEventListener("dataadd",e),t.addEventListener("dataclear",o),c.push((function(){t.removeEventListener("dataadd",e),t.removeEventListener("dataclear",o)}))}(t,l),a=l}else if(t instanceof Yb){var v=this.sT.addAreaRangeSeries({axisX:h,axisY:f,xAxis:h,yAxis:f}).setLowFillStyle(t.getLowFillStyle()).setHighFillStyle(t.getHighFillStyle()).setLowStrokeStyle(t.getLowStrokeStyle()).setHighStrokeStyle(t.getHighStrokeStyle()).add(t.Qw()),d=function(t){return v.add(t.data)};t.addEventListener("dataadd",d),c.push((function(){return t.removeEventListener("dataadd",d)})),a=v;var y=function(t){return v.clear()};t.addEventListener("dataclear",y),c.push((function(){t.removeEventListener("dataclear",y)}))}else{if(!(t instanceof jb))throw new Error("LightningChart JS Zoom Band Chart unsupported series type");var A=this.sT.addHeatmapGridSeries(Ep(Ep({},t.QS),{axisX:h,axisY:f,xAxis:h,yAxis:f})),b=function(){A.setWireframeStyle(t.getWireframeStyle()).setIntensityInterpolation(t.getIntensityInterpolation()).setFillStyle(t.getFillStyle()).setContours(t.getContours())};b(),a=A,t.iw(a);var p=function(t){return A.invalidateIntensityValues(t.value)};t.addEventListener("stylechange",b),c.push((function(){t.removeEventListener("invalidateintensity",p),t.removeEventListener("stylechange",b)}));var m=function(){A.clear()};t.addEventListener("dataclear",m),c.push((function(){t.removeEventListener("dataclear",m)}))}a.setPointerEvents(!1);var g=function(t){a.setVisible(t.isVisible)};t.addEventListener("visiblechange",g),c.push((function(){t.removeEventListener("visiblechange",g)}));var x=function(t){a.setHighlight(t.highlight)};c.push((function(){t.addEventListener("highlightchange",x),t.removeEventListener("highlightchange",x)}));var S=function(){i.disposeSeries(t)};return t.addEventListener("dispose",S),c.push((function(){t.removeEventListener("dispose",S)})),this.ip.set(t,{series:a,clearReferences:function(){return c.forEach((function(t){return t()}))}}),a},i.prototype.disposeSeries=function(t){var i=this,n=this.ip.get(t);if(n){(0,n.clearReferences)(),this.ip.delete(t),n.series.dispose();var r=this.Ou.getHeight({x:t.axisX,y:t.axisY}),e=this.nT.get(r);e&&0===e.iy().length&&(this.nT.delete(r),e.dispose())}var o="x"===this.iA?t.axisX:t.axisY;if(!Array.from(this.ip.keys()).find((function(t){return o===("x"===i.iA?t.axisX:t.axisY)}))){var s=this.iT.findIndex((function(t){return t.axis===o}));s>=0&&(this.iT[s].deattach(),this.iT.splice(s,1))}var u=Array.from(this.ip.keys()).find((function(t){return t.chart==t.chart}));return u||(t.chart.removeEventListener("layoutchange",this.oT),this.eT.delete(t.chart)),this},i.prototype.setDefocusOverlayFillStyle=function(t){return this.vT.forEach((function(i){return i.Be(t)})),this.sT.qi.vr(),this},i.prototype.getDefocusOverlayFillStyle=function(){return this.vT[0].Zo()},i.prototype.setSplitterStrokeStyle=function(t){return this.dT.collection.Ye(t),this.sT.qi.vr(),this},i.prototype.getSplitterStrokeStyle=function(){return this.dT.collection.Nu()},i.prototype.setKnobFillStyle=function(t){return this.yT.forEach((function(i){return i.Be(t)})),this.sT.qi.vr(),this},i.prototype.getKnobFillStyle=function(){return this.yT[0].Zo()},i.prototype.setKnobStrokeStyle=function(t){return this.yT.forEach((function(i){return i.je(t)})),this.sT.qi.vr(),this},i.prototype.getKnobStrokeStyle=function(){return this.yT[0].Ch()},i.prototype.setKnobSize=function(t){return this.AT=t,this.sT.qi.vr(),this},i.prototype.getKnobSize=function(){return this.AT},i.prototype.getDefaultAxisX=function(){return this.sT.getDefaultAxisX()},i.prototype.getDefaultAxisY=function(){return this.sT.getDefaultAxisY()},Object.defineProperty(i.prototype,"axisX",{get:function(){return this.getDefaultAxisX()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"xAxis",{get:function(){return this.getDefaultAxisX()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"axisY",{get:function(){return this.getDefaultAxisY()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"yAxis",{get:function(){return this.getDefaultAxisY()},enumerable:!1,configurable:!0}),i.prototype.mT=function(t){t.setTickStrategy(Nh.Empty).setPointerEvents(!1).setStrokeStyle(Pe)},i.prototype.setStopAxisOnInteraction=function(t){return this.rT=t,this},i.prototype.getStopAxisOnInteraction=function(){return this.rT},i.prototype.bT=function(){var i,n=this,r=function(t,i,r,e){var o,s,u="x"===n.iA?null===(o=Array.from(n.ip.keys())[0])||void 0===o?void 0:o.axisX:null===(s=Array.from(n.ip.keys())[0])||void 0===s?void 0:s.axisY;if(u){var a=u.getInterval(),h=n.aT.getInterval(),f=Math.abs(n.aT.Yi.pi(t)-n.aT.Yi.pi(i));r.preventTooSmall&&f<10||Math.sign(i-t)!==Math.sign(a.end-a.start)||Math.min(t,i)<Math.min(h.start,h.end)||Math.max(t,i)>Math.max(h.start,h.end)&&Math.max(a.start,a.end)<Math.max(t,i)||u.Wi(t,i,r.animated,n.rT,e)}};this.yT.forEach((function(e,o){e.addEventListener("pointerenter",(function(){var r;(null===(r=n.getUserInteractions().zoom)||void 0===r?void 0:r.dragKnob)&&(i=n.engine.setMouseStyle(n.Ou.getWidth({x:t.MouseStyles.Horizontal,y:t.MouseStyles.Vertical}),i))})),e.addEventListener("pointerleave",(function(){i=n.engine.restoreMouseStyle(i)})),e.addEventListener("pointerdown",(function(t){var i,e,s;if(null===(i=n.getUserInteractions().zoom)||void 0===i?void 0:i.dragKnob){var u="x"===n.iA?null===(e=Array.from(n.ip.keys())[0])||void 0===e?void 0:e.axisX:null===(s=Array.from(n.ip.keys())[0])||void 0===s?void 0:s.axisY;if(u){wo(t);var a=function(i){if(i.pointerId===t.pointerId){wo(i);var e=n.Ou.getWidth(n.sT.translateCoordinate(i,n.sT.coordsAxis)),s=u.getInterval(),a=0===o?e:s.start,h=1===o?e:s.end;r(a,h,{animated:!1,preventTooSmall:!0},"zoomBandChartOther")}},h=function(i){i.pointerId===t.pointerId&&(wo(i),cs("click"),Qe.removeEventListener("pointermove",a),Qe.removeEventListener("pointerup",h))};Qe.addEventListener("pointermove",a),Qe.addEventListener("pointerup",h)}}}))})),this.sT.seriesBackground.addEventListener("pointerenter",(function(){var r;(null===(r=n.getUserInteractions().pan)||void 0===r?void 0:r.drag)&&(i=n.engine.setMouseStyle(t.MouseStyles.Move,i))})),this.sT.seriesBackground.addEventListener("pointerleave",(function(){i=n.engine.restoreMouseStyle(i)})),this.sT.seriesBackground.addEventListener("pointerdown",(function(t){var i,e;if("x"===n.iA?null===(i=Array.from(n.ip.keys())[0])||void 0===i?void 0:i.axisX:null===(e=Array.from(n.ip.keys())[0])||void 0===e?void 0:e.axisY){wo(t);var o=t,s=function(i){if(i.pointerId===t.pointerId){var e={x:i.clientX-o.clientX,y:o.clientY-i.clientY};o=i,function(t,i){var e,o,s;if(null===(e=n.getUserInteractions().pan)||void 0===e?void 0:e.drag){var u="x"===n.iA?null===(o=Array.from(n.ip.keys())[0])||void 0===o?void 0:o.axisX:null===(s=Array.from(n.ip.keys())[0])||void 0===s?void 0:s.axisY;if(u){var a=u.getInterval(),h=n.aT.Yi.Bi(a.start,n.Ou.getWidth(t)),f=n.aT.Yi.Bi(a.end,n.Ou.getWidth(t));r(h,f,{animated:!1,preventTooSmall:!0},"zoomBandChartOther"),wo(i)}}}(e,i)}},u=function(i){i.pointerId===t.pointerId&&(wo(i),ls(),cs("click"),Qe.removeEventListener("pointermove",s),Qe.removeEventListener("pointerup",u))};Qe.addEventListener("pointermove",s),Qe.addEventListener("pointerup",u)}})),this.sT.seriesBackground.addEventListener("wheel",(function(t){var i,e,o,s,u=n.getUserInteractions();if(null===(i=u.zoom)||void 0===i?void 0:i.wheel){var a="x"===n.iA?null===(e=Array.from(n.ip.keys())[0])||void 0===e?void 0:e.axisX:null===(o=Array.from(n.ip.keys())[0])||void 0===o?void 0:o.axisY;if(a){var h=a.getInterval(),f=n.aT.getInterval(),c=n.Ou.getWidth(n.sT.translateCoordinate(t,n.sT.coordsAxis)),l=n.aT.Yi.pi(h.start),v=n.aT.Yi.pi(h.end),d=n.aT.Yi.pi(c),y=ro((d-l)/(v-l),0,1),A=.2*Math.abs(v-l)*(null!==(s=u.zoom.wheel.sensitivity)&&void 0!==s?s:1),b=y*A*-Math.sign(t.deltaY),p=(1-y)*A*Math.sign(t.deltaY),m=ro(n.aT.Yi.Bi(h.start,b),f.start,f.end),g=ro(n.aT.Yi.Bi(h.end,p),f.start,f.end);r(m,g,{animated:!1,preventTooSmall:!0},"zoomBandChartOther"),wo(t)}}})),this.vT.forEach((function(e,o){e.addEventListener("pointerenter",(function(){var r;(null===(r=n.getUserInteractions().pan)||void 0===r?void 0:r.click)&&(i=n.engine.setMouseStyle(t.MouseStyles.Point,i))})),e.addEventListener("pointerleave",(function(){i=n.engine.restoreMouseStyle(i)})),e.addEventListener("click",(function(t){var i,e,o;if(!t.defaultPrevented&&(null===(i=n.getUserInteractions().pan)||void 0===i?void 0:i.click)){var s="x"===n.iA?null===(e=Array.from(n.ip.keys())[0])||void 0===e?void 0:e.axisX:null===(o=Array.from(n.ip.keys())[0])||void 0===o?void 0:o.axisY;if(s){var u=n.Ou.getWidth(n.sT.translateCoordinate(t,n.sT.coordsAxis)),a=s.getInterval(),h=n.aT.getInterval(),f=ro(u-(a.end-a.start)/2,Math.min(h.start,h.end),Math.max(h.start,h.end)-Math.abs(a.end-a.start)),c=f+(a.end-a.start);r(f,c,{animated:!0,preventTooSmall:!1},"zoomBandChartClick"),wo(t)}}}))}))},i.prototype.getSizePixels=function(){return this.sT.getSizePixels()},i.prototype.Ks=function(t){this.sT.Ks(t)},i.prototype.getMinimumSize=function(){return this.sT.getMinimumSize()},i.prototype.Dt=function(){return this.sT.Dt()},i.prototype.Lt=function(){return this.sT.Lt()},i.prototype.Le=function(t){var i,n,r,e,o=this,s=Qo(Array.from(this.ip.keys()).map((function(t){return t.chart}))),u="x"===this.iA?null===(i=Array.from(this.ip.keys())[0])||void 0===i?void 0:i.axisX:null===(n=Array.from(this.ip.keys())[0])||void 0===n?void 0:n.axisY,a=function(){var t,i=null===(t=o.iT.find((function(t){return t.axis.getVisible()})))||void 0===t?void 0:t.axis;return!!i&&Math.sign(i.getInterval().end-i.getInterval().start)}(),h=Math.sign(this.aT.getInterval().end-this.aT.getInterval().start);if(h!==a&&0!==h&&0!==a&&this.aT.Wi(this.aT.getInterval().end,this.aT.getInterval().start,!1,this.aT.getStopped(),"zoomBandChartOther"),this.ip.forEach((function(t,i){var n=t.series;i instanceof hp&&n instanceof hp&&n.setDataSet(i.getDataSet(),i.getDataMapping())})),this.hT)if("x"===this.iA){var f=s.reduce((function(t,i){var n=[];i.forEachAxisY((function(t){if(t.getVisible()&&0===t.Pd){var i=n.find((function(i){return i.iParallel===t.getParallelIndex()}));i||(i={iParallel:t.getParallelIndex(),maxHeight:0},n.push(i)),i.maxHeight=Math.max(i.maxHeight,t.Ty())}}));var r=n.reduce((function(t,i){return t+i.maxHeight}),0);return Math.max(t,r)}),0),c=s.reduce((function(t,i){var n=[];i.forEachAxisY((function(t){if(t.getVisible()&&100===t.Pd){var i=n.find((function(i){return i.iParallel===t.getParallelIndex()}));i||(i={iParallel:t.getParallelIndex(),maxHeight:0},n.push(i)),i.maxHeight=Math.max(i.maxHeight,t.Ty())}}));var r=n.reduce((function(t,i){return t+i.maxHeight}),0);return Math.max(t,r)}),0),l=s.reduce((function(t,i){return Math.max(t,i.getPadding().left)}),0),v=s.reduce((function(t,i){return Math.max(t,i.getPadding().right)}),0);this.sT.forEachAxisY((function(t){return t.setThickness(0)})),null===(r=this.getDefaultAxisY())||void 0===r||r.setThickness(f),this.sT.setPadding({left:l+(0===s.length?10:0),right:v+c+(0===s.length?10:0)})}else{var d=s.reduce((function(t,i){var n=[];i.forEachAxisX((function(t){if(t.getVisible()&&0===t.Pd){var i=n.find((function(i){return i.iParallel===t.getParallelIndex()}));i||(i={iParallel:t.getParallelIndex(),maxHeight:0},n.push(i)),i.maxHeight=Math.max(i.maxHeight,t.Ty())}}));var r=n.reduce((function(t,i){return t+i.maxHeight}),0);return Math.max(t,r)}),0),y=s.reduce((function(t,i){var n=[];i.forEachAxisX((function(t){if(t.getVisible()&&100===t.Pd){var i=n.find((function(i){return i.iParallel===t.getParallelIndex()}));i||(i={iParallel:t.getParallelIndex(),maxHeight:0},n.push(i)),i.maxHeight=Math.max(i.maxHeight,t.Ty())}}));var r=n.reduce((function(t,i){return t+i.maxHeight}),0);return Math.max(t,r)}),0),A=s.reduce((function(t,i){return Math.max(t,i.getPadding().bottom)}),0),b=s.reduce((function(t,i){return Math.max(t,i.getPadding().top)}),0);this.sT.forEachAxisX((function(t){return t.setThickness(0)})),null===(e=this.getDefaultAxisX())||void 0===e||e.setThickness(d),this.sT.setPadding({bottom:A+(0===s.length?10:0),top:b+y+(0===s.length?10:0)})}this.sT.Le(t);var p=this.aT.getInterval().start,m=this.aT.getInterval().end,g=ro(u?u.getInterval().start:p,p,m),x=ro(u?u.getInterval().end:m,p,m),S=this.Ou.getHeight(this.sT.jC.getInnerIntervalPixels());this.vT[0].Ee(this.Ou.toPoint(p,0)).zt(this.Ou.toPoint(g-p,S)),this.vT[1].Ee(this.Ou.toPoint(x,0)).zt(this.Ou.toPoint(m-x,S)),this.dT.members[0].yy(this.Ou.toPoint(p,S),this.Ou.toPoint(g,S)),this.dT.members[1].yy(this.Ou.toPoint(g,S),this.Ou.toPoint(g,0)),this.dT.members[2].yy(this.Ou.toPoint(g,0),this.Ou.toPoint(x,0)),this.dT.members[3].yy(this.Ou.toPoint(x,0),this.Ou.toPoint(x,S)),this.dT.members[4].yy(this.Ou.toPoint(x,S),this.Ou.toPoint(m,S));var w=ee(this.Ou.toPoint(g,S/2),this.aT.Rd,this.sT.Ud),M=ee(this.Ou.toPoint(x,S/2),this.aT.Rd,this.sT.Ud),C=this.AT;this.yT[0].Ee({x:w.x-C.x/2,y:w.y-C.y/2}).zt({x:C.x,y:C.y}).$o(this.Ou.getWidth({x:0,y:90})),this.yT[1].Ee({x:M.x-C.x/2,y:M.y-C.y/2}).zt({x:C.x,y:C.y}).$o(this.Ou.getWidth({x:0,y:90}))},i.prototype.setSeriesBackgroundFillStyle=function(t){return this.sT.setSeriesBackgroundFillStyle(t),this.sT.qi.vr(),this},i.prototype.getSeriesBackgroundFillStyle=function(){return this.sT.getSeriesBackgroundFillStyle()},i.prototype.setSeriesBackgroundStrokeStyle=function(t){return this.sT.setSeriesBackgroundStrokeStyle(t),this.sT.qi.vr(),this},i.prototype.getSeriesBackgroundStrokeStyle=function(){return this.sT.getSeriesBackgroundStrokeStyle()},i.prototype.setSeriesBackgroundEffect=function(t){return this.sT.setSeriesBackgroundEffect(t),this.sT.qi.vr(),this},i.prototype.getSeriesBackgroundEffect=function(){return this.sT.getSeriesBackgroundEffect()},i.prototype.getTheme=function(){return this.sT.getTheme()},i.prototype.setTitle=function(t){return this.sT.setTitle(t),this},i.prototype.getTitle=function(){return this.sT.getTitle()},i.prototype.setTitleFillStyle=function(t){return this.sT.setTitleFillStyle(t),this},i.prototype.getTitleFillStyle=function(){return this.sT.getTitleFillStyle()},i.prototype.setTitleFont=function(t){return this.sT.setTitleFont(t),this},i.prototype.getTitleFont=function(){return this.sT.getTitleFont()},i.prototype.setTitleMargin=function(t){return this.sT.setTitleMargin(t),this},i.prototype.getTitleMargin=function(){return this.sT.getTitleMargin()},i.prototype.setPadding=function(t){return void 0===t?this.hT=!0:(this.hT=!1,this.sT.setPadding(t),this.sT.forEachAxis((function(t){return t.setThickness(void 0)}))),this.sT.qi.vr(),this},i.prototype.getPadding=function(){return this.sT.getPadding()},i.prototype.setBackgroundFillStyle=function(t){return this.sT.setBackgroundFillStyle(t),this},i.prototype.getBackgroundFillStyle=function(){return this.sT.getBackgroundFillStyle()},i.prototype.setBackgroundStrokeStyle=function(t){return this.sT.setBackgroundStrokeStyle(t),this},i.prototype.getBackgroundStrokeStyle=function(){return this.sT.getBackgroundStrokeStyle()},i.prototype.translateCoordinate=function(t,i,n){return Iv(t,i,n,this.sT.Ud,this.sT.qi)},i.prototype.addUIElement=function(t,i){return this.sT.addUIElement(t,i)},i.prototype.saveToFile=function(t,i,n){return this.sT.saveToFile(t,i,n),this},i.prototype.dispose=function(){return this.sT.dispose(),this.nT.clear(),this.ip.clear(),this.cT(this),this},i.prototype.isDisposed=function(){return this.sT.isDisposed()},i.prototype.getLayout=function(){return this.sT.getLayout()},i.prototype.addEventListener=function(t,i,n){this.sT.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.sT.removeEventListener(t,i)},i}(),Vp=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rp=function(){return Rp=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Rp.apply(this,arguments)},Gp=function(i){function n(n,r,e,o,s,u,a){var h=i.call(this,n,r,e,o,s,a)||this;return h.yt="Point Line Series",h.Hx=[],h.Zx=!1,h.Jx=!1,h.gT=3,h.$h=0,h.xT=t.PointShape.Circle,h.Ct=new we,h.Oe=Xo(h.en.polarPointLineSeriesFillStyle,u),h.Hc=Xo(h.en.polarPointLineSeriesStrokeStyle,u),h.qx=n.Fb(o,void 0,[fd.UserSeries]).Ye(h.Hc).vn(h.getHighlight()),h.rr(h.qx),h.ST=n.wv(o).Sv(Cu).Ye(Pe).xv(h.Oe).Mv(h.xT).Iv(h.gT).vn(h.getHighlight()),h.rr(h.ST),h}return Vp(n,i),n.prototype.solveNearest=function(t,i){var n=this.chart.qi.Fh(t),r={x:n.engineX,y:n.engineY},e=this.qx.$x(r);if(e){var o=OA(e,this.scale);return Rp({cursorPosition:{pointMarker:e,pointMarkerScale:this.scale,resultTable:e,resultTableScale:this.scale},series:this},o)}},n.prototype.Bn=function(t,i,n){var r=this;return as({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},n.prototype.setData=function(t){return 0!==this.Hx.length&&this.chart.qi.qa(gf.aa),this.Hx=_A(t),this.Zx=!0,this.Nx=kA(this.Hx),this.kr.vr(),this},n.prototype.getData=function(){return this.Hx},n.prototype.setStrokeStyle=function(t){this.Hc="function"==typeof t?t(this.Hc):t;var i=this.Hc;return this.qx.Ye(i),this.kr.vr(),this},n.prototype.getStrokeStyle=function(){return this.Hc},n.prototype.setPointFillStyle=function(t){this.Oe="function"==typeof t?t(this.Oe):t;var i=this.Oe;return this.ST.xv(i),this.kr.vr(),this},n.prototype.getPointFillStyle=function(){return this.Oe},n.prototype.setPointSize=function(t){return this.gT=t,this.ST.Iv(t),this.kr.vr(),this},n.prototype.getPointSize=function(){return this.gT},n.prototype.setPointShape=function(t){return this.xT=t,this.ST.Mv(this.xT),this},n.prototype.getPointShape=function(){return this.xT},n.prototype.setPointRotation=function(t){return this.$h=t,this.ST.Tv(t),this.kr.vr(),this},n.prototype.getPointRotation=function(){return this.$h},n.prototype.Pe=function(){return{fill:this.Oe,stroke:this.Hc}},n.prototype.setConnectDataAutomaticallyEnabled=function(t){return this.Jx=t,this.kr.vr(),this},n.prototype.getConnectDataAutomaticallyEnabled=function(){return this.Jx},n.prototype.ab=function(){return this.XA&&this.Hx.length>0&&this.getVisible()},n.prototype.ze=function(t,i){t.vn(i),this.kr.vr()},n.prototype.Le=function(){if(this.Zx||this.scale.Jr()){var t=TA(this.Hx,this.scale),i=Bs(t);this.Jx?(t.push(Rp({},t[0])),this.qx.xc(!0)):this.qx.xc(!1),this.qx.Sn().Wf(t).cn(i),this.ST.gv((new Mc).appendJSON(t),{x:"x",y:"y"}).cn(i),this.Zx=!1,this.qx.ds(),this.ST.ds()}},n.prototype.Cr=function(){return this.yr||this.xT},n.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},n.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},n}(wA),Up=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yp=function(){return Yp=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Yp.apply(this,arguments)},Wp=function(i){function n(n,r,e,o,s,u,a){var h=i.call(this,n,r,e,o,s,a)||this;return h.yt="Point Series",h.Hx=[],h.Zx=!1,h.gT=3,h.$h=0,h.Ct=new we,h.Oe=Xo(h.en.polarPointSeriesFillStyle,u),h.Fe=Xo(h.en.polarPointSeriesStrokeStyle,u),h.mv=new Mc({schema:{x:{pattern:null},y:{pattern:null},color:{pattern:null,storage:Uint32Array}}}),h.kf=n.wv(o).Ye(Pe).Sv(Cu).xv(h.Oe).Ov(h.Fe).Mv(t.PointShape.Circle).Iv(h.gT).vn(h.getHighlight()).gv(h.mv,{x:"x",y:"y",color:"color"}),h.rr(h.kf),h}return Up(n,i),n.prototype.solveNearest=function(t,i){void 0===i&&(i="show-nearest");var n=this.chart.translateCoordinate(t,this.chart.coordsAxis),r=TA([n],this.scale)[0],e=this.mv.rv({x:"x",y:"y",color:"color"},r,dS(i),this.scale,this.chart.Ud);if(e){var o=OA(e,this.scale);return Yp({cursorPosition:{pointMarker:e,pointMarkerScale:this.scale,resultTable:e,resultTableScale:this.scale},series:this},o)}},n.prototype.Bn=function(t,i,n){var r=this;return as({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},n.prototype.setData=function(t){return 0!==this.Hx.length&&this.chart.qi.qa(gf.aa),this.Hx=_A(t),this.Zx=!0,this.Nx=kA(this.Hx),this.kr.vr(),this},n.prototype.getData=function(){return this.Hx},n.prototype.setPointAlignment=function(t){return this.kf.Ly(t),this.chart.qi.vr(),this},n.prototype.getPointAlignment=function(){return this.kf.wC()},n.prototype.setPointFillStyle=function(t){this.Oe="function"==typeof t?t(this.Oe):t;var i=this.Oe;return this.kf.xv(i),this.kr.vr(),this},n.prototype.getPointFillStyle=function(){return this.Oe},n.prototype.setPointStrokeStyle=function(t){return this.Fe="function"==typeof t?t(this.Fe):t,this.kf.Ov(this.Fe),this.kr.vr(),this},n.prototype.getPointStrokeStyle=function(){return this.Fe},n.prototype.setPointSize=function(t){return this.gT=t,this.kf.Iv(t),this.kr.vr(),this},n.prototype.getPointSize=function(){return this.gT},n.prototype.setPointShape=function(t){return this.kf.Mv(t),this.chart.qi.vr(),this},n.prototype.getPointShape=function(){return this.kf.Cv()},n.prototype.setPointRotation=function(t){return this.$h=t,this.kf.Tv(t),this.kr.vr(),this},n.prototype.getPointRotation=function(){return this.$h},n.prototype.ab=function(){return this.XA&&this.Hx.length>0&&this.getVisible()},n.prototype.ze=function(t,i){t.vn(i),this.kr.vr()},n.prototype.Le=function(){if(this.Zx||this.scale.Jr()){var t=TA(this.Hx,this.scale),i=Bs(t);this.mv.clear().appendJSON(t),this.kf.cn(i),this.Zx=!1,this.kf.ds()}},n.prototype.Pe=function(){return{fill:this.Oe}},n.prototype.Cr=function(){return this.yr||this.getPointShape()},n.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},n.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},n}(wA),Xp=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hp=function(t){function i(i,n,r,e,o,s,u){var a=t.call(this,i,n,r,e,o,s)||this;a.yt="Heatmap Series",a.wT=!0,a.rb=!1,a.Ct=new we;var h=a.chart.getSeries().length;a.Oe=Xo(a.en.polarHeatmapSeriesFillStyle||a.en.heatmapGridSeriesFillStyle,h);var f=u.amplitudeStart||0,c=u.amplitudeEnd?(u.amplitudeEnd-f)/(u.annuli-1):u.amplitudeStep||1,l={sectors:u.sectors,annuli:u.annuli,amplitudeStart:f,amplitudeStep:c,heatmapDataType:"intensity",dataOrder:u.dataOrder||"annuli"};a.ih=l,a.MT=i.CT(e,[],l).Be(a.Oe).vn(a.getHighlight()),a.rr(a.MT);var v=Math.min(l.amplitudeStart,l.amplitudeStart+(l.annuli-1)*l.amplitudeStep),d=Math.max(l.amplitudeStart,l.amplitudeStart+(l.annuli-1)*l.amplitudeStep);return a.Nx={min:v,max:d},a.setHighlightOnHover(!1),a}return Xp(i,t),i.prototype.solveNearest=function(t,i){void 0===i&&(i="show-nearest");var n=this.chart.qi.Fh(t),r={x:n.engineX,y:n.engineY},e=ee(r,this.chart.qi.Yi,this.scale),o=OA(e,this.scale),s=dS(i)?this.MT.tw(o):this.MT.rv(o);if(s){var u=TA([s],this.scale)[0];return{cursorPosition:{pointMarker:u,pointMarkerScale:this.scale,resultTable:u,resultTableScale:this.scale},series:this,angle:s.angle,amplitude:s.amplitude,intensity:s.cellValue,annulus:s.iAnnulus,sector:s.iSector,lut:Bu(this.Oe)?this.Oe.lut:void 0}}},i.prototype.Bn=function(t,i,n){var r=this;return as({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0,intensity:0,sector:0,annulus:0,lut:Bu(this.Oe)?this.Oe.lut:void 0},(function(){return r.solveNearest(i,r.chart.getCursorMode())}))},i.prototype.invalidateIntensityValues=function(t){if(this.rb&&this.chart.qi.qa(gf.aa),Array.isArray(t)){if(0===t.length||0===t[0].length)return this;var i={x:t.length,y:t[0].length,sectors:"annuli"===this.ih.dataOrder?t[0].length:t.length,annuli:"annuli"===this.ih.dataOrder?t.length:t[0].length},n="annuli"===this.ih.dataOrder?this.ih.annuli:this.ih.sectors,r="annuli"===this.ih.dataOrder?this.ih.sectors:this.ih.annuli;if(i.x>n||i.y>r){if(!0===this.chart.SA.rh){var e="PolarHeatmapSeries.invalidateIntensityValues intensity matrix overflow.\nHeatmap ".concat(n,"x").concat(r,", input ").concat(i.x,"x").concat(i.y,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");Qe.console.warn(e)}for(var o=[],s=0;s<n;s+=1)o[s]=t[s].slice(0,r);if(0===(t=o).length||0===t[0].length)return this}this.MT.qp({type:"intensity",lengthPrimary:i.x,lengthSecondary:i.y,startPrimary:0,startSecondary:0,values:t})}else if("iSector"in t&&"iAnnulus"in t&&"values"in t){if(0===t.values.length||0===t.values[0].length)return this;i={primary:t.values.length,secondary:t.values[0].length,sectors:"annuli"===this.ih.dataOrder?t.values[0].length:t.values.length,annuli:"annuli"===this.ih.dataOrder?t.values.length:t.values[0].length};var u="annuli"===this.ih.dataOrder?t.iAnnulus:t.iSector,a=u+i.primary-1,h="annuli"===this.ih.dataOrder?t.iSector:t.iAnnulus,f=h+i.secondary-1,c="annuli"===this.ih.dataOrder?this.ih.annuli-1:this.ih.sectors-1,l="annuli"===this.ih.dataOrder?this.ih.sectors-1:this.ih.annuli-1;if(u<0||h<0)return!0===this.chart.SA.rh&&(e="PolarHeatmapSeries.invalidateIntensityValues invalidation start below 0 not permitted.\niSector: ".concat(t.iSector,", iAnnuli: ").concat(t.iAnnulus,".\nNo intensity values will be invalidated."),Qe.console.warn(e)),this;if(a>c||f>l){!0===this.chart.SA.rh&&(e="PolarHeatmapSeries.invalidateIntensityValues intensity matrix overflow.\nMax indexes ".concat(c,"x").concat(l,", input ").concat(i.primary,"x").concat(i.secondary," starting at [").concat(u,",").concat(h,"].\nOut of bounds data will be automatically clipped. This can result in sub-optimal performance."),Qe.console.warn(e));var v=Math.max(a-c,0),d=i.primary-v,y=Math.max(f-l,0);for(o=[],s=0;s<d;s+=1)o[s]=t.values[s].slice(0,y>0?-y:void 0);if(0===(t={iSector:t.iSector,iAnnulus:t.iAnnulus,values:o}).values.length||0===t.values[0].length)return this}this.MT.qp({type:"intensity",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:u,startSecondary:h,values:t.values})}return this.kr.vr(),this.rb=!0,this},i.prototype.setFillStyle=function(t){return this.Oe="function"==typeof t?t(this.Oe):t,this.MT.Be(this.Oe),this.kr.vr(),this},i.prototype.getFillStyle=function(){return this.Oe},i.prototype.clear=function(){return this.MT.Sn(),this.kr.vr(),this},i.prototype.setIntensityInterpolation=function(t){return t=t||"disabled",this.MT.Qp(t),this.kr.vr(),this},i.prototype.getIntensityInterpolation=function(){return this.MT.Kp()},i.prototype.Mr=function(){return Uo(this.Oe,this.MT.an())},i.prototype.ab=function(){return this.XA&&this.getVisible()},i.prototype.ze=function(t,i){t.vn(i),this.kr.vr()},i.prototype.Le=function(){},i.prototype.Pe=function(){return{fill:this.Oe}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(wA),Zp=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jp=function(t){function i(i,n,r,e,o,s,u,a){var h,f=this;return(f=t.call(this,i,Kp,n,r,e,o,s,u,a)||this).TT=90,f.kT=12,f._T=Qp,f._b=f.Sx.fv(f.Mx).setPointerEvents(!1),f.Ix=function(t){if(0!==f.getTitle().length&&!Tu(f.getTitleFillStyle())){for(var i=180*(t.S-f.Mx.Zr())/Math.PI%360;i<0;)i+=360;for(;i>360;)i-=360;return!(i>=0&&i<=20||i>=340&&i<=360)&&void 0}},f.fs=void 0,f.setTickStyle(r.polarRadialAxisTickStyle),f.setTitle("Degrees"),f.setNorth(f.TT),f.OT=null!==(h=f.en.polarRadialAxisMarginAfterTicks)&&void 0!==h?h:7,f}return Zp(i,t),i.prototype.setTickStyle=function(t){return this.FT="function"==typeof t?t(this.FT):t,this.IT(),this.Sx.vr(),this},i.prototype.getTickStyle=function(){return this.FT},i.prototype.setTickFormattingFunction=function(t){return this._T=t,this.IT(),this.Sx.vr(),this},i.prototype.getTickFormattingFunction=function(){return this._T},i.prototype.setClockwise=function(t){this.Mx.Wr(t);var i=this.TT*Math.PI/180;return t?this.Mx.Hr(i+Math.PI/2):this.Mx.Hr(i-Math.PI/2),this.Sx.vr(),this},i.prototype.getClockwise=function(){return!this.Mx.Xr()},i.prototype.setNorth=function(t){for(;t<0;)t+=360;t%=360,this.TT=t;var i=t*Math.PI/180;return this.getClockwise()?this.Mx.Hr(i+Math.PI/2):this.Mx.Hr(i-Math.PI/2),this.Sx.vr(),this},i.prototype.getNorth=function(){return 180*this.Mx.Zr()/Math.PI},i.prototype.setDivision=function(t){return this.kT=t,this.IT(),this.Sx.vr(),this},i.prototype.getDivision=function(){return this.kT},i.prototype.getMarginAfterTicks=function(){return this.OT},i.prototype.setMarginAfterTicks=function(t){return this.OT=t,this.chart.qi.vr(),this},i.prototype.iy=function(){return[]},i.prototype.Ts=function(t,i,n){var r=this;return{ticksInfo:i,oy:this.Ps((function(t,i){var n=i.tu.so,e=.5*r.Cx.getThickness()+n.tickLength+n.tickPadding+Math.abs(i.ls.ds().al().y);return Math.max(t,e)}),0)+this.OT,updatedTicks:n}},i.prototype.Ws=function(t,i){return i},i.prototype.Zs=function(t,i,n){return{start:t,end:i}},i.prototype.kx=function(t,i){var n=t.Xr()?1:-1,r=t.Zr(),e=t.Yr()?t.Ur().end-t.Ur().start:t.Ur().start-t.Ur().end;return{x:Math.cos((i-r)*n)*e,y:Math.sin((i-r)*n)*e}},i.prototype._x=function(t,i){return t.We(i)},i.prototype.jx=function(t,i,n,r){var e=this.FT,o=t.Xr()?1:-1,s=t.Zr(),u=(r.S-s)*o,a=Math.cos(u),h=Math.sin(u),f=t.Yr()?t.Ur().end-t.Ur().start:t.Ur().start-t.Ur().end,c={x:a*f,y:h*f};i.He({x:0,y:0}).Xe(c);var l={x:c.x+a*e.tickLength*t.Gi().x,y:c.y+h*e.tickLength*t.Gi().y};n.He(c).Xe(l),i.Ye(e.gridStrokeStyle),n.Ye(e.tickStyle)},i.prototype.Tx=function(t,i,n){for(var r,e=t.Xr()?1:-1,o=(i-t.Zr())*e;o<0;)o+=2*Math.PI;for(;o>=2*Math.PI;)o-=2*Math.PI;r=o>0&&o<=Math.PI?-o+Math.PI/2:-o-Math.PI/2;var s=Math.cos(o),u=Math.sin(o),a=n.tickLength+n.tickPadding;return{alignment:{x:0,y:0},padding:{x:s*a*t.Gi().x,y:u*a*t.Gi().y},rotation:180*r/Math.PI,offset:{x:0,y:0}}},i.prototype.Ox=function(t,i,n){var r=t.Yr()?t.Ur().end-t.Ur().start:t.Ur().start-t.Ur().end;this._b.Rc(0).Xe(360).Wc(0).Gc(r+.5*i.getThickness()*t.Gi().x).Xc(360).Be(Cu).je(i)},i.prototype.Fx=function(t,i,n){var r=t.Zr(),e=this.Tx(t,0+r,this.FT),o=t.Yr()?t.Ur().end-t.Ur().start:t.Ur().start-t.Ur().end;i.wf(e.alignment).$o(e.rotation).Af(e.offset.x,e.offset.y).Ee(Ys({x:o,y:0},e.padding))},i.prototype.IT=function(){var t=this;this.ss({$e:[],io:[{ls:"Radial ticks",vy:0,so:this.FT,Ke:this._T,ru:function(i,n,r,e){for(var o=[],s=2*Math.PI/t.kT,u=0;u<2*Math.PI;u+=s)o.push(u);return o},Bo:{Ds:function(){},Do:function(){return!1},Es:"hide-label"},eu:void 0}],no:Qp,ro:void 0,eo:void 0},"Numeric")},i}(vA),Qp=function(t,i,n){return(180*t/Math.PI).toFixed(0)},Kp={Vs:function(){},Rs:function(){},Us:function(){},mx:function(t){return{getInnerStart:function(){return 0},getInnerEnd:function(){return 2*Math.PI},Et:function(t,i){},Wt:function(i,n,r,e,o){return t.x.Wt(i,n,r,e,o)}}},gx:function(t){return t.radial}},qp=function(t){return!!(t&&"object"==typeof t&&"axisAmplitude"in t&&"axisRadial"in t)},$p=function(t){return!!(t&&"object"==typeof t&&"angle"in t&&"number"==typeof t.angle&&"amplitude"in t&&"number"==typeof t.amplitude)},tm=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),im=function(t){function i(i,n,r,e,o,s){var u=t.call(this,n,r,o,s)||this;return u.yt="Sector",u.jT=0,u.BT=1*Math.PI/2,u.DT=void 0,u.LT=void 0,u.Ct=new we,u.kr=i,u.Mx=e,u.Kx=u.kr.vl(u.Mx).vn(u.getHighlight()),u.rr(u.Kx),u.Oe=o.polarSectorFillStyle,u.Fe=o.polarSectorStrokeStyle,u.setPointerEvents(!1),u}return tm(i,t),i.prototype.setAngleStart=function(t){return this.jT=t,this.kr.vr(),this},i.prototype.getAngleStart=function(){return this.jT},i.prototype.setAngleEnd=function(t){return this.BT=t,this.kr.vr(),this},i.prototype.getAngleEnd=function(){return this.BT},i.prototype.setAmplitudeStart=function(t){return this.DT=t,this.kr.vr(),this},i.prototype.getAmplitudeStart=function(){return this.DT},i.prototype.setAmplitudeEnd=function(t){return this.LT=t,this.kr.vr(),this},i.prototype.getAmplitudeEnd=function(){return this.LT},i.prototype.setFillStyle=function(t){return this.Oe="function"==typeof t?t(this.Oe):t,this.kr.vr(),this},i.prototype.getFillStyle=function(){return this.Oe},i.prototype.setStrokeStyle=function(t){return this.Fe="function"==typeof t?t(this.Fe):t,this.kr.vr(),this},i.prototype.getStrokeStyle=function(){return this.Fe},i.prototype.Le=function(){for(var t=this.Mx.Ur(),i=void 0!==this.DT?ro(this.DT,t.start,t.end):t.start,n=void 0!==this.LT?ro(this.LT,t.start,t.end):t.end,r=[],e=Math.min(this.jT,this.BT),o=Math.max(this.jT,this.BT),s=e;s<=o;s+=1)r.push({angle:s,amplitude:i});for(s=o;s>=e;s-=1)r.push({angle:s,amplitude:n});var u=TA(r,this.Mx);this.Kx.rc(u).Be(this.Oe).je(this.Fe)},i.prototype.ze=function(t,i){t.vn(i),this.kr.vr()},i.prototype.Pe=function(){return{fill:this.Oe,stroke:this.Fe}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(Ju),nm=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rm=function(){return rm=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},rm.apply(this,arguments)},em=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},om=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},sm=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},um=function(t){function i(i,n,r,e,o,s,u){var a,h=this;(h=t.call(this,i,n,r,n.EA("polarChart bg",0),e,n.qi.en.polarChartBackgroundFillStyle,n.qi.en.polarChartBackgroundStrokeStyle,n.qi.en.polarChartTitleFont,n.qi.en.polarChartTitleFillStyle,n.qi.en.polarChartTitleShadow,u,null===(a=null==s?void 0:s.legend)||void 0===a?void 0:a.customLegend)||this).coordsClient="client",h.Sd=[],h.ET=function(t){h.Mx.zt(t.engineWidth,t.engineHeight)},h.Td=jo(h.Sd),h.PT=function(t){h.Sd.push(t)},h.zT=function(){return h.ip},h.Ct=new we,h.qi.qa(gf.$u),h.YC=n.gg("polarChart series bg",0),h.NT=n.xg("polarChart axis gridlines",0),h.VT=n.xg("polarChart series",1),h.RT=n.xg("polarChart axis lines",2),h.GT=n.xg("polarChart axis ticks",3),h.Mx=r.d2({scaleXYConstructor:Va}),h.addEventListener("resize",h.ET),h.So.Os("Polar Chart"),h.sp=h.YC.fv(h.Mx).Be(h.en.polarChartSeriesBackgroundFillStyle).je(Pe).Rc(0).Xe(360).Wc(0),h.up=h.YC.fv(h.Mx).Be(Cu).je(h.en.polarChartSeriesBackgroundStrokeStyle).Rc(0).Xe(360).Wc(0),t.prototype.op.call(h,h.sp,h.up),h.LA(o,h.Ud),h.UT=new bA(h,h.Mx,h.en,!1!==(null==s?void 0:s.animationsEnabled),h.NT,h.RT,h.GT,h.Qn,h.zT),h.YT=new Jp(h,h.Mx,h.en,!1!==(null==s?void 0:s.animationsEnabled),h.NT,h.RT,h.GT,h.Qn),h.coordsAxis={axisAmplitude:h.UT,axisRadial:h.YT};var f=n._g(),c=oo(s?s.cursorBuilder:void 0,Ry);h.Og=mS(h,f,c.qm(f,h.uiScale,h.uiScale,io,h.en),h,"show-nearest",hm,(function(t,i){var n=h.translateCoordinate(t,h.coordsClient);return Math.sqrt(Math.pow(n.clientX-i.clientX,2)+Math.pow(n.clientY-i.clientY,2))})),h.setAnimationsEnabled(!1!==(null==s?void 0:s.animationsEnabled));var l=rm({backgroundVisible:!0},null==s?void 0:s.legend);return h.legend.setOptions(l),h}return nm(i,t),i.prototype.getSeries=function(){return this.ip},i.prototype.setCursor=function(t){return this.Og.setCursor(t),this},i.prototype.getCursor=function(){return this.Og.getCursor()},i.prototype.setCursorMode=function(t){return this.Og.setCursorMode(t),this},i.prototype.getCursorMode=function(){return this.Og.getCursorMode()},i.prototype.setCustomCursor=function(t){return this.Og.setCustomCursor(t),this},i.prototype.setCursorDynamicBehavior=function(t){return this.Og.zg(t),this},i.prototype.setCursorFormatting=function(t){return this.Og.setCursorFormatting(t),this},i.prototype.getCursorFormatting=function(){return this.Og.getCursorFormatting()},i.prototype.solveNearest=function(t,i){return void 0===i&&(i=this.getCursorMode()||"show-nearest"),this.Og.solveNearest(t,i,this.ip,(function(t,i,n){return t.solveNearest(i,n)}))},i.prototype.addCursor=function(t){void 0===t&&(t=Ry);var i=this.CA(),n=t.qm(i,this.uiScale,this.uiScale,this.xA(i),this.en);return this.BA(n),n},i.prototype.translateCoordinate=function(t,i,n){if(n){var r=t,e=this.Ud;if(Lu(u=n)){var o=ee(r,e,this.qi.Yi);return this.qi.Ih({engineX:o.x,engineY:o.y})}if(Pu(u))return r;if(qp(u)){var s=ee(r,e,this.Mx);return OA(s,this.Mx)}}else{var u=i;if(Eu(r=t)){if(qp(u))return o=this.qi.Fh(r),s=ee({x:o.engineX,y:o.engineY},this.qi.Yi,this.Mx),OA(s,this.Mx);if(Lu(u))return r;if(Pu(u))return o=this.qi.Fh(r),ee({x:o.engineX,y:o.engineY},this.qi.Yi,this.Ud)}else if($p(r)){if(qp(u))return r;if(s=TA([r],this.Mx)[0],Lu(u)){var a=ee(s,this.Mx,this.qi.Yi);return o={engineX:a.x,engineY:a.y},this.qi.Ih(o)}if(Pu(u))return ee(s,this.Mx,this.Ud)}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")},i.prototype.addLineSeries=function(t){var i=new GA(this.VT,this,this.rp,this.Mx,this.en,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ip.length,this.qi.Qn);return this.ap(i,t),i},i.prototype.addPointSeries=function(t){var i=new Wp(this.VT,this,this.rp,this.Mx,this.en,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ip.length,this.qi.Qn);return this.ap(i,t),i},i.prototype.addPointLineSeries=function(t){var i=new Gp(this.VT,this,this.rp,this.Mx,this.en,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ip.length,this.qi.Qn);return this.ap(i,t),i},i.prototype.addAreaSeries=function(t){var i=new NA(this.VT,this,this.rp,this.Mx,this.en,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ip.length,this.qi.Qn);return this.ap(i,t),i},i.prototype.addPolygonSeries=function(t){var i=new BA(this.VT,this,this.rp,this.Mx,this.en,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ip.length,this.qi.Qn);return this.ap(i,t),i},i.prototype.addHeatmapSeries=function(t){var i=new Hp(this.VT,this,this.rp,this.Mx,this.en,this.qi.Qn,t);return this.ap(i,t),i},i.prototype.addSector=function(t){var i=new im(this.VT,this,this.Td,this.Mx,this.en,this.qi.Qn);return this.PT(i),this.Ar.forEach((function(n){n.fA()&&null!==t&&n.Wf(i,t)})),i},i.prototype.getAmplitudeAxis=function(){return this.UT},Object.defineProperty(i.prototype,"amplitudeAxis",{get:function(){return this.UT},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"axisAmplitude",{get:function(){return this.UT},enumerable:!1,configurable:!0}),i.prototype.getRadialAxis=function(){return this.YT},Object.defineProperty(i.prototype,"radialAxis",{get:function(){return this.YT},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"axisRadial",{get:function(){return this.YT},enumerable:!1,configurable:!0}),i.prototype.Le=function(i){var n,r,e,o,s,u,a,h,f=this;t.prototype.Le.call(this,i);var c=nd(this.So,this.PA),l=this.Ar.reduce((function(t,i){var n=i.ds(c,f.yu);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0});rd(this.So,this.PA,this.uiScale.Gi(),this.yu,l);try{for(var v=em(this.ip),d=v.next();!d.done;d=v.next())d.value.$A()}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=v.return)&&r.call(v)}finally{if(n)throw n.error}}this.UT.Ys(),this.YT.Ys();try{for(var y=em(this.ip),A=y.next();!A.done;A=y.next())A.value.Le()}catch(t){e={error:t}}finally{try{A&&!A.done&&(o=y.return)&&o.call(y)}finally{if(e)throw e.error}}var b=this.Mx.getInnerIntervalPixels().x/2,p=this.UT.ds({physicalAxisSize:b}),m=this.YT.ds({physicalAxisSize:2*Math.PI*b});this.UT.Le(p),this.YT.Le(m);var g=[this.yu.left+m.oy+l.left,this.yu.right+m.oy+l.right],x=[this.yu.bottom+m.oy+l.bottom,this.yu.top+m.oy+c+l.top];this.Mx.Li(g).Ei(x);var S=this.Mx.Ur().start,w=this.Mx.Ur().end,M=this.Mx.Yr()?(m.oy||0)*this.Mx.x.getPixelSize()+w-S:(m.oy||0)*this.Mx.x.getPixelSize()+S-w;this.sp.Gc(M).Xc(360),this.up.Gc(M).Xc(360);try{for(var C=em(this.Sd),T=C.next();!T.done;T=C.next())T.value.Le()}catch(t){s={error:t}}finally{try{T&&!T.done&&(u=C.return)&&u.call(C)}finally{if(s)throw s.error}}this.Og.Le(!1,this.ip,(function(t,i,n){return t.solveNearest(i,n)}));try{for(var k=em(this.ip),_=k.next();!_.done;_=k.next())_.value.tb()}catch(t){a={error:t}}finally{try{_&&!_.done&&(h=k.return)&&h.call(k)}finally{if(a)throw a.error}}return t.prototype.DA.call(this),this.Ar.forEach((function(t){return t.Le(c,f.yu)})),this.WT(),this},i.prototype.setAnimationsEnabled=function(i){return t.prototype.setAnimationsEnabled.call(this,i),this.UT.setAnimationsEnabled(i),this.YT.setAnimationsEnabled(i),this},i.prototype.getMinimumSize=function(){return o(am,am)},i.prototype.WT=function(){},i.prototype.forEachAxis=function(t){return t(this.UT),t(this.YT),this},i.prototype.dispose=function(){return this.Sd.slice().forEach((function(t){return t.dispose()})),this.Og.Ft(),this.YC.Ft(),this.NT.Ft(),this.VT.Ft(),this.RT.Ft(),this.GT.Ft(),t.prototype.dispose.call(this)},i.prototype.lA=function(){return sm(sm([],om(this.ip),!1),om(this.Sd),!1)},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(Ud),am=300,hm=function(t,i,n){var r;return ae(i)?yS(i,[[{component:i.series,componentColor:AS(i),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],["Angle","",{text:i.angle.toFixed(0),font:{weight:"bold"}}],["Amplitude","",{text:Uu(t.getAmplitudeAxis().formatValue(i.amplitude),t.amplitudeAxis),font:{weight:"bold"}}],["Intensity","",{text:Uu(i.lut?xu(i.lut,i.intensity):i.intensity.toFixed(2),null===(r=i.lut)||void 0===r?void 0:r.units),font:{weight:"bold"}}]]):yS(i,[[{component:i.series,componentColor:AS(i),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],["Angle","",{text:i.angle.toFixed(0),font:{weight:"bold"}}],["Amplitude","",{text:Uu(t.getAmplitudeAxis().formatValue(i.amplitude),t.amplitudeAxis),font:{weight:"bold"}}]])},fm=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cm=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r,e)||this;return o.yt="Slice",o.S=0,Qe.requestAnimationFrame((function(){o.addEventListener("pointermove",(function(){o.chart.qi.vr()}))})),o}return fm(i,t),i}(Ju),lm=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vm=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return lm(i,t),i}(cm),dm=function(t){function i(i,n,r,e,o,s,u,a){var h=t.call(this,e,s,u,a)||this;return h.yt="Slice",h.S=0,h.XT=!1,h.HT=Cu,h.ZT=Cu,h.JT=h.S,h.QT=ke((function(){return h.chart.qi.vr()})),h.KT=function(){h.qT=void 0},h.Ct=new we,h.index=i,h.chart=e,h.scale=o,h.Hn=s,h.Kx=n.vl(o,tc.Simple).vn(h.getHighlight()),h.rr(h.Kx),h.ls=r.$s(o).vn(h.getHighlight()),h.rr(h.ls,{isText:!0}),h}return lm(i,t),i.prototype.setValue=function(t){var i=this;return this.chart.getAnimationsEnabled()?this.getVisible()&&this.$T(this.JT,t,(function(){return i.chart.Ar.forEach((function(t){return t.br()}))})):this.JT=t,this.S=t,this.chart.Ar.forEach((function(t){return t.br()})),this.chart.qi.vr(),this},i.prototype.getValue=function(){return this.S},i.prototype.setVisible=function(i){var n=this;return!1===i?this.chart.getAnimationsEnabled()&&Math.abs(this.JT)>0?(this.qT&&(this.qT.finish(!1),this.qT=void 0),this.$T(this.JT,0,(function(){return t.prototype.setVisible.call(n,!1)}))):(this.JT=0,t.prototype.setVisible.call(this,!1)):this.chart.getAnimationsEnabled()?(this.qT&&(this.qT.finish(!1),this.qT=void 0),t.prototype.setVisible.call(this,!0),this.$T(this.JT,this.S)):(this.JT=this.S,t.prototype.setVisible.call(this,!0)),this},i.prototype.$T=function(t,i,n){var r=this;this.qT=this.QT(300,Ce.ease)([[t,i]],(function(t){var i=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(t,1)[0];r.JT=i,r.chart.qi.vr()})),this.qT.addEventListener("everyAnimationEnd",this.KT),n&&this.qT.addEventListener("end",n)},i.prototype.setStyle=function(t,i,n,r,e){this.HT=t,this.ZT=n,this.Kx.Be(this.HT).je(i),this.ls.Be(this.ZT).qo(r)._s(e)},i.prototype.getAnimatedValue=function(){return this.JT},i.prototype.ze=function(t,i){return t.vn(i),this.chart.qi.vr(),this},i.prototype.Pe=function(){return{fill:this.HT,stroke:this.Kx.Ch()}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(vm);t.SliceLabelIndices=void 0,(Op=t.SliceLabelIndices||(t.SliceLabelIndices={}))[Op.LabelsInsideSlices=0]="LabelsInsideSlices",Op[Op.LabelsOnSides=1]="LabelsOnSides";var ym,Am={SortByName:function(t,i){return t.getName().localeCompare(i.getName(),void 0,{numeric:!0})},SortByValueAscending:function(t,i){return Math.abs(t.getAnimatedValue())-Math.abs(i.getAnimatedValue())},SortByValueDescending:function(t,i){return Math.abs(i.getAnimatedValue())-Math.abs(t.getAnimatedValue())},None:function(){return 0}},bm={Name:function(t){return"".concat(t.getName())},NamePlusValue:function(t){return"".concat(t.getName(),": ").concat(Math.round(t.getAnimatedValue()))},NamePlusRelativeValue:function(t,i){return"".concat(t.getName(),": ").concat((100*i).toFixed(2),"%")}},pm=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mm=function(){return mm=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},mm.apply(this,arguments)};t.FunnelSliceModes=void 0,(ym=t.FunnelSliceModes||(t.FunnelSliceModes={}))[ym.VariableHeight=0]="VariableHeight",ym[ym.VariableWidth=1]="VariableWidth";var gm,xm=function(t,i){return t<=0?0:i*((t>=100?100:t)/100)},Sm=function(i,n,r,e,o,s,u,a,h){void 0===s&&(s=0),void 0===u&&(u=t.FunnelSliceModes.VariableHeight),n=xm(n,e.x),r=xm(r,e.x);var f,c=i.length,l=0;f=i.reduce((function(t,i){return t+Math.abs(i.getAnimatedValue())}),0);var v={x:a-n/2+h.left,y:e.y+o.bottom+h.bottom},d={x:a+n/2+h.left,y:e.y+o.bottom+h.bottom},y={x:0,y:o.bottom},A={x:0,y:o.bottom},b=0,p=0;if(s)for(var m=0;m<i.length;m+=1){var g=i[m];p+=Math.abs(g.getAnimatedValue());var x=u===t.FunnelSliceModes.VariableWidth?(e.y-s*c)/c:e.y+o.bottom-p/f*e.y;if(u===t.FunnelSliceModes.VariableWidth){s=x-s<10?Math.max(20,x-10):s;break}0!==b&&b-x-s<10&&(s=Math.max(0,b-x-10)),b=x}var S=(n-r)/2/e.y;for(m=0;m<c;m+=1){g=i[m],l+=Math.abs(g.getAnimatedValue());var w,M=u===t.FunnelSliceModes.VariableWidth?(e.y-s*c)/c:e.y+o.bottom-l/f*e.y;m>0&&(v={x:y.x+S*s,y:y.y-s},d={x:A.x-S*s,y:A.y-s}),y={x:a-(w=(n+l/f*(r-n))/2)+h.left,y:u===t.FunnelSliceModes.VariableWidth?v.y-M:M+h.bottom},A={x:a+w+h.left,y:u===t.FunnelSliceModes.VariableWidth?d.y-M:M+h.bottom},d.x>=v.x&&A.x>y.x&&g.Kx.rc([y,v,d,A])}},wm=function(i){function n(n,r,e,o,s,u,a){var h,f=this;(f=i.call(this,n,r,e,r.EA("funnelChart bg",0),o,r.qi.en.funnelChartBackgroundFillStyle,r.qi.en.funnelChartBackgroundStrokeStyle,r.qi.en.funnelChartTitleFont,r.qi.en.funnelChartTitleFillStyle,r.qi.en.funnelChartTitleShadow,u,null===(h=null==a?void 0:a.legend)||void 0===h?void 0:h.customLegend)||this).tk=[],f.ik=Am.None,f.nk=!0,f.rk=f.en.funnelChartSliceLabelShadow,f.ek=0,f.sk=20,f.uk=5,f.ak=t.FunnelSliceModes.VariableHeight,f.hk=!0,f.fk=function(t){var i=f.tk.indexOf(t);i>=0&&(f.tk.splice(i,1),f.ck())},f.Ct=new we,f.qi.qa(gf.Qu),f.lk=f.en.effectsText,f.vk=r.xg("funnelChart bottom",0),f.dk=r.xg("funnelChart top",1),f.So.Os("Funnel Chart"),f.yk=f.en.funnelChartSliceFillStylePalette,f.Ak=f.en.funnelChartSliceStrokeStyle,f.bk=f.en.funnelChartSliceLabelFont,f.pk=f.en.funnelChartSliceLabelFillStyle;var c=r._g(),l=oo(a?a.cursorBuilder:void 0,Ny);f.Og=mS(f,c,l.qm(c,f.uiScale,f.uiScale,io,f.en),void 0,"show-pointed",Mm,(function(){return 0})),f.setAnimationsEnabled(!1!==(null==a?void 0:a.animationsEnabled)),f.LA(s,f.Ud);var v=mm({backgroundVisible:!0},null==a?void 0:a.legend);return f.legend.setOptions(v),f}return pm(n,i),n.prototype.setCursor=function(t){return this.Og.setCursor(t),this},n.prototype.getCursor=function(){return this.Og.getCursor()},n.prototype.setCursorMode=function(t){return this.Og.setCursorMode(t),this},n.prototype.getCursorMode=function(){return this.Og.getCursorMode()},n.prototype.setCustomCursor=function(t){return this.Og.setCustomCursor(t),this},n.prototype.setCursorDynamicBehavior=function(t){return this.Og.zg(t),this},n.prototype.setCursorFormatting=function(t){return this.Og.setCursorFormatting(t),this},n.prototype.getCursorFormatting=function(){return this.Og.getCursorFormatting()},n.prototype.addCursor=function(t){void 0===t&&(t=Ny);var i=this.CA(),n=t.qm(i,this.uiScale,this.uiScale,this.xA(i),this.en);return this.BA(n),n},n.prototype.addSlice=function(t,i){var n=new dm(this.ek,this.vk,this.dk,this,this.Ud,this.fk,this.en,this.qi.Qn);return this.ek+=1,n.setName(t),n.setValue(i),n.Qn.qn.lr(this.lk),n.Qn.$n.lr(this.hk),this.tk.push(n),this.qi.vr(),n.setHighlightOnHover(this.nk),this.Ar.forEach((function(t){t.fA()&&t.Wf(n)})),n},n.prototype.addSlices=function(t){for(var i=[],n=0;n<t.length;n+=1)i.push(this.addSlice(t[n].name,t[n].value));return i},n.prototype.getSlices=function(){return this.tk},n.prototype.setNeckWidth=function(t){return this.sk=ro(t,1,99),this.qi.vr(),this},n.prototype.getNeckWidth=function(){return this.sk},n.prototype.setSliceGap=function(t){return this.uk=Math.min(Math.max(t,0),20),this.qi.vr(),this},n.prototype.setSliceMode=function(t){return this.ak=t,this.qi.vr(),this},n.prototype.getFunnelSliceMode=function(){return this.ak},n.prototype.setLUT=function(t){return this.sd=t,this.qi.vr(),this},n.prototype.setSliceFillStyle=function(t){return this.yk=t,this.qi.vr(),this},n.prototype.getSliceFillStyle=function(){return this.yk},n.prototype.setSliceStrokeStyle=function(t){return this.Ak="function"==typeof t?t(this.Ak):t,this.qi.vr(),this},n.prototype.getSliceStrokeStyle=function(){return this.Ak},n.prototype.setSliceEffect=function(t){return this.hk=t,this.tk.forEach((function(i){return i.Qn.$n.lr(t)})),this.qi.vr(),this},n.prototype.getSliceEffect=function(){return this.hk},n.prototype.setSliceSorter=function(t){return this.ik=t,this.tk=this.tk.sort(this.ik),this.qi.vr(),this},n.prototype.getSliceSorter=function(){return this.ik},n.prototype.setLabelFillStyle=function(t){return this.pk="function"==typeof t?t(this.pk):t,this.qi.vr(),this},n.prototype.getLabelFillStyle=function(){return this.pk},n.prototype.setLabelShadow=function(t){return this.rk=t,this.qi.vr(),this},n.prototype.getLabelShadow=function(){return this.rk},n.prototype.setLabelFont=function(t){return this.bk="function"==typeof t?t(this.bk):t,this.qi.vr(),this},n.prototype.getLabelFont=function(){return this.bk},n.prototype.setLabelEffect=function(t){return this.lk=t,this.tk.forEach((function(i){return i.Qn.qn.lr(t)})),this.qi.vr(),this},n.prototype.getLabelEffect=function(){return this.lk},n.prototype.setLabelFormatter=function(t){return this.mk=t,this.qi.vr(),this},n.prototype.getLabelFormatter=function(){return this.mk},n.prototype.setSliceHighlightOnHover=function(t){return this.nk=t,this.tk.forEach((function(i){return i.setHighlightOnHover(t)})),this},n.prototype.Le=function(t){var n=this;i.prototype.Le.call(this,t),i.prototype.DA.call(this),this.tk=this.tk.sort(this.ik);for(var r=0,e=this.tk.length;r<e;r+=1)this.gk(this.tk[r],r);var s=this.tk.filter((function(t){return Math.abs(t.getAnimatedValue())>0})),u=nd(this.So,this.PA),a=this.Ar.reduce((function(t,i){var r=i.ds(u,n.yu);return{top:Math.max(t.top,r.top),bottom:Math.max(t.bottom,r.bottom),left:Math.max(t.left,r.left),right:Math.max(t.right,r.right)}}),{top:0,bottom:0,left:0,right:0});rd(this.So,this.PA,this.uiScale.Gi(),this.yu,a);var h=o(this.Ud.x.getInnerInterval()-(this.yu.left+this.yu.right),this.Ud.y.getInnerInterval()-(this.yu.bottom+this.yu.top+u)),f=o(h.x-a.left-a.right,h.y-a.top-a.bottom),c=o(this.yu.left+(h.x+a.left-a.right)/2,this.yu.bottom+(h.y+a.bottom-a.top)/2),l=0;for(r=0;r<s.length;r+=1)l+=Math.abs(s[r].getAnimatedValue());var v,d=[];for(r=0;r<s.length;r+=1)d.push((v=Math.abs(s[r].getAnimatedValue()))>0?v/l:0);for(r=0;r<s.length;r+=1){var y=s[r];y.ls.Os(this.mk(y,d[r])).ds()}d.push(l),this.Og.Le(!1,this.tk,(function(t,i,r){var e=d[s.indexOf(t)]||0,o=n.qi.Fh(i);return{cursorPosition:{pointMarker:{x:o.engineX,y:o.engineY},pointMarkerScale:n.qi.Yi,resultTable:{x:o.engineX,y:o.engineY},resultTableScale:n.qi.Yi},slice:t,category:t.getName(),value:t.getValue(),relativeValue:e}})),this.Ar.forEach((function(t){return t.Le(u,n.yu)})),this.xk(s,d,c,f,a)},n.prototype.gk=function(t,i){t.setStyle(this.sd?new _u({color:this.sd.getColors(t.getAnimatedValue(),void 0)}):this.yk(i,t),this.Ak,this.pk,this.bk,this.rk)},n.prototype.ck=function(){this.tk=this.tk.sort(this.ik),this.qi.vr()},n.prototype.lA=function(){return this.tk},n.prototype.dispose=function(){return this.tk.slice().forEach((function(t){return t.dispose()})),this.Og.Ft(),this.vk.Ft(),this.dk.Ft(),i.prototype.dispose.call(this)},n.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},n.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},n}(id),Mm=function(t,i,n){return[[{component:i.slice,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[{text:i.value.toString(),font:{weight:"bold"}}]]},Cm=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tm=function(i,n,r){var e=i.oc();if(0===e.length)return{x:0,y:0};var o=(e[1].y-e[0].y)/2+e[0].y;return{x:n===t.FunnelLabelSide.Left?(e[0].x-e[1].x)/2+e[1].x-r:(e[2].x-(4===e.length?e[3].x:e[1].x))/2+(4===e.length?e[3].x:e[1].x)+r,y:o}},km=function(t){var i=t.oc();if(i.length>0)return{x:(i[2].x-i[1].x)/2+i[1].x,y:(i[1].y-i[0].y)/2+i[0].y}},_m=function(i){function n(){var n=null!==i&&i.apply(this,arguments)||this;return n.mk=bm.NamePlusValue,n.Sk=0,n.wk=10,n.Mk=30,n.Ck=10,n.Tk=t.FunnelLabelSide.Left,n.kk=[],n._k=n.en.funnelChartConnectorStrokeStyle,n}return Cm(n,i),n.prototype.setLabelConnectorStyle=function(t){this._k=t;for(var i=0;i<this.kk.length;i+=1)this.kk[i].Ye(this._k);return this.qi.vr(),this},n.prototype.getLabelConnectorStyle=function(){return this._k},n.prototype.setLabelConnectorGapBeforeLabel=function(t){return this.wk=t,this.qi.vr(),this},n.prototype.getLabelConnectorGapBeforeLabel=function(){return this.wk},n.prototype.setLabelConnectorGapBeforeSlice=function(t){return this.Sk=t,this.qi.vr(),this},n.prototype.getLabelConnectorGapBeforeSlice=function(){return this.Sk},n.prototype.setLabelConnectorLengthAfterSlice=function(t){return this.Mk=t,this.qi.vr(),this},n.prototype.getLabelConnectorLengthAfterSlice=function(){return this.Mk},n.prototype.setLabelConnectorMinLengthBeforeSlice=function(t){return this.Ck=t,this.qi.vr(),this},n.prototype.getLabelConnectorMinLengthBeforeSlice=function(){return this.Ck},n.prototype.setLabelSide=function(t){return this.Tk=t,this.qi.vr(),this},n.prototype.getLabelSide=function(){return this.Tk},n.prototype.xk=function(i,n,r,e,o){for(var s=0,u=0,a=0;a<i.length;a+=1){var h=i[a].ls.setVisible(!0).ds().al();s=Math.max(s,h.x),u+=h.y}var f=.4*e.x,c=e.x-f-(this.Sk+this.Mk+this.Ck+this.wk),l=!0;c<50?l=!1:s>c&&(i.forEach((function(t){var i=t.ls.js(),n=t.ls.al().x/i.length,r=Math.floor(c/n);if(r<i.length){var e=i.slice(0,r-3)+"...";t.ls.Os(e).ds()}})),u=0,s=i.reduce((function(t,i){var n=i.ls.al();return u+=n.y,Math.max(t,n.x)}),0));var v=this.Tk===t.FunnelLabelSide.Left?this.yu.left+o.left:this.yu.left+e.x,d=this.Tk===t.FunnelLabelSide.Left?-1:1,y=e.y-u;y<0&&(l=!1);var A=l?s+this.wk+this.Ck+this.Mk+this.Sk:0,b=e.x-A,p=this.Tk===t.FunnelLabelSide.Left?this.yu.left+A:this.yu.left,m=this.Tk===t.FunnelLabelSide.Left?p+b:this.yu.left+b,g=(p+m)/2;Sm(i,100,this.sk,{x:b,y:e.y},this.yu,this.uk,this.ak,g,o);var x=i.filter((function(t){return l&&0!==t.Kx.oc().length?(t.ls.setVisible(!0),!0):(t.ls.setVisible(!1),!1)})),S=y/(x.length+1),w=this.yu.bottom+e.y-(this.ak==t.FunnelSliceModes.VariableHeight?S:0)+o.bottom;this.ak==t.FunnelSliceModes.VariableWidth&&(w-=u/i.length/2);var M=this.Tk===t.FunnelLabelSide.Left?p:m,C=this.Tk===t.FunnelLabelSide.Left?g-.5*this.sk/100*b:g+.5*this.sk/100*b,T=this.yu.bottom+e.y+o.bottom,k=this.yu.bottom+o.bottom;for(a=0;a<this.kk.length;a+=1)this.kk[a].setVisible(!1);for(a=0;a<x.length;a+=1){var _=x[a],O=_.Kx,F=_.ls,I=(h=F.al(),Tm(O,this.Tk,this.Sk));if(this.ak==t.FunnelSliceModes.VariableHeight){_.ls.Ee({x:v,y:w}).wf({x:d,y:1});var j=w-.5*h.y,B={x:L=this.Tk===t.FunnelLabelSide.Left?Math.min(ea(M,C,(j-T)/(k-T))-this.Mk,I.x):Math.max(ea(M,C,(j-T)/(k-T))+this.Mk,I.x),y:j},D={x:this.Tk===t.FunnelLabelSide.Left?F.vf().x+h.x+this.wk:F.vf().x-h.x-this.wk,y:j};this.Ok([I,B,D]),w-=h.y+S}else{var L=this.Tk===t.FunnelLabelSide.Left?v+h.x+this.wk:v-h.x-this.wk;_.ls.Ee({x:v,y:I.y}).wf({x:d,y:0}),this.Ok([I,{x:L,y:I.y}])}}},n.prototype.getMinimumSize=function(){return o(500,300)},n.prototype.Ok=function(t){if(t){for(var i=void 0,n=0;n<this.kk.length;n+=1)if(!this.kk[n].getVisible()){i=this.kk[n].setVisible(!0);break}void 0===i&&(i=this.dk.Fb(this.Ud,void 0,[fd.InternalUI]).Ye(this._k),this.kk.push(i)),i.Sn().Wf(t)}},n}(wm),Om=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.mk=bm.Name,i}return Cm(i,t),i.prototype.xk=function(t,i,n,r,e){var o=this.yu.left+r.x/2;Sm(t,100,this.sk,r,this.yu,this.uk,this.ak,o,e);for(var s=0;s<t.length;s+=1){var u=t[s],a=u.Kx,h=u.ls,f=km(a);f&&h.Ee(f).pf(0).xf(0)}},i.prototype.getMinimumSize=function(){return o(200,200)},i}(wm),Fm={LabelsOnSides:_m,LabelsInsideSlices:Om};t.FunnelLabelSide=void 0,(gm=t.FunnelLabelSide||(t.FunnelLabelSide={}))[gm.Right=0]="Right",gm[gm.Left=1]="Left";var Im,jm=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bm=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Dm=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return jm(i,t),i}(cm),Lm=function(t){function i(i,n,r,e,o,s,u,a){var h=t.call(this,e,s,u,a)||this;return h.XT=!1,h.Fk=Cu,h.ZT=Cu,h.JT=h.S,h.Ik=h.XT?1:0,h.jk=h.getVisible(),h.QT=ke((function(){return h.chart.qi.vr()})),h.Bk=ke((function(){return h.chart.qi.vr()})),h.KT=function(){h.qT=void 0},h.Dk=function(){h.Lk=void 0},h.Ct=new we,h.index=i,h.chart=e,h.scale=o,h.Hn=s,h.Ek=n.fv(o).vn(h.getHighlight()),h.rr(h.Ek),h.ls=r.$s(o).vn(h.getHighlight()),h.rr(h.ls,{isText:!0}),h.addEventListener("click",(function(t){t.defaultPrevented||function(t,i){wo(i),t.setExploded(!t.getExploded())}(h,t)})),h}return jm(i,t),i.prototype.setValue=function(t){var i=this;return this.chart.getAnimationsEnabled()?this.jk&&this.$T(this.JT,t,(function(){return i.chart.Ar.forEach((function(t){return t.br()}))})):this.JT=t,this.S=t,this.chart.Ar.forEach((function(t){return t.br()})),this.chart.qi.vr(),this},i.prototype.getValue=function(){return this.S},i.prototype.setExploded=function(t){var i=this;if(t&&!1===this.chart.getMultipleSliceExplosion())for(var n=this.chart.getSlices(),r=0;r<n.length;r+=1)n[r]!==this&&n[r].getExploded()&&n[r].setExploded(!1);return this.chart.getAnimationsEnabled()?(this.Lk&&this.Lk.finish(),this.Lk=this.Bk(300,Ce.ease)([[this.Ik,t?1:0]],(function(t){var n=Bm(t,1)[0];i.Ik=n,i.chart.qi.vr()})),this.Lk.addEventListener("everyAnimationEnd",this.Dk),this.XT=!this.XT):!1!==this.chart.getMultipleSliceExplosion()||t?(this.Ik=this.XT?0:1,this.XT=!this.XT):(this.Ik=0,this.XT=!this.XT),this.chart.qi.vr(),this},i.prototype.getExploded=function(){return this.XT},i.prototype.setVisible=function(i){var n=this;return this.jk=i,!1===i?this.chart.getAnimationsEnabled()&&Math.abs(this.JT)>0?(this.qT&&(this.qT.finish(!1),this.qT=void 0),this.$T(this.JT,0,(function(){return t.prototype.setVisible.call(n,!1)}))):(this.JT=0,t.prototype.setVisible.call(this,!1)):this.chart.getAnimationsEnabled()?(this.qT&&(this.qT.finish(!1),this.qT=void 0),t.prototype.setVisible.call(this,!0),this.$T(this.JT,this.S)):(this.JT=this.S,t.prototype.setVisible.call(this,!0)),this},i.prototype.$T=function(t,i,n){var r=this;this.qT=this.QT(300,Ce.ease)([[t,i]],(function(t){var i=Bm(t,1)[0];r.JT=i,r.chart.qi.vr()})),this.qT.addEventListener("everyAnimationEnd",this.KT),n&&this.qT.addEventListener("end",n)},i.prototype.setStyle=function(t,i,n,r,e){this.Fk=t,this.ZT=n,this.Ek.Be(this.Fk).je(i),this.ls.Be(this.ZT).qo(r)._s(e)},i.prototype.getAnimatedValue=function(){return this.JT},i.prototype.getAnimatedExplosion=function(){return this.Ik},i.prototype.Pe=function(){return{fill:this.Fk,stroke:this.Ek.Ch()}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(Dm),Em=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pm=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Em(i,t),i}(cm),zm=function(t){function i(i,n,r,e,o,s,u,a){var h=t.call(this,e,s,u,a)||this;return h.yt="Slice",h.S=0,h.XT=!1,h.HT=Cu,h.ZT=Cu,h.JT=h.S,h.QT=ke((function(){return h.chart.qi.vr()})),h.KT=function(){h.qT=void 0},h.Ct=new we,h.index=i,h.chart=e,h.scale=o,h.Hn=s,h.Kx=n.vl(o,tc.Simple).vn(h.getHighlight()),h.rr(h.Kx),h.ls=r.$s(o).vn(h.getHighlight()),h.rr(h.ls,{isText:!0}),h}return Em(i,t),i.prototype.setValue=function(t){var i=this;return this.chart.getAnimationsEnabled()?this.getVisible()&&this.$T(this.JT,t,(function(){return i.chart.Ar.forEach((function(t){return t.br()}))})):this.JT=t,this.S=t,this.chart.Ar.forEach((function(t){return t.br()})),this.chart.qi.vr(),this},i.prototype.getValue=function(){return this.S},i.prototype.setVisible=function(i){var n=this;return!1===i?this.chart.getAnimationsEnabled()&&Math.abs(this.JT)>0?(this.qT&&(this.qT.finish(!1),this.qT=void 0),this.$T(this.JT,0,(function(){return t.prototype.setVisible.call(n,!1)}))):(this.JT=0,t.prototype.setVisible.call(this,!1)):this.chart.getAnimationsEnabled()?(this.qT&&(this.qT.finish(!1),this.qT=void 0),t.prototype.setVisible.call(this,!0),this.$T(this.JT,this.S)):(this.JT=this.S,t.prototype.setVisible.call(this,!0)),this},i.prototype.$T=function(t,i,n){var r=this;this.qT=this.QT(300,Ce.ease)([[t,i]],(function(t){var i=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(t,1)[0];r.JT=i,r.chart.qi.vr()})),this.qT.addEventListener("everyAnimationEnd",this.KT),n&&this.qT.addEventListener("end",n)},i.prototype.setStyle=function(t,i,n,r,e){this.HT=t,this.ZT=n,this.Kx.Be(this.HT).je(i),this.ls.Be(this.ZT).qo(r)._s(e)},i.prototype.getAnimatedValue=function(){return this.JT},i.prototype.Pe=function(){return{fill:this.HT,stroke:this.Kx.Ch()}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(Pm),Nm=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vm=function(){return Vm=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Vm.apply(this,arguments)};t.PyramidSliceModes=void 0,(Im=t.PyramidSliceModes||(t.PyramidSliceModes={}))[Im.VariableHeight=0]="VariableHeight",Im[Im.VariableWidth=1]="VariableWidth";var Rm,Gm,Um=function(t,i){return t<=0?0:i*((t>=100?100:t)/100)},Ym=function(i,n,r,e,o,s,u,a,h){void 0===s&&(s=0),void 0===u&&(u=t.PyramidSliceModes.VariableHeight),void 0===h&&(h=os),n=Um(n,e.x),r=Um(r,e.x);var f,c=i.length,l=0;f=i.reduce((function(t,i){return t+Math.abs(i.getAnimatedValue())}),0);var v={x:a-n/2+h.left,y:e.y+o.bottom+h.bottom},d={x:a+n/2+h.left,y:e.y+o.bottom+h.bottom},y={x:0,y:o.bottom},A={x:0,y:o.bottom},b=0,p=0;if(s)for(var m=0;m<i.length;m+=1){p+=Math.abs(i[m].getAnimatedValue());var g=u===t.PyramidSliceModes.VariableWidth?(e.y-s*c)/c:e.y+o.bottom-p/f*e.y;if(u===t.PyramidSliceModes.VariableWidth){s=g-s<10?Math.max(20,g-10):s;break}0!==b&&b-g-s<10&&(s=Math.max(0,b-g-10)),b=g}var x=(n-r)/2/e.y;for(m=0;m<c;m+=1){var S=i[m];l+=Math.abs(S.getAnimatedValue());var w,M=u===t.PyramidSliceModes.VariableWidth?(e.y-s*c)/c:e.y+o.bottom-l/f*e.y;m>0&&(v={x:y.x+x*s,y:y.y-s},d={x:A.x-x*s,y:A.y-s}),y={x:a-(w=(n+l/f*(r-n))/2)+h.left,y:u===t.PyramidSliceModes.VariableWidth?v.y-M:M+h.bottom},A={x:a+w+h.left,y:u===t.PyramidSliceModes.VariableWidth?d.y-M:M+h.bottom},d.x>=v.x&&A.x>=y.x&&S.Kx.rc([y,v,d,A])}},Wm=function(i){function n(n,r,e,o,s,u,a){var h,f=this;(f=i.call(this,n,r,e,r.EA("pyramidChart bg",0),o,r.qi.en.pyramidChartBackgroundFillStyle,r.qi.en.pyramidChartBackgroundStrokeStyle,r.qi.en.pyramidChartTitleFont,r.qi.en.pyramidChartTitleFillStyle,r.qi.en.pyramidChartTitleShadow,u,null===(h=null==a?void 0:a.legend)||void 0===h?void 0:h.customLegend)||this).tk=[],f.ik=Am.None,f.yk=f.en.pyramidChartSliceFillStylePalette,f.Ak=f.en.pyramidChartSliceStrokeStyle,f.nk=!0,f.bk=f.en.pyramidChartSliceLabelFont,f.pk=f.en.pyramidChartSliceLabelFillStyle,f.rk=f.en.pyramidChartSliceLabelShadow,f.ek=0,f.sk=100,f.uk=5,f.ak=t.PyramidSliceModes.VariableHeight,f.hk=!0,f.fk=function(t){var i=f.tk.indexOf(t);i>=0&&(f.tk.splice(i,1),f.ck())},f.Ct=new we,f.qi.qa(gf.Qu),f.lk=f.en.effectsText,f.vk=r.xg("pyramidChart bottom",0),f.dk=r.xg("pyramidChart top",1),f.So.Os("Pyramid Chart");var c=r._g(),l=oo(a?a.cursorBuilder:void 0,Ny);f.Og=mS(f,c,l.qm(c,f.uiScale,f.uiScale,io,f.en),void 0,"show-pointed",Xm,(function(){return 0})),f.LA(s,f.Ud),f.setAnimationsEnabled(!1!==(null==a?void 0:a.animationsEnabled));var v=Vm({backgroundVisible:!0},null==a?void 0:a.legend);return f.legend.setOptions(v),f}return Nm(n,i),n.prototype.setCursor=function(t){return this.Og.setCursor(t),this},n.prototype.getCursor=function(){return this.Og.getCursor()},n.prototype.setCursorMode=function(t){return this.Og.setCursorMode(t),this},n.prototype.getCursorMode=function(){return this.Og.getCursorMode()},n.prototype.setCustomCursor=function(t){return this.Og.setCustomCursor(t),this},n.prototype.setCursorDynamicBehavior=function(t){return this.Og.zg(t),this},n.prototype.setCursorFormatting=function(t){return this.Og.setCursorFormatting(t),this},n.prototype.getCursorFormatting=function(){return this.Og.getCursorFormatting()},n.prototype.addCursor=function(t){void 0===t&&(t=Ny);var i=this.CA(),n=t.qm(i,this.uiScale,this.uiScale,this.xA(i),this.en);return this.BA(n),n},n.prototype.addSlice=function(t,i){var n=new zm(this.ek,this.vk,this.dk,this,this.Ud,this.fk,this.en,this.qi.Qn);return this.ek+=1,n.setName(t),n.setValue(i),n.Qn.qn.lr(this.lk),n.Qn.$n.lr(this.hk),this.tk.push(n),this.qi.vr(),this.Ar.forEach((function(t){t.fA()&&t.Wf(n)})),n},n.prototype.addSlices=function(t){for(var i=[],n=0;n<t.length;n+=1)i.push(this.addSlice(t[n].name,t[n].value));return i},n.prototype.getSlices=function(){return this.tk},n.prototype.setNeckWidth=function(t){return this.sk=ro(t,1,100),this.qi.vr(),this},n.prototype.getNeckWidth=function(){return this.sk},n.prototype.setSliceGap=function(t){return this.uk=Math.min(Math.max(t,0),20),this.qi.vr(),this},n.prototype.setSliceMode=function(t){return this.ak=t,this.qi.vr(),this},n.prototype.getPyramidSliceMode=function(){return this.ak},n.prototype.setLUT=function(t){return this.sd=t,this.qi.vr(),this},n.prototype.setSliceFillStyle=function(t){return this.yk=t,this.qi.vr(),this},n.prototype.getSliceFillStyle=function(){return this.yk},n.prototype.setSliceStrokeStyle=function(t){return this.Ak="function"==typeof t?t(this.Ak):t,this.qi.vr(),this},n.prototype.getSliceStrokeStyle=function(){return this.Ak},n.prototype.setSliceEffect=function(t){return this.hk=t,this.tk.forEach((function(i){return i.Qn.$n.lr(t)})),this.qi.vr(),this},n.prototype.getSliceEffect=function(){return this.hk},n.prototype.setSliceSorter=function(t){return this.ik=t,this.tk=this.tk.sort(this.ik),this.qi.vr(),this},n.prototype.getSliceSorter=function(){return this.ik},n.prototype.setLabelFillStyle=function(t){return this.pk="function"==typeof t?t(this.pk):t,this.qi.vr(),this},n.prototype.getLabelFillStyle=function(){return this.pk},n.prototype.setLabelShadow=function(t){return this.rk=t,this.qi.vr(),this},n.prototype.getLabelShadow=function(){return this.rk},n.prototype.setLabelFont=function(t){return this.bk="function"==typeof t?t(this.bk):t,this.qi.vr(),this},n.prototype.getLabelFont=function(){return this.bk},n.prototype.setLabelEffect=function(t){return this.lk=t,this.tk.forEach((function(i){return i.Qn.qn.lr(t)})),this.qi.vr(),this},n.prototype.getLabelEffect=function(){return this.lk},n.prototype.setLabelFormatter=function(t){return this.mk=t,this.qi.vr(),this},n.prototype.getLabelFormatter=function(){return this.mk},n.prototype.setSliceHighlightOnHover=function(t){return this.nk=t,this.tk.forEach((function(i){return i.setHighlightOnHover(t)})),this},n.prototype.Le=function(t){var n=this;i.prototype.Le.call(this,t),i.prototype.DA.call(this),this.tk=this.tk.sort(this.ik);for(var r=0,e=this.tk.length;r<e;r+=1)this.gk(this.tk[r],r);var s=this.tk.filter((function(t){return Math.abs(t.getAnimatedValue())>0})),u=nd(this.So,this.PA),a=this.Ar.reduce((function(t,i){var r=i.ds(u,n.yu);return{top:Math.max(t.top,r.top),bottom:Math.max(t.bottom,r.bottom),left:Math.max(t.left,r.left),right:Math.max(t.right,r.right)}}),{top:0,bottom:0,left:0,right:0});rd(this.So,this.PA,this.uiScale.Gi(),this.yu,a);var h=o(this.Ud.x.getInnerInterval()-(this.yu.left+this.yu.right),this.Ud.y.getInnerInterval()-(this.yu.bottom+this.yu.top+u)),f=o(h.x-a.left-a.right,h.y-a.top-a.bottom),c=o(this.yu.left+(h.x+a.left-a.right)/2,this.yu.bottom+(h.y+a.bottom-a.top)/2),l=0;for(r=0;r<s.length;r+=1)l+=Math.abs(s[r].getAnimatedValue());var v,d=[];for(r=0;r<s.length;r+=1)d.push((v=Math.abs(s[r].getAnimatedValue()))>0?v/l:0);for(r=0;r<s.length;r+=1){var y=s[r];y.ls.Os(this.mk(y,d[r])).ds()}d.push(l),this.Og.Le(!1,this.tk,(function(t,i,r){var e=d[s.indexOf(t)]||0,o=n.qi.Fh(i);return{cursorPosition:{pointMarker:{x:o.engineX,y:o.engineY},pointMarkerScale:n.qi.Yi,resultTable:{x:o.engineX,y:o.engineY},resultTableScale:n.qi.Yi},slice:t,category:t.getName(),value:t.getValue(),relativeValue:e}})),this.Ar.forEach((function(t){return t.Le(u,n.yu)})),this.xk(s,d,c,f,a)},n.prototype.gk=function(t,i){t.setStyle(this.sd?new _u({color:this.sd.getColors(t.getAnimatedValue(),void 0)}):this.yk(i,t),this.Ak,this.pk,this.bk,this.rk)},n.prototype.ck=function(){this.tk=this.tk.sort(this.ik),this.qi.vr()},n.prototype.lA=function(){return this.tk},n.prototype.dispose=function(){return this.tk.slice().forEach((function(t){return t.dispose()})),this.Og.Ft(),this.vk.Ft(),this.dk.Ft(),i.prototype.dispose.call(this)},n.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},n.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},n}(id),Xm=function(t,i,n){return[[{component:i.slice,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[{text:i.value.toString(),font:{weight:"bold"}}]]},Hm=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zm=function(i,n,r){var e=i.oc();if(0===e.length)return{x:0,y:0};var o=(e[1].y-e[0].y)/2+e[0].y;return{x:n===t.PyramidLabelSide.Left?(e[0].x-e[1].x)/2+e[1].x-r:(e[2].x-(4===e.length?e[3].x:e[1].x))/2+(4===e.length?e[3].x:e[1].x)+r,y:o}},Jm=function(t){var i=t.oc();if(i.length>0)return{x:(i[2].x-i[1].x)/2+i[1].x,y:(i[1].y-i[0].y)/2+i[0].y}},Qm=function(i){function n(){var n=null!==i&&i.apply(this,arguments)||this;return n.mk=bm.NamePlusValue,n.Sk=0,n.wk=10,n.Mk=30,n.Ck=10,n.Tk=t.PyramidLabelSide.Left,n.Pk=t.SliceLabelIndices.LabelsOnSides,n.kk=[],n._k=n.en.pyramidChartConnectorStrokeStyle,n}return Hm(n,i),n.prototype.setLabelConnectorStyle=function(t){this._k=t;for(var i=0;i<this.kk.length;i+=1)this.kk[i].Ye(this._k);return this.qi.vr(),this},n.prototype.getLabelConnectorStyle=function(){return this._k},n.prototype.setLabelConnectorGapBeforeLabel=function(t){return this.wk=t,this.qi.vr(),this},n.prototype.getLabelConnectorGapBeforeLabel=function(){return this.wk},n.prototype.setLabelConnectorGapBeforeSlice=function(t){return this.Sk=t,this.qi.vr(),this},n.prototype.getLabelConnectorGapBeforeSlice=function(){return this.Sk},n.prototype.setLabelConnectorLengthAfterSlice=function(t){return this.Mk=t,this.qi.vr(),this},n.prototype.getLabelConnectorLengthAfterSlice=function(){return this.Mk},n.prototype.setLabelConnectorMinLengthBeforeSlice=function(t){return this.Ck=t,this.qi.vr(),this},n.prototype.getLabelConnectorMinLengthBeforeSlice=function(){return this.Ck},n.prototype.setLabelSide=function(t){return this.Tk=t,this.qi.vr(),this},n.prototype.getLabelSide=function(){return this.Tk},n.prototype.xk=function(i,n,r,e,o){for(var s=0,u=0,a=0;a<i.length;a+=1){var h=i[a].ls.al();s=Math.max(s,h.x),u+=h.y}var f=.4*e.x,c=e.x-f-(this.Sk+this.Mk+this.Ck+this.wk),l=!0;c<50?l=!1:s>c&&(i.forEach((function(t){var i=t.ls.js(),n=t.ls.al().x/i.length,r=Math.floor(c/n);if(r<i.length){var e=i.slice(0,r-3)+"...";t.ls.Os(e).ds()}})),u=0,s=i.reduce((function(t,i){var n=i.ls.al();return u+=n.y,Math.max(t,n.x)}),0));var v=this.Tk===t.PyramidLabelSide.Left?this.yu.left+o.left:this.yu.left+e.x,d=this.Tk===t.PyramidLabelSide.Left?-1:1,y=e.y-u;y<0&&(l=!1);var A=l?s+this.wk+this.Ck+this.Mk+this.Sk:0,b=e.x-A,p=this.Tk===t.PyramidLabelSide.Left?this.yu.left+A:this.yu.left,m=this.Tk===t.PyramidLabelSide.Left?p+b:this.yu.left+b,g=(p+m)/2;Ym(i,.001,this.sk,{x:b,y:e.y},this.yu,this.uk,this.ak,g,o);var x=i.filter((function(t){return l&&0!==t.Kx.oc().length?(t.ls.setVisible(!0),!0):(t.ls.setVisible(!1),!1)})),S=y/(x.length+1),w=this.yu.bottom+e.y-(this.ak==t.PyramidSliceModes.VariableHeight?S:0)+o.bottom;this.ak==t.PyramidSliceModes.VariableWidth&&(w-=u/i.length/2);var M=g,C=this.Tk===t.PyramidLabelSide.Left?p:m,T=this.yu.bottom+e.y+o.bottom,k=this.yu.bottom+o.bottom;for(a=0;a<this.kk.length;a+=1)this.kk[a].setVisible(!1);for(a=0;a<x.length;a+=1){var _=x[a],O=_.Kx,F=_.ls,I=(h=F.al(),Zm(O,this.Tk,this.Sk));if(this.ak==t.PyramidSliceModes.VariableHeight){_.ls.Ee({x:v,y:w}).wf({x:d,y:1});var j=w-.5*h.y,B={x:L=this.Tk===t.PyramidLabelSide.Left?Math.min(ea(M,C,(j-T)/(k-T))-this.Mk,I.x):Math.max(ea(M,C,(j-T)/(k-T))+this.Mk,I.x),y:j},D={x:this.Tk===t.PyramidLabelSide.Left?F.vf().x+h.x+this.wk:F.vf().x-h.x-this.wk,y:j};this.Ok([I,B,D]),w-=h.y+S}else{var L=this.Tk===t.PyramidLabelSide.Left?v+h.x+this.wk:v-h.x-this.wk;_.ls.Ee({x:v,y:I.y}).wf({x:d,y:0}),this.Ok([I,{x:L,y:I.y}])}}},n.prototype.getMinimumSize=function(){return o(500,300)},n.prototype.Ok=function(t){for(var i,n=0;n<this.kk.length;n+=1)if(!this.kk[n].getVisible()){i=this.kk[n].setVisible(!0);break}void 0===i&&(i=this.dk.Fb(this.Ud,void 0,[fd.InternalUI]).Ye(this._k),this.kk.push(i)),i.Sn().Wf(t)},n}(Wm),Km=function(i){function n(){var n=null!==i&&i.apply(this,arguments)||this;return n.mk=bm.Name,n.Pk=t.SliceLabelIndices.LabelsInsideSlices,n}return Hm(n,i),n.prototype.xk=function(t,i,n,r,e){var o=this.yu.left+r.x/2;Ym(t,.001,this.sk,r,this.yu,this.uk,this.ak,o,e);for(var s=0;s<t.length;s+=1){var u=t[s].Kx,a=t[s].ls,h=Jm(u);h&&a.Ee(h).pf(0).xf(0)}},n.prototype.getMinimumSize=function(){return o(200,200)},n}(Wm),qm={LabelsOnSides:Qm,LabelsInsideSlices:Km};t.PyramidLabelSide=void 0,(Rm=t.PyramidLabelSide||(t.PyramidLabelSide={}))[Rm.Right=0]="Right",Rm[Rm.Left=1]="Left",t.SpiderWebMode=void 0,(Gm=t.SpiderWebMode||(t.SpiderWebMode={}))[Gm.Normal=0]="Normal",Gm[Gm.Circle=1]="Circle";var $m=function(){function i(t,i,n,r,e,o,s,u,a){var h=this;this.vo=!1,this.zk=zh.fitting({start:!1}),this.Nk=function(t){return h.axisScale.Fi(t,cu.Numeric)},this.formatValue=function(t){return h.Nk(t,{start:h.axisScale.It,end:h.axisScale.jt})},this.Vk=t,this.iu=i,this.scale=n,this.chart=r,this.tag=e,this.axisScale=ne.d1({scale1DConstructor:Jr,dimension:"x"}).Et(0,1),this.Rk=o,this.zk=u,a&&(this.Nk=a),s&&this.setInterval(s),this.Gk=this.Vk.We(this.scale).setPointerEvents(!1),this.Uk=this.iu.$s(this.scale).Os(this.tag).setPointerEvents(!1),this.Yk=this.Vk.Fb(this.scale,void 0,[fd.InternalUI]).Ye(this.chart.getNibStyle()),this.Rk.er([this.Uk])}return i.prototype.xk=function(i,n,r,e,s,u,a){var h=n.length,f=n[r>0?r-1:h-1],c=n[r],l=n[r<h-1?r+1:0],v=this.chart.getNibLength();this.Gk.He(i).Xe(c).Ye(this.chart.getAxisStyle()),this.Yk.Sn().Wf(u===t.SpiderWebMode.Normal?[Is(c,f,ro(.5*v/Gs(Ws(f,c)),0,1)),c,Is(c,l,ro(.5*v/Gs(Ws(l,c)),0,1))]:function(t,i,n,r,e){void 0===e&&(e=2);for(var s=r/n,u=[],a=-r/2;a<=r/2;a+=e){var h=s*(a/r)+i,f=o(t.x+Math.cos(h)*n,t.y+Math.sin(h)*n);u.push(f)}return u}(i,e,s,v)),a?this.Uk.setVisible(!0).Ee(Ys(c,o(a.paddingX,a.paddingY))).pf(a.alignmentX).xf(a.alignmentY):this.Uk.setVisible(!1)},i.prototype.Ys=function(t){if(this.zk&&!this.vo){var i=this.zk.apply({axis:this,curStart:this.axisScale.getInnerStart(),curEnd:this.axisScale.getInnerEnd(),seriesDataRange:t});i&&this.axisScale.Et(i.start,i.end)}},i.prototype.getLabelSize=function(){return this.Uk.qo(this.chart.getAxisLabelFont()).Be(this.chart.getAxisLabelStyle()).ds().ai()},i.prototype.dispose=function(){this.Gk&&this.Gk.dispose(),this.Uk&&this.Uk.dispose(),this.Yk&&this.Yk.dispose()},i.prototype.getTag=function(){return this.tag},i.prototype.setInterval=function(t){var i=t.start,n=t.end,r=t.stopAxisAfter;return void 0!==r&&(this.vo=r),this.axisScale.Et(null!=i?i:this.axisScale.getInnerStart(),null!=n?n:this.axisScale.getInnerEnd()),this.chart.qi.vr(),this},i.prototype.getInterval=function(){return{start:this.axisScale.getInnerStart(),end:this.axisScale.getInnerEnd()}},i.prototype.setScaleLabelFormatter=function(t){return this.Nk=t,this.chart.qi.vr(),this},i.prototype.setScrollStrategy=function(t){return this.zk=Qh(t),this.chart.qi.vr(),this},i.prototype.getScrollStrategy=function(){return this.zk},i}(),tg=function(t,i,n,r,e,o){return t.alignmentX=(e+Math.PI/2)%(2*Math.PI)<=Math.PI?-1:1,t.alignmentY=e%(2*Math.PI)<=Math.PI?-1:1,t.paddingX=Math.cos(e)*o,t.paddingY=Math.sin(e)*o,t},ig=function(t){if(0===t.axisIndex)return t.paddingX=t.labelPadding,t.alignmentX=-1,t;var i=!1,n=t.chart.getAxes();if(n.length>1){var r=n[0].getInterval();i=n.some((function(t){var i=t.getInterval();return i.start!==r.start||i.end!==r.end}))}return i?(t.paddingX=t.labelPadding,t.alignmentX=-1,t):void 0},ng=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rg=function(i){function n(n,r,e,o,s,u,a,h,f,c,l,v){var d,y,A=i.call(this,n,f,c,v)||this;return A.yt="Spider Series",A.Wk=new Map,A.Xk=new Map,A.Wn=t.HighlightModes.onHover,A.gT=8,A.$h=0,A.Hk=(y=ke((function(){})),function(t,i,n,r){var e,o=null==r?void 0:r.onStart,s=null==r?void 0:r.onCompleted,u=(null==r?void 0:r.easing)||Ce.ease,a=(null==r?void 0:r.durationMs)||1e3;if(d)if(0===d.nextAnimations.length){var h=d.NextAnimation([[t,i]],(function(t){var i=Xe(t,1)[0];d=h,n(i)}),a,u);e=h}else{t=d.nextAnimations.pop().values[0][0];var f=d.NextAnimation([[t,i]],(function(t){var i=Xe(t,1)[0];d=f,n(i)}),a,u);e=f}else e=y(a,u)([[t,i]],(function(t){var i=Xe(t,1)[0];n(i)})),d=e;e.addEventListener("end",(function(){d=void 0})),o&&e.addEventListener("start",o),s&&e.addEventListener("end",s)}),A.Zk={},A.Jk={},A.jk=A.getVisible(),A.Qk=1,A.Kk=function(t,i){var n,r,e=ke((function(){})),o=1;return function(s,u,a){if(s!==r){r=s;var h=(null==a?void 0:a.easing)||Ce.ease,f=(null==a?void 0:a.durationMs)||1e3;n&&(n.finish(!1),n=void 0),!1===s?u&&o&&((n=e(f,h)([[o,0]],(function(i){var n=Xe(i,1)[0];t(o=n)}))).addEventListener("end",(function(){n=void 0,i(!1)})),o=0,i(!1)):u?(i(!0),(n=e(f,h)([[o,1]],(function(i){var n=Xe(i,1)[0];t(o=n)}))).addEventListener("end",(function(){n=void 0}))):(o=1,i(!0))}}}((function(t){A.Qk=t,A.kr.qi.vr()}),(function(t){i.prototype.setVisible.call(A,t)})),A.qk=!1,A.Ct=new we,A.chart=n,A.kr=r,A.xT=o,A.$k=s,A.Sg=u,A.t_=a,A.i_=h,A.scale=e,A.n_=Xo(c.spiderSeriesFillStyle,l),A.r_=Xo(c.spiderSeriesStrokeStyle,l),A.e_=Xo(c.spiderSeriesPointFillStyle,l),A}return ng(n,i),n.prototype.o_=function(){return this.qk},n.prototype.Bn=function(t,i,n){var r=this.i_(i);if(void 0!==r&&this.Wk.has(r.tag)){var e=this.Wk.get(r.tag),o=this.t_(r.tag,e);return{cursorPosition:{pointMarker:o,pointMarkerScale:this.scale,resultTable:o,resultTableScale:this.scale},series:this,axis:r.tag,value:e}}},n.prototype.ab=function(){return this.XA&&this.Wk.size>0&&this.getVisible()},n.prototype.addPoints=function(){for(var t=this,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var r,e=0===this.Wk.size;e||this.chart.qi.qa(gf.aa),i=i.filter((function(t){return void 0!==t.axis}));for(var o=0;o<i.length;o+=1){var s=i[o].axis;this.$k(s)}if(this.chart.getAnimationsEnabled()&&void 0!==this.Zk)i.forEach((function(i){return t.Xk.set(i.axis,i.value)})),this.Hk(0,1,(function(i){t.Xk.forEach((function(n,e){var o=(null==r?void 0:r.get(e))||0;t.Wk.set(e,o+i*(n-o)),t.kr.qi.vr()}))}),{easing:this.Zk.easing,durationMs:this.Zk.durationMs,onStart:function(){t.qk=e,r=new Map(t.Wk)},onCompleted:function(){t.qk=!1}});else for(o=0;o<i.length;o+=1){var u=i[o].axis;this.Wk.set(u,i[o].value),this.Xk.set(u,i[o].value)}return this.kr.vr(),this},n.prototype.getValue=function(t,i){if(void 0===i&&(i=!1),this.chart.getAxis(t))return i?this.Wk.get(t):this.Xk.get(t)},n.prototype.setAnimationAddPoints=function(t,i){return this.Zk=t?{easing:t,durationMs:i}:void 0,this.kr.vr(),this},n.prototype.setVisibleStateChangedAnimation=function(t,i){return this.Jk=t?{easing:t,durationMs:i}:void 0,this.kr.vr(),this},n.prototype.setFillStyle=function(t){return this.n_="function"==typeof t?t(this.n_):t,this.Kx&&(this.Kx.Be(this.n_),this.kr.vr()),this},n.prototype.getFillStyle=function(){return this.n_},n.prototype.setStrokeStyle=function(t){return this.r_="function"==typeof t?t(this.r_):t,this.Kx&&(this.Kx.je(this.r_),this.kr.vr()),this},n.prototype.getStrokeStyle=function(){return this.r_},n.prototype.setPointFillStyle=function(t){return this.e_="function"==typeof t?t(this.e_):t,this.ST&&(this.ST.xv(this.e_),this.kr.vr()),this},n.prototype.getPointFillStyle=function(){return this.e_},n.prototype.setPointSize=function(t){return this.gT=t,this.ST&&this.ST.Iv(t),this},n.prototype.getPointSize=function(){return this.gT},n.prototype.getPointShape=function(){return this.xT},n.prototype.setPointRotation=function(t){return this.$h=t,this.ST&&this.ST.Tv(t),this.kr.vr(),this},n.prototype.getPointRotation=function(){return this.$h},n.prototype.Le=function(){if(i.prototype.Le.call(this),!this.Hi){for(var t=new Array(this.Sg.length),n=0;n<this.Sg.length;n+=1){var r=this.Sg[n].getInterval().start,e=this.Wk.get(this.Sg[n].tag);t[n]=void 0!==e?this.t_(this.Sg[n].tag,r+this.Qk*(e-r)):this.t_(this.Sg[n].tag,r)}Do(t),t.length>=3&&(this.Kx||(this.Kx=this.kr.vl(this.scale,tc.Simple).je(this.r_).Be(this.n_).vn(this.getHighlight()),this.rr(this.Kx)),this.Kx.rc(t),this.ST||(this.ST=this.kr.wv(this.scale).Sv(Cu).Ye(Pe).Iv(this.gT).Mv(this.xT).Tv(this.$h).xv(this.e_).vn(this.getHighlight()),this.rr(this.ST)),this.ST.gv(new Mc({schema:{x:{pattern:null},y:{pattern:null}}}).appendJSON(t),{x:"x",y:"y"}))}},n.prototype.Pe=function(){return{fill:this.n_,stroke:this.r_}},n.prototype.Cr=function(){return this.yr||this.xT},n.prototype.ze=function(t,i){return t.vn(i),this.kr.vr(),this},n.prototype.setVisible=function(t){var i,n;return this.jk=t,this.Kk(t,this.chart.getAnimationsEnabled()&&void 0!==this.Jk,{easing:null===(i=this.Jk)||void 0===i?void 0:i.easing,durationMs:null===(n=this.Jk)||void 0===n?void 0:n.durationMs}),this},n.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},n.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},n}(xA),eg=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),og=function(){return og=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},og.apply(this,arguments)},sg=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},ug=function(t,i){var n=Math.PI/2-2*t*Math.PI/i;return n>=0?n:n+2*Math.PI},ag=function(t){return t.Uk.ol()},hg=function(t){return t.ol()},fg=function(i,n,r,e){return i.Wc(0).Ee(r).Rc(90).Xe(-270).Xc(n===t.SpiderWebMode.Circle?void 0:e.length)},cg={alignmentX:0,alignmentY:0,paddingX:0,paddingY:0},lg={alignmentX:0,alignmentY:0,paddingX:0,paddingY:0},vg=function(){lg.alignmentX=0,lg.alignmentY=0,lg.paddingX=0,lg.paddingY=0},dg=function(i){function n(n,r,e,o,s,u,a){var h,f=this;(f=i.call(this,n,r,e,r.EA("spiderChart bg",0),o,r.qi.en.spiderChartBackgroundFillStyle,r.qi.en.spiderChartBackgroundStrokeStyle,r.qi.en.spiderChartTitleFont,r.qi.en.spiderChartTitleFillStyle,r.qi.en.spiderChartTitleShadow,a,null===(h=null==u?void 0:u.legend)||void 0===h?void 0:h.customLegend)||this).Sg=[],f.s_=[],f.u_=[],f.zk=zh.fitting({start:!1}),f.a_=!0,f.h_=ig,f.f_=tg,f.c_=t.SpiderWebMode.Normal,f.l_=4,f.v_=f.en.spiderChartWebStyle,f.d_=f.en.spiderChartScaleLabelFillStyle,f.y_=f.en.spiderChartScaleLabelShadow,f.A_=f.en.spiderChartScaleLabelFont,f.b_=5,f.p_=f.en.spiderChartAxisLabelFillStyle,f.m_=f.en.spiderChartAxisLabelFont,f.g_=5,f.x_=f.en.spiderChartAxisStrokeStyle,f.S_=f.en.spiderChartAxisNibStrokeStyle,f.w_=10,f.M_=v(),f.hasAxis=function(t){return f.Sg.reduce((function(i,n){return i||n.tag===t}),!1)},f.C_=function(){var t=f.Sg.map(ag).concat(f.u_.map(hg));return Ms(t)},f.T_=function(){return f.k_.fv(f.Ud).setPointerEvents(!1)},f.__=function(t){return t.dispose()},f.O_=function(){return f.Id.$s(f.Ud).setPointerEvents(!1)},f.F_=function(t){return t.dispose()},f.I_=function(t){f.a_&&!f.hasAxis(t)&&f.addAxis(t)},f.t_=function(t,i){var n,r;try{for(var e=sg(f.Sg),o=e.next();!o.done;o=e.next()){var s=o.value;if(s.tag===t){var u=Math.max(Math.min((i-s.axisScale.getInnerStart())/(s.axisScale.getInnerEnd()-s.axisScale.getInnerStart()),1),0);return Is(s.Gk.ki(),s.Gk.Ti(),u)}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}},f.i_=function(t){var i,n;if(0!==f.Sg.length){var r,e=Ws(f.translateCoordinate(t,f.coordsRelative),f.Sg[0].Gk.ki()),o=Math.atan2(e.y,e.x),s=As;try{for(var u=sg(f.Sg),a=u.next();!a.done;a=u.next()){var h=a.value,c=Ws(h.Gk.Ti(),h.Gk.ki()),l=Math.atan2(c.y,c.x),v=Math.abs(o-l);v<s&&(r=h,s=v)}}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}return r}},f.Ct=new we,f.qi.qa(gf.qu),f.YC=r.gg("spiderChart series bg",0),f.k_=r.xg("spiderChart web shapes",0),f.j_=r.xg("spiderChart axis bg",1),f.$g=r.xg("spiderChart plotting",2),f.Id=r.xg("spiderChart fg",3),f.Rk=f.Qn.Zd().lr(f.en.effectsText),f.So.Os("Spider Chart"),f.sp=f.YC.fv(f.Ud).Be(f.en.spiderChartSeriesBackgroundFillStyle).je(Pe).Rc(90).Xe(-270).Wc(0),f.up=f.YC.fv(f.Ud).Be(Cu).je(f.en.spiderChartSeriesBackgroundStrokeStyle).Rc(90).Xe(-270).Wc(0),i.prototype.op.call(f,f.sp,f.up);var c=r._g(),l=oo(u?u.cursorBuilder:void 0,Py);f.Og=mS(f,c,l.qm(c,f.uiScale,f.uiScale,io,f.en),f,"show-pointed",yg,(function(){return 0})),f.setAnimationsEnabled(!1!==(null==u?void 0:u.animationsEnabled)),f.LA(s,f.Ud);var d=og({backgroundVisible:!0},null==u?void 0:u.legend);return f.legend.setOptions(d),f}return eg(n,i),n.prototype.getSeries=function(){return this.ip},n.prototype.getAxes=function(){return this.Sg},n.prototype.getAxis=function(t){var i=this.Sg.find((function(i){return i.getTag()===t}));if(!i)throw new Error('Axis with tag "'.concat(t,'" was not found.'));return i},n.prototype.setCursor=function(t){return this.Og.setCursor(t),this},n.prototype.getCursor=function(){return this.Og.getCursor()},n.prototype.setCursorMode=function(t){return this.Og.setCursorMode(t),this},n.prototype.getCursorMode=function(){return this.Og.getCursorMode()},n.prototype.setCustomCursor=function(t){return this.Og.setCustomCursor(t),this},n.prototype.setCursorDynamicBehavior=function(t){return this.Og.zg(t),this},n.prototype.setCursorFormatting=function(t){return this.Og.setCursorFormatting(t),this},n.prototype.getCursorFormatting=function(){return this.Og.getCursorFormatting()},n.prototype.addCursor=function(t){void 0===t&&(t=Py);var i=this.CA(),n=t.qm(i,this.uiScale,this.uiScale,this.xA(i),this.en);return this.BA(n),n},n.prototype.addAxis=function(t){var i=this.Sg.find((function(i){return i.tag===t}));if(i)return i;var n=new $m(this.j_,this.Id,this.Ud,this,t,this.Rk,this.B_,this.zk,this.scaleLabelFormatter);return this.Sg.push(n),this.Rk.er(this.Sg.map((function(t){return t.Uk}))),this.qi.vr(),n},n.prototype.addSeries=function(i){var n=void 0!==(null==i?void 0:i.pointShape)?i.pointShape:t.PointShape.Circle,r=void 0!==(null==i?void 0:i.automaticColorIndex)?i.automaticColorIndex:this.ip.length,e=new rg(this,this.$g,this.Ud,n,this.I_,this.Sg,this.t_,this.i_,this.rp,this.en,r,this.qi.Qn);return this.ap(e,i),e},n.prototype.getSeriesCount=function(){return this.ip.length},n.prototype.setWebMode=function(t){return this.c_=t,this.qi.vr(),this},n.prototype.getWebMode=function(){return this.c_},n.prototype.setWebCount=function(t){return this.l_=t,this.qi.vr(),this},n.prototype.getWebCount=function(){return this.l_},n.prototype.setWebStyle=function(t){return this.v_="function"==typeof t?t(this.v_):t,this.qi.vr(),this},n.prototype.getWebStyle=function(){return this.v_},n.prototype.setScaleLabelStyle=function(t){return this.d_="function"==typeof t?t(this.d_):t,this.qi.vr(),this},n.prototype.getScaleLabelStyle=function(){return this.d_},n.prototype.setScaleLabelShadow=function(t){return this.y_=t,this.qi.vr(),this},n.prototype.getScaleLabelShadow=function(){return this.y_},n.prototype.setScaleLabelFont=function(t){return this.A_="function"==typeof t?t(this.A_):t,this.qi.vr(),this},n.prototype.getScaleLabelFont=function(){return this.A_},n.prototype.setScaleLabelPadding=function(t){return this.b_=t,this.qi.vr(),this},n.prototype.getScaleLabelPadding=function(){return this.b_},n.prototype.setScaleLabelStrategy=function(t){return this.h_=t,this.qi.vr(),this},n.prototype.setScaleLabelFormatter=function(t){return this.scaleLabelFormatter=t,this.Sg.forEach((function(i){i.setScaleLabelFormatter(t)})),this.qi.vr(),this},n.prototype.setAxisLabelStyle=function(t){return this.p_="function"==typeof t?t(this.p_):t,this.qi.vr(),this},n.prototype.getAxisLabelStyle=function(){return this.p_},n.prototype.setAxisLabelFont=function(t){return this.m_="function"==typeof t?t(this.m_):t,this.qi.vr(),this},n.prototype.getAxisLabelFont=function(){return this.m_},n.prototype.setAxisLabelEffect=function(t){return this.Rk.lr(t),this.qi.vr(),this},n.prototype.getAxisLabelEffect=function(){return this.Rk.dr()},n.prototype.setAxisLabelPadding=function(t){return this.g_=t,this.qi.vr(),this},n.prototype.getAxisLabelPadding=function(){return this.g_},n.prototype.setAxisLabelStrategy=function(t){return this.f_=t,this.qi.vr(),this},n.prototype.setAxisStyle=function(t){return this.x_="function"==typeof t?t(this.x_):t,this.qi.vr(),this},n.prototype.getAxisStyle=function(){return this.x_},n.prototype.setNibStyle=function(t){return this.S_="function"==typeof t?t(this.S_):t,this.qi.vr(),this},n.prototype.getNibStyle=function(){return this.S_},n.prototype.setNibLength=function(t){return this.w_=t,this.qi.vr(),this},n.prototype.getNibLength=function(){return this.w_},n.prototype.setAutoAxis=function(t){return this.a_=t,this},n.prototype.getAutoAxis=function(){return this.a_},n.prototype.setScrollStrategy=function(t){return this.zk=Qh(t),this.Sg.forEach((function(i){return i.setScrollStrategy(t)})),this.qi.vr(),this},n.prototype.setAxisInterval=function(t){return this.B_=t,this.Sg.forEach((function(i){return i.setInterval(t)})),this},n.prototype.Le=function(t){var n,r,e,s,u,a,h=this;i.prototype.Le.call(this,t);var f=this.Sg.length,c=nd(this.So,this.PA),l=this.Ar.reduce((function(t,i){var n=i.ds(c,h.yu);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0});rd(this.So,this.PA,this.uiScale.Gi(),this.yu,l);var d,y,A,b,p=o(this.Ud.x.getInnerInterval()-(this.yu.left+this.yu.right),this.Ud.y.getInnerInterval()-(this.yu.bottom+this.yu.top+c)),m=o(p.x-l.left-l.right,p.y-l.top-l.bottom),g=(void 0===(d=0)&&(d=0),void 0===(y=0)&&(y=0),void 0===(A=0)&&(A=0),void 0===(b=0)&&(b=0),{left:d,top:y,right:A,bottom:b});if(void 0!==this.f_)for(var x=Math.min(m.x,m.y)/2,S=0;S<f;S+=1){var w=ug(S,f),M=Math.cos(w),C=Math.sin(w),T=this.Sg[S].getLabelSize();vg();var k=this.f_(lg,S,f,this.Sg[S].tag,w,this.g_),_=o(M*x+k.paddingX,C*x+k.paddingY);M>0?g.right=Math.max(g.right,_.x+.5*(1-k.alignmentX)*T.x-x):g.left=Math.max(g.left,-_.x+.5*(k.alignmentX+1)*T.x-x),C>0?g.top=Math.max(g.top,_.y+.5*(1-k.alignmentY)*T.y-x):g.bottom=Math.max(g.bottom,-_.y+.5*(k.alignmentY+1)*T.y-x)}this.Sg.forEach((function(t){var i=!h.getSeries().some((function(t){return t.o_()}))&&h.getSeriesCount()>1,n=h.D_(t.tag,i);n&&t.Ys(n)}));var O=o(this.Ud.x.getInnerStart()+this.yu.left+l.left+m.x/2,this.Ud.y.getInnerStart()+this.yu.bottom+l.bottom+m.y/2),F=Math.min(m.x/2-(g.left+g.right)/2,m.y/2-(g.bottom+g.top)/2);this.M_=v(this.Zt.left+this.yu.left+g.left,this.Zt.top+this.yu.top+c+g.top,this.Zt.right+this.yu.right+g.right,this.Zt.bottom+this.yu.bottom+g.bottom),this.xk(O,F);try{for(var I=sg(this.ip),j=I.next();!j.done;j=I.next())j.value.$A()}catch(t){n={error:t}}finally{try{j&&!j.done&&(r=I.return)&&r.call(I)}finally{if(n)throw n.error}}try{for(var B=sg(this.ip),D=B.next();!D.done;D=B.next())D.value.Le()}catch(t){e={error:t}}finally{try{D&&!D.done&&(s=B.return)&&s.call(B)}finally{if(e)throw e.error}}this.Og.Le(!1,this.ip,void 0),i.prototype.DA.call(this),this.Ar.forEach((function(t){return t.Le(c,h.yu)}));try{for(var L=sg(this.ip),E=L.next();!E.done;E=L.next())E.value.tb()}catch(t){u={error:t}}finally{try{E&&!E.done&&(a=L.return)&&a.call(L)}finally{if(u)throw u.error}}},n.prototype.dispose=function(){return this.YC.Ft(),this.k_.Ft(),this.j_.Ft(),this.$g.Ft(),this.Id.Ft(),this.Og.Ft(),i.prototype.dispose.call(this)},n.prototype.getMinimumSize=function(){return o(this.M_.left+this.M_.right+100,this.M_.bottom+this.M_.top+100)},n.prototype.xk=function(t,i){for(var n,r,e,s,u=this.Sg.length,a=[],h=0;h<u;h+=1){var f=ug(h,u),c=o(t.x+Math.cos(f)*i,t.y+Math.sin(f)*i);a.push(c)}fg(this.sp,this.c_,t,a),fg(this.up,this.c_,t,a),this.sp.Gc(i),this.up.Gc(i),function(t,i,n,r,e,o,s,u){for(var a=t.length,h=o.length,f=i>0&&h>1,c=0;c<Math.max(i,a);c+=1)if(f&&c<i){c>=a&&t.push(s());var l=t[c];fg(l,n,r,o);var v=e*((c+1)/i);l.Gc(v)}else c<t.length&&u(t[c]);t.length=f?i:0}(this.s_,this.l_,this.c_,t,i,a,this.T_,this.__);try{for(var l=sg(this.s_),v=l.next();!v.done;v=l.next())v.value.Be(Cu).je(this.v_)}catch(t){n={error:t}}finally{try{v&&!v.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}for(h=0;h<u;h+=1){var d=this.Sg[h],y=ug(h,u);vg();var A=void 0!==this.f_?this.f_(lg,h,u,this.Sg[h].tag,y,this.g_):void 0;d.xk(t,a,h,y,i,this.c_,A)}!function(t,i,n,r,e,s,u,a,h){var f=e.length,c=t.length,l=0;void 0!==i&&e.forEach((function(e,h){for(var v,d,y,A,b=e.tag,p=ug(h,f),m=0;m<n;m+=1){cg.alignmentX=0,cg.alignmentY=0,cg.paddingX=0,cg.paddingY=0;var g=i(og(og({},cg),{chart:e.chart,axis:e,axisIndex:h,axisCount:f,axisTag:b,axisAngle:p,webIndex:m,webCount:n,labelPadding:r}));if(void 0!==g){l>=c&&t.push(a());var x=t[l];l+=1;var S=(n-m)/n,w=e.formatValue(e.axisScale.getInnerStart()+S*(e.axisScale.getInnerEnd()-e.axisScale.getInnerStart())),M=Is(s,u[h],S);x.Ee(Ys(M,o(null!==(v=g.paddingX)&&void 0!==v?v:0,null!==(d=g.paddingY)&&void 0!==d?d:0))).pf(null!==(y=g.alignmentX)&&void 0!==y?y:0).xf(null!==(A=g.alignmentY)&&void 0!==A?A:0).Os(w)}}}));for(var v=l;v<c;v+=1)h(t[v]);t.length=l}(this.u_,this.h_,this.l_,this.b_,this.Sg,t,a,this.O_,this.F_);try{for(var b=sg(this.u_),p=b.next();!p.done;p=b.next())p.value.Be(this.d_).qo(this.A_)._s(this.y_)}catch(t){e={error:t}}finally{try{p&&!p.done&&(s=b.return)&&s.call(b)}finally{if(e)throw e.error}}},n.prototype.D_=function(t,i){var n,r,e,o,s=this.getAxis(t);try{for(var u=sg(this.ip),a=u.next();!a.done;a=u.next()){var h=a.value.getValue(s.tag,i);void 0!==h&&(e=void 0===e?h:Math.min(e,h),o=void 0===o?h:Math.max(o,h))}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}if(void 0!==e&&void 0!==o)return f(e,o)},n.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},n.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},n}(Ud),yg=function(t,i,n){return yS(i,[[{component:i.series,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[i.axis],[{text:t.getAxis(i.axis).formatValue(i.value),font:{weight:"bold"}}]])},Ag={vo:!1,do:0,yo:!1,bo:0,Ao:!1,po:0,mo:0,fs:zh.fitting({})},bg=function(){return bg=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},bg.apply(this,arguments)},pg=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},mg=function(t){if(!t||"object"!=typeof t||null===t)return!1;var i=t.type;return!(!i||!["spark-line","spark-bar","spark-win-loss","spark-area","spark-pie"].includes(i))},gg=function(t,i,n,r){return{x:Sg(t.x,i.x,n.x,r),y:wg(t.y,i.y,n.y,r)}},xg=function(t,i,n,r){return{position:Sg(t.position,i.x,n.x,r),high:wg(t.high,i.y,n.y,r),low:wg(t.low,i.y,n.y,r)}},Sg=function(t,i,n,r){var e=ro(t,i,i+n);return r[0].x+r[1].x*(e-i)/n},wg=function(t,i,n,r){var e=ro(t,i,i+n);return r[0].y+r[1].y*(e-i)/n},Mg=function(t,i,n,r,e,o,s,u){var a,h;try{for(var f=pg(t),c=f.next();!c.done;c=f.next()){var l=c.value;"point"===l.type&&Cg(l,i,n,e,o,s,u),"axis-band"===l.type&&Tg(l,n,e,o,s,u),"constant-line"===l.type&&kg(l,n,r,e,o,s,u)}}catch(t){a={error:t}}finally{try{c&&!c.done&&(h=f.return)&&h.call(f)}finally{if(a)throw a.error}}},Cg=function(i,n,r,e,o,s,u){var a,h,f,c,l=i.value,v=i.fillStyle,d=i.shape,y=i.size,A=i.rotation,b={x:NaN,y:NaN};if("start"===l&&(b=n[0]),"end"===l&&(b=n[n.length-1]),"min"===l){b=n[0];try{for(var p=pg(n),m=p.next();!m.done;m=p.next()){var g=m.value;b=b.y<g.y?b:g}}catch(t){a={error:t}}finally{try{m&&!m.done&&(h=p.return)&&h.call(p)}finally{if(a)throw a.error}}}if("max"===l){b=n[0];try{for(var x=pg(n),S=x.next();!S.done;S=x.next())g=S.value,b=b.y>g.y?b:g}catch(t){f={error:t}}finally{try{S&&!S.done&&(c=x.return)&&c.call(x)}finally{if(f)throw f.error}}}("object"!=typeof l||function(t,i){var n=i[0],r=i[1],e=t.x,o=t.y;return n.x<=e&&e<=n.x+r.x&&n.y<=o&&o<=n.y+r.y}(b=gg(l,r,e,o),o))&&s.pointSet.add().Mv(void 0!==d?d:t.PointShape.Circle).Tv(A||0).Iv(y||5).xv(v||u.sparkPointChartFillStyle).gv((new Mc).appendSample(b),{x:"x",y:"y"})},Tg=function(t,i,n,r,e,s){var u=t.axis,a=t.start,h=t.end,f=t.fillStyle,c=t.strokeStyle,l=o(bs,As),v=o(bs,As);"x"===u&&(l=gg({x:a,y:bs},i,n,r),v=gg({x:h,y:As},i,n,r)),"y"===u&&(l=gg({x:bs,y:a},i,n,r),v=gg({x:As,y:h},i,n,r));var d=r[0],y=r[1],A=ro(l.x,d.x,d.x+y.x),b=ro(l.y,d.y,d.y+y.y),p=ro(v.x,d.x,d.x+y.x),m=ro(v.y,d.y,d.y+y.y);e.rect.add().Qf(A).Kf(b).zt(o(p-A,m-b)).Be(f||s.sparkChartBandFillStyle).je(c||s.sparkChartBandStrokeStyle).je(Pe)},kg=function(t,i,n,r,e,s,u){var a=t.axis,h=t.value,f=t.strokeStyle,c=h||0,l=i.y,v=n.y,d=i.x,y=n.x,A=[];if("y"===a&&l<=c&&c<=v){var b=gg(o(d,c),{x:d,y:l},r,e),p=gg(o(y,c),{x:d,y:l},r,e);A.push([b,p])}if("x"===a&&d<=c&&c<=y){var m=gg(o(c,l),{x:d,y:l},r,e),g=gg(o(c,v),{x:d,y:l},r,e);A.push([m,g])}A.length>0&&s.line.add().Ye(f||u.sparkChartConstantLineStrokeStyle).He(A[0][0]).Xe(A[0][1])},_g=function(t,i,n,r,e,o){var s=t.strokeStyle,u=t.data,a=t.markers,h=u.length;h>1e4&&e.rh&&Qe.console.warn("LightningChart JS warning: SparkLineChart has over 10000 data points. This feature is not designed for large data sets which might show as performance drop. If you want to request improvements to this, contact https://lightningchart.com/js-charts/docs/contact. To disable this warning, use LightningChartOptions.warning property (refer to API documentation for more detail).");for(var f=As,c=bs,l=As,v=bs,d=0;d<h;d+=1){var y=u[d];f=Math.min(f,y.x),c=Math.max(c,y.x),l=Math.min(l,y.y),v=Math.max(v,y.y)}var A={x:c-f,y:v-l},b=u.map((function(t){return gg(t,{x:f,y:l},A,n)}));i.lineSet.add().vn(o).Ye(s||r.sparkLineChartStrokeStyle).Sn().Wf(b),a&&Mg(a,b,{x:f,y:l},{x:c,y:v},A,n,i,r)},Og=function(t,i,n,r,e,o){var s,u,a=t.data,h=t.fillStyle,f=t.strokeStyle,c=t.threshold,l=t.winFillStyle,v=t.lossFillStyle,d=t.barSize||1,y=t.gap||1,A=t.winLoss,b=c||0,p=y/d*1,m=As,g=bs;if(A)m=-1,g=1;else try{for(var x=pg(a),S=x.next();!S.done;S=x.next()){var w=S.value;m=Math.min(m,w),g=Math.max(g,w)}}catch(t){s={error:t}}finally{try{S&&!S.done&&(u=x.return)&&u.call(x)}finally{if(s)throw s.error}}var M={x:0,y:A?-1:Math.min(0,m)},C={x:1*a.length+(a.length-1)*p,y:A?2:Math.max(g,1e-5)};a.map((function(t,i){var r={x:1*(i+1)+i*p,y:A?t>=b?1:0:t},e=gg({x:1*i+i*p,y:A?t>=b?0:-1:0},M,C,n),o=gg(r,M,C,n);return{value:t,position:e,width:o.x-e.x,height:o.y-e.y}})).forEach((function(t){var n;i.rect.add().vn(o).Ee(t.position).$f(t.height).qf(t.width).Be((n=t.value,A?(n>=b?l:v)||r.sparkBarChartFillStyle:h||r.sparkBarChartFillStyle)).je(f||r.sparkBarChartStrokeStyle)}))},Fg=function(t,i,n,r,e,o){var s,a,h=t.data,f=t.fillStyle,c=t.strokeStyle,l=t.markers,v=h.length;v>1e4&&e.rh&&Qe.console.warn("LightningChart JS warning: SparkAreaChart has over 10000 data points. This feature is not designed for large data sets which might show as performance drop. If you want to request improvements to this, contact https://lightningchart.com/js-charts/docs/contact. To disable this warning, use LightningChartOptions.warning property (refer to API documentation for more detail).");for(var d=As,y=bs,A=As,b=bs,p=0;p<v;p+=1){var m=h[p];d=Math.min(d,m.x),y=Math.max(y,m.x),A=Math.min(A,m.y),b=Math.max(b,m.y)}var g={x:y-d,y:b-A},x=[],S=[];try{for(var w=pg(h),M=w.next();!M.done;M=w.next()){var C=M.value,T=u(C.x,C.y,A);x.push(xg(T,{x:d,y:A},g,n)),S.push(gg(C,{x:d,y:A},g,n))}}catch(t){s={error:t}}finally{try{M&&!M.done&&(a=w.return)&&a.call(w)}finally{if(s)throw s.error}}i.junction.add().vn(o).Sn().Wf(x).Be(f||r.sparkAreaChartFillStyle),i.lineSet.add().vn(o).Sn().Wf(S).Ye(c||r.sparkAreaChartStrokeStyle),l&&Mg(l,S,{x:d,y:A},{x:y,y:b},g,n,i,r)},Ig=function(t,i,n,r,e,s){var u=t.data,a=t.strokeStyle,h=u.map((function(t){return"number"==typeof t?t:t.value})),f=u.map((function(t){return"object"==typeof t?t.fillStyle:void 0})),c=h.reduce((function(t,i){return t+i}),0),l=gg(o(50,50),{x:0,y:0},{x:100,y:100},n),v=n[1],d=v.x<=v.y?v.x/2:v.y/2,y=90;h.forEach((function(t,n){var e=t/c*360;i.arc.add().vn(s).Ee(l).Gc(d).Wc(0).Rc(y).Xe(y+e).Be(f[n]||Xo(r.sparkPieChartFillStyle,n)).je(a||r.sparkPieChartStrokeStyle),y+=e}))},jg={XY:np,Spider:Py,BarChart:zy,Map:Gy,Polar:Ry,D3:Sy},Bg={Column:il,Row:nl},Dg=function(){return Dg=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Dg.apply(this,arguments)},Lg=function(){return Lg=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Lg.apply(this,arguments)},Eg=function(i,n){var r=function(i){var n=Mr(0,0,0),r=Mr(255,255,255),e=new _u({color:i.uiStrokeColorContrastHigh}),o=new _u({color:i.uiStrokeColorContrastMedium}),s=new _u({color:i.uiStrokeColorContrastLow}),u=new Br({family:i.fontFamily,weight:"normal",style:"normal"}),a=i.isDark?Mr(0,0,0,255):void 0,h=u.setSize(18*i.fontScaler),f=u.setSize(16*i.fontScaler),c=u.setSize(14*i.fontScaler),l=u.setSize(10*i.fontScaler),v=u.withMutations((function(t){return t.set("size",14*i.fontScaler).set("weight","bold")})),d=u.setSize(13*i.fontScaler),y=new Ta({thickness:2,fillStyle:s}),A=new _u({color:i.dataHighlightOverlayColor}),b=new Ta({thickness:2,fillStyle:i.legendBackgroundBorderFillStyle}),p=i.dataColorPalette.map((function(t){return new _u({color:t.stroke})})),m=function(t){return p[t%p.length]},g=p.map((function(t){return new Ta({thickness:2,fillStyle:t})})),x=function(t){return g[t%g.length]},S=i.dataColorPalette.map((function(t){return new _u({color:t.border})})).map((function(t){return new Ta({thickness:2,fillStyle:t})})),w=function(t){return S[t%S.length]},M=i.dataColorPalette.map((function(t){var i=t.area;return new Vr({angle:0,stops:[{offset:0,color:i.setA(0)},{offset:.8,color:i}]})})),C=function(t){return M[t%M.length]},T=i.dataColorPaletteInverted.map((function(t){var i=t.area;return new Vr({angle:180,stops:[{offset:0,color:i.setA(0)},{offset:.8,color:i}]})})),k=function(t){return T[t%T.length]},_=i.dataColorPalette.map((function(t){var i=t.area;return new Vr({angle:180,stops:[{color:ce(i,Mr(255,255,255,i.getA()),.3),offset:0},{color:i,offset:.5},{color:ce(i,Mr(0,0,0,i.getA()),.3),offset:1}]})})),O=function(t){return _[t%_.length]},F=i.dataColorPaletteInverted.map((function(t){return new _u({color:t.border})})).map((function(t){return new Ta({thickness:2,fillStyle:t})})),I=function(t){return F[t%F.length]},j=new _u({color:i.dataColorPositive}),B=new _u({color:i.dataColorNegative}),D=new Ta({thickness:1,fillStyle:new _u({color:i.dataStrokeColorContrastHigh.setA(50)})}),L=new Ta({thickness:2,fillStyle:i.axisLineFillStyle}),E=new _u({color:Mr(0,0,0,1)}),P=new Ta({thickness:1,fillStyle:i.axisGridMajorFillStyle}),z=new Ta({thickness:1,fillStyle:i.axisTickMajorFillStyle}),N=c,V=i.axisLabelMajorFillStyle,R=new Ta({thickness:1,fillStyle:i.axisGridMinorFillStyle}),G=new Ta({thickness:1,fillStyle:i.axisTickMinorFillStyle}),U=l,Y=V,W=Hl,X=new Wl({gridStrokeStyle:P,tickStyle:z,tickLength:7,tickPadding:5,labelFont:N,labelFillStyle:V,labelShadow:a}),H=new Wl({gridStrokeStyle:R,tickStyle:G,tickLength:4,tickPadding:10,labelFont:U,labelFillStyle:Y,labelShadow:a}),Z=new kv({extremeTickStyle:W,majorTickStyle:X,minorTickStyle:H.setLabelFillStyle(Cu)}),J=new mv({greatTickStyle:Hl,majorTickStyle:X,minorTickStyle:H}),Q=J,K=J,q=new ov({majorTickStyle:X,minorTickStyle:H}),$=new _u({color:i.dataHighlightOverlayColor}),tt=new Ta({thickness:1,fillStyle:o}),it=new Ta({thickness:2,fillStyle:o}),nt=function(t){return new wa.Triangulated({shape:"sphere",size:10,fillStyle:p[t%p.length]})},rt=p[0],et=i.uiTextFillStyle,ot=i.legendBackgroundFillStyle,st=new Ta({thickness:1,fillStyle:i.legendBackgroundBorderFillStyle}),ut=Ro(i.legendButtonDefaultColor),at=Ro(i.isDark?Mr(70,70,70,255):Mr(170,170,170,255)),ht=new _u({color:i.isDark?Mr(70,70,70,255):Mr(170,170,170,255)}),ft=new Ta({thickness:1,fillStyle:e}),ct=new Ia({thickness:1,fillStyle:i.cursorGridFillStyle,pattern:Fa.DashedEqual,patternScale:3}),lt=new Ta({thickness:1,fillStyle:i.cursorGridFillStyle}),vt=i.zoomBandChartDefocusOverlayFillStyle,dt=new Ta({thickness:2,fillStyle:new _u({color:i.zoomBandChartSplitterColor})}),yt=new _u({color:i.uiBackgroundColor}),At=new Ta({thickness:1,fillStyle:new _u({color:i.isDark?r:n})}),bt={isDark:i.isDark,effect:i.effect,effectsText:i.effectsText,effectsDashboardSplitters:i.effectsDashboardSplitters,lcjsBackgroundFillStyle:i.lcjsBackgroundFillStyle,lcjsBackgroundStrokeStyle:Pe,highlightColorOffset:i.highlightColorOffset,highlightColorOffsetAxisOverlay:i.highlightColorOffsetAxisOverlay,dashboardSplitterStyle:new Ta({thickness:4,fillStyle:i.dashboardSplitterFillStyle}),panelPadding:7,chartXYBackgroundFillStyle:i.panelBackgroundFillStyle,chartXYBackgroundStrokeStyle:Pe,chartXYTitleFont:h,chartXYTitleFillStyle:i.titleFillStyle,chartXYTitleShadow:a,chartXYTitleMargin:5,chartXYSeriesBackgroundFillStyle:i.seriesBackgroundFillStyle,chartXYSeriesBackgroundStrokeStyle:y,chartXYZoomingRectangleFillStyle:A,chartXYZoomingRectangleStrokeStyle:b,lineSeriesStrokeStyle:x,pointLineSeriesStrokeStyle:x,pointLineSeriesFillStyle:m,pointSeriesFillStyle:m,pointSeriesStrokeStyle:At,ellipseSeriesFillStyle:m,ellipseSeriesStrokeStyle:x,polygonSeriesFillStyle:m,polygonSeriesStrokeStyle:x,rectangleSeriesFillStyle:m,rectangleSeriesStrokeStyle:Pe,segmentSeriesStrokeStyle:x,boxSeriesBodyFillStyle:m(0),boxSeriesBodyStrokeStyle:Pe,boxSeriesStrokeStyle:new Ta({thickness:1,fillStyle:p[0]}),boxSeriesMedianStrokeStyle:new Ta({thickness:1,fillStyle:new _u({color:n})}),ohlcCandleThicknessPixels:5,ohlcCandleBodyFillStylePositive:j,ohlcCandleBodyFillStyleNegative:B,ohlcCandleTailStrokeStylePositive:new Ta({thickness:1,fillStyle:new _u({color:i.uiStrokeColorContrastHigh})}),ohlcCandleTailStrokeStyleNegative:new Ta({thickness:1,fillStyle:new _u({color:i.uiStrokeColorContrastHigh})}),ohlcBarThicknessPixels:10,ohlcBarStrokeStylePositive:new Ta({thickness:2,fillStyle:j}),ohlcBarStrokeStyleNegative:new Ta({thickness:2,fillStyle:B}),heatmapGridSeriesFillStyle:m,heatmapGridSeriesWireframeStyle:D,heatmapScrollingGridSeriesFillStyle:m,heatmapScrollingGridSeriesWireframeStyle:D,heatmapGridSeriesContourStrokeStyle:new Ta({thickness:1,fillStyle:new _u({color:Mr(0,0,0)})}),heatmapGridSeriesContourLabelColor:Ou(et)?et.getColor():rt.getColor(),heatmapGridSeriesContourLabelFont:d,heatmapGridSeriesContourLabelShadow:a,areaRangeSeriesFillStyle:C,areaRangeSeriesStrokeStyle:w,areaRangeSeriesFillStyleInverted:k,areaRangeSeriesStrokeStyleInverted:I,areaSeriesBipolarHighFillStyle:C,areaSeriesBipolarHighStrokeStyle:w,areaSeriesBipolarLowFillStyle:k,areaSeriesBipolarLowStrokeStyle:I,areaSeriesPositiveFillStyle:C,areaSeriesPositiveStrokeStyle:w,areaSeriesNegativeFillStyle:k,areaSeriesNegativeStrokeStyle:I,xAxisTitleFont:f,xAxisTitleFillStyle:i.axisTitleFillStyle,xAxisStrokeStyle:L,xAxisOverlayStyle:E,xAxisZoomingBandFillStyle:A,xAxisZoomingBandStrokeStyle:Pe,xAxisNumericTicks:Z,xAxisDateTimeTicks:Q,xAxisTimeTicks:q,yAxisTitleFont:f,yAxisTitleFillStyle:i.axisTitleFillStyle,yAxisStrokeStyle:L,yAxisOverlayStyle:E,yAxisZoomingBandFillStyle:A,yAxisZoomingBandStrokeStyle:Pe,yAxisNumericTicks:Z,yAxisDateTimeTicks:K,yAxisTimeTicks:q,bandFillStyle:$,bandStrokeStyle:tt,constantLineStrokeStyle:it,barChartBackgroundFillStyle:i.panelBackgroundFillStyle,barChartBackgroundStrokeStyle:Pe,barChartTitleFont:h,barChartTitleFillStyle:i.titleFillStyle,barChartTitleShadow:a,barChartSeriesBackgroundFillStyle:Cu,barChartSeriesBackgroundStrokeStyle:Pe,barChartBarFillStyle:m,barChartBarStrokeStyle:new Ta({thickness:1,fillStyle:s}),barChartValueAxisTitleFont:f,barChartValueAxisTitleFillStyle:i.axisTitleFillStyle,barChartValueAxisStrokeStyle:L,barChartValueAxisTicks:Z.setMajorTickStyle((function(t){return t.setGridStrokeStyle(Pe)})).setMinorTickStyle((function(t){return t.setGridStrokeStyle(Pe)})),barChartCategoryAxisTitleFont:f,barChartCategoryAxisTitleFillStyle:i.axisTitleFillStyle,barChartCategoryAxisStrokeStyle:L,barChartCategoryLabels:{formatter:function(t,i){return t},labelFillStyle:Z.majorTickStyle.labelFillStyle,labelFont:Z.majorTickStyle.labelFont,labelMargin:8,labelRotation:0,labelAlignment:0,tickStyle:Z.majorTickStyle.tickStyle,tickLength:0,labelShadow:a},barChartValueLabelsAfterBars:{position:"after-bar",formatter:function(t){return t.chart.valueAxis.formatValue(t.value)},labelFillStyle:Z.majorTickStyle.labelFillStyle,labelFont:Z.majorTickStyle.labelFont,labelMargin:8,labelRotation:0,labelAlignment:0,displayStackedIndividuals:!1,displayStackedSum:!0,labelShadow:a},barChartValueLabelsInsideBars:{position:"inside-bar",formatter:function(t){return t.chart.valueAxis.formatValue(t.value)},labelFillStyle:Z.majorTickStyle.labelFillStyle,labelFont:Z.majorTickStyle.labelFont,labelMargin:8,labelRotation:0,labelAlignment:0,displayStackedIndividuals:!1,displayStackedSum:!0,labelShadow:a},barChartCornerRadius:10,chart3DBackgroundFillStyle:i.panelBackgroundFillStyle,chart3DBackgroundStrokeStyle:Pe,chart3DTitleFont:h,chart3DTitleFillStyle:i.titleFillStyle,chart3DTitleShadow:a,chart3DSeriesBackgroundFillStyle:i.seriesBackgroundFillStyle,chart3DSeriesBackgroundStrokeStyle:y,chart3DBoundingBoxStrokeStyle:Pe,xAxis3DTitleFont:f,xAxis3DTitleFillStyle:i.axisTitleFillStyle,xAxis3DStrokeStyle:L,xAxis3DNumericTicks:Z,xAxis3DDateTimeTicks:J,xAxis3DTimeTicks:q,yAxis3DTitleFont:f,yAxis3DTitleFillStyle:i.axisTitleFillStyle,yAxis3DStrokeStyle:L,yAxis3DNumericTicks:Z,yAxis3DDateTimeTicks:J,yAxis3DTimeTicks:q,zAxis3DTitleFont:f,zAxis3DTitleFillStyle:i.axisTitleFillStyle,zAxis3DStrokeStyle:L,zAxis3DNumericTicks:Z,zAxis3DDateTimeTicks:J,zAxis3DTimeTicks:q,lineSeries3DStrokeStyle:x,pointLineSeries3DStrokeStyle:x,pointLineSeries3DPointStyle:nt,pointSeries3DPointStyle:nt,pointCloudSeries3DPointStyle:function(t){return new wa.Pixelated({size:5,fillStyle:p[t%p.length]})},surfaceGridSeries3DFillStyle:m,surfaceGridSeries3DWireframeStyle:D,surfaceGridSeriesContourStrokeStyle:g[0],surfaceScrollingGridSeries3DFillStyle:m,surfaceScrollingGridSeries3DWireframeStyle:D,boxSeries3DFillStyle:m,meshModel3DFillStyle:m(0),polarChartBackgroundFillStyle:i.panelBackgroundFillStyle,polarChartBackgroundStrokeStyle:Pe,polarChartTitleFont:h,polarChartTitleFillStyle:i.titleFillStyle,polarChartTitleShadow:a,polarChartSeriesBackgroundFillStyle:i.seriesBackgroundFillStyle,polarChartSeriesBackgroundStrokeStyle:y,polarSectorFillStyle:$,polarSectorStrokeStyle:tt,polarAmplitudeAxisTitleFont:f,polarAmplitudeAxisTitleFillStyle:i.axisTitleFillStyle,polarAmplitudeAxisTitleShadow:a,polarAmplitudeAxisStrokeStyle:L,polarAmplitudeAxisNumericTicks:Z,polarAmplitudeAxisDateTimeTicks:J,polarAmplitudeAxisTimeTicks:q,polarRadialAxisTitleFont:f,polarRadialAxisTitleFillStyle:i.axisTitleFillStyle,polarRadialAxisStrokeStyle:L,polarRadialAxisTickStyle:X.setTickPadding(10),polarRadialAxisMarginAfterTicks:0,polarLineSeriesStrokeStyle:x,polarPointLineSeriesFillStyle:m,polarPointLineSeriesStrokeStyle:x,polarPointSeriesFillStyle:m,polarPointSeriesStrokeStyle:At,polarPolygonSeriesFillStyle:O,polarPolygonSeriesStrokeStyle:w,polarAreaSeriesFillStyle:O,polarAreaSeriesStrokeStyle:w,polarHeatmapSeriesFillStyle:m,mapChartBackgroundFillStyle:i.panelBackgroundFillStyle,mapChartBackgroundStrokeStyle:Pe,mapChartTitleFont:h,mapChartTitleFillStyle:i.titleFillStyle,mapChartTitleShadow:a,mapChartFillStyle:rt,mapChartStrokeStyle:new Ta({thickness:1,fillStyle:new _u({color:i.dataStrokeColorContrastMedium})}),mapChartOutlierRegionFillStyle:Cu,mapChartOutlierRegionStrokeStyle:new Ta({thickness:1,fillStyle:s}),mapChartSeparateRegionFillStyle:ot,mapChartSeparateRegionStrokeStyle:st,dataGridBackgroundFillStyle:i.panelBackgroundFillStyle,dataGridBackgroundStrokeStyle:Pe,dataGridTitleFont:h,dataGridTitleFillStyle:i.titleFillStyle,dataGridTitleShadow:a,dataGridTextFont:c,dataGridTextFillStyle:rt,dataGridCellBackgroundFillStyle:new _u({color:i.uiBackgroundColor}),dataGridBorderStrokeStyle:new Ta({thickness:.4,fillStyle:new _u({color:i.uiBackgroundBorderColor})}),dataGridScrollBarBackgroundFillStyle:i.seriesBackgroundFillStyle,dataGridScrollBarBackgroundStrokeStyle:Pe,dataGridScrollBarFillStyle:i.seriesBackgroundFillStyle,dataGridScrollBarStrokeStyle:st,dataGridScrollBarButtonFillStyle:i.seriesBackgroundFillStyle,dataGridScrollBarButtonStrokeStyle:st,dataGridScrollBarButtonArrowFillStyle:new _u({color:i.legendButtonDefaultColor}),dataGridScrollBarThickness:20,dataGridCellPadding:5,sparkLineChartStrokeStyle:x(0),sparkPointChartFillStyle:m(0),sparkBarChartFillStyle:m(0),sparkBarChartStrokeStyle:w(0),sparkAreaChartFillStyle:C(0),sparkAreaChartStrokeStyle:w(0),sparkPieChartFillStyle:m,sparkPieChartStrokeStyle:st,sparkChartBandFillStyle:$,sparkChartBandStrokeStyle:tt,sparkChartConstantLineStrokeStyle:it,dataGridTextShadow:a,textSeriesShadow:a,spiderChartBackgroundFillStyle:i.panelBackgroundFillStyle,spiderChartBackgroundStrokeStyle:Pe,spiderChartTitleFont:h,spiderChartTitleFillStyle:i.titleFillStyle,spiderChartTitleShadow:a,spiderChartSeriesBackgroundFillStyle:i.seriesBackgroundFillStyle,spiderChartSeriesBackgroundStrokeStyle:y,spiderChartWebStyle:new Ta({thickness:2,fillStyle:s}),spiderChartScaleLabelFillStyle:i.axisLabelMajorFillStyle,spiderChartScaleLabelFont:c,spiderChartAxisLabelFillStyle:i.axisTitleFillStyle,spiderChartAxisLabelFont:f,spiderChartAxisStrokeStyle:new Ta({thickness:2,fillStyle:o}),spiderChartAxisNibStrokeStyle:new Ta({thickness:2,fillStyle:e}),spiderSeriesFillStyle:O,spiderSeriesStrokeStyle:w,spiderSeriesPointFillStyle:m,spiderChartScaleLabelShadow:a,pieChartBackgroundFillStyle:i.panelBackgroundFillStyle,pieChartBackgroundStrokeStyle:Pe,pieChartTitleFont:h,pieChartTitleFillStyle:i.titleFillStyle,pieChartTitleShadow:a,pieChartSliceFillStylePalette:m,pieChartSliceStrokeStyle:st,pieChartSliceLabelFont:d,pieChartSliceLabelFillStyle:i.uiTextFillStyle,pieChartConnectorStrokeStyle:ft,pieChartSliceLabelShadow:a,funnelChartBackgroundFillStyle:i.panelBackgroundFillStyle,funnelChartBackgroundStrokeStyle:Pe,funnelChartTitleFont:h,funnelChartTitleFillStyle:i.titleFillStyle,funnelChartTitleShadow:a,funnelChartSliceFillStylePalette:m,funnelChartSliceStrokeStyle:st,funnelChartSliceLabelFont:d,funnelChartSliceLabelFillStyle:i.uiTextFillStyle,funnelChartConnectorStrokeStyle:ft,funnelChartSliceLabelShadow:a,pyramidChartBackgroundFillStyle:i.panelBackgroundFillStyle,pyramidChartBackgroundStrokeStyle:Pe,pyramidChartTitleFont:h,pyramidChartTitleFillStyle:i.titleFillStyle,pyramidChartTitleShadow:a,pyramidChartSliceFillStylePalette:m,pyramidChartSliceStrokeStyle:st,pyramidChartSliceLabelFont:d,pyramidChartSliceLabelFillStyle:i.uiTextFillStyle,pyramidChartConnectorStrokeStyle:ft,gaugeChartValueLabelFont:d.setSize(60),gaugeChartUnitLabelFont:d.setSize(40),gaugeChartTickFont:d.setSize(30),gaugeChartBarThickness:40,gaugeChartValueIndicatorThickness:10,gaugeChartRoundedEdges:!0,gaugeChartNeedleLength:40,gaugeChartStartAngle:225,gaugeChartEndAngle:-45,gaugeChartNeedleAlignment:0,gaugeChartGapBetweenBarAndValueIndicators:10,gaugeChartTickFillStyle:i.uiTextFillStyle,gaugeChartBarGradient:!0,gaugeChartBarStrokeStyle:Pe,gaugeChartUnitLabelFillStyle:i.uiTextFillStyle,gaugeChartValueLabelFillStyle:i.uiTextFillStyle,gaugeChartBarColor:r,gaugeChartGlowColor:Mr(255,255,64),gaugeChartNeedleFillStyle:new _u({color:r}),gaugeChartNeedleThickness:10,gaugeChartNeedleStrokeStyle:new Ta({thickness:2,fillStyle:new _u({color:n})}),pyramidChartSliceLabelShadow:a,gaugeChartBackgroundFillStyle:i.panelBackgroundFillStyle,gaugeChartBackgroundStrokeStyle:Pe,gaugeChartTitleFont:h,gaugeChartTitleFillStyle:i.titleFillStyle,gaugeChartTitleShadow:a,treeMapChartBackgroundFillStyle:i.panelBackgroundFillStyle,treeMapChartBackgroundStrokeStyle:Pe,treeMapChartParentColor:i.treeMapChartParentColor,treeMapChartNodeColors:i.treeMapChartNodeColors,treeMapChartNodeStrokeStyle:new Ta({thickness:1,fillStyle:new _u({color:Cr("000")})}),treeMapChartTitleFillStyle:i.titleFillStyle,treeMapChartTitleShadow:a,treeMapChartTitleFont:h,treeMapChartPathLabelFillStyle:et,treeMapChartPathLabelFont:d,treeMapChartLabelHeaderFillStyle:i.treeMapChartLabelHeaderFillStyle,treeMapChartLabelHeaderFont:h,treeMapChartLabelFillStyle:i.treeMapChartLabelFillStyle,treeMapChartLabelFont:d,treeMapChartCornerRadius:8,uiPanelBackgroundFillStyle:i.panelBackgroundFillStyle,uiPanelBackgroundStrokeStyle:Pe,zoomBandChartDefocusOverlayFillStyle:vt,zoomBandChartSplitterStrokeStyle:dt,zoomBandChartKnobFillStyle:i.zoomBandChartKnobFillStyle,zoomBandChartKnobSize:i.zoomBandChartKnobSize,onScreenMenuBackgroundColor:Mr(254,204,0,.7),parallelCoordinateChartBackgroundFillStyle:i.panelBackgroundFillStyle,parallelCoordinateChartBackgroundStrokeStyle:Pe,parallelCoordinateChartTitleFont:h,parallelCoordinateChartTitleFillStyle:i.titleFillStyle,parallelCoordinateChartTitleShadow:a,parallelCoordinateChartSeriesBackgroundFillStyle:i.seriesBackgroundFillStyle,parallelCoordinateChartSeriesBackgroundStrokeStyle:y,parallelCoordinateChartSeriesColor:function(t){return i.dataColorPalette[t%i.dataColorPalette.length].stroke},parallelCoordinateChartSeriesColorUnselected:i.dataColorUnselected,parallelCoordinateChartSeriesLineThickness:2,parallelCoordinateChartPointedSeriesLineStyle:g[0],parallelCoordinateAxisTitleFont:f,parallelCoordinateAxisTitleFillStyle:i.axisTitleFillStyle,parallelCoordinateAxisNumericTicks:Z,parallelCoordinateAxisDateTimeTicks:J,parallelCoordinateAxisTimeTicks:q,parallelCoordinateAxisStrokeStyle:L,parallelCoordinateAxisRangeSelectorFillStyle:i.seriesBackgroundFillStyle,parallelCoordinateAxisRangeSelectorStrokeStyle:st,parallelCoordinateAxisBackgroundFillStyle:new Vr({angle:90,stops:[{offset:0,color:i.isDark?Mr(0,0,0,0):Mr(255,255,255,0)},{offset:1,color:i.isDark?Mr(0,0,0,255):Mr(255,255,255,180)}]}),uiButtonFillStyle:ut,uiButtonFillStyleHidden:at,uiButtonStrokeStyle:i.isDark?Pe:new Ta({thickness:1,fillStyle:new _u({color:n})}),uiButtonSize:10,uiBackgroundFillStyle:ot,uiBackgroundStrokeStyle:st,uiTextFillStyle:et,uiTextFillStyleHidden:ht,uiTextFont:d,uiTextPadding:5,legendTitleFillStyle:et,legendTitleFont:v,legendBorderRadius:5,legendPadding:5,legendLUTLabelMargin:7,legendLUTUnitLabelMargin:7,legendLUTCornerRadius:5,legendLUTLengthHorizontal:160,legendLUTThicknessHorizontal:15,legendLUTLengthVertical:140,legendLUTThicknessVertical:25,cursorTickMarkerXBackgroundFillStyle:ot,cursorTickMarkerXBackgroundStrokeStyle:st,cursorTickMarkerXTextFillStyle:et,cursorTickMarkerXTextFont:d,cursorTickMarkerYBackgroundFillStyle:ot,cursorTickMarkerYBackgroundStrokeStyle:st,cursorTickMarkerYTextFillStyle:et,cursorTickMarkerYTextFont:d,cursorPointMarkerSize:{x:9,y:9},cursorPointMarkerShape:t.PointShape.Circle,cursorPointMarkerFillStyle:ct.getFillStyle(),cursorPointMarkerStrokeStyle:Pe,cursorDynamicBehavior:{pointMarkerFill:function(t){return new _u({color:ce(t,i.isDark?n:r,.2,230)})},pointMarkerStroke:function(t){return new Ta({thickness:2,fillStyle:new _u({color:ce(t,i.isDark?r:n,i.isDark?.8:.6,204)})})},pointMarkerSize:function(t){return{x:t+3,y:t+3}}},cursorResultTableFillStyle:i.resultTableBackgroundFillStyle,cursorResultTableStrokeStyle:new Ta({thickness:1,fillStyle:i.resultTableBackgroundBorderFillStyle}),cursorResultTableTextFillStyle:et,cursorResultTableTextFont:d,cursorResultTableHeaderBackgroundFillStyle:i.resultTableHeaderBackgroundFillStyle,cursorResultTableBorderRadius:5,cursorGridStrokeStyleX:ct,cursorGridStrokeStyleY:ct,cursor3DGridStrokeStyleX:lt,cursor3DGridStrokeStyleY:lt,cursor3DGridStrokeStyleZ:lt,cursor3DTickStrokeStyleX:X.tickStyle,cursor3DTickStrokeStyleY:X.tickStyle,cursor3DTickStrokeStyleZ:X.tickStyle,cursor3DTickLabelFillStyleX:et,cursor3DTickLabelFillStyleY:et,cursor3DTickLabelFillStyleZ:et,cursor3DTickLabelFontX:d,cursor3DTickLabelFontY:d,cursor3DTickLabelFontZ:d,cursor3DTickLabelBackgroundFillStyleX:yt,cursor3DTickLabelBackgroundFillStyleY:yt,cursor3DTickLabelBackgroundFillStyleZ:yt,cursor3DTickLabelBackgroundStrokeStyleX:st,cursor3DTickLabelBackgroundStrokeStyleY:st,cursor3DTickLabelBackgroundStrokeStyleZ:st,cursor3DTickLabelPaddingX:{left:4,right:4,top:4,bottom:4},cursor3DTickLabelPaddingY:{left:4,right:4,top:4,bottom:4},cursor3DTickLabelPaddingZ:{left:4,right:4,top:4,bottom:4}};return i.overrideThemeProperties&&(bt=Dg(Dg({},bt),i.overrideThemeProperties)),bt}(i),e=Lg(Lg({},n),{header1Font:r.xAxisTitleFont,header2Font:r.xAxisNumericTicks.getMajorTickStyle().labelFont,header3Font:r.uiTextFont,mainDataColor:i.dataColorPalette[0].stroke});return Lg(Lg({},r),{examples:e})},Pg="Segoe UI, -apple-system, Verdana, Helvetica",zg=function(t,i){var n=new Image;n.crossOrigin="*";var r="".concat(t,"/").concat(i);return n.src=r,n},Ng=function(t,i,n){return function(r){var e=!0===t?i[r%i.length].stroke:ce(i[r%i.length].stroke,Mr(255,255,255),.5);return new zr({stops:[{color:ce(e,Mr(255,255,255),.5*n).setA(100),offset:0},{color:e.setA(100),offset:.5},{color:ce(e,Mr(30,30,30),.5*n).setA(100),offset:1}]})}},Vg=function(t,i,n){return function(r){var e=!0===t?i[r%i.length].stroke:ce(i[r%i.length].stroke,Mr(255,255,255),.2);return new zr({stops:[{color:ce(e,Mr(255,255,255),.2*n),offset:0},{color:e,offset:.5},{color:ce(e,Mr(0,0,0),.2*n),offset:1}]})}},Rg=function(t,i,n){return function(r){var e=!0===t?i[r%i.length].stroke:ce(i[r%i.length].stroke,Mr(255,255,255),.2);return new Vr({angle:90,stops:[{color:ce(e,Mr(255,255,255),.5*n),offset:0},{color:e,offset:.35},{color:ce(e,Mr(30,30,30),.5*n),offset:1}]})}},Gg=function(t,i,n){return r=function(n){var r=!0===t?i[n%i.length].stroke:ce(i[n%i.length].stroke,Mr(255,255,255),.3);return new Vr({angle:90,stops:[{color:ce(r,Mr(255,255,255),.5),offset:0},{color:r,offset:.35},{color:ce(r,Mr(30,30,30),.5),offset:1}]})},e=new Map,function(t){var i=e.get(t);if(i)return i;var n=r(t);return e.set(t,n),n};var r,e},Ug=ts((function(){var i=Mr(255,255,255),n=new _u({color:i}),r=!0,e=new za({spread:1,blur:9,offset:{x:0,y:0},color:Mr(0,0,0,150)}),o=new zr({position:{x:.8,y:.8},extent:t.GradientExtent.farthestCorner,shape:t.GradientShape.ellipse,stops:[{offset:0,color:Mr(50,51,52)},{offset:.5,color:Mr(14,15,16)},{offset:1,color:Mr(0,0,0)}]}),s=new _u({color:Mr(45,45,45)}),u=new zr({position:{x:.5,y:.5},extent:t.GradientExtent.farthestCorner,shape:t.GradientShape.circle,stops:[{offset:0,color:Mr(120,120,120,100)},{offset:1,color:Mr(0,0,0,50)}]}),a=new zr({position:{x:.5,y:.5},extent:t.GradientExtent.farthestCorner,shape:t.GradientShape.circle,stops:[{offset:0,color:Mr(30,30,30,200)},{offset:1,color:Mr(0,0,0,255)}]}),h=Pg,f=new _u({color:Mr(255,255,220)}),c=new _u({color:Mr(255,255,166)}),l=new _u({color:Mr(255,255,220)}),v=new _u({color:Mr(255,255,200)}),d=v,y=d,A=new Vr({angle:45,stops:[{offset:0,color:Mr(230,230,230)},{offset:1,color:Mr(150,150,150)}]}),b=new _u({color:Mr(220,220,220)}),p=new _u({color:Mr(200,200,200,50)}),m=new _u({color:Mr(200,200,200,150)}),g=new _u({color:Mr(200,200,200,20)}),x=new _u({color:Mr(220,220,220)}),S=new Vr({angle:0,stops:[{offset:0,color:Mr(10,10,10,220)},{offset:1,color:Mr(30,30,30,220)}]}),w=n,M=Mr(255,255,200),C=new _u({color:Mr(0,0,0,224)}),T=new _u({color:Mr(166,166,166)}),k=new _u({color:Mr(49,53,58)}),_=Mr(20,20,20),O=Mr(0,0,0),F=i,I=Mr(150,150,150),j=Mr(50,50,50),B=Mr(50,50,50),D=Mr(100,100,100),L=Mr(200,200,200),E=[Mr(255,255,91,255),Mr(255,205,91,255),Mr(255,155,91,255),Mr(255,196,188,255),Mr(255,148,184,255),Mr(219,148,198,255),Mr(235,196,224,255),Mr(169,148,198,255),Mr(148,226,198,255),Mr(148,255,176,255),Mr(180,255,165,255)].map((function(t){return{stroke:t,border:t,area:t.setA(180)}})),P=i.setA(20),z=Mr(176,255,157,255),N=Mr(255,112,76,255),V={mapChartFillStyle:new Vr({angle:135,stops:[{color:Mr(255,255,91,255),offset:0},{color:Mr(255,155,91,255),offset:1}]}),spiderSeriesFillStyle:Ng(r,E,.5),pieChartSliceFillStylePalette:Vg(r,E,1),funnelChartSliceFillStylePalette:Rg(r,E,1),pyramidChartSliceFillStylePalette:Rg(r,E,1),rectangleSeriesFillStyle:Gg(r,E),gaugeChartBarColor:Mr(255,255,91,255),gaugeChartGlowColor:Mr(255,255,91,64)},R=new _u({color:Mr(176,255,157,255)}),G=new _u({color:Mr(255,146,146,255)}),U=new _u({color:Mr(176,255,157,255)}),Y=new _u({color:Mr(230,63,63,255)}),W=new _u({color:Mr(176,255,157,120)}),X=new _u({color:Mr(229,63,63,180)}),H=new _u({color:Mr(27,37,36,255)}),Z=new _u({color:Mr(62,27,27,255)}),J=[Mr(255,0,0),Mr(255,255,0),Mr(0,255,0)],Q=[Mr(10,10,255),Mr(10,190,255),Mr(251,255,0),Mr(255,38,0)],K=[Mr(255,255,0),Mr(255,204,0),Mr(255,128,0),Mr(255,0,0)],q=[Mr(0,0,0),Mr(167,4,69,255),Mr(255,0,0),Mr(252,252,168,255)],$=new zr({stops:[{color:Mr(61,61,80,100),offset:0},{color:Mr(44,44,55,30),offset:1}]}),tt=new _u({color:Mr(148,148,198,255)}),it=W.getColor().setA(255),nt=Mr(100,100,100),rt=[Mr(255,241,149,200),Mr(255,230,65,200),Mr(238,211,32,200),Mr(238,176,32,200),Mr(255,159,13,200),Mr(254,120,37,200),Mr(253,91,56,200),Mr(253,75,84,200),Mr(254,95,124,200),Mr(227,56,160,200),Mr(226,53,134,200),Mr(216,90,166,200),Mr(254,151,206,200),Mr(237,151,254,200),Mr(243,177,255,200),Mr(233,133,252,200),Mr(210,101,230,200),Mr(178,61,200,200),Mr(193,81,156,200),Mr(217,95,145,200)];return Eg({isDark:r,highlightColorOffset:Mr(60,60,60,60),highlightColorOffsetAxisOverlay:Mr(255,255,255,40),effect:e,effectsText:!0,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:o,dashboardSplitterFillStyle:s,panelBackgroundFillStyle:u,seriesBackgroundFillStyle:a,fontFamily:h,fontScaler:1,titleFillStyle:f,axisTitleFillStyle:c,axisLabelMajorFillStyle:l,uiTitleFillStyle:v,uiTextFillStyle:d,cursorTextFillStyle:y,axisLineFillStyle:A,axisTickMajorFillStyle:b,axisGridMajorFillStyle:p,axisTickMinorFillStyle:m,axisGridMinorFillStyle:g,cursorGridFillStyle:x,legendBackgroundFillStyle:S,legendBackgroundBorderFillStyle:w,legendButtonDefaultColor:M,resultTableBackgroundFillStyle:C,resultTableBackgroundBorderFillStyle:T,resultTableHeaderBackgroundFillStyle:k,uiBackgroundColor:_,uiBackgroundBorderColor:O,uiStrokeColorContrastHigh:F,uiStrokeColorContrastMedium:I,uiStrokeColorContrastLow:j,dataStrokeColorContrastHigh:B,dataStrokeColorContrastMedium:D,dataStrokeColorContrastLow:L,dataColorPalette:E,dataColorPaletteInverted:[{area:Mr(190,50,50,100),border:Mr(210,80,80)}],dataHighlightOverlayColor:P,dataColorPositive:z,dataColorNegative:N,zoomBandChartDefocusOverlayFillStyle:new _u({color:Mr(0,0,0,180)}),zoomBandChartSplitterColor:Mr(251,251,90),zoomBandChartKnobFillStyle:function(i){return new Be({source:zg(i,"zoomBandChart/darkgold-selector.png"),fitMode:t.ImageFitMode.Fill})},zoomBandChartKnobSize:{x:14,y:30},dataColorUnselected:Mr(255,255,255,24),overrideThemeProperties:V,treeMapChartParentColor:Mr(24,30,33),treeMapChartNodeColors:rt,treeMapChartLabelFillStyle:new _u({color:Mr(33,33,33)}),treeMapChartLabelHeaderFillStyle:new _u({color:Mr(250,250,250)})},{positiveTextFillStyle:R,negativeTextFillStyle:G,positiveFillStyle:U,negativeFillStyle:Y,positiveAreaFillStyle:W,negativeAreaFillStyle:X,positiveBackgroundFillStyle:H,negativeBackgroundFillStyle:Z,badGoodColorPalette:J,coldHotColorPalette:Q,intensityColorPalette:K,spectrogramColorPalette:q,bollingerFillStyle:$,bollingerBorderFillStyle:tt,highlightPointColor:i,highlightDataGridColor:it,unfocusedDataColor:nt})})),Yg=ts((function(){var i=Mr(255,255,255),n=new _u({color:i}),r=!0,e=new za({spread:0,blur:9,offset:{x:0,y:0},color:Mr(105,255,236,40)}),o=new _u({color:Mr(2,21,30)}),s=new zr({stops:[{color:Mr(19,40,66,150),offset:0},{color:Mr(0,0,0,150),offset:1}]}),u=new _u({color:Mr(0,5,8,150)}),a=Pg,h=n,f=n,c=n,l=n,v=n,d=v,y=new _u({color:Mr(20,224,250,255)}),A=n,b=new _u({color:Mr(61,94,110,100)}),p=new _u({color:Mr(61,94,110,255)}),m=new _u({color:Mr(61,94,110,40)}),g=n,x=new _u({color:Mr(0,18,23,255)}),S=n,w=i,M=new _u({color:Mr(0,0,0,225)}),C=n,T=new _u({color:Mr(18,66,75)}),k=Mr(0,38,48,220),_=Mr(0,0,0),O=i,F=Mr(150,150,150),I=Mr(19,78,93),j=Mr(50,50,50),B=Mr(0,36,48),D=Mr(200,200,200),L=[Mr(45,253,253,255),Mr(44,172,247,255),Mr(46,100,248,255),Mr(96,84,199,255),Mr(184,104,245,255),Mr(98,160,218,255),Mr(43,238,245,255),Mr(38,140,206,255),Mr(112,96,224,255),Mr(206,157,255,255)].map((function(t){return{stroke:t,border:t,area:t.setA(180)}})),E=i.setA(50),P=Mr(3,217,194,255),z=Mr(230,63,63,255),N={mapChartFillStyle:new Vr({angle:135,stops:[{color:Mr(118,248,231,255),offset:0},{color:Mr(45,177,255,255),offset:1}]}),spiderSeriesFillStyle:Ng(r,L,1),pieChartSliceFillStylePalette:Vg(r,L,1),funnelChartSliceFillStylePalette:Rg(r,L,1),pyramidChartSliceFillStylePalette:Rg(r,L,1),rectangleSeriesFillStyle:Gg(r,L),gaugeChartBarColor:Mr(3,217,194,255),gaugeChartGlowColor:Mr(3,217,194,120)},V=new _u({color:Mr(45,253,253,255)}),R=new _u({color:Mr(255,146,146,255)}),G=new _u({color:Mr(45,253,253,255)}),U=new _u({color:Mr(230,63,63,255)}),Y=new _u({color:Mr(1,190,164,120)}),W=new _u({color:Mr(229,63,63,180)}),X=new _u({color:Mr(1,53,57,255)}),H=new _u({color:Mr(62,27,27,255)}),Z=[Mr(1,104,119,255),Mr(0,165,144,255),Mr(0,246,214,255)],J=[Mr(0,87,95,255),Mr(0,125,124,255),Mr(1,209,182,255),Mr(0,255,221,255),Mr(218,112,112,255),Mr(172,47,47,255)],Q=[Mr(126,255,253,255),Mr(50,233,230,255),Mr(0,196,193,255),Mr(62,138,178,255),Mr(139,88,191,255),Mr(162,55,143,255)],K=[Mr(13,31,52,255),Mr(101,50,118,255),Mr(1,142,172,255),Mr(2,196,170,255),Mr(0,255,221,255)],q=new zr({stops:[{color:Mr(122,103,254,70),offset:0},{color:Mr(178,168,255,10),offset:1}]}),$=new _u({color:Mr(122,103,254,255)}),tt=Y.getColor().setA(255),it=Mr(15,83,83),nt=[Mr(139,252,252,150),Mr(60,239,239,150),Mr(2,201,201,150),Mr(26,159,159,150),Mr(15,146,187,150),Mr(65,168,200,150),Mr(67,146,207,150),Mr(64,108,209,150),Mr(189,64,233,150),Mr(219,84,238,150),Mr(192,55,212,150),Mr(212,98,229,150),Mr(248,110,211,150),Mr(251,154,225,150),Mr(251,154,184,150),Mr(233,105,144,150),Mr(255,133,170,150),Mr(249,110,135,150),Mr(245,72,101,150),Mr(210,57,84,150)];return Eg({isDark:r,highlightColorOffset:Mr(60,60,60,60),highlightColorOffsetAxisOverlay:Mr(255,255,255,40),effect:e,effectsText:!1,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:function(i){return new Be({source:zg(i,"themes/turquoiseHexagon.jpg"),fitMode:t.ImageFitMode.Fill})},dashboardSplitterFillStyle:o,panelBackgroundFillStyle:s,seriesBackgroundFillStyle:u,fontFamily:a,fontScaler:1,titleFillStyle:h,axisTitleFillStyle:f,axisLabelMajorFillStyle:c,uiTitleFillStyle:l,uiTextFillStyle:v,cursorTextFillStyle:d,axisLineFillStyle:y,axisTickMajorFillStyle:A,axisGridMajorFillStyle:b,axisTickMinorFillStyle:p,axisGridMinorFillStyle:m,cursorGridFillStyle:g,legendBackgroundFillStyle:x,legendBackgroundBorderFillStyle:S,legendButtonDefaultColor:w,resultTableBackgroundFillStyle:M,resultTableBackgroundBorderFillStyle:C,resultTableHeaderBackgroundFillStyle:T,uiBackgroundColor:k,uiBackgroundBorderColor:_,uiStrokeColorContrastHigh:O,uiStrokeColorContrastMedium:F,uiStrokeColorContrastLow:I,dataStrokeColorContrastHigh:j,dataStrokeColorContrastMedium:B,dataStrokeColorContrastLow:D,dataColorPalette:L,dataColorPaletteInverted:[{area:Mr(170,60,210,100),border:Mr(210,100,250)}],dataHighlightOverlayColor:E,dataColorPositive:P,dataColorNegative:z,zoomBandChartDefocusOverlayFillStyle:new _u({color:Mr(0,0,0,180)}),zoomBandChartSplitterColor:Mr(43,244,244),zoomBandChartKnobFillStyle:function(i){return new Be({source:zg(i,"zoomBandChart/turquoise-selector.png"),fitMode:t.ImageFitMode.Fill})},zoomBandChartKnobSize:{x:14,y:30},dataColorUnselected:Mr(255,255,255,24),overrideThemeProperties:N,treeMapChartParentColor:Mr(0,35,41),treeMapChartNodeColors:nt,treeMapChartLabelFillStyle:new _u({color:Mr(33,33,33)}),treeMapChartLabelHeaderFillStyle:new _u({color:Mr(250,250,250)})},{positiveTextFillStyle:V,negativeTextFillStyle:R,positiveFillStyle:G,negativeFillStyle:U,positiveAreaFillStyle:Y,negativeAreaFillStyle:W,positiveBackgroundFillStyle:X,negativeBackgroundFillStyle:H,badGoodColorPalette:Z,coldHotColorPalette:J,intensityColorPalette:Q,spectrogramColorPalette:K,bollingerFillStyle:q,bollingerBorderFillStyle:$,highlightPointColor:i,highlightDataGridColor:tt,unfocusedDataColor:it})})),Wg=ts((function(){var i=!1,n=new za({spread:0,blur:6,offset:{x:2,y:-2},color:Mr(0,0,0,30)}),r=new zr({position:{x:.8,y:.8},extent:t.GradientExtent.farthestCorner,shape:t.GradientShape.ellipse,stops:[{offset:0,color:Mr(255,255,255)},{offset:1,color:Mr(255,255,255)}]}),e=new _u({color:Mr(219,227,233,255)}),o=new zr({position:{x:.5,y:.5},extent:t.GradientExtent.farthestCorner,shape:t.GradientShape.circle,stops:[{offset:0,color:Mr(255,255,255,200)},{offset:1,color:Mr(240,244,246,200)}]}),s=new zr({position:{x:.5,y:.5},extent:t.GradientExtent.farthestCorner,shape:t.GradientShape.circle,stops:[{offset:0,color:Mr(255,255,255,255)},{offset:1,color:Mr(255,255,255,255)}]}),u=Pg,a=new _u({color:Mr(33,43,49)}),h=new _u({color:Mr(33,43,49)}),f=new _u({color:Mr(33,43,49)}),c=new _u({color:Mr(33,43,49)}),l=c,v=l,d=new Vr({angle:45,stops:[{offset:0,color:Mr(225,225,225)},{offset:1,color:Mr(225,225,225)}]}),y=new _u({color:Mr(150,150,150,255)}),A=new _u({color:Mr(150,150,150,170)}),b=new _u({color:Mr(150,150,150,150)}),p=new _u({color:Mr(150,150,150,100)}),m=new _u({color:Mr(60,70,80)}),g=new Vr({angle:0,stops:[{offset:0,color:Mr(255,255,255,240)},{offset:1,color:Mr(255,255,255,240)}]}),x=new _u({color:Mr(168,186,199)}),S=Mr(150,150,150),w=new _u({color:Mr(255,255,255,230)}),M=new _u({color:Mr(168,186,199)}),C=new _u({color:Mr(228,235,243)}),T=Mr(255,255,255,255),k=Mr(168,168,199,255),_=Mr(168,186,199,255),O=Mr(168,186,199,255),F=Mr(168,186,199,255),I=Mr(168,186,199,255),j=Mr(100,100,100),B=Mr(200,200,200),D=[Mr(28,181,140,255),Mr(255,132,0,255),Mr(240,39,39,255),Mr(86,121,251,255),Mr(2,181,213,255),Mr(13,212,158,255),Mr(22,167,3,255),Mr(234,103,232,255),Mr(62,183,179,255),Mr(140,93,3,255),Mr(155,158,186,255)].map((function(t){return{stroke:t,border:t,area:t.setA(180)}})),L=Mr(150,150,150,80),E=Mr(46,182,120,255),P=Mr(255,66,66,255),z=new Ta({thickness:2,fillStyle:new _u({color:Mr(168,186,199,255)})}),N={mapChartFillStyle:new Vr({angle:-45,stops:[{color:Mr(2,181,213,255),offset:0},{color:Mr(175,243,255,255),offset:1}]}),spiderSeriesFillStyle:Ng(i,D,.8),pieChartSliceFillStylePalette:Vg(i,D,.8),funnelChartSliceFillStylePalette:Rg(i,D,.5),pyramidChartSliceFillStylePalette:Rg(i,D,.5),rectangleSeriesFillStyle:Gg(i,D),gaugeChartBarColor:Mr(46,182,120,255),gaugeChartGlowColor:Mr(46,182,120,120),chartXYSeriesBackgroundStrokeStyle:z,chart3DSeriesBackgroundStrokeStyle:z,polarChartSeriesBackgroundStrokeStyle:z,spiderChartSeriesBackgroundStrokeStyle:z,dataGridTextFillStyle:new _u({color:Mr(0,88,64,255)})},V=new _u({color:Mr(4,146,108,255)}),R=new _u({color:Mr(240,39,39,255)}),G=new _u({color:Mr(28,181,140,255)}),U=new _u({color:Mr(230,88,88,255)}),Y=new _u({color:Mr(28,181,140,180)}),W=new _u({color:Mr(230,88,88,180)}),X=new _u({color:Mr(229,243,228)}),H=new _u({color:Mr(232,225,216)}),Z=[Mr(193,48,48,255),Mr(240,234,60,255),Mr(45,191,55,255)],J=[Mr(10,19,255,255),Mr(15,191,250,255),Mr(249,255,2,255),Mr(253,133,0,255),Mr(255,24,0,255)],Q=[Mr(50,99,213),Mr(8,179,77),Mr(255,246,0),Mr(255,126,0),Mr(189,36,30)],K=[Mr(16,64,176),Mr(8,179,77),Mr(255,246,0),Mr(255,126,0),Mr(168,6,0)],q=new _u({color:Mr(185,198,207,255)}),$=new zr({stops:[{color:Mr(151,190,220,10),offset:0},{color:Mr(151,190,220,50),offset:1}]}),tt=Y.getColor().setA(255),it=Mr(150,150,150),nt=[Mr(255,243,136,125),Mr(254,237,99,125),Mr(255,216,109,125),Mr(255,172,100,125),Mr(255,133,101,125),Mr(255,113,142,125),Mr(230,103,129,125),Mr(242,126,219,125),Mr(255,155,235,125),Mr(255,181,240,125),Mr(203,143,255,125),Mr(208,154,255,125),Mr(171,188,255,125),Mr(197,209,255,125),Mr(171,187,255,125),Mr(84,167,239,125),Mr(38,196,214,125),Mr(38,214,196,125),Mr(69,225,141,125),Mr(36,191,88,125)];return Eg({isDark:i,highlightColorOffset:Mr(-60,-60,-60,60),highlightColorOffsetAxisOverlay:Mr(0,0,0,40),effect:n,effectsText:!1,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:r,dashboardSplitterFillStyle:e,panelBackgroundFillStyle:o,seriesBackgroundFillStyle:s,fontFamily:u,fontScaler:1,titleFillStyle:a,axisTitleFillStyle:h,axisLabelMajorFillStyle:f,uiTitleFillStyle:c,uiTextFillStyle:l,cursorTextFillStyle:v,axisLineFillStyle:d,axisTickMajorFillStyle:y,axisGridMajorFillStyle:A,axisTickMinorFillStyle:b,axisGridMinorFillStyle:p,cursorGridFillStyle:m,legendBackgroundFillStyle:g,legendBackgroundBorderFillStyle:x,legendButtonDefaultColor:S,resultTableBackgroundFillStyle:w,resultTableBackgroundBorderFillStyle:M,resultTableHeaderBackgroundFillStyle:C,uiBackgroundColor:T,uiBackgroundBorderColor:k,uiStrokeColorContrastHigh:_,uiStrokeColorContrastMedium:O,uiStrokeColorContrastLow:F,dataStrokeColorContrastHigh:I,dataStrokeColorContrastMedium:j,dataStrokeColorContrastLow:B,dataColorPalette:D,dataColorPaletteInverted:[{area:Mr(190,50,50,100),border:Mr(210,80,80)}],dataHighlightOverlayColor:L,dataColorPositive:E,dataColorNegative:P,zoomBandChartDefocusOverlayFillStyle:new _u({color:Mr(255,255,255,180)}),zoomBandChartSplitterColor:Mr(80,93,101),zoomBandChartKnobFillStyle:function(i){return new Be({source:zg(i,"zoomBandChart/light-selector.png"),fitMode:t.ImageFitMode.Fill})},zoomBandChartKnobSize:{x:14,y:30},dataColorUnselected:Mr(0,0,0,24),overrideThemeProperties:N,treeMapChartParentColor:Mr(217,217,217),treeMapChartNodeColors:nt,treeMapChartLabelFillStyle:new _u({color:Mr(0,0,0)}),treeMapChartLabelHeaderFillStyle:new _u({color:Mr(33,33,33)})},{positiveTextFillStyle:V,negativeTextFillStyle:R,positiveFillStyle:G,negativeFillStyle:U,positiveAreaFillStyle:Y,negativeAreaFillStyle:W,positiveBackgroundFillStyle:X,negativeBackgroundFillStyle:H,badGoodColorPalette:Z,coldHotColorPalette:J,intensityColorPalette:Q,spectrogramColorPalette:K,bollingerFillStyle:$,bollingerBorderFillStyle:q,highlightPointColor:Mr(0,0,0),highlightDataGridColor:tt,unfocusedDataColor:it})})),Xg=ts((function(){var i=!1,n=new zr({position:{x:.8,y:.8},extent:t.GradientExtent.farthestCorner,shape:t.GradientShape.ellipse,stops:[{offset:0,color:Mr(255,255,255)},{offset:1,color:Mr(255,255,255)}]}),r=new _u({color:Mr(214,236,216,255)}),e=new zr({position:{x:.5,y:.5},extent:t.GradientExtent.farthestCorner,shape:t.GradientShape.circle,stops:[{offset:0,color:Mr(233,244,231,70)},{offset:1,color:Mr(233,244,231,200)}]}),o=new zr({position:{x:.5,y:.5},extent:t.GradientExtent.farthestCorner,shape:t.GradientShape.circle,stops:[{offset:0,color:Mr(255,255,255,255)},{offset:1,color:Mr(255,255,255,255)}]}),s=Pg,u=new _u({color:Mr(1,61,53)}),a=new _u({color:Mr(1,61,53)}),h=new _u({color:Mr(1,61,53)}),f=new _u({color:Mr(1,61,53)}),c=f,l=c,v=new Vr({angle:45,stops:[{offset:0,color:Mr(225,225,225)},{offset:1,color:Mr(225,225,225)}]}),d=new _u({color:Mr(188,211,186,255)}),y=new _u({color:Mr(188,211,186,150)}),A=new _u({color:Mr(188,211,186,50)}),b=new _u({color:Mr(188,211,186,50)}),p=new _u({color:Mr(104,148,111,255)}),m=new Vr({angle:0,stops:[{offset:0,color:Mr(255,255,255,240)},{offset:1,color:Mr(255,255,255,240)}]}),g=new _u({color:Mr(104,148,111)}),x=Mr(150,150,150),S=new _u({color:Mr(255,255,255,230)}),w=new _u({color:Mr(104,148,111)}),M=new _u({color:Mr(226,236,224)}),C=Mr(255,255,255,255),T=Mr(179,201,183,255),k=Mr(188,211,186,255),_=Mr(188,211,186,255),O=Mr(188,211,186,255),F=Mr(188,211,186,255),I=Mr(100,100,100),j=Mr(200,200,200),B=[Mr(138,195,142,255),Mr(193,161,114,255),Mr(178,99,99,255),Mr(142,156,210,255),Mr(154,209,219,255),Mr(164,212,199,255),Mr(104,156,97,255),Mr(196,147,195,255),Mr(92,190,187,255),Mr(126,100,51,255),Mr(136,138,157,255)].map((function(t){return{stroke:t,border:t,area:t.setA(180)}})),D=Mr(150,150,150,80),L=Mr(46,182,84,255),E=Mr(232,96,96,255),P=new Ta({thickness:2,fillStyle:new _u({color:Mr(188,211,186,255)})}),z={mapChartFillStyle:new Vr({angle:-45,stops:[{color:Mr(118,160,121,255),offset:0},{color:Mr(174,227,178,255),offset:1}]}),spiderSeriesFillStyle:Ng(i,B,.8),pieChartSliceFillStylePalette:Vg(i,B,.8),pyramidChartSliceFillStylePalette:Rg(i,B,.5),funnelChartSliceFillStylePalette:Rg(i,B,.5),rectangleSeriesFillStyle:Gg(i,B),gaugeChartBarColor:Mr(46,182,84,255),gaugeChartGlowColor:Mr(46,182,84,120),chartXYSeriesBackgroundStrokeStyle:P,chart3DSeriesBackgroundStrokeStyle:P,polarChartSeriesBackgroundStrokeStyle:P,spiderChartSeriesBackgroundStrokeStyle:P,dataGridTextFillStyle:new _u({color:Mr(77,66,21,255)})},N=new _u({color:Mr(93,151,97,255)}),V=new _u({color:Mr(178,99,99,255)}),R=new _u({color:Mr(138,195,142,255)}),G=new _u({color:Mr(178,99,99,255)}),U=new _u({color:Mr(138,195,142,180)}),Y=new _u({color:Mr(178,99,99,180)}),W=new _u({color:Mr(224,240,237)}),X=new _u({color:Mr(251,227,227)}),H=[Mr(178,99,99,255),Mr(215,224,111,255),Mr(80,186,88,255)],Z=[Mr(62,64,142,255),Mr(66,131,77,255),Mr(250,250,135,255),Mr(202,161,78,255),Mr(179,53,53,255)],J=[Mr(64,86,138),Mr(123,192,205),Mr(255,252,149),Mr(220,155,92),Mr(184,78,74)],Q=[Mr(64,86,138),Mr(123,192,205),Mr(255,252,149),Mr(220,155,92),Mr(132,60,57)],K=new _u({color:Mr(185,198,207,255)}),q=new zr({stops:[{color:Mr(151,190,220,10),offset:0},{color:Mr(151,190,220,50),offset:1}]}),$=U.getColor().setA(255),tt=Mr(150,150,150),it=[Mr(242,239,210,150),Mr(243,238,183,150),Mr(210,222,136,150),Mr(204,217,148,150),Mr(157,190,124,150),Mr(143,178,72,150),Mr(198,147,88,150),Mr(216,148,71,150),Mr(229,142,103,150),Mr(225,174,152,150),Mr(219,149,203,150),Mr(216,188,209,150),Mr(109,198,189,150),Mr(172,206,202,150),Mr(164,223,217,150),Mr(174,215,233,150),Mr(203,225,235,150),Mr(220,227,243,150),Mr(207,213,227,150),Mr(171,182,209,150)];return Eg({isDark:i,highlightColorOffset:Mr(-60,-60,-60,60),highlightColorOffsetAxisOverlay:Mr(0,0,0,40),effect:void 0,effectsText:!1,effectsDashboardSplitters:!1,lcjsBackgroundFillStyle:n,dashboardSplitterFillStyle:r,panelBackgroundFillStyle:e,seriesBackgroundFillStyle:o,fontFamily:s,fontScaler:1,titleFillStyle:u,axisTitleFillStyle:a,axisLabelMajorFillStyle:h,uiTitleFillStyle:f,uiTextFillStyle:c,cursorTextFillStyle:l,axisLineFillStyle:v,axisTickMajorFillStyle:d,axisGridMajorFillStyle:y,axisTickMinorFillStyle:A,axisGridMinorFillStyle:b,cursorGridFillStyle:p,legendBackgroundFillStyle:m,legendBackgroundBorderFillStyle:g,legendButtonDefaultColor:x,resultTableBackgroundFillStyle:S,resultTableBackgroundBorderFillStyle:w,resultTableHeaderBackgroundFillStyle:M,uiBackgroundColor:C,uiBackgroundBorderColor:T,uiStrokeColorContrastHigh:k,uiStrokeColorContrastMedium:_,uiStrokeColorContrastLow:O,dataStrokeColorContrastHigh:F,dataStrokeColorContrastMedium:I,dataStrokeColorContrastLow:j,dataColorPalette:B,dataColorPaletteInverted:[{area:Mr(210,70,70,100),border:Mr(200,110,110)}],dataHighlightOverlayColor:D,dataColorPositive:L,dataColorNegative:E,zoomBandChartDefocusOverlayFillStyle:new _u({color:Mr(255,255,255,180)}),zoomBandChartSplitterColor:Mr(68,106,64),zoomBandChartKnobFillStyle:function(i){return new Be({source:zg(i,"zoomBandChart/lightnature-selector.png"),fitMode:t.ImageFitMode.Fill})},zoomBandChartKnobSize:{x:14,y:30},dataColorUnselected:Mr(0,0,0,24),overrideThemeProperties:z,treeMapChartParentColor:Mr(239,247,238),treeMapChartNodeColors:it,treeMapChartLabelFillStyle:new _u({color:Mr(0,0,0)}),treeMapChartLabelHeaderFillStyle:new _u({color:Mr(33,33,33)})},{positiveTextFillStyle:N,negativeTextFillStyle:V,positiveFillStyle:R,negativeFillStyle:G,positiveAreaFillStyle:U,negativeAreaFillStyle:Y,positiveBackgroundFillStyle:W,negativeBackgroundFillStyle:X,badGoodColorPalette:H,coldHotColorPalette:Z,intensityColorPalette:J,spectrogramColorPalette:Q,bollingerFillStyle:q,bollingerBorderFillStyle:K,highlightPointColor:Mr(0,0,0),highlightDataGridColor:$,unfocusedDataColor:tt})})),Hg=ts((function(){var i=Mr(255,255,255),n=new _u({color:i}),r=!0,e=new za({spread:1,blur:9,offset:{x:0,y:0},color:Mr(255,255,255,30)}),o=new _u({color:Mr(6,15,36)}),s=new zr({stops:[{color:Mr(46,13,87,50),offset:0},{color:Mr(0,0,0,150),offset:1}]}),u=new _u({color:Mr(0,5,8,150)}),a=Pg,h=n,f=n,c=n,l=n,v=n,d=v,y=new Vr({angle:45,stops:[{offset:0,color:Mr(241,133,255,255)},{offset:1,color:Mr(115,207,238,255)}]}),A=n,b=new _u({color:Mr(61,94,110,100)}),p=new _u({color:Mr(61,94,110,255)}),m=new _u({color:Mr(61,94,110,40)}),g=n,x=new _u({color:Mr(0,18,23,255)}),S=n,w=Mr(115,207,238,255),M=new _u({color:Mr(0,0,0,224)}),C=n,T=new _u({color:Mr(68,31,78)}),k=Mr(0,38,48,255),_=Mr(0,0,0),O=i,F=Mr(150,150,150),I=Mr(19,57,93),j=Mr(50,50,50),B=Mr(0,17,48),D=Mr(200,200,200),L=[Mr(20,211,237,255),Mr(98,147,252,255),Mr(164,73,250,255),Mr(129,117,253,255),Mr(95,134,252,255),Mr(22,133,212,255),Mr(35,200,242,255),Mr(104,121,233,255),Mr(137,69,232,255),Mr(70,72,241,255)].map((function(t){return{stroke:t,border:t,area:t.setA(180)}})),E=i.setA(50),P=Mr(3,217,194,255),z=Mr(243,21,110,255),N={mapChartFillStyle:new Vr({angle:135,stops:[{color:Mr(118,248,231,255),offset:0},{color:Mr(45,177,255,255),offset:1}]}),spiderSeriesFillStyle:Ng(r,L,.5),pieChartSliceFillStylePalette:Vg(r,L,2),funnelChartSliceFillStylePalette:Rg(r,L,1),pyramidChartSliceFillStylePalette:Rg(r,L,1),rectangleSeriesFillStyle:Gg(r,L),gaugeChartBarColor:Mr(3,217,194,255),gaugeChartGlowColor:Mr(3,217,194,150)},V=new _u({color:Mr(20,211,237,255)}),R=new _u({color:Mr(253,145,178,255)}),G=new _u({color:Mr(20,211,237,255)}),U=new _u({color:Mr(239,68,121,255)}),Y=new _u({color:Mr(20,211,237,120)}),W=new _u({color:Mr(239,68,121,180)}),X=new _u({color:Mr(1,53,57,255)}),H=new _u({color:Mr(94,19,42,255)}),Z=[Mr(174,51,132,255),Mr(204,107,218,255),Mr(189,215,253,255)],J=[Mr(0,63,95,255),Mr(0,149,255,255),Mr(0,225,255,255),Mr(255,154,254,255),Mr(204,98,170,255),Mr(139,39,84,255)],Q=[Mr(197,241,255,255),Mr(70,210,255,255),Mr(0,164,217,255),Mr(90,99,222,255),Mr(138,75,192,255),Mr(151,27,162,255)],K=[Mr(13,31,52,255),Mr(129,54,130,255),Mr(131,108,176,255),Mr(7,162,213,255),Mr(26,247,255,255)],q=new zr({stops:[{color:Mr(219,42,235,60),offset:0},{color:Mr(237,73,252,10),offset:1}]}),$=new _u({color:Mr(237,73,252,255)}),tt=Y.getColor().setA(255),it=Mr(8,70,100),nt=[Mr(149,230,255,150),Mr(93,213,243,150),Mr(20,189,223,150),Mr(5,151,181,150),Mr(2,138,198,150),Mr(2,113,198,150),Mr(97,148,236,150),Mr(93,111,230,150),Mr(151,120,223,150),Mr(128,87,227,150),Mr(153,52,230,150),Mr(179,92,245,150),Mr(248,110,211,150),Mr(255,155,228,150),Mr(251,88,207,150),Mr(255,0,162,150),Mr(214,73,177,150),Mr(209,71,159,150),Mr(238,101,169,150),Mr(210,57,134,150)];return Eg({isDark:r,highlightColorOffset:Mr(60,60,60,60),highlightColorOffsetAxisOverlay:Mr(255,255,255,40),effect:e,effectsText:!0,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:function(i){return new Be({source:zg(i,"themes/cyberSpace.jpg"),fitMode:t.ImageFitMode.Fill})},dashboardSplitterFillStyle:o,panelBackgroundFillStyle:s,seriesBackgroundFillStyle:u,fontFamily:a,fontScaler:1,titleFillStyle:h,axisTitleFillStyle:f,axisLabelMajorFillStyle:c,uiTitleFillStyle:l,uiTextFillStyle:v,cursorTextFillStyle:d,axisLineFillStyle:y,axisTickMajorFillStyle:A,axisGridMajorFillStyle:b,axisTickMinorFillStyle:p,axisGridMinorFillStyle:m,cursorGridFillStyle:g,legendBackgroundFillStyle:x,legendBackgroundBorderFillStyle:S,legendButtonDefaultColor:w,resultTableBackgroundFillStyle:M,resultTableBackgroundBorderFillStyle:C,resultTableHeaderBackgroundFillStyle:T,uiBackgroundColor:k,uiBackgroundBorderColor:_,uiStrokeColorContrastHigh:O,uiStrokeColorContrastMedium:F,uiStrokeColorContrastLow:I,dataStrokeColorContrastHigh:j,dataStrokeColorContrastMedium:B,dataStrokeColorContrastLow:D,dataColorPalette:L,dataColorPaletteInverted:[{area:Mr(41,130,255,100),border:Mr(45,110,240)}],dataHighlightOverlayColor:E,dataColorPositive:P,dataColorNegative:z,zoomBandChartDefocusOverlayFillStyle:new _u({color:Mr(0,0,0,180)}),zoomBandChartSplitterColor:Mr(219,119,255),zoomBandChartKnobFillStyle:function(i){return new Be({source:zg(i,"zoomBandChart/cyberspace-selector.png"),fitMode:t.ImageFitMode.Fill})},zoomBandChartKnobSize:{x:14,y:30},dataColorUnselected:Mr(255,255,255,24),overrideThemeProperties:N,treeMapChartParentColor:Mr(30,30,59),treeMapChartNodeColors:nt,treeMapChartLabelFillStyle:new _u({color:Mr(33,33,33)}),treeMapChartLabelHeaderFillStyle:new _u({color:Mr(250,250,250)})},{positiveTextFillStyle:V,negativeTextFillStyle:R,positiveFillStyle:G,negativeFillStyle:U,positiveAreaFillStyle:Y,negativeAreaFillStyle:W,positiveBackgroundFillStyle:X,negativeBackgroundFillStyle:H,badGoodColorPalette:Z,coldHotColorPalette:J,intensityColorPalette:Q,spectrogramColorPalette:K,bollingerFillStyle:q,bollingerBorderFillStyle:$,highlightPointColor:i,highlightDataGridColor:tt,unfocusedDataColor:it})})),Zg={};Object.defineProperty(Zg,"darkGold",{get:Ug,enumerable:!0}),Object.defineProperty(Zg,"turquoiseHexagon",{get:Yg,enumerable:!0}),Object.defineProperty(Zg,"light",{get:Wg,enumerable:!0}),Object.defineProperty(Zg,"lightNature",{get:Xg,enumerable:!0}),Object.defineProperty(Zg,"cyberSpace",{get:Hg,enumerable:!0});var Jg,Qg=Zg,Kg=Qg.darkGold,qg=function(){return qg=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},qg.apply(this,arguments)},$g=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tx=function(){return tx=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},tx.apply(this,arguments)},ix=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},nx=function(i){function n(n,r,e,o,s,u){var a,h,f,c,l,v=this;return(v=i.call(this,n,r,e,r.EA("dataGrid bg",0),o,r.qi.en.dataGridBackgroundFillStyle,r.qi.en.dataGridBackgroundStrokeStyle,r.qi.en.dataGridTitleFont,r.qi.en.dataGridTitleFillStyle,r.qi.en.dataGridTitleShadow,u)||this).L_=[],v.E_=[],v.P_=[],v.z_=new Map,v.N_=!0,v.V_=!0,v.R_=!0,v.G_=!0,v.U_=!0,v.Y_=!0,v.W_=!0,v.X_=!0,v.H_=!0,v.Z_=!0,v.J_=!0,v.Q_=!0,v.K_=!0,v.q_=!0,v.tO=!0,v.iO=!0,v.nO=new Set,v.rO=new Set,v.eO=!0,v.oO=!0,v.sO=function(t,i){t.borders=void 0===i?ox:tx(tx({},t.borders),i),v.uO(t),v.Q_=!0,v.qi.vr()},v.uO=function(t){t.borders&&(!1===t.borders.top&&v.aO(t.column,t.row-1,(function(t){t.borders=t.borders?tx(tx({},null==t?void 0:t.borders),{bottom:!1}):tx(tx({},v.hO),{bottom:!1})})),!1===t.borders.bottom&&v.aO(t.column,t.row+1,(function(t){t.borders=t.borders?tx(tx({},t.borders),{top:!1}):tx(tx({},v.hO),{top:!1})})),!1===t.borders.left&&v.aO(t.column-1,t.row,(function(t){t.borders=t.borders?tx(tx({},t.borders),{right:!1}):tx(tx({},v.hO),{right:!1})})),!1===t.borders.right&&v.aO(t.column+1,t.row,(function(t){t.borders=t.borders?tx(tx({},t.borders),{left:!1}):tx(tx({},v.hO),{left:!1})})),!0===t.borders.top&&v.aO(t.column,t.row-1,(function(t){t.borders=t.borders?tx(tx({},null==t?void 0:t.borders),{bottom:!0}):tx(tx({},v.hO),{bottom:!0})})),!0===t.borders.bottom&&v.aO(t.column,t.row+1,(function(t){t.borders=t.borders?tx(tx({},t.borders),{top:!0}):tx(tx({},v.hO),{top:!0})})),!0===t.borders.left&&v.aO(t.column-1,t.row,(function(t){t.borders=t.borders?tx(tx({},t.borders),{right:!0}):tx(tx({},v.hO),{right:!0})})),!0===t.borders.right&&v.aO(t.column+1,t.row,(function(t){t.borders=t.borders?tx(tx({},t.borders),{left:!0}):tx(tx({},v.hO),{left:!0})})))},v.fO={x:0,y:0},v.cells=new we,v.Ct=new we,v.qi.qa(gf.Yu),v.So.Os("Data Grid"),v.cO=e.d2({scaleXYConstructor:$r}),v.cO.x.Ed=Ag,v.lO=e.d2({scaleXYConstructor:$r}),v.vO={x:0,y:0},v.dO=v.en.dataGridTextFont,v.yO=v.en.dataGridTextFillStyle,v.hO={top:!0,bottom:!0,left:!0,right:!0},v.AO=v.en.dataGridCellBackgroundFillStyle,v.bO=v.en.dataGridBorderStrokeStyle,v.pO="left-center",v.mO={left:null!==(a=v.en.dataGridCellPadding)&&void 0!==a?a:5,right:null!==(h=v.en.dataGridCellPadding)&&void 0!==h?h:5,bottom:null!==(f=v.en.dataGridCellPadding)&&void 0!==f?f:5,top:null!==(c=v.en.dataGridCellPadding)&&void 0!==c?c:5},v.gO=r.gg("dataGrid grid bg",0),v.xO=r.gg("dataGrid cell bg",1),v.SO=r.xg("dataGrid cell content",0),v.wO=r.xg("dataGrid scrollbar bg",1),v.MO=r.xg("dataGrid scrollbar fg",2),v.CO=v.gO.vl(v.lO).Be(v.en.dataGridBackgroundFillStyle).je(Pe).setPointerEvents(!1),v.TO=v.SO.ly(v.cO).setPointerEvents(!1),v.kO=new jv((function(){var t=v.xO.De(v.cO).setPointerEvents(!0);return v.cells.xn(t,{getExtraData:function(){return v.z_.get(t)},continueIfNotPrevented:function(t,i,n){var r=Vu(v.getUserInteractions().scroll,"wheel",i,i.shiftKey,i.ctrlKey,i.altKey);if(r&&"wheel"===t&&i instanceof WheelEvent){wo(i),v._O({x:!0===r.x?Math.sign(i.deltaY):0,y:!0===r.y?Math.sign(i.deltaY):0});var e=r.on;e&&e({event:i})}}}),t})),v.OO=new jv((function(){return v.SO.De(v.cO).setPointerEvents(!1)})),v.FO=new jv((function(){return v.SO.$s(v.cO,!1).setPointerEvents(!1)})),v.IO=new jv((function(){return v.SO.Fb(v.cO,{},[fd.InternalUI,{type:"DataPattern",args:{pattern:"ProgressiveX"}}]).setPointerEvents(!1)})),v.jO=new jv((function(){return v.SO.We(v.cO).setPointerEvents(!1)})),v.BO=new jv((function(){return v.SO.wv(v.cO).Sv(Cu).Ye(Pe).setPointerEvents(!1)})),v.DO=new jv((function(){return v.SO.De(v.cO).setPointerEvents(!1)})),v.LO=new jv((function(){return v.SO.Ew(v.cO).setPointerEvents(!1)})),v.EO=new jv((function(){return v.SO.fv(v.cO).setPointerEvents(!1)})),v.PO={background:v.wO.De(v.lO).setPointerEvents(!0).Be(v.en.dataGridScrollBarBackgroundFillStyle).je(v.en.dataGridScrollBarBackgroundStrokeStyle),scrollbar:v.MO.De(v.lO).setPointerEvents(!0).Be(v.en.dataGridScrollBarFillStyle).je(v.en.dataGridScrollBarStrokeStyle),button1:v.wO.De(v.lO).setPointerEvents(!0).Be(v.en.dataGridScrollBarButtonFillStyle).je(v.en.dataGridScrollBarButtonStrokeStyle),button2:v.wO.De(v.lO).setPointerEvents(!0).Be(v.en.dataGridScrollBarButtonFillStyle).je(v.en.dataGridScrollBarButtonStrokeStyle),buttonIcon1:v.MO.wv(v.lO).setPointerEvents(!1).Ye(Pe).xv(v.en.dataGridScrollBarButtonArrowFillStyle).Mv(t.PointShape.Triangle),buttonIcon2:v.MO.wv(v.lO).setPointerEvents(!1).Ye(Pe).xv(v.en.dataGridScrollBarButtonArrowFillStyle).Mv(t.PointShape.Triangle)},v.zO={background:v.wO.De(v.lO).setPointerEvents(!0).Be(v.en.dataGridScrollBarBackgroundFillStyle).je(v.en.dataGridScrollBarBackgroundStrokeStyle),scrollbar:v.MO.De(v.lO).setPointerEvents(!0).Be(v.en.dataGridScrollBarFillStyle).je(v.en.dataGridScrollBarStrokeStyle),button1:v.wO.De(v.lO).setPointerEvents(!0).Be(v.en.dataGridScrollBarButtonFillStyle).je(v.en.dataGridScrollBarButtonStrokeStyle),button2:v.wO.De(v.lO).setPointerEvents(!0).Be(v.en.dataGridScrollBarButtonFillStyle).je(v.en.dataGridScrollBarButtonStrokeStyle),buttonIcon1:v.MO.wv(v.lO).setPointerEvents(!1).Ye(Pe).xv(v.en.dataGridScrollBarButtonArrowFillStyle).Mv(t.PointShape.Triangle),buttonIcon2:v.MO.wv(v.lO).setPointerEvents(!1).Ye(Pe).xv(v.en.dataGridScrollBarButtonArrowFillStyle).Mv(t.PointShape.Triangle)},v.PO.scrollbar.addEventListener("pointerenter",(function(i){l=v.engine.setMouseStyle(t.MouseStyles.Vertical,l)})),v.PO.scrollbar.addEventListener("pointerleave",(function(t){l=v.engine.restoreMouseStyle(l)})),v.PO.scrollbar.addEventListener("pointerdown",(function(t){wo(t);var i=t,n=function(t){var n=t.clientY-i.clientY;i=t,v.NO({x:0,y:-n})},r=function(i){i.pointerId===t.pointerId&&(Qe.removeEventListener("pointermove",n),Qe.removeEventListener("pointerup",r))};Qe.addEventListener("pointermove",n),Qe.addEventListener("pointerup",r)})),v.PO.scrollbar.addEventListener("wheel",(function(t){wo(t),v._O({x:0,y:Math.sign(t.deltaY)})})),v.PO.background.addEventListener("pointerenter",(function(i){l=v.engine.setMouseStyle(t.MouseStyles.Vertical,l)})),v.PO.background.addEventListener("pointerleave",(function(t){l=v.engine.restoreMouseStyle(l)})),v.PO.background.addEventListener("click",(function(t){wo(t);var i=v.qi.Fh(t),n=ee({x:i.engineX,y:i.engineY},v.qi.Yi,v.lO);v._O({x:0,y:n.y>v.PO.scrollbar.vf().y?-1:1})})),v.PO.background.addEventListener("wheel",(function(t){wo(t),v._O({x:0,y:Math.sign(t.deltaY)})})),v.PO.button1.addEventListener("pointerenter",(function(i){l=v.engine.setMouseStyle(t.MouseStyles.Point,l)})),v.PO.button1.addEventListener("pointerleave",(function(t){l=v.engine.restoreMouseStyle(l)})),v.PO.button1.addEventListener("click",(function(t){wo(t),v._O({x:0,y:1})})),v.PO.button2.addEventListener("click",(function(t){wo(t),v._O({x:0,y:-1})})),v.PO.button2.addEventListener("pointerenter",(function(i){l=v.engine.setMouseStyle(t.MouseStyles.Point,l)})),v.PO.button2.addEventListener("pointerleave",(function(t){l=v.engine.restoreMouseStyle(l)})),v.zO.scrollbar.addEventListener("pointerenter",(function(i){l=v.engine.setMouseStyle(t.MouseStyles.Horizontal,l)})),v.zO.scrollbar.addEventListener("pointerleave",(function(t){l=v.engine.restoreMouseStyle(l)})),v.zO.scrollbar.addEventListener("pointerdown",(function(t){wo(t);var i=t,n=function(t){var n=t.clientX-i.clientX;i=t,v.NO({x:n,y:0})},r=function(i){i.pointerId===t.pointerId&&(Qe.removeEventListener("pointermove",n),Qe.removeEventListener("pointerup",r))};Qe.addEventListener("pointermove",n),Qe.addEventListener("pointerup",r)})),v.zO.scrollbar.addEventListener("wheel",(function(t){wo(t),v._O({x:Math.sign(t.deltaY),y:0})})),v.zO.background.addEventListener("pointerenter",(function(i){l=v.engine.setMouseStyle(t.MouseStyles.Horizontal,l)})),v.zO.background.addEventListener("pointerleave",(function(t){l=v.engine.restoreMouseStyle(l)})),v.zO.background.addEventListener("click",(function(t){wo(t);var i=v.qi.Fh(t),n=ee({x:i.engineX,y:i.engineY},v.qi.Yi,v.lO);v._O({x:n.x<v.zO.scrollbar.vf().x?-1:1,y:0})})),v.zO.background.addEventListener("wheel",(function(t){wo(t),v._O({x:Math.sign(t.deltaY),y:0})})),v.zO.button1.addEventListener("pointerenter",(function(i){l=v.engine.setMouseStyle(t.MouseStyles.Point,l)})),v.zO.button1.addEventListener("pointerleave",(function(t){l=v.engine.restoreMouseStyle(l)})),v.zO.button1.addEventListener("click",(function(t){wo(t),v._O({x:-1,y:0})})),v.zO.button2.addEventListener("click",(function(t){wo(t),v._O({x:1,y:0})})),v.zO.button2.addEventListener("pointerenter",(function(i){l=v.engine.setMouseStyle(t.MouseStyles.Point,l)})),v.zO.button2.addEventListener("pointerleave",(function(t){l=v.engine.restoreMouseStyle(l)})),v.LA(s,v.uiScale),v.addEventListener("resize",(function(){v.N_=!0,v.qi.vr(),v.cO.zt(v.Ud.ai()),v.lO.zt(v.Ud.ai())})),v.VO=v.Qn.Zd([v.CO]),v}return $g(n,i),n.prototype.getMinimumSize=function(){return{x:200,y:200}},n.prototype.setAnimationsEnabled=function(t){return this},n.prototype.lA=function(){return[]},n.prototype.dispose=function(){return i.prototype.dispose.call(this),this.gO.Ft(),this.xO.Ft(),this.SO.Ft(),this.wO.Ft(),this.MO.Ft(),Kv(this.cO),Kv(this.lO),this.FO.Dy(),this.kO.Dy(),this.OO.Dy(),this.IO.Dy(),this.jO.Dy(),this.BO.Dy(),this.DO.Dy(),this.LO.Dy(),this.EO.Dy(),this},n.prototype.Dt=function(){return i.prototype.Dt.call(this),this.cO.Dt(),this.lO.Dt(),this},n.prototype.Lt=function(){return i.prototype.Lt.call(this),this.cO.Lt(),this.lO.Lt(),this},n.prototype.setBackgroundEffect=function(t){return this.VO.lr(t),this.qi.vr(),this},n.prototype.getBackgroundEffect=function(){return this.VO.dr()},n.prototype.setUserInteractions=function(t){return this.Re=void 0===t?{scroll:!1}:t,this},n.prototype.getUserInteractions=function(){return Ze({scroll:{wheel:{x:!1,y:!0},ctrl:{wheel:{x:!0,y:!1}}}},this.Re)},n.prototype.setGridBackgroundFillStyle=function(t){return this.CO.Be(t),this.qi.vr(),this},n.prototype.getGridBackgroundFillStyle=function(){return this.CO.Zo()},n.prototype.setCellContent=function(t,i,n,r,e){var o,s;if("number"==typeof n&&void 0!==r&&void 0!==e){for(var u=n,a=r,h=e,f=[],c=t;c<t+u;c+=1)for(var l=i;l<i+a;l+=1){var v=this.aO(c,l);v&&f.push(v)}f=Qo(f);var d={highlight:0};try{for(var y=ix(f),A=y.next();!A.done;A=y.next()){var b=A.value,p=this.L_.indexOf(b);p<0||(d=tx(tx({},d),{highlight:b.highlight,textFont:b.textFont,textFillStyle:b.textFillStyle,contentAlignment:b.contentAlignment,borders:b.borders,padding:b.padding,backgroundFillStyle:b.backgroundFillStyle}),this.L_.splice(p,1))}}catch(t){o={error:t}}finally{try{A&&!A.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}var m=tx(tx({},d),{column:t,row:i,columnSpan:u,rowSpan:a,content:h});this.L_.push(m),this.G_=!0,"string"==typeof m.content||"number"==typeof m.content?this.V_=!0:this.R_=!0,this.qi.vr()}else this.RO(t,i,n);return this},n.prototype.setColumnContent=function(t,i){var n=i.length;if(0===n)return this;for(var r=0;r<n;r+=1){var e=i[r];this.RO(t,r,e)}return this},n.prototype.setRowContent=function(t,i){var n=i.length;if(0===n)return this;for(var r=0;r<n;r+=1){var e=i[r];this.RO(r,t,e)}return this},n.prototype.setTableContent=function(t){var i=t.length;if(0===i)return this;var n=t[0].length;if(0===n)return this;for(var r=0;r<n;r+=1)for(var e=0;e<i;e+=1){var o=t[e][r];this.RO(r,e,o)}return this},n.prototype.setColumnWidth=function(t,i){var n=this.E_.find((function(i){return i.column===t}));return n||(n={column:t,min:void 0,max:void 0},this.E_.push(n)),"object"==typeof i?(n.min=i.min,n.max=i.max):void 0===i?this.E_.splice(this.E_.indexOf(n),1):(n.min=i,n.max=i),this.Y_=!0,this.qi.vr(),this},n.prototype.setRowHeight=function(t,i){var n=this.P_.find((function(i){return i.row===t}));return n||(n={row:t,min:void 0,max:void 0},this.P_.push(n)),"object"==typeof i?(n.min=i.min,n.max=i.max):void 0===i?this.P_.splice(this.P_.indexOf(n),1):(n.min=i,n.max=i),this.Y_=!0,this.qi.vr(),this},n.prototype.setColumnPaddings=function(t,i){var n=this;return"number"==typeof i&&(i=d(i,i,i,i)),this.GO(t,(function(t){return n.UO(t,i)})),this},n.prototype.setRowPaddings=function(t,i){var n=this;return"number"==typeof i&&(i=d(i,i,i,i)),this.YO(t,(function(t){return n.UO(t,i)})),this},n.prototype.setCellPadding=function(t,i,n){var r=this;return"number"==typeof n&&(n=d(n,n,n,n)),this.aO(t,i,(function(t){return r.UO(t,n)})),this},n.prototype.setCellsPaddings=function(t){var i=this;return"number"==typeof t&&(t=d(t,t,t,t)),this.mO=tx(tx({},this.mO),t),this.WO((function(t){return i.UO(t,i.mO)})),this},n.prototype.setCellBorders=function(t,i,n){var r=this;return this.aO(t,i,(function(t){return r.sO(t,n)})),this},n.prototype.setRowBorders=function(t,i){var n=this;return this.YO(t,(function(t){return n.sO(t,i)})),this},n.prototype.setColumnBorders=function(t,i){var n=this;return this.GO(t,(function(t){return n.sO(t,i)})),this},n.prototype.setCellsBorders=function(t){var i=this;return this.hO=void 0===t?ox:t,this.WO((function(t){return i.sO(t,i.hO)})),this},n.prototype.setCellsBorderStrokeStyle=function(t){return this.bO="function"==typeof t?t(this.bO):t,this.q_=!0,this.qi.vr(),this},n.prototype.setColumnTextFillStyle=function(t,i){var n=this;return this.GO(t,(function(t){return n.XO(t,i)})),this},n.prototype.setRowTextFillStyle=function(t,i){var n=this;return this.YO(t,(function(t){return n.XO(t,i)})),this},n.prototype.setCellTextFillStyle=function(t,i,n){var r=this;return this.aO(t,i,(function(t){return r.XO(t,n)})),this},n.prototype.setCellsTextFillStyle=function(t){var i=this;return this.yO="function"==typeof t?t(this.yO):t,this.WO((function(t){return i.XO(t,i.yO)})),this},n.prototype.setColumnTextFont=function(t,i){var n=this;return this.GO(t,(function(t){return n.HO(t,i)})),this},n.prototype.setRowTextFont=function(t,i){var n=this;return this.YO(t,(function(t){return n.HO(t,i)})),this},n.prototype.setCellTextFont=function(t,i,n){var r=this;return this.aO(t,i,(function(t){return r.HO(t,n)})),this},n.prototype.setCellsTextFont=function(t){var i=this;return this.dO="function"==typeof t?t(this.dO):t,this.WO((function(t){return i.HO(t,i.dO)})),this},n.prototype.setColumnContentAlignment=function(t,i){var n=this;return this.GO(t,(function(t){return n.ZO(t,i)})),this},n.prototype.setRowContentAlignment=function(t,i){var n=this;return this.YO(t,(function(t){return n.ZO(t,i)})),this},n.prototype.setCellContentAlignment=function(t,i,n){var r=this;return this.aO(t,i,(function(t){return r.ZO(t,n)})),this},n.prototype.setCellsContentAlignment=function(t){var i=this;return this.pO=t,this.WO((function(t){return i.ZO(t,i.pO)})),this},n.prototype.setCellBackgroundFillStyle=function(t,i,n){var r=this;return this.aO(t,i,(function(t){return r.JO(t,n)})),this},n.prototype.setColumnBackgroundFillStyle=function(t,i){var n=this;return this.GO(t,(function(t){return n.JO(t,i)})),this},n.prototype.setRowBackgroundFillStyle=function(t,i){var n=this;return this.YO(t,(function(t){return n.JO(t,i)})),this},n.prototype.setCellsBackgroundFillStyle=function(t){var i=this;return this.AO="function"==typeof t?t(this.AO):t,this.WO((function(t){return i.JO(t,i.AO)})),this},n.prototype.setCellHighlight=function(t,i,n){return this.aO(t,i,(function(t){t.highlight=qo(n)})),this.K_=!0,this.qi.vr(),this},n.prototype.setColumnHighlight=function(t,i){var n=qo(i);return this.GO(t,(function(t){t.highlight=n})),this.K_=!0,this.qi.vr(),this},n.prototype.setRowHighlight=function(t,i){var n=qo(i);return this.YO(t,(function(t){t.highlight=n})),this.K_=!0,this.qi.vr(),this},n.prototype.removeCell=function(t,i){var n=this;return this.aO(t,i,(function(t){return n.L_.splice(n.L_.indexOf(t),1)})),this.U_=!0,this.qi.vr(),this},n.prototype.removeRow=function(t){var i=this;return this.YO(t,(function(t){return i.L_.splice(i.L_.indexOf(t),1)})),this.L_.filter((function(i){return i.row>t})).forEach((function(t){t.row-=1})),this.U_=!0,this.qi.vr(),this},n.prototype.removeColumn=function(t){var i=this;return this.GO(t,(function(t){return i.L_.splice(i.L_.indexOf(t),1)})),this.L_.filter((function(i){return i.column>t})).forEach((function(t){t.column-=1})),this.U_=!0,this.qi.vr(),this},n.prototype.removeCells=function(){return this.L_.splice(0),this.U_=!0,this.qi.vr(),this},n.prototype.getColumnMax=function(){return 0===this.L_.length?0:this.L_.reduce((function(t,i){return Math.max(t,i.column+i.columnSpan-1)}),0)},n.prototype.getRowMax=function(){return 0===this.L_.length?0:this.L_.reduce((function(t,i){return Math.max(t,i.row+i.rowSpan-1)}),0)},n.prototype.Le=function(t){var n,r=this;i.prototype.Le.call(this,t),rd(this.So,this.PA,this.uiScale.Gi(),this.yu),i.prototype.DA.call(this);var e=Math.round(this.bO._n()),o=e/2,s=this.V_||this.R_||this.G_||this.U_||this.Y_||this.W_||this.J_||this.Q_||this.q_||this.iO;if(s){this.L_.forEach((function(t){r.rO.add(t.column)})),this.L_.forEach((function(t){r.nO.add(t.row)}));var u=this.FO.Iy(),a=this.QO(o,u);u.finishPlot();var h=this.KO(this.rO.size,a),f=this.qO(this.nO.size,a),c=h.reduce(Cs,0)+e,l=f.reduce(Cs,0)+e,v=new Array(h.length+1).fill(0).map((function(t,i){return h.reduce((function(t,n,r){return t+(r<i?n:0)}),0)})),d=new Array(f.length+1).fill(0).map((function(t,i){return f.reduce((function(t,n,r){return t+(r<i?n:0)}),0)}));if(this.$O){var y=this.$O.columnWidths.every((function(t,i){return t===h[i]})),A=this.$O.rowHeights.every((function(t,i){return t===f[i]}));y&&A&&(s=!1)}this.$O={columnWidths:h,rowHeights:f,dataGridWidth:c,dataGridHeight:l,columnWidthsCumulative:v,rowHeightsCumulative:d,cellsContentSizes:a}}var b=s||this.R_||this.G_||this.U_||this.X_||this.H_||this.Z_||this.Q_||this.K_||this.q_||this.N_||this.iO;if((b||this.tO)&&this.$O){var p=this.Ud.getInnerIntervalPixels(),m=nd(this.So,this.PA),g=[this.yu.left+o,this.yu.right+o],x=[this.yu.bottom+o,this.yu.top+m+o],S={x:p.x-g[0]-g[1],y:p.y-x[0]-x[1]},w=[this.yu.left,this.yu.right],M=[this.yu.bottom,this.yu.top+m],C={x:Math.round(p.x-w[0]-w[1]),y:Math.round(p.y-M[0]-M[1])},T={x:Math.ceil(o),y:Math.floor(C.y-o)};this.lO.Li(g).Ei(x).Pi(0,S.x).zi(0,S.y);var k=null!==(n=this.en.dataGridScrollBarThickness)&&void 0!==n?n:20,_={x:Math.min(S.x,this.$O.dataGridWidth+k)-k,y:Math.min(S.y,this.$O.dataGridHeight+k)-k};0===this.fO.x&&0===this.fO.y||(this.vO.y+=this.$O.dataGridHeight*this.fO.y/_.y,this.vO.x+=this.$O.dataGridWidth*this.fO.x/_.x,this.fO.x=0,this.fO.y=0),this.vO.y=ro(this.vO.y,S.y-this.$O.dataGridHeight-k,0),this.vO.x=ro(this.vO.x,0,this.$O.dataGridWidth-S.x+k);var O=this.vO;this.cO.Li(w).Ei(M).Pi(O.x,C.x+O.x).zi(O.y,C.y+O.y);var F={x:this.cO.x.ei(),y:this.cO.y.ei()+k,width:this.cO.x.si()+e-k,height:this.cO.y.si()+e-k};this.SO.lg(F),this.xO.lg(F);var I=this.$O,j=[{x:this.cO.x.getInnerStart(),y:this.cO.y.getInnerStart()},{x:this.cO.x.getInnerEnd(),y:this.cO.y.getInnerStart()},{x:this.cO.x.getInnerEnd(),y:this.cO.y.getInnerEnd()},{x:this.cO.x.getInnerStart(),y:this.cO.y.getInnerEnd()}];I.cellsContentSizes.forEach((function(t){var i,n={x:T.x+I.columnWidthsCumulative[t.cell.column],y:T.y-I.rowHeightsCumulative[t.cell.row+t.cell.rowSpan]},r={x:n.x+I.columnWidths[t.cell.column],y:n.y+I.rowHeights[t.cell.row]},e=Ss([n,{x:r.x,y:n.y},r,{x:n.x,y:r.y}],j);null===(i=t.text)||void 0===i||i.setVisible(e)})),b&&this.tF(T,this.$O,e);var B=S.y-k<this.$O.dataGridHeight;this.PO.background.setVisible(B).Ee({x:_.x,y:k}).zt({x:k,y:_.y}),this.PO.scrollbar.setVisible(B).Ee({x:_.x,y:k+_.y-k+-(_.y-2*k)*(-this.vO.y/this.$O.dataGridHeight)}).zt({x:k,y:-(_.y-2*k)*(_.y/this.$O.dataGridHeight)}),this.PO.button1.setVisible(B).Ee({x:_.x,y:k}).zt({x:k,y:k}),this.PO.buttonIcon1.setVisible(B).Iv(.5*k).Tv(0).gv((new Mc).appendSample({x:_.x+k/2,y:1.5*k}),{x:"x",y:"y"}),this.PO.button2.setVisible(B).Ee({x:_.x,y:_.y}).zt({x:k,y:k}),this.PO.buttonIcon2.setVisible(B).Iv(.5*k).Tv(180).gv((new Mc).appendSample({x:_.x+k/2,y:_.y+k/2}),{x:"x",y:"y"});var D=S.x-k<this.$O.dataGridWidth,L=Math.max(S.y-this.$O.dataGridHeight-k,0);this.zO.background.setVisible(D).Ee({x:0,y:L}).zt({x:_.x,y:k}),this.zO.scrollbar.setVisible(D).Ee({x:k+(_.x-2*k)*(this.vO.x/this.$O.dataGridWidth),y:L}).zt({x:(_.x-2*k)*(_.x/this.$O.dataGridWidth),y:k}),this.zO.button1.setVisible(D).Ee({x:0,y:L}).zt({x:k,y:k}),this.zO.buttonIcon1.setVisible(D).Iv(.5*k).Tv(90).gv((new Mc).appendSample({x:k/2,y:L+k/2}),{x:"x",y:"y"}),this.zO.button2.setVisible(D).Ee({x:_.x-k,y:L}).zt({x:k,y:k}),this.zO.buttonIcon2.setVisible(D).Iv(.5*k).Tv(270).gv((new Mc).appendSample({x:_.x-k/2,y:L+k/2}),{x:"x",y:"y"}),this.CO.rc([T,{x:T.x+_.x+(B?k:0),y:T.y},{x:T.x+_.x+(B?k:0),y:T.y-_.y},{x:T.x+_.x,y:T.y-_.y},{x:T.x+_.x,y:T.y-_.y-(D?k:0)},{x:T.x,y:T.y-_.y-(D?k:0)}])}this.N_=!1,this.V_=!1,this.R_=!1,this.G_=!1,this.U_=!1,this.Y_=!1,this.W_=!1,this.X_=!1,this.H_=!1,this.Z_=!1,this.J_=!1,this.Q_=!1,this.K_=!1,this.q_=!1,this.tO=!1,this.iO=!1},n.prototype.QO=function(t,i){var n,r,e=this,o=[],s={left:Math.ceil(t),right:Math.ceil(t),top:Math.ceil(t),bottom:Math.ceil(t)};try{for(var u=ix(this.L_),a=u.next();!a.done;a=u.next()){var h=a.value,f=h.content,c=tx(tx({},this.mO),h.padding),l={x:0,y:0},v=void 0,d=void 0,y=void 0;if("string"==typeof f||"number"==typeof f){var A=String(f);l=(v=i.add()).Os(A).qo(h.textFont||this.dO).ds().al()}if(mg(f)&&(d=f,l={x:200,y:50}),Ea(f)){var b=this.qi.iF(f);b.nF()?l=(y=f).ai():b.rF((function(){e.iO=!0,e.qi.vr()}))}if(v||d||y){c.top=Math.round(c.top),c.left=Math.round(c.left),c.right=Math.round(c.right),c.bottom=Math.round(c.bottom);var p={x:Math.round(l.x+c.left+c.right+s.left+s.right),y:Math.round(l.y+c.top+c.bottom+s.top+s.bottom)};o.push({cell:h,contentSize:p,text:v,sparkChart:d,icon:y,cellPadding:c,cellMargin:s})}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return o},n.prototype.tF=function(i,n,r){var e,o,s,u,a=n.cellsContentSizes,h=n.columnWidths,f=n.columnWidthsCumulative,c=n.rowHeights,l=n.rowHeightsCumulative;this.TO.Ye(this.bO),this.z_.clear();var v={cellBackground:this.kO.Iy(),cellIconRect:this.OO.Iy(),lineSet:this.IO.Iy(),line:this.jO.Iy(),pointSet:this.BO.Iy(),rect:this.DO.Iy(),junction:this.LO.Iy(),arc:this.EO.Iy()},d=[],y=function(n){var e=n.cell,o=n.text,s=n.sparkChart,u=n.icon,a=n.cellPadding,y=n.cellMargin,b={column:e.column,row:e.row},p={x:i.x+f[e.column],y:i.y-l[e.row+e.rowSpan]},m=p.x+y.left,g=p.y+y.bottom,x={x:m+a.left,y:g+a.bottom},S={x:new Array(e.columnSpan).fill(0).reduce((function(t,i,n){return t+h[e.column+n]}),0),y:new Array(e.rowSpan).fill(0).reduce((function(t,i,n){return t+c[e.row+n]}),0)},w=S.x-y.left-y.right,M=S.y-y.top-y.bottom,C={x:w-a.left-a.right,y:M-a.top-a.bottom};if(o){var T=ex(x,C,e.contentAlignment||A.pO);o.Ee(T[0]).wf({x:T[1],y:T[2]}).Be(A.eF(e.textFillStyle||A.yO,e.content,A.yO)).vn(e.highlight)._s(A.en.dataGridTextShadow)}var k=A.eF(e.backgroundFillStyle||A.AO,e.content);if(k!==Cu){var _=v.cellBackground.add();_.Ee(p).zt(S).Be(k).je(Pe).vn(e.highlight),A.z_.set(_,b)}var O=e.borders||A.hO;if(O&&rx(p,S,O,r,d),s){var F=x,I=C;!function(t,i,n,r,e,o,s,u){var a=t.type;if(0!==t.data.length){var h=[r,e];"spark-line"===a&&_g(t,i,h,o,s,u),"spark-bar"===a&&Og(bg(bg({},t),{winLoss:!1}),i,h,o,s,u),"spark-win-loss"===a&&Og(bg(bg({},t),{winLoss:!0}),i,h,o,s,u),"spark-area"===a&&Fg(t,i,h,o,s,u),"spark-pie"===a&&Ig(t,i,h,o,s,u)}}(s,v,A.cO,F,I,A.en,A.SA,e.highlight)}if(u){var j=u.ai(),B=ex(x,C,e.contentAlignment||A.pO);v.cellIconRect.add().Ee({x:B[0].x+j.x*(-.5-B[1]/2),y:B[0].y+j.y*(-.5-B[2]/2)}).zt(j).Be(new Be({source:u.Fr,fitMode:t.ImageFitMode.Stretch})).je(Pe).vn(e.highlight)}},A=this;try{for(var b=ix(a),p=b.next();!p.done;p=b.next())y(p.value)}catch(t){e={error:t}}finally{try{p&&!p.done&&(o=b.return)&&o.call(b)}finally{if(e)throw e.error}}this.TO.Sn();try{for(var m=ix(d),g=m.next();!g.done;g=m.next()){var x=g.value;this.TO.pa().yy(x[0],x[1])}}catch(t){s={error:t}}finally{try{g&&!g.done&&(u=m.return)&&u.call(m)}finally{if(s)throw s.error}}v.cellBackground.finishPlot(),v.cellIconRect.finishPlot(),v.lineSet.finishPlot(),v.line.finishPlot(),v.pointSet.finishPlot(),v.rect.finishPlot(),v.junction.finishPlot(),v.arc.finishPlot()},n.prototype.KO=function(t,i){var n,r,e=new Array(t).fill(0),o=function(t){var n=i.filter((function(i){return t>=i.cell.column&&t+1<=i.cell.column+i.cell.columnSpan})).reduce((function(t,i){var n=i.contentSize.x/i.cell.columnSpan;return Math.max(t,n)}),0),r=s.E_.find((function(i){return i.column===t})),o=r?ro(n,void 0!==r.min?r.min:bs,void 0!==r.max?r.max:As):n;e[t]=o},s=this;try{for(var u=ix(this.rO.values()),a=u.next();!a.done;a=u.next())o(a.value)}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return e},n.prototype.qO=function(t,i){var n,r,e=new Array(t).fill(0),o=function(t){var n=i.filter((function(i){return t>=i.cell.row&&t+1<=i.cell.row+i.cell.rowSpan})).reduce((function(t,i){var n=i.contentSize.y/i.cell.rowSpan;return Math.max(t,n)}),0),r=s.P_.find((function(i){return i.row===t})),o=r?ro(n,void 0!==r.min?r.min:bs,void 0!==r.max?r.max:As):n;e[t]=o},s=this;try{for(var u=ix(this.nO.values()),a=u.next();!a.done;a=u.next())o(a.value)}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return e},n.prototype.eF=function(t,i,n){if(Bu(t)){try{var r=Number(i);return new _u({color:t.getPalette().getColors(r,void 0)})}catch(t){}return n||Cu}return t},n.prototype.XO=function(t,i){t.textFillStyle="function"==typeof i?i(t.textFillStyle||this.yO):i,this.Z_=!0,this.qi.vr()},n.prototype.HO=function(t,i){t.textFont="function"==typeof i?i(t.textFont||this.dO):i,this.J_=!0,this.qi.vr()},n.prototype.JO=function(t,i){t.backgroundFillStyle="function"==typeof i?i(t.backgroundFillStyle||this.AO):i,this.H_=!0,this.qi.vr()},n.prototype.ZO=function(t,i){t.contentAlignment=i,this.X_=!0,this.qi.vr()},n.prototype.UO=function(t,i){t.padding=tx(tx({},t.padding),i),this.W_=!0,this.qi.vr()},n.prototype.RO=function(t,i,n){var r=this.aO(t,i);r?r.content=n:(r={column:t,row:i,columnSpan:1,rowSpan:1,content:n,highlight:0},this.L_.push(r),this.G_=!0),"string"==typeof r.content||"number"==typeof r.content?this.V_=!0:this.R_=!0,this.qi.vr()},n.prototype.WO=function(t){this.L_.forEach((function(i){return t(i)}))},n.prototype.aO=function(t,i,n){var r=this.L_.find((function(n){return t>=n.column&&t+1<=n.column+n.columnSpan&&i>=n.row&&i+1<=n.row+n.rowSpan}));return r&&n&&n(r),r},n.prototype.GO=function(t,i){var n,r,e=this.L_.filter((function(i){return t>=i.column&&t+1<=i.column+i.columnSpan}));try{for(var o=ix(e),s=o.next();!s.done;s=o.next()){var u=s.value;u&&i(u)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},n.prototype.YO=function(t,i){var n,r,e=this.L_.filter((function(i){return t>=i.row&&t+1<=i.row+i.rowSpan}));try{for(var o=ix(e),s=o.next();!s.done;s=o.next()){var u=s.value;u&&i(u)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},n.prototype._O=function(t){var i,n,r,e,o,s,u=this;if(this.$O){if(0!==t.y){var a=null!==(n=null===(i=this.$O.rowHeightsCumulative.map((function(t,i){return{value:t,index:i}})).reverse().find((function(i){return-u.vO.y+(t.y>0?1:0)>=i.value})))||void 0===i?void 0:i.index)&&void 0!==n?n:0,h=null!==(r=this.$O.rowHeightsCumulative[a+t.y])&&void 0!==r?r:0;this.vO.y=-h,this.tO=!0,this.qi.vr()}0!==t.x&&(a=null!==(o=null===(e=this.$O.columnWidthsCumulative.map((function(t,i){return{value:t,index:i}})).reverse().find((function(i){return u.vO.x+(t.x>0?1:0)>=i.value})))||void 0===e?void 0:e.index)&&void 0!==o?o:0,h=null!==(s=this.$O.columnWidthsCumulative[a+t.x])&&void 0!==s?s:0,this.vO.x=h,this.tO=!0,this.qi.vr())}},n.prototype.NO=function(t){this.$O&&(this.fO.x+=t.x,this.fO.y+=t.y,this.tO=!0,this.qi.vr())},n.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},n.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},n}(id);t.DataGridCellContentAlignmentOptions=void 0,(Jg=t.DataGridCellContentAlignmentOptions||(t.DataGridCellContentAlignmentOptions={})).Center="center",Jg.RightCenter="right-center",Jg.LeftCenter="left-center",Jg.RightTop="right-top",Jg.LeftTop="left-top",Jg.RightBottom="right-bottom",Jg.LeftBottom="left-bottom",Jg.CenterTop="center-top",Jg.CenterBottom="center-bottom";var rx=function(t,i,n,r,e){var o={x:t.x,y:t.y},s={x:t.x,y:t.y+i.y},u={x:t.x+i.x,y:t.y},a={x:t.x+i.x,y:t.y+i.y};n.top&&e.push([s,a]),n.bottom&&e.push([o,u]),n.left&&e.push([o,s]),n.right&&e.push([u,a])},ex=function(t,i,n){var r=t.x,e=t.x+i.x,s=t.x+i.x/2,u=t.y+i.y,a=t.y,h=t.y+i.y/2;switch(n){case"left-center":return[o(r,h),-1,0];case"right-center":return[o(e,h),1,0];case"center":return[o(s,h),0,0];case"left-bottom":return[o(r,a),-1,-1];case"right-bottom":return[o(e,a),1,-1];case"center-bottom":return[o(s,a),0,-1];case"left-top":return[o(r,u),-1,1];case"right-top":return[o(e,u),1,1];case"center-top":return[o(s,u),0,1]}return $o(0,"Unidentified DataGrid cell content alignment option: ".concat(n))},ox={top:!1,bottom:!1,left:!1,right:!1},sx=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ux=function(t){function i(i,n,r,e,o,s){var u=t.call(this,i,{Rs:function(){},Vs:function(){},Us:function(){}},e,n,r,{numeric:n.xAxisNumericTicks.setFallBackToExtremeTicksAutomatically(!1),datetime:n.xAxisDateTimeTicks,time:n.xAxisTimeTicks},{type:"linear"})||this;return u.Ct=new we,u.chart=i,u.Qn=s,u.kr=o,u._o=o.$s(i.oF).qo(u.en.barChartCategoryAxisTitleFont||u.en.xAxisTitleFont).Be(u.en.barChartCategoryAxisTitleFillStyle||u.en.xAxisTitleFillStyle),u.setTitleRotation(u.chart._r.getWidth({x:0,y:-90})),u.ns=u.Qn.Zd([u._o]).lr(n.effectsText),u.sF=o.We(i.oF).Ye(n.barChartCategoryAxisStrokeStyle||n.xAxisStrokeStyle),u}return sx(i,t),i.prototype.setThickness=function(t){return"number"==typeof t?(this.$d=t,this.ty=t):"object"==typeof t&&(this.$d=t.min,this.ty=t.max),this.chart.qi.vr(),this},i.prototype.getThickness=function(){return{min:this.$d,max:this.ty}},i.prototype.setStrokeStyle=function(t){return this.sF.Ye(t),this.chart.qi.vr(),this},i.prototype.getStrokeStyle=function(){return this.sF.Nu()},i.prototype.Le=function(t){var i=this.getInterval(),n=this.chart.valueAxis.getInterval();this.sF.He(this.chart._r.toPoint(i.start,n.start)).Xe(this.chart._r.toPoint(i.end,n.start)).setVisible(this.Zi),this._o.Ee(this.chart._r.toPoint(.5*(i.start+i.end),this.chart.valueAxis.Yi.Bi(n.start,-t.ny))).wf(this.chart._r.toPoint(0,1)).setVisible(this.Zi),t.ticksInfo.forEach((function(t,i){i.ls.Ee(t.labelPosition).wf(t.labelAlignment).$o(t.labelRotation).Af(t.labelOffset.x,t.labelOffset.y)}))},i.prototype.ps=function(t){return{}},i.prototype.ws=function(t,i,n,r){return{keyValue:t,tickLevel:i,labelText:n,labelAlignment:{x:0,y:0},labelPosition:{x:0,y:0},labelOffset:{x:0,y:0},labelRotation:0}},i.prototype.Fs=function(t,i){return new of(i,t,this.kr,this.chart.oF)},i.prototype.Ts=function(t,i,n){var r=t.ny,e=this.chart._r.getHeight(this._o.ds().al());return{ey:e,rd:ro(this.sF.Nu()._n()/2+r+e,void 0!==this.$d?this.$d:0,void 0!==this.ty?this.ty:As),ticksInfo:i,updatedTicks:n}},i.prototype.Fo=function(){return this.chart.uiScale},i.prototype.Ws=function(t,i){return i},i.prototype.Zs=function(t,i,n){return{start:t,end:i}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i.prototype.setPointerEvents=function(t){return this.Ct.setPointerEvents(t),this},i.prototype.getPointerEvents=function(){return this.Ct.getPointerEvents()},i}(ef),ax=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hx=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},fx=function(t){function i(i,n,r,e,o,s,u){var a=t.call(this,i,{Rs:function(){var t;if(i.uF){if("positive"===i.aF||"bipolar"===i.aF){if("after-bar"===(null===(t=i.hF)||void 0===t?void 0:t.position)){var n=a.Yi.si();return a.Yi.Bi(i.uF.max,Math.min(a.chart._r.getHeight(a.chart.fF())+i.hF.labelMargin,.3*n))}return i.uF.max}return i.cF?ro(-1,-1e-6,i.uF.max):0}},Vs:function(){var t;if(i.uF){if("negative"===i.aF||"bipolar"===i.aF){if("after-bar"===(null===(t=i.hF)||void 0===t?void 0:t.position)){var n=a.Yi.si();return a.Yi.Bi(i.uF.min,-Math.min(a.chart._r.getHeight(a.chart.fF())+i.hF.labelMargin,.3*n))}return i.uF.min}return i.cF?ro(1,1e-6,i.uF.min):0}},Us:function(){}},e,n,r,{numeric:n.barChartValueAxisTicks||n.yAxisNumericTicks,datetime:n.yAxisDateTimeTicks,time:n.yAxisTimeTicks},u)||this;return a.Ct=new we,a.chart=i,a.Qn=s,a.kr=o,a._o=o.$s(i.oF).qo(a.en.barChartValueAxisTitleFont||a.en.yAxisTitleFont).Be(a.en.barChartValueAxisTitleFillStyle||a.en.yAxisTitleFillStyle),a.setTitleRotation(a.chart._r.getHeight({x:0,y:-90})),a.ns=a.Qn.Zd([a._o]).lr(n.effectsText),a.sF=o.We(i.oF).Ye(n.barChartValueAxisStrokeStyle||a.en.yAxisStrokeStyle),a}return ax(i,t),i.prototype.setThickness=function(t){return"number"==typeof t?(this.$d=t,this.ty=t):"object"==typeof t&&(this.$d=t.min,this.ty=t.max),this.chart.qi.vr(),this},i.prototype.getThickness=function(){return{min:this.$d,max:this.ty}},i.prototype.setStrokeStyle=function(t){return this.sF.Ye(t),this.chart.qi.vr(),this},i.prototype.getStrokeStyle=function(){return this.sF.Nu()},i.prototype.setTickStrategy=function(i,n){return t.prototype.Ro.call(this,i,n)},i.prototype.Le=function(t){var i=this.getInterval();this.sF.He(this.chart._r.toPoint(-.5,this.Go)).Xe(this.chart._r.toPoint(-.5,this.Uo)).setVisible(this.Zi);var n="logarithmic"===this.No.type?Math.sqrt(i.start+i.end):.5*(i.start+i.end),r=this.chart._r.toPoint(this.chart.categoryAxis.Yi.Bi(-.5,t.ny*this.chart._r.lF),n),e=this.chart._r.toPoint(this.chart._r.vF,0);this._o.Ee(r).wf(e).setVisible(this.Zi),t.ticksInfo.forEach((function(i,n){n.ls.Ee(i.labelPosition).wf(i.labelAlignment).$o(i.labelRotation).Af(i.labelOffset.x,i.labelOffset.y);var r=n.tu.so;r.tickStyle!==Pe&&0!==r.tickLength&&t.plotLines.add({positions:[i.positionTicklineStart,i.positionTicklineEnd]},{lineStyle:r.tickStyle}),r.gridStrokeStyle!==Pe&&r.gridStrokeLength>0&&t.plotLines.add({positions:[i.positionTicklineStart,i.positionGridlineEnd]},{lineStyle:r.gridStrokeStyle})}))},i.prototype.ps=function(t){return{}},i.prototype.ws=function(t,i,n,r,e){var o=i.so,s=this.chart._r.toPoint(-.5,t),u=this.chart.oF.Bi(s,this.chart._r.toPoint(o.getTickLength()*this.chart._r.lF,0)),a=this.chart.oF.Bi(s,this.chart._r.toPoint(o.gridStrokeLength*r.oppositeAxisSize*-this.chart._r.lF,0));return{keyValue:t,tickLevel:i,labelText:n,labelPosition:this.chart.oF.Bi(u,this.chart._r.toPoint(o.getTickPadding()*this.chart._r.lF,0)),labelAlignment:this.chart._r.toPoint(this.chart._r.vF,o.getLabelAlignment()),labelOffset:{x:0,y:0},labelRotation:i.so.labelRotation,positionTicklineStart:s,positionTicklineEnd:u,positionGridlineEnd:a}},i.prototype.Fs=function(t,i){return new of(i,t,this.kr,this.chart.oF)},i.prototype.Ts=function(t,i,n){var r,e,o,s,u=0;try{for(var a=hx(this.ho.values()),h=a.next();!h.done;h=a.next()){var f=h.value;try{for(var c=(o=void 0,hx(f.values())),l=c.next();!l.done;l=c.next()){var v=l.value,d=v.tu.so,y=this.chart._r.getWidth(v.ls.ds().al()),A=d.getTickLength()+d.getTickPadding()+y;u=Math.max(u,A)}}catch(t){o={error:t}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}}}catch(t){r={error:t}}finally{try{h&&!h.done&&(e=a.return)&&e.call(a)}finally{if(r)throw r.error}}var b=u+this.sF.Nu()._n()/2,p=this.chart._r.getWidth(this._o.ds().al());return{ny:b,ey:p,rd:ro(b+p,void 0!==this.$d?this.$d:0,void 0!==this.ty?this.ty:As),ticksInfo:i,updatedTicks:n}},i.prototype.Fo=function(){return this.chart.oF},i.prototype.Ws=function(t,i){return"linear"===this.No.type?Wu(t,i,this.Yi):Xu(t,i,this.Yi)},i.prototype.Zs=function(t,i,n){return{start:t,end:i}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i.prototype.setPointerEvents=function(t){return this.Ct.setPointerEvents(t),this},i.prototype.getPointerEvents=function(){return this.Ct.getPointerEvents()},i}(ef),cx=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lx=function(t){function i(i,n,r,e,o,s,u){var a=t.call(this,i,n,r,e)||this;return a.nn=ss(),a.S=0,a.dF=!1,a.Ct=new we,a.chart=i,a.chart=i,a.category=o,a.subCategory=s,a.yt=o,a.Oe=Xo(r.barChartBarFillStyle||r.rectangleSeriesFillStyle,u),a.Fe=Xo(r.barChartBarStrokeStyle||r.rectangleSeriesStrokeStyle,u),a.addEventListener("visiblechange",(function(){return a.chart.yF()})),a.addEventListener("dispose",(function(){a.chart.yF(),a.chart.AF.delete(a.category),a.chart.bF.delete(a)})),a}return cx(i,t),i.prototype.Bn=function(t,i,n){var r=this.chart.qi.Fh(i);return{cursorPosition:{pointMarker:{x:r.engineX,y:r.engineY},pointMarkerScale:this.chart.qi.Yi,resultTable:{x:r.engineX,y:r.engineY},resultTableScale:this.chart.qi.Yi},category:this.category,subCategory:this.subCategory,bar:this,value:this.getValue()}},i.prototype.setValue=function(t){return this.dF=!0,this.S=t,this.chart.yF(),this.chart.qi.vr(),this.chart.AF.delete(this.category),this.chart.bF.delete(this),this},i.prototype.getValue=function(){return this.S},Object.defineProperty(i.prototype,"value",{get:function(){return this.S},enumerable:!1,configurable:!0}),i.prototype.setFillStyle=function(t){return this.Oe="function"==typeof t?t(this.Oe):t,this.chart.yF(),this},i.prototype.getFillStyle=function(){return this.Oe},i.prototype.setStrokeStyle=function(t){return this.Fe="function"==typeof t?t(this.Fe):t,this.chart.yF(),this},i.prototype.getStrokeStyle=function(){return this.Fe},i.prototype.ab=function(){return this.XA},i.prototype.setEffect=function(t){return this.chart.setBarsEffect(t),this},i.prototype.Pe=function(){return{fill:this.Oe,lutValue:this.value}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(xA),vx=function(t){return!!(t&&"object"==typeof t&&"iCategory"in t&&"number"==typeof t.iCategory&&"value"in t&&"number"==typeof t.value)},dx=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yx=function(){return yx=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},yx.apply(this,arguments)},Ax=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},bx=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},px=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},mx=function(t){function i(i,n,r,e,o,s,u){var a,h,f,c=this;(c=t.call(this,i,n,r,n.EA("barChart bg",0),e,n.qi.en.barChartBackgroundFillStyle||n.qi.en.chartXYBackgroundFillStyle,n.qi.en.barChartBackgroundStrokeStyle||n.qi.en.chartXYBackgroundStrokeStyle,n.qi.en.barChartTitleFont||n.qi.en.chartXYTitleFont,n.qi.en.barChartTitleFillStyle||n.qi.en.chartXYTitleFillStyle,n.qi.en.barChartTitleShadow||n.qi.en.chartXYTitleShadow,s,null===(a=null==u?void 0:u.legend)||void 0===a?void 0:a.customLegend)||this).coordsBars="barChart",c.pF=gx.Descending,c.mF=c.en.barChartCategoryLabels,c.hF=c.en.barChartValueLabelsAfterBars,c.gF=!0,c.GS=es(),c.AF=new Map,c.bF=new Map,c.aF="positive",c.xF="columns",c.SF=!0,c.wF=new Map,c.MF={speed:1},c.qT={speed:1},c.CF=.08,c.TF=[],c.kF=new Map,c._F=!1,c.OF={left:2,right:2,top:2,bottom:2},c.FF=[],c.Va=function(t){c.oF.zt(t.engineWidth,t.engineHeight),c._F=!0},c.Ct=new we,c.qi.qa(gf.Ju),c.IF=c.en.barChartCornerRadius,c._r="horizontal"===(null==u?void 0:u.type)?Sx:xx,c.So.Os("Bar Chart"),c.jF=n.xg("barChart plotting 1",0),c.BF=n.xg("barChart plotting 2",1),c.cF="logarithmic"===(null===(h=null==u?void 0:u.valueAxis)||void 0===h?void 0:h.type),c.cF?"horizontal"===c._r.Z?(f=r.d1({scale1DConstructor:Jr,dimension:"y"}),c.oF=(new te).Di(r.d1({scale1DConstructor:eu,dimension:"x"}),f)):(f=r.d1({scale1DConstructor:Jr,dimension:"x"}),c.oF=(new te).Di(f,r.d1({scale1DConstructor:eu,dimension:"y"}))):(c.oF=r.d2({scaleXYConstructor:$r}),f=c._r.getWidth(c.oF)),c.DF=c.Qn.Zd(),c.YS=new Ad((function(){return c.GS.V(c.jF.ev(c.oF).Lh(0))}),(function(t,i,n){return t.Be(n.fillStyle).je(n.strokeStyle),i.map((function(i){var n=i.existingMember||t.pa();return n.av(i.x1,i.y1,i.x2,i.y2).uv(i.rounding),c.GS.Dn(n,i.bar),i.bar.ur([n]),n}))}),(function(){c.GS.Sn()}),(function(t){c.DF.er(t)})),c.sp=c.gA.De(c.oF).Be(c.en.barChartSeriesBackgroundFillStyle||Cu).je(Pe),c.up=c.gA.De(c.oF).Be(Cu).je(c.en.barChartSeriesBackgroundStrokeStyle||Pe).setPointerEvents(!1),t.prototype.op.call(c,c.sp,c.up),c.categoryAxis=new ux(c,c.en,!1!==(null==u?void 0:u.animationsEnabled),f,c.BF,c.Qn),c.categoryAxis.setInterval(c._r.getWidth({x:{start:-.5,end:.5},y:{start:.5,end:-.5}}));var l=Yu(null==u?void 0:u.valueAxis);c.valueAxis=new fx(c,c.en,!1!==(null==u?void 0:u.animationsEnabled),c._r.getHeight(c.oF),c.BF,c.Qn,l.type),c.LF=new jv((function(){return c.BF.$s(c.oF).qs(os).Ks(os).Lh(1)})),c.EF=new Ad((function(){return c.gA.ly(c.oF).setPointerEvents(!1)}),(function(t,i,n){return t.Ye(n.lineStyle),i.map((function(i){var n=i.positions;return(i.existingMember||t.pa()).yy(n[0],n[1])}))}));var v=n._g(),d=oo(u?u.cursorBuilder:void 0,zy);return c.Og=mS(c,v,d.qm(v,c.uiScale,c.uiScale,io,c.en),c,"show-pointed",wx,(function(){return 0})),c.addEventListener("resize",c.Va),c.LA(o,c.oF),c.setAnimationsEnabled(!1!==(null==u?void 0:u.animationsEnabled)),void 0!==(null==u?void 0:u.legend)&&c.legend.setOptions(u.legend),c}return dx(i,t),i.prototype.getSeries=function(){return this.ip},i.prototype.setCornerRadius=function(t){return this.IF=t,this.gF=!0,this.qi.vr(),this},i.prototype.getCornerRadius=function(){return this.IF},i.prototype.setCursor=function(t){return this.Og.setCursor(t),this},i.prototype.getCursor=function(){return this.Og.getCursor()},i.prototype.setCursorMode=function(t){return this.Og.setCursorMode(t),this},i.prototype.getCursorMode=function(){return this.Og.getCursorMode()},i.prototype.setCustomCursor=function(t){return this.Og.setCustomCursor(t),this},i.prototype.setCursorDynamicBehavior=function(t){return this.Og.zg(t),this},i.prototype.setCursorFormatting=function(t){return this.Og.setCursorFormatting(t),this},i.prototype.getCursorFormatting=function(){return this.Og.getCursorFormatting()},i.prototype.addCursor=function(t){void 0===t&&(t=zy);var i=this.CA(),n=t.qm(i,this.uiScale,this.uiScale,this.xA(i),this.en);return this.BA(n),n},i.prototype.setBarsMargin=function(t){return this.CF=ro(t,0,.49),this.gF=!0,this.qi.vr(),this},i.prototype.getBarsMargin=function(){return this.CF},i.prototype.setBarsEffect=function(t){return this.DF.lr(t),this.qi.vr(),this},i.prototype.getBarsEffect=function(){return this.DF.dr()},i.prototype.setData=function(t){var i,n,r;if(Array.isArray(t))r=[],t.forEach((function(t,i){"string"==typeof t?r.push({category:t}):"number"==typeof t?r.push({category:"Category ".concat(i+1),value:t}):"object"==typeof t&&r.push(t)}));else{r=[];var e=Object.keys(t);try{for(var o=Ax(e),s=o.next();!s.done;s=o.next()){var u=s.value,a=t[u];r.push({category:u,value:"number"==typeof a?a:void 0})}}catch(t){i={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}}return this.PF("columns",r),this},i.prototype.setDataStacked=function(t,i){var n=[];return i.forEach((function(i){var r=i.subCategory;i.values.forEach((function(i,e){var o=t[e];n.push({category:o,subCategory:r,value:i})}))})),this.PF("stacks",n),this},i.prototype.setDataGrouped=function(t,i){var n=[];return i.forEach((function(i){var r=i.subCategory;i.values.forEach((function(i,e){var o=t[e];n.push({category:o,subCategory:r,value:i})}))})),this.PF("groups",n),this},i.prototype.PF=function(t,i){var n,r,e=this;this.ip.length>0&&this.qi.qa(gf.aa),this.xF=t,this.FF=i.map((function(t){return{category:t.category,subCategory:t.subCategory}})),this.zF(i);var o=Qo(i.map((function(t){return t.category}))),s=o.length,u=Qo(i.map((function(t){return t.subCategory}))).filter((function(t){return void 0!==t}));if(i.forEach((function(i){var n=e.ip.find((function(t){return t.category===i.category&&t.subCategory===i.subCategory}));if(!n){var r=o.indexOf(i.category),s=void 0!==i.subCategory&&u.includes(i.subCategory)?u.indexOf(i.subCategory):void 0;n=new lx(e,e.rp,e.en,e.qi.Qn,i.category,i.subCategory,oo(s,r)),e.ap(n,"groups"===t||"stacks"===t?{legend:null}:void 0),e.wF.set(n,{category:r,valueStart:e.cF?1e-6:0,valueEnd:void 0!==i.value?i.value:0})}void 0!==i.value&&n.setValue(i.value)})),this.ip.slice().forEach((function(t){void 0===i.find((function(i){return i.category===t.category&&i.subCategory===t.subCategory}))&&(t.dispose(),e.wF.delete(t))})),this.categoryAxis.setInterval(this._r.getWidth({x:{start:-.5,end:Math.max(s,1)-.5},y:{start:Math.max(s,1)-.5,end:-.5}})),this.uF=0===this.ip.length?void 0:"stacks"!==t?this.ip.reduce((function(t,i){return{min:Math.min(t.min,i.getValue()),max:Math.max(t.max,i.getValue())}}),{min:As,max:bs}):{min:0,max:o.reduce((function(t,n){return Math.max(t,i.reduce((function(t,i){return i.category!==n?t:void 0!==i.value?t+i.value:t}),0))}),0)},this.uF&&(this.aF=this.uF.min>=0?"positive":this.uF.max<=0?"negative":"bipolar",("bipolar"===this.aF||"negative"===this.aF)&&this.cF))throw new Error("LightningChart JS BarChart bipolar/negative data + logarithmic value axis combination not supported.");if(this.NF&&this.NF(),"groups"===t||"stacks"===t){var a=u.map((function(t){return function(t){var i=!1,n=new Array;return t.forEach((function(r){var e=function(n){i||(i=!0,t.forEach((function(t){return r!==t?t.setHighlight(n.highlight):void 0})),i=!1)};r.addEventListener("highlightchange",e),n.push((function(){return r.removeEventListener("highlightchange",e)}))})),t.forEach((function(i){var r=function(){var n=t.indexOf(i);n>=0&&t.splice(n,1)};i.addEventListener("dispose",r),n.push((function(){return i.removeEventListener("dispose",r)}))})),function(){n.forEach((function(t){return t()}))}}(e.ip.filter((function(i){return i.subCategory===t})))}));this.NF=function(){return a.forEach((function(t){return t()}))}}var h=new Set(u),f=function(t){h.has(t)||(c.Ar.forEach((function(i){if(i.fA()){var n=i.getEntries(),r=e.kF.get(t),o=n.find((function(t){return t.component===r}));r&&o&&i.remove(r)}})),c.kF.delete(t))},c=this;try{for(var l=Ax(this.kF.keys()),v=l.next();!v.done;v=l.next())f(v.value)}catch(t){n={error:t}}finally{try{v&&!v.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}this.Ar.forEach((function(t){t.fA()&&t.add(e)})),this.zF(this.ip),this.AF.clear(),this.bF.clear(),this.gF=!0,this.qi.vr()},i.prototype.setCategoryLabels=function(t){var i="function"==typeof t?this.mF?t(this.mF):this.mF:t;return this.mF=i?yx(yx({},this.en.barChartCategoryLabels),i):void 0,this.AF.clear(),this.qi.vr(),this._F=!0,this},i.prototype.getCategoryLabels=function(){return this.mF},i.prototype.setValueLabels=function(t){var i,n="function"==typeof t?this.hF?t(this.hF):this.hF:t,r=(null==n?void 0:n.position)||(null===(i=this.hF)||void 0===i?void 0:i.position);return n&&r?"after-bar"===r?this.hF=yx(yx({},this.en.barChartValueLabelsAfterBars),n):"inside-bar"!==r&&"inside-bar-start"!==r&&"inside-bar-centered"!==r&&"inside-bar-end"!==r||(this.hF=yx(yx({},this.en.barChartValueLabelsInsideBars),n)):this.hF=void 0,this.bF.clear(),this.qi.vr(),this._F=!0,this},i.prototype.getValueLabels=function(){return this.hF},i.prototype.setLabelFittingEnabled=function(t){return this.SF=t,this.qi.vr(),this},i.prototype.getLabelFittingEnabled=function(){return this.SF},i.prototype.setLabelFittingMargins=function(t){return this.OF="object"==typeof t?t:"number"==typeof t?{left:t,right:t,top:t,bottom:t}:os,this._F=!0,this.qi.vr(),this},i.prototype.getLabelFittingMargins=function(){return this.OF},i.prototype.getBar=function(t,i){if(("groups"===this.xF||"stacks"===this.xF)&&void 0===i)throw new Error("LightningChart JS BarChart.getBar() | `subCategory` parameter is required for grouped and stacked bar charts!");var n=this.ip.find((function(n){return n.category===t&&(void 0===i||i===n.subCategory)}));if(!n)throw new Error('BarChart.getBar() no such bar: "'.concat(t,'" ').concat(i?'"'.concat(i,'"'):""));return n},i.prototype.getBars=function(){return this.ip},i.prototype.setSorting=function(t){var i;this.pF=t;var n=this.ip.slice();return this.ip.length=0,(i=this.ip).push.apply(i,px([],bx(Ko(this.FF.map((function(t){return n.find((function(i){return i.category===t.category&&(void 0===t.subCategory||t.subCategory===i.subCategory)}))})))),!1)),this.zF(this.ip),this.qi.vr(),this.gF=!0,this},i.prototype.getSorting=function(){return this.pF},i.prototype.setAnimationCategoryPosition=function(t,i){return void 0===i&&(i=1),this.MF=t?{speed:i}:void 0,this.qi.vr(),this},i.prototype.setAnimationValues=function(t,i){return void 0===i&&(i=1),this.qT=t?{speed:i}:void 0,this.qi.vr(),this},i.prototype.translateCoordinate=function(i,n,r){if(r&&zu(i)&&Pu(n))return t.prototype.translateCoordinate.call(this,i,n,r);var e,o=n;if(Eu(i))e=this.qi.Fh(i);else if(zu(i))e={engineX:(s=ee(i,this.Ud,this.qi.Yi)).x,engineY:s.y};else{if(!vx(i))throw new Error("LightningChart JS BarChart.translateCoordinate unexpected error. Input coordinate system not recognized.");var s;e={engineX:(s=ee(this._r.toPoint(i.iCategory,i.value),this.oF,this.qi.Yi)).x,engineY:s.y}}if(Lu(o))return this.qi.Ih(e);if("barChart"===o){var u=ee({x:e.engineX,y:e.engineY},this.qi.Yi,this.oF);return{iCategory:this._r.getWidth(u),value:this._r.getHeight(u)}}if(Pu(o))return ee({x:e.engineX,y:e.engineY},this.qi.Yi,this.Ud);throw new Error("LightningChart JS BarChart.translateCoordinate unexpected error. Target coordinate system not recognized.")},i.prototype.lA=function(){var t=this;if("columns"===this.xF)return this.ip;var i=Qo(Ko(this.ip.map((function(t){return t.subCategory}))));return Ko(i.map((function(i){if(t.kF.has(i))return t.kF.get(i);var n=t.ip.filter((function(t){return t.subCategory===i})),r=n[0];if(r){var e={Mr:function(){},getVisible:function(){return r.getVisible()},setVisible:function(t){n.forEach((function(i){return i.setVisible(t)}))},getName:function(){return i},Pe:function(){return r.Pe()}};return t.kF.set(i,e),e}})))},i.prototype.Le=function(i){var n,r,e,o=this;t.prototype.Le.call(this,i);var s,u=this.LF.Iy(),a=this.EF.Iy(),h=this.ip.filter((function(t){return t.getVisible()&&t.dF})),f=Qo(h.map((function(t){return t.category}))),c=Qo(Ko(h.map((function(t){return t.subCategory})))),l=5e-4*i*((null===(n=this.MF)||void 0===n?void 0:n.speed)||0),v=.003*i*((null===(r=this.MF)||void 0===r?void 0:r.speed)||0),d=this.valueAxis.Yi,y=d instanceof Jr?function(t,i){var n;return Wu(t,i,d,(null===(n=o.qT)||void 0===n?void 0:n.speed)||0)}:function(t,i){var n;return Xu(t,i,d,(null===(n=o.qT)||void 0===n?void 0:n.speed)||0)},A=null!==(e="positive"===this.aF&&this.uF?Math.min(this.uF.min,this.valueAxis.getInterval().start,this.valueAxis.getInterval().end)-(this.uF.max-this.uF.min):"negative"===this.aF&&this.uF?Math.max(this.uF.max,this.valueAxis.getInterval().start,this.valueAxis.getInterval().end)+(this.uF.max-this.uF.min):void 0)&&void 0!==e?e:0;"columns"===this.xF?s=h.map((function(t){return{bar:t,position:{category:f.indexOf(t.category),valueStart:o.cF?1e-6:A,valueEnd:t.value}}})):"groups"===this.xF?s=h.map((function(t){var i=f.indexOf(t.category),n=c.indexOf(t.subCategory),r=1/(c.length+2*(c.length+1)*o.CF),e=o.CF*r;return{bar:t,position:{category:i+(n-(c.length-1)/2)*(r+e),valueStart:o.cF?1e-6:A,valueEnd:t.value}}})):(s=[],f.forEach((function(t){var i=h.filter((function(i){return i.category===t})),n=o.cF?1e-6:0;i.forEach((function(i){s.push({bar:i,position:{category:f.indexOf(t),valueStart:n,valueEnd:n+i.value}}),n+=i.value}))}))),s.forEach((function(t){var i,n,r=t.bar,e=t.position,s=o.wF.get(r);void 0===s&&(s=e);var u=e.valueStart;if(o.MF&&s.category!==e.category){var a=Math.sign(e.category-s.category);i=s.category+l*a+v*(e.category-s.category),a!==Math.sign(e.category-i)&&(i=e.category)}else i=e.category;o.qT&&s.valueEnd!==e.valueEnd?(a=Math.sign(e.valueEnd-s.valueEnd),n=y(s.valueEnd,e.valueEnd),a!==Math.sign(e.valueEnd-n)&&(n=e.valueEnd)):n=e.valueEnd,o.wF.set(r,{category:i,valueStart:u,valueEnd:n}),i===e.category&&n===e.valueEnd||o.qi.vr(!0),i===s.category&&n===s.valueEnd||(o.gF=!0)}));var b=px([],bx(this.ip),!1);(this.TF.length!==b.length||this.TF.some((function(t,i){return t!==b[i]})))&&(this.Ar.forEach((function(t){return t.cA(o.ip)})),this.TF=b);var p=nd(this.So,this.PA),m=this.Ar.reduce((function(t,i){var n=i.ds(p,o.yu);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0});rd(this.So,this.PA,this.uiScale.Gi(),this.yu,m);var g=h.length>0;this.categoryAxis.Ys(),this.valueAxis.Ys();var x=g?this.VF(f,c,h,u,a):{labelMarginBeforeCategoryAxisPixels:0,labels:[]},S=x.labelMarginBeforeCategoryAxisPixels,w=x.labels,M=this.categoryAxis.ds({physicalAxisSize:this.categoryAxis.Yi.si(),ny:S}),C=this.valueAxis.ds({plotLines:a,physicalAxisSize:this.valueAxis.Yi.si(),oppositeAxisSize:this._r.getWidth(this.oF).si()});this.oF.Ei([this.Zt.bottom+this.yu.bottom+m.bottom+("vertical"===this._r.Z?M.rd:0),this.Zt.top+this.yu.top+p+m.top+("horizontal"===this._r.Z?C.rd:0)]),this.oF.Li([this.Zt.left+this.yu.left+m.left+this._r.getHeight({x:M.rd,y:C.rd}),this.Zt.right+this.yu.right+m.right]),this.jF.lg({x:this.oF.x.ei(),y:this.oF.y.ei(),width:this.oF.x.si(),height:this.oF.y.si()}),this.AA&&this.AA();var T={x:Math.min(this.oF.x.getInnerStart(),this.oF.x.getInnerEnd()),y:Math.min(this.oF.y.getInnerStart(),this.oF.y.getInnerEnd())},k=Math.max(this.oF.x.getInnerStart(),this.oF.x.getInnerEnd()),_=Math.max(this.oF.y.getInnerStart(),this.oF.y.getInnerEnd()),O={x:k-T.x,y:_-T.y};if(this.sp.Ee(T),this.sp.zt(O),this.up.Ee(T),this.up.zt(O),this.categoryAxis.Le(M),this.valueAxis.Le(C),t.prototype.DA.call(this),this.Og.Le(!1,this.ip,void 0),(this.gF||this._F)&&this.SF)for(var F=w.map((function(t){var i=t.setVisible(!0).ds().ol();if(0!==o.OF.bottom||0!==o.OF.left||0!==o.OF.right||0!==o.OF.top){var n=Math.sign(o.oF.x.jt-o.oF.x.It),r=Math.sign(o.oF.y.jt-o.oF.y.It),e=r>0?i.min.y:i.max.y,s=r>0?i.max.y:i.min.y,u=n>0?i.min.x:i.max.x,a=n>0?i.max.x:i.min.x,h=t.Yi.Bi({x:u,y:e},{x:-o.OF.left,y:-o.OF.bottom}),f=t.Yi.Bi({x:a,y:s},{x:o.OF.right,y:o.OF.top});return{min:{x:Math.min(h.x,f.x),y:Math.min(h.y,f.y)},max:{x:Math.max(h.x,f.x),y:Math.max(h.y,f.y)}}}return i})),I=function(t){if(!w[t].getVisible())return"continue";var i=F[t],n=void 0;do{(n=w.findIndex((function(n,r){return r!==t&&w[r].getVisible()&&xs(i,F[r])})))>=0&&w[n].setVisible(!1)}while(n>=0)},j=0;j<w.length;j+=1)I(j);if(this.gF){var B=this.YS.Iy(),D="groups"===this.xF?1/(c.length+2*(c.length+1)*this.CF):1-2*this.CF;h.forEach((function(t){var i=o.wF.get(t);if(void 0!==i){var n,r=i.category-.5*D,e=i.category+.5*D,s=o._r.toPoint(r,i.valueStart),u=o._r.toPoint(e,i.valueEnd);o.IF&&(n={extent:o.IF,c_x1_y2:"vertical"===o._r.Z,c_x2_y2:"vertical"===o._r.Z||"horizontal"===o._r.Z,c_x1_y1:!1,c_x2_y1:"horizontal"===o._r.Z},"stacks"===o.xF&&t.subCategory&&c.indexOf(t.subCategory)!==c.length-1&&(n=void 0)),B.add({nn:t.nn,bar:t,x1:s.x,y1:s.y,x2:u.x,y2:u.y,rounding:n},{fillStyle:t.Oe,strokeStyle:t.Fe})}})),B.finishPlot()}u.finishPlot(),a.finishPlot(),this.gF=!1,this._F=!1,this.Ar.forEach((function(t){return t.Le(p,o.yu)}))},i.prototype.setAnimationsEnabled=function(i){return t.prototype.setAnimationsEnabled.call(this,i),this.setAnimationCategoryPosition(i),this.setAnimationValues(i),this.valueAxis.setAnimationsEnabled(i),this.categoryAxis.setAnimationsEnabled(i),this},i.prototype.dispose=function(){return this.BF.Ft(),this.jF.Ft(),this.Og.Ft(),t.prototype.dispose.call(this)},i.prototype.zF=function(t){var i=this.pF;i&&t.sort((function(n,r){return i({category:n.category,value:t.reduce((function(t,i){return t+(i.category===n.category&&i.value||0)}),0)},{category:r.category,value:t.reduce((function(t,i){return t+(i.category===r.category&&i.value||0)}),0)})}))},i.prototype.VF=function(t,i,n,r,e){var o,s,u,a=this,h=0,f=this.mF,c=this.hF,l=this.valueAxis.getInterval(),v=[];if(f&&f.labelFillStyle!==Cu){var d=f.tickLength+f.labelMargin,y=this._r.toPoint(f.labelAlignment,1),A={Xv:t.map((function(t,i){var r=n.reduce((function(i,n){return n.category!==t?i:i+n.value}),0),e=f.formatter(t,r);if(e){var o=i;if(void 0!==o)return{text:e,position:a._r.toPoint(o,a.valueAxis.Yi.Bi(l.start,-d)),alignment:y,rotation:f.labelRotation,sizePixels:a.RF(t,r)}}})),ku:f.labelFont,Yi:this.oF};A.Xv.forEach((function(t){t&&v.push(r.add().Os(t.text).Ee(t.position).wf(t.alignment).$o(t.rotation).Be(f.labelFillStyle).qo(f.labelFont)._s(f.labelShadow))})),f.tickStyle!==Pe&&0!==f.tickLength&&A.Xv.forEach((function(t){if(t){var i=a._r.getWidth(t.position);e.add({positions:[a._r.toPoint(i,a.valueAxis.Yi.getInnerStart()),a._r.toPoint(i,a.valueAxis.Yi.Bi(l.start,-f.tickLength))]},{lineStyle:f.tickStyle})}})),h=A.Xv.reduce((function(t,i){return i?Math.max(t,a._r.getHeight(i.sizePixels)):t}),0)+f.tickLength+f.labelMargin}if(c&&c.labelFillStyle!==Cu){var b={Xv:[],ku:c.labelFont,Yi:this.oF};"stacks"===this.xF&&c.displayStackedSum&&(o=b.Xv).push.apply(o,px([],bx(t.map((function(t,r){var e=n.reduce((function(i,n){return i+(n.category===t?n.value:0)}),0),o=c.formatter({chart:a,bar:void 0,category:t,value:e,subCategory:void 0});if(o){var s=n.filter((function(i){return i.category===t})).sort((function(t,n){var r,e;return i.indexOf(null!==(r=t.subCategory)&&void 0!==r?r:"")-i.indexOf(null!==(e=n.subCategory)&&void 0!==e?e:"")})),u=s[s.length-1],h=a.wF.get(u);if(void 0!==h)return{text:o,position:a._r.toPoint(h.category,a.valueAxis.Yi.Bi(h.valueEnd,c.labelMargin*Math.sign(h.valueEnd))),alignment:a._r.toPoint(0,-1*Math.sign(h.valueEnd)),rotation:c.labelRotation,sizePixels:a.qi.jo.oo(o,c.labelFont,c.labelRotation)}}}))),!1)),"after-bar"!==c.position||"stacks"===this.xF&&!c.displayStackedIndividuals?"inside-bar"!==c.position&&"inside-bar-start"!==c.position&&"inside-bar-centered"!==c.position&&"inside-bar-end"!==c.position||(u=b.Xv).push.apply(u,px([],bx(n.map((function(t,i){var n=c.formatter({chart:a,bar:t,category:t.category,value:t.value,subCategory:t.subCategory});if(n){var r=a.wF.get(t);if(void 0!==r){var e="bipolar"===a.aF?Math.sign(r.valueEnd):"negative"===a.aF?-1:1,o=a._r.toPoint(0,"inside-bar"===c.position||"inside-bar-end"===c.position?1*e:"inside-bar-centered"===c.position?0:-1*e);return{text:n,position:a._r.toPoint(r.category,"inside-bar"===c.position||"inside-bar-end"===c.position?a.valueAxis.Yi.Bi(r.valueEnd,-c.labelMargin*e):"inside-bar-centered"===c.position?(r.valueStart+r.valueEnd)/2:a.valueAxis.Yi.Bi(r.valueStart,c.labelMargin*e)),alignment:o,rotation:c.labelRotation,sizePixels:a.GF(t)}}}}))),!1)):(s=b.Xv).push.apply(s,px([],bx(n.map((function(t,i){var n=c.formatter({chart:a,bar:t,category:t.category,value:t.value,subCategory:t.subCategory});if(n){var r=a.wF.get(t);if(void 0!==r)return{text:n,position:a._r.toPoint(r.category,a.valueAxis.Yi.Bi(r.valueEnd,c.labelMargin*Math.sign(r.valueEnd))),alignment:a._r.toPoint(c.labelAlignment,-1*Math.sign(r.valueEnd)),rotation:c.labelRotation,sizePixels:a.GF(t)}}}))),!1)),b&&b.Xv.forEach((function(t){t&&v.push(r.add().Os(t.text).Ee(t.position).wf(t.alignment).$o(t.rotation).Be(c.labelFillStyle).qo(c.labelFont)._s(c.labelShadow).setPointerEvents(!1))}))}return{labelMarginBeforeCategoryAxisPixels:h,labels:v}},i.prototype.RF=function(t,i){if(!this.mF||this.mF.labelFillStyle===Cu)return{x:0,y:0};var n=this.AF.get(t);if(n)return n;var r=this.mF.formatter(t,i),e=this.qi.jo.oo(r,this.mF.labelFont,this.mF.labelRotation);return e.isEstimate?this.qi.vr(!0):this.AF.set(t,e),e},i.prototype.GF=function(t){if(!this.hF||this.hF.labelFillStyle===Cu)return{x:0,y:0};var i=this.bF.get(t);if(i)return i;var n=this.qi.jo.oo(this.hF.formatter({chart:this,bar:t,category:t.category,value:t.value,subCategory:t.subCategory}),this.hF.labelFont,this.hF.labelRotation);return n.isEstimate?this.qi.vr(!0):this.bF.set(t,n),n},i.prototype.fF=function(){var t=this;return this.ip.reduce((function(i,n){var r=t.GF(n);return{x:Math.max(i.x,r.x),y:Math.max(i.y,r.y)}}),{x:0,y:0})},i.prototype.yF=function(){this.gF=!0,this.qi.vr()},i.prototype.Dt=function(){return t.prototype.Dt.call(this),this.oF.Dt(),this},i.prototype.Lt=function(){return t.prototype.Lt.call(this),this.oF.Lt(),this},i.prototype.getMinimumSize=function(){return{x:200,y:200}},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(Ud),gx={Disabled:void 0,None:void 0,Ascending:function(t,i){return t.value-i.value},Descending:function(t,i){return i.value-t.value},Alphabetical:function(t,i){return t.category.localeCompare(i.category)}},xx=yx(yx({},Rl),{Z:"vertical",lF:-1,vF:1}),Sx=yx(yx({},Gl),{Z:"horizontal",lF:1,vF:-1}),wx=function(t,i,n){var r=[[{component:i.bar,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}]],e=t.valueAxis.getTitle();return e&&r.push([e]),i.subCategory?r.push([i.subCategory,"",{text:Uu(t.valueAxis.formatValue(i.bar.getValue()),t.valueAxis),font:{weight:"bold"}}]):r.push({text:Uu(t.valueAxis.formatValue(i.bar.getValue()),t.valueAxis),font:{weight:"bold"}}),r},Mx=function(){return Mx=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Mx.apply(this,arguments)},Cx=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Tx=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},kx=function(t,i){return Math.abs(t)+Math.abs(i)};function _x(t,i){var n,r=t.reduce(kx,0),e=(n=t,Math.max.apply(Math,Tx([],Cx(n.map((function(t){return t}))),!1))),o=function(t){return Math.min.apply(Math,Tx([],Cx(t.map((function(t){return t}))),!1))}(t);return Math.max(Math.pow(i,2)*e/Math.pow(r,2),Math.pow(r,2)/(Math.pow(i,2)*o))}var Ox,Fx=function(t){var i=t.height,n=t.width;return i>n?{value:n,vertical:!1}:{value:i,vertical:!0}},Ix=function(t){var i=t.data,n=t.dimensions,r=n.x,e=n.y,o=n.width,s=n.height,u=i.map((function(t){return t.value})).reduce(kx,0),a=i.map((function(t){return t.animatedValue})).reduce(kx,0),h=i.map((function(t){return t.animatedValue*s*o/a})),f=h.reduce((function(t,i){return t+i}),0),c=h.map((function(t){return t/f*100})),l=h.filter((function(t,i){return c[i]})),v={children:[],id:0,parentID:-1,name:"Main Rectangle",value:u,animatedValue:a,x:r,y:e,width:o,height:s,nodeIndex:-1,userNode:{name:"Main Rectangle",value:u}};if(1===i.length){var d=Mx(Mx({},i[0]),{x:n.x,y:n.y,width:n.width,height:n.height,userNode:Mx(Mx({},i[0].userNode),{value:i[0].value})});v.children.push(d)}else Bx(l,Fx(v).value,i,v);return v.children},jx=function(t,i,n,r,e){var o=t.reduce(kx,0)/i;t.forEach((function(t,i){var s=Math.abs(t)/o,u=e.x,a=e.y,h=e.children,f=r[h.length],c=Mx(Mx({},f),{x:u,y:a,width:n?o:s,height:n?s:o,userNode:Mx(Mx({},f.userNode),{value:f.value})});n?e.y-=s:e.x+=s,h.push(c)})),n?(e.x+=o,e.y+=i,e.width-=o):(e.x-=i,e.y-=o,e.height-=o)},Bx=function(t,i,n,r){for(var e=[{children:t,width:i,row:[]}];e.length>0;){var o=e.pop();if(o){for(var s=o.children,u=o.width,a=o.row,h=0,f=Tx([],Cx(a),!1);h<s.length;){var c=Tx(Tx([],Cx(f),!1),[s[h]],!1),l=_x(f,u),v=_x(c,u);if(!(0===f.length||l>v)){jx(f,u,Fx(r).vertical,n,r),e.push({children:s.slice(h),width:Fx(r).value,row:[]});break}f.push(s[h]),h+=1}h===s.length&&jx(f,u,Fx(r).vertical,n,r)}}},Dx=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lx=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Ex=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},Px=function(i){function n(n,r,e,o,s,u,a){var h,f=this;if((f=i.call(this,n,r,e,r.EA("treeMapChart bg",0),o,r.qi.en.treeMapChartBackgroundFillStyle||r.qi.en.chartXYSeriesBackgroundFillStyle,r.qi.en.treeMapChartBackgroundStrokeStyle||r.qi.en.chartXYBackgroundStrokeStyle,r.qi.en.treeMapChartTitleFont||r.qi.en.chartXYTitleFont,r.qi.en.treeMapChartTitleFillStyle||r.qi.en.chartXYTitleFillStyle,r.qi.en.treeMapChartTitleShadow||r.qi.en.chartXYTitleShadow,a,null===(h=null==u?void 0:u.legend)||void 0===h?void 0:h.customLegend)||this).UF=new Map,f.YF=[],f.WF={},f.XF=l([]),f.qT={speed:1},f.HF=As,f.ZF="Go Back",f.JF=[],f.QF=f.en.treeMapChartPathLabelFillStyle||f.en.uiTextFillStyle,f.KF=f.en.treeMapChartPathLabelFont||f.en.uiTextFont,f.qF=f.en.treeMapChartLabelHeaderFillStyle||f.en.uiTextFillStyle,f.$F=f.en.treeMapChartLabelHeaderFont||f.en.uiTextFont,f.tI=f.en.treeMapChartLabelFillStyle||f.en.uiTextFillStyle,f.iI=f.en.treeMapChartLabelFont||f.en.uiTextFont,f.Hg=!0,f.Wy=!1,f.nI=f.en.treeMapChartParentColor||Fr,f.rI=f.en.treeMapChartNodeStrokeStyle||f.en.uiBackgroundStrokeStyle,f.eI=os,f.RS=f.en.treeMapChartCornerRadius,f.Jg=function(){f.qi.vr(),f.Wy=!0},f.oI=function(i,n){var r,e=n.collectionMember,o=f.sI(e);o&&(f.bx=f.uI(o,i),f.Hg&&f.qi.ir.pr(e,!0),(null===(r=f.getUserInteractions().drillDown)||void 0===r?void 0:r.click)&&f.engine.setMouseStyle(t.MouseStyles.Point),f.qi.vr())},f.aI=function(i,n){var r=n.collectionMember;f.sI(r)&&(f.bx=void 0,f.Hg&&f.qi.ir.pr(r,!1),f.engine.setMouseStyle(t.MouseStyles.Default),f.qi.vr())},f.hI=function(i,n){var r,e=n.collectionMember,o=f.sI(e);o&&(f.bx=f.uI(o,i),f.Hg&&f.qi.ir.pr(e,!0),(null===(r=f.getUserInteractions().drillDown)||void 0===r?void 0:r.click)&&f.engine.setMouseStyle(t.MouseStyles.Point),f.qi.vr())},f.fI=function(t,i){var n;if(!t.defaultPrevented){var r=i.collectionMember,e=f.sI(r);if(e){if(null===(n=f.getUserInteractions().drillDown)||void 0===n?void 0:n.click){var o=(null==e?void 0:e.children.length)?e:e.parentID?f.WF[e.parentID]:void 0;o&&(f.XF.C([o]),f.bx=void 0,f.Ct.Tt("viewchange",{nodes:f.XF.T().map((function(t){return t.userNode}))}),f.Wy=!0),t&&wo(t)}f.qi.vr()}}},f.cI=function(t){var i=f.WF[f.JF[t].id]?[f.WF[f.JF[t].id]]:f.YF;f.XF.C(i),f.Ct.Tt("viewchange",{nodes:i.map((function(t){return t.userNode}))}),f.Wy=!0,f.qi.vr()},f.nodes=new we,f.Ct=new we,f.en.treeMapChartNodeColors)f.lI=f.en.treeMapChartNodeColors;else{var c=f.en.pointSeriesFillStyle,v=function(t){return Ou(t)?t.getColor():Fr};f.lI="function"==typeof c?new Array(5).fill(0).map((function(t,i){return v(c(i))})):[v(c)]}f.qi.qa(gf.ca),f.vk=r.gg("TreeMapChart plotting",0),f.dk=r.gg("TreeMap UI plotting",1),f.addEventListener("resize",f.Jg),f.So.Os("TreeMap Chart");var d=r._g(),y=oo(u?u.cursorBuilder:void 0,Vy);return f.Og=mS(f,d,y.qm(d,f.uiScale,f.uiScale,io,f.en),void 0,"show-pointed",zx,(function(){return 0})),f.vI=f.Qn.Zd(),f.LA(s,f.uiScale),f.Kv=f.vk.ev(f.Ud).Be(new Fu).je(f.rI),f.dI=f.qi.ir.ba(f,{animationEnabled:!1!==(null==u?void 0:u.animationsEnabled)}),f.yI=new jv((function(){return f.dk.$s(f.Ud).setPointerEvents(!1)})),f.AI=new jv((function(){return f.dk.$s(f.uiScale)})),f.Kv.setPointerEvents(!0),f.nodes.wn(f.Kv,(function(t){var i=f.sI(t);if(i)return i.userNode})),f.setAnimationsEnabled(!1!==(null==u?void 0:u.animationsEnabled)),f.Kv.addEventListener("pointerenter",f.oI),f.Kv.addEventListener("pointerleave",f.aI),f.Kv.addEventListener("click",f.fI),f.Kv.addEventListener("pointermove",f.hI),void 0!==(null==u?void 0:u.legend)&&f.legend.setOptions(u.legend),f}return Dx(n,i),n.prototype.setCornerRadius=function(t){return this.RS=t,this.Wy=!0,this.qi.vr(),this},n.prototype.getCornerRadius=function(){return this.RS},n.prototype.setData=function(t){var i=this;t=Array.isArray(t)?t.slice():[t];var n,r=(0,(n=0,{bI:function(t){for(var i,r=t.map((function(t,i){return{node:t,parent:null}})),e=[],o=function(){var t=r.pop();if(!t)return"continue";var o=t.node,s=t.parent,u={id:n+=1,parentID:null==s?void 0:s.id,name:o.name,value:Number(o.value)||0,animatedValue:Number(o.value)||0,children:[],nodeIndex:s?s.nodeIndex:-1,userNode:o};s?s.children.push(u):e.push(u),null===(i=o.children)||void 0===i||i.forEach((function(t){r.push({node:t,parent:u})}))};r.length>0;)o();var s=function(t){t.children.forEach(s),t.children.length>0&&(t.value+=t.children.reduce((function(t,i){return t+i.value}),0),t.animatedValue+=t.children.reduce((function(t,i){return t+i.animatedValue}),0),t.children.sort((function(t,i){return i.animatedValue-t.animatedValue})))};e.forEach(s);var u=1===t.length?e[0].children:e;return u.sort((function(t,i){return i.animatedValue-t.animatedValue})),u.forEach((function(t,i){t.nodeIndex=i;var n=function(i){i.children.forEach((function(i){i.nodeIndex=t.nodeIndex,n(i)}))};n(t)})),e}}).bI)(t);return r.forEach((function(t){var n=i.WF[t.id];n&&i.pI(t,n)})),this.bx=void 0,this.XF.C(r),this.YF=r,this.WF=this.mI(r),this.Wy=!0,this.qi.vr(),this},n.prototype.setAnimationValues=function(t,i){return void 0===i&&(i=1),this.qT=t?{speed:i}:void 0,this.qi.vr(),this},n.prototype.setInitPathButtonText=function(t){return this.ZF=t,this.Wy=!0,this.qi.vr(),this},n.prototype.setDisplayedLevelsCount=function(t){return this.HF=t,this.Wy=!0,this.qi.vr(),this},n.prototype.setDrillDownNode=function(t){var i,n;if(this.bx=void 0,void 0===t)this.XF.C(this.YF);else for(var r=Ex([],Lx(this.YF),!1);r.length>0;){var e=r.pop();if(e){if(void 0!==e.value&&e.userNode===t||e.parentID&&Array.isArray(t)&&(null===(n=null===(i=this.WF[e.parentID])||void 0===i?void 0:i.userNode)||void 0===n?void 0:n.children)===t){var o=e.children.length?e:e.parentID?this.WF[e.parentID]:this.YF[0];this.XF.C([o]);break}if(e.children)for(var s=e.children.length-1;s>=0;s-=1)r.push(e.children[s])}}return this.Ct.Tt("viewchange",{nodes:this.XF.T().map((function(t){return t.userNode}))}),this.Wy=!0,this.qi.vr(),this},n.prototype.setNodeColoring=function(t){var i=this;return t instanceof Array?(this.Kv.Be(new Fu),this.lI=t):(this.Kv.Be(t),this.Ar.forEach((function(t){t.fA()&&t.add(i)}))),this.Ar.forEach((function(t){return t.br()})),this.Wy=!0,this.qi.vr(),this},n.prototype.setParentNodeColor=function(t){return this.nI=t,this.Wy=!0,this.qi.vr(),this},n.prototype.setPathLabelFillStyle=function(t){return this.QF="function"==typeof t?t(this.QF):t,this.Wy=!0,this.qi.vr(),this},n.prototype.getPathLabelFillStyle=function(){return this.QF},n.prototype.setPathLabelFont=function(t){return Dr(t)?this.KF=t:this.KF=t(this.KF),this.Wy=!0,this.qi.vr(),this},n.prototype.getPathLabelFont=function(){return this.KF},n.prototype.setHeaderFont=function(t){return Dr(t)?this.$F=t:this.$F=t(this.$F),this.Wy=!0,this.qi.vr(),this},n.prototype.getHeaderFont=function(){return this.$F},n.prototype.setHeaderFillStyle=function(t){return this.qF="function"==typeof t?t(this.qF):t,this.Wy=!0,this.qi.vr(),this},n.prototype.getHeaderFillStyle=function(){return this.qF},n.prototype.setLabelFont=function(t){return Dr(t)?this.iI=t:this.iI=t(this.iI),this.Wy=!0,this.qi.vr(),this},n.prototype.getLabelFont=function(){return this.iI},n.prototype.setLabelFillStyle=function(t){return this.tI="function"==typeof t?t(this.tI):t,this.Wy=!0,this.qi.vr(),this},n.prototype.getLabelFillStyle=function(){return this.tI},n.prototype.setNodeBorderStyle=function(t){return this.Kv.je(t),this.Wy=!0,this.qi.vr(),this},n.prototype.getNodeBorderStyle=function(){return this.Kv.Ch()},n.prototype.setNodeEffect=function(t){return this.vI.lr(t),this.qi.vr(),this},n.prototype.getNodeEffect=function(){return this.vI.dr()},n.prototype.setCursor=function(t){return this.Og.setCursor(t),this},n.prototype.getCursor=function(){return this.Og.getCursor()},n.prototype.setCursorMode=function(t){return this.Og.setCursorMode(t),this},n.prototype.getCursorMode=function(){return this.Og.getCursorMode()},n.prototype.setCustomCursor=function(t){return this.Og.setCustomCursor(t),this},n.prototype.setCursorDynamicBehavior=function(t){return this.Og.zg(t),this},n.prototype.setCursorFormatting=function(t){return this.Og.setCursorFormatting(t),this},n.prototype.getCursorFormatting=function(){return this.Og.getCursorFormatting()},n.prototype.addCursor=function(t){void 0===t&&(t=Vy);var i=this.CA(),n=t.qm(i,this.uiScale,this.uiScale,this.xA(i),this.en);return this.BA(n),n},n.prototype.setAnimationHighlight=function(t){return this.dI.ga(t),this},n.prototype.getAnimationHighlight=function(){return this.dI.xa()},n.prototype.setHighlightOnHover=function(t){return this.Hg=t,this},n.prototype.getHighlightOnHover=function(){return this.Hg},n.prototype.uI=function(t,i){var n=this.qi.Fh(i);return{cursorPosition:{pointMarker:{x:n.engineX,y:n.engineY},pointMarkerScale:this.qi.Yi,resultTable:{x:n.engineX,y:n.engineY},resultTableScale:this.qi.Yi},name:t.name,value:t.value,node:t.userNode}},n.prototype.getMinimumSize=function(){},n.prototype.lA=function(){return[this]},n.prototype.Le=function(n){var r=this;i.prototype.Le.call(this,n),i.prototype.DA.call(this);var e=nd(this.So,this.PA),o=this.Ar.reduce((function(t,i){var n=i.ds(e,r.yu);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0});if(o.bottom===this.eI.bottom&&o.right===this.eI.right&&o.top===this.eI.top&&o.left===this.eI.left||(this.Wy=!0,this.eI=o),rd(this.So,this.PA,this.uiScale.Gi(),this.yu,o),this.Wy&&this.XF.T().length){this.Kv.Sn(),this.UF.clear(),this.dI.ma(),this.lo&&this.gI(n);var s=Ix({data:this.XF.T(),dimensions:{x:0+this.yu.left+o.left,y:this.Ud.y.getInnerEnd()-e-this.yu.top-o.top,width:this.Ud.x.getInnerEnd()-this.yu.right-this.yu.left-o.right-o.left,height:this.Ud.y.getInnerEnd()-e-this.yu.top-this.yu.bottom-o.top-o.bottom}}),u=this.yI.Iy();this.xI(s,u),u.finishPlot(),this.SI(),this.YF!==this.XF.T()&&this.YF.length>1&&this.JF.unshift({name:this.ZF,id:0});var a=0,h=this.AI.Iy(),f=this.KF;this.JF.forEach((function(i,n){var e,o=h.add(),s=r.qi.jo.oo(i.name,f,0);o.Os(" ".concat(i.name)).qo(f).Ee({x:0,y:100}).wf({x:-1,y:1}).Ks({left:r.yu.left+a,top:r.yu.top,right:0,bottom:0}).Be(r.QF),o.addEventListener("click",(function(){return r.cI(n)})),o.addEventListener("pointerenter",(function(){e=r.engine.setMouseStyle(t.MouseStyles.Point,e)})),o.addEventListener("pointerleave",(function(){r.engine.restoreMouseStyle(e)})),a+=s.x+25})),h.finishPlot(),this.XF.T().every((function(t){return t.value===t.animatedValue}))?this.Wy=!1:this.qi.vr(!0)}return this.Og.Le(!1,[],void 0,{explicitTarget:this.bx}),this.Ar.forEach((function(t){return t.Le(e,r.yu)})),this},n.prototype.dispose=function(){return this.dk.Ft(),this.vk.Ft(),this.Og.Ft(),this.Kv.dispose(),this.UF.clear(),this.yI.Dy(),this.AI.Dy(),i.prototype.dispose.call(this)},n.prototype.Dt=function(){return i.prototype.Dt.call(this),this},n.prototype.Lt=function(){return i.prototype.Lt.call(this),this},n.prototype.Mr=function(){return Uo(this.Kv.Zo(),this.Kv.an())},n.prototype.xI=function(t,i,n,r){void 0===n&&(n=!1),void 0===r&&(r=0);for(var e=t.map((function(t,i){return{node:t,isChild:n,visibleDepth:r}})),o=this.RS?{extent:this.RS,c_x1_y1:!0,c_x1_y2:!0,c_x2_y1:!0,c_x2_y2:!0}:void 0,s=function(){var t=e.pop();if(!t)return"continue";var n=t.node,r=t.visibleDepth,s=t.opacity,a=n.x,h=n.y,f=n.height,c=n.width,l=n.children,v=n.animatedValue,d=n.name,y=n.nodeIndex,A=u.lI,b=0===r&&1===u.XF.T().length?u.nI:A[y%A.length],p=u.Kv.pa().av(a,h,a+c,h-f).wI(b.setA(b.getA()*((null!=s?s:255)/255))).Ax(v).uv(o);u.UF.set(p,n),u.dI.pa(p,(function(t){return p.vn(t)}));var m=a+5,g=h+25+5,x=Math.max(f-25-5,0),S=Math.max(c-5-5,0);if(l&&l.length&&r<u.HF&&S>15&&x>15)for(var w=Ix({data:l,dimensions:{x:S>0?m:a,y:x>0?h-25:g,width:S,height:x}}),M=0;M<w.length;M+=1){var C=(255-(l.length>7?50:150))/(l.length-1),T=1===n.id&&1===u.YF.length||u.YF===u.XF.T()?255:s?s/(r+1):255-M*C;e.push({node:w[M],isChild:!0,visibleDepth:r+1,opacity:T})}var k=0===r&&1===u.XF.T().length?u.qF:u.tI,_=0===r?u.$F:u.iI,O=u.MI(d,c-25,_),F=u.qi.jo.oo(O,_,0),I=i.add();c-25>F.x&&f>25?I.Os(O).Ee({x:a+5,y:h-2.5}).wf({x:-1,y:1}).Be(k).qo(_):I.Os("")},u=this;e.length>0;)s()},n.prototype.mI=function(t){for(var i={},n=Ex([],Lx(t),!1);n.length>0;){var r=n.pop();r&&(i[r.id]=r,r.children&&n.push.apply(n,Ex([],Lx(r.children),!1)))}return i},n.prototype.sI=function(t){if(!this.Wy&&t)return this.UF.get(t)},n.prototype.SI=function(){this.JF=[];for(var t=this.XF.T()[0].id,i=this.WF[t].parentID;i;)this.JF.push({name:this.WF[i].name,id:i}),i=this.WF[i].parentID;return this.JF.reverse()},n.prototype.MI=function(t,i,n){var r=this.qi.jo.oo(t,n,0).x;if(r<=i)return t;for(var e=t.split(" "),o=t;e.length>1&&r>i;)e.pop(),o="".concat(e.join(" "),"..."),r=this.qi.jo.oo(o,n,0).x;if(r>i){var s=e[0];for(o="".concat(s,"..."),r=this.qi.jo.oo(o,n,0).x;o.length>3&&r>i;)o="".concat(o.substring(0,o.length-4),"..."),r=this.qi.jo.oo(o,n,0).x}return o.length<=3&&r>i?"":o},n.prototype.gI=function(t){for(var i,n=Ex([],Lx(this.YF),!1);n.length>0;){var r=n.pop();if(r){var e=r.value-r.animatedValue;if(Math.abs(e)<.0015*r.value||void 0===this.qT)r.animatedValue=r.value;else{var o=e/255*((null===(i=this.qT)||void 0===i?void 0:i.speed)||1)*t;r.animatedValue+=o,(e>0&&r.animatedValue>r.value||e<0&&r.animatedValue<r.value)&&(r.animatedValue=r.value)}r.children&&r.children.length>0&&n.push.apply(n,Ex([],Lx(r.children),!1))}}},n.prototype.pI=function(t,i){for(var n=[{current:t,previous:i}],r=function(){var t=n.pop();if(!t)return"continue";var i=t.current,r=t.previous;i.animatedValue=e.lo?r.animatedValue:i.value,r.nodeIndex<0?i.nodeIndex=0:i.nodeIndex=r.nodeIndex;var o=new Map(r.children.map((function(t){return[t.id,t]})));i.children.forEach((function(t,i){var e=o.get(t.id);n.push({current:t,previous:e||r})}))},e=this;n.length>0;)r()},n.prototype.setUserInteractions=function(t){return this.Re=void 0===t?{drillDown:{click:!1}}:t,this},n.prototype.getUserInteractions=function(){return Ze({drillDown:{click:!0}},this.Re)},n.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},n.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},n}(id),zx=function(t,i,n){return[[{text:i.name,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[{text:i.value.toString(),font:{weight:"bold"}}]]},Nx=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vx=function(){return Vx=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Vx.apply(this,arguments)},Rx=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Gx=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},Ux=function(i){function n(t,n,r,e,o,s,u){var a,h=this;(h=i.call(this,t,n,r,n.EA("gaugeChart bg",0),e,n.qi.en.gaugeChartBackgroundFillStyle,n.qi.en.gaugeChartBackgroundStrokeStyle,n.qi.en.gaugeChartTitleFont,n.qi.en.gaugeChartTitleFillStyle,n.qi.en.gaugeChartTitleShadow,s,null===(a=null==u?void 0:u.legend)||void 0===a?void 0:a.customLegend)||this).Ic=h.en.gaugeChartStartAngle,h.jc=h.en.gaugeChartEndAngle,h.CI={start:0,end:100},h.S=0,h.TI=[],h.kI=h.en.gaugeChartBarThickness,h._I=h.en.gaugeChartValueIndicatorThickness,h.OI=h.en.gaugeChartNeedleLength,h.FI=h.en.gaugeChartNeedleThickness,h.II=h.en.gaugeChartNeedleFillStyle,h.jI=h.en.gaugeChartNeedleStrokeStyle,h.sv=h.en.gaugeChartRoundedEdges,h.BI=!0,h.DI=!0,h.LI=!0,h.EI=[],h.zI=[],h.NI=!0,h.VI=!0,h.JT=h.S,h.RI=function(t){return Number.isInteger(t)?t.toString():t.toFixed(2)},h.GI=h.en.gaugeChartBarGradient,h.UI=function(t){return Number.isInteger(t)?t.toString():t.toFixed(2)},h.YI=h.en.gaugeChartTickFont,h.WI=h.en.gaugeChartValueLabelFont,h.XI=h.en.gaugeChartValueLabelFillStyle,h.HI=h.en.gaugeChartUnitLabelFont,h.ZI=h.en.gaugeChartUnitLabelFillStyle,h.JI=h.en.gaugeChartTickFillStyle,h.QI=h.en.gaugeChartBarColor,h.KI=h.en.gaugeChartGlowColor,h.qI=h.en.gaugeChartGlowColor.getA(),h.$I=1,h.tj=1,h.ij=h.en.gaugeChartNeedleAlignment,h.nj=!1,h.rj=h.en.gaugeChartGapBetweenBarAndValueIndicators,h.ej=h.en.gaugeChartBarStrokeStyle,h.eI=os,h.oj=!1,h.Ct=new we,h.qi.qa(gf.Ku),h.So.Os("Gauge Chart"),h.LA(o,h.Ud),h.setAnimationsEnabled(!1!==(null==u?void 0:u.animationsEnabled)),h.sj=h.QI,h.uj=h.KI,h.aj=Mr(0,0,0,0),h.hj=h.Qn.Zd(),h.fj=h.Qn.Zd().lr(h.en.effectsText),h.cj=h.gA.vl(h.Ud).je(h.ej).setPointerEvents(!1),h.lj=h.gA.fv(h.Ud).Rc(0).Xe(360).Wc(0).je(Pe).setPointerEvents(!1),h.vj=h.NA.We(h.Ud).Ye(h.en.gaugeChartNeedleStrokeStyle).setPointerEvents(!1),h.dj=h.NA.We(h.Ud).Ye(new Ta({thickness:h.FI,fillStyle:h.II})).setPointerEvents(!1),h.yj=h.NA.$s(h.Ud).qo(h.WI).Be(h.XI).setPointerEvents(!1),h.qv=h.NA.$s(h.Ud).qo(h.HI).Be(h.ZI).Os("").setPointerEvents(!1),h.Aj=h.gA.$s(h.Ud).qo(h.YI).Be(h.JI).setPointerEvents(!1),h.bj=h.gA.$s(h.Ud).qo(h.YI).Be(h.JI).setPointerEvents(!1),h.hj.er([h.cj]),h.fj.er([h.yj,h.qv,h.Aj,h.bj]),h.pj(),h.addEventListener("resize",(function(){h.nj=!0}));var f=Vx({backgroundVisible:!0},null==u?void 0:u.legend);return h.legend.setOptions(f),h}return Nx(n,i),n.prototype.pj=function(){var t=this;this.dj.Ye((function(i){return i.setThickness(t.FI)})),this.vj.Ye((function(i){return i.setThickness(2*t.jI.getThickness()+t.FI)}))},n.prototype.setAnimationsEnabled=function(t){return this.lo=t,this.VI=t,this.NI=t,this},n.prototype.setInterval=function(t,i){return this.CI={start:t,end:i},this.nj=!0,this.qi.vr(),this},n.prototype.getInterval=function(){return this.CI},n.prototype.setTickFillStyle=function(t){return this.JI="function"==typeof t?t(this.JI):t,this.zI.forEach((function(i){i.start.Be(t),i.end.Be(t)})),this.Aj.Be(t),this.bj.Be(t),this.nj=!0,this.qi.vr(),this},n.prototype.getTickFillStyle=function(){return this.JI},n.prototype.setTickFont=function(t){return this.YI="function"==typeof t?t(this.YI):t,this.zI.forEach((function(i){i.start.qo(t),i.end.qo(t)})),this.Aj.qo(t),this.bj.qo(t),this.nj=!0,this.qi.vr(),this},n.prototype.getTickFont=function(){return this.YI},n.prototype.setTickFormatter=function(t){return this.RI=t,this.nj=!0,this.qi.vr(),this},n.prototype.getTickFormatter=function(){return this.RI},n.prototype.setValueLabelFillStyle=function(t){return this.XI="function"==typeof t?t(this.XI):t,this.yj.Be(t),this.nj=!0,this.qi.vr(),this},n.prototype.getValueLabelFillStyle=function(){return this.yj.Zo()},n.prototype.setValueLabelFont=function(t){return this.WI="function"==typeof t?t(this.WI):t,this.yj.qo(t),this.nj=!0,this.qi.vr(),this},n.prototype.getValueLabelFont=function(){return this.yj.Ko()},n.prototype.setValueFormatter=function(t){return this.UI="string"==typeof t?function(i){return t}:t,this.nj=!0,this.qi.vr(),this},n.prototype.getValueLabel=function(){return this.yj.js()||this.UI},n.prototype.setUnitLabelFillStyle=function(t){return this.ZI="function"==typeof t?t(this.ZI):t,this.qv.Be(t),this.nj=!0,this.qi.vr(),this},n.prototype.getUnitLabelFillStyle=function(){return this.qv.Zo()},n.prototype.setUnitLabelFont=function(t){return this.HI="function"==typeof t?t(this.HI):t,this.qv.qo(t),this.nj=!0,this.qi.vr(),this},n.prototype.getUnitLabelFont=function(){return this.qv.Ko()},n.prototype.setUnitLabel=function(t){return this.qv.Os(t),this.nj=!0,this.qi.vr(),this},n.prototype.getUnitLabel=function(){return this.qv.js()},n.prototype.setNeedleFillStyle=function(t){return this.II="function"==typeof t?t(this.II):t,this.dj.Ye((function(i){return i.setFillStyle(t)})),this.nj=!0,this.qi.vr(),this},n.prototype.getNeedleFillStyle=function(){return this.dj.Nu().getFillStyle()},n.prototype.setNeedleThickness=function(t){return this.FI=t,this.pj(),this.nj=!0,this.qi.vr(),this},n.prototype.getNeedleThickness=function(){return this.FI},n.prototype.setNeedleStrokeStyle=function(t){return this.jI="function"==typeof t?t(this.jI):t,this.vj.Ye(t),this.pj(),this.nj=!0,this.qi.vr(),this},n.prototype.getNeedleStrokeStyle=function(){return this.vj.Nu()},n.prototype.setNeedleLength=function(t){return this.OI=t,this.nj=!0,this.qi.vr(),this},n.prototype.getNeedleLength=function(){return this.OI},n.prototype.setBarColor=function(t){return this.QI=t,this.nj=!0,this.qi.vr(),this},n.prototype.getBarColor=function(){return this.sj},n.prototype.setBarGradient=function(t){return this.GI=t,this.nj=!0,this.qi.vr(),this},n.prototype.getBarGradient=function(){return this.GI},n.prototype.setBarStrokeStyle=function(t){return this.ej="function"==typeof t?t(this.ej):t,this.cj.je(t),this.nj=!0,this.qi.vr(),this},n.prototype.getBarStrokeStyle=function(){return this.cj.Ch()},n.prototype.setBarThickness=function(t){return this.kI=t,this.nj=!0,this.qi.vr(),this},n.prototype.getBarThickness=function(){return this.kI},n.prototype.setAngleInterval=function(t,i){return Math.abs(t-i)>360&&(i=t<i?t+360:t-360),this.Ic=t,this.jc=i,this.nj=!0,this.qi.vr(),this},n.prototype.getAngleInterval=function(){return{start:this.Ic,end:this.jc}},n.prototype.setValue=function(t){return this.oj&&this.qi.qa(gf.aa),this.oj=!0,this.S=t,this.NI||(this.JT=this.S),this.nj=!0,this.qi.vr(),this},n.prototype.getValue=function(){return this.S},n.prototype.setValueAnimation=function(t,i){return void 0===i&&(i=1),this.NI=t,this.$I=Math.max(0,i),this.nj=!0,this.qi.vr(),this},n.prototype.setColorAnimation=function(t,i){return void 0===i&&(i=1),this.VI=t,this.tj=Math.max(0,i),this.nj=!0,this.qi.vr(),this},n.prototype.setRoundedEdges=function(t){return this.sv=t,this.nj=!0,this.qi.vr(),this},n.prototype.getRoundedEdges=function(){return this.sv},n.prototype.setValueIndicators=function(t){var i=this;return this.TI=t,this.EI.forEach((function(t){t.dispose()})),this.EI.length=0,this.zI.forEach((function(t){t.start.dispose(),t.end.dispose()})),this.zI.length=0,this.TI.forEach((function(t){var n=new _u({color:t.color}),r=i.gA.vl(i.Ud).je(Pe).Be(n).setPointerEvents(!1);i.EI.push(r);var e=i.gA.$s(i.Ud).qo(i.YI).Be(i.JI).setPointerEvents(!1),o=i.gA.$s(i.Ud).qo(i.YI).Be(i.JI).setPointerEvents(!1);i.zI.push({start:e,end:o})})),this.hj.er(Gx([this.cj],Rx(this.EI),!1)),this.fj.er(Gx([this.yj,this.qv,this.Aj,this.bj],Rx(this.zI.map((function(t){return[t.start,t.end]})).flat()),!1)),this.nj=!0,this.qi.vr(),this},n.prototype.getValueIndicators=function(){return this.TI},n.prototype.setValueIndicatorThickness=function(t){return this._I=t,this.nj=!0,this.qi.vr(),this},n.prototype.getValueIndicatorThickness=function(){return this._I},n.prototype.setAutomaticBarColoring=function(t){return this.LI=!!t,this.nj=!0,this.qi.vr(),this},n.prototype.getAutomaticBarColoring=function(){return this.LI},n.prototype.setGlowColor=function(t){return void 0===t?(this.BI=!1,this.uj=void 0):"object"==typeof t&&"auto"in t?(this.DI=t.auto,t.auto&&(this.uj=void 0),void 0!==t.alpha&&(this.qI=t.alpha),this.BI=!0):(this.uj=t,this.qI=t.getA(),this.DI=!1,this.BI=!0),this.nj=!0,this.qi.vr(),this},n.prototype.getAutomaticGlowColoring=function(){return this.DI},n.prototype.setNeedleAlignment=function(t){return this.ij=t,this.nj=!0,this.qi.vr(),this},n.prototype.getNeedleAlignment=function(){return this.ij},n.prototype.setGapBetweenBarAndValueIndicators=function(t){return this.rj=t,this.nj=!0,this.qi.vr(),this},n.prototype.getGapBetweenBarAndValueIndicators=function(){return this.rj},n.prototype.setBarEffect=function(t){return this.hj.lr(t),this.qi.vr(),this},n.prototype.getBarEffect=function(){return this.hj.dr()},n.prototype.setLabelEffect=function(t){return this.fj.lr(t),this.qi.vr(),this},n.prototype.getLabelEffect=function(){return this.fj.dr()},n.prototype.Le=function(n){var r,e=this;if(i.prototype.Le.call(this,n),i.prototype.DA.call(this),this.JT!==this.S){if(this.NI){var o=5e-4*n,s=.003*n,u=Math.sign(this.S-this.JT);this.JT=this.JT+o*u+s*this.$I*(this.S-this.JT),u!==Math.sign(this.S-this.JT)?this.JT=this.S:this.qi.vr(!0)}else this.JT=this.S;this.nj=!0}var a=this.TI.find((function(t){return e.JT>=t.start&&e.JT<=t.end}));if(a||(this.JT<this.CI.start?a=this.TI.find((function(t){return t.start===e.CI.start})):this.JT>this.CI.end&&(a=this.TI.find((function(t){return t.end===e.CI.end})))),this.sj=this.LI&&a?a.color:this.QI,this.VI){if(this.aj!==this.sj){var h=this.aj.getR(),f=this.aj.getG(),c=this.aj.getB(),l=this.sj.getR(),v=this.sj.getG(),d=this.sj.getB(),y=Math.sign(l-h),A=Math.sign(v-f),b=Math.sign(d-c);o=.005*n,s=.003*n,this.aj=Mr(h+o*y+s*this.tj*(l-h),f+o*A+s*this.tj*(v-f),c+o*b+s*this.tj*(d-c));var p=Math.abs(l-this.aj.getR()),m=Math.abs(v-this.aj.getG()),g=Math.abs(d-this.aj.getB());p<1&&m<1&&g<1?this.aj=this.sj:this.qi.vr(!0),this.nj=!0}}else this.aj=this.sj;var x=nd(this.So,this.PA),S=this.Ar.reduce((function(t,i){var n=i.ds(x,e.yu);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0});if(S.right===this.eI.right&&S.bottom===this.eI.bottom&&S.top===this.eI.top&&S.left===this.eI.left||(this.nj=!0,this.eI=S),this.nj){var w=As,M=bs,C=As,T=bs;if(new Array(100).fill(0).forEach((function(t,i,n){var r=e.Ic+i/n.length*(e.jc-e.Ic),o=Math.sin(r*Math.PI/180),s=Math.cos(r*Math.PI/180);o<w&&(w=o),o>M&&(M=o),s<C&&(C=s),s>T&&(T=s)})),this.GI?this.cj.Be(new zr({stops:[{offset:0,color:Cr("#000000")},{offset:1,color:this.aj}],position:{x:.5,y:.5}})):this.cj.Be(new _u({color:this.aj})),this.BI){var k=this.DI&&a?this.aj:null!==(r=this.uj)&&void 0!==r?r:this.KI;this.lj.Be(new zr({stops:[{offset:0,color:k.setA(this.qI)},{offset:1,color:k.setA(0)}],position:{x:.5,y:.5},extent:t.GradientExtent.farthestSide}))}else this.lj.Be(Cu);var _=this.RI(this.CI.start),O=this.RI(this.CI.end),F=0,I=0,j=this.qi.jo.oo(_,this.Aj.Ko(),this.Aj.ts()),B=this.qi.jo.oo(O,this.bj.Ko(),this.bj.ts());j.x>F&&(F=j.x),j.y>I&&(I=j.y),B.x>F&&(F=B.x),B.y>I&&(I=B.y),this.zI.forEach((function(t,i){if(!(i>=e.TI.length)){var n=e.TI[i],r=e.RI(n.start),o=e.RI(n.end),s=e.qi.jo.oo(r,t.start.Ko(),t.start.ts()),u=e.qi.jo.oo(o,t.end.Ko(),t.end.ts());s.x>F&&(F=s.x),s.y>I&&(I=s.y),u.x>F&&(F=u.x),u.y>I&&(I=u.y)}}));var D=this.TI.length>0?this._I:0,L=this.Ud.getInnerIntervalPixels();rd(this.So,this.PA,this.uiScale.Gi(),this.yu,S);var E={x:L.x-(this.yu.left+this.yu.right),y:L.y-(this.yu.bottom+this.yu.top)-x},P={x:E.x-S.left-S.right,y:E.y-S.top-S.bottom},z={x:this.yu.left+(E.x+S.left-S.right)/2,y:this.yu.bottom+(E.y+S.bottom-S.top)/2},N=D+2*this.rj+this.kI/2,V=F+N,R=I+N,G=P.y-(R+x+R),U=P.x-(V+V),Y=Math.max(0,G<U?G:U),W=.5*Y,X=.5*W,H=(w+M)*X,Z=(C+T)*X,J={x:z.x-Z,y:z.y-H},Q=Y>0;if(this.cj.setVisible(Q),this.EI.forEach((function(t){return t.setVisible(Q)})),this.dj.setVisible(Q),this.vj.setVisible(Q),this.lj.setVisible(Q),this.qv.setVisible(Q),this.yj.setVisible(Q),this.Aj.setVisible(Q),this.bj.setVisible(Q),this.zI.forEach((function(t){t.start.setVisible(Q),t.end.setVisible(Q)})),!Q)return;var K={x:z.x-.5*Z,y:z.y-.5*H};this.lj.Ee(z).Gc(.5*Math.min(P.x,L.y)),this.yj.Ee(K).Os(this.UI(this.JT));var q=this.yj.al(),$=this.qv.al();0===q.y&&(q=this.qi.jo.oo(this.yj.js(),this.yj.Ko(),this.yj.ts())),0===$.y&&($=this.qi.jo.oo(this.qv.js(),this.qv.Ko(),this.qv.ts())),this.qv.Ee({x:K.x,y:K.y-q.y-$.y/4});var tt=Xx(this.CI,this.Ic,this.jc,this.JT,J,W+this.ij*(this.OI/2+this.kI/2)),it=tt.angle*(Math.PI/180),nt=.5*this.OI,rt=Math.cos(it),et=Math.sin(it);this.dj.He({x:tt.x+nt*rt,y:tt.y+nt*et}).Xe({x:tt.x-nt*rt,y:tt.y-nt*et}),this.vj.He({x:tt.x+nt*rt,y:tt.y+nt*et}).Xe({x:tt.x-nt*rt,y:tt.y-nt*et});var ot=Yx(J,W,this.Ic,this.jc,this.kI,this.sv,!1,!1);this.cj.rc(ot).cn({min:{x:J.x-W,y:J.y-W},max:{x:J.x+W,y:J.y+W}});var st=J.y+W,ut=J.y-W,at=J.x+W,ht=J.x-W,ft=Rx(this.CI.start<this.CI.end?[this.CI.start,this.CI.end]:[this.CI.end,this.CI.start],2),ct=ft[0],lt=ft[1],vt=W+.5*this.kI+D/2+this.rj,dt=vt+D/2;this.TI.forEach((function(t,i){var n,r,o=t.start>=ct&&t.end<=lt;e.EI[i].setVisible(o),e.zI[i].start.setVisible(o),e.zI[i].end.setVisible(o);var s=Xx(e.CI,e.Ic,e.jc,t.start,J,dt),u=Xx(e.CI,e.Ic,e.jc,t.end,J,dt),a=Yx(J,vt,s.angle,u.angle,e._I,e.sv,!(0===i),!(i===e.TI.length-1));e.EI[i].rc(a);var h=e.CI.start===t.start||e.CI.end===t.start,f=e.CI.start===t.end||e.CI.end===t.end||e.TI.some((function(i){return i.start===t.end&&i!==t}));e.zI[i].start.Ee({x:s.x,y:s.y}).wf({x:Math.min(1,Math.max(-1,2*(s.x-at)/(ht-at)-1)),y:Math.min(1,Math.max(-1,2*(s.y-st)/(ut-st)-1))}).Os(null!==(n=t.startLabel)&&void 0!==n?n:h?"":e.RI(t.start)),e.zI[i].end.Ee({x:u.x,y:u.y}).wf({x:Math.min(1,Math.max(-1,2*(u.x-at)/(ht-at)-1)),y:Math.min(1,Math.max(-1,2*(u.y-st)/(ut-st)-1))}).Os(null!==(r=t.endLabel)&&void 0!==r?r:f?"":e.RI(t.end))}));var yt=this.TI.some((function(t){return t.start<t.end?e.CI.start>=t.start&&e.CI.start<=t.end:e.CI.start<=t.start&&e.CI.start>=t.end})),At=Xx(this.CI,this.Ic,this.jc,this.CI.start,J,yt?dt:vt-this.rj);this.Aj.Ee({x:At.x,y:At.y}).wf({x:Math.min(1,Math.max(-1,2*(At.x-at)/(ht-at)-1)),y:Math.min(1,Math.max(-1,2*(At.y-st)/(ut-st)-1))}).Os(_);var bt=this.TI.some((function(t){return t.start<t.end?e.CI.end>=t.start&&e.CI.end<=t.end:e.CI.end<=t.start&&e.CI.end>=t.end})),pt=Xx(this.CI,this.Ic,this.jc,this.CI.end,J,bt?dt:vt-this.rj);this.bj.Ee({x:pt.x,y:pt.y}).wf({x:Math.min(1,Math.max(-1,2*(pt.x-at)/(ht-at)-1)),y:Math.min(1,Math.max(-1,2*(pt.y-st)/(ut-st)-1))}).Os(O),this.nj=!1}this.Ar.forEach((function(t){return t.Le(x,e.yu)}))},n.prototype.getMinimumSize=function(){return{x:150,y:150}},n.prototype.lA=function(){return[]},n.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},n.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},n}(id),Yx=function(t,i,n,r,e,o,s,u){void 0===o&&(o=!0),void 0===s&&(s=!0),void 0===u&&(u=!0);var a=[],h=.5*e,f=n>r,c=Math.sign(n-r),l=-1*c;if(o){var v=h/(2*Math.PI*i)*360+.1;s&&(n+=v*l),u&&(r+=v*c)}else n+=.1*l,r+=.1*c;var d=Wx(t,i+h,n,r,f);if(a.push.apply(a,Gx([],Rx(d),!1)),o){var y,A={x:t.x+i*Math.cos(r*(Math.PI/180)),y:t.y+i*Math.sin(r*(Math.PI/180))};y=n>r?Wx(A,h,r+180,r+360,f):Wx(A,h,r-180,r-360,f),a.push.apply(a,Gx([],Rx(y),!1))}var b=Wx(t,i-h,r,n,!f);if(a.push.apply(a,Gx([],Rx(b),!1)),o){A={x:t.x+i*Math.cos(n*(Math.PI/180)),y:t.y+i*Math.sin(n*(Math.PI/180))};var p;p=n>r?Wx(A,h,n-180,n-360,f):Wx(A,h,n+180,n+360,f),a.push.apply(a,Gx([],Rx(p),!1))}return a},Wx=function(t,i,n,r,e){var o;n<r&&(o=Rx([r,n],2),n=o[0],r=o[1]);for(var s=[],u=e?-2:2,a=e?function(t){return t>r}:function(t){return t<n},h=e?n:r;a(h);h+=u){var f=h*(Math.PI/180),c=t.x+i*Math.cos(f),l=t.y+i*Math.sin(f);s.push({x:c,y:l})}var v=(e?r:n)*(Math.PI/180),d=t.x+i*Math.cos(v),y=t.y+i*Math.sin(v);return s.push({x:d,y:y}),s},Xx=function(t,i,n,r,e,o){var s=Rx(t.start<t.end?[t.start,t.end]:[t.end,t.start],2),u=s[0],a=s[1],h=Math.max(u,Math.min(a,r)),f=t.start<t.end?n-i:i-n,c=t.start<t.end?i+(h-t.start)/(t.end-t.start)*f:i-(h-t.start)/(t.end-t.start)*f,l=c*(Math.PI/180);return{x:e.x+o*Math.cos(l),y:e.y+o*Math.sin(l),angle:Math.round(c)}},Hx=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zx=function(t){function i(i,n,r,e,o,s,u,a,h,f,c){var l=t.call(this,i,n,r,e,o,s,u,a,h,f)||this;return l.mj=c,l}return Hx(i,t),i.prototype.setLabelAlignment=function(t){return this.mj=t,this.vr(),this},i.prototype.getLabelAlignment=function(){return this.mj},i}(cd),Jx=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qx=function(){return Qx=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},Qx.apply(this,arguments)},Kx=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},qx=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},$x=function(i){function n(n,r,e,o,s,u,a){var h,f=i.call(this,n,{Rs:function(){return n.gj?n.gj[f.key].max:void 0},Vs:function(){return n.gj?n.gj[f.key].min:void 0},Us:function(){}},u,r,e,{numeric:r.parallelCoordinateAxisNumericTicks||r.yAxisNumericTicks,datetime:r.parallelCoordinateAxisDateTimeTicks||r.yAxisDateTimeTicks,time:r.parallelCoordinateAxisTimeTicks||r.yAxisTimeTicks},{type:"linear"})||this;return f.xj=[],f.md=[],f.Sj=8,f.Hi=!1,f.Ct=new we,f.chart=n,f.key=o,f.userID=s,f.Qn=f.chart.qi.Qn.Kn(f,{}),f.kr=a,f.wj=a.De(n.Mj).Be(f.en.parallelCoordinateAxisBackgroundFillStyle||Cu).je(Pe).setPointerEvents(!1),f._o=a.$s(n.Mj).qo(f.en.parallelCoordinateAxisTitleFont||f.en.yAxisTitleFont).Be(f.en.parallelCoordinateAxisTitleFillStyle||f.en.yAxisTitleFillStyle).setPointerEvents(!1).Ks(os).qs(os),f.ns=f.Qn.Zd([f._o]).lr(r.effectsText),f.sF=a.We(n.Mj).Ye(r.parallelCoordinateAxisStrokeStyle||r.yAxisStrokeStyle),f.setAnimationsEnabled(!1),f.addEventListener("intervalchange",(function(t){n.Cj(f,t.start,t.end)})),f.sF.addEventListener("pointerenter",(function(){var i,n;(null===(n=null===(i=f.chart.getUserInteractions().rangeSelectors)||void 0===i?void 0:i.create)||void 0===n?void 0:n.doubleClickAxis)&&(h=f.chart.engine.setMouseStyle(t.MouseStyles.Point))})),f.sF.addEventListener("pointerleave",(function(){h=f.chart.engine.restoreMouseStyle(h)})),f.sF.addEventListener("dblclick",(function(t){var i,n;t.defaultPrevented||(null===(n=null===(i=f.chart.getUserInteractions().rangeSelectors)||void 0===i?void 0:i.create)||void 0===n?void 0:n.doubleClickAxis)&&(f.addRangeSelector(),wo(t))})),f.setTitle(o),f}return Jx(n,i),n.prototype.setBackgroundFillStyle=function(t){return this.wj.Be(t),this.kr.vr(),this},n.prototype.getBackgroundFillStyle=function(){return this.wj.Zo()},n.prototype.setStrokeStyle=function(t){var i="function"==typeof t?t(this.sF.Nu()):t,n=i.getFillStyle();return Bu(n)?(this.Tj=n.lut,this.chart.kj=!0):this.Tj=void 0,this.sF.Ye(i),this.chart.qi.vr(),this},n.prototype.getStrokeStyle=function(){return this.sF.Nu()},n.prototype.setTickStrategy=function(t,n){return i.prototype.Ro.call(this,t,n)},n.prototype.getTickStrategy=function(){return this.ao},n.prototype.addRangeSelector=function(){var i,n=this,r=this.ys(),e=this.kr.De(this.chart.Mj).Be(this.en.parallelCoordinateAxisRangeSelectorFillStyle||this.en.dataGridScrollBarFillStyle).je(this.en.parallelCoordinateAxisRangeSelectorStrokeStyle||this.en.dataGridScrollBarStrokeStyle),o=function(r){var e,o;(null===(o=null===(e=n.chart.getUserInteractions().rangeSelectors)||void 0===e?void 0:e.move)||void 0===o?void 0:o.drag)&&(i=n.chart.engine.setMouseStyle(t.MouseStyles.Vertical,i))},s=function(t){i=n.chart.engine.restoreMouseStyle(i)};e.addEventListener("pointermove",o),e.addEventListener("pointerleave",s),e.addEventListener("pointerdown",(function(t){var r,a;if(null===(a=null===(r=n.chart.getUserInteractions().rangeSelectors)||void 0===r?void 0:r.move)||void 0===a?void 0:a.drag){var h,f=n.chart.getCursorMode();n.chart.setCursorMode(void 0);var c=n.chart.qi.Fh(t),l=ee({x:c.engineX,y:c.engineY},n.chart.qi.Yi,n.chart.Mj),v=n.chart.Mj.y.Bi(e.In(),10),d=n.chart.Mj.y.Bi(e.jn(),-10);h=l.y<=v?"scaleMin":l.y>=d?"scaleMax":"move",wo(t);var y=t,A=function(t){if(void 0!==n._j){var i=.05*Math.abs(n.Uo-n.Go),r=(t.clientX,y.clientX,t.clientY-y.clientY);if(y=t,"move"===h){var e=u.max-u.min,o=n.chart.Oj(u.max,n._j,n).y,s=n.chart.Mj.y.Bi(o,-r),a=n.chart.Fj(s,n._j,n);u.max=ro(a,Math.max(n.Go,n.Uo),Math.min(n.Go,n.Uo)+e),u.min=u.max-e}else if("scaleMax"===h)o=n.chart.Oj(u.max,n._j,n).y,s=n.chart.Mj.y.Bi(o,-r),a=n.chart.Fj(s,n._j,n),u.max=ro(a,u.min+i,Math.max(n.Go,n.Uo));else if("scaleMin"===h){var f=n.chart.Oj(u.min,n._j,n).y,c=n.chart.Mj.y.Bi(f,-r),l=n.chart.Fj(c,n._j,n);u.min=ro(l,u.max-i,Math.min(n.Go,n.Uo))}n.chart.Ij(),wo(t)}},b=function(r){r.pointerId===t.pointerId&&(n.chart.setCursorMode(f),e.addEventListener("pointermove",o),e.addEventListener("pointerleave",s),Qe.removeEventListener("pointermove",A),Qe.removeEventListener("pointerup",b),i=n.chart.engine.restoreMouseStyle(i))};e.removeEventListener("pointermove",o),e.removeEventListener("pointerleave",s),Qe.addEventListener("pointermove",A),Qe.addEventListener("pointerup",b)}})),e.addEventListener("dblclick",(function(t){var i,r;if(null===(r=null===(i=n.chart.getUserInteractions().rangeSelectors)||void 0===i?void 0:i.dispose)||void 0===r?void 0:r.doubleClick){var e=n.xj.indexOf(u);e>=0&&n.xj.splice(e,1),u.shape.dispose(),n.chart.Ij(),wo(t)}}));var u={min:r.min+.25*(r.max-r.min),max:r.max-.25*(r.max-r.min),shape:e};this.xj.push(u),this.chart.Ij();var a={setInterval:function(t,i){return u.min=Math.min(t,i),u.max=Math.max(t,i),n.chart.Ij(),a},setPointerEvents:function(t){return e.setPointerEvents(t),a},dispose:function(){var t=n.xj.indexOf(u);return t>=0&&(n.xj.splice(t,1),n.chart.Ij()),a}};return a},n.prototype.addCustomTick=function(){var t=this,i=new Zx((function(){return t.chart.qi.vr()}),(function(){var n=t.md.indexOf(i);n>=0&&t.md.splice(n,1)}),(this.en.parallelCoordinateAxisNumericTicks||this.en.yAxisNumericTicks).majorTickStyle.tickStyle,(this.en.parallelCoordinateAxisNumericTicks||this.en.yAxisNumericTicks).majorTickStyle.tickLength,(this.en.parallelCoordinateAxisNumericTicks||this.en.yAxisNumericTicks).majorTickStyle.gridStrokeStyle,(this.en.parallelCoordinateAxisNumericTicks||this.en.yAxisNumericTicks).majorTickStyle.tickPadding,(this.en.parallelCoordinateAxisNumericTicks||this.en.yAxisNumericTicks).majorTickStyle.labelRotation,(this.en.parallelCoordinateAxisNumericTicks||this.en.yAxisNumericTicks).majorTickStyle.labelFillStyle,(this.en.parallelCoordinateAxisNumericTicks||this.en.yAxisNumericTicks).majorTickStyle.labelFont,(function(i){return t.formatValue(i)}),(this.en.parallelCoordinateAxisNumericTicks||this.en.yAxisNumericTicks).majorTickStyle.labelAlignment);return this.md.push(i),this.chart.qi.vr(),i},n.prototype.getCustomTicks=function(){return function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}([],Kx(this.md),!1)},n.prototype.Le=function(t){var i,n,r,e,o=this;this._j=t.parallelAxisIndex;var s=Math.min(this.Go,this.Uo),u=Math.max(this.Go,this.Uo);try{for(var a=qx(this.ho),h=a.next();!h.done;h=a.next()){var f=Kx(h.value,2),c=f[0],l=f[1];try{for(var v=(r=void 0,qx(l)),d=v.next();!d.done;d=v.next()){var y=Kx(d.value,2)[1],A=t.ticksInfo.get(y);A&&(t.plotAxisLines.add({positions:[A.positionTicklineStart,A.positionTicklineEnd]},{lineStyle:c.so.tickStyle}),y.ls.Ee(A.labelPosition).wf(A.labelAlignment).$o(A.labelRotation).Af(A.labelOffset.x,A.labelOffset.y))}}catch(t){r={error:t}}finally{try{d&&!d.done&&(e=v.return)&&e.call(v)}finally{if(r)throw r.error}}}}catch(t){i={error:t}}finally{try{h&&!h.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}this.md.forEach((function(i){if(!(!i.Zi||i.S<s||i.S>u)){var n=o.jj(t.parallelAxisIndex,t.halfAxisThickness,i.S,i.cb,i.yb,i.mj);t.plotAxisLines.add({positions:[n.positionTicklineStart,n.positionTicklineEnd]},{lineStyle:i.fb}),t.plotAxisText.add().Ee(n.labelPosition).wf(n.labelAlignment).Be(i.Ab).qo(i.bb).Os(i.zu(i.S)).$o(i.Jv).setPointerEvents(i.Xi)}})),this.sF.He({x:t.parallelAxisIndex,y:0}).Xe({x:t.parallelAxisIndex,y:1}),this._o.Ee({x:t.parallelAxisIndex,y:this.chart.Mj.y.Bi(0,-(t.halfAxisThickness+this.Sj))}).$o(this.getTitleRotation()).wf({x:0,y:1});var b=0===t.parallelAxisIndex?t.parallelAxisIndex:this.chart.Mj.x.Bi(t.parallelAxisIndex,-1.2*t.ny);this.wj.Ee({x:b,y:0}).zt({x:t.parallelAxisIndex-b,y:1});var p=this.chart.Mj.Gi();this.xj.forEach((function(i){var n=o.chart.Oj(i.min,t.parallelAxisIndex,o),r=o.chart.Oj(i.max,t.parallelAxisIndex,o),e={x:t.parallelAxisIndex-10*p.x*.5,y:n.y},s=t.parallelAxisIndex+10*p.x*.5,u=r.y;i.shape.Ee(e).zt({x:s-e.x,y:u-e.y})}))},n.prototype.Ft=function(){this.wj.dispose(),this._o.dispose(),this.sF.dispose(),this.xj.forEach((function(t){return t.shape.dispose()})),this.xj.length=0,this.rs(),this.Cs(),this.Hi=!0,this.Ct.Tt("dispose",{})},n.prototype.isDisposed=function(){return this.Hi},n.prototype.jj=function(t,i,n,r,e,o){var s=this.chart.Mj.Bi({x:t,y:(n-this.Go)/(this.Uo-this.Go)},{x:0-i,y:0}),u=this.chart.Mj.Bi(s,{x:-r,y:0});return{positionTicklineStart:s,positionTicklineEnd:u,labelPosition:this.chart.Mj.Bi(u,{x:-e,y:0}),labelAlignment:{x:1,y:o}}},n.prototype.ps=function(t){var i=this.sF.Nu();return{halfAxisThickness:ka(i)?i.getThickness()/2:0}},n.prototype.ws=function(t,i,n,r,e){var o=i.so,s=this.getInterval(),u=this.jj(r.parallelAxisIndex,e.halfAxisThickness,t,o.getTickLength(),o.getTickPadding(),2*(t-s.start)/(s.end-s.start)-1);return Qx(Qx({},u),{keyValue:t,tickLevel:i,labelText:n,labelRotation:o.labelRotation,labelOffset:{x:0,y:0}})},n.prototype.Fs=function(t,i){return new of(i,t,this.kr,this.chart.Mj)},n.prototype.Ts=function(t,i,n){var r=this,e=this._o&&this._o.js().length>0&&this.getTitleFillStyle()!==Cu?this._o.ds().al():{x:0,y:0},o=0;this.ho.forEach((function(t,i){var n=i.so.tickLength+i.so.tickPadding;t.forEach((function(t){if(t.ls.getVisible()){var i=n+t.ls.ds().al().x;o=Math.max(o,i)}else o=Math.max(o,n)}))}));var s=this.md.reduce((function(t,i){return Math.max(t,i.Zi?r.chart.qi.jo.oo(i.zu(i.S),i.bb,i.Jv).x+i.cb+i.yb:0)}),0);o=Math.max(o,s);var u=e.y+this.Sj,a=o=Math.max(o,e.x/2);return{ny:o,Bj:u,Dj:e.x,rd:a,ticksInfo:i,updatedTicks:n}},n.prototype.Fo=function(){return this.chart.Mj},n.prototype.Ws=function(t,i){return Wu(t,i,this.Yi)},n.prototype.Zs=function(t,i,n){return{start:t,end:i}},n.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},n.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},n.prototype.setPointerEvents=function(t){return this.Ct.setPointerEvents(t),this},n.prototype.getPointerEvents=function(){return this.Ct.getPointerEvents()},n}(ef),tS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iS=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e)||this;s.yt="Parallel Coordinate Series",s.Lj=!1,s.Ct=new we,s.chart=i;var u,a=void 0!==(null==o?void 0:o.automaticColorIndex)?o.automaticColorIndex:s.chart.getSeries().length;return s.Ej=Xo(s.en.parallelCoordinateChartSeriesColor,a)||(u=Xo(s.en.lineSeriesStrokeStyle,a).getFillStyle(),(Ou(u)?u.getColor():void 0)||Mr(255,255,0)),s.addEventListener("visiblechange",(function(t){s.chart.Pj()})),s.addEventListener("dispose",(function(t){s.chart.Pj()})),s.setHighlightOnHover(!1),s}return tS(i,t),i.prototype.setData=function(t){var i=void 0!==this.zj;return this.zj=this.chart.Nj(t),i&&this.chart.Vj(),this},i.prototype.getData=function(){return this.zj},i.prototype.setColor=function(t){var i="function"==typeof t?t(this.Ej):t;return i===this.Ej||(this.Ej=i,this.chart.qi.vr(),this.chart.Rj(this)),this},i.prototype.getColor=function(){return this.Ej},i.prototype.ab=function(){return this.getAutoScrollingEnabled()},i.prototype.$A=function(){},i.prototype.Le=function(){},i.prototype.tb=function(){},i.prototype.Pe=function(){return{fill:new _u({color:this.Ej})}},i.prototype.QA=function(){return t.prototype.QA.call(this)&&!this.Lj},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(xA),nS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rS=function(){return rS=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},rS.apply(this,arguments)},eS=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},oS=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},sS=function(t){function i(i,n,r,e,o,s,u){var a,h,f,c=this;(c=t.call(this,i,n,r,n.EA("parallelAxisChart bg",0),e,n.qi.en.parallelCoordinateChartBackgroundFillStyle||n.qi.en.chartXYBackgroundFillStyle,n.qi.en.parallelCoordinateChartBackgroundStrokeStyle||n.qi.en.chartXYBackgroundStrokeStyle,n.qi.en.parallelCoordinateChartTitleFont||n.qi.en.chartXYTitleFont,n.qi.en.parallelCoordinateChartTitleFillStyle||n.qi.en.chartXYTitleFillStyle,n.qi.en.parallelCoordinateChartTitleShadow||n.qi.en.chartXYTitleShadow,s,null===(a=null==u?void 0:u.legend)||void 0===a?void 0:a.customLegend)||this).axes=[],c.Gj=!0,c.Uj=es(),c.Yj=new Map,c.Wj=c.en.parallelCoordinateChartSeriesColorUnselected||Mr(255,255,255,30),c.Xj=l({resolution:32}),c.kj=!1,c.Hj=!1,c.Zj=!0,c.Jj=!1,c.Qj=!1,c.Kj=!1,c.qj=!1,c.Va=function(t){c.Mj.zt(t.engineWidth,t.engineHeight)},c.Ct=new we,c.VT=n.xg("parallelAxisChart series",0),c.$j=n.xg("parallelAxisChart labels",1),c.So.Os("Parallel Coordinate Chart"),c.qi.qa(gf.la),c.Mj=c.wA.d2({scaleXYConstructor:$r}).zi(0,1),c.LA(o,c.Mj),c.sp=c.gA.De(c.Mj).Ee({x:0,y:0}).zt({x:0,y:1}).Be(c.en.parallelCoordinateChartSeriesBackgroundFillStyle||c.en.chartXYSeriesBackgroundFillStyle).je(Pe).setPointerEvents(!0),c.up=c.gA.De(c.Mj).Ee({x:0,y:0}).zt({x:0,y:1}).Be(Cu).je(c.en.parallelCoordinateChartSeriesBackgroundStrokeStyle||c.en.chartXYBackgroundStrokeStyle).setPointerEvents(!1),t.prototype.op.call(c,c.sp,c.up),c.setSeriesBackgroundEffect(!1),c.tB=new Ta({thickness:null!==(h=c.en.parallelCoordinateChartSeriesLineThickness)&&void 0!==h?h:2,fillStyle:new Fu}),c.iB=new Ta({thickness:null!==(f=c.en.parallelCoordinateChartSeriesLineThickness)&&void 0!==f?f:2,fillStyle:new _u({color:c.en.parallelCoordinateChartSeriesColorUnselected})}),c.nB=c.Uj.V(c.VT.ly(c.Mj)).Ye(c.tB),c.nB.tl=5e4,c.rB=c.VT.ly(c.Mj).Ye(c.en.parallelCoordinateChartPointedSeriesLineStyle||Xo(c.en.lineSeriesStrokeStyle,0)).setPointerEvents(!1),c.eB=new jv((function(){return c.$j.$s(c.Mj)})),c.oB=new Ad((function(){return c.$j.ly(c.Mj).setPointerEvents(!1)}),(function(t,i,n){return t.Sn().Ye(n.lineStyle),i.map((function(i){var n=i.positions;return t.pa().yy(n[0],n[1])}))}));var v=n._g(),d=oo(u?u.cursorBuilder:void 0,Uy);return c.Og=mS(c,v,d.qm(v,c.uiScale,c.uiScale,io,c.en),c,"show-nearest",uS,(function(){return 0})),c.addEventListener("resize",c.Va),void 0!==(null==u?void 0:u.legend)&&c.legend.setOptions(u.legend),c}return nS(i,t),i.prototype.setCursor=function(t){return this.Og.setCursor(t),this},i.prototype.getCursor=function(){return this.Og.getCursor()},i.prototype.setCursorMode=function(t){return this.Og.setCursorMode(t),this},i.prototype.getCursorMode=function(){return this.Og.getCursorMode()},i.prototype.setCustomCursor=function(t){return this.Og.setCustomCursor(t),this},i.prototype.setCursorDynamicBehavior=function(t){return this.Og.zg(t),this},i.prototype.setCursorFormatting=function(t){return this.Og.setCursorFormatting(t),this},i.prototype.getCursorFormatting=function(){return this.Og.getCursorFormatting()},i.prototype.addCursor=function(t){void 0===t&&(t=Uy);var i=this.CA(),n=t.qm(i,this.uiScale,this.uiScale,this.xA(i),this.en);return this.BA(n),n},i.prototype.setUnselectedSeriesColor=function(t){return this.Wj="function"==typeof t?t(this.Wj):t,this.iB=new Ta({thickness:this.getSeriesStrokeThickness(),fillStyle:new _u({color:this.Wj})}),this.qi.vr(),this},i.prototype.getUnselectedSeriesColor=function(){return this.Wj},i.prototype.setPointedSeriesStrokeStyle=function(t){return this.rB.Ye(t),this.qi.vr(),this},i.prototype.getPointedSeriesStrokeStyle=function(){return this.rB.Nu()},i.prototype.setSpline=function(t,i){return t?this.Xj.C({resolution:void 0!==(null==i?void 0:i.resolution)?i.resolution:32}):this.Xj.C(void 0),this.qi.vr(),this},i.prototype.setAxes=function(t){var i=this,n=Array.isArray(t)?t.map((function(t,i){return{key:t,id:i}})):"object"==typeof t?Object.entries(t).map((function(t,i){return{key:t[0],id:t[1]}})):void 0;if(!n)return this;var r=n.filter((function(t){return void 0===i.axes.find((function(i){return i.key===t.key}))})),e=this.axes.filter((function(t){return void 0===n.find((function(i){return t.key===i.key}))}));return r.forEach((function(t){var n=i.sB(),r=new $x(i,i.en,!i.lo,t.key,t.id,n,i.$j),e=function(){i.Zj=!0};r.addEventListener("visiblechange",e),r.addEventListener("dispose",(function(){return r.removeEventListener("visiblechange",e)})),i.axes.push(r)})),e.forEach((function(t){t.Ft();var n=i.axes.indexOf(t);n>=0&&i.axes.splice(n,1)})),this.axes=n.map((function(t){return i.axes.find((function(i){return i.key===t.key}))})),this.Zj=!0,this.gj=void 0,this.qi.vr(),this},i.prototype.getAxis=function(t){var i=this.uB(t);if(!i)throw new Error('ParallelAxisChart.getAxis | no such axis: "'.concat(t,'". Found: ').concat(this.axes.map((function(t){return void 0!==t.userID?"".concat(t.key,", ").concat(t.userID):t.key})).join(", ")));return i},i.prototype.hasAxis=function(t){return void 0!==this.uB(t)},i.prototype.addSeries=function(i){var n,r,e=new iS(this,this.rp,this.en,this.qi.Qn,i);return t.prototype.ap.call(this,e,rS(rS({},i),{legend:rS(rS({},null==i?void 0:i.legend),{show:null!==(r=null===(n=null==i?void 0:i.legend)||void 0===n?void 0:n.show)&&void 0!==r&&r})})),this.Qj=!0,this.gj=void 0,this.qi.vr(),e},i.prototype.setSeriesStrokeThickness=function(t){return this.tB=this.tB.setThickness(t),this.iB=this.iB.setThickness(t),this.nB.Ye(this.tB),this.qi.vr(),this},i.prototype.getSeriesStrokeThickness=function(){return this.tB.getThickness()},i.prototype.setLUT=function(t){var i=this;return this.sd=t,this.sd&&0===this.sd.lut.units.length&&(this.sd.lut=this.sd.lut.setUnits(this.sd.axis.getTitle())),this.Ar.forEach((function(t){t.fA()&&t.add(i)})),this.qj=!0,this.Ar.forEach((function(t){return t.br()})),this.qi.vr(),this},i.prototype.Le=function(i){var n,r,e,o,s,u,a=this;t.prototype.Le.call(this,i);var h=this.axes.filter((function(t){return t.getVisible()}));this.Mj.Pi(0,h.length-1),this.sp.zt({x:h.length-1,y:1}),this.up.zt({x:h.length-1,y:1});var f=void 0===this.gj;if(!this.gj){var l={};h.forEach((function(t){l[t.key]={min:As,max:bs}})),this.ip.forEach((function(t){t.zj&&Object.entries(t.zj).forEach((function(t){var i=eS(t,2),n=i[0],r=i[1],e=l[n];e&&!Number.isNaN(r)&&(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}))})),this.gj=l}if(this.Kj||this.Jj||this.Qj){var v=h.map((function(t,i){return t.xj}));this.ip.forEach((function(t){var i=t.zj;if(i){for(var n=!1,r=function(t){var r=h[t],e=v[t],o=void 0!==e.find((function(t){return ks(i[r.key],t.min,t.max)}));if(e.length>0&&!o)return n=!0,"break"},e=0;e<h.length&&"break"!==r(e);e+=1);t.Lj=n}}));var d=this.ip.filter((function(t){return!t.Lj}));this.Ct.Tt("seriesselect",{selectedSeries:d})}try{for(var y=oS(this.ip),A=y.next();!A.done;A=y.next())A.value.$A()}catch(t){n={error:t}}finally{try{A&&!A.done&&(r=y.return)&&r.call(y)}finally{if(n)throw n.error}}try{for(var b=oS(this.ip),p=b.next();!p.done;p=b.next())p.value.Le()}catch(t){e={error:t}}finally{try{p&&!p.done&&(o=b.return)&&o.call(b)}finally{if(e)throw e.error}}t.prototype.DA.call(this);var m=this.qi.wr(this.sp)||void 0!==this.ip.find((function(t){return t.getPointed()}))?this.aB():void 0;this.Og.Le(!1,this.ip,void 0,{explicitTarget:m,afterCursorPointedAt:function(t){var i=a.qi.Qa();if(t.length>1&&i){var n=a.qi.Fh(i);a.Og.$C.Gm({x:n.engineX,y:n.engineY},a.qi.Yi)}}});var g=nd(this.So,this.PA),x=this.Ar.reduce((function(t,i){var n=i.ds(g,a.yu);return{top:Math.max(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.max(t.left,n.left),right:Math.max(t.right,n.right)}}),{top:0,bottom:0,left:0,right:0});if(rd(this.So,this.PA,this.uiScale.Gi(),this.yu,x),h.length>=2){var S=this.eB.Iy(),w=this.oB.Iy(),M=h.map((function(t,i){return t.Ys(),t.ds({plotAxisLines:w,plotAxisText:S,physicalAxisSize:a.Mj.y.si(),parallelAxisIndex:i})}));this.Mj.Li([this.Zt.left+this.yu.left+M[0].rd+x.left,this.Zt.right+this.yu.right+M[M.length-1].Dj/2+x.right]),this.Mj.Ei([this.Zt.bottom+this.yu.bottom+M.reduce((function(t,i){return Math.max(t,i.Bj)}),0)+x.bottom,this.Zt.top+this.yu.top+g+x.top]),M.forEach((function(t,i){return h[i].Le(t)})),S.finishPlot(),w.finishPlot(),(f||this.kj)&&h.forEach((function(t,i){if(t.Tj){var n=t.Tj.steps.map((function(n){return rS(rS({},n),{value:a.Oj(n.value,i,t).y})})),r=t.Tj.setSteps(n);t.sF.Ye((function(t){return t.setFillStyle(new ju({lookUpProperty:"y",lut:r}))}))}}));var C=this.Zj||this.Jj||this.Gj||this.Xj.o;C&&(this.nB.Sn(),this.Uj.Sn(),this.Yj.clear(),this.ip.forEach((function(t){var i=t.zj;if(t.getVisible()&&i){var n=a.hB(t,i,h,a.nB,a.Uj);a.Yj.set(t,n),t.ur(n)}}))),(C||this.Kj||this.qj||this.Jj)&&this.fB(this.ip),!C&&this.Qj&&this.ip.forEach((function(t){if(!(t.Xn.length>0)){var i=t.zj;if(t.getVisible()&&i){var n=a.hB(t,i,h,a.nB,a.Uj);a.Yj.set(t,n),t.ur(n),a.fB([t])}}})),this.ip.find((function(t){return t.zj&&Object.keys(t.zj).length>0}))&&(this.Hj=!0)}var T=1===(null==m?void 0:m.length)?m[0]:void 0;(T!==this.cB||this.Jj)&&(this.rB.Sn(),T&&T.series.zj?(this.hB(T.series,T.series.zj,h,this.rB,void 0),this.nB.Ye(this.iB)):this.nB.Ye(this.tB));var k=c(this.Mj.x.ei(),this.Mj.y.ei(),this.Mj.x.si(),this.Mj.y.si());this.VT.lg(k),this.Ar.forEach((function(t){return t.Le(g,a.yu)}));try{for(var _=oS(this.ip),O=_.next();!O.done;O=_.next())O.value.tb()}catch(t){s={error:t}}finally{try{O&&!O.done&&(u=_.return)&&u.call(_)}finally{if(s)throw s.error}}this.Gj=!1,this.Kj=!1,this.Zj=!1,this.Jj=!1,this.Qj=!1,this.qj=!1,this.Xj.o=!1,this.kj=!1,this.cB=T},i.prototype.fB=function(t){var i=this,n=this.sd&&{lut:this.sd.lut,key:this.sd.axis.key};t.forEach((function(t){var r=t.zj,e=i.Yj.get(t);if(r&&e){var o;if(t.Lj)o=i.Wj;else if(n){var s=r[n.key],u=i.gj&&i.gj[n.key];o=n.lut.getColors(s,u)}else o=t.Ej;e.forEach((function(t){return t.wI(o)}))}}))},i.prototype.Pj=function(){this.Jj=!0,this.qi.vr()},i.prototype.Vj=function(){this.Hj&&this.qi.qa(gf.aa),this.Jj=!0,this.qi.vr()},i.prototype.uB=function(t){return this.axes.find((function(i){return i.key===t}))||this.axes.find((function(i){return i.userID===t}))},i.prototype.sB=function(){return ne.d1({scale1DConstructor:Jr,dimension:"x"}).Et(0,1)},i.prototype.Nj=function(t){var i=this;if(this.gj=void 0,this.qi.vr(),Array.isArray(t)){var n={};return t.forEach((function(t,r){var e;if("number"==typeof t){var o=null===(e=i.axes[r])||void 0===e?void 0:e.key;if(!o)throw new Error("ParallelCoordinateSeries Axis count doesnt match supplied data");n[o]=t}else"object"==typeof t&&(n[t.key]=t.value)})),n}if("object"==typeof t)return t;throw new Error("ParallelCoordinateSeries unidentified data format")},i.prototype.Cj=function(t,i,n){this.Gj=!0,this.qi.vr()},i.prototype.Oj=function(t,i,n){return{x:i,y:(t-n.Yi.It)/(n.Yi.jt-n.Yi.It)}},i.prototype.Fj=function(t,i,n){var r=n.getInterval();return r.start+t*(r.end-r.start)},i.prototype.Rj=function(t){this.qj=!0,this.qi.vr()},i.prototype.Ij=function(){this.Kj=!0,this.qi.vr()},i.prototype.getSeries=function(){return this.ip},i.prototype.lA=function(){return[this]},i.prototype.Mr=function(){return this.sd?{lut:this.sd.lut}:void 0},i.prototype.getMinimumSize=function(){return{x:200,y:200}},i.prototype.forEachAxis=function(t){return this.axes.slice().forEach((function(i){return t(i)})),this},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.axes.forEach((function(t){return t.Ft()})),this.Og.Ft(),this.VT.Ft(),this.$j.Ft(),this},i.prototype.hB=function(t,i,n,r,e){for(var o,s=[],u=0;u<n.length;u+=1){var a=n[u],h=i[a.key],f=this.Oj(h,u,a),c=this.Xj.T();if(c){if(void 0!==o)for(var l=c.resolution,v=void 0,d=0;d<=l;d+=1){var y=(d-1)/l,A=d/l,b=A<.5?4*A*A*A:1-Math.pow(-2*A+2,3)/2;if(void 0!==v){var p={x:o.x+y*(f.x-o.x),y:o.y+v*(f.y-o.y)},m={x:o.x+A*(f.x-o.x),y:o.y+b*(f.y-o.y)},g=r.pa();e&&e.Dn(g,t),s.push(g),g.yy(p,m)}v=b}}else void 0!==o&&(g=r.pa(),e&&e.Dn(g,t),s.push(g),g.yy(o,f));o=f}return s},i.prototype.aB=function(){var t=this,i=this.getCursorMode(),n=this.qi.Qa();if(i&&n){var r=this.qi.Fh(n),e=ee({x:r.engineX,y:r.engineY},this.qi.Yi,this.Mj),o=Math.round(e.x),s=this.axes.filter((function(t){return t.getVisible()}))[o];if(!s)return;var u=s.key,a=Ko(this.ip.map((function(i){if(i.zj&&i.QA()){var n=i.zj[u],r=t.Oj(n,o,s);return{cursorPosition:{pointMarker:r,pointMarkerScale:t.Mj,resultTable:r,resultTableScale:t.Mj},value:n,series:i,axis:s}}})));return"show-nearest"===i?[a.filter((function(t){return!Number.isNaN(t.cursorPosition.pointMarker.y)})).sort((function(t,i){return Math.abs(t.cursorPosition.pointMarker.y-e.y)-Math.abs(i.cursorPosition.pointMarker.y-e.y)}))[0]]:("show-nearest-interpolated"!==i&&"show-all-interpolated"!==i||Qe.console.warn('LightningChart JS ParallelCoordinateChart does not support "interpolated" cursor modes.'),a)}},i.prototype.setUserInteractions=function(t){return this.Re=void 0===t?{rangeSelectors:{create:{doubleClickAxis:!1},move:{drag:!1},dispose:{doubleClick:!1}}}:t,this},i.prototype.getUserInteractions=function(){return Ze({rangeSelectors:{create:{doubleClickAxis:!0},move:{drag:!0},dispose:{doubleClick:!0}}},this.Re)},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(Ud),uS=function(t,i,n){if(n.length>1)return function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}([[{text:n[0].axis.getTitle(),rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}]],eS(Ko(n.map((function(t){var i=t.series.getData(),n=i?i[t.axis.key]:void 0;if(void 0!==n)return yS(t,[[t.series,"",Uu(t.axis.formatValue(n),t.axis)]])})).flat())),!1);var r=n[0],e=[[{component:r.series,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}]];return t.axes.forEach((function(i){var n=r.series.getData();if(n){var o=n[i.key];if(void 0!==o){var s=t.axes.filter((function(t){return t.getVisible()}))[r.cursorPosition.pointMarker.x]===i?{weight:"bold"}:{};e.push([{text:i.getTitle(),font:s},"",{text:i.formatValue(o),font:s}])}}})),e},aS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hS=function(){return hS=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},hS.apply(this,arguments)},fS=function(i){function n(n,r,e,o,s,u,a){var h,f=this;return(f=i.call(this,n,r,e,o,s,u)||this).legend=new Hv(Ev,f,f.kA,f.Ud),f.legend.setOptions(hS({position:t.LegendPosition.LeftTop,autoHideThreshold:1},a)),null===(h=f.Ar)||void 0===h||h.push(f.legend),f}return aS(n,i),n.prototype.add=function(t){var i=this;return t instanceof WS?(t.getCells().forEach((function(t){t.panel instanceof id&&i.add(t.panel)})),this.qi.vr(),this):(this.legend.add(t),this.qi.vr(),this)},n.prototype.getMinimumSize=function(){return i.prototype.getMinimumSize.call(this)},n}(qv),cS=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},lS=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},vS=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},dS=function(t){return"show-all-interpolated"===t||"show-nearest-interpolated"===t||"show-pointed-interpolated"===t},yS=function(t,i){var n="series"in t?t.series:void 0;if(!n||!("getCursorFormattingOverride"in n))return i;var r=n.getCursorFormattingOverride();return r?r(t,i):i},AS=function(t){var i,n,r="series"in t?t.series:"slice"in t?t.slice:"bar"in t?t.bar:void 0,e=r&&Yv(r)&&r.Mr(),o="x"in t&&t.x,s="y"in t&&t.y,u="z"in t&&t.z,a="color"in t&&t.color,h=null!==(n=null!==(i="lookupValue"in t?t.lookupValue:void 0)&&void 0!==i?i:"intensity"in t?t.intensity:void 0)&&void 0!==n?n:"value"in t?t.value:void 0;if(void 0!==h&&e&&"value"===e.lookUpProperty)return e.lut.getColors(h,e.valueRange);if(void 0!==o&&!1!==o&&e&&"x"===e.lookUpProperty)return e.lut.getColors(o,bS(r)?{min:r.getXMin(),max:r.getXMax()}:void 0);if(void 0!==s&&!1!==s&&e&&"y"===e.lookUpProperty)return e.lut.getColors(s,bS(r)?{min:r.getYMin(),max:r.getYMax()}:void 0);if(void 0!==u&&!1!==u&&e&&"z"===e.lookUpProperty)return e.lut.getColors(u,pS(r)?{min:r.getZMin(),max:r.getZMax()}:void 0);if(a)return"number"==typeof a?kr(a):a;if(r){var f=r.Pe(),c=Go(r.chart.getTheme(),!0,f);if(Ou(c))return c.getColor()}},bS=function(t){return!(!t||"object"!=typeof t||!("getXMin"in t))},pS=function(t){return!(!t||"object"!=typeof t||!("getZMin"in t))},mS=function(t,i,n,r,e,o,s){var u,a,h,f=e,c=t.getTheme().cursorDynamicBehavior,l=o,v=null,d=!0;r&&(d=!1,r.seriesBackground.addEventListener("pointerenter",(function(){var i;d=!0,t.getCursorMode()&&(a&&y&&!("explicitTarget"in(null!==(i=y[3])&&void 0!==i?i:{}))?A():t.qi.vr())})),r.seriesBackground.addEventListener("pointerleave",(function(){var i;d=!1,t.getCursorMode()&&(a&&y&&!("explicitTarget"in(null!==(i=y[3])&&void 0!==i?i:{}))?A():t.qi.vr())})),r.seriesBackground.addEventListener("pointermove",(function(){var i;d=!0,t.getCursorMode()&&(a&&y&&!("explicitTarget"in(null!==(i=y[3])&&void 0!==i?i:{}))?A():t.qi.vr())})),r.addEventListener("seriesadd",(function(i){var n=i.series;n.addEventListener("pointerenter",(function(i,r){var e;n.QA()&&(a||t.qi.vr(),u=r||void 0),t.getCursorMode()&&(a&&y&&!("explicitTarget"in(null!==(e=y[3])&&void 0!==e?e:{}))?A():t.qi.vr())})),n.addEventListener("pointermove",(function(i,r){var e;n.QA()&&(a||t.qi.vr(),u=r||void 0),t.getCursorMode()&&(a&&y&&!("explicitTarget"in(null!==(e=y[3])&&void 0!==e?e:{}))?A():t.qi.vr())})),n.addEventListener("pointerleave",(function(i){var r;n.QA()&&(a||t.qi.vr(),u=void 0),t.getCursorMode()&&(a&&y&&!("explicitTarget"in(null!==(r=y[3])&&void 0!==r?r:{}))?A():t.qi.vr())}))})));var y,A=function(){if(h&&(Qe.cancelAnimationFrame(h),h=void 0),y){var t=y;h=Qe.requestAnimationFrame((function(){return b.Le.apply(b,lS([],cS(t),!1))}))}},b={setCursor:function(i){return i(n),t},getCursor:function(){return n},setCursorMode:function(i){return f=i,t.qi.vr(),t},getCursorMode:function(){return f},setCustomCursor:function(t){a=t},zg:function(i){c=i,t.qi.vr()},setCursorFormatting:function(i){return l=i,t.qi.vr(),t},getCursorFormatting:function(){return l},Ft:function(){n.dispose(),i.Ft()},Le:function(i,r,e,o){var A,b,p;h&&(Qe.cancelAnimationFrame(h),h=void 0),y=[i,r,e,o];var m=t.qi.Qa(),g=[];if((null==o?void 0:o.explicitTarget)&&f)g=Array.isArray(o.explicitTarget)?o.explicitTarget:[o.explicitTarget];else if(!i&&f){var x=r.find((function(t){return t.getPointed()})),S=m&&x&&(!x.getCursorEnabled||x.getCursorEnabled())&&x.hr?x.hr(m):void 0;if((u=S||u)&&"show-all"!==f&&"show-all-interpolated"!==f)g=[u];else if("show-all"===f||"show-all-interpolated"===f||"show-nearest"===f||"show-nearest-interpolated"===f){if((d||void 0!==x)&&m&&e){try{for(var w=vS(r),M=w.next();!M.done;M=w.next()){var C=M.value;!C.getVisible()||C.getCursorEnabled&&!C.getCursorEnabled()||(T=e(C,m,f))&&g.push(T)}}catch(t){A={error:t}}finally{try{M&&!M.done&&(b=w.return)&&b.call(w)}finally{if(A)throw A.error}}"show-nearest"!==f&&"show-nearest-interpolated"!==f||(g.sort((function(t,i){return s(t,m)-s(i,m)})),g.length=1)}}else if("show-pointed"===f||"show-pointed-interpolated"===f){var T;m&&x&&(!x.getCursorEnabled||x.getCursorEnabled())&&e&&(T=e(x,m,f))&&(g=[T])}}g=Ko(g.map((function(t){return hs(t)})));var k=(null==o?void 0:o.overrideCursorPositions)||function(t,i){return i},_=g[0],O=g.length>0?g:void 0;if(_!==v&&m&&(a&&a({hit:_,hits:O,mouseLocation:m}),t.Ct.Tt("cursortargetchange",{hit:_,hits:O,mouseLocation:m}),v=_),a)n.getVisible()&&(n.setVisible(!1),n.ds().Le());else{var F=!1;if(g&&g.length>0){var I=l(t,g[0],g);(p=n.setVisible(!0)).setPosition.apply(p,lS([],cS(k(g,g.map((function(t){var i=t.cursorPosition;if(c){var n=AS(t);void 0!==n&&(i.pointMarkerFillStyle=c.pointMarkerFill&&c.pointMarkerFill(n),i.pointMarkerStrokeStyle=c.pointMarkerStroke&&c.pointMarkerStroke(n));var r=function(t){if(fe(t))return void 0!==t.size?t.size:t.series instanceof hp?t.series.getPointSize():void 0}(t);if(void 0!==r&&(i.pointMarkerSize=c.pointMarkerSize&&c.pointMarkerSize(r)),!1!==c.matchPointMarkerShape){var e=function(t){var i=fe(t)&&t.series instanceof hp?t.series.getPointShape():void 0;return void 0===i||Ea(i)?void 0:i}(t);void 0!==e&&(i.pointMarkerShape=e)}}return i})))),!1)).setResultTable((function(t){return t.setContent(I)})),F=!0}else n.getVisible()&&(n.setVisible(!1).setPosition().setResultTable((function(t){return t.setContent([])})),F=!0);(null==o?void 0:o.afterCursorPointedAt)&&o.afterCursorPointedAt(g),F&&(n.ds(),n.Le())}},solveNearest:function(i,n,r,e){var o,u,a=i||t.qi.Qa();if(!a)return[];var h=[];if("show-all"===n||"show-all-interpolated"===n||"show-nearest"===n||"show-nearest-interpolated"===n){try{for(var f=vS(r),c=f.next();!c.done;c=f.next()){var l=c.value;if(l.getCursorEnabled()&&l.getVisible()){var v=e(l,a,n);v&&h.push(v)}}}catch(t){o={error:t}}finally{try{c&&!c.done&&(u=f.return)&&u.call(f)}finally{if(o)throw o.error}}"show-nearest"!==n&&"show-nearest-interpolated"!==n||(h.sort((function(t,i){return s(t,a)-s(i,a)})),h.length=1)}return Ko(h.map((function(t){return hs(t)})))},$C:n};return b},gS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xS=function(){return xS=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},xS.apply(this,arguments)},SS=function(t,i,n){return Ys(i,Us($s(.5*(t.Lc()+t.Ti())*Math.PI/180),n))},wS=function(t,i,n,r,e,o){for(var s=t.length,u=90,a=0;a<s;a+=1){var h=t[a],f=u-360*i[a],c=h.getAnimatedExplosion();if(0===c||1===s)h.Ek.Ee(n);else{var l=Ys(n,Us($s(.5*(u+f)*Math.PI/180),o*c));h.Ek.Ee(l)}h.Ek.Rc(u).Xe(f).Uc(r).Yc(r).Wc(e),u=f}},MS=function(t){function i(i,n,r,e,o,s,u){var a,h=this;(h=t.call(this,i,n,r,n.EA("pieChart bg",0),e,n.qi.en.pieChartBackgroundFillStyle,n.qi.en.pieChartBackgroundStrokeStyle,n.qi.en.pieChartTitleFont,n.qi.en.pieChartTitleFillStyle,n.qi.en.pieChartTitleShadow,s,null===(a=null==u?void 0:u.legend)||void 0===a?void 0:a.customLegend)||this).tk=[],h.ik=Am.SortByName,h._c=0,h.yk=h.en.pieChartSliceFillStylePalette,h.Ak=h.en.pieChartSliceStrokeStyle,h.nk=!0,h.bk=h.en.pieChartSliceLabelFont,h.pk=h.en.pieChartSliceLabelFillStyle,h.rk=h.en.pieChartSliceLabelShadow,h.ek=0,h.lB=!1,h.vB=20,h.hk=!0,h.lk=!0,h.fk=function(t){var i=h.tk.indexOf(t);i>=0&&(h.tk.splice(i,1),h.ck())},h.Ct=new we,h.qi.qa(gf.Qu),h.vk=n.xg("pieChart bottom",0),h.dk=n.xg("pieChart top",1),h.So.Os("Pie Chart"),h.LA(o,h.Ud),h.background.addEventListener("dblclick",(function(t){t.defaultPrevented||function(t){for(var i=t.getSlices(),n=0;n<i.length;n+=1)i[n].setExploded(!1)}(h)}));var f=n._g(),c=oo(u?u.cursorBuilder:void 0,Ny);h.Og=mS(h,f,c.qm(f,h.uiScale,h.uiScale,io,h.en),void 0,"show-pointed",CS,(function(){return 0})),h.setAnimationsEnabled(!1!==(null==u?void 0:u.animationsEnabled));var l=xS({backgroundVisible:!0},null==u?void 0:u.legend);return h.legend.setOptions(l),h}return gS(i,t),i.prototype.setCursor=function(t){return this.Og.setCursor(t),this},i.prototype.getCursor=function(){return this.Og.getCursor()},i.prototype.setCursorMode=function(t){return this.Og.setCursorMode(t),this},i.prototype.getCursorMode=function(){return this.Og.getCursorMode()},i.prototype.setCustomCursor=function(t){return this.Og.setCustomCursor(t),this},i.prototype.setCursorDynamicBehavior=function(t){return this.Og.zg(t),this},i.prototype.setCursorFormatting=function(t){return this.Og.setCursorFormatting(t),this},i.prototype.getCursorFormatting=function(){return this.Og.getCursorFormatting()},i.prototype.addCursor=function(t){void 0===t&&(t=Ny);var i=this.CA(),n=t.qm(i,this.uiScale,this.uiScale,this.xA(i),this.en);return this.BA(n),n},i.prototype.addSlice=function(t,i){var n=new Lm(this.ek,this.vk,this.dk,this,this.Ud,this.fk,this.en,this.qi.Qn);this.ek+=1,n.setName(t);var r=this.lo;return this.lo=!1,n.setValue(i),this.lo=r,n.setEffect(this.hk),this.gk(n),this.tk.push(n),this.ck(),n.setHighlightOnHover(this.nk),this.Ar.forEach((function(t){t.fA()&&t.Wf(n)})),n},i.prototype.addSlices=function(t){for(var i=[],n=0;n<t.length;n+=1)i.push(this.addSlice(t[n].name,t[n].value));return i},i.prototype.getSlices=function(){return this.tk},i.prototype.setMultipleSliceExplosion=function(t){return this.lB=t,this},i.prototype.getMultipleSliceExplosion=function(){return this.lB},i.prototype.setInnerRadius=function(t){return this._c=t,this.qi.vr(),this},i.prototype.getInnerRadius=function(){return this._c},i.prototype.setSliceExplosionOffset=function(t){return this.vB=t,this.qi.vr(),this},i.prototype.getSliceExplosionOffset=function(){return this.vB},i.prototype.setLUT=function(t){return this.sd=t,this.qi.vr(),this},i.prototype.setSliceFillStyle=function(t){this.yk=t;for(var i=0;i<this.tk.length;i+=1)this.gk(this.tk[i]);return this.qi.vr(),this},i.prototype.getSliceFillStyle=function(){return this.yk},i.prototype.setSliceStrokeStyle=function(t){this.Ak="function"==typeof t?t(this.Ak):t;for(var i=0;i<this.tk.length;i+=1)this.gk(this.tk[i]);return this.qi.vr(),this},i.prototype.getSliceStrokeStyle=function(){return this.Ak},i.prototype.setSliceEffect=function(t){return this.hk=t,this.tk.forEach((function(i){return i.Qn.$n.lr(t)})),this.qi.vr(),this},i.prototype.getSliceEffect=function(){return this.hk},i.prototype.setSliceSorter=function(t){return this.ik=t,this.tk=this.tk.sort(this.ik),this.qi.vr(),this},i.prototype.getSliceSorter=function(){return this.ik},i.prototype.setLabelFillStyle=function(t){this.pk="function"==typeof t?t(this.pk):t;for(var i=0;i<this.tk.length;i+=1)this.gk(this.tk[i]);return this.qi.vr(),this},i.prototype.getLabelFillStyle=function(){return this.pk},i.prototype.setLabelShadow=function(t){return this.rk=t,this.qi.vr(),this},i.prototype.getLabelShadow=function(){return this.rk},i.prototype.setLabelFont=function(t){this.bk="function"==typeof t?t(this.bk):t;for(var i=0;i<this.tk.length;i+=1)this.gk(this.tk[i]);return this.qi.vr(),this},i.prototype.getLabelFont=function(){return this.bk},i.prototype.setLabelEffect=function(t){return this.lk=t,this.tk.forEach((function(i){return i.Qn.qn.lr(t)})),this.qi.vr(),this},i.prototype.getLabelEffect=function(){return this.lk},i.prototype.setLabelFormatter=function(t){return this.mk=t,this.qi.vr(),this},i.prototype.getLabelFormatter=function(){return this.mk},i.prototype.setSliceHighlightOnHover=function(t){return this.nk=t,this.tk.forEach((function(i){return i.setHighlightOnHover(t)})),this},i.prototype.Le=function(i){var n=this;t.prototype.Le.call(this,i),t.prototype.DA.call(this);var r=nd(this.So,this.PA),e=this.Ar.reduce((function(t,i){var e=i.ds(r,n.yu);return{top:Math.max(t.top,e.top),bottom:Math.max(t.bottom,e.bottom),left:Math.max(t.left,e.left),right:Math.max(t.right,e.right)}}),{top:0,bottom:0,left:0,right:0});rd(this.So,this.PA,this.uiScale.Gi(),this.yu,e);var s=o(this.Ud.x.getInnerInterval()-(this.yu.left+this.yu.right),this.Ud.y.getInnerInterval()-(this.yu.bottom+this.yu.top+r)),u=o(s.x-e.left-e.right,s.y-e.top-e.bottom),a=o(this.yu.left+(s.x+e.left-e.right)/2,this.yu.bottom+(s.y+e.bottom-e.top)/2);if(this.sd){var h=this.sd;this.tk.forEach((function(t){n.gk(t,new _u({color:h.getColors(t.getAnimatedValue(),void 0)}))}))}for(var f=0;f<this.tk.length;f+=1){var c=Math.abs(this.tk[f].getAnimatedValue())>0;this.tk[f].Ek.setVisible(c),this.tk[f].ls.setVisible(c)}this.tk=this.tk.sort(this.ik);var l=this.tk.filter((function(t){return Math.abs(t.getAnimatedValue())>0})),v=0;for(f=0;f<l.length;f+=1)v+=Math.abs(l[f].getAnimatedValue());var d,y=[];for(f=0;f<l.length;f+=1)y.push((d=Math.abs(l[f].getAnimatedValue()))>0?d/v:0);for(f=0;f<l.length;f+=1){var A=l[f];A.ls.Os(this.mk(A,y[f])).ds()}this.Og.Le(!1,this.tk,(function(t,i,r){var e=y[l.indexOf(t)]||0,o=n.qi.Fh(i);return{cursorPosition:{pointMarker:{x:o.engineX,y:o.engineY},pointMarkerScale:n.qi.Yi,resultTable:{x:o.engineX,y:o.engineY},resultTableScale:n.qi.Yi},slice:t,category:t.getName(),value:t.getValue(),relativeValue:e}})),this.Ar.forEach((function(t){return t.Le(r,n.yu)})),this.xk(l,y,a,u)},i.prototype.gk=function(t,i){void 0===i&&(i=this.yk(t.index,t)),t.setStyle(i,this.Ak,this.pk,this.bk,this.rk)},i.prototype.ck=function(){this.tk=this.tk.sort(this.ik),this.qi.vr()},i.prototype.lA=function(){return this.tk},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.tk.slice().forEach((function(t){return t.dispose()})),this.Og.Ft(),this.dk.Ft(),this.vk.Ft(),this},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(id),CS=function(t,i,n){return[[{component:i.slice,rowFillStyle:t.getTheme().cursorResultTableHeaderBackgroundFillStyle}],[{text:i.value.toString(),font:{weight:"bold"}}]]},TS=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kS=function(t){function i(i,n,r,e,o,s,u){var a=t.call(this,i,n,r,e,o,s,u)||this;return a.mk=bm.NamePlusValue,a.kk=[],a.dB=40,a.yB=5,a.AB=10,a._k=a.en.pieChartConnectorStrokeStyle,a}return TS(i,t),i.prototype.setLabelConnectorStyle=function(t){this._k=t;for(var i=0;i<this.kk.length;i+=1)this.kk[i].Ye(this._k);return this.qi.vr(),this},i.prototype.getLabelConnectorStyle=function(){return this._k},i.prototype.setLabelSliceOffset=function(t){return this.dB=t,this.qi.vr(),this},i.prototype.getLabelSliceOffset=function(){return this.dB},i.prototype.setLabelConnectorGapStart=function(t){return this.yB=t,this.qi.vr(),this},i.prototype.getLabelConnectorGapStart=function(){return this.yB},i.prototype.setLabelConnectorEndLength=function(t){return this.AB=t,this.qi.vr(),this},i.prototype.getLabelConnectorEndLength=function(){return this.AB},i.prototype.xk=function(t,i,n,r){var e=this,s=this.bk.getSize(),u=this.dB,a=this.AB,h=this.yB,f=Math.min(this.vB,u-h),c=0;if(1===t.length)c=t[0].ls.al().x;else for(var l=0;l<t.length;l+=1)c=Math.max(c,t[l].ls.al().x);var v=Math.max(.5*(Math.min(r.x-2*c-2*a,r.y-2*s)-2*u),0);if(v<50){var d=Math.max(.5*Math.min(r.x,r.y-2*s),0);wS(t,i,n,d,this._c,f),t.forEach((function(t){return t.ls.setVisible(!1)})),this.kk.forEach((function(t){return t.setVisible(!1)}))}else{wS(t,i,n,v,this._c,f);var y=90,A=t.map((function(t,r){var e=360*i[r],o=y-e,s=$s(Ks(.5*(y+o))),h=s.x>=0?-1:1,f=Ys(Ys(n,Us(s,v+u)),{x:h*-a,y:0});y=o;var c={x:h,y:0};t.ls.Ee(f).wf(c),t.ls.ds();var l=t.ls.ol();return{position:f,alignment:c,shape:t.ls,boundaries:l,sliceAngleVec:s,slice:t}})),b=[];for(l=0;l<A.length;l+=1){var p=A[l],m=b[b.length-1];m&&!1!==Ms([m.boundaries,p.boundaries])?p.shape.setVisible(!1):(b.push(p),p.shape.setVisible(!0))}for(l=0;l<this.kk.length;l+=1)this.kk[l].setVisible(!1);b.forEach((function(t,i){var r,s,u,a,c,l=t.slice.Ek,d=SS(l,n,v+h+f*t.slice.getAnimatedExplosion()),y=(r=t.position.y,s=d,a=((u=n).y-s.y)/(u.x-s.x),c=s.x+(r-s.y)/a,o(c,r)),A=t.position;e.Ok([d,y,A])}))}},i.prototype.getMinimumSize=function(){return o(500,300)},i.prototype.Ok=function(t){for(var i,n=0;n<this.kk.length;n+=1)if(!this.kk[n].getVisible()){i=this.kk[n].setVisible(!0);break}void 0===i&&(i=this.dk.Fb(this.Ud,void 0,[fd.InternalUI]).Ye(this._k).setPointerEvents(!1),this.kk.push(i)),i.Sn().Wf(t)},i}(MS),_S=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.mk=bm.Name,i.bB=.5,i}return TS(i,t),i.prototype.xk=function(t,i,n,r){var e=this.vB,o=Math.max(0,.5*Math.min(r.x,r.y)-e);wS(t,i,n,o,this._c,e);for(var s=0;s<t.length;s+=1){var u=t[s],a=u.Ek,h=u.ls,f=this._c/100,c=((1-f)*this.bB+f)*o+u.getAnimatedExplosion()*e,l=SS(a,n,c);h.Ee(l).pf(0).xf(0)}},i.prototype.getMinimumSize=function(){return o(200,200)},i.prototype.setLabelPosition=function(t){return this.bB=t,this.qi.vr(),this},i.prototype.getLabelPosition=function(){return this.bB},i}(MS),OS={LabelsOnSides:kS,LabelsInsideSlices:_S},FS=100001,IS=200002,jS=300002,BS=400001,DS=510001,LS=function(t,i){var n=Math.floor(99999/i),r=Math.floor(99999/i),e=Math.floor(99998/i),o=Math.floor(99998/i),s=Math.floor(99999/(i+1)),u=Math.floor(89999/(i+1)),a=DS+i*u,h=0;return{pB:function(){var i=t.mB("dashboard ui",a+h);return h+=1,i},gB:function(){return t.mB("dashboard legend",51e4)},xB:function(i){var a=1+i*n,h=FS+i*r,f=IS+i*e,c=jS+i*o,l=BS+i*s,v=DS+i*u,d=0;return{qi:t,EA:function(i,n){var r=a+n;return t.mB(i,r)},gg:function(i,n){var r=h+n;return t.mB(i,r)},XC:function(i,n){var r=f+n;return t.mB(i,r)},xg:function(i,n){var r=c+n;return t.mB(i,r)},mg:function(i,n,r){var e=c+n;return t.SB(i,e,r)},VA:function(i,n){var r=l+n;return t.mB(i,r)},TA:function(i){var n=v+d,r=t.mB(i,n);return d+=1,r},_A:function(){return t.mB("panel legend",500002+i)},_g:function(){return t.mB("panel cursor",600001+i)}}}}},ES=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),PS=function(t){function i(n,r){var e,o="ChartError: ".concat(n," ").concat(r?"in ".concat(r.constructor.name):"");return e=t.call(this,o)||this,Object.setPrototypeOf(e,i.prototype),e}return ES(i,t),i}(Error),zS=function(t){function i(n,r,e){void 0===e&&(e=!1);var o,s="EngineError: ".concat(n," ").concat(r?"in ".concat(r.constructor.name):"");return o=t.call(this,s)||this,e&&Qe.alert(s),Object.setPrototypeOf(o,i.prototype),o}return ES(i,t),i}(Error),NS=function(t){function i(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,i.prototype),r}return ES(i,t),i}(zS),VS=function(){function t(t){this.Ct=new we,this.S=t}return t.prototype.C=function(t){return this.S=t,this.Ct.Tt("change",{value:t}),this},t.prototype.T=function(){return this.S},t.prototype.kt=function(t,i,n){this.Ct.addEventListener(t,i,n)},t.prototype.Ot=function(t,i){this.Ct.removeEventListener(t,i)},t}(),RS=function(){return RS=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},RS.apply(this,arguments)},GS=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},US=function(t,i){return i?t.x:t.y},YS=function(t,i,n,r,e,o){for(var s=i.length,u=Math.sign(r),a=[],h=i.reduce((function(t,i){return t+i})),f=1;f<=s-1;f+=1)a.push(US(e,o)*i.slice(0,f).reduce((function(t,i){return t+i}),0)/h);var c=a.map((function(t){return 0})),l=a[n-1]+r,v=function(i){var r=t.filter((function(t){return function(t,i,n,r){return 1===i&&r===(n?t.columnIndex:t.rowIndex)||-1===i&&r===(n?t.columnIndex+t.columnSpan:t.rowIndex+t.rowSpan)}(t,u,o,i)})),s=r.reduce((function(t,i){return Math.max(t,US(i.panel.getMinimumSize()||{x:0,y:0},o))}),20),h=a[i-1];return 1===u&&l>US(e,o)-s||-1===u&&l<0+s?(c.fill(0),"break"):i!==n&&(1===u?h>l:h<l)?"break":(c[i-1]=l-h,void(l+=s*u))};for(f=n;f>0&&f<s&&"break"!==v(f);f+=u);var d=c.map((function(t,i){return a[i]+t})),y=d.map((function(t,i){return(t-(i>0?d[i-1]:0))/US(e,o)}));return y.push(1-y.reduce((function(t,i){return t+i}),0)),y},WS=function(){function i(t,i,n,r,e,o){var s=this;this.coordsRelative="relative",this.coordsClient="client",this.Hi=!1,this.L_=new Array,this.wB=[],this.MB=void 0,this.CB=!0,this.TB=!0,this.kB=!0,this.bA=!1,this._B=!0,this.OB=function(){s._B=!0,s.qi.vr()},this.FB=[],this.IB=function(t){for(var i=0;i<s.L_.length;i+=1)if(s.L_[i].panel===t){s.L_.splice(i,1),s.CB=!0,s.qi.vr();break}},this.jB=function(t){var i=s.wB.indexOf(t);i>=0&&s.wB.splice(i,1)},this.BB=function(t,i,n,r,e){if(s.DB(i,n,r,e)){var o={panel:t,columnIndex:i,rowIndex:n,columnSpan:r,rowSpan:e};return s.L_.push(o),s.LB(o),s.CB=!0,t}throw new PS("Out of dashboard range.")},this.Ct=new we,this.EB=i.numberOfRows,this.PB=i.numberOfColumns,this.SA=t,this.zB=i,this.NB=r;var u=this.PB*this.EB;this.VB={x:new VS(new Array(this.PB).fill(1)),y:new VS(new Array(this.EB).fill(1))},this.en=n.en,this.RB=this.en.dashboardSplitterStyle,this.lo=!1!==(null==i?void 0:i.animationsEnabled),this.GB=LS(n,u),this.UB=n.mB("dashboard splitters",500001),this.YB=function(){return s.GB.pB()},this.kA=this.GB.gB(),this.Qn=n.Qn.Kn(this,{WB:{}}),this.Qn.WB.lr(this.en.effectsDashboardSplitters);var a=n.ai();this.uiScale=ne.d2({scaleXYConstructor:$r}).Pi(0,100).zi(0,100).zt(a),this.Ud=ne.d2({scaleXYConstructor:$r}).Pi(0,this.uiScale.x.getCellSize()).zi(0,this.uiScale.y.getCellSize()).zt(a),this.XB=n.HB.bind(n),this.ZB=n.JB.bind(n),this.QB=n.KB.bind(n),this.qB=n.$B.bind(n),this.mh=n.mh.bind(n),this.Sh=n.Sh.bind(n),this.engine=n.MA,this.qi=n.hl,n.kt("resize",this.OB),n.vr();var h=function(t){s.bA=t.isInView,s.Ct.Tt("inviewchange",{isInView:s.bA})};n.kt("inviewchanged",h),this.jA=function(){n.Ot("inviewchanged",h)},this.tD(),this.setAnimationsEnabled(this.lo),this.createChartXY=function(t){var i=XS(t,s.zB,s.lo);return s.BB(new _p(s.SA,s.GB.xB(s.iD(t.columnIndex,t.rowIndex)),s.nD(i,s.VB),s.IB,o,i,s),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createSpiderChart=function(t){var i=XS(t,s.zB,s.lo);return s.BB(new dg(s.SA,s.GB.xB(s.iD(t.columnIndex,t.rowIndex)),s.nD(i,s.VB),s.IB,o,i,s),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createPolarChart=function(t){var i=XS(t,s.zB,s.lo);return s.BB(new um(s.SA,s.GB.xB(s.iD(t.columnIndex,t.rowIndex)),s.nD(i,s.VB),s.IB,o,i,s),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createPieChart=function(t){var i=XS(t,s.zB,s.lo),n=i&&i.type?i.type:kS;return s.BB(new n(s.SA,s.GB.xB(s.iD(t.columnIndex,t.rowIndex)),s.nD(i,s.VB),s.IB,o,s,i),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createGaugeChart=function(t){var i=XS(t,s.zB,s.lo);return s.BB(new Ux(s.SA,s.GB.xB(s.iD(t.columnIndex,t.rowIndex)),s.nD(i,s.VB),s.IB,o,s,i),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createFunnelChart=function(t){var i=XS(t,s.zB,s.lo),n=i&&i.type?i.type:_m;return s.BB(new n(s.SA,s.GB.xB(s.iD(t.columnIndex,t.rowIndex)),s.nD(i,s.VB),s.IB,o,s,i),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createPyramidChart=function(t){var i=XS(t,s.zB,s.lo),n=t&&t.type?t.type:Qm;return s.BB(new n(s.SA,s.GB.xB(s.iD(t.columnIndex,t.rowIndex)),s.nD(i,s.VB),s.IB,o,s,i),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createUIPanel=function(t){var i=XS(t,s.zB,s.lo);return s.BB(new qv(s.SA,s.GB.xB(s.iD(t.columnIndex,t.rowIndex)),s.nD(i,s.VB),s.IB,o,s),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createLegendPanel=function(t){var i=XS(t,s.zB,s.lo);return s.BB(new fS(s.SA,s.GB.xB(s.iD(t.columnIndex,t.rowIndex)),s.nD(i,s.VB),s.IB,o,s,t.legend),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createZoomBandChart=function(t){var i=XS(t,s.zB,s.lo);return s.BB(new Np(s.SA,s.GB.xB(s.iD(t.columnIndex,t.rowIndex)),s.nD(i,s.VB),s.IB,o,i,s),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createMapChart=function(t){var i=XS(t,s.zB,s.lo);return s.BB(new hA(s.SA,s.GB.xB(s.iD(t.columnIndex,t.rowIndex)),s.nD(i,s.VB),s.IB,o,i,s),i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createChart3D=function(t){var i=XS(t,s.zB,s.lo),n=new Iy(s.SA,s.GB.xB(s.iD(t.columnIndex,t.rowIndex)),s.nD(i,s.VB),s.IB,o,s,i);return s.BB(n,i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createDataGrid=function(t){var i=XS(t,s.zB,s.lo),n=new nx(s.SA,s.GB.xB(s.iD(t.columnIndex,t.rowIndex)),s.nD(i,s.VB),s.IB,o,s);return s.BB(n,i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createBarChart=function(t){var i=XS(t,s.zB,s.lo),n=new mx(s.SA,s.GB.xB(s.iD(t.columnIndex,t.rowIndex)),s.nD(i,s.VB),s.IB,o,s,i);return s.BB(n,i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)},this.createParallelCoordinateChart=function(t){var i=XS(t,s.zB,s.lo),n=new sS(s.SA,s.GB.xB(s.iD(t.columnIndex,t.rowIndex)),s.nD(i,s.VB),s.IB,o,s,i);return s.BB(n,i.columnIndex,i.rowIndex,i.columnSpan,i.rowSpan)}}return i.prototype.iD=function(t,i){return t+i*this.PB},i.prototype.nD=function(t,i){var n=this;return{d1:function(r){return new r.scale1DConstructor("x"===r.dimension?t.columnIndex:t.rowIndex,"x"===r.dimension?t.columnSpan:t.rowSpan,"x"===r.dimension?n.PB:n.EB,"x"===r.dimension?i.x:i.y)},d2:function(r){return(new r.scaleXYConstructor).Ri({x:t.columnIndex,y:t.rowIndex},{x:t.columnSpan,y:t.rowSpan},{x:n.PB,y:n.EB},i)},d3:function(){return new Yr({x:t.columnIndex,y:t.rowIndex},{x:t.columnSpan,y:t.rowSpan},{x:n.PB,y:n.EB},i)}}},i.prototype.setWidth=function(t){return t instanceof Array||(t=[t,t]),this.XB(t[0]),this.ZB(t[1]),this},i.prototype.setHeight=function(t){return t instanceof Array||(t=[t,t]),this.QB(t[0]),this.qB(t[1]),this},i.prototype.getWidth=function(){return this.mh()},i.prototype.getHeight=function(){return this.Sh()},i.prototype.setBackgroundFillStyle=function(t){return this.engine.setBackgroundFillStyle(t),this.UB.vr(),this},i.prototype.getBackgroundFillStyle=function(){return this.engine.getBackgroundFillStyle()},i.prototype.setBackgroundStrokeStyle=function(t){return this.engine.setBackgroundStrokeStyle(t),this.UB.vr(),this},i.prototype.getBackgroundStrokeStyle=function(){return this.engine.getBackgroundStrokeStyle()},i.prototype.getTheme=function(){return this.en},i.prototype.setSplitterStyle=function(t){var i=this.RB;return this.RB="function"==typeof t?t(this.RB):t,this.rD(i),this},i.prototype.getSplitterStyle=function(){return this.RB},i.prototype.setSplitterEffect=function(t){return this.Qn.WB.lr(t),this.qi.vr(),this},i.prototype.getSplitterEffect=function(){return this.Qn.WB.dr()},i.prototype.setAnimationHighlight=function(t){var i=this;return this.kB=t,this.FB.forEach((function(n){return i.qi.ir.mr(n.line,t)})),this},i.prototype.getAnimationHighlight=function(){return this.kB},i.prototype.rD=function(t){var i,n;try{for(var r=GS(this.FB),e=r.next();!e.done;e=r.next())e.value.line.Ye(this.RB)}catch(t){i={error:t}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}this.tD()},i.prototype.setColumnWidth=function(t,i){var n=this.VB.x.T();return t>=0&&t<n.length&&(n[t]=i,this.VB.x.C(n)),this.OB(),this},i.prototype.getColumnWidth=function(t){var i=this.VB.x.T();if(t>=i.length)throw new PS("Column index is out of dashboard range.");return i[t]},i.prototype.setRowHeight=function(t,i){var n=this.VB.y.T();return t>=0&&t<n.length&&(n[Math.abs(n.length-1-t)]=i,this.VB.y.C(n)),this.OB(),this},i.prototype.getRowHeight=function(t){var i=this.VB.y.T();if(t>=i.length)throw new PS("Row index is out of dashboard range.");return i[Math.abs(i.length-1-t)]},i.prototype.getSizePixels=function(){return this.Ud.getInnerIntervalPixels()},i.prototype.eD=function(t,i,n){var r,e;if(n&&Math.abs(t.x)>0)this.oD(i,t.x);else{if(n||!(Math.abs(t.y)>0))return;this.sD(i,t.y)}try{for(var o=GS(this.L_),s=o.next();!s.done;s=o.next())s.value.panel.Lt()}catch(t){r={error:t}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}this.OB()},i.prototype.sD=function(t,i){var n=YS(this.L_,this.VB.y.T(),t,i,this.Ud.ai(),!1);this.VB.y.C(n),this.OB()},i.prototype.oD=function(t,i){var n=YS(this.L_,this.VB.x.T(),t,i,this.Ud.ai(),!0);this.VB.x.C(n),this.OB()},i.prototype.uD=function(){var i=this;this.FB.forEach((function(t){return t.line.dispose()})),this.FB.length=0;for(var n=function(n){for(var e=function(e){if(void 0!==r.L_.find((function(t){return ks(e,t.rowIndex,t.rowIndex+t.rowSpan-1)&&(n===t.columnIndex||n===t.columnIndex+t.columnSpan)}))){var o=r.UB.We(r.Ud).Ye(r.RB);o.addEventListener("pointerenter",(function(r){i.FB.forEach((function(t){"vertical"===t.alignment&&t.column===n&&(i.qi.ir.pr(t.line,1),i.UB.aD(t.line))})),i.MB=i.engine.setMouseStyle(t.MouseStyles.ResizeColumn,i.MB),i.qi.vr()})),o.addEventListener("pointerleave",(function(t){i.FB.forEach((function(t){"vertical"===t.alignment&&t.column===n&&i.qi.ir.pr(t.line,0)})),i.MB=i.engine.restoreMouseStyle(i.MB),i.qi.vr()})),o.addEventListener("pointerdown",(function(r){wo(r);var e=r,o=function(r){wo(r),i.MB=i.engine.setMouseStyle(t.MouseStyles.ResizeColumn,i.MB),i.FB.forEach((function(t){"vertical"===t.alignment&&t.column===n&&(i.qi.ir.pr(t.line,1),i.UB.aD(t.line))}));var o={x:r.clientX-e.clientX,y:r.clientY-e.clientY};e=r,i.eD(o,n,!0)},s=function(t){t.pointerId===r.pointerId&&(i.FB.forEach((function(t){"vertical"===t.alignment&&t.column===n&&i.qi.ir.pr(t.line,0)})),i.MB=i.engine.restoreMouseStyle(i.MB),Qe.removeEventListener("pointermove",o),Qe.removeEventListener("pointerup",s))};Qe.addEventListener("pointermove",o),Qe.addEventListener("pointerup",s)})),r.qi.ir.tr(o,(function(t){return o.vn(t)}),{animationEnabled:r.kB}),r.FB.push({row:e,column:n,line:o,alignment:"vertical"})}},o=0;o<=r.EB-1;o+=1)e(o)},r=this,e=1;e<=this.PB-1;e+=1)n(e);for(var o=function(n){for(var r=function(r){if(void 0!==s.L_.find((function(t){return ks(r,t.columnIndex,t.columnIndex+t.columnSpan-1)&&(n===t.rowIndex||n===t.rowIndex+t.rowSpan)}))){var e=s.UB.We(s.Ud).Ye(s.RB);e.addEventListener("pointerenter",(function(r){i.FB.forEach((function(t){"horizontal"===t.alignment&&t.row===n&&(i.qi.ir.pr(t.line,1),i.UB.aD(t.line))})),i.MB=i.engine.setMouseStyle(t.MouseStyles.ResizeRow,i.MB),i.qi.vr()})),e.addEventListener("pointerleave",(function(t){i.FB.forEach((function(t){"horizontal"===t.alignment&&t.row===n&&i.qi.ir.pr(t.line,0)})),i.MB=i.engine.restoreMouseStyle(i.MB),i.qi.vr()})),e.addEventListener("pointerdown",(function(r){wo(r);var e=r,o=function(r){wo(r),i.MB=i.engine.setMouseStyle(t.MouseStyles.ResizeRow,i.MB),i.FB.forEach((function(t){"horizontal"===t.alignment&&t.row===n&&(i.qi.ir.pr(t.line,1),i.UB.aD(t.line))}));var o={x:r.clientX-e.clientX,y:-(r.clientY-e.clientY)};e=r,i.eD(o,n,!1)},s=function(t){t.pointerId===r.pointerId&&(i.FB.forEach((function(t){"horizontal"===t.alignment&&t.row===n&&i.qi.ir.pr(t.line,0)})),i.MB=i.engine.restoreMouseStyle(i.MB),Qe.removeEventListener("pointermove",o),Qe.removeEventListener("pointerup",s))};Qe.addEventListener("pointermove",o),Qe.addEventListener("pointerup",s)})),s.qi.ir.tr(e,(function(t){return e.vn(t)}),{animationEnabled:s.kB}),s.FB.push({row:n,column:r,line:e,alignment:"horizontal"})}},e=0;e<=s.PB-1;e+=1)r(e)},s=this,u=1;u<=this.EB-1;u+=1)o(u);this.Qn.WB.er(this.FB.map((function(t){return t.line})))},i.prototype.hD=function(){var t=this.Ud.ai(),i=this.VB.x.T(),n=i.reduce((function(t,i){return t+i})),r=this.VB.y.T(),e=r.reduce((function(t,i){return t+i}));this.FB.forEach((function(s){if("vertical"===s.alignment){var u=o(t.x*i.slice(0,s.column).reduce((function(t,i){return t+i}),0)/n,t.y*r.slice(0,s.row).reduce((function(t,i){return t+i}),0)/e),a=o(u.x,t.y*r.slice(0,s.row+1).reduce((function(t,i){return t+i}),0)/e);s.line.He(u).Xe(a)}else u=o(t.x*i.slice(0,s.column).reduce((function(t,i){return t+i}),0)/n,t.y*r.slice(0,s.row).reduce((function(t,i){return t+i}),0)/e),a=o(t.x*i.slice(0,s.column+1).reduce((function(t,i){return t+i}),0)/n,u.y),s.line.He(u).Xe(a)}))},i.prototype.setAnimationsEnabled=function(t){return this.lo=t,this.getCells().filter((function(t){return t.panel instanceof id})).forEach((function(i){return i.panel.setAnimationsEnabled(t)})),this.setAnimationHighlight(this.lo),this},i.prototype.getAnimationsEnabled=function(){return this.lo},i.prototype.getCells=function(){return this.L_.slice()},i.prototype.dispose=function(){return this.Hi||(this.jA&&this.jA(),this.L_.slice().forEach((function(t){return t.panel.dispose()})),this.wB.slice().forEach((function(t){return t.dispose()})),this.Hi=!0,this.NB(),this.Ct.Tt("dispose",{})),this},i.prototype.isDisposed=function(){return this.Hi},i.prototype.getIsInView=function(){return this.bA},i.prototype.saveToFile=function(t,i,n,r){return _v(this.engine,t,i,n,r),this},i.prototype.fl=function(t){var i,n;if(this._B){var r=this.qi.Yi.ai(),e=r.x,o=r.y;this.uiScale.zt(e,o),this.Ud.zt(e,o);var s=this.uiScale.getInnerIntervalPixels();this.Ud.Pi(0,s.x).zi(0,s.y),this.Ct.Tt("resize",{width:s.x,height:s.y,engineWidth:e,engineHeight:o}),this.TB=!0}this.CB&&(this.uD(),this.CB=!1,this.TB=!0),this.TB&&(this.hD(),this.TB=!1);try{for(var u=GS(this.L_),a=u.next();!a.done;a=u.next())a.value.panel.Le(t)}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}return this.wB.forEach((function(t){return t.ds()})),this.wB.forEach((function(t){return t.Le()})),this._B=!1,this},i.prototype.Dt=function(){var t,i;try{for(var n=GS(this.L_),r=n.next();!r.done;r=n.next())r.value.panel.Dt()}catch(i){t={error:i}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}return this.Ud.x.Dt(),this.Ud.y.Dt(),this.uiScale.x.Dt(),this.uiScale.y.Dt(),this},i.prototype.Lt=function(){var t,i;try{for(var n=GS(this.L_),r=n.next();!r.done;r=n.next())r.value.panel.Lt()}catch(i){t={error:i}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}return this.Ud.x.Lt(),this.Ud.y.Lt(),this.uiScale.x.Lt(),this.uiScale.y.Lt(),this},i.prototype.translateCoordinate=function(t,i,n){return Iv(t,i,n,this.Ud,this.qi)},i.prototype.addUIElement=function(t,i){void 0===t&&(t=hl),void 0===i&&(i=this.uiScale),i=Fv(i,this.Ud);var n=Ov(t,this.YB(),this.uiScale,i,this.jB,this.en);return this.wB.push(n),n},i.prototype.DB=function(t,i,n,r){return i>=0&&t>=0&&i+r<=this.EB&&t+n<=this.PB},i.prototype.LB=function(t){var i=this.RB,n=i===Pe?0:i.getThickness()/2,r={left:t.columnIndex>0?n:0,top:t.rowIndex<this.EB-1?n:0,right:t.columnIndex<this.PB-1?n:0,bottom:t.rowIndex>0?n:0};t.panel.Ks(r)},i.prototype.tD=function(){var t,i;this.uiScale.x.ri([0,0]),this.uiScale.y.ri([0,0]),this.Ud.x.ri([0,0]),this.Ud.y.ri([0,0]);try{for(var n=GS(this.L_),r=n.next();!r.done;r=n.next()){var e=r.value;this.LB(e)}}catch(i){t={error:i}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}this.qi.vr()},i.prototype.addEventListener=function(t,i,n){this.Ct.addEventListener(t,i,n)},i.prototype.removeEventListener=function(t,i){this.Ct.removeEventListener(t,i)},i}(),XS=function(t,i,n){var r,e,o=RS(RS({},t),{columnSpan:t.columnSpan||1,rowSpan:t.rowSpan||1,animationsEnabled:void 0!==t.animationsEnabled?t.animationsEnabled:n});return o.rowIndex=(r=o.rowIndex,e=o.rowSpan,i.numberOfRows-(r+e)),o},HS=function(i,n,r){void 0===n&&(n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAgCAYAAADwkoGKAAAsa2NhQlgAACxranVtYgAAAB5qdW1kYzJwYQARABCAAACqADibcQNjMnBhAAAALEVqdW1iAAAAR2p1bWRjMm1hABEAEIAAAKoAOJtxA3Vybjp1dWlkOjlmZDBkZjkzLTVmMDMtNDczYi1hZThhLTFhNDM4NmMzNmJhYQAAAAGzanVtYgAAAClqdW1kYzJhcwARABCAAACqADibcQNjMnBhLmFzc2VydGlvbnMAAAAA12p1bWIAAAAmanVtZGNib3IAEQAQgAAAqgA4m3EDYzJwYS5hY3Rpb25zAAAAAKljYm9yoWdhY3Rpb25zgaNmYWN0aW9ua2MycGEuZWRpdGVkbXNvZnR3YXJlQWdlbnRtQWRvYmUgRmlyZWZseXFkaWdpdGFsU291cmNlVHlwZXhTaHR0cDovL2N2LmlwdGMub3JnL25ld3Njb2Rlcy9kaWdpdGFsc291cmNldHlwZS9jb21wb3NpdGVXaXRoVHJhaW5lZEFsZ29yaXRobWljTWVkaWEAAACranVtYgAAAChqdW1kY2JvcgARABCAAACqADibcQNjMnBhLmhhc2guZGF0YQAAAAB7Y2JvcqVqZXhjbHVzaW9uc4GiZXN0YXJ0GCFmbGVuZ3RoGSx3ZG5hbWVuanVtYmYgbWFuaWZlc3RjYWxnZnNoYTI1NmRoYXNoWCBvErgv+J0u7bVCYViyMUgw5yMb8idAv1erA3/DALx9NWNwYWRIAAAAAAAAAAAAAAIDanVtYgAAACRqdW1kYzJjbAARABCAAACqADibcQNjMnBhLmNsYWltAAAAAddjYm9yqGhkYzp0aXRsZW9HZW5lcmF0ZWQgaW1hZ2VpZGM6Zm9ybWF0aWltYWdlL3BuZ2ppbnN0YW5jZUlEeCh4bXAuaWlkOjI3NEMxQjdDN0E0MDExRUVBQkZFQUNFQjJDOTA0NzVCb2NsYWltX2dlbmVyYXRvcng2QWRvYmVfUGhvdG9zaG9wLzI1LjIuMCBhZG9iZV9jMnBhLzAuNy42IGMycGEtcnMvMC4yNS4ydGNsYWltX2dlbmVyYXRvcl9pbmZvgb9kbmFtZW9BZG9iZSBQaG90b3Nob3BndmVyc2lvbmYyNS4yLjD/aXNpZ25hdHVyZXgZc2VsZiNqdW1iZj1jMnBhLnNpZ25hdHVyZWphc3NlcnRpb25zgqJjdXJseCdzZWxmI2p1bWJmPWMycGEuYXNzZXJ0aW9ucy9jMnBhLmFjdGlvbnNkaGFzaFggSmnBvf+o3kEweL4k7cz4MTrB0WSVNFZxoA1rBrM31K+iY3VybHgpc2VsZiNqdW1iZj1jMnBhLmFzc2VydGlvbnMvYzJwYS5oYXNoLmRhdGFkaGFzaFggL2g6Dghd536quyA5vPlS/9NGA5WvLRkkKJmqn0VxCoFjYWxnZnNoYTI1NgAAKEBqdW1iAAAAKGp1bWRjMmNzABEAEIAAAKoAOJtxA2MycGEuc2lnbmF0dXJlAAAAKBBjYm9y0oREoQE4JKNmc2lnVHN0oWl0c3RUb2tlbnOBoWN2YWxZDjYwgg4yMAMCAQAwgg4pBgkqhkiG9w0BBwKggg4aMIIOFgIBAzEPMA0GCWCGSAFlAwQCAQUAMIGCBgsqhkiG9w0BCRABBKBzBHEwbwIBAQYJYIZIAYb9bAcBMDEwDQYJYIZIAWUDBAIBBQAEIHj4VpJDPzaO0x4hOPnj/w1GTHuwXU0IpBf4VVocIQzoAhB3SsxvHza2JR1fKj3Mjr0yGA8yMDIzMTEwMzExNTcyNloCCQCyOL6wAOGCbaCCC70wggUHMIIC76ADAgECAhAFHp6R1x6RCrvkPVzt0N3ZMA0GCSqGSIb3DQEBCwUAMGMxCzAJBgNVBAYTAlVTMRcwFQYDVQQKEw5EaWdpQ2VydCwgSW5jLjE7MDkGA1UEAxMyRGlnaUNlcnQgVHJ1c3RlZCBHNCBSU0E0MDk2IFNIQTI1NiBUaW1lU3RhbXBpbmcgQ0EwHhcNMjMwOTA4MDAwMDAwWhcNMzQxMjA3MjM1OTU5WjBYMQswCQYDVQQGEwJVUzEXMBUGA1UEChMORGlnaUNlcnQsIEluYy4xMDAuBgNVBAMTJ0RpZ2lDZXJ0IEFkb2JlIEFBVEwgVGltZXN0YW1wIFJlc3BvbmRlcjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABE0srlH5A/+15/MFl1asNh8Q8TubOsEVfu0qlJrF0smjtwL1IeHZ/AB7J59u1Trpho1BDN85lfTY30rNBsfT+myjggGLMIIBhzAOBgNVHQ8BAf8EBAMCB4AwDAYDVR0TAQH/BAIwADAWBgNVHSUBAf8EDDAKBggrBgEFBQcDCDAgBgNVHSAEGTAXMAgGBmeBDAEEAjALBglghkgBhv1sBwEwHwYDVR0jBBgwFoAUuhbZbU2FL3MpdpovdYxqII+eyG8wHQYDVR0OBBYEFLA1qlbDIamLztO4vIsWJVed7zThMFoGA1UdHwRTMFEwT6BNoEuGSWh0dHA6Ly9jcmwzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydFRydXN0ZWRHNFJTQTQwOTZTSEEyNTZUaW1lU3RhbXBpbmdDQS5jcmwwgZAGCCsGAQUFBwEBBIGDMIGAMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC5kaWdpY2VydC5jb20wWAYIKwYBBQUHMAKGTGh0dHA6Ly9jYWNlcnRzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydFRydXN0ZWRHNFJTQTQwOTZTSEEyNTZUaW1lU3RhbXBpbmdDQS5jcnQwDQYJKoZIhvcNAQELBQADggIBAHgrjELHhBCEWJSCyRX7lsL0C9LJgbX1ryVYySNRxHkMR2LqC7PQZRJgDNR+kJop8P5v2Bzp/jMrzw4U4pY6rYv3I8HpFlJa4uBwUTIUgHWpi8Xxd1JEEX94POODi7HySekX60A055BozFb7GGVaxb0LreQTRXnkr6ggPNUPX9Gh+2ScOxlTdQQLgZbkdYvxo3Ap6cy9riZijRxOZqiOyWSxMUhgKxeKzwrFW6Xbe0awNhOUXZzIxc4ixpKzWSItpPJ30ZiBQn49U3ADYTnshbN9ZkTA1pHf/Nov2ZUvvddkZ8UYvwo9vBvLTDvnmABnRMBKaXYAs3ZCvw9CkDPOWTeUJMFRAtmUx52ohaA3nD8bCJ6UfpQ2pFfOdShwpb6GKv0g+BgcdIG2LHPJ0Ufmr+XmpgZgq/HIge0hjcCADpjDgq2z4B0L4xtAA1M8MrUx02hxb7104nFKqMuv5zJTQl3sgwqXUyP+9zHQP9y/Z5Fx/AQWrOXCW56dV7P4cFBJl8zHqinlhkOStZ1m22+9Hlq+eC0hJ2lkF1LuzRdJJb/51LXoPKRnopFDng6XpoD7eG6w4YpAx9+P00JuUoBsYSrdsuFiyWyQQGBAnjI69ggbSLcW+hJytuinaxawVlItJkS2eV5Z4XsxPg7f82uRkdtN0hTHeI93CN3OWeRebnK7MIIGrjCCBJagAwIBAgIQBzY3tyRUfNhHrP0oZipeWzANBgkqhkiG9w0BAQsFADBiMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMSEwHwYDVQQDExhEaWdpQ2VydCBUcnVzdGVkIFJvb3QgRzQwHhcNMjIwMzIzMDAwMDAwWhcNMzcwMzIyMjM1OTU5WjBjMQswCQYDVQQGEwJVUzEXMBUGA1UEChMORGlnaUNlcnQsIEluYy4xOzA5BgNVBAMTMkRpZ2lDZXJ0IFRydXN0ZWQgRzQgUlNBNDA5NiBTSEEyNTYgVGltZVN0YW1waW5nIENBMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAxoY1BkmzwT1ySVFVxyUDxPKRN6mXUaHW0oPRnkyibaCwzIP5WvYRoUQVQl+kiPNo+n3znIkLf50fng8zH1ATCyZzlm34V6gCff1DtITaEfFzsbPuK4CEiiIY3+vaPcQXf6sZKz5C3GeO6lE98NZW1OcoLevTsbV15x8GZY2UKdPZ7Gnf2ZCHRgB720RBidx8ald68Dd5n12sy+iEZLRS8nZH92GDGd1ftFQLIWhuNyG7QKxfst5Kfc71ORJn7w6lY2zkpsUdzTYNXNXmG6jBZHRAp8ByxbpOH7G1WE15/tePc5OsLDnipUjW8LAxE6lXKZYnLvWHpo9OdhVVJnCYJn+gGkcgQ+NDY4B7dW4nJZCYOjgRs/b2nuY7W+yB3iIU2YIqx5K/oN7jPqJz+ucfWmyU8lKVEStYdEAoq3NDzt9KoRxrOMUp88qqlnNCaJ+2RrOdOqPVA+C/8KI8ykLcGEh/FDTP0kyr75s9/g64ZCr6dSgkQe1CvwWcZklSUPRR8zZJTYsg0ixXNXkrqPNFYLwjjVj33GHek/45wPmyMKVM1+mYSlg+0wOI/rOP015LdhJRk8mMDDtbiiKowSYI+RQQEgN9XyO7ZONj4KbhPvbCdLI/Hgl27KtdRnXiYKNYCQEoAA6EVO7O6V3IXjASvUaetdN2udIOa5kM0jO0zbECAwEAAaOCAV0wggFZMBIGA1UdEwEB/wQIMAYBAf8CAQAwHQYDVR0OBBYEFLoW2W1NhS9zKXaaL3WMaiCPnshvMB8GA1UdIwQYMBaAFOzX44LScV1kTN8uZz/nupiuHA9PMA4GA1UdDwEB/wQEAwIBhjATBgNVHSUEDDAKBggrBgEFBQcDCDB3BggrBgEFBQcBAQRrMGkwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmRpZ2ljZXJ0LmNvbTBBBggrBgEFBQcwAoY1aHR0cDovL2NhY2VydHMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0VHJ1c3RlZFJvb3RHNC5jcnQwQwYDVR0fBDwwOjA4oDagNIYyaHR0cDovL2NybDMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0VHJ1c3RlZFJvb3RHNC5jcmwwIAYDVR0gBBkwFzAIBgZngQwBBAIwCwYJYIZIAYb9bAcBMA0GCSqGSIb3DQEBCwUAA4ICAQB9WY7Ak7ZvmKlEIgF+ZtbYIULhsBguEE0TzzBTzr8Y+8dQXeJLKftwig2qKWn8acHPHQfpPmDI2AvlXFvXbYf6hCAlNDFnzbYSlm/EUExiHQwIgqgWvalWzxVzjQEiJc6VaT9Hd/tydBTX/6tPiix6q4XNQ1/tYLaqT5Fmniye4Iqs5f2MvGQmh2ySvZ180HAKfO+ovHVPulr3qRCyXen/KFSJ8NWKcXZl2szwcqMj+sAngkSumScbqyQeJsG33irr9p6xeZmBo1aGqwpFyd/EjaDnmPv7pp1yr8THwcFqcdnGE4AJxLafzYeHJLtPo0m5d2aR8XKc6UsCUqc3fpNTrDsdCEkPlM05et3/JWOZJyw9P2un8WbDQc1PtkCbISFA0LcTJM3cHXg65J6t5TRxktcma+Q4c6umAU+9Pzt4rUyt+8SVe+0KXzM5h0F4ejjpnOHdI/0dKNPH+ejxmF/7K9h+8kaddSweJywm228Vex4Ziza4k9Tm8heZWcpw8De/mADfIBZPJ/tgZxahZrrdVcA6KYawmKAr7ZVBtzrVFZgxtGIJDwq9gdkT/r+k0fNX2bwE+oLeMt8EifAAzV3C+dAjfwAL5HYCJtnwZXZCpimHCUcr5n8apIUP/JiW9lVUKx+A+sDyDivl1vupL0QVSucTDh3bNzgaoSv27dZ8/DGCAbgwggG0AgEBMHcwYzELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDkRpZ2lDZXJ0LCBJbmMuMTswOQYDVQQDEzJEaWdpQ2VydCBUcnVzdGVkIEc0IFJTQTQwOTYgU0hBMjU2IFRpbWVTdGFtcGluZyBDQQIQBR6ekdcekQq75D1c7dDd2TANBglghkgBZQMEAgEFAKCB0TAaBgkqhkiG9w0BCQMxDQYLKoZIhvcNAQkQAQQwHAYJKoZIhvcNAQkFMQ8XDTIzMTEwMzExNTcyNlowKwYLKoZIhvcNAQkQAgwxHDAaMBgwFgQU2Rq5M/4XremCHqYT9aQ6cU4+fn0wLwYJKoZIhvcNAQkEMSIEIGmY+GsCefCDmP0PFcYjdxBUfi0EgKYuEZb9pUMyLNuVMDcGCyqGSIb3DQEJEAIvMSgwJjAkMCIEIILa8ZSVezaEAkWP1ScAaf5ixxRW+p4Lhqv4J+hTICfZMAoGCCqGSM49BAMCBEcwRQIgcxxuf7QHV9Fkpj1VhPrFqhNFh8dZzl8qUU/2N3Sr4eoCIQDKu0KGYL++CSsDAXjJciMDbr5ImTy3jw0yQU5GYYeLimd4NWNoYWluglkGMzCCBi8wggQXoAMCAQICEBtbCzvasORd8vMNnlTR2tIwDQYJKoZIhvcNAQELBQAwdTELMAkGA1UEBhMCVVMxIzAhBgNVBAoTGkFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkMR0wGwYDVQQLExRBZG9iZSBUcnVzdCBTZXJ2aWNlczEiMCAGA1UEAxMZQWRvYmUgUHJvZHVjdCBTZXJ2aWNlcyBHMzAeFw0yMzAyMDEwMDAwMDBaFw0yNDAyMDEyMzU5NTlaMIGhMREwDwYDVQQDDAhjYWktcHJvZDEcMBoGA1UECwwTQ29udGVudCBDcmVkZW50aWFsczETMBEGA1UECgwKQWRvYmUgSW5jLjERMA8GA1UEBwwIU2FuIEpvc2UxEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMSQwIgYJKoZIhvcNAQkBFhVncnAtY2FpLW9wc0BhZG9iZS5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDv0wCnfYY9lkHDsykrTG7FYlnYHBcyualuD5u9ULjzv+FsTWOLg8Nhrz9RTxI9EeBbu3Wm7f4vqPsQYfxkEp0wIa6DVmEOZhbAeRfbhybWQ/D4Wvvck4mEZR+QZmTpIn7HX61gbtMFHlJUxkYBctIoAt9TBAFbz9d5Ig2WG0bsH39b6/8USXnIIk4FB6dtBRT1xeEwSDtwOd1YBpXXNBJmRWHXNJZZ85of2tBTesg/kMvTrOJJxYDZ97U416wcvbVomlees+NXUY3/ZB4xH+NsZils7m1bL2v2hSnHiLoqZeUKklbHUmT4ZpjrZCdtuIsWm5j2PPXKr7HKUuCbZSXBAgMBAAWjggGMMIIBiDAMBgNVHRMBAf8EAjAAMA4GA1UdDwEB/wQEAwIHgDAeBgNVHSUEFzAVBgkqhkiG9y8BAQwGCCsGAQUFBwMEMIGOBgNVHSAEgYYwgYMwgYAGCSqGSIb3LwECAzBzMHEGCCsGAQUFBwICMGUMY1lvdSBhcmUgbm90IHBlcm1pdHRlZCB0byB1c2UgdGhpcyBMaWNlbnNlIENlcnRpZmljYXRlIGV4Y2VwdCBhcyBwZXJtaXR0ZWQgYnkgdGhlIGxpY2Vuc2UgYWdyZWVtZW50LjBdBgNVHR8EVjBUMFKgUKBOhkxodHRwOi8vcGtpLWNybC5zeW1hdXRoLmNvbS9jYV83YTVjM2EwYzczMTE3NDA2YWRkMTkzMTJiYzFiYzIzZi9MYXRlc3RDUkwuY3JsMDcGCCsGAQUFBwEBBCswKTAnBggrBgEFBQcwAYYbaHR0cDovL3BraS1vY3NwLnN5bWF1dGguY29tMB8GA1UdIwQYMBaAFFcpejJNzP7kNU7AHyRzznNTq99qMA0GCSqGSIb3DQEBCwUAA4ICAQBXjlGa3yAK/Gijn6n/JNU9FZm72MP6vc5czrWe9y0T+EawuRvhpD5Edi1TnXkrpe8sMkgSjTGdbY+yGhq8zlCWQeXN1/aWo3L9Xr1uNxY/oVpLn0uWWfnfJ7yR9gKl/yoMfhjydT4t1fXHi/MhfhrWSVRHqX2U31UFGz/e298P2kv+vqhzpIUo1bj+jibtoPLMMQcCOTtKiJOTh4o3VSZpwQDERCzo91NkF+LnZjwYl6fE5USIkg/oCoomXxSPpowybDrcRJ9ilbtJcER48/LGgwzv/c7OYdron4PnEXm1FkOaVj+QRf7OwiNTizonhIzLR5Vfp0QHOWv/bPzvCjPQd+Xr0Q4032WlSxQwostNTAPtoVAU4OCwVH3Ech38emJ00/6fkDCdr7MN8/4n2LSNrMUvaBEZdmLqDCBnO02dbFrmpg3pTc0FqRQ4GL/88pjRNSMy5tU9SoQnSCGYqIsjfL8AzgPEGiXXRgABYc1uXecf4/eayb3K2MPs7hnWTbUKpHHJIwxpdN3vTGdZNWpz9Oxfuo3eELQlkTvACHgqkaXi/FAanHe5PChn6fr1/4cNF8goD0buPApgS3zzwqjRhxrH8ISwPfJn8JqzurMaLDMnnc18tHzUiMtX73jf6oXh7voCxX/T4D3nFPlxU3om2cpcLQ1Wd4026x18rlSGR1kGpTCCBqEwggSJoAMCAQICEAyotlR7iebSBol1zYubieIwDQYJKoZIhvcNAQELBQAwbDELMAkGA1UEBhMCVVMxIzAhBgNVBAoTGkFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkMR0wGwYDVQQLExRBZG9iZSBUcnVzdCBTZXJ2aWNlczEZMBcGA1UEAxMQQWRvYmUgUm9vdCBDQSBHMjAeFw0xNjExMjkwMDAwMDBaFw00MTExMjgyMzU5NTlaMHUxCzAJBgNVBAYTAlVTMSMwIQYDVQQKExpBZG9iZSBTeXN0ZW1zIEluY29ycG9yYXRlZDEdMBsGA1UECxMUQWRvYmUgVHJ1c3QgU2VydmljZXMxIjAgBgNVBAMTGUFkb2JlIFByb2R1Y3QgU2VydmljZXMgRzMwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQC3Hy69vQmzXEhs/gyDrmwB6lF4JaSAPomnsbKIZNr2iXaB+fkd85X8eJiNmI7P5O4cVT4Nc1p3zrESqBV4ZUyW8gcZ78QdwoHG8QNd2VNcHnMgSR+XT9Iafsnq9Nfww3Jt9KL3l5ANQ5n1+MJqr48EWNLll942bOL/JH4ywDSMoqhZqtJEIUUUGlQVBZ8CAvJc7LE6ddA5C52PE2Ppa7RfQgHXf4gfXVZwpxYRZcziPiOHqEvLb0J3cShUbejFxV6cwX8QyAPa1ePHg1RtM0HX+D34xHo3DkyGnmT+Ddq00TEDGG26AL5PdINKFIQl+zaq6KJFQe1fdGE5wrWzU4mBPmzaz3EbLn+7FWlwAhorYqIMldbfHE3ydc+aTU1JW7+bG19qmvhO9IluGtTtQDeqFBj2fg6faxsfVfVPD7stN6TwoIDlkOCE4RE+Iin8m3z3eqi/VsTmsmRqBxWDRaqOHz02EJoEDxXJG3ei+UbIIp01XZQvdufm90WxOTuqqan2ZqTPX9K5VdjEh/ovr7xFc5q1dZo+Sa5y4sTVM854/tLU3klOgUKzzSXYPYS3GhBcYJHjwr9xNRHnNX99D6F0g7OijScWfvtjxh13aTv/H0ETvymah4yfDpVdh9cK5YSCPqnuOlsujFAyhYwJXOWDvZZU2EkWVLDhoPx9zp7N4QIDAQABo4IBNDCCATAwEgYDVR0TAQH/BAgwBgEB/wIBADA1BgNVHR8ELjAsMCqgKKAmhiRodHRwOi8vY3JsLmFkb2JlLmNvbS9hZG9iZXJvb3RnMi5jcmwwDgYDVR0PAQH/BAQDAgEGMBQGA1UdJQQNMAsGCSqGSIb3LwEBBzBXBgNVHSAEUDBOMEwGCSqGSIb3LwECAzA/MD0GCCsGAQUFBwIBFjFodHRwczovL3d3dy5hZG9iZS5jb20vbWlzYy9wa2kvcHJvZF9zdmNlX2Nwcy5odG1sMCQGA1UdEQQdMBukGTAXMRUwEwYDVQQDEwxTWU1DLTQwOTYtMzMwHQYDVR0OBBYEFFcpejJNzP7kNU7AHyRzznNTq99qMB8GA1UdIwQYMBaAFKYc4W1UJEyoj0hyv26pjNXk7DHUMA0GCSqGSIb3DQEBCwUAA4ICAQBxzuUHjKbcLdzI4DtlXgCSgZXrlSAkr59pOF3JfPG42qVNAGU7JcEYXJ6+WbfcGwY7WYMl+jO7IvJPb7shXFYW9bnJgxX7lLU14KExchmcLNY1ee6IhBJ2Y8PzZMRUKSd5CkURPg0PBLGjz/KR/DofHx+G4rPTCOGORYxeYrd01lci5hVxvKccvIk7MD69ZTewfZPSM+0WnsU3f0Zmd7hgbRpUyWceG0eHFpdUKK/ZFWhHjDVC28odCnN885tHncKXviItK0ZUUo/AIthFKlhEXsnq9VL9fFbgvO83ZvpUQo5y8mY3cuGnEVGXdhjNb53CfC1u4dbpYmWaN99subUzEsUaUb3loLPfVfzDOpg2y9v37kBdy/wuXr20teY7U62xj/fAgs1QSnhUtlMTfCqbefyEycKVmKIrJkJLsvgTSYKVvH4FFIwfd5WjqOC97jX98rcVAzhAI0iSkazsWOMvL6m0L4nLJapx+85GsVX8Y6AHmEP4bmCElwil6KAP+UewJFiw5rmwV2pESHAhYuZJa03B8tl0nd2QJzvJGmbeBqXqpF9ORinFM3HErK8puRokOjFH2+1asLeI2tB31W/ELdNe27Ogduq6Z6qBwCp59YX27qydDhD0WRfN64kCs25K88iGAGNW2CAfTDS+b+WYJBiIL9jXYZ4LF+BiUvfdu2NwYWRZC70AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPZZAQBKX2Q2ihN2fLDLReHISpfOF0xIqNpOZXbBwZ0XanWG98erbIBdawl7r9nVma/uZjYH457wp00TVpKYUTJHMnzJMKskvM2Df4K6t5pUKGtJqEvMXLUy3g9kJq53aYDwikcUE+8wv+CYtu/+vii4XYSXQIxT4NN+JKoTDXmrNH1G46Nmpfq6SKk0g9GQ2brbkW3fzGR0xDxY3BXRy71guSBxN9TAbQGqUjMnkIyBcwV9wUQ2oCW9oIMNKASjW0CRkcFEzzmrQ+y+zHYpNvUaG7QehHcyhvOec3plzlyP6DZeQWp3PHA5bmonI8t5j6Qj15X1KnQiXuJ0rW+xoMA89aIVmpx4VgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAOSaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA5LjEtYzAwMSA3OS4xNDYyODk5Nzc3LCAyMDIzLzA2LzI1LTIzOjU3OjE0ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjYyYTdmYWExLWJmZTMtMjE0Ny04MjAwLWMxM2NlMGU4ZTc1NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNzRDMUI3RDdBNDAxMUVFQUJGRUFDRUIyQzkwNDc1QiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNzRDMUI3QzdBNDAxMUVFQUJGRUFDRUIyQzkwNDc1QiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjUuMiAoMjAyMzEwMjQubS4yMzc0IDRhYjk0MzkpICAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphYjQzZjNjYy1hNTY4LTRkNGQtOTdiZC1iYjk0YjBlZjhjYmQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjJhN2ZhYTEtYmZlMy0yMTQ3LTgyMDAtYzEzY2UwZThlNzU0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+HNvo5wAADZFJREFUeNrsXFtPVUkW3gc4yP0qDigKON517FFbHRGn1TamjaOJvvhsjIkvPplgfEKe1AefNDE+GP+AmWTszPTYcbpn2piJzc1GWwlOekRBEBFQ7jeZ9ZVrnVkUtfc5CGp3h5VU9qUuu3bVV9+67DonND4+7omEQiHPJaWlpYlxcXGLKX8epTCdB5aXNnHU6c2bN5POcaREp+O9dHxSX1/f5s3KL1ImYCkasMrKyvIISJspD+AyZSTpOrodDSaIBpQCkwtgSM8oVd2/f39M2quoqAijmcrKyjG/l7L77vde+v6sfCRgbdu2LY3AtJNSgg0qDa5oTOViKQtM9nXTgQMHaqmpPEoLKXUQqJpcYIqPj/cSEhLMUZgUbYyNjZkjRPpu50n+VEUvKtditMEb7Xom5OrVqzvpkOXIukFps5XXTunO4cOHR7heKp1/ye1gEX9BCcdv6H4330cbCyh9iXrRgJUQ1FmarFWUIqDS4ApiCT9AobxMpj24uI/209LSvMLCwiLKz6fyQModAlW73TeAac6cOV5SUpIBlasv9qKRvgBYIyMj3tDQkDmPdaLRPzwrHA6bhGsNWr9xsMfEZnC7XDSg+tzv4lRCCRPfjJtHjhzpu3LlCkDVx4BKZICsx9gy4PT4rmFQQbIpdfM5ynX7gWrS/Phl7NixI0SDWCCD52Is14vqAXIByoluAkl+fr43f/58Lyvr7cIaHh4OJSYmfkug6rXZApOamprqUb6vned3X4CBujj29/cbkEl/7EUj74o+og4S2gh6xkypk6mUPXnyZN25c+fCDKzm8vLyOuQzqCAtJ06cuH/+/PkwAytMLCR57VjQFy5cmKeAiXJZGOeLFy/iPBVt4Nqeb60dogKLBm9O/FvxXIwVxBAaUBpgixYt8np7e7329vYJZUtKSkwSefHihVdTU9N2586dXrtfmNj09HQz0dMRvAsYD0dhLryrvG8s7/w+ZCrPcJSdx8duAb+6l0WgWqeu/8uMZMoDWCTr+BpMVoZ8jLUq18XXgdohEFg0cXF6kF2s5Uf9NqBwxL0FCxaYSXz58qWZSNzr6+vzioqKIm01NTV5ZLgbT9HuExgGAzBdUOmJEeb6EKD5AJKt1KJ9TwAFNrpz6tSpljNnzgiQuuh8DbNSNx9HlF0mx26/cbTHLy6AsSKGcVCyjWepJwnS2trqbdiwwZyDJaDyUBbslZmZGTG6Hz9+7D18+NDdUSqTkpIyY6B6V5b4mYsBAIGm27rXR/f+DFXGKm5Ega6P7a5lqvw6sbMIcFkKlCUAI6esQI0QBCwBjxirNqCkDACSkZFhQKLVCSassbHR27Jli6kvsnDhQnN8/vy5t3Hjxsj95ubmSQ6CVoEA5a8IBO+LsSKgoskPKxaC1DKo1mmDXF1/AwAyCO+rNoX1FrANVqLA6V6sfuGGgwcPphBovrCBIuwCgRp7+vSpAUd2dra5bmtrM6pvdHTUu3fvnrGdNHhEbt265XV1dXn79+9/y8V0XltbGwkDkKpsqqqqqhG2AmgBrFn5+Qo0Uyw21gRm0kwCLwqAAgC2b99u2AQCVYWyACtUGkRUoC2bNm0yYBIBe/l5ncKaWmg1hrj/47TCRu32ebUam4LyAweEymK1QG+PUdk3PmXCrGZicrej9e99CD0znvs4NsPtRh2fmMMNLmBBYHgDmTC4ly1bNslWAbhu375tyh06dGgCw2kB+yDEAIEh39HR4RsjE+/NkgJKf0DwlNJ3jkndi2Yo/QXOZ5RxWElpOaUqSk99QLWPErzUr2OcD+j7T+GPUKqZocldyu2mWWbMv1mt4T3q2OObSVnNz46MD49xMfelE85ArOGGiA2FSR0cHDRggVe3fv16Lzc317cXCBeUlZUZu8sVBLUF7YrnaDMWygsjWpLJx1eOvCS8LKX+GFeYdPS1T356wLOC7NcOK/g4HSbaSmku2zZtlo0D6l8U5R2mIxmO91/F79iP8aY+lmhAR2Us09PXr439hAles2ZNoK2Tl5dnwgorV66clHfz5k1v165dk8CFuJYfWwm4/Twgn4FMZqO0U00OPg/lsgck0k3Ae6JACq8HamsAJgPl9fOAzef8VLpey1HtVGXUQoZ45b7QawzgojqpauJNZIYnpEXUFpWZw8ZxMqsdEdgUixlUqPMt1RlygE8mv4jO5/M7tFHZXs4HI+uJG4YFQvldnF+sAPRGjd8SSjl8fzGVG6I6Dxk76GcKl8uOlbESh4eHDVOBpWCcQ/1F88qQv2fPnknlnjx5YsIJOBYXF/9/NqhtANcV8ZbYlc8zswJYJJ8H5Eem7A3WxEYmjdVcigycyltBeV/RsVANbDKDrJnL5jom+Dsa+A5e0WDOn7g/Kx3PR/06qpPDjBS28gG6e6pfDT6gimeV5LF6iqh4focxHo84Ne8hzv8ng2sJA6tfjUedROkZbPkqRhbie8JauTEBi7y6ePncAQaaO3fulKLaWgDQgYEBoxrh+WlgiW3l9znFNtp5IBN5kv0YS6vJYgYVVlU120mfUPot58sqbeaBxJh8zqs7TIN+i573R2aMfykGQD2w21dcfx2DMI3yXjOosLqH6Fr6U8VqDHGhzVw2ns8T2BaTWNMefrc09a7PA1R1iNuuYibZwfXmUB8Qq/qrZa9tZjs1i65fcRswHf5O1zuYgZ7yeG1jdq3SbM9gauFF8yimOBYABaN66dKlUwKVS0TVQT2+evVqgjcIYAWxXxQ12O/jcWUq0MlqvwtQsIeo8zOUWoQHOcCTNMbqQsqPcTARE5PCk/+a64woB6HPYf/JMzq57KgqW8AAaKa8Jn4fbfOlKe92wGeoMq13GFQqdwD95aDmZ5Q+Z9AJwwwoYL5Wn3vqHH2JCOU9pkMjg7jWMgH8GYtspVx8cIwW6QYDrV271rccgATGAkhgm8GTfPDggbd161YTWIUqdLGVnPt4lQKsQQebJTCVj7CNlO4YmAwFlCUaBAo0XVR/nK6T+RqTNh5g7GuwLrTyMxlMfY760r/eKI4J+hJSffA1rlm9o989DK5SLtOmnpOm+pCr6zNoojpJVK6HnxFbuKGiomI5u5hRQVVdXW0+0UjowGa97u6Jn5ewewExMIAN3mA0lepjX8nLgsYXMy2P8SAmWJM6zGoJhnkrr7BEBRwbJLYHJJ/zQ5gwZhx7IkMMkEFWfZF8BcxOFU9zAes33L9+yzERMKLP66nMM8V4HjNFpgPI0r9kft4AmwLjzE4wD0Z58S0OMCvk/RMDgB1zHGtZtIoIgopKe/TokRNYnZ2dzroAIsAFo93Vrq0OAxgLdPZ7TZBsLOtBAl2vZbvqE1VWT4JWM/YkDfJk4P4+GtxqR5l07otrYjMdk6Ydj24ebxjwO23CZ6A+YGegiJOn+vY3xcC9jncY5TwA7E92+zGEW/r5+CnbUjdijbXYbJXs8E6ck11aWmp2G+B7oC1Qc2AsP+AAVHqT3RR3Vd5nQ9dO93hw6ik95hX9H7jonF/PIQBjj7ARC9f5rhUTQrlWrt/L9e/y/XbOq1ce0ihfy0A85useZop6K2gJ8P8A0FACo/7De7tV5Qd4sgIa8QDp2IBoDTNOvU7Mlo1sQ44rwNSzwS3t19l14WWq/tb4qLW76rn3Yp2gSd8KCVjwWMqC1JP6nmei8Ddu3DBRdgmI4jshDHbkByVpQ5+rY9P3339fk5OT46m9RVMNLGLQf2cxdCGff62M3I8m1EcY73nqVg4nhBYe/FK+EwJH+E4cpAozgxoQlhEQwGNctWqVUW2rV6+OGOx++96jbcm193bJBrx3lBQV3NRu8o+xgCrWvervsoddWD8pKamQ40Py9QEM00htNrzrnvxY3yeW/kUTIRlbO7kYa4OlxyMsZG87loQ8Yhdv9+7dJkIPYGk28mOrFStWGOMeux+wdx0foq9fvx7Z3QDGgmeK9D63y8j74D2QpI+unZHTAZdsgJzKxE33vfQzowEuluC3q57eyx/EWBn2DQQ3MdDa9bd/xrV8+fLIpx8beH4/HigoKHgbKi4u9s6ePeuVl5cbYOkOIxwB0M30Bj+0DRDhy4LE7KSfszJ9SbAMd0+5vxEjG6EB+SWMRq3eepycnGwMdq0mfX7aNWHbsrAhovvXrl2bpCKRB2DDSZjuKpd2AVa0qX9EMSszK3GOmEWCjopLgBMJE4GEyZajVh8OA9zJXBpUOL98+bJ37Ngxr6WlRbPbuIABrILPS+8KAtRD/3t6ekzsTBbLLKg+HLC0GrxLkzCmAaWTDSptm0QDGf92cMKvdy5duuQdPXpU6+sB7TAAWFCzOI8VTCiLOoinIeaGNqbyO8JZmXlg3a2srPyJANQqQHIBTIPLBlYQc8GTxM5SAdHevXvNr3NgSylGe2Z7owAG2AZHcSbshHJgOJQDoCSeNgumj2hjMbAMqHBBE/IAv0imiU6AjSUGvN9Pv1z2lAtc2AiILTg4r6mpMfGP48ePew0NDdJGU21t7SuXaysAt3e26l85z7LSx5cJ4YbTp0/PJVBN2G6wb9++PJrAzdif5fpBhTaK/f70I1qygPeMrqvq6upi0nmuPyWZlY8XJPWNY7mEVJX5GyNK8yiFg34J7fM3RYEgIyCN09H8jVF1dfXs3xj9CoD1PwEGAKorJqR4atjIAAAAAElFTkSuQmCC");var e,o=0,s=0,u=[],a=function(i){var n=new Qe.Image;n.src=i,n.onload=function(){u.forEach((function(i){var r,e=new Be({source:n,fitMode:t.ImageFitMode.Stretch});null===(r=i.ov)||void 0===r||r.Be(e),o=n.width,s=n.height,v(i)}))}};a(n);var h,f=function(t){a(t.logoDataURI)};if(i.$a.addEventListener("logochange",f),new Qe.Image instanceof Qe.HTMLImageElement)(c=new Qe.Image).src=n,h=new Be({source:c,fitMode:t.ImageFitMode.Stretch});else if(Qe.lcjs_setup){var c;(c=new Qe.Image).src=n;var l=Qe.lcjs_setup(c.naturalWidth,c.naturalHeight);l.getContext("2d").drawImage(c,0,0),h=new Be({source:l,fitMode:t.ImageFitMode.Stretch})}else h=new _u({color:Cr("#f00")});var v=function(t){if(t.ov){var i=t.Yi.Bi({x:t.Yi.x.getInnerEnd(),y:t.Yi.y.getInnerStart()},{x:-(3+o),y:3}),n=t.Yi.Bi({x:t.Yi.x.getInnerEnd(),y:t.Yi.y.getInnerStart()},{x:-3,y:3+s}),r={x:n.x-i.x,y:n.y-i.y};t.ov.Ee(i).zt(r)}e&&e.vr()};return e=i.mB("logo",Number.MAX_SAFE_INTEGER),function(n){var o={Yi:n};return function(n){var o,s=r&&"cGx1Z2lu"in r&&"cHl0aG9u"===r.cGx1Z2lu?JS:ZS;n.ov&&n.ov.dispose(),e&&(n.ov=e.De(n.Yi).Be(h).setPointerEvents(!0).je(Pe),n.ov.addEventListener("pointerenter",(function(){o=i.fu(t.MouseStyles.Point)})),n.ov.addEventListener("pointerleave",(function(){o=i.cu(o)})),n.ov.addEventListener("click",s),v(n))}(o),u.push(o),{ds:function(){return v(o)},Ft:function(){return function(t){t.ov&&(t.ov.dispose(),t.ov=void 0);var n=u.indexOf(t);n>=0&&u.splice(n,1),u.length<=0&&i.$a.removeEventListener("logochange",f)}(o)}}}},ZS=function(){return Qe.open("https://lightningchart.com/lightningchart-js/")},JS=function(){return Qe.open("https://lightningchart.com/python-charts/")},QS=function(){function t(){this.fD=this.cD.bind(this),Qe.addEventListener("scroll",this.fD,{passive:!0})}return t.prototype.Ft=function(){this.fD&&Qe.removeEventListener("scroll",this.fD),this.fD=void 0},t}(),KS=function(t,i){this.$=t,this.Bt=i,this.lD=!0,this.vD=null,this.dD=null},qS=function(){function t(t){this.yD=!1,this.AD=1,this.bD=t,this.pD={$:o(0,0),Bt:o(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),lD:!0,vD:null,dD:null},this.mD=o(64,64),this.gD=new Uint8ClampedArray(this.mD.x*this.mD.y*this.AD)}return t.prototype.xD=function(t,i){if(!t.lD)return null;if(t.vD&&t.dD){var n=this.xD(t.vD,i);return null!==n?n:this.xD(t.dD,i)}var r,e,u=s(t.Bt.x,t.Bt.y);if(t.$.x+t.Bt.x>=Number.MAX_SAFE_INTEGER&&(u.x=this.mD.x-t.$.x-1),t.$.y+t.Bt.y>=Number.MAX_SAFE_INTEGER&&(u.y=this.mD.y-t.$.y-1),t.Bt.x===i.x&&t.Bt.y===i.y)return t.lD=!1,t;if(u.x<i.x||u.y<i.y)return null;var a=u.x-i.x,h=u.y-i.y,f=a<h;return 0===a&&0===h&&(f=!(t.Bt.x>t.Bt.y)),f?(r=new KS(Ys(t.$,{x:0,y:1}),o(t.Bt.x,i.y)),e=new KS(Ys(t.$,{x:0,y:i.y+1}),o(t.Bt.x,t.Bt.y-1-i.y))):(r=new KS(Ys(t.$,{x:1,y:0}),o(i.x,t.Bt.y)),e=new KS(Ys(t.$,{x:i.x+1,y:0}),o(t.Bt.x-1-i.x,t.Bt.y))),t.vD=r,t.dD=e,this.xD(t.vD,i)},t.prototype.SD=function(t,i){var n={wD:!1,$:null},r=this.xD(this.pD,i);if(null===r)for(;null===r&&this.mD.x<this.bD&&this.mD.y<this.bD;){if(!this.MD(o(2*this.mD.x,2*this.mD.y)))return this.yD=!0,null;n.wD=!0,r=this.xD(this.pD,i)}if(null===r)return this.yD=!0,null;for(var e=0;e<i.y;e+=1)for(var s=0;s<i.x;s+=1){var u=r.$.y+e,a=r.$.x+s;this.gD[u*this.AD*this.mD.x+a*this.AD+0]=t[e*this.AD*i.x+s*this.AD+0]}return n.$=r.$,n},t.prototype.MD=function(t){if(t.x>this.bD||t.y>this.bD)return!1;for(var i=new Uint8ClampedArray(t.x*t.y*this.AD),n=0;n<this.mD.y;n+=1)for(var r=0;r<this.mD.x;r+=1)i[n*t.x*this.AD+r*this.AD+0]=this.gD[n*this.mD.x*this.AD+r*this.AD+0];return this.mD=t,this.gD=i,!0},t}(),$S=function(){return $S=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},$S.apply(this,arguments)},tw=function(){function t(t){this.CD=new Map,this.bD=t,this.CD.set(this.CD.size,new qS(this.bD))}return t.prototype.TD=function(t){return this.CD.get(t)},t.prototype.SD=function(t,i){for(var n=-1,r=Array.from(this.CD.values()),e=0;e<r.length;e+=1){var o=r[e];if(!o)break;if(!o.yD){n=e;break}}-1===n&&(n=this.CD.size,this.CD.set(this.CD.size,new qS(this.bD)));var s=this.CD.get(n);if(!s)return null;var u=s.SD(t,i);if(!u&&s.yD){var a=this.CD.size,h=new qS(this.bD);this.CD.set(a,h),n=a,u=h.SD(t,i)}return u?$S({kD:n},u):null},t}();!function(t){t[t.Fail=0]="Fail",t[t.Success=1]="Success",t[t.Resize=2]="Resize"}(Ox||(Ox={}));var iw=Yo("font-texture"),nw=function(){function t(t){this._D=new Map,this.OD=new Map,this.nn=iw(),this.FD=t,this.ID=new tw(this.FD.jD||4096)}return t.prototype.cl=function(){var t=this;return this.OD.forEach((function(i){t.FD.BD(i)})),this.OD.clear(),this},t.prototype.DD=function(t,i){var n=this._D.get(i);if(n)return n.get(t)},t.prototype.LD=function(t,i,n){var r=this._D.get(i);if(r||(r=new Map,this._D.set(i,r)),r.has(t.glyph))return Ox.Success;var e=this.ID.SD(n,t.size);if(!e||!e.$)return Ox.Fail;e.wD&&this.ED();var o=this.ID.TD(e.kD);if(!o)return Ox.Fail;var s=this.OD.get(e.kD);if(!s){var u=this.FD.gl.createTexture();if(!u)throw new zS("Failed to create texture for font!");s=u,this.OD.set(e.kD,u)}var a=e.$,h=o.mD.x,f=o.mD.y,c=-t.offsetX,l=t.baseline-t.size.y,v=-t.offsetX+t.size.x,d=t.baseline,y=a.x/h,A=(a.y+t.size.y)/f,b=(a.x+t.size.x)/h,p=a.y/f,m=[y,A,b,A,y,p,y,p,b,A,b,p],g=[c,l,v,l,c,d,c,d,v,l,v,d],x={origin:a,size:t.size,advanceX:t.advance,baseline:t.baseline,vertices:g,texCoords:m,packerId:e.kD,texture:s};r.set(t.glyph,x);var S=this.FD.gl;return S.pixelStorei(S.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),S.bindTexture(S.TEXTURE_2D,s),S.texImage2D(S.TEXTURE_2D,0,S.LUMINANCE,o.mD.x,o.mD.y,0,S.LUMINANCE,S.UNSIGNED_BYTE,this.FD.PD?o.gD:new Uint8Array(o.gD)),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.LINEAR),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.LINEAR),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.bindTexture(S.TEXTURE_2D,null),e.wD?Ox.Resize:Ox.Success},t.prototype.ED=function(){var t=this;this._D.forEach((function(i){i.forEach((function(n,r){var e=t.ID.TD(n.packerId);if(e){var o=n.origin,s=e.mD.x,u=e.mD.y,a=o.x/s,h=(o.y+n.size.y)/u,f=(o.x+n.size.x)/s,c=o.y/u,l=[a,h,f,h,a,c,a,c,f,h,f,c];n.texCoords=l,i.set(r,n)}}))}))},t}(),rw=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},ew=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},ow=function(t){return function(i,n){return n%2?i:i+t}},sw=function(){function t(t){this.zD=new Map,this.ND=Yo("font"),this.VD=new Map,this.RD=new Set,this.FD=t}return t.prototype.cl=function(t){var i=this;return void 0===t&&(t=!1),(t||0===this.RD.size)&&(this.zD.forEach((function(t,n){t.cl(),i.zD.delete(n)})),this.RD.clear()),this},t.prototype.zl=function(t){this.RD.add(t)},t.prototype.GD=function(t){this.RD.delete(t)},t.prototype.UD=function(t,i,n,r){for(var e=Qe.devicePixelRatio,o=Bf(i,e),s="".concat(r?"dark":"light"," - ").concat(o.id),u=this.VD.get(s),a=this.zD.get(u),h=0,f=0,c=0,l=t.split(""),v=i.size,d=.45*i.size*e,y=Math.round(1*i.size*e),A=!1,b=0;b<l.length;b+=1){var p=l[b],m=a&&a.DD(p,v);m?(""!==p.trim()&&(f=Math.max(f,m.baseline),h=Math.min(h,m.baseline-(m.size.y-1))),c+=m.advanceX):(""!==p.trim()&&(f=Math.max(f,0),h=Math.min(h,0-(y-1))),c+=d,A=!0)}var g=Ga(c/e,(f-h+1)/e,n);return{x:g.x,y:g.y,isEstimate:A}},t.prototype.YD=function(t,i,n){var r,e,s="".concat(n?"dark":"light"," - ").concat(i.id),u=this.VD.get(s);u||(u=this.ND(),this.zD.set(u,new nw(this.FD)),this.VD.set(s,u));var a=this.zD.get(u);if(!a)throw new zS("Failed to get font texture!");for(var h,c=0,l=0,v=t.split(""),d=new Map,y=0,A=i.properties.size,b=0;b<v.length;b+=1){var p=v[b],m=Math.ceil(y),g=a.DD(p,A);if(!g){var x=this.FD.WD(p,i.properties,i.dpr,n);if(!x)continue;var S=a.LD(x[1],A,x[0]);if(S===Ox.Resize){this.RD.forEach((function(t){t.Hh.o=!0})),b=-1,y=0,l=0,c=0,d.clear(),this.FD.qi.vr(!0);continue}if(S===Ox.Fail)throw new zS("Failed to create glyph");if(!(g=a.DD(p,A)))throw new zS("Failed to get glyph after creation")}if(""!==p.trim()){var w=d.get(g.texture);w||(w={vertices:[],texCoords:[]},d.set(g.texture,w)),(r=w.vertices).push.apply(r,ew([],rw(g.vertices.map(ow(m))),!1)),(e=w.texCoords).push.apply(e,ew([],rw(g.texCoords),!1)),l=Math.max(l,g.baseline),c=Math.min(c,g.baseline-(g.size.y-1))}y+=g.advanceX}h=y;var M=f(o(0,c),o(h,l)),C=[];return d.forEach((function(t,i){C.push({texCoords:new Float32Array(t.texCoords),vertices:new Float32Array(t.vertices),texture:i})})),[C,M]},t}(),uw={roundUnsigned:{XD:"roundUnsigned",HD:"float roundUnsigned(float number) {\n  return floor(number + 0.5);\n}"},linearStep:{XD:"linearStep",HD:"float linearStep(float step0, float step1, float step) {\n  return clamp((step - step0) / (step1 - step0), 0.0, 1.0);\n}"},dither:{XD:"dither",HD:"\nconst mat4x4 bayerMatrix4x4 = mat4x4(\n    0.0,  8.0,  2.0, 10.0,\n    12.0, 4.0,  14.0, 6.0,\n    3.0,  11.0, 1.0, 9.0,\n    15.0, 7.0,  13.0, 5.0\n) / 16.0;\n\nvec4 dither(vec2 pos, vec4 c0, vec4 c1, float s0, float s1, float mixVal)\n{\n    float step = linearStep(s0, s1, mixVal);\n    int x = int(pos.x) % 4;\n    int y = int(pos.y) % 4;\n    float threshold = bayerMatrix4x4[y][x];\n    vec4 color = mix(c0, c1, step * 0.95 + threshold * 0.05);\n    return color;\n}"},decodeUbyteRGBAEncodedFloat:{XD:"decodeUbyteRGBAEncodedFloat",HD:"\n      // Denormalize 8-bit color channels to integers in the range 0 to 255.\n      ivec4 floatsToBytes(vec4 inputFloats, bool littleEndian) {\n        ivec4 bytes = ivec4(inputFloats * 255.0);\n        return (\n          littleEndian\n          ? bytes.abgr\n          : bytes\n        );\n      }\n      \n      // Break the four bytes down into an array of 32 bits.\n      void bytesToBits(const in ivec4 bytes, out bool bits[32]) {\n        for (int channelIndex = 0; channelIndex < 4; ++channelIndex) {\n          float acc = float(bytes[channelIndex]);\n          for (int indexInByte = 7; indexInByte >= 0; --indexInByte) {\n            float powerOfTwo = exp2(float(indexInByte));\n            bool bit = acc >= powerOfTwo;\n            bits[channelIndex * 8 + (7 - indexInByte)] = bit;\n            acc = mod(acc, powerOfTwo);\n          }\n        }\n      }\n      \n      // Compute the exponent of the 32-bit float.\n      float getExponent(bool bits[32]) {\n        const int startIndex = 1;\n        const int bitStringLength = 8;\n        const int endBeforeIndex = startIndex + bitStringLength;\n        float acc = 0.0;\n        int pow2 = bitStringLength - 1;\n        for (int bitIndex = startIndex; bitIndex < endBeforeIndex; ++bitIndex) {\n          acc += float(bits[bitIndex]) * exp2(float(pow2--));\n        }\n        return acc;\n      }\n      \n      // Compute the mantissa of the 32-bit float.\n      float getMantissa(bool bits[32], bool subnormal) {\n        const int startIndex = 9;\n        const int bitStringLength = 23;\n        const int endBeforeIndex = startIndex + bitStringLength;\n        // Leading/implicit/hidden bit convention:\n        // If the number is not subnormal (with exponent 0), we add a leading 1 digit.\n        float acc = float(!subnormal) * exp2(float(bitStringLength));\n        int pow2 = bitStringLength - 1;\n        for (int bitIndex = startIndex; bitIndex < endBeforeIndex; ++bitIndex) {\n          acc += float(bits[bitIndex]) * exp2(float(pow2--));\n        }\n        return acc;\n      }\n      \n      // Parse the float from its 32 bits.\n      float bitsToFloat(bool bits[32]) {\n        float signBit = float(bits[0]) * -2.0 + 1.0;\n        float exponent = getExponent(bits);\n        bool subnormal = abs(exponent - 0.0) < 0.01;\n        float mantissa = getMantissa(bits, subnormal);\n        float exponentBias = 127.0;\n        return signBit * mantissa * exp2(exponent - exponentBias - 23.0);\n      }\n      \n      // Decode a 32-bit float from the RGBA color channels of a texel.\n      float decodeUbyteRGBAEncodedFloat(vec4 rgba, bool littleEndian) {\n        ivec4 rgbaBytes = floatsToBytes(rgba, littleEndian);\n        bool bits[32];\n        bytesToBits(rgbaBytes, bits);\n        return bitsToFloat(bits);\n      }\n      "},texelFetchWithFallback:{webgl2:{XD:"texelFetchWithFallback",HD:"vec4 texelFetchWithFallback(sampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  return texelFetch(textureSampler, iTexel, 0);\n}"},webgl1:{XD:"texelFetchWithFallback",HD:"vec4 texelFetchWithFallback(sampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  vec2 halfTexel = 0.5 / textureSize;\n  return texture2D(textureSampler, (vec2(iTexel) * 2.0 + 1.0) * halfTexel);\n}"}},texelFetchUnsignedWithFallback:{webgl2:{XD:"texelFetchUnsignedWithFallback",HD:"uvec4 texelFetchUnsignedWithFallback(usampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  return texelFetch(textureSampler, iTexel, 0);\n}"},webgl1:{XD:"texelFetchUnsignedWithFallback",HD:"uvec4 texelFetchUnsignedWithFallback(usampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  vec2 halfTexel = 0.5 / textureSize;\n  return texture2D(textureSampler, (vec2(iTexel) * 2.0 + 1.0) * halfTexel);\n}"}},modulus:{XD:"modulus",HD:"int modulus(int a, int b) {\n  return (a)-((a)/(b))*(b);\n}"},computeScreenSpaceWireframe:{XD:"computeScreenSpaceWireframe",HD:"#extension GL_OES_standard_derivatives : enable\nfloat computeScreenSpaceWireframe (vec3 barycentric, float lineWidth) {\n  vec3 dist = fwidth(barycentric);\n  vec3 smoothed = smoothstep(dist * ((lineWidth * 0.5) - 0.5), dist * ((lineWidth * 0.5) + 0.5), barycentric);\n  return 1.0 - min(min(smoothed.x, smoothed.y), smoothed.z);\n}"}},aw="posAxis",hw="posWorld",fw="normal",cw="colorFragment",lw="antiAliasFactor",vw="mousePickingIdOffset",dw="uRatioPxClip",yw="uRatioNwuWu",Aw="uColorTexture",bw="uSizePixels",pw="uOffsetAlignment",mw="uMaskTexture",gw="aNormal",xw="Rot",Sw=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},ww=function(){function t(t){this.modifiers=[],this.modifiers=t}return t.prototype.build=function(t){var i,n,r=this.modifiers.filter((function(t){return Mw(t)}));try{for(var e=Sw(r),o=e.next();!o.done;o=e.next())t=(0,o.value)(t)}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=e.return)&&n.call(e)}finally{if(i)throw i.error}}var s=Qo(this.modifiers.filter((function(t){return Tw(t)})));return"".concat(s.map((function(t){return t.HD})).join("\n"),"\n").concat(t)},t}(),Mw=function(t){return"function"==typeof t},Cw={XD:"ratioPxClip",HD:"uniform vec2 ".concat(dw,";")},Tw=function(t){return t&&"object"==typeof t&&"XD"in t},kw=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return function(i){var n,r;t=t.reverse();try{for(var e=Sw(t),o=e.next();!o.done;o=e.next()){var s=o.value;"string"==typeof s&&(s=(s=s.includes("{")||s.endsWith(";")?s:"".concat(s,";")).trim(),i=i.replace("void main(void)","".concat(s,"\nvoid main(void)")))}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return i}},_w=function(t){return function(i){return t=t.endsWith(";")?t:"".concat(t,";"),i.replace(t,"")}},Ow=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return function(i){for(var n=t.filter((function(t){return t})),r=0;r<n.length;r+=1)n[r]=n[r].endsWith(";")?n[r]:"".concat(n[r],";"),n[r]=n[r].startsWith("\t")?n[r]:"\t".concat(n[r]);var e=n.join("\n");return i.replace("void main(void) {\n","void main(void) {\n".concat(e,"\n"))}},Fw=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return function(n){for(var r=0;r<i.length;r+=1)i[r]=i[r].endsWith(";")?i[r]:"".concat(i[r],";"),i[r]=i[r].startsWith("\t")?i[r]:"\t".concat(i[r]);var e=i.join("\n"),o=new RegExp("(.*".concat(t,".*)")),s=n.replace(o,"".concat(e,"\n$1"));return i.forEach((function(i){if(!s.includes(i))throw new Error("ShaderBefore misusage (not found: \n".concat(i,"\nmatch: \n").concat(t,"\nresult: \n").concat(s,"\n)"))})),s}},Iw=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return function(n){for(var r=i.filter((function(t){return"string"==typeof t})),e=0;e<r.length;e+=1)r[e]=r[e].endsWith(";")?r[e]:"".concat(r[e],";"),r[e]=r[e].startsWith("\t")?r[e]:"\t".concat(r[e]);var o=r.join("\n"),s=n.lastIndexOf(t),u=n.substring(s),a=u.indexOf("\n"),h=u.substring(a),f="".concat(n.substring(0,s+a),"\n").concat(o).concat(h);return r.forEach((function(i){if(!f.includes(i))throw new Error('ShaderAfter misusage (not found: "'.concat(i,'", match: "').concat(t,'", result: "').concat(f,'")'))})),f}},jw=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return function(i){var n,r;try{for(var e=Sw(t),o=e.next();!o.done;o=e.next()){var s=o.value;if("string"==typeof s){s=(s=(s=s.endsWith(";")?s:"".concat(s,";")).trim()).startsWith("\t")?s:"\t".concat(s);var u=i.lastIndexOf("}");i="".concat(i.substring(0,u-1),"\n").concat(s,"\n}")}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return i}},Bw=function(t,i){return function(n){var r,e;if(t.includes("uniform")||t.includes("attribute")){var o=t.endsWith(";")?t:"".concat(t,";");n=kw(o)(n),r=t.split(" ")[2].replace(";","")}else r=t;if(i.includes(" ")){var s=i.endsWith(";")?i:"".concat(i,";");n=kw(s)(n),e=i.split(" ")[2].replace(";","")}else e=i;var u="\t".concat(e," = ").concat(r,";");return jw(u)(n)}},Dw=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return function(i){var n,r;t=t.reverse();try{for(var e=Sw(t),o=e.next();!o.done;o=e.next())i=o.value+i}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return i}},Lw=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Ew=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},Pw=function(t,i){for(var n=i.steps,r=n.length-1,e=[kw("uniform vec4 uFallbackColor")],o=[],s=[],u=0;u<i.steps.length;u+=1)o.push("uniform float uLUTValue".concat(u)),s.push("uniform vec4 uLUTColor".concat(u));return e.push(kw.apply(void 0,Ew(Ew([],Lw(o),!1),Lw(s),!1)),i.percentageValues&&kw("uniform float uMinValue","uniform float uMaxValue")),i.interpolate?e.push(Iw.apply(void 0,Ew(Ew(["".concat(cw," ="),"vec4 colorLookup = uLUTColor0","float value = ".concat(i.percentageValues?"clamp((".concat(t," - uMinValue) / (uMaxValue  - uMinValue), 0.0, 1.0);"):"".concat(t)),"if (value <= ".concat(Ve,") {\n                    colorLookup = uFallbackColor;\n                }"),"if (value >= uLUTValue".concat(r,") {\n                    colorLookup = uLUTColor").concat(r,";\n                }")],Lw(n.slice(0,-1).map((function(t,i){return"if (value >= uLUTValue".concat(i," && value <= uLUTValue").concat(i+1,") {\ncolorLookup = uLUTColor").concat(i," + vec4(uLUTColor").concat(i+1,".r -  uLUTColor").concat(i,".r, uLUTColor").concat(i+1,".g -  uLUTColor").concat(i,".g, uLUTColor").concat(i+1,".b -  uLUTColor").concat(i,".b, uLUTColor").concat(i+1,".a -  uLUTColor").concat(i,".a) * (value - uLUTValue").concat(i,")/(uLUTValue").concat(i+1," - uLUTValue").concat(i,");} ")}))),!1),["".concat(cw," = colorLookup")],!1))):e.push(Iw("".concat(cw," ="),"vec4 colorLookup = vec4(uLUTValue0)","float value = ".concat(i.percentageValues?"clamp((".concat(t," - uMinValue) / (uMaxValue  - uMinValue), 0.0, 1.0);"):"".concat(t)),"if (".concat(t," <= ").concat(Ve,") {\n                    colorLookup = uFallbackColor;\n                } else if (").concat(t," < uLUTValue0) { colorLookup = uLUTColor0;} ").concat(n.slice().reverse().map((function(t){var i=n.indexOf(t);return"else if (value >= uLUTValue".concat(i,") { colorLookup = uLUTColor").concat(i,";} ")})).join("")),"".concat(cw," = colorLookup"))),e},zw=[kw("uniform sampler2D ".concat(mw)),kw("varying vec2 vMaskTextureCoord"),Iw("".concat(lw," ="),"vec4 maskTextureSample = texture2D(".concat(mw,", vMaskTextureCoord)"),"".concat(lw," = maskTextureSample.r"))],Nw=[kw("uniform sampler2D ".concat(mw)),kw("varying vec2 vMaskTextureCoord"),Iw("".concat(lw," ="),"vec4 maskTextureSample = texture2D(".concat(mw,", vMaskTextureCoord)"),"".concat(lw," = maskTextureSample.a"))],Vw=[kw("varying vec3 vPosWorld;","varying vec3 vNormal;","uniform vec3 uCameraLoc;","uniform vec3 uLightLoc;","uniform vec4 uLightColor;","uniform vec4 uAmbientColor;","uniform float uShininess;","uniform float uAmbientReflection;","uniform float uDiffuseReflection;","uniform float uSpecularReflection;"),Iw("".concat(cw," ="),"float ambientReflection = uAmbientReflection","float diffuseReflection = uDiffuseReflection","float specularReflection = uSpecularReflection","vec3 ambientColor = uAmbientColor.rgb","vec3 diffuseColor = ".concat(cw,".rgb"),"vec3 specularColor = uLightColor.rgb","vec3 vNormalNormalized = normalize(vNormal)","vNormalNormalized = (float(gl_FrontFacing) * 2.0 - 1.0) * vNormalNormalized","vec3 lightDir = normalize( uLightLoc - vPosWorld )","float lambertian = abs(dot(vNormalNormalized, lightDir))","float specular = 0.0","vec3 R =  reflect(-lightDir, vNormalNormalized)","vec3 V = normalize(uCameraLoc - vPosWorld)","float specAngle = max(dot(R,V),0.0)","specular = pow(specAngle, uShininess)","".concat(cw," = vec4(ambientReflection * ambientColor + diffuseReflection * lambertian * diffuseColor + specularReflection * specular * specularColor, ").concat(cw,".a)"))],Rw=function(t){for(var i,n,r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];if("linear-highPrecision"!==t||0===r.length)return{vertexShaderModifiers:[],fragmentShaderModifiers:[]};var o=r[0];return{vertexShaderModifiers:[kw("varying vec4 d"),jw("d = vec4(".concat(r[0],".x, ").concat(r[0],".y, ").concat(null!==(i=r[1])&&void 0!==i?i:o,".x, ").concat(null!==(n=r[1])&&void 0!==n?n:o,".y)"))],idFragment:"hpfix",fragmentShaderModifiers:[kw("varying vec4 d"),jw("if (d.z == -100.0 + d.z / 10.0) { gl_FragColor = d; }")]}},Gw=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uw=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Yw=function(t){function i(i,n,r){return t.call(this,"Dynamic shader generation error\n(id: ".concat(n,")\n ").concat(r?"when applying feature: ".concat(r.idVertex?"vert: ".concat(r.idVertex):""," ").concat(r.idFragment?"frag: ".concat(r.idFragment):""):""," | ").concat(i))||this}return Gw(i,t),i}(Error),Ww=function(){for(var t,i,n,r,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var s="";try{for(var u=Uw(e),a=u.next();!a.done;a=u.next()){var h=a.value;if("object"==typeof h)for(var f=[{prefix:"",obj:h}];f.length>0;){var c=f.shift(),l=c.prefix,v=c.obj;s+="".concat(l,":");var d=Object.keys(v).sort();try{for(var y=(n=void 0,Uw(d)),A=y.next();!A.done;A=y.next()){var b=A.value,p=v[b];"object"==typeof p&&p.__proto__===Object.prototype||Array.isArray(p)?f.push({prefix:b,obj:p}):s+="".concat(b,"=").concat(String(p),",")}}catch(t){n={error:t}}finally{try{A&&!A.done&&(r=y.return)&&r.call(y)}finally{if(n)throw n.error}}}else s+="".concat(String(h),",")}}catch(i){t={error:i}}finally{try{a&&!a.done&&(i=u.return)&&i.call(u)}finally{if(t)throw t.error}}return s},Xw=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},Hw=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},Zw=function(t){return void 0!==t.find((function(t){var i;return null===(i=t.ZD)||void 0===i?void 0:i.JD}))},Jw=function(t){return void 0!==t.find((function(t){var i;return null===(i=t.ZD)||void 0===i?void 0:i.QD}))},Qw=function(t,i){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var e=[],o=i?"vec3":"vec2",s=t.axisWorldTranslation,u=t.scaling,a=t.translation,h=t.flipXY,f=t.flipXZ,c=t.offsets,l=t.splitPosAttribute,v=t.normalSource,d=[];"attribute"===v&&e.push(kw("attribute vec3 ".concat(gw)),Ow("vec3 ".concat(fw," = ").concat(gw))),"linear-highPrecision"!==s?n.forEach((function(t){void 0!==t.attributeNameAxisCoord&&void 0!==t.variableNameAxisCoord&&(!0!==l?d.push("".concat(o," ").concat(t.variableNameAxisCoord," = ").concat(t.attributeNameAxisCoord)):d.push("".concat(o," ").concat(t.variableNameAxisCoord," = ").concat(i?"vec3(".concat(t.attributeNameAxisCoord,"X, ").concat(t.attributeNameAxisCoord,"Y, ").concat(t.attributeNameAxisCoord,"Z)"):"vec2(".concat(t.attributeNameAxisCoord,"X, ").concat(t.attributeNameAxisCoord,"Y)"))))})):n.forEach((function(i){!0!==t.splitPosAttribute?d.push("".concat(o," ").concat(i.variableNameAxisCoord,"_highpart = ").concat(i.attributeNameAxisCoord,"_highpart"),"".concat(o," ").concat(i.variableNameAxisCoord,"_lowpart = ").concat(i.attributeNameAxisCoord,"_lowpart")):d.push("".concat(o," ").concat(i.variableNameAxisCoord,"_highpart = vec2(").concat(i.attributeNameAxisCoord,"_highpartX, ").concat(i.attributeNameAxisCoord,"_highpartY)"),"".concat(o," ").concat(i.variableNameAxisCoord,"_lowpart = vec2(").concat(i.attributeNameAxisCoord,"_lowpartX, ").concat(i.attributeNameAxisCoord,"_lowpartY)"))}));var y=function(t){var i,n,r;if(t)try{for(var e=We(t),o=e.next();!o.done;o=e.next()){var s=(null==(r=o.value)?void 0:r.rotation)&&r.rotation.dataType;if(void 0!==s&&!1!==s)return s}}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=e.return)&&n.call(e)}finally{if(i)throw i.error}}}(c);if("attribute-deg"===y&&e.push(kw("attribute float aRotDeg"),kw("uniform float uBaseRotDeg")),"attribute"===y&&e.push(kw("attribute vec2 aRot")),"uniform"===y&&e.push(kw("uniform vec2 uRot")),null==c||c.forEach((function(t){if(t&&t.rotation){var i=t.rotation.dataType,n="uniform"===i?"u":"a";if("attribute-deg"===i){var r=t.directionVar,o="c".concat(xw);e.push(Ow("vec2 ".concat(t.directionVar,"Rot = vec2(").concat(r,".x * ").concat(o,".y + ").concat(r,".y * ").concat(o,".x, ").concat(r,".y * ").concat(o,".y - ").concat(r,".x * ").concat(o,".x)")))}else o="".concat(n).concat(xw),r=t.directionVar,e.push(Ow("vec2 ".concat(t.directionVar,"Rot = vec2(").concat(r,".x * ").concat(o,".y + ").concat(r,".y * ").concat(o,".x, ").concat(r,".y * ").concat(o,".y - ").concat(r,".x * ").concat(o,".x)")))}})),null==c?void 0:c.find((function(t){return(null==t?void 0:t.rotation)&&"attribute-deg"===t.rotation.dataType}))){var A="c".concat(xw);e.push(Ow("vec2 ".concat(A," = vec2(sin((aRotDeg + uBaseRotDeg) * 0.01745329252), cos((aRotDeg + uBaseRotDeg) * 0.01745329252))")))}if(c&&c.forEach((function(t){t&&!0!==t.skipAddDefinition&&e.push(kw("attribute ".concat(o," ").concat(t.directionVar)))})),!0===h){if("linear-highPrecision"===s)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + flipXY");n.forEach((function(t){d.push("".concat(t.variableNameAxisCoord," = ").concat(i?"vec3(".concat(t.variableNameAxisCoord,".y, ").concat(t.variableNameAxisCoord,".x, ").concat(t.variableNameAxisCoord,".z)"):"vec2(".concat(t.variableNameAxisCoord,".y, ").concat(t.variableNameAxisCoord,".x)")))}))}if(!0===f){if("linear-highPrecision"===s)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + flipXZ");n.forEach((function(t){d.push("".concat(t.variableNameAxisCoord," = ").concat("vec3(".concat(t.variableNameAxisCoord,".z, ").concat(t.variableNameAxisCoord,".y, ").concat(t.variableNameAxisCoord,".x)")))}))}if(u){if("linear-highPrecision"===s)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + scaling");var b="attribute"===u.dataType?"a":"u",p="".concat(b,"Scaling"),m=i?"vec3":"vec2";e.push(kw("".concat(u.dataType," ").concat(m," ").concat(p))),n.forEach((function(t){d.push("".concat(t.variableNameAxisCoord," = ").concat(t.variableNameAxisCoord," * ").concat(p))}))}if(a&&"axis"===a.sizeUnit){if("linear-highPrecision"===s)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + translation (axis)");var g="attribute"===a.dataType?"a":"u",x="".concat(g,"TranslationAxis"),S=i?"vec3":"vec2";e.push(kw("".concat(a.dataType," ").concat(S," ").concat(x))),n.forEach((function(t){d.push("".concat(t.variableNameAxisCoord," = ").concat(t.variableNameAxisCoord," + ").concat(x))}))}if(null==c||c.forEach((function(t){if(t&&"axis"===t.sizeUnit){if("linear-highPrecision"===s)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + offset (axis)");var r="attribute"===t.dataType?"a":"u",u="".concat(r,"OffsetAxis"),a=!0===t.symmetric?"float":o;e.push(kw("".concat(t.dataType," ").concat(a," ").concat(u)));var h=t.halved?" * 0.5":"",f=t.rotation?"".concat(t.directionVar,"Rot"):t.directionVar,c="offsetGeometry";d.push("".concat(o," ").concat(c," = ").concat(u," * ").concat(f).concat(h," * sign(uScale)")),i&&"gpu-calculate"===v&&d.push("".concat(o," ").concat(fw," = ").concat(f)),n.forEach((function(t){d.push("".concat(t.variableNameAxisCoord," = ").concat(t.variableNameAxisCoord," + ").concat(c))}))}})),void 0===s||"linear"===s)e.push(kw("uniform ".concat(o," uDisp"),"uniform ".concat(o," uScale"))),n.forEach((function(t){d.push("".concat(o," ").concat(t.variableNameWorldCoord," = (").concat(t.variableNameAxisCoord," - uDisp) / uScale"))}));else if("linear-highPrecision"===s)e.push(kw("uniform ".concat(o," uDisp"),"uniform ".concat(o," uScale"),"uniform ".concat(o," uScaleStart_highpart"),"uniform ".concat(o," uScaleStart_lowpart"))),n.forEach((function(t){d.push("".concat(o," ").concat(t.variableNameAxisCoord,"_hprecision = (").concat(t.variableNameAxisCoord,"_highpart - uScaleStart_highpart) + (").concat(t.variableNameAxisCoord,"_lowpart - uScaleStart_lowpart)"),"".concat(o," ").concat(t.variableNameWorldCoord," = (").concat(t.variableNameAxisCoord,"_hprecision - uDisp) / uScale"),"".concat(o," ").concat(t.variableNameAxisCoord," = ").concat(t.variableNameAxisCoord,"_highpart + ").concat(t.variableNameAxisCoord,"_lowpart"))}));else if("matrix"===s)e.push(kw("uniform mat3 uMatrix")),n.forEach((function(t){d.push("vec2 ".concat(t.variableNameWorldCoord," = (uMatrix * vec3(").concat(t.variableNameAxisCoord,", 1.0)).xy"))}));else if("matrix4"===s)e.push(kw("uniform mat4 uMatrix")),n.forEach((function(t){d.push("vec4 ".concat(t.variableNameWorldCoord," = uMatrix * ").concat(t.attributeNameAxisCoord))}));else if("logarithmic"===s[0]){e.push(kw("uniform ".concat(o," uScaleStart"),"uniform ".concat(o," uScaleStartLog"),"uniform ".concat(o," uScaleInterval"),"uniform ".concat(o," uScaleIntervalLog"),"uniform ".concat(o," uViewportStart"),"uniform ".concat(o," uViewportSize")));var w=i?["x","y","z"]:["x","y"],M=[];w.forEach((function(t){var i=s[1][t];if(void 0!==i){var n=i.base;if("e"===n)return;var r=su(n),e="cLog".concat(n),o="float ".concat(e," = 1.0 / log(").concat(r.toFixed(1),")");M.includes(o)||M.push(o)}})),e.push(kw.apply(void 0,Hw([],Xw(M),!1))),n.forEach((function(t,i){var n="".concat(i),r=[];w.forEach((function(i){var e=i.toUpperCase(),o=s[1][i];if(void 0===o)d.push("float posPercent".concat(e).concat(n," = (").concat(t.variableNameAxisCoord,".").concat(i," - uScaleStart.").concat(i,") / uScaleInterval.").concat(i));else{var u=o.base,a="e"===u;d.push("float posLog".concat(e).concat(n," = log(").concat(t.variableNameAxisCoord,".").concat(i,")").concat(a?"":" * cLog".concat(u)),"float posPercent".concat(e).concat(n," = (posLog").concat(e).concat(n," - uScaleStartLog.").concat(i,") / uScaleIntervalLog.").concat(i))}r.push("posPercent".concat(e).concat(n))})),d.push("".concat(o," ").concat(t.variableNameWorldCoord," = uViewportStart + ").concat(o,"(").concat(r.join(", "),") * uViewportSize"))}))}return null==c||c.forEach((function(t){if(t&&"px"===t.sizeUnit){e.push(Cw);var r="vec2(0.0, 0.0)";if(t.useAlignment&&(e.push(kw("uniform vec2 ".concat(pw))),r=pw),n.find((function(t){return t.overrideOffsetPixels})))n.forEach((function(t){d.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(t.overrideOffsetPixels," * ").concat(dw))}));else{var s="".concat(t.directionVar,"Amount"),u=!0===t.symmetric?"float":o;e.push(kw("".concat(t.dataType," ").concat(u," ").concat(s)));var a,h=t.halved?" * 0.5":"";if(!1!==t.useGeometry){var f=t.rotation?"".concat(t.directionVar,"Rot"):t.directionVar;a="(".concat(f," + ").concat(r,") * ").concat(s).concat(h," * ").concat(dw)}else a="".concat(s).concat(h," * ").concat(dw);n.forEach((function(t){d.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(a))}))}}if(t&&"scale"===t.sizeUnit){e.push(Cw),e.push(kw("uniform vec2 ".concat(bw))),r="vec2(0.0, 0.0)",t.useAlignment&&(e.push(kw("uniform vec2 ".concat(pw))),r=pw);var c="".concat("uniform"===t.dataType?"u":"a","OffsetScale");e.push(kw("".concat(t.dataType," float ").concat(c))),f=t.rotation?"".concat(t.directionVar,"Rot"):t.directionVar;var l="(".concat(f," + ").concat(r,") * ").concat(c," * ").concat(bw," * ").concat(dw);n.forEach((function(t){d.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(l))}))}if(t&&"wu"===t.sizeUnit){var y="attribute"===t.dataType?"a":"u",A=(c="".concat(y,"OffsetWU"),!0===t.symmetric?"float":o);e.push(kw("".concat(t.dataType," ").concat(A," ").concat(c))),h=t.halved?" * 0.5":"",f=t.rotation?"".concat(t.directionVar,"Rot"):t.directionVar;var b="offsetGeometry";d.push("".concat(o," ").concat(b," = ").concat(c," * ").concat(f).concat(h)),i&&"gpu-calculate"===v&&d.push("".concat(o," ").concat(fw," = normalize(").concat(b,")")),n.forEach((function(t){d.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(b))}))}if(t&&"nwu"===t.sizeUnit){e.push(kw("uniform float ".concat(yw))),y="attribute"===t.dataType?"a":"u",c="".concat(y,"OffsetNWU"),A=!0===t.symmetric?"float":o,e.push(kw("".concat(t.dataType," ").concat(A," ").concat(c))),h=t.halved?" * 0.5":"",f=t.rotation?"".concat(t.directionVar,"Rot"):t.directionVar;var p="offsetGeometry";d.push("".concat(o," ").concat(p," = ").concat(c," * ").concat(f).concat(h)),i&&"gpu-calculate"===v&&d.push("".concat(o," ").concat(fw," = normalize(").concat(p,")")),n.forEach((function(t){d.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(p," * ").concat(yw))}))}})),t.snapToNearestPixel&&(e.push(kw("uniform vec2 uViewportSizePx")),n.forEach((function(t){d.push("".concat(t.variableNameWorldCoord," = 2.0 * floor(((").concat(t.variableNameWorldCoord," + 1.0) * 0.5) * uViewportSizePx + 0.5) / uViewportSizePx - 1.0"))}))),e.push(Fw.apply(void 0,Hw(["gl_Position ="],Xw(d),!1))),e},Kw=function(t,i,n,r){var e=[],o=t.axisWorldTranslation,s=i?"vec3":"vec2";if("linear"===o)e.push(Iw(n,"".concat(s," ").concat(r," = ").concat(n," * uScale + uDisp")));else if("linear-highPrecision"===o)e.push(Iw(n,"".concat(s," ").concat(r," = ").concat(n," * uScale + uDisp + uScaleStart_highpart + uScaleStart_lowpart")));else{if("matrix"===o)throw new Error("transformWorldCoordBackToAxis | unimplemented vertex location type");if("matrix4"===o)throw new Error("transformWorldCoordBackToAxis | unimplemented vertex location type");if("logarithmic"!==o[0])throw new Error("transformWorldCoordBackToAxis | unimplemented vertex location type");var u=i?["x","y","z"]:["x","y"],a=["".concat(s," ").concat(n,"_percent = (").concat(n," - uViewportStart) / uViewportSize")];u.forEach((function(t){var i=t.toUpperCase(),r=o[1][t];if(void 0===r)a.push("float pos".concat(i,"Back = ").concat(n,"_percent.").concat(t," * uScaleInterval.").concat(t," + uScaleStart.").concat(t));else{var e=r.base,s="e"===e?"1.0":"cLog".concat(e);a.push("float pos".concat(i,"Back = pow(2.71828, (").concat(n,"_percent.").concat(t," * uScaleIntervalLog.").concat(t," + uScaleStartLog.").concat(t,") / ").concat(s,")"))}})),a.push("".concat(s," ").concat(r," = ").concat(s,"(posXBack, posYBack").concat(i?", posZBack":"",")")),e.push(Iw.apply(void 0,Hw([n],Xw(a),!1)))}return e},qw=function(t){return function(t){return void 0!==t.find((function(t){var i;return null===(i=t.ZD)||void 0===i?void 0:i.KD}))}(t)?[_w("attribute vec4 aColor"),_w("vColor = aColor"),kw("attribute vec4 aColorA"),kw("attribute vec4 aColorB"),jw("vColor = mix(aColorA, aColorB, aSegmentSide)")]:[]},$w=function(t){return function(t){return void 0!==t.find((function(t){var i;return null===(i=t.ZD)||void 0===i?void 0:i.qD}))}(t)?[_w("attribute float aLookupValue"),_w("vLookupValue = aLookupValue"),kw("attribute float aLookupValueA"),kw("attribute float aLookupValueB"),jw("vLookupValue = mix(aLookupValueA, aLookupValueB, aSegmentSide)")]:[]},tM=function(){return tM=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},tM.apply(this,arguments)},iM=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},nM=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},rM={"2D":{idFeature:"2D",apply:function(t){return{idVertex:"2D",idFragment:"2D",defaultVertexShader:"2D",defaultFragmentShader:"FragmentShader"}}},"2DCompose":{idFeature:"2DCompose",apply:function(t){return{idVertex:"2DCompose",idFragment:"2DCompose",defaultVertexShader:"2DMatrix",defaultFragmentShader:"Empty"}}},"3D":{idFeature:"3D",ZD:{JD:!0},apply:function(t){return{idVertex:"3D",idFragment:"3D",defaultVertexShader:"3D",defaultFragmentShader:"FragmentShader"}}},PointSize:function(t){return{idFeature:"PointSize",apply:function(i){var n="uniform"===t?"u":"a";return{idVertex:"SizePrimitive:".concat(Ww(t)),idFragment:void 0,vertexShaderModifiers:[kw("".concat(t," float ").concat(n,"PointSize"),"uniform float uDevicePixelRatio"),jw("gl_PointSize = ".concat(n,"PointSize * uDevicePixelRatio"))]}}}},Color:function(i){var n=i&&i.dataType,r=i&&i.maskTextureText,e=i&&i.maskTexture,o=i&&i.overrideOpacity;return{idFeature:"Color",ZD:{QD:!(!Array.isArray(i.dataType)||"value"===i.dataType[1])||void 0,qD:!(!Array.isArray(i.dataType)||"value"!==i.dataType[1])||void 0,KD:"attribute"===i.dataType||void 0},apply:function(s,u){var a,h,f="Color:".concat(Ww(i)),c=[],l="FragmentShader",v=[];if("uniform"===n)v.push.apply(v,nM(nM([kw("uniform vec4 uColor"),Iw("".concat(cw," ="),"".concat(cw," = uColor"))],iM(r?zw:[]),!1),iM(e?Nw:[]),!1));else if("attribute"===n)a="colorAttribute",c.push(Bw("attribute vec4 aColor","varying vec4 vColor")),v.push.apply(v,nM(nM([kw("varying vec4 vColor"),Iw("".concat(cw," ="),"".concat(cw," = vColor"))],iM(r?zw:[]),!1),iM(e?Nw:[]),!1));else if("texture"===n)a="colorTexCoord",c.push(Bw("attribute vec2 aTextureCoord","varying vec2 vTextureCoord")),v.push.apply(v,nM(nM([kw("varying vec2 vTextureCoord"),kw("uniform sampler2D ".concat(Aw)),kw("uniform vec4 uColor"),Iw("".concat(cw," ="),"".concat(cw," = texture2D(").concat(Aw,", vTextureCoord)"),"if(vTextureCoord.x < 0. || vTextureCoord.x > 1. || vTextureCoord.y < 0. || vTextureCoord.y > 1.) {\n                        ".concat(cw," = uColor;\n                    }"))],iM(r?zw:[]),!1),iM(e?Nw:[]),!1));else if("texture-coord-calc-gpu"===n)a="colorTexCoord",l="Empty",c.push(kw("attribute vec2 aTextureCoord"),kw("varying vec2 vTextureCoord"),jw("vTextureCoord = gl_Position.xy * 0.5 + 0.5")),v.push(kw("varying vec2 vTextureCoord"),kw("uniform sampler2D ".concat(Aw)),Ow("vec4 ".concat(cw," = texture2D(").concat(Aw,", vTextureCoord)"),"gl_FragColor = ".concat(cw,";")));else if(Array.isArray(n)&&"image"===n[0])a="colorTexCoord",c.push(Bw("attribute vec2 aTextureCoord","varying vec2 vTextureCoord")),n[1].fitMode===t.ImageFitMode.Tile?v.push(kw("uniform sampler2D ".concat(Aw)),kw("varying vec2 vTextureCoord"),Iw("".concat(cw," ="),"".concat(cw," = texture2D(").concat(Aw,", vTextureCoord);"))):v.push(kw("uniform sampler2D ".concat(Aw)),kw("varying vec2 vTextureCoord"),kw("uniform vec4 uColor"),Iw("".concat(cw," ="),"".concat(cw," = texture2D(").concat(Aw,", vTextureCoord);"),"if(vTextureCoord.x < 0. || vTextureCoord.x > 1. || vTextureCoord.y < 0. || vTextureCoord.y > 1.){\n                                ".concat(cw," = uColor;\n                            }")));else if(Array.isArray(n)&&"lookup"===n[0]){var d=n[1];if("value"===d)a="lookup:value",c.push(Bw("attribute float aLookupValue","varying float vLookupValue"));else{var y="".concat(aw,".").concat(d);a="lookup:".concat(d),c.push(Bw(y,"varying float vLookupValue"))}v.push.apply(v,nM(nM(nM([kw("varying float vLookupValue")],iM(Pw("vLookupValue",n[2])),!1),iM(r?zw:[]),!1),iM(e?Nw:[]),!1))}else if(Array.isArray(n)&&"gradient"===n[0]){var A=n[1],b=A.getColorStops();if(Nr(A)){var p="webgl2"===u&&!!((h=A)&&"object"==typeof h&&"type"in h&&"fillstyle"===h.type&&"fillType"in h&&"radial-gradient"===h.fillType&&!0===h.ditheringEnabled);f="rgradient".concat(b.length,",").concat(e,",").concat(r,",").concat(p),v.push.apply(v,nM(nM([kw("uniform vec4 uBounds","uniform vec2 uCenter","uniform vec2 uDistance","uniform float uAspect"),kw.apply(void 0,nM([],iM(eo(b.map((function(t,i){return["uniform vec4 color_".concat(i),"uniform float stop_".concat(i)]})))),!1)),uw.linearStep,p?uw.dither:void 0,Iw.apply(void 0,nM(nM(["".concat(cw," ="),"vec2 uv = vec2((((gl_FragCoord.x)-uBounds.x)/(uBounds.z))*uAspect,((gl_FragCoord.y)-uBounds.y)/(uBounds.w))","float mixVal = distance(uv/uDistance, uCenter/uDistance)",p?"vec4 color = dither(gl_FragCoord.xy, color_0, color_1, stop_0, stop_1, mixVal)":"vec4 color = mix(color_0, color_1, linearStep(stop_0, stop_1, mixVal))"],iM(b.map((function(t,i){return i<2?"":p?"color = dither(gl_FragCoord.xy, color, color_".concat(i,", stop_").concat(i-1,", stop_").concat(i,", mixVal);"):"color = mix(color, color_".concat(i,", linearStep(stop_").concat(i-1,", stop_").concat(i,", mixVal));")}))),!1),["".concat(cw," = color")],!1))],iM(r?zw:[]),!1),iM(e?Nw:[]),!1))}else Rr(A)&&(f="lgradient".concat(b.length,",").concat(e,",").concat(r),v.push.apply(v,nM(nM([kw("uniform vec4 uBounds","uniform vec2 uStartPoint","uniform vec2 uEndPoint"),kw.apply(void 0,nM([],iM(eo(b.map((function(t,i){return["uniform vec4 color_".concat(i),"uniform float stop_".concat(i)]})))),!1)),uw.linearStep,Iw.apply(void 0,nM(nM(["".concat(cw," ="),"vec2 uv = gl_FragCoord.xy - uBounds.xy","float magnitude = ((uv.x-uStartPoint.x) * (uEndPoint.x-uStartPoint.x) + (uv.y-uStartPoint.y) * (uEndPoint.y-uStartPoint.y)) / (pow(uEndPoint.x - uStartPoint.x, 2.0) + pow(uEndPoint.y-uStartPoint.y,2.0))","vec4 color = mix(color_0, color_1, linearStep(stop_0, stop_1, magnitude))"],iM(b.map((function(t,i){return i<2?"":"color = mix(color, color_".concat(i,", linearStep(stop_").concat(i-1,", stop_").concat(i,", magnitude))")}))),!1),["".concat(cw," = color")],!1))],iM(r?zw:[]),!1),iM(e?Nw:[]),!1)))}if(r||e){var m="maskTexture";a=a?"".concat(a," ").concat(m):"Color:".concat(m),c.push(Bw("attribute vec2 aMaskTextureCoord","varying vec2 vMaskTextureCoord"))}return o&&v.push(kw("uniform float uOpacity"),Iw("".concat(cw," ="),"".concat(cw,".a *= uOpacity"))),{vertexShaderModifiers:c,fragmentShader:l,fragmentShaderModifiers:v,idVertex:a,idFragment:f}}}},ColorShaded3D:function(t){var i=t.dataType,n=t.shadingStyle,r=t.wireframe,e=n,o="ColorShaded3D:".concat(Ww(t));return{idFeature:"ColorShaded3D",ZD:{QD:!(!Array.isArray(t.dataType)||"value"===t.dataType[1])||void 0,qD:!(!Array.isArray(t.dataType)||"value"!==t.dataType[1])||void 0},apply:function(t,s){var u=[],a=[];if(u.push("phong"===n&&Bw(fw,"varying vec3 vNormal"),Bw(hw,"varying vec3 vPosWorld")),"uniform"===i)a.push(kw("uniform vec4 uColorDiffuse"),Iw("".concat(cw," ="),"".concat(cw," = uColorDiffuse")));else if("attribute"===i)e+=",per-vertex-color",u.push(Bw("attribute vec4 aColor","varying vec4 vColor")),a.push(kw("varying vec4 vColor"),Iw("".concat(cw," ="),"".concat(cw," = vColor")));else if(Array.isArray(i)){var h=i[1];if("value"===h)e+=",lookup:value",u.push(Bw("attribute float aLookupValue","varying float vLookupValue"));else{var f="".concat(aw,".").concat(h);e+=",lookup:".concat(h),u.push(Bw(f,"varying float vLookupValue"))}a.push.apply(a,nM([kw("varying float vLookupValue")],iM(Pw("vLookupValue",i[2])),!1))}return r&&(e+=",wireframe",u.push(Bw("attribute vec3 aTriangleBary","varying vec3 vTriangleBary")),a.push(kw("varying vec3 vTriangleBary"),kw("uniform vec4 uWireframeColor","uniform float uWireframeThickness"),uw.computeScreenSpaceWireframe,Iw("".concat(cw," ="),"float edge = computeScreenSpaceWireframe(vTriangleBary, uWireframeThickness)","".concat(cw," = mix(").concat(cw,", uWireframeColor, edge)")))),"phong"===n&&a.push.apply(a,nM([],iM(Vw),!1)),{idVertex:e,idFragment:o,vertexShaderModifiers:u,fragmentShader:"FragmentShader",fragmentShaderModifiers:a}}}},VertexLocation:function(t){return{idFeature:"VertexLocation",apply:function(i){var n=Rw(t.axisWorldTranslation,"posAxis_hprecision"),r=[],e=Zw(i),o=t.coordType?t.coordType:e?"vec3":"vec2";return t.isInstanceRectangleRendering?r.push(kw("attribute vec2 aRectCorner","attribute vec2 aMemberStart","attribute vec2 aMemberEnd"),Ow("vec2 aPos = mix(aMemberStart, aMemberEnd, aRectCorner)")):"linear-highPrecision"!==t.axisWorldTranslation?!0!==t.splitPosAttribute?r.push(kw("attribute ".concat(o," aPos"))):r.push(kw("attribute float aPosX"),kw("attribute float aPosY"),e&&kw("attribute float aPosZ")):!0===t.splitPosAttribute?r.push(kw("attribute float aPos_highpartX"),kw("attribute float aPos_lowpartX"),kw("attribute float aPos_highpartY"),kw("attribute float aPos_lowpartY")):r.push(kw("attribute ".concat(o," aPos_highpart")),kw("attribute ".concat(o," aPos_lowpart"))),r.push.apply(r,nM([],iM(Qw(t,e,{attributeNameAxisCoord:"aPos",variableNameAxisCoord:"vec4"===t.coordType?void 0:aw,variableNameWorldCoord:hw})),!1)),r.push.apply(r,nM([],iM(n.vertexShaderModifiers),!1)),{idVertex:"VertexLocation:".concat(Ww(t)),idFragment:n.idFragment,vertexShaderModifiers:r,fragmentShaderModifiers:n.fragmentShaderModifiers}}}},Model3D:function(t){return{idFeature:"Model3D",apply:function(i){var n=[];return n.push.apply(n,nM(nM(nM([kw("attribute vec3 aGeoPos"),kw("uniform mat4 uModelRotation"),kw("uniform mat4 uModelRotationNormals"),kw("uniform vec3 uLocationAxis"),kw("uniform vec3 uModelAlignment"),kw("uniform vec3 uModelScale"),kw("uniform vec3 uModelSize")],iM(Qw({axisWorldTranslation:"linear",normalSource:t.normalSource},!0,{attributeNameAxisCoord:"uLocationAxis",variableNameAxisCoord:"locationAxis",variableNameWorldCoord:"locationWorld"})),!1),[Fw("gl_Position =","vec3 posWorld = locationWorld + ((uModelRotation * vec4(aGeoPos, 1.0)).xyz  - (uModelAlignment + 1.0) * uModelSize/2.0) * uModelScale;"),"attribute"===t.normalSource&&Iw("vec3 ".concat(fw," =")," ".concat(fw," = (uModelRotationNormals * vec4(").concat(fw,", 1.0)).xyz;"))],!1),iM(Jw(i)?Kw({axisWorldTranslation:"linear",normalSource:t.normalSource},!0,hw,aw):[]),!1)),{vertexShaderModifiers:n,idVertex:"Model3D:".concat(Ww(t)),idFragment:void 0}}}},LineInstanced2D:function(t){var i=Rw(t.axisWorldTranslation,"locationA_hprecision","locationB_hprecision"),n=t.offsets&&t.offsets[0];return{idFeature:"LineInstanced2D",apply:function(r){return{idVertex:"LineInstanced2D:".concat(Ww(t)),idFragment:i.idFragment,vertexShaderModifiers:nM(nM(nM(nM(nM(nM(nM(nM([kw("uniform float uThicknessPixels"),Cw],iM("linear-highPrecision"!==t.axisWorldTranslation&&!0!==t.splitPosAttribute?[kw("attribute vec2 aLocationA"),kw("attribute vec2 aLocationB")]:"linear-highPrecision"===t.axisWorldTranslation&&!0!==t.splitPosAttribute?[kw("attribute vec2 aLocationA_highpart"),kw("attribute vec2 aLocationB_highpart"),kw("attribute vec2 aLocationA_lowpart"),kw("attribute vec2 aLocationB_lowpart")]:"linear-highPrecision"!==t.axisWorldTranslation&&!0===t.splitPosAttribute?[kw("attribute float aLocationAX"),kw("attribute float aLocationAY"),kw("attribute float aLocationBX"),kw("attribute float aLocationBY")]:"linear-highPrecision"===t.axisWorldTranslation&&!0===t.splitPosAttribute?[kw("attribute float aLocationA_highpartX"),kw("attribute float aLocationA_highpartY"),kw("attribute float aLocationB_highpartX"),kw("attribute float aLocationB_highpartY"),kw("attribute float aLocationA_lowpartX"),kw("attribute float aLocationA_lowpartY"),kw("attribute float aLocationB_lowpartX"),kw("attribute float aLocationB_lowpartY")]:[]),!1),[kw("attribute vec2 aSegmentPosition"),kw("attribute float aSegmentSide"),n&&kw("attribute vec2 ".concat(n.directionVar,"A"),"attribute vec2 ".concat(n.directionVar,"B"))],!1),iM(Qw(tM(tM({},t),{offsets:n?[tM(tM({},n),{skipAddDefinition:!0})]:[]}),!1,{attributeNameAxisCoord:"aLocationA",variableNameAxisCoord:"locationA",variableNameWorldCoord:"worldA",overrideOffsetPixels:n?"".concat(n.directionVar,"A"):void 0},{attributeNameAxisCoord:"aLocationB",variableNameAxisCoord:"locationB",variableNameWorldCoord:"worldB",overrideOffsetPixels:n?"".concat(n.directionVar,"B"):void 0})),!1),[t.ensureMinimumSegmentLength&&kw("uniform vec2 uMinSegmentPixelVector"),Iw("worldB = ",t.ensureMinimumSegmentLength&&"float segmentLengthPixels = sqrt(pow(worldB.x - worldA.x, 2.0) + pow(worldB.y - worldA.y, 2.0)) / length(uRatioPxClip)",t.ensureMinimumSegmentLength&&"if (segmentLengthPixels == 0.0 || segmentLengthPixels < length(uMinSegmentPixelVector)) {\n                            worldB = worldA + uMinSegmentPixelVector * uRatioPxClip;\n                        }","vec2 directionBasis = worldB - worldA","vec2 directionBasisNorm = normalize(directionBasis)","vec2 perpendBasisNorm = vec2(-directionBasisNorm.y, directionBasisNorm.x)","vec2 offset = mix(worldA, worldB, aSegmentSide)","vec2 thicknessDirection = aSegmentPosition.x * directionBasisNorm + aSegmentPosition.y * perpendBasisNorm","vec2 ".concat(hw," = offset + thicknessDirection * uThicknessPixels * ").concat(dw))],!1),iM($w(r)),!1),iM(qw(r)),!1),iM(Jw(r)?Kw(tM(tM({},t),{offsets:n?[tM(tM({},n),{skipAddDefinition:!0})]:[]}),!1,hw,aw):[]),!1),iM(i.vertexShaderModifiers),!1),fragmentShaderModifiers:i.fragmentShaderModifiers}}}},Area2D:function(t){return{idFeature:"Area2D",apply:function(i){var n=Rw(t.axisWorldTranslation,"locationA_hprecision","locationB_hprecision");return{idVertex:"Area2D:".concat(Ww(t)),idFragment:n.idFragment,vertexShaderModifiers:nM(nM(nM(nM(nM(nM(nM(nM([],iM("linear-highPrecision"!==t.axisWorldTranslation&&!0!==t.splitPosAttribute?[kw("attribute vec2 aLocationA"),kw("attribute vec2 aLocationB")]:"linear-highPrecision"===t.axisWorldTranslation&&!0!==t.splitPosAttribute?[kw("attribute vec2 aLocationA_highpart"),kw("attribute vec2 aLocationB_highpart"),kw("attribute vec2 aLocationA_lowpart"),kw("attribute vec2 aLocationB_lowpart")]:"linear-highPrecision"!==t.axisWorldTranslation&&!0===t.splitPosAttribute?[kw("attribute float aLocationAX"),kw("attribute float aLocationAY"),kw("attribute float aLocationBX"),kw("attribute float aLocationBY")]:"linear-highPrecision"===t.axisWorldTranslation&&!0===t.splitPosAttribute?[kw("attribute float aLocationA_highpartX"),kw("attribute float aLocationA_highpartY"),kw("attribute float aLocationB_highpartX"),kw("attribute float aLocationB_highpartY"),kw("attribute float aLocationA_lowpartX"),kw("attribute float aLocationA_lowpartY"),kw("attribute float aLocationB_lowpartX"),kw("attribute float aLocationB_lowpartY")]:[]),!1),[kw("attribute float aCurveOrBaseline"),kw("attribute float aSegmentSide")],!1),iM(Qw(t,!1,{attributeNameAxisCoord:"aLocationA",variableNameAxisCoord:"locationA",variableNameWorldCoord:"worldA"},{attributeNameAxisCoord:"aLocationB",variableNameAxisCoord:"locationB",variableNameWorldCoord:"worldB"})),!1),[Iw("worldB = ","vec2 posCoord = mix(worldA, worldB, aSegmentSide)","".concat("bottom"===t.fill?"float baseline = min(posCoord.y, -1.0)":"top"===t.fill?"float baseline = max(posCoord.y, 1.0)":"left"===t.fill?"float baseline = min(posCoord.x, -1.0)":"float baseline = max(posCoord.x, 1.0)"),"vec2 ".concat(hw," = ").concat("bottom"===t.fill||"top"===t.fill?"vec2(posCoord.x, mix(posCoord.y, baseline, aCurveOrBaseline))":"vec2(mix(posCoord.x, baseline, aCurveOrBaseline), posCoord.y)"))],!1),iM($w(i)),!1),iM(qw(i)),!1),iM(Jw(i)?Kw(t,!1,hw,aw):[]),!1),iM(n.vertexShaderModifiers),!1),fragmentShaderModifiers:n.fragmentShaderModifiers}}}},LineInstanced3D:function(t){return{idFeature:"LineInstanced3D",apply:function(i){return{idVertex:"LineInstanced3D:".concat(Ww(t)),idFragment:void 0,defaultFragmentShader:"FragmentShader",vertexShaderModifiers:nM(nM(nM([kw("uniform float uOffsetWU"),kw("attribute vec3 aLocationA"),kw("attribute vec3 aLocationB"),kw("attribute float aSegmentPosition"),kw("attribute float aPerpendHorizontal"),kw("attribute float aPerpendVertical")],iM(Qw({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},Zw(i),{attributeNameAxisCoord:"aLocationA",variableNameAxisCoord:"locationA",variableNameWorldCoord:"worldA"},{attributeNameAxisCoord:"aLocationB",variableNameAxisCoord:"locationB",variableNameWorldCoord:"worldB"})),!1),[Iw("worldB = ","vec3 directionBasis = worldB - worldA","vec3 directionBasisNorm = normalize(directionBasis)","vec3 notParallel = normalize(mix( vec3( 0.0, 1.0, 0.0 ), vec3( 0.2, 0.8, 0.0 ), step( abs(directionBasis.y), 0.9 ) ))","vec3 horizontalBasis = normalize( cross( notParallel, directionBasisNorm ) )","vec3 verticalBasis = normalize( cross( horizontalBasis, directionBasisNorm ) )","vec3 ".concat(fw," = aPerpendHorizontal * horizontalBasis + aPerpendVertical * verticalBasis"),"vec3 ".concat(hw," = worldA + aSegmentPosition * directionBasis + ").concat(fw," * uOffsetWU * 0.5"))],!1),iM(Jw(i)?Kw({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},!0,hw,aw):[]),!1)}}}},RoundedEdges3D:{idFeature:"RoundedEdges3D",apply:function(t){return{idVertex:"RoundedEdges3D",idFragment:void 0,vertexShaderModifiers:[kw("attribute vec3 aEdge"),kw("uniform float uEdgeRoundness"),Iw("".concat(hw," ="),"vec3 boxSizeWorld = abs( aOffsetAxis / uScale )","float boxMinDimensionWorldXZ = min( boxSizeWorld.x, boxSizeWorld.z )","vec3 edgeRoundAmount = uEdgeRoundness * vec3( boxMinDimensionWorldXZ, min( boxMinDimensionWorldXZ, boxSizeWorld.y ), boxMinDimensionWorldXZ )","".concat(hw," = ").concat(hw," + aEdge * edgeRoundAmount"))]}}},ColorGrid2D:function(t){var i=t.flipXY,n=t.intensityTextureType,r=t.littleEndian,e=t.aggregation;return{idFeature:"ColorGrid2D",apply:function(o,s){return{idVertex:void 0,idFragment:"ColorGrid2D:".concat(Ww(t)),fragmentShader:"FragmentShader",fragmentShaderModifiers:nM([kw("uniform vec4 uTileBounds","uniform vec2 uTileDimensions","uniform sampler2D uTileIntensityValues",e&&"uniform vec2 uAggregationWindowSize"),"ubyte"===n&&uw.decodeUbyteRGBAEncodedFloat,"bilinear"===t.interpolation?Ow("vec2 cellSizePx = uTileBounds.zw / (uTileDimensions - 1.0)","vec2 cellIndex = (gl_FragCoord.xy - uTileBounds.xy) / cellSizePx","vec2 cellStart = floor(cellIndex)","vec2 cellEnd = ceil(cellIndex)","vec2 cellStartNormalized = cellStart / (uTileDimensions - 1.0)","vec2 cellEndNormalized = cellEnd / (uTileDimensions - 1.0)","vec4 sample00 = texture2D(uTileIntensityValues, ".concat(i?"cellStartNormalized":"vec2(cellStartNormalized.y, cellStartNormalized.x)",")"),"vec4 sample01 = texture2D(uTileIntensityValues, ".concat(i?"vec2(cellStartNormalized.x, cellEndNormalized.y)":"vec2(cellStartNormalized.y, cellEndNormalized.x)",")"),"vec4 sample10 = texture2D(uTileIntensityValues, ".concat(i?"vec2(cellEndNormalized.x, cellStartNormalized.y)":"vec2(cellEndNormalized.y, cellStartNormalized.x)",")"),"vec4 sample11 = texture2D(uTileIntensityValues, ".concat(i?"cellEndNormalized":"vec2(cellEndNormalized.y, cellEndNormalized.x)",")"),"float intensity00 = ".concat("float"===n?"sample00.x":"decodeUbyteRGBAEncodedFloat(sample00, ".concat(r,")")),"float intensity01 = ".concat("float"===n?"sample01.x":"decodeUbyteRGBAEncodedFloat(sample01, ".concat(r,")")),"float intensity10 = ".concat("float"===n?"sample10.x":"decodeUbyteRGBAEncodedFloat(sample10, ".concat(r,")")),"float intensity11 = ".concat("float"===n?"sample11.x":"decodeUbyteRGBAEncodedFloat(sample11, ".concat(r,")")),"vec2 lerpFactors = cellIndex - cellStart","float intensityR1 = mix(intensity00, intensity10, ".concat(i?"lerpFactors.x":"lerpFactors.y",")"),"float intensityR2 = mix(intensity01, intensity11, ".concat(i?"lerpFactors.x":"lerpFactors.y",")"),"float intensityP = mix(intensityR1, intensityR2,  ".concat(i?"lerpFactors.y":"lerpFactors.x",")")):Ow.apply(void 0,nM(["vec2 cellSizePx = uTileBounds.zw / (uTileDimensions)","vec2 cellIndex = (gl_FragCoord.xy - uTileBounds.xy) / cellSizePx","vec2 cellIndexNormalized = cellIndex / uTileDimensions"],iM(e?["float intensityP = ".concat("max"===e?"-":"","340282346638528859811704183484516925440.0"),"for (float dy = -uAggregationWindowSize.y; dy <= uAggregationWindowSize.y; dy++) {\n                                            for (float dx = -uAggregationWindowSize.x; dx <= uAggregationWindowSize.x; dx++) {\n                                                vec2 offset = vec2(dx, dy) / uTileDimensions;\n                                                vec2 coord = ".concat(i?"offset":"vec2(offset.y, offset.x)"," + ").concat(i?"cellIndexNormalized":"vec2(cellIndexNormalized.y, cellIndexNormalized.x)",";\n                                                vec4 sample0 = texture2D(uTileIntensityValues, coord);\n                                                float intensity0 = ").concat("float"===n?"sample0.x;":"decodeUbyteRGBAEncodedFloat(sample0, ".concat(r,";"),"\n                                                intensityP = ").concat("max"===e?"max":"min","(intensityP, intensity0);\n                                            }\n                                        }")]:["vec4 sample0 = texture2D(uTileIntensityValues, ".concat(i?"cellIndexNormalized":"vec2(cellIndexNormalized.y, cellIndexNormalized.x)",")"),"float intensityP = ".concat("float"===n?"sample0.x":"decodeUbyteRGBAEncodedFloat(sample0, ".concat(r,")"))]),!1))],iM(Pw("intensityP",t.lut)),!1)}}}},DrawToNormalTexture:function(t){var i=t.flipXZ,n=t.vertexIdSource,r=t.normalTextureType,e=t.heightmapTextureType,o=t.littleEndian;return{idFeature:"DrawToNormalTexture",apply:function(s,u){var a=[],h=[];return a.push(kw("uniform ivec2 uTileDimensions","uniform vec2 uTileDimensionsXZ","uniform vec2 uTileStartLocationAxisXZ","uniform vec2 uTileSizeAxisXZ","uniform sampler2D uHeightmapTexture","uint"===r?"flat varying uvec3 vNormalRGB":"varying vec3 vNormalRGB","attribute"===n&&"attribute float aVertexID"),void 0!==n&&uw.roundUnsigned,uw.modulus,uw.texelFetchWithFallback[u],"ubyte"===e&&uw.decodeUbyteRGBAEncodedFloat,Ow(void 0===n?"int iVertex = gl_VertexID":"int iVertex = int(roundUnsigned(aVertexID))","int iSecondary = modulus(iVertex, (uTileDimensions.y - 1))","int iPrimary = iVertex / (uTileDimensions.y - 1)","vec2 iCell = vec2(float(iPrimary), float(iSecondary))","vec2 uTileDimensionsMinus1 = vec2(uTileDimensions) - 1.0","vec2 halfTexelWorld = 2.0 / (uTileDimensionsMinus1 * 2.0)","vec2 posWorld = vec2(-1.0 + halfTexelWorld.y + iCell.y * 2.0 * halfTexelWorld.y, -1.0 + halfTexelWorld.x + iCell.x * 2.0 * halfTexelWorld.x)","vec2 cellSizeAxis = uTileSizeAxisXZ / (uTileDimensionsXZ - 1.0)","vec3 posAxis0 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell.".concat(i?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===e?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(o,")")," ,\n                            uTileStartLocationAxisXZ.y + iCell.").concat(i?"x":"y"," * cellSizeAxis.y\n                        )"),"vec2 iCell1 = iCell + vec2(1.0, 0.0)","vec3 posAxis1 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell1.".concat(i?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===e?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell1.y, iCell1.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell1.y, iCell1.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(o,")"),",\n                            uTileStartLocationAxisXZ.y + iCell1.").concat(i?"x":"y"," * cellSizeAxis.y\n                        )"),"vec2 iCell2 = iCell + vec2(0.0, 1.0)","vec3 posAxis2 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell2.".concat(i?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===e?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell2.y, iCell2.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell2.y, iCell2.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(o,")"),",\n                            uTileStartLocationAxisXZ.y + iCell2.").concat(i?"x":"y"," * cellSizeAxis.y\n                        )"),"vec2 iCell3 = iCell + vec2(1.0, 1.0)","vec3 posAxis3 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell3.".concat(i?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===e?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell3.y, iCell3.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell3.y, iCell3.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(o,")"),",\n                            uTileStartLocationAxisXZ.y + iCell3.").concat(i?"x":"y"," * cellSizeAxis.y\n                        )"),"vec3 normal = normalize(cross(posAxis2 - posAxis0, posAxis1 - posAxis0) + cross(posAxis1 - posAxis3, posAxis2 - posAxis3))","uint"===r?"vNormalRGB = uvec3(((normal / 2.0) + 0.5) * float(-1u))":"vNormalRGB = (normal / 2.0) + 0.5","gl_PointSize = 1.0")),h.push(kw("uint"===r?"flat varying uvec3 vNormalRGB":"varying vec3 vNormalRGB"),Ow("uint"===r?"gl_FragColor = uvec4(vNormalRGB, -1u)":"gl_FragColor = vec4(vNormalRGB, 1.0)")),{idVertex:"DrawToNormalTexture:".concat(Ww(t)),idFragment:"DrawToNormalTexture:".concat(Ww(t)),vertexShaderModifiers:a,fragmentShaderModifiers:h,fragmentShader:"Empty",hints:["uint"===r&&{type:"fragOutput",fragOutput:"uvec4"}]}}}},SurfaceGrid:function(t){var i=t.fillColor,n=t.interpolation,r=t.flipXZ,e=t.shadingStyle,o=t.wireframe,s=t.normalTextureType,u=t.heightmapTextureType,a=t.intensityTextureType,h=t.littleEndian;return{idFeature:"SurfaceGrid",ZD:{$D:!0},apply:function(f,c){var l=[],v=[];return l.push(kw("attribute vec2 aGeoCellOffset","uniform int uBaseInstance","uniform ivec2 uTileDimensions","uniform vec2 uTileDimensionsXZ","uniform vec2 uTileStartLocationAxisXZ","uniform vec2 uTileSizeAxisXZ","uniform sampler2D uHeightmapTexture"),uw.modulus,uw.texelFetchWithFallback[c],"ubyte"===u&&uw.decodeUbyteRGBAEncodedFloat,Ow("int iSecondary = modulus(iInstance + uBaseInstance, (uTileDimensions.y - 1))","int iPrimary = (iInstance + uBaseInstance) / (uTileDimensions.y - 1)","vec2 iCell = vec2(float(iPrimary), float(iSecondary))","vec2 iCellVertex = iCell + aGeoCellOffset","vec2 uTileDimensionsMinus1 = vec2(float(uTileDimensions.x), float(uTileDimensions.y)) - 1.0","vec2 ySampleCoordinate = vec2(iCellVertex.y, iCellVertex.x) / vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x)","float y = ".concat("float"===u?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCellVertex.y, iCellVertex.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCellVertex.y, iCellVertex.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(h,")")),"vec2 cellSizeAxis = uTileSizeAxisXZ / (uTileDimensionsXZ - 1.0)","vec2 posAxisXZ = uTileStartLocationAxisXZ + cellSizeAxis * ".concat(r?"vec2(iCellVertex.y, iCellVertex.x)":"iCellVertex"),"vec3 posAxis = vec3(posAxisXZ.x, y, posAxisXZ.y)")),l.push.apply(l,nM([],iM(Qw({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},!0,{attributeNameAxisCoord:void 0,variableNameAxisCoord:aw,variableNameWorldCoord:hw})),!1)),"phong"===e&&l.push.apply(l,nM(nM([Bw(hw,"varying vec3 vPosWorld")],iM("uint"===s?[uw.texelFetchUnsignedWithFallback[c],jw("vec4 normalAxisRGB = vec4(texelFetchUnsignedWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))) / float(-1u)")]:[jw("vec4 normalAxisRGB = texelFetchWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))")]),!1),[jw("vec3 normalAxis = (normalAxisRGB.rgb * 2.0) - 1.0","vNormal = normalize(normalAxis * uScale)"),kw.apply(void 0,nM(["varying vec3 vNormal"],iM("uint"===s?["uniform usampler2D uNormalmapTexture"]:["uniform sampler2D uNormalmapTexture"]),!1))],!1)),v.push(kw("varying vec3 vTriangleBary")),"uniform"===i?v.push(kw("uniform vec4 uColorDiffuse"),Iw("".concat(cw," ="),"".concat(cw," = uColorDiffuse"))):Array.isArray(i)&&"lookup"===i[0]&&("value"===i[1]?(l.push(Bw("".concat(aw,".xz"),"varying vec2 vVertexLocationAxisXZ")),v.push.apply(v,nM([kw("uniform vec4 uTileBoundsAxisXZ","uniform vec2 uTileDimensionsXZ","varying vec2 vVertexLocationAxisXZ","uniform sampler2D uTileIntensityValues","uniform mat4 uViewProjectionMatrix","uniform vec3 uScale","uniform vec3 uDisp"),"ubyte"===a&&uw.decodeUbyteRGBAEncodedFloat,"bilinear"===n?Ow("vec2 cellSizeAxisXZ = uTileBoundsAxisXZ.zw / (uTileDimensionsXZ - 1.0)","vec2 cellIndex = (vVertexLocationAxisXZ - uTileBoundsAxisXZ.xy) / cellSizeAxisXZ","vec2 cellStart = floor(cellIndex)","vec2 cellEnd = ceil(cellIndex)","vec2 cellStartNormalized = cellStart / (uTileDimensionsXZ - 1.0)","vec2 cellEndNormalized = cellEnd / (uTileDimensionsXZ - 1.0)","vec4 sample00 = texture2D(uTileIntensityValues, ".concat(r?"cellStartNormalized":"vec2(cellStartNormalized.y, cellStartNormalized.x)",")"),"vec4 sample01 = texture2D(uTileIntensityValues, ".concat(r?"vec2(cellStartNormalized.x, cellEndNormalized.y)":"vec2(cellStartNormalized.y, cellEndNormalized.x)",")"),"vec4 sample10 = texture2D(uTileIntensityValues, ".concat(r?"vec2(cellEndNormalized.x, cellStartNormalized.y)":"vec2(cellEndNormalized.y, cellStartNormalized.x)",")"),"vec4 sample11 = texture2D(uTileIntensityValues, ".concat(r?"cellEndNormalized":"vec2(cellEndNormalized.y, cellEndNormalized.x)",")"),"float intensity00 = ".concat("float"===a?"sample00.x":"decodeUbyteRGBAEncodedFloat(sample00, ".concat(h,")")),"float intensity01 = ".concat("float"===a?"sample01.x":"decodeUbyteRGBAEncodedFloat(sample01, ".concat(h,")")),"float intensity10 = ".concat("float"===a?"sample10.x":"decodeUbyteRGBAEncodedFloat(sample10, ".concat(h,")")),"float intensity11 = ".concat("float"===a?"sample11.x":"decodeUbyteRGBAEncodedFloat(sample11, ".concat(h,")")),"vec2 lerpFactors = cellIndex - cellStart","float intensityR1 = mix(intensity00, intensity10, ".concat(r?"lerpFactors.x":"lerpFactors.y",")"),"float intensityR2 = mix(intensity01, intensity11, ".concat(r?"lerpFactors.x":"lerpFactors.y",")"),"float intensityP = mix(intensityR1, intensityR2,  ".concat(r?"lerpFactors.y":"lerpFactors.x",")")):Ow("vec2 cellSizeAxisXZ = uTileBoundsAxisXZ.zw / (uTileDimensionsXZ - 1.0)","vec2 cellIndex = floor((vVertexLocationAxisXZ - uTileBoundsAxisXZ.xy) / cellSizeAxisXZ)","vec2 cellIndexNormalized = cellIndex / (uTileDimensionsXZ - 1.0)","vec4 sample0 = texture2D(uTileIntensityValues, ".concat(r?"cellIndexNormalized":"vec2(cellIndexNormalized.y, cellIndexNormalized.x)",")"),"float intensityP = sample0.x")],iM(Pw("intensityP",i[2])),!1))):(l.push(Bw("".concat(aw,".").concat(i[1]),"varying float vLookupValue")),v.push.apply(v,nM([kw("varying float vLookupValue")],iM(Pw("vLookupValue",i[2])),!1)))),"phong"===e&&v.push.apply(v,nM([],iM(Vw),!1)),o&&(l.push(kw("attribute vec3 aTriangleBary"),Bw("aTriangleBary","varying vec3 vTriangleBary")),v.push(kw("uniform vec4 uWireframeColor","uniform float uWireframeThickness"),uw.computeScreenSpaceWireframe,Iw("".concat(cw," ="),"float edge = computeScreenSpaceWireframe(vTriangleBary, uWireframeThickness)",i?"if (edge > 0.0) {\n                                    ".concat(cw," = vec4(mix(").concat(cw,".rgb, uWireframeColor.rgb, edge * uWireframeColor.a), max(").concat(cw,".a, uWireframeColor.a));\n                                }"):"if (edge > 0.0) {\n                                    ".concat(cw," = uWireframeColor;\n                                  } else {\n                                      discard;\n                                  }")))),{idVertex:"SurfaceGrid:".concat(Ww(t)),idFragment:"SurfaceGrid:".concat(Ww(t)),vertexShaderModifiers:l,fragmentShader:"FragmentShader",fragmentShaderModifiers:v}}}},DebugSurfaceGridNormals:function(t){return{idFeature:"DebugSurfaceGridNormals",apply:function(i,n){return{idVertex:"DebugSurfaceGridNormals:".concat(Ww(t)),idFragment:"DebugSurfaceGridNormals:".concat(Ww(t)),vertexShaderModifiers:nM(nM(nM([kw.apply(void 0,nM(["attribute float aNormalArrow","uniform int uBaseInstance","uniform ivec2 uTileDimensions","uniform vec2 uTileDimensionsXZ","uniform vec2 uTileStartLocationAxisXZ","uniform vec2 uTileSizeAxisXZ","uniform sampler2D uHeightmapTexture","attribute"===t.instanceIdSource&&"attribute float aInstanceID"],iM("uint"===t.normalTextureType?["uniform usampler2D uNormalmapTexture"]:["uniform sampler2D uNormalmapTexture"]),!1)),uw.roundUnsigned,uw.modulus,uw.texelFetchWithFallback[n],"ubyte"===t.heightmapTextureType&&uw.decodeUbyteRGBAEncodedFloat,Ow.apply(void 0,nM(nM([void 0===t.instanceIdSource?"int iInstance = gl_InstanceID":"int iInstance = int(roundUnsigned(aInstanceID))","iInstance = iInstance + uBaseInstance","int iSecondary = modulus(iInstance, (uTileDimensions.y - 1))","int iPrimary = iInstance / (uTileDimensions.y - 1)","vec2 iCell = vec2(float(iPrimary), float(iSecondary))","vec2 uTileDimensionsMinus1 = vec2(float(uTileDimensions.x), float(uTileDimensions.y)) - 1.0","float y00 = ".concat("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y01 = ".concat("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y10 = ".concat("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y11 = ".concat("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y = (y00 + y01 + y10 + y11) / 4.0","vec2 cellSizeAxis = uTileSizeAxisXZ / (uTileDimensionsXZ - 1.0)","vec2 posAxisXZ = uTileStartLocationAxisXZ + cellSizeAxis * (0.5 + ".concat(t.flipXZ?"vec2(iCell.y, iCell.x)":"iCell",")"),"vec3 posAxis = vec3(posAxisXZ.x, y, posAxisXZ.y)"],iM("uint"===t.normalTextureType?["vec4 normalAxisRGB = vec4(texelFetchUnsignedWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))) / float(-1u)"]:["vec4 normalAxisRGB = texelFetchWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))"]),!1),["vec3 normalAxis = (normalAxisRGB.rgb * 2.0) - 1.0","vec3 normalWorld = normalize(normalAxis * uScale)"],!1))],iM("uint"===t.normalTextureType?[uw.texelFetchUnsignedWithFallback[n]]:[]),!1),iM(Qw({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},!0,{attributeNameAxisCoord:void 0,variableNameAxisCoord:aw,variableNameWorldCoord:hw})),!1),[Iw("posWorld =","vec3 dirArrow = normalWorld","vec3 posArrowStart = posWorld","vec3 posArrowEnd = posWorld + dirArrow * 0.010","vec3 notParallel = normalize(mix( vec3( 0.0, 1.0, 0.0 ), vec3( 0.2, 0.8, 0.0 ), step( abs(dirArrow.y), 0.9 ) ))","vec3 dirArrowLeft = normalize(-dirArrow + 0.50 * normalize(cross(dirArrow, notParallel)))","vec3 dirArrowRight = normalize(-dirArrow + 0.50 * normalize(cross(notParallel, dirArrow)))","vec3 posArrowLeft = posArrowEnd + dirArrowLeft * 0.0025","vec3 posArrowRight = posArrowEnd + dirArrowRight * 0.0025","if (aNormalArrow == 0.0) {\n                        posWorld = posArrowStart;\n                    } else if (aNormalArrow == 1.0) {\n                        posWorld = posArrowEnd;\n                    } else if (aNormalArrow == 2.0) {\n                        posWorld = posArrowLeft;\n                    } else if (aNormalArrow == 3.0) {\n                        posWorld = posArrowRight;\n                    }")],!1),fragmentShader:"FragmentShader",fragmentShaderModifiers:[jw("gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0)")]}}}},OffsetTowardsCamera:function(){return{idFeature:"OffsetTowardsCamera",apply:function(t){return{idVertex:"OffsetTowardsCamera",idFragment:void 0,vertexShaderModifiers:[kw("uniform vec3 uCameraLoc"),Iw("posWorld =","posWorld = posWorld + normalize(uCameraLoc) * 0.0025")]}}}},AliasedEdge:{idFeature:"AliasedEdge",apply:function(t){return{idVertex:"AliasedEdge",idFragment:"AliasedEdge",vertexShaderModifiers:[kw("attribute float aSegmentInside"),kw("varying float vSegmentInside"),kw("varying float vSegmentSide"),Iw("gl_Position = ","\n                vSegmentInside = aSegmentInside;\n                vSegmentSide = aSegmentSide;\n                ")],fragmentShaderModifiers:[Dw("#extension GL_OES_standard_derivatives : enable"),kw("uniform float uAALimit"),kw("varying float vSegmentInside"),kw("varying float vSegmentSide"),Iw("".concat(lw," = "),"\n                float dist = (uAALimit - vSegmentInside);\n                vec2 ddist = vec2(dFdx(dist), dFdy(dist));\n                float pixelDist = dist / length(ddist);\n                // additional blurring\n                pixelDist *= 0.5;\n\n                float aa = clamp(0.5 - pixelDist, 0.0, 1.0);\n                if((vSegmentSide <= 0.0 || vSegmentSide >= 1.0) && aa <=0.99){\n                    aa *= 0.5;\n                }\n                ".concat(lw," = aa;\n                "))]}}},Glow1D:function(t){return{idFeature:"Glow1D",apply:function(){for(var i=Math.round(t.spreadPx),n=Math.round(t.blurPx),r=i+n,e=t.firstPass,o=[],s=-r;s<=r;s+=1){var u=Math.abs(s);o.push(e?{x:s.toFixed(1),y:"0.0",distPx:u.toFixed(1)}:{x:"0.0",y:s.toFixed(1),distPx:u.toFixed(1)})}return{idVertex:"Glow1D:".concat(Ww(t)),idFragment:"Glow1D:".concat(Ww(t)),vertexShaderModifiers:[Bw("attribute vec2 aTextureCoord","varying vec2 vTextureCoord")],fragmentShader:"FragmentShader",fragmentShaderModifiers:[kw("uniform sampler2D uTexture"),kw("varying vec2 vTextureCoord"),kw("uniform vec2 uTextureSize"),e&&kw("uniform vec2 uOffsetPx"),!e&&kw("uniform sampler2D uTextureFirstGlowPass"),!e&&kw("uniform vec4 uGlowColor"),Iw.apply(void 0,nM(nM(nM(["".concat(lw," ="),"vec2 oneTexel = vec2(1.0, 1.0) / uTextureSize","vec2 vTexCoordPixelCenter = vTextureCoord + vec2(0.5, 0.5) / uTextureSize"],iM(e?[]:["float inverseIntensity =\n                                    0.25 * texture2D(uTexture, vTexCoordPixelCenter).a +\n                                    0.125 * texture2D(uTexture, vTexCoordPixelCenter + vec2(-oneTexel.x, 0.0)).a +\n                                    0.125 * texture2D(uTexture, vTexCoordPixelCenter + vec2(oneTexel.x, 0.0)).a +\n                                    0.125 * texture2D(uTexture, vTexCoordPixelCenter + vec2(0.0, -oneTexel.y)).a +\n                                    0.125 * texture2D(uTexture, vTexCoordPixelCenter + vec2(0.0, oneTexel.y)).a +\n                                    0.0625 * texture2D(uTexture, vTexCoordPixelCenter + vec2(-oneTexel.x, -oneTexel.y)).a +\n                                    0.0625 * texture2D(uTexture, vTexCoordPixelCenter + vec2(oneTexel.x, -oneTexel.y)).a +\n                                    0.0625 * texture2D(uTexture, vTexCoordPixelCenter + vec2(-oneTexel.x, oneTexel.y)).a +\n                                    0.0625 * texture2D(uTexture, vTexCoordPixelCenter + vec2(oneTexel.x, oneTexel.y)).a","".concat(lw," *= 1.0 - (inverseIntensity * inverseIntensity)"),"if (".concat(lw," <= 0.0) { discard; }")]),!1),["float distancePx = 255.0","vec2 sample_tx = vec2(0.0)"],!1),iM(e?nM(nM(["vec2 texCoordOffset = vTexCoordPixelCenter - uOffsetPx * oneTexel"],iM(o.map((function(t,i){return["sample_tx = texCoordOffset + oneTexel * vec2(".concat(t.x,", ").concat(t.y,")"),"if (distancePx > ".concat(t.distPx," && sample_tx.x <= 1.0 && sample_tx.y <= 1.0 && sample_tx.x >= 0.0 && sample_tx.y >= 0.0 && texture2D(uTexture, sample_tx).a > 0.0) { distancePx = ").concat(t.distPx,"; }")]})).flat()),!1),["".concat(cw," = vec4(distancePx / 255.0, 0.0, 0.0, 1.0)")],!1):nM(nM(["vec4 sample_horizontal = vec4(0.0)","float horizontal_dist = 255.0","float min_horizontal_dist = 255.0"],iM(o.map((function(t,i){return["sample_tx = vTexCoordPixelCenter + oneTexel * vec2(".concat(t.x,", ").concat(t.y,")"),"if (sample_tx.x <= 1.0 && sample_tx.y <= 1.0 && sample_tx.x >= 0.0 && sample_tx.y >= 0.0) {\n                                                sample_horizontal = texture2D(uTextureFirstGlowPass, sample_tx);\n                                                horizontal_dist = sample_horizontal.r * 255.0;\n                                            }","if (sample_horizontal.a < 0.9) { horizontal_dist = 255.0; }","min_horizontal_dist = min(min_horizontal_dist, horizontal_dist)","distancePx = min(distancePx, pow(horizontal_dist * horizontal_dist + ".concat(t.y," * ").concat(t.y,", 0.5))")]})).flat()),!1),["if (distancePx > ".concat(r.toFixed(1),") { discard; }"),"vec4 pixelGlowColor = vec4(0.0, 0.0, 0.0, 0.0)","if (distancePx > ".concat(i.toFixed(1),") {\n                                        float lerpAmount = (distancePx - ").concat(i.toFixed(1),") / ").concat((n+1).toFixed(1),";\n                                        pixelGlowColor = mix(uGlowColor, vec4(uGlowColor.rgb, 0.0), 1.0 - (1.0 - lerpAmount) * (1.0 - lerpAmount));\n                                    } else {\n                                        pixelGlowColor = uGlowColor;\n                                    }"),"".concat(cw," = pixelGlowColor")],!1)),!1))]}}}},MousePicking:function(t){var i=!!(null==t?void 0:t.customMousePickingIdInput),n=!i&&!!(null==t?void 0:t.useVertexId),r=!i&&!!(null==t?void 0:t.useAttribute),e=!i&&!n&&!r;return{idFeature:"MousePicking",ZD:{$D:e,tL:n},apply:function(o,s){var u="webgl2"===s?"flat":"",a="webgl2"===s?"int":"float";return{idVertex:"MousePicking:".concat(Ww(t)),idFragment:"MousePicking:".concat(Ww(t)),vertexShaderModifiers:nM(nM(nM([],iM(e?[kw("".concat(u," varying ").concat(a," vPickingIdOffset")),jw("vPickingIdOffset = ".concat(a,"(iInstance)"))]:[]),!1),iM(n?[kw("".concat(u," varying ").concat(a," vPickingIdOffset")),jw("vPickingIdOffset = ".concat(a,"(iVertex)"))]:[]),!1),iM(r?[kw("attribute float aPickingIdOffset","".concat(u," varying ").concat(a," vPickingIdOffset")),jw("vPickingIdOffset = ".concat(a,"(aPickingIdOffset)"))]:[]),!1),fragmentShaderModifiers:nM(nM([kw("uniform int uFirstId")],iM(i?[]:[kw("".concat(u," varying ").concat(a," vPickingIdOffset")),Ow("int ".concat(vw," = ").concat("int"===a?"vPickingIdOffset":"int(floor(vPickingIdOffset + 0.5))"))]),!1),[Iw("".concat(cw," ="),"int remainder = ".concat(vw," + uFirstId"),"int r = remainder / 16777216","remainder -= r * 16777216","int g = remainder / 65536","remainder -= g * 65536","int b = remainder / 256","remainder -= b * 256","int a = remainder","".concat(cw," = vec4(float(r) / 255.0, float(g) / 255.0, float(b) / 255.0, float(a) / 255.0)")),function(t){return t.replace("gl_FragColor = vec4(fragColorEnd.rgb, fragColorEnd.a * ".concat(lw,")"),"if (".concat(lw," <= 0.0) { discard; }\ngl_FragColor = fragColorEnd")).replace("if (fragColorEnd.a <= 0.0) { discard; }","")}],!1)}}}},AttributeHighlight:{idFeature:"AttributeHighlight",apply:function(t){return{idVertex:"AttributeHighlight",idFragment:"AttributeHighlight",vertexShaderModifiers:[Bw("attribute float aIsHighlighted","varying float vIsHighlighted")],fragmentShaderModifiers:[function(t){return t.replace("uniform float uIsHighlighted","varying float vIsHighlighted").replace("uIsHighlighted","vIsHighlighted")}]}}},StippleTexture:{idFeature:"StippleTexture",apply:function(t,i){return{idVertex:"StippleTexture",idFragment:"StippleTexture",vertexShaderModifiers:[kw("attribute vec2 aLengthSoFar"),kw("varying float vLengthSoFar"),kw("uniform vec2 uStippleCount"),jw("\n                vec2 len = (((aLengthSoFar) / uScale) / 2.0) * uStippleCount;\n                vLengthSoFar = len.x + len.y;\n                ")],fragmentShaderModifiers:[kw("uniform sampler2D uStippleTexture"),kw("uniform float uStippleScale"),kw("varying float vLengthSoFar"),"webgl1"===i&&kw("uniform float uStippleTextureWidthLimiter"),Iw("".concat(lw," = "),"\n                    float stippleSampleY = texture2D(\n                        uStippleTexture, \n                        ".concat("webgl1"===i?"vec2(mod((vLengthSoFar / uStippleScale) , uStippleTextureWidthLimiter), 0)":"vec2((vLengthSoFar / uStippleScale), 0)","\n                    ).r;\n                    float stippleAA = (stippleSampleY - 0.5) * 2.0;\n                    ").concat(lw," *= stippleAA;\n                    if (").concat(lw," <= 0.0) { discard; }"))]}}},StippleTextureInstanced:{idFeature:"StippleTextureInstanced",apply:function(t,i){return{idVertex:"StippleTextureInstanced",idFragment:"StippleTextureInstanced",vertexShaderModifiers:[kw("attribute vec2 aLengthSoFarA"),kw("attribute vec2 aLengthSoFarB"),kw("varying float vLengthSoFar"),kw("uniform vec2 uStippleCount"),jw("\n                vec2 aLengthSoFar = mix(aLengthSoFarA, aLengthSoFarB, aSegmentSide);\n                vec2 len = (((aLengthSoFar) / uScale) / 2.0) * uStippleCount;\n                vLengthSoFar = len.x + len.y;\n                ")],fragmentShaderModifiers:[kw("uniform sampler2D uStippleTexture"),kw("uniform float uStippleScale"),kw("varying float vLengthSoFar"),"webgl1"===i&&kw("uniform float uStippleTextureWidthLimiter"),Iw("".concat(lw," = "),"\n                    float stippleSampleY = texture2D(\n                        uStippleTexture, \n                        ".concat("webgl1"===i?"vec2(mod((vLengthSoFar / uStippleScale) , uStippleTextureWidthLimiter), 0)":"vec2((vLengthSoFar / uStippleScale), 0)","\n                    ).r;\n                    float stippleAA = (stippleSampleY - 0.5) * 2.0;\n                    ").concat(lw," *= stippleAA;\n                    if (").concat(lw," <= 0.0) { discard; }"))]}}},PolarHeatmap:function(t){return{idFeature:"PolarHeatmap",apply:function(i,n){var r="dataType"in t,e="interpolation"in t?t:void 0,o=e?e.flipXY:void 0,s="bilinear"===(null==e?void 0:e.interpolation),u=null==e?void 0:e.intensityTextureType,a=null==e?void 0:e.littleEndian;return{idVertex:void 0,idFragment:"PolarHeatmap:".concat(Ww(t)),vertexShaderModifiers:[],fragmentShaderModifiers:nM([kw("uniform vec2 uViewportSize","uniform vec2 uScale","uniform vec2 uDisp","uniform float uSectors","uniform float uAnnuli","uniform float uAmplitudeStart","uniform float uAmplitudeStep","uniform float uAmplitudeAxisStart","uniform float uAmplitudeAxisEnd","uniform float uAngleOffset","uniform float uAngleDirection",e&&"uniform sampler2D uTileIntensityValues",r&&"uniform vec4 uColor"),uw.texelFetchWithFallback[n],"ubyte"===u&&uw.decodeUbyteRGBAEncodedFloat,Ow("vec2 posWorld = (2.0 * gl_FragCoord.xy / uViewportSize) - 1.0","vec2 posAxis = posWorld * uScale + uDisp","float amplitudeAxisInterval = uAmplitudeAxisEnd - uAmplitudeAxisStart","float amplitude = uAmplitudeAxisStart + sign(amplitudeAxisInterval) * sqrt(posAxis.x * posAxis.x + posAxis.y * posAxis.y)","float iAnnulus = (amplitude - uAmplitudeStart) / uAmplitudeStep"),e&&Iw("iAnnulus","float angRad = atan(posAxis.y, posAxis.x) * uAngleDirection + uAngleOffset","if (angRad < 0.0) { angRad = angRad + 2.0 * 3.1415926538; }","if (angRad > 2.0 * 3.1415926538) { angRad = angRad - 2.0 * 3.1415926538; }","float iSector = uSectors * angRad / (2.0 * 3.1415926538)","vec2 cellIndex = vec2(iSector, iAnnulus)","ivec2 cellStart = ivec2(floor(cellIndex))","ivec2 cellEnd = cellStart + ivec2(1)","if (cellEnd.x >= int(uSectors)) { cellEnd = ivec2(0, cellEnd.y); }",o&&"cellIndex = vec2(cellIndex.y, cellIndex.x)",o&&"cellStart = ivec2(cellStart.y, cellStart.x)",o&&"cellEnd = ivec2(cellEnd.y, cellEnd.x)"),r&&Iw("".concat(cw," ="),"".concat(cw," = uColor")),e&&Iw("cellEnd","vec2 tileDimensions = ".concat(o?"vec2(uAnnuli, uSectors)":"vec2(uSectors, uAnnuli)"),s&&"vec4 sample00 = texelFetchWithFallback(uTileIntensityValues, cellStart, tileDimensions)",s&&"vec4 sample01 = texelFetchWithFallback(uTileIntensityValues, ivec2(cellStart.x, cellEnd.y), tileDimensions)",s&&"vec4 sample10 = texelFetchWithFallback(uTileIntensityValues, ivec2(cellEnd.x, cellStart.y), tileDimensions)",s&&"vec4 sample11 = texelFetchWithFallback(uTileIntensityValues, cellEnd, tileDimensions)",s&&"float intensity00 = ".concat("float"===u?"sample00.x":"decodeUbyteRGBAEncodedFloat(sample00, ".concat(a,")")),s&&"float intensity01 = ".concat("float"===u?"sample01.x":"decodeUbyteRGBAEncodedFloat(sample01, ".concat(a,")")),s&&"float intensity10 = ".concat("float"===u?"sample10.x":"decodeUbyteRGBAEncodedFloat(sample10, ".concat(a,")")),s&&"float intensity11 = ".concat("float"===u?"sample11.x":"decodeUbyteRGBAEncodedFloat(sample11, ".concat(a,")")),s&&"vec2 lerpFactors = cellIndex - vec2(cellStart)",s&&"float intensityR1 = mix(intensity00, intensity10, lerpFactors.x)",s&&"float intensityR2 = mix(intensity01, intensity11, lerpFactors.x)",s&&"float intensityP = mix(intensityR1, intensityR2,  lerpFactors.y)",!s&&"vec4 sample0 = texelFetchWithFallback(uTileIntensityValues, cellStart, tileDimensions)",!s&&"float intensityP = ".concat("float"===u?"sample0.x":"decodeUbyteRGBAEncodedFloat(sample0, ".concat(a,")")))],iM(e?Pw("intensityP",e.lut):[]),!1)}}}}},eM={"2D":"\nvoid main(void) {\n    gl_Position = vec4(posWorld, 0.0, 1.0 );\n}\n","2DMatrix":"\nvoid main(void) {\n    gl_Position = posWorld;\n}\n","3D":"\nuniform mat4 uViewProjectionMatrix;\nvoid main(void) {\n    gl_Position = uViewProjectionMatrix * vec4(posWorld, 1.0);\n}\n"},oM={FragmentShader:"\nuniform float uIsHighlighted;\nuniform vec4 uHighlightColorOffset;\nuniform float uRenderEffectMask;\nvoid main(void) {\n    vec4 ".concat(cw," = vec4(0.0, 0.0, 0.0, 0.0);\n    float ").concat(lw," = 1.0;\n    vec4 fragColorEnd = ").concat(cw,";\n    if (fragColorEnd.a <= 0.0) { discard; }\n    fragColorEnd = clamp(fragColorEnd + uIsHighlighted * uHighlightColorOffset, vec4(0.0), vec4(1.0));\n    fragColorEnd = mix(fragColorEnd, vec4(1.0), uRenderEffectMask * fragColorEnd.a * 1000.0);\n    gl_FragColor = vec4(fragColorEnd.rgb, fragColorEnd.a * ").concat(lw,");\n}\n"),Empty:"\nvoid main(void) {\n}\n"},sM=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uM=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},aM=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},hM=function(){function t(t,i,n,r,e){if(this.id=t,this.shader=n,this.gl=r,this.info=e,!i||!n)throw new NS("Could not find ".concat(this.iL()," ").concat(this.nL()," shader source code."));this.gl.shaderSource(n,i),this.gl.compileShader(n)}return Object.defineProperty(t.prototype,"src",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.iL=function(){return this.id.toString()},t.prototype.nL=function(){return this.gl.getShaderParameter(this.shader,this.gl.SHADER_TYPE)===this.gl.FRAGMENT_SHADER?"fragment":"vertex"},t}(),fM=function(t){function i(i,n,r,e){return t.call(this,i,n,r.createShader(r.VERTEX_SHADER),r,e)||this}return sM(i,t),i}(hM),cM=function(t){function i(i,n,r,e){return t.call(this,i,n,r.createShader(r.FRAGMENT_SHADER),r,e)||this}return sM(i,t),i}(hM),lM=function(){function t(t,i,n,r){this.rL=new Map,this.eL=new Map,this.oL=n,this.sL=n.createProgram(),this.uL="".concat(t.iL()," vertex"),this.aL="".concat(i.iL()," fragment"),n.attachShader(this.sL,t.shader),n.attachShader(this.sL,i.shader),n.bindAttribLocation(this.sL,0,"aPos"),n.linkProgram(this.sL),n.deleteShader(t.shader),n.deleteShader(i.shader),this.allAttributeNames=t.info.allAttributeNames,this.allUniformNames=Array.from(new Set(t.info.allUniformNames.concat(i.info.allUniformNames)).values()),this.vertexSharedRemovedVariables=t.info.removedVariableNames,this.fragmentSharedRemovedVariables=i.info.removedVariableNames}return Object.defineProperty(t.prototype,"vertexShaderSrc",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fragmentShaderSrc",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.hL=function(t){return Ho(0,(function(){return Zo()}))},t.prototype.fL=function(t){var i=this.cL(t);if(void 0===i)throw this.hL("Could not get ".concat(t," uniform from ").concat(this.uL," and ").concat(this.aL," shaders."));return i},t.prototype.cL=function(t){var i=this.rL.get(t);if(i)return i;var n=this.oL.getUniformLocation(this.sL,t);return n?(this.rL.set(t,n),n):void 0},t.prototype.lL=function(t){var i=this.vL(t);if(void 0===i)throw this.hL("Could not get ".concat(t," attribute from ").concat(this.uL," and ").concat(this.aL," shaders."));return i},t.prototype.vL=function(t){var i=this.eL.get(t);if(i||0===i)return i;var n=this.oL.getAttribLocation(this.sL,t);return n>=0?(this.eL.set(t,n),n):void 0},t.prototype.Ft=function(){this.oL.deleteProgram(this.sL)},t}(),vM=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/,dM=function(t){var i;try{i=Qe.getComputedStyle(t)}catch(t){return null}return i};function yM(t){for(var i=t.length;i--;)if(n=t[i],r=void 0,(r=dM(n))&&("fixed"===r.position||"auto"!==r.zIndex&&"static"!==r.position||function(t){var i=dM(pM(t)),n=i?i.display:"auto";return"flex"===n||"inline-flex"===n}(n)||+r.opacity<1||"transform"in r&&"none"!==r.transform||"webkitTransform"in r&&"none"!==r.webkitTransform||"mixBlendMode"in r&&"normal"!==r.mixBlendMode||"filter"in r&&"none"!==r.filter||"webkitFilter"in r&&"none"!==r.webkitFilter||"isolation"in r&&"isolate"===r.isolation||vM.test(r.willChange)||"touch"===r.webkitOverflowScrolling))return t[i];var n,r;return null}function AM(t){var i;return t&&Number((null===(i=dM(t))||void 0===i?void 0:i.zIndex)||0)||0}function bM(t){for(var i=[];t;)i.push(t),t=pM(t);return i}function pM(t){var i;return(null===(i=t.parentNode)||void 0===i?void 0:i.host)||t.parentNode}var mM=function(t){return t&&"resize"in t},gM=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xM=function(){return xM=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},xM.apply(this,arguments)},SM=function(t){function i(i){var n=t.call(this)||this;if(n.dL=new Map,n.yL=new Map,n.AL=new Map,n.bL=!0,n.pL=null,n.mL=null,n.gL=null,n.xL=null,n.SL=0,n.wL=0,n.ML=0,n.CL=!1,n.TL=!0,n.Hi=!1,n.kL=Yo("chart-engine-".concat((new Date).getTime()).concat(Math.trunc(1e6*Math.random()).toString())),n.Bt={x:100,y:100},n._L=function(){n.OL&&clearTimeout(n.OL),n.OL=setTimeout((function(){return n.FL()}),12)},n.IL=function(t){var i=t.intersectionRatio>0,r=t.target.getAttribute("data-lcjs-engine-id");if(r){var e=n.dL.get(r);if(e){var o=e.jL();e.BL(i),i?n.yL.set(r,e):n.yL.delete(r),o!==i&&e.vr()}}},n.DL=function(t,i,r,e,o){var s=o[0],u=n.gl;if(u.bindFramebuffer(null==u?void 0:u.FRAMEBUFFER,null),u.useProgram(n.mL.sL),u.clear(u.COLOR_BUFFER_BIT),s.lu.getBoundingClientRect()){var a=s.LL();u.viewport(0,0,a.x,a.y),u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,s.EL),u.uniform1i(n.SL,0),u.uniformMatrix4fv(n.wL,!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),u.bindBuffer(u.ARRAY_BUFFER,n.gL),u.enableVertexAttribArray(0),u.vertexAttribPointer(n.ML,2,u.FLOAT,!1,0,0),u.drawArrays(u.TRIANGLES,0,6),u.bindFramebuffer(u.FRAMEBUFFER,null),s.PL&&(s.PL.clearRect(0,0,s.PL.canvas.width,s.PL.canvas.height),s.PL.drawImage(n.zL,0,n.zL.height-a.y,a.x,a.y,0,0,s.PL.canvas.width,s.PL.canvas.height))}},n.NL=function(t,i,r,e,o){var s=n.gl;s.bindFramebuffer(null==s?void 0:s.FRAMEBUFFER,null),s.useProgram(n.mL.sL),s.clear(s.COLOR_BUFFER_BIT),o.forEach((function(r){var o=r.lu.getBoundingClientRect();if(o){var u=o.right-o.left,a=o.bottom-o.top,h=o.left,f=e-o.bottom;s.viewport(h*n.VL-t*n.VL,f*n.VL+i*n.VL,u*n.VL,a*n.VL)}s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,r.EL),s.uniform1i(n.SL,0),s.uniformMatrix4fv(n.wL,!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),s.bindBuffer(s.ARRAY_BUFFER,n.gL),s.enableVertexAttribArray(0),s.vertexAttribPointer(n.ML,2,s.FLOAT,!1,0,0),s.drawArrays(s.TRIANGLES,0,6)})),s.bindFramebuffer(s.FRAMEBUFFER,null)},n.RL=function(t,i,r,e,o){var s=o[0],u=n.gl2.ctx;u.bindFramebuffer(u.DRAW_FRAMEBUFFER,null),u.clear(u.COLOR_BUFFER_BIT);var a=s.LL();u.bindFramebuffer(u.READ_FRAMEBUFFER,s.GL[1]),u.blitFramebuffer(0,0,a.x,a.y,0,n.zL.height-a.y,a.x,n.zL.height,u.COLOR_BUFFER_BIT,u.LINEAR),s.PL&&(s.PL.clearRect(0,0,s.PL.canvas.width,s.PL.canvas.height),s.PL.drawImage(n.zL,0,0)),u.bindFramebuffer(u.FRAMEBUFFER,null)},n.UL=function(t,i,r,e,o){var s=n.gl2.ctx;s.bindFramebuffer(s.DRAW_FRAMEBUFFER,null),s.clear(s.COLOR_BUFFER_BIT),o.forEach((function(r){var o=r.lu.getBoundingClientRect();if(o){var u=o.right-o.left,a=o.bottom-o.top,h=o.left,f=e-o.bottom,c=r.LL();s.bindFramebuffer(s.READ_FRAMEBUFFER,r.GL[1]),s.blitFramebuffer(0,0,c.x,c.y,h*n.VL-t*n.VL,f*n.VL+i*n.VL,(h-t+u)*n.VL,(f+i+a)*n.VL,s.COLOR_BUFFER_BIT,s.LINEAR)}})),s.bindFramebuffer(s.FRAMEBUFFER,null)},n.OL=void 0,n.ih=i,!Qe.requestAnimationFrame||!Qe.cancelAnimationFrame)throw new Error("LightningChart JS depends on requestAnimationFrame. Make sure to load a polyfill in older browsers.");var r=1;if(i&&i.YL)r=!0===i.YL?Qe.devicePixelRatio||1:i.YL||1;else{var e=Qe.document.head.querySelector('meta[name="viewport"]');e&&e.content.includes("width=device-width")&&(r=Qe.devicePixelRatio||1)}n.VL=r,i.rh=!0===i.rh,n.TL=!1!==i.WL,n.XL=!1!==i.HL,n.ZL=i.ZL||!1;var s=!1;if(i.zL)if("string"==typeof i.zL){var u=Qe.document.getElementById(i.zL);if(!u)throw new Error('Canvas "'.concat(i.zL,"\" doesn't exist."));n.zL=u,s=!0}else n.zL=i.zL,s=!0;else n.zL=Qe.document.createElement("canvas");var a={preserveDrawingBuffer:!0,alpha:!0,antialias:!1};if(2!==i.JL&&i.JL){var h=n.zL.getContext("webgl",xM(xM({},a),{antialias:!!i.WL}))||n.zL.getContext("experimental-webgl",xM(xM({},a),{antialias:!!i.WL}));n.gl=h,n.QL=!1}else{var f=n.zL.getContext("webgl2",a);n.gl2={ctx:f},n.gl=f,n.QL=!0}if(!n.gl)throw new zS("No WebGL context available.".concat((null==i?void 0:i.JL)?"\nSelected explicit target: WebGL ".concat(i.JL):""));var c=[];if(n.KL={WEBGL_lose_context:n.gl.getExtension("WEBGL_lose_context")},Object.keys(n.KL).forEach((function(t){null===n.KL[t]&&c.push(t)})),n.QL)n.qL=!0;else{var l={ANGLE_instanced_arrays:n.gl.getExtension("ANGLE_instanced_arrays"),EXT_blend_minmax:n.gl.getExtension("EXT_blend_minmax"),OES_element_index_uint:n.gl.getExtension("OES_element_index_uint"),OES_standard_derivatives:n.gl.getExtension("OES_standard_derivatives"),OES_vertex_array_object:n.gl.getExtension("OES_vertex_array_object")};l.OES_standard_derivatives||(n.bL=!1),Object.keys(l).forEach((function(t){null===l[t]&&c.push(t)}));var v={OES_texture_float:n.gl.getExtension("OES_texture_float")};n.qL=!!v.OES_texture_float,n.gl1={ctx:n.gl,KL:l,optional:v}}var d=c;if(d.length>0&&!1!==i.rh){var y=Qe.document.createElement("div");y.innerText="LightningChart JS: Some features might not work properly, due to missing WebGL features.",y.style.cssText="position:absolute;top:0;background:red;width:100%;padding:10px;text-align:center;color:white;z-index:1;";var A=Qe.document.createElement("button");A.innerText="X",A.addEventListener("click",(function(){y.parentElement&&y.parentElement.removeChild(y)})),Qe.document.body.appendChild(y),y.appendChild(A),Qe.console.warn("LightningChart JS - Following WebGL extensions could not be loaded:",d.join(", "))}if(n.$L=n.ZL?n.tE(n.QL?n.RL.bind(n):n.DL.bind(n)).bind(n):n.iE(n.QL?n.UL.bind(n):n.NL.bind(n)).bind(n),Qe.ResizeObserver&&(n.ah=new Qe.ResizeObserver(function(t){var i,r;try{for(var e=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),o=e.next();!o.done;o=e.next())o.value.target===n.zL&&n.nE()}catch(t){i={error:t}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}}.bind(n)),n.ah.observe(n.zL)),n.rE=function(t,i){var n=t,r=new Map,e=new Map,o=new Map,s={totalMs:0,vertexShaders:0,fragmentShaders:0,programs:0},u=function(t,n,r){void 0===r&&(r=[]);var e=[],o=[],s={allAttributeNames:Array.from(t.matchAll(/attribute\s[^\s]*\s(.*);/g)).map((function(t){return t[1]})),allUniformNames:Array.from(t.matchAll(/uniform\s[^\s]*\s(.*);/g)).map((function(t){return t[1]})),allVaryingNames:Array.from(t.matchAll(/varying\s[^\s]*\s(.*);/g)).map((function(t){return t[1]})),removedVariableNames:[]};if(i){var u=t.match(/#extension.*/g);u&&o.push.apply(o,aM([],uM(u),!1)),t=t.replace(/#extension.*/g,"")}else if(e.push("#version 300 es"),(t=(t=(t=t.replace(/#extension.*/g,"")).replace(/attribute/g,"in")).replace(/texture2D/g,"texture")).includes("usampler2D")&&e.push("precision highp usampler2D;"),"vertex"===n)t=t.replace(/varying/g,"out");else{t=t.replace(/varying/g,"in");var a=r.find((function(t){return"fragOutput"===t.type}));t=(t=a?"out ".concat(a.fragOutput," fragOutput;\n").concat(t):"out vec4 fragOutput;\n".concat(t)).replace(/gl_FragColor/g,"fragOutput")}return o&&e.push.apply(e,aM([],uM(o),!1)),e.push("precision highp float;"),e.push("precision highp int;"),{source:t="".concat(e.join("\n"),"\n").concat(t),info:s}};return function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var h,f=i?"webgl1":"webgl2";try{var c=Qe.performance.now();h=function(t,i){var n,r,e=t.map((function(n){return n.apply(t,i)})),o=e.map((function(t){return t.idVertex})).filter((function(t){return void 0!==t})).sort().join(" "),s=e.map((function(t){return t.idFragment})).filter((function(t){return void 0!==t})).sort().join(" "),u="vert: ".concat(o," frag: ").concat(s),a=!1,h=!1,f=[],c=[],l=[];if(e.forEach((function(t){var i,e,o,s;if(t.defaultVertexShader&&(a||(n=t.defaultVertexShader)),t.vertexShader){if(n&&a&&n!==t.vertexShader)throw new Yw("Conflicting vertex shader templates ".concat(n," vs ").concat(t.vertexShader),u,t);n=t.vertexShader,a=!0}if(t.vertexShaderModifiers)try{for(var v=Uw(t.vertexShaderModifiers),d=v.next();!d.done;d=v.next())void 0!==(b=d.value)&&!1!==b&&f.push(b)}catch(t){i={error:t}}finally{try{d&&!d.done&&(e=v.return)&&e.call(v)}finally{if(i)throw i.error}}if(t.defaultFragmentShader&&(h||(r=t.defaultFragmentShader)),t.fragmentShader){if(r&&h&&r!==t.fragmentShader)throw new Yw("Conflicting fragment shader templates ".concat(r," vs ").concat(t.fragmentShader),u,t);r=t.fragmentShader,h=!0}if(t.fragmentShaderModifiers)try{for(var y=Uw(t.fragmentShaderModifiers),A=y.next();!A.done;A=y.next()){var b;void 0!==(b=A.value)&&!1!==b&&c.push(b)}}catch(t){o={error:t}}finally{try{A&&!A.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}t.hints&&t.hints.forEach((function(t){t&&l.push(t)}))})),!!t.find((function(t){var i;return null===(i=t.ZD)||void 0===i?void 0:i.$D}))&&("webgl1"===i?f.push(kw("attribute float aInstanceID"),Ow("int iInstance = int(aInstanceID)")):f.push(Ow("int iInstance = gl_InstanceID"))),!!t.find((function(t){var i;return null===(i=t.ZD)||void 0===i?void 0:i.tL}))&&("webgl1"===i?f.push(kw("attribute float aVertexID"),Ow("int iVertex = int(aVertexID)")):f.push(Ow("int iVertex = gl_VertexID"))),!n)throw new Yw("No vertex shader template defined",u);if(!r)throw new Yw("Fragment shader not defined",u);return{id:u,vertexShader:{id:o,template:n,modifiers:f},fragmentShader:{id:s,template:r,modifiers:c},hints:l}}(t.filter((function(t){return!1!==t&&void 0!==t})),f);var l=o.get(h.id);if(l)return l.vertexShaderSrc,l.fragmentShaderSrc,l;var v=h.vertexShader.id,d=r.get(v);if(d)d.src;else{var y=new ww(h.vertexShader.modifiers).build(eM[h.vertexShader.template]),A=u(y,"vertex"),b=A.source,p=A.info;d=new fM(v,b,n,p),r.set(v,d),s.vertexShaders+=1}var m=h.fragmentShader,g=void 0,x=m.id;if(g=e.get(x))g.src;else{var S=oM[m.template],w=(y=new ww(aM([],uM(m.modifiers),!1)).build(S),u(y,"fragment",h.hints));b=w.source,p=w.info,g=new cM(x,b,n,p),e.set(x,g),s.fragmentShaders+=1}var M=new lM(d,g,n,h);return o.set(h.id,M),s.programs+=1,s.totalMs+=Qe.performance.now()-c,M}catch(t){throw Ho(0,(function(){var t="Unexpected LightningChart JS rendering error.\nThis can mean a bug in the library, or that it is simply used in unsupported manner (passing wrong type to method, using disposed component, etc).";return Qe.alert(t),new Error(t)}))}}}(n.gl,!n.QL),n.WD=function(){var t=Qe.document.createElement("canvas"),i=t.getContext("2d",{willReadFrequently:!0});if(!i)throw new zS("Failed to get Text canvas rendering context");return i.fillStyle="#fff",function(n,r,e,s){var u="".concat(r.style," ").concat(r.weight," ").concat(r.size*e,"px ").concat(r.family);i.font=u,i.textBaseline="alphabetic",i.textAlign="left";var a=i.measureText(n);if(0!==a.width){var h=void 0!==a.actualBoundingBoxLeft&&void 0!==a.actualBoundingBoxRight?Math.ceil(a.actualBoundingBoxLeft+a.actualBoundingBoxRight):Math.ceil(a.width),f=a.width,c=Math.round(r.size*e),l=void 0!==a.actualBoundingBoxLeft?a.actualBoundingBoxLeft:0;t.width=h>0?h:f,t.height=2*c,i.font=u,i.textBaseline="alphabetic",i.textAlign="left",s?(i.clearRect(0,0,t.width,t.height),i.fillStyle="#fff"):(i.fillStyle="rgba(255,255,255,0)",i.fillRect(0,0,t.width,t.height),i.fillStyle="#000"),i.fillText(n,l,c);for(var v=i.getImageData(0,0,t.width,t.height),d=0,y=0,A=v.width,b=0;b<v.height;b+=1){for(var p=0;p<A;p+=1)if(0!==v.data[b*A*4+4*p+3]){d=b;break}if(0!==d)break}for(b=v.height-1;b>=0;b-=1){for(p=0;p<A;p+=1)if(0!==v.data[b*A*4+4*p+3]){y=b;break}if(0!==y)break}var m=i.canvas.height/2-d,g=y-d+1,x=A,S=new Uint8ClampedArray(x*g*1);for(b=0;b<g;b+=1)for(p=0;p<x;p+=1)S[1*b*x+1*p+0]=v.data[(b+d)*x*4+4*p+3];return[S,{advance:f,offsetX:l,baseline:m,glyph:n,size:o(x,g)}]}}}(),i.eE||(n.ZL?n.zL.style.display="none":(n.zL.style.position="absolute",n.zL.style.top="0",n.zL.style.left="0",n.zL.style.right="0",n.zL.style.bottom="0",n.zL.style.width="100%",n.zL.style.height="100%",n.zL.style.boxSizing="content-box",n.zL.style.display="block",n.zL.style.pointerEvents="none")),n.zL.classList.add("lcjs-canvas"),i.oE&&n.zL.setAttribute("data-lcjs-id",i.oE),s||Qe.document.body.appendChild(n.zL),Qe.IntersectionObserver&&(n.sE=new Qe.IntersectionObserver((function(t){for(var i=0;i<t.length;i+=1){var r=t[i];n.IL(r)}}),{threshold:Array.from(Array(100)).map((function(t,i){return i/100}))})),Qe.addEventListener("resize",n._L,{passive:!0}),!n.QL){if(n.mL=n.rE(rM["2DCompose"],rM.Color({dataType:"texture-coord-calc-gpu"}),rM.VertexLocation({axisWorldTranslation:"matrix4",normalSource:void 0,coordType:"vec4"})),!n.mL.sL)throw new zS("Unable to setup composition shader!");var b=n.gl,p=b.getUniformLocation(n.mL.sL,"uColorTexture");if(!p)throw new zS("Unable to setup composition shader! Failed to find uColorTexture");var m=b.getUniformLocation(n.mL.sL,"uMatrix");if(!m)throw new zS("Unable to setup composition shader! Failed to find uMatrix");n.SL=p,n.wL=m,n.ML=b.getAttribLocation(n.mL.sL,"aPos"),n.gL=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,n.gL),b.bufferData(b.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),b.STATIC_DRAW),b.bindBuffer(b.ARRAY_BUFFER,null),n.xL=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,n.xL),b.bufferData(b.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]),b.STATIC_DRAW),b.bindBuffer(b.ARRAY_BUFFER,null)}}return gM(i,t),i.prototype.tE=function(t){var i=this;return function(n){i.pL=null;var r=i.gl.canvas,e=Array.from(i.yL.values());i.CL=!1,e.forEach((function(e){var o=e.LL();(i.Bt.x<o.x||i.Bt.y<o.y)&&(i.Bt.x=Math.max(i.Bt.x,o.x),i.Bt.y=Math.max(i.Bt.y,o.y),r instanceof HTMLCanvasElement&&(r.width=i.Bt.x,r.height=i.Bt.y)),e.Ca&&e.uE(n),t(0,0,0,0,[e])})),i.CL&&i.nE()}},i.prototype.iE=function(t){var i=this;return function(n){i.pL=null,"style"in i.gl.canvas&&!i.ih.aE&&(i.gl.canvas.style.transform="translateX(".concat(window.scrollX,"px) translateY(").concat(window.scrollY,"px)"));var r=i.gl.canvas,e=i.zL.clientHeight,o=i.zL.clientWidth,s=0,u=0;if(r instanceof HTMLCanvasElement){r.width===o*i.VL&&r.height===e*i.VL||(r.width=o*i.VL,r.height=e*i.VL);var a=r.getBoundingClientRect();s=a.x,u=a.y}var h=Array.from(i.yL.values());i.CL=!1,h.sort((function(t,i){return t.hE()-i.hE()})).forEach((function(t){t.Ca&&t.uE(n)})),t(s,u,o,e,h),i.CL&&i.nE()}},i.prototype.nE=function(t){return mM(this.gl)||(!this.CL&&t&&(this.CL=!0),this.pL||this.Hi||(this.pL=Qe.requestAnimationFrame(this.$L))),this},i.prototype.fE=function(t){var i=this,n=this.kL();return t.lu.setAttribute("data-lcjs-engine-id",n),this.dL.set(n,t),t.cE(this.dL.size-1),t.BL(!0),this.yL.set(n,t),this.sE&&this.sE.observe(t.lu),this.OL&&clearTimeout(this.OL),this.OL=setTimeout((function(){return i.FL()}),0),this},i.prototype.lE=function(t){var i=t.lu.getAttribute("data-lcjs-engine-id");return i?(this.dL.delete(i),this.yL.delete(i),this.sE&&this.sE.unobserve(t.lu),t.lu.removeAttribute("data-lcjs-engine-id"),this):this},i.prototype.FL=function(){if(this.sE)for(var t=this.sE.takeRecords(),i=0;i<t.length;i+=1){var n=t[i];this.IL(n)}if(!this.ZL&&this.XL){var r=Array.from(this.dL.values()).sort((function(t,i){
/**
     * stacking-order by Rich Harris
     * https://github.com/Rich-Harris/stacking-order
     *
     * @license MIT
     *
     * Converted to TypeScript and edited to match LCJS requirements.
     */
return function(t,i){if(t===i)return 0;for(var n,r={a:bM(t),b:bM(i)};r.a[r.a.length-1]===r.b[r.b.length-1];)t=r.a.pop(),i=r.b.pop(),n=t;var e=AM(yM(r.a)),o=AM(yM(r.b));if(e===o&&n)for(var s=n.childNodes,u={a:r.a[r.a.length-1],b:r.b[r.b.length-1]},a=s.length;a--;){var h=s[a];if(h===u.a)return 1;if(h===u.b)return-1}return Math.sign(e-o)}(t.lu,i.lu)}));r.forEach((function(t,i){return t.cE(i)}))}return this.nE(!0),this},i.prototype.cD=function(){return this.nE(),this},i.prototype.vE=function(){this.Hi||this.dL.forEach((function(t){return t.MA.layout()}))},i.prototype.Ft=function(){var i;if(!this.Hi){this.Hi=!0,t.prototype.Ft.call(this),this.pL&&(Qe.cancelAnimationFrame(this.pL),this.pL=null),this.CL=!1,this.ah&&(this.ah.disconnect(),this.ah=void 0),this.sE&&(this.sE.disconnect(),this.sE=void 0),Qe.removeEventListener("resize",this._L),this._L=void 0,this.dL.forEach((function(t){t.Ft()})),this.dL.clear(),Array.from(this.AL.values()).forEach((function(t){t.cl(!0)})),this.AL.clear();var n=this.gl;n.deleteBuffer(this.gL),n.deleteBuffer(this.xL),this.zL&&!this.ih.zL?(this.zL.width=1,this.zL.height=1,null===(i=this.zL.parentElement)||void 0===i||i.removeChild(this.zL),this.zL=void 0):this.zL=void 0,this.rE=void 0,this.WD=void 0,this.$L=function(){},this.KL.WEBGL_lose_context&&this.KL.WEBGL_lose_context.loseContext()}},i}(QS),wM=function(){return wM=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},wM.apply(this,arguments)},MM=function(t,i,n,r){return function(e){var o=wM(wM({theme:Kg},n),e),s=t(o),u=i||r?HS(s,r,null==n?void 0:n.licenseInformation):void 0,a=new WS(s.ih,e,s,s.Ft.bind(s),o,u);return s.kh((function(t){return a.fl(t)})).Th((function(){return a.Dt()})).vr(),a}},CM=function(t,i){t.kh((function(t){i.Le(t)})).Th((function(){return i.Dt()})).vr()},TM=function(t,i,n,r){return function(e){var o=wM(wM(wM({},n),e),{theme:(null==e?void 0:e.theme)||Kg}),s=t(o),u=i||r?HS(s,r,null==n?void 0:n.licenseInformation):void 0,a=new qv(s.ih,LS(s,1).xB(0),ne,s.Ft.bind(s),u,void 0,null==e?void 0:e.legend);return CM(s,a),a}},kM=function(t,i,n,r){return function(e){var o=wM(wM(wM({},n),e),{theme:(null==e?void 0:e.theme)||Kg}),s=t(o),u=i||r?HS(s,r,null==n?void 0:n.licenseInformation):void 0,a=new _p(s.ih,LS(s,1).xB(0),ne,s.Ft.bind(s),u,e);return CM(s,a),a}},_M=function(t,i,n,r){return function(e){var o=wM(wM(wM({},n),e),{theme:(null==e?void 0:e.theme)||Kg}),s=t(o),u=i||r?HS(s,r,null==n?void 0:n.licenseInformation):void 0,a=new dg(s.ih,LS(s,1).xB(0),ne,s.Ft.bind(s),u,e);return CM(s,a),a}},OM=function(t,i,n,r){return function(e){var o=wM(wM(wM({},n),e),{theme:(null==e?void 0:e.theme)||Kg}),s=t(o),u=i||r?HS(s,r,null==n?void 0:n.licenseInformation):void 0,a=new um(s.ih,LS(s,1).xB(0),ne,s.Ft.bind(s),u,e);return CM(s,a),a}},FM=function(t,i,n,r){return function(e){var o=wM(wM(wM({},n),e),{theme:(null==e?void 0:e.theme)||Kg}),s=t(o),u=i||r?HS(s,r,null==n?void 0:n.licenseInformation):void 0,a=new(e&&e.type?e.type:kS)(s.ih,LS(s,1).xB(0),ne,s.Ft.bind(s),u,void 0,e);return CM(s,a),a}},IM=function(t,i,n,r){return function(e){var o=wM(wM(wM({},n),e),{theme:(null==e?void 0:e.theme)||Kg}),s=t(o),u=i||r?HS(s,r,null==n?void 0:n.licenseInformation):void 0,a=new Ux(s.ih,LS(s,1).xB(0),ne,s.Ft.bind(s),u,void 0,e);return CM(s,a),a}},jM=function(t,i,n,r){return function(e){var o=wM(wM(wM({},n),e),{theme:(null==e?void 0:e.theme)||Kg}),s=t(o),u=i||r?HS(s,r,null==n?void 0:n.licenseInformation):void 0,a=new(e&&e.type?e.type:_m)(s.ih,LS(s,1).xB(0),ne,s.Ft.bind(s),u,void 0,e);return CM(s,a),a}},BM=function(t,i,n,r){return function(e){var o=wM(wM(wM({},n),e),{theme:(null==e?void 0:e.theme)||Kg}),s=t(o),u=i||r?HS(s,r,null==n?void 0:n.licenseInformation):void 0,a=new(e&&e.type?e.type:Qm)(s.ih,LS(s,1).xB(0),ne,s.Ft.bind(s),u,void 0,e);return CM(s,a),a}},DM=function(t,i,n,r){return function(e){var o=wM(wM(wM({},n),e),{theme:(null==e?void 0:e.theme)||Kg}),s=t(o),u=i||r?HS(s,r,null==n?void 0:n.licenseInformation):void 0,a=new hA(s.ih,LS(s,1).xB(0),ne,s.Ft.bind(s),u,e,void 0);return CM(s,a),a}},LM=function(t,i,n,r){return function(e){var o=wM(wM(wM({},n),e),{theme:(null==e?void 0:e.theme)||Kg}),s=t(o),u=i||r?HS(s,r,null==n?void 0:n.licenseInformation):void 0,a=new Iy(s.ih,LS(s,1).xB(0),ne,s.Ft.bind(s),u,void 0,e);return CM(s,a),a}},EM=function(t,i,n,r){return function(e){var o=wM(wM(wM({},n),e),{theme:(null==e?void 0:e.theme)||Kg}),s=t(o),u=i||r?HS(s,r,null==n?void 0:n.licenseInformation):void 0,a=new nx(s.ih,LS(s,1).xB(0),ne,s.Ft.bind(s),u,void 0);return CM(s,a),a}},PM=function(t,i,n,r){return function(e){var o=wM(wM(wM({},n),e),{theme:(null==e?void 0:e.theme)||Kg}),s=t(o),u=i||r?HS(s,r,null==n?void 0:n.licenseInformation):void 0,a=new mx(s.ih,LS(s,1).xB(0),ne,s.Ft.bind(s),u,void 0,e);return CM(s,a),a}},zM=function(t,i,n,r){return function(e){var o=wM(wM(wM({},n),e),{theme:(null==e?void 0:e.theme)||Kg}),s=t(o),u=i||r?HS(s,r,null==n?void 0:n.licenseInformation):void 0,a=new Np(s.ih,LS(s,1).xB(0),ne,s.Ft.bind(s),u,e);return CM(s,a),a}},NM=function(t,i,n,r){return function(e){var o=wM(wM(wM({},n),e),{theme:(null==e?void 0:e.theme)||Kg}),s=t(o),u=i||r?HS(s,r,null==n?void 0:n.licenseInformation):void 0,a=new Px(s.ih,LS(s,1).xB(0),ne,s.Ft.bind(s),u,e);return CM(s,a),a}},VM=function(t,i,n,r){return function(e){var o=wM(wM(wM({},n),e),{theme:(null==e?void 0:e.theme)||Kg}),s=t(o),u=i?HS(s,r):void 0,a=new sS(s.ih,LS(s,1).xB(0),ne,s.Ft.bind(s),u,void 0,e);return CM(s,a),a}},RM={translation:function(t,i,n){return[1,0,0,0,0,1,0,0,0,0,1,0,t,i,n,1]},xRotation:function(t){var i=Math.cos(t),n=Math.sin(t);return[1,0,0,0,0,i,n,0,0,-n,i,0,0,0,0,1]},yRotation:function(t){var i=Math.cos(t),n=Math.sin(t);return[i,0,-n,0,0,1,0,0,n,0,i,0,0,0,0,1]},zRotation:function(t){var i=Math.cos(t),n=Math.sin(t);return[i,n,0,0,-n,i,0,0,0,0,1,0,0,0,0,1]},scaling:function(t,i,n){return[t,0,0,0,0,i,0,0,0,0,n,0,0,0,0,1]},translate:function(t,i,n,r){return RM.multiply(t,RM.translation(i,n,r))},xRotate:function(t,i){return RM.multiply(t,RM.xRotation(i))},yRotate:function(t,i){return RM.multiply(t,RM.yRotation(i))},zRotate:function(t,i){return RM.multiply(t,RM.zRotation(i))},rotateXYZ:function(t,i){var n=RM.xRotate(t,i.x);return n=RM.yRotate(n,i.y),RM.zRotate(n,i.z)},scale:function(t,i,n,r){return RM.multiply(t,RM.scaling(i,n,r))},multiply:function(t,i){var n=i[0],r=i[1],e=i[2],o=i[3],s=i[4],u=i[5],a=i[6],h=i[7],f=i[8],c=i[9],l=i[10],v=i[11],d=i[12],y=i[13],A=i[14],b=i[15],p=t[0],m=t[1],g=t[2],x=t[3],S=t[4],w=t[5],M=t[6],C=t[7],T=t[8],k=t[9],_=t[10],O=t[11],F=t[12],I=t[13],j=t[14],B=t[15],D=[];return D[0]=n*p+r*S+e*T+o*F,D[1]=n*m+r*w+e*k+o*I,D[2]=n*g+r*M+e*_+o*j,D[3]=n*x+r*C+e*O+o*B,D[4]=s*p+u*S+a*T+h*F,D[5]=s*m+u*w+a*k+h*I,D[6]=s*g+u*M+a*_+h*j,D[7]=s*x+u*C+a*O+h*B,D[8]=f*p+c*S+l*T+v*F,D[9]=f*m+c*w+l*k+v*I,D[10]=f*g+c*M+l*_+v*j,D[11]=f*x+c*C+l*O+v*B,D[12]=d*p+y*S+A*T+b*F,D[13]=d*m+y*w+A*k+b*I,D[14]=d*g+y*M+A*_+b*j,D[15]=d*x+y*C+A*O+b*B,D},inverse:function(t){var i=[],n=t[0],r=t[1],e=t[2],o=t[3],s=t[4],u=t[5],a=t[6],h=t[7],f=t[8],c=t[9],l=t[10],v=t[11],d=t[12],y=t[13],A=t[14],b=t[15],p=l*b,m=A*v,g=a*b,x=A*h,S=a*v,w=l*h,M=e*b,C=A*o,T=e*v,k=l*o,_=e*h,O=a*o,F=f*y,I=d*c,j=s*y,B=d*u,D=s*c,L=f*u,E=n*y,P=d*r,z=n*c,N=f*r,V=n*u,R=s*r,G=p*u+x*c+S*y-(m*u+g*c+w*y),U=m*r+M*c+k*y-(p*r+C*c+T*y),Y=g*r+C*u+_*y-(x*r+M*u+O*y),W=w*r+T*u+O*c-(S*r+k*u+_*c),X=1/(n*G+s*U+f*Y+d*W);return i[0]=X*G,i[1]=X*U,i[2]=X*Y,i[3]=X*W,i[4]=X*(m*s+g*f+w*d-(p*s+x*f+S*d)),i[5]=X*(p*n+C*f+T*d-(m*n+M*f+k*d)),i[6]=X*(x*n+M*s+O*d-(g*n+C*s+_*d)),i[7]=X*(S*n+k*s+_*f-(w*n+T*s+O*f)),i[8]=X*(F*h+B*v+D*b-(I*h+j*v+L*b)),i[9]=X*(I*o+E*v+N*b-(F*o+P*v+z*b)),i[10]=X*(j*o+P*h+V*b-(B*o+E*h+R*b)),i[11]=X*(L*o+z*h+R*v-(D*o+N*h+V*v)),i[12]=X*(j*l+L*A+I*a-(D*A+F*a+B*l)),i[13]=X*(z*A+F*e+P*l-(E*l+N*A+I*e)),i[14]=X*(E*a+R*A+B*e-(V*A+j*e+P*a)),i[15]=X*(V*l+D*e+N*a-(z*a+R*l+L*e)),i},projectionPerspective:function(t,i,n,r){var e=1/Math.tan(t*Math.PI/180/2),o=1/(n-r);return[e/i,0,0,0,0,e,0,0,0,0,(n+r)*o,-1,0,0,n*r*o*2,0]},projectionOrthographic:function(t,i,n,r,e,o){return[2/(i-t),0,0,0,0,2/(r-n),0,0,0,0,2/(e-o),0,(t+i)/(t-i),(n+r)/(n-r),(e+o)/(e-o),1]},quaternionToRotationMatrix:function(t){var i=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3]),n=[t[0]/i,t[1]/i,t[2]/i,t[3]/i],r=n[0]+n[0],e=n[1]+n[1],o=n[2]+n[2],s=n[0]*r,u=n[0]*e,a=n[0]*o,h=n[1]*e,f=n[1]*o,c=n[2]*o,l=n[3]*r,v=n[3]*e,d=n[3]*o;return[1-(h+c),u-d,a+v,0,u+d,1-(s+c),f-l,0,a-v,f+l,1-(s+h),0,0,0,0,1]}};function GM(i,n,r,e,o,s){var u=n.x.pi(i.max.x),a=n.x.pi(i.min.x),h=n.y.pi(i.max.y),f=n.y.pi(i.min.y),c=u-a,l=h-f;if(c<1){var v=(a+u)/2;a=v-.5,u=v+.5,c=1}if(l<1){var d=(f+h)/2;f=d-.5,h=d+.5,l=1}var y,A,b=c/l,p=c*r.x,m=l*r.y,g=c-p,x=l-m,S=p>g?[g,p]:[p,g],w=m>x?[x,m]:[m,x],M=1,C=1;switch(e){default:case t.GradientExtent.closestSide:y=S[0]/c,A=w[0]/l,o===t.GradientShape.circle?(M=T=Math.min(y*b,A),C=T):(M=y*b,C=A);break;case t.GradientExtent.farthestSide:y=S[1]/c,A=w[1]/l,o===t.GradientShape.circle?(M=T=Math.max(y*b,A),C=T):(M=y*b,C=A);break;case t.GradientExtent.closestCorner:A=w[0]/l,o===t.GradientShape.circle?(y=S[0]/c*b,M=T=Math.sqrt(y*y+A*A),C=T):(y=S[0]/c,M=(T=Math.sqrt(y*y+A*A))*b,C=T);break;case t.GradientExtent.farthestCorner:var T;A=w[1]/l,o===t.GradientShape.circle?(y=S[1]/c*b,M=T=Math.sqrt(y*y+A*A),C=T):(y=S[1]/c,M=(T=Math.sqrt(y*y+A*A))*b,C=T)}return{bounds:[a*s,f*s,c*s,l*s],center:[r.x*b,r.y],distance:[Math.max(M,1e-4),Math.max(C,1e-4)],aspectRatio:b}}function UM(t,i,n,r){var e=i.x.pi(t.max.x),s=i.x.pi(t.min.x),u=i.y.pi(t.max.y),a=i.y.pi(t.min.y),h=e-s,f=u-a,c=Math.abs(h*Math.sin(n))+Math.abs(f*Math.cos(n)),l=o(h/2-Math.sin(n)*(c/2),f/2-Math.cos(n)*(c/2)),v=o(h/2+Math.sin(n)*(c/2),f/2+Math.cos(n)*(c/2));return{bounds:[s*r,a*r,h*r,f*r],startPoint:[l.x*r,l.y*r],endPoint:[v.x*r,v.y*r]}}var YM=function(t){this.FD=t},WM=function(){function t(){var t=this;this.dE=new Array,this.yE=function(i){return t.dE.push(i),i},this.AE=this.yE(new Map),this.bE=this.yE(new Map),this.pE=this.yE(new Map),this.mE=this.yE(new Map),this.gE=this.yE(new Map),this.xE=this.yE(new Map),this.SE=this.yE(new Map),this.wE=this.yE(new Map)}return t.prototype.ME=function(){this.dE.forEach((function(t){t.forEach((function(t){return t.ME()})),t.clear()}))},t}(),XM=function(t,i,n){return void 0===n&&(n=void 0),function(){t.CE=i,n&&n()}},HM=function(i,n,r,e,o){var s=Math.min(r/i,e/n),u=i*s,a=n*s,h=r/u,f=e/a,c=u/r,l=a/e,v=0,d=1,y=0,A=1;switch(o){case t.ImageFitMode.Fill:f<h?(v=0,d=1,y=.5+-c/2,A=.5+c/2):(y=0,A=1,v=.5+-l/2,d=.5+l/2);break;case t.ImageFitMode.Fit:f<h?(y=0,A=1,v=.5+-h/2,d=.5+h/2):(v=0,d=1,y=.5+-f/2,A=.5+f/2);break;case t.ImageFitMode.Center:var b=r/i,p=e/n;v=.5+-b/2,d=.5+b/2,y=.5+-p/2,A=.5+p/2;break;case t.ImageFitMode.Tile:v=0,d=r/i,y=0,A=e/n;break;case t.ImageFitMode.Stretch:default:v=0,d=1,y=0,A=1}return new Float32Array([v,A,d,A,d,y,v,y])},ZM=function(){function t(t,i){var n=this;if(this.TE=0,this.kE=0,this._E=!1,this.CE=!1,this.OE=!1,this.FE=!1,this.IE=!1,this.jE=new Set,this.BE=new Set,this.Fr=i,this.oL=t,this.DE=null,this._E=i instanceof Qe.HTMLVideoElement,this.Fr instanceof Qe.HTMLImageElement)this.Fr.addEventListener("load",(function(){n.FE=!0,n.LE()})),this.Fr.addEventListener("error",(function(){n.IE=!0})),this.Fr.complete&&(this.FE=!0,this.LE());else if(this.Fr instanceof Qe.HTMLVideoElement){var r=this;this.Fr.addEventListener("canplay",(function(){r.kE=this.videoHeight,r.TE=this.videoWidth,r.FE=!0,r.LE()}),!0),this.Fr.addEventListener("play",XM(this,!0,(function(){return n.LE()}))),this.Fr.addEventListener("playing",XM(this,!0,(function(){return n.LE()}))),this.Fr.addEventListener("pause",XM(this,!1)),this.Fr.addEventListener("ended",XM(this,!1)),this.Fr.readyState>=1&&(this.TE=this.Fr.videoWidth,this.kE=this.Fr.videoHeight,this.CE=!this.Fr.paused,this.FE=!0,this.LE())}else this.FE=!0,this.LE()}return t.prototype.zl=function(t){0===this.BE.size&&this.FE&&this.LE(),this.BE.add(t)},t.prototype.GD=function(t){this.BE.delete(t),0===this.BE.size&&this.unbindResources()},t.prototype.EE=function(t){this.jE.add(t),this.OE&&(t(),this.PE(t))},t.prototype.PE=function(t){this.jE.delete(t)},t.prototype.LE=function(){var t=this;if(!this.IE&&!this.OE&&this.FE){var i=this.oL.gl;if(!this.DE&&this.Fr&&i){this.DE=i.createTexture(),i.bindTexture(i.TEXTURE_2D,this.DE),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);var n=i.RGBA,r=i.RGBA,e=i.UNSIGNED_BYTE,o=this.Fr,s=this.TE>0?this.TE:o.width,u=this.kE>0?this.kE:o.height;i.texImage2D(i.TEXTURE_2D,0,n,r,e,o),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),this.TE=s,this.kE=u,i.bindTexture(i.TEXTURE_2D,null)}this.OE=!0,this.jE&&this.jE.forEach((function(i){i(),t.PE(i)}))}},t.prototype.ds=function(){var t=this.oL.gl;if(!this.IE&&this.OE&&this.DE){var i=t.RGBA,n=t.RGBA,r=t.UNSIGNED_BYTE,e=this.Fr;e&&(t.bindTexture(t.TEXTURE_2D,this.DE),t.texImage2D(t.TEXTURE_2D,0,i,n,r,e))}},t.prototype.zE=function(){return this.DE},t.prototype.unbindResources=function(){return this.OE&&(this.DE&&(this.oL.BD(this.DE),this.DE=null),this.OE=!1),this},t}(),JM=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),QM=function(t){function i(i,n,r){var e=t.call(this,i.qi,n,r)||this;return e.HA=!0,e.YA=l(la),e.kr=i,e.Yi=i.Yi,e}return JM(i,t),i.prototype.NE=function(){var t;return this.YA.o&&this.YA.T().type!==(null===(t=this.VE)||void 0===t?void 0:t.type)},i.prototype.qA=function(t){return this.HA=t,this},i}(ge),KM=function(t,i,n,r){var e=t.RE(),o=Math.round(Math.min(n.spread,10)*e),s=Math.round(Math.min(n.blur,10)*e),u=Math.round(n.offset.x*e),a=Math.round(n.offset.y*e),h=t.GE(),f=t.UE(),c=t.YE(),l=t.WE(),v=t.XE();t.HE("disabled"),t.qA(!1),t.ZE(!1);var d=t.qi.Ka.QL,y=i.JE(),A=o+s/2,b=function(t,i,n,r){var e=t.gl,o=t.RE(),s=t.QE();t.KE(e.FRAMEBUFFER,r.frameBuffer),e.bindRenderbuffer(e.RENDERBUFFER,r.depthBuffer),e.bindTexture(e.TEXTURE_2D,r.texture),e.clearDepth(1),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);var u=r.sizeDpr;t.qE(0,0,u.x,u.y);var a=[],h=t.qi.Ka.QL;return i.forEach((function(i){var r;if(i instanceof Gf){var e=!1;if(!(r=i.Un||i.kr.UA())){var s=i.kr.$E(i);s&&s.max.x-s.min.x>0&&s.max.y-s.min.y>0&&(r={x:s.min.x,y:s.min.y,width:s.max.x-s.min.x,height:s.max.y-s.min.y},e=!0)}r&&(r.width>0&&r.height>0?(e&&(r.x-=n.left/o,r.y-=n.top/o,r.width+=(n.left+n.right)/o,r.height+=(n.top+n.bottom)/o),a.push({x:r.x,y:r.y,width:r.width,height:r.height})):r=void 0)}else i instanceof QM&&(r=i.kr.cg());if(r){var u=r.x+(h?0:n.left),f=r.y+(h?0:n.bottom),c=Math.max(r.width-(h?0:n.left+n.right),0),l=Math.max(r.height-(h?0:n.bottom+n.top),0);t.tP(u*o,f*o,c*o,l*o)}else t.ZE(!1);i.fl(2,0)})),t.KE(e.FRAMEBUFFER,s),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),t.ZE(!1),a}(t,r,{left:A+(u<0?-u:0),top:A+(a>0?a:0),right:A+(u>0?u:0),bottom:A+(a<0?-a:0)},y),p=y,m=o+s+5,g=function(t,i,n,r){var e=function(t){for(var i=[],n=function(n){var r=t[n],e=void 0;do{var o=i.findIndex((function(t){return xs(r,t)}));(e=o>=0?i[o]:void 0)&&(i.splice(o,1),r=Ls(r,e))}while(e);i.push(r)},r=0;r<t.length;r+=1)n(r);return i}(i.map((function(t){var i=t instanceof Gf||t instanceof QM?t.kr.$E(t):ps;if(Jo(i))return ps;var e={min:{x:Math.max(i.min.x-n.left,0),y:Math.max(i.min.y-n.bottom,0)},max:{x:Math.min(i.max.x+n.right,r.x),y:Math.min(i.max.y+n.top,r.y)}};return e.max.x<=e.min.x||e.max.y<=e.min.y?ps:e})).filter((function(t){return!Jo(t)}))),o=6*e.length,s=new Float32Array(4*o),u=0;return e.forEach((function(t){var i=Hs(t.min,r),n=Hs(t.max,r),e=i,o=n;s[u+0]=i.x,s[u+1]=i.y,s[u+2]=e.x,s[u+3]=e.y,s[u+4]=n.x,s[u+5]=i.y,s[u+6]=o.x,s[u+7]=e.y,s[u+8]=n.x,s[u+9]=n.y,s[u+10]=o.x,s[u+11]=o.y,s[u+12]=n.x,s[u+13]=n.y,s[u+14]=o.x,s[u+15]=o.y,s[u+16]=i.x,s[u+17]=n.y,s[u+18]=e.x,s[u+19]=o.y,s[u+20]=i.x,s[u+21]=i.y,s[u+22]=e.x,s[u+23]=e.y,u+=24})),{vertexBuffer:t.iP(s),vertexCount:o}}(t,r,{left:m+(u<0?-u:0),top:m+(a>0?a:0),right:m+(u>0?u:0),bottom:m+(a<0?-a:0)},i.nP()),x=i.JE(p),S=t.rE(rM["2D"],rM.Glow1D({spreadPx:o,blurPx:s,firstPass:!0}),rM.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:"linear",normalSource:void 0}));!function(t,i,n,r,e,o){var s=t.gl,u=t.QE();t.KE(s.FRAMEBUFFER,n.frameBuffer),s.bindRenderbuffer(s.RENDERBUFFER,n.depthBuffer),s.bindTexture(s.TEXTURE_2D,n.texture),s.clearDepth(1),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),t.qE(0,0,n.sizeDpr.x,n.sizeDpr.y),t.rP(r,(function(u,a,h,f){return t.zl(r),o&&o(u),t.uP(u("uIsHighlighted"),0).wI(u("uHighlightColorOffset"),Or).uP(u("uRenderEffectMask"),0).sP(u("uTexture"),i.texture,0).oP(f("uTextureSize"),[i.sizeDpr.x,i.sizeDpr.y]).oP(u("uScale"),n.uniforms.aP()).oP(u("uDisp"),n.uniforms.hP()).oP(u("uScaling"),[n.size.x,n.size.y]).oP(u("uTranslationAxis"),[0,0]).eP(e.vertexBuffer,void 0,{location:a("aPos"),size:2},{location:a("aTextureCoord"),size:2}).xk(s.TRIANGLES,e.vertexCount,0),!0})),t.KE(s.FRAMEBUFFER,u),s.bindRenderbuffer(s.RENDERBUFFER,null),s.bindTexture(s.TEXTURE_2D,null)}(t,p,x,S,g,(function(i,n,r,e){return t.oP(i("uOffsetPx"),[u+1,a+1]),!0})),t.ZE(f),t.fP(v),d&&(function(t,i){if(!(void 0===i||i.length<1)){for(var n=t.gl,r=6*i.length*2,e=[r],o=0,s=0;s<i.length;s+=1){var u=i[s];e[o+0]=u.x,e[o+1]=u.y,e[o+2]=u.x+u.width,e[o+3]=u.y,e[o+4]=u.x,e[o+5]=u.y+u.height,e[o+6]=u.x+u.width,e[o+7]=u.y,e[o+8]=u.x+u.width,e[o+9]=u.y+u.height,e[o+10]=u.x,e[o+11]=u.y+u.height,o+=12}var a=t.iP(e,!0),h={x:t.qi.ai().x,y:t.qi.ai().y},f=ne.d2({scaleXYConstructor:$r}).zt(h).Pi(0,h.x).zi(0,h.y),c=new rC;c.cP(f);var l=t.rE(rM["2D"],rM.VertexLocation({scaling:{dataType:"uniform"},translation:void 0,axisWorldTranslation:"linear",normalSource:void 0}),rM.Color({dataType:"uniform"}));t.lP(!0),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.stencilFunc(n.ALWAYS,1,255),n.stencilOp(n.KEEP,n.KEEP,n.REPLACE),n.stencilMask(255),n.colorMask(!1,!1,!1,!1),t.zl(l).dP(l.lL("aPos"),a).oP(l.fL("uDisp"),c.hP()).oP(l.fL("uScaling"),[1,1]).oP(l.fL("uScale"),c.aP()).vP(l.fL("uColor"),[1,1,1,1]).xk(n.TRIANGLES,r/2),t.yP(a),n.colorMask(!0,!0,!0,!0)}}(t,b),t.gl.stencilFunc(t.gl.EQUAL,1,255),t.gl.stencilOp(t.gl.KEEP,t.gl.KEEP,t.gl.KEEP),t.lP(!0));var w=t.rE(rM["2D"],rM.Glow1D({spreadPx:o,blurPx:s,firstPass:!1}),rM.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:"linear",normalSource:void 0}));!function(t,i,n,r,e){var o=t.gl,s={x:t.qi.ai().x,y:t.qi.ai().y};t.qE(0,0,s.x*t.RE(),s.y*t.RE());var u=ne.d2({scaleXYConstructor:$r}).zt(s).Pi(0,s.x).zi(0,s.y),a=new rC;a.cP(u),t.rP(n,(function(u,h,f,c){return t.zl(n),e&&e(u),t.uP(u("uIsHighlighted"),0).wI(u("uHighlightColorOffset"),Or).uP(u("uRenderEffectMask"),0).sP(u("uTexture"),i.texture,0).oP(c("uTextureSize"),[i.sizeDpr.x,i.sizeDpr.y]).oP(u("uScale"),a.aP()).oP(u("uDisp"),a.hP()).oP(u("uScaling"),[s.x,s.y]).oP(u("uTranslationAxis"),[0,0]).eP(r.vertexBuffer,void 0,{location:h("aPos"),size:2},{location:h("aTextureCoord"),size:2}).xk(o.TRIANGLES,r.vertexCount,0),!0}))}(t,y,w,g,(function(i,r,e,o){return t.sP(i("uTextureFirstGlowPass"),x.texture,1).wI(i("uGlowColor"),n.color),!0})),t.qE(h.x,h.y,h.width,h.height),t.HE(c),t.qA(l),t.yP(g.vertexBuffer),d&&t.lP(!1)},qM=function(){function t(t){this.AP=[],this.FD=t}return t.prototype.bP=function(t,i){KM(this.FD,this,i,t)},t.prototype.nP=function(){var t=this.FD.qi.ai();return{x:Math.ceil(t.x),y:Math.ceil(t.y)}},t.prototype.JE=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=this.AP,r=this.nP(),e={x:Math.ceil(r.x*this.FD.RE()),y:Math.ceil(r.y*this.FD.RE())},o=this.FD.gl,s=n.find((function(i){return!t.includes(i)}));if(s)return s.sizeDpr.x===e.x&&s.sizeDpr.y===e.y||(s.size=r,s.sizeDpr=e,o.bindTexture(o.TEXTURE_2D,s.texture),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,e.x,e.y,0,o.RGBA,o.UNSIGNED_BYTE,null),o.bindRenderbuffer(o.RENDERBUFFER,s.depthBuffer),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,e.x,e.y),o.bindTexture(o.TEXTURE_2D,null),o.bindRenderbuffer(o.RENDERBUFFER,null),s.scale.zt(r).Pi(0,r.x).zi(0,r.y),s.uniforms.cP(s.scale)),s;var u=o.createTexture(),a=this.FD.pP(),h=this.FD.mP();o.bindTexture(o.TEXTURE_2D,u),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,e.x,e.y,0,o.RGBA,o.UNSIGNED_BYTE,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);var f=this.FD.QE();this.FD.KE(o.FRAMEBUFFER,a),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,u,0),o.bindRenderbuffer(o.RENDERBUFFER,h),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,e.x,e.y),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,h),o.bindTexture(o.TEXTURE_2D,null),this.FD.KE(o.FRAMEBUFFER,f),o.bindRenderbuffer(o.RENDERBUFFER,null);var c=ne.d2({scaleXYConstructor:$r}).zt(r).Pi(0,r.x).zi(0,r.y),l=new rC;l.cP(c);var v={size:r,sizeDpr:e,texture:u,frameBuffer:a,depthBuffer:h,scale:c,uniforms:l};return n.push(v),v},t.prototype.Ft=function(){var t=this;[this.AP].forEach((function(i){i.forEach((function(i){t.FD.gP(i.depthBuffer),t.FD.xP(i.frameBuffer),t.FD.BD(i.texture)})),i.length=0}))},t}(),$M=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},tC=function(){function i(i,n,r,e,o){void 0===o&&(o=!0);var s,u,a=this;this.SP=new WM,this.wP=new Map,this.MP=new Map,this.CP=[],this.YL=1,this.IS_MACHINE_LITTLE_ENDIAN=(s=new Uint32Array([287454020]),68===(u=new Uint8Array(s.buffer))[0]||17!==u[0]&&(Qe.console.error("Unidentified machine endianness. Some features might behave unexpectedly."),!0)),this.HA=!1,this.TP=!1,this.oP=function(t,i){var n=$M(i,2),r=n[0],e=n[1];return void 0===t||a.gl.uniform2f(t,r,e),a},this.kP=function(t,i){var n=$M(i,2),r=n[0],e=n[1];return void 0===t||a.gl.uniform2i(t,r,e),a},this.vP=function(t,i){var n=$M(i,4),r=n[0],e=n[1],o=n[2],s=n[3];return void 0===t||a.gl.uniform4f(t,r,e,o,s),a},this._P=function(t,i){var n=$M(i,3),r=n[0],e=n[1],o=n[2];return void 0===t||a.gl.uniform3f(t,r,e,o),a},this.OP=function(t,i){return void 0===t||a.gl.uniformMatrix3fv(t,!1,i),a},this.FP=function(t,i){return void 0===t||a.gl.uniformMatrix4fv(t,!1,i),a},this.wI=function(t,i){return void 0===t||a.gl.uniform4f(t,i.r,i.g,i.b,i.a),a},this.uP=function(t,i){return void 0===t||a.gl.uniform1f(t,i),a},this.IP=function(t,i){return a.gl.uniform1i(t,i),a},this.sP=function(t,i,n){if(void 0===t)return a;if(i){var r=a.gl.TEXTURE0+n;return a.gl.activeTexture(r),a.gl.bindTexture(a.gl.TEXTURE_2D,i),a.gl.uniform1i(t,n),a}throw new zS("Could not bind a texture.")},this.jP=function(i){return function(i,n){n===t.ImageFitMode.Tile?(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.REPEAT),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.REPEAT)):(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE))}(a.gl,i),a},this.iP=function(t,i,n,r){void 0===i&&(i=!1),void 0===r&&(r=Float32Array);var e=t.length,o=a.BP(e,n);if(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,o),a.gl.bufferData(a.gl.ARRAY_BUFFER,t instanceof r?t:new r(t),i?a.gl.DYNAMIC_DRAW:a.gl.STATIC_DRAW),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,null),o)return o;throw new zS("Could not create vertex buffer")},this.DP=function(t,i,n,r){void 0===r&&(r=Float32Array);var e=n||a.gl.createBuffer();if(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,e),i&&i.length===t?a.gl.bufferData(a.gl.ARRAY_BUFFER,i instanceof r?i:new r(i),a.gl.STATIC_DRAW):(a.gl.bufferData(a.gl.ARRAY_BUFFER,t*r.BYTES_PER_ELEMENT,a.gl.STATIC_DRAW),i&&a.gl.bufferSubData(a.gl.ARRAY_BUFFER,0,i instanceof r?i:new r(i))),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,null),e)return e;throw new zS("Could not create vertex buffer")},this.LP=function(t,i,n,r){void 0===r&&(r=Float32Array),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,t),a.gl.bufferSubData(a.gl.ARRAY_BUFFER,i*r.BYTES_PER_ELEMENT,n instanceof r?n:new r(n)),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,null)},this.EP=function(t,i,n,r,e){var o,s;return r&&t&&(t.usedSize=0),t?t.usedSize+i.length>t.preallocSize?((s=new e(o=t.usedSize+i.length+n)).set(t.dataCache),s.set(i,t.usedSize),{buffer:a.DP(o,s,t.buffer,e),dataCache:s,preallocSize:o,usedSize:t.usedSize+i.length}):(t.dataCache.set(i,t.usedSize),a.LP(t.buffer,t.usedSize,i,e),t.usedSize+=i.length,t):((s=new e(o=i.length+n)).set(i),{buffer:a.DP(o,s,void 0,e),dataCache:s,preallocSize:o,usedSize:i.length})},this.PP=function(t,i,n){void 0===n&&(n=!1),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,t),a.gl.bufferData(a.gl.ARRAY_BUFFER,i,n?a.gl.DYNAMIC_DRAW:a.gl.STATIC_DRAW),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,null)},this.zP=function(t,i){var n=t.length,r=a.BP(n,i);if(a.gl.bindBuffer(a.gl.ELEMENT_ARRAY_BUFFER,r),a.gl.bufferData(a.gl.ELEMENT_ARRAY_BUFFER,t,a.gl.STATIC_DRAW),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,null),r)return r;throw new zS("Could not create index buffer")},this.NP=function(t){var i=a.gl.createBuffer();if(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,i),a.gl.bufferData(a.gl.ARRAY_BUFFER,t instanceof Float32Array?t:new Float32Array(t),a.gl.STATIC_DRAW),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,null),i)return i;throw new zS("Could not create float buffer")},this.dP=function(t,i){return void 0===t||(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,i),a.gl.enableVertexAttribArray(t),a.gl.vertexAttribPointer(t,2,a.gl.FLOAT,!1,0,0)),a},this.VP=function(t,i){return void 0===t||(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,i),a.gl.vertexAttribPointer(t,3,a.gl.FLOAT,!1,0,0),a.gl.enableVertexAttribArray(t)),a},this.eP=function(t,i){for(var n,r=[],e=2;e<arguments.length;e++)r[e-2]=arguments[e];a.gl.bindBuffer(a.gl.ARRAY_BUFFER,t);for(var o=r.length,s=0,u=0;u<o;u+=1)s+=r[u].size;for(u=0;u<o;u+=1){var h=r[u].location;void 0!==h&&h>-1&&a.gl.enableVertexAttribArray(h)}var f=0;for(u=0;u<o;u+=1){var c=r[u];void 0!==c.location&&c.location>-1&&a.gl.vertexAttribPointer(c.location,c.size,a.gl.FLOAT,!1,s*Float32Array.BYTES_PER_ELEMENT,f*Float32Array.BYTES_PER_ELEMENT+(null!==(n=c.extraOffset)&&void 0!==n?n:0)),f+=c.size}if(void 0!==i)for(u=0;u<o;u+=1){var l=r[u].location;void 0!==l&&l>-1&&a.RP(l,i)}return a},this.GP=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var n=t.length,r=0;r<n;r+=1){var e=t[r];0!==e&&e>-1&&a.gl.disableVertexAttribArray(e)}return a},this.UP=function(t,i){return void 0===t||(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,i),a.gl.enableVertexAttribArray(t),a.gl.vertexAttribPointer(t,4,a.gl.FLOAT,!1,0,0)),a},this.YP=function(t,i,n,r){return void 0===r&&(r=0),void 0===t||(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,i),a.gl.vertexAttribPointer(t,1,a.gl.FLOAT,!1,0,r),a.gl.enableVertexAttribArray(t),void 0!==n&&a.RP(t,n)),a},this.WP=function(t){return a.gl.bindBuffer(a.gl.ELEMENT_ARRAY_BUFFER,t),a},this.XP=null,this.xk=function(t,i,n){return void 0===n&&(n=0),i>0&&a.gl.drawArrays(t,n,i),a},this.HP=function(t,i,n,r){return void 0===i&&(i=a.gl.TRIANGLES),void 0===n&&(n=0),void 0===r&&(r=a.gl.UNSIGNED_SHORT),t>0&&a.gl.drawElements(i,t,r,n),a},this.ZP=function(t,i,n,r){if(r>0&&(a.gl2&&a.gl2.ctx.drawArraysInstanced(t,i,n,r),a.gl1)){if(!a.gl1.KL.ANGLE_instanced_arrays)return Qe.console.warn("The browser does not support REQUIRED WebGL 1 extension: ANGLE_instanced_arrays.\nThis application will NOT work properly!"),a;a.gl1.KL.ANGLE_instanced_arrays.drawArraysInstancedANGLE(t,i,n,r)}return a},this.JP=function(t,i,n,r,e){if(void 0===e&&(e=a.gl.UNSIGNED_SHORT),r>0&&(a.gl2&&a.gl2.ctx.drawElementsInstanced(t,i,e,n,r),a.gl1)){if(!a.gl1.KL.ANGLE_instanced_arrays)return Qe.console.warn("The browser does not support REQUIRED WebGL 1 extension: ANGLE_instanced_arrays.\nThis application will NOT work properly!"),a;a.gl1.KL.ANGLE_instanced_arrays.drawElementsInstancedANGLE(t,i,e,n,r)}return a},this.RP=function(t,i){if(t>-1&&(a.gl2&&a.gl2.ctx.vertexAttribDivisor(t,i),a.gl1)){if(!a.gl1.KL.ANGLE_instanced_arrays)return Qe.console.warn("The browser does not support REQUIRED WebGL 1 extension: ANGLE_instanced_arrays.\nThis application will NOT work properly!"),a;a.gl1.KL.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(t,i)}return a},this.QP=function(t,i,n,r){void 0===r&&(r=0);var e=a.gl.TEXTURE0+r;a.gl.activeTexture(e);var o=a.QE();a.KE(a.gl.FRAMEBUFFER,i),a.gl.bindTexture(a.gl.TEXTURE_2D,n),a.gl.framebufferTexture2D(a.gl.FRAMEBUFFER,a.gl.COLOR_ATTACHMENT0,a.gl.TEXTURE_2D,n,0);var s=a.UE();s&&a.ZE(!1),t(),s&&a.ZE(!0),a.gl.bindTexture(a.gl.TEXTURE_2D,null),a.KE(a.gl.FRAMEBUFFER,o)},this.Sn=function(){return a.gl.clear(a.gl.COLOR_BUFFER_BIT|a.gl.DEPTH_BUFFER_BIT),a},this.KP=function(t){return a.gl.clearColor(t.r,t.g,t.b,t.a),a},this.zl=function(t){return a.gl.useProgram(t.sL),a},this.qP=!1,this.$P=[],this.qi=i,this.SA=n,this.qi=i,this.gl=r.ctx,this.tz=r.antialias,this.iz=!!this.qi.Ka.bL&&r.lineAntialias,this.qL=this.qi.Ka.qL,this.nz=new Map,this.gl1=this.qi.Ka.gl1,this.gl2=this.qi.Ka.gl2,o&&(this.fP(!0),this.rz()),this.KL=this.qi.Ka.KL,this.jD=this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE),this.PD=this.ez(),this.rE=this.qi.Ka.rE,this.oz=new oC(this),this.WD=this.qi.Ka.WD,this.sz=new qM(this),this.AL=this.qi.Ka.AL,this.uz=this.iP([0,0,1,0,1,1,0,1]),this.az=this.iP([0,0,1,0,0,1,0,1,1,0,1,1])}return i.prototype.HE=function(t){return t!==this.hz&&(this.hz=t,"disabled"===t?this.gl.disable(this.gl.CULL_FACE):"cull-back"===t?(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.BACK)):"cull-front"===t&&(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.FRONT))),this},i.prototype.YE=function(){return this.hz||"disabled"},i.prototype.qA=function(t){return t!==this.HA&&(this.HA=t,t?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST)),this},i.prototype.lP=function(t){return t!==this.TP&&(this.TP=t,t?this.gl.enable(this.gl.STENCIL_TEST):this.gl.disable(this.gl.STENCIL_TEST)),this},i.prototype.WE=function(){return this.HA},i.prototype.fz=function(t){return this.YL=t,this},i.prototype.RE=function(){return this.YL},i.prototype.BP=function(t,i){var n;if(i){var r=this.nz.get(i);r&&r.size>=t&&r.size-t<1e6?n=i:this.yP(i)}return n||(n=this.gl.createBuffer(),this.nz.set(n,{size:t})),n},i.prototype.ZS=function(t,i,n,r,e,o,s,u){void 0===i&&(i=this.gl.RGBA),void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===s&&(s=this.gl.UNSIGNED_BYTE),void 0===u&&(u=i);var a=this.gl.createTexture();if(!a)throw new zS("Couldn't reserve Texture.");return this.gl.bindTexture(this.gl.TEXTURE_2D,a),this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o),t&&null===e?this.gl.texImage2D(this.gl.TEXTURE_2D,0,u,i,s,t):e&&this.gl.texImage2D(this.gl.TEXTURE_2D,0,u,e.x,e.y,0,i,s,t),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,r?this.gl.NEAREST:this.gl.LINEAR),n?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.generateMipmap(this.gl.TEXTURE_2D)):this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,r?this.gl.NEAREST:this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),a},i.prototype.BD=function(t){this.gl.deleteTexture(t)},i.prototype.pP=function(){var t=this.gl.createFramebuffer();if(!t)throw new zS("Couldn't reserve Framebuffer.");return t},i.prototype.KE=function(t,i){this.XP=i,this.gl.bindFramebuffer(t,i)},i.prototype.QE=function(){return this.XP},i.prototype.xP=function(t){this.gl.deleteFramebuffer(t)},i.prototype.mP=function(){var t=this.gl.createRenderbuffer();if(!t)throw new zS("Couldn't reserve Render buffer.");return t},i.prototype.gP=function(t){this.gl.deleteRenderbuffer(t)},i.prototype.cz=function(){var t=this.gl;switch(t.checkFramebufferStatus(t.FRAMEBUFFER)){default:case t.FRAMEBUFFER_COMPLETE:Qe.console.log("FRAMEBUFFER_COMPLETE");break;case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:Qe.console.log("FRAMEBUFFER_INCOMPLETE_ATTACHMENT");break;case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:Qe.console.log("FRAMEBUFFER_INCOMPLETE_DIMENSIONS");break;case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:Qe.console.log("FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");break;case t.FRAMEBUFFER_UNSUPPORTED:Qe.console.log("FRAMEBUFFER_UNSUPPORTED")}},i.prototype.qE=function(t,i,n,r){return this.gl.viewport(t,i,n,r),this.lz&&t===this.lz.x&&i===this.lz.y&&n===this.lz.width&&r===this.lz.height||(this.lz={x:t,y:i,width:n,height:r}),this},i.prototype.GE=function(){return this.lz||{x:0,y:0,width:0,height:0}},i.prototype.tP=function(t,i,n,r){return this.ZE(!0),this.gl.scissor(Math.max(t,0),Math.max(i,0),Math.max(n,0),Math.max(r,0)),this},i.prototype.ZE=function(t){return t===this.vz||(t?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this.vz=t),this},i.prototype.fP=function(t){return t!==this.qP&&(this.qP=t,t&&this.gl.enable(this.gl.BLEND),t||this.gl.disable(this.gl.BLEND)),this},i.prototype.XE=function(){return this.qP},i.prototype.rz=function(t,i,n,r){return t?(void 0!==t&&void 0!==i&&(void 0!==n&&void 0!==r?this.gl.blendFuncSeparate(t,i,n,r):this.gl.blendFunc(t,i)),this):(this.gl.blendFuncSeparate(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA),this)},i.prototype.UE=function(){return void 0!==this.vz&&this.vz},i.prototype.rP=function(t,i){var n=new sC(this,t),r=i(n.uniform,n.attribute,n,n.uniformOptional);n.finish(r)},i.prototype.yP=function(t){t&&(this.gl.deleteBuffer(t),this.nz.delete(t))},i.prototype.dz=function(t,i,n){this.oP(t.uniform("uCenter"),i.center).oP(t.uniform("uDistance"),i.distance).vP(t.uniform("uBounds"),i.bounds).uP(t.uniform("uAspect"),i.aspectRatio);var r=n.getColorStops();if(r.length<2)throw new Error("Minimum two color stops required");for(var e=0;e<r.length;e+=1)this.wI(t.uniform("color_".concat(e)),r[e].color).uP(t.uniform("stop_".concat(e)),r[e].offset);return this},i.prototype.yz=function(t,i,n){this.oP(t.uniform("uStartPoint"),i.startPoint).oP(t.uniform("uEndPoint"),i.endPoint).vP(t.uniform("uBounds"),i.bounds);var r=n.getColorStops();if(r.length<2)throw new Error("Minimum two color stops required");for(var e=0;e<r.length;e+=1)this.wI(t.uniform("color_".concat(e)),r[e].color).uP(t.uniform("stop_".concat(e)),r[e].offset);return this},i.prototype.Ko=function(t){var i=this.AL.get(t);if(!i){var n=new sw(this);return this.AL.set(t,n),n}return i},i.prototype.Az=function(t){var i=this.wP.get(t);if(!i){var n=new ZM(this,t);return this.bz(t,n),n}return i},i.prototype.bz=function(t,i){this.wP.set(t,i)},i.prototype.ez=function(){var t=this.gl,i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,1,1,0,t.ALPHA,t.UNSIGNED_BYTE,new Uint8ClampedArray([0]));var n=0===t.getError();return n||!1!==this.SA.rh&&Qe.console.info("LightningChart JS - Uint8ClampedArray is not supported as texture data. The above WebGL error/warning is from the feature detection. There is nothing to worry about."),t.deleteTexture(i),n},i.prototype.pz=function(t,i,n,r){if(n)this.eP(i,r,{location:t.attribute("aPos_highpart"),size:2},{location:t.attribute("aPos_lowpart"),size:2});else{var e=t.attribute("aPos");this.dP(e,i),void 0!==r&&this.RP(e,r)}return this},i.prototype.mz=function(){this.KL.WEBGL_lose_context&&this.KL.WEBGL_lose_context.loseContext()},i.prototype.gz=function(t){if(this.xz&&this.xz.bufferIdsCount>=t)return this.xz.buffer;this.xz&&(this.yP(this.xz.buffer),this.xz=void 0);for(var i=t,n=new Float32Array(i),r=0;r<i;r+=1)n[r]=r;var e=this.iP(n);return this.xz={buffer:e,bufferIdsCount:i},e},i.prototype.Sz=function(){return this.gl2?void 0:"attribute"},i.prototype.wz=function(t,i){if("attribute"===this.Sz()){var n=this.gz(i);this.eP(n,void 0,{location:t.attribute("aVertexID"),size:1})}return this},i.prototype.Mz=function(){return this.gl2?void 0:"attribute"},i.prototype.Cz=function(t,i){if("attribute"===this.Mz()){var n=this.gz(i);this.eP(n,1,{location:t.attribute("aInstanceID"),size:1})}return this},i.prototype.Tz=function(t,i,n,r,e,o,s,u,a){var h=this,f=t.createBuffer();return this.$P.push(f),t.bindFramebuffer(t.FRAMEBUFFER,i),t.bindBuffer(t.PIXEL_PACK_BUFFER,f),t.bufferData(t.PIXEL_PACK_BUFFER,a.byteLength,t.STREAM_READ),t.readPixels(n,r,e,o,s,u,0),t.bindBuffer(t.PIXEL_PACK_BUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),nC(t,(function(){return h.qi.Hi}),t.PIXEL_PACK_BUFFER,f,0,a).then((function(){return a})).catch((function(t){throw t})).finally((function(){t.deleteBuffer(f),h.$P.splice(h.$P.indexOf(f),1)}))},i.prototype.kz=function(t,i,n,r,e,o,s,u){var a=this.gl,h=this.QE();this.KE(a.FRAMEBUFFER,t),a.readPixels(i,n,r,e,o,s,u),this.KE(this.gl.FRAMEBUFFER,h)},i.prototype._z=function(t){var i,n=this.MP.get(t);if(!n){var r=this.gl.createTexture();if(!r)throw new zS("Couldn't reserve Texture.");this.gl.bindTexture(this.gl.TEXTURE_2D,r);for(var e=[],o=255,s=0;s<t.length;s+=1){for(var u=0;u<t[s];u+=1)e.push(o);o=255===o?0:255}var a=e.length;if(!this.gl2&&(i=e.length)&i-1)for(var h=function(t){t-=1;for(var i=1;i<32;i<<=1)t|=t>>1;return t+1}(e.length),f=e.length;f<h;f+=1)e[f]=0;this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.gl.pixelStorei(this.gl.PACK_ALIGNMENT,1),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,e.length,1,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,new Uint8Array(e)),this.gl.bindTexture(this.gl.TEXTURE_2D,null);var c={Oz:r,Fz:a,Iz:e.length};return this.MP.set(t,c),c}return n},i.prototype.jz=function(t,i,n){var r=t.uniform;this.wI(r("uFallbackColor"),i.getFallbackColor());for(var e=0;e<i.steps.length;e+=1)this.uP(r("uLUTValue".concat(e)),i.steps[e].value),this.wI(r("uLUTColor".concat(e)),i.steps[e].color);if(i.percentageValues){if(!n)return Ho(0,(function(){})),this;this.uP(r("uMinValue"),n.min),this.uP(r("uMaxValue"),n.max)}return this},i.prototype.Bz=function(i,n,r,e,o,s){var u=this,a=r&&r.getSource()||e&&e.Fr,h=r?r.getFitMode():t.ImageFitMode.Stretch,f=function(t){t.texCoordsBuffer=u.iP(s(t.texture.TE,t.texture.kE,h),!1,t.texCoordsBuffer)};if(a){var c=n;if((!n||a!==n.source)&&a){n&&(n.texture.GD(i),this.yP(n.texCoordsBuffer));var l=this.Az(a);l.zl(i);var v=r?r.getSourceMissingColor():xh.color;c={texture:l,source:a,texCoordsBuffer:this.iP([]),sourceMissingTexture:this.ZS(new Uint8Array([v.getR(),v.getG(),v.getB(),v.getA()]),this.gl.RGBA,!1,!0,{x:1,y:1},!1),textureReadyCallback:function(){c&&a&&(f(c),u.qi.vr())}},l.EE(c.textureReadyCallback),f(c)}return c&&c.texture.OE&&c.texture._E&&c.texture.CE&&(c.texture.ds(),this.qi.vr()),o&&c&&c.texture.OE&&f(c),c}n&&this.Dz(i,n)},i.prototype.Dz=function(t,i){i&&(i.texture.GD(t),i.texture.PE(i.textureReadyCallback),this.BD(i.sourceMissingTexture),this.yP(i.texCoordsBuffer))},i.prototype.Lz=function(t,i,n,r){var e,o,s,u,a=t.uniform,h=t.uniformOptional,f=t.attribute,c=n.Yi,l=this.RE();if(this.wI(a("uHighlightColorOffset"),1===i||2===i?Fr:n.rn).uP(a("uRenderEffectMask"),2===i?1:0).oP(h("uRatioPxClip"),[2/this.qi.ai().x,2/this.qi.ai().y]).uP(h("uDevicePixelRatio"),l),void 0===r.highlightBuffer)this.uP(a("uIsHighlighted"),1===i||2===i?0:n.Ki);else{if(!r.highlightBuffer)throw new Error("Highlight buffer not supplied for attribute highlighting");this.eP(r.highlightBuffer,null!==(e=r.highlightAttribDivisor)&&void 0!==e?e:void 0,{location:f("aIsHighlighted"),size:1})}c instanceof $r||c instanceof Va?this.oP(a("uScale"),r.uniforms.aP()).oP(a("uDisp"),r.uniforms.hP()).oP(h("uScaleStart_highpart"),r.uniforms.Ez()).oP(h("uScaleStart_lowpart"),r.uniforms.Pz()):c instanceof te&&this.oP(h("uScaleStart"),r.uniforms.MixedScaleXY.uScaleStart).oP(h("uScaleStartLog"),r.uniforms.MixedScaleXY.uScaleStartLog).oP(h("uScaleInterval"),r.uniforms.MixedScaleXY.uScaleInterval).oP(h("uScaleIntervalLog"),r.uniforms.MixedScaleXY.uScaleIntervalLog).oP(a("uViewportStart"),r.uniforms.MixedScaleXY.uViewportStart).oP(a("uViewportSize"),r.uniforms.MixedScaleXY.uViewportSize);var v=!0===r.coordsHighPrecision;if(r.coordsX)if(v){var d=f("aPos_highpartX"),y=f("aPos_lowpartX");this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r.coordsX),this.gl.vertexAttribPointer(d,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(d),this.gl.vertexAttribPointer(y,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,1*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(y)}else this.YP(f("aPosX"),r.coordsX);if(r.coordsY&&(v?(d=f("aPos_highpartY"),y=f("aPos_lowpartY"),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r.coordsY),this.gl.vertexAttribPointer(d,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(d),this.gl.vertexAttribPointer(y,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,1*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(y)):this.YP(f("aPosY"),r.coordsY)),1===i){if(this.IP(a("uFirstId"),r.idFirst),void 0!==r.mousePickingOffsetBuffer){if(!r.mousePickingOffsetBuffer)throw new Error("No mouse picking offset buffer for attribute mouse picking");this.YP(f("aPickingIdOffset"),r.mousePickingOffsetBuffer,null!==(o=r.mousePickingOffsetAttribDivisor)&&void 0!==o?o:void 0)}}else{if(r.fillStyleSolid&&this.wI(a("uColor"),r.fillStyleSolid.getColor()),r.fillStylePaletted){if("value"===r.fillStylePaletted.getLookUpProperty()&&null!==r.lookupValueBuffer){if(!r.lookupValueBuffer)return!1;var A=f("aLookupValue");this.YP(A,r.lookupValueBuffer,r.lookupValueAttribDivisor,null!==(s=r.lookupValueBufferByteOffset)&&void 0!==s?s:0)}this.jz(t,r.fillStylePaletted.lut,r.lookupValueRange)}if(r.fillStyleLinearGradient){if(!r.linearGradientInfo)return!1;this.yz(t,r.linearGradientInfo,r.fillStyleLinearGradient)}if(r.fillStyleRadialGradient){if(!r.radialGradientInfo)return!1;this.dz(t,r.radialGradientInfo,r.fillStyleRadialGradient)}if(r.fillStyleIndividual&&null!==r.colorBuffer){if(!r.colorBuffer)return!1;var b=f("aColor");this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r.colorBuffer),this.gl.vertexAttribPointer(b,4,this.gl.UNSIGNED_BYTE,!0,0,null!==(u=r.colorBufferByteOffset)&&void 0!==u?u:0),this.gl.enableVertexAttribArray(b),void 0!==r.colorAttribDivisor&&this.RP(b,r.colorAttribDivisor)}if(r.fillStyleImage){if(!r.texturedFillGLInfo)return!1;var p=r.texturedFillGLInfo&&r.texturedFillGLInfo.texture.zE();this.wI(h("uColor"),r.fillStyleImage.getSurroundingColor()).sP(a(Aw),p||r.texturedFillGLInfo.sourceMissingTexture,0).eP(r.texturedFillGLInfo.texCoordsBuffer,r.texCoordAttribDivisor,{location:f("aTextureCoord"),size:2}).jP(r.fillStyleImage.fitMode)}r.maskTexture&&(p=r.maskTexture&&r.maskTexture.texture.zE(),this.sP(a(mw),p||r.maskTexture.sourceMissingTexture,0).eP(r.maskTexture.texCoordsBuffer,r.maskTextureCoordsAttribDivisor,{location:f("aMaskTextureCoord"),size:2}))}return void 0!==r.useInstanceID&&this.Cz(t,r.useInstanceID),void 0!==r.useVertexID&&this.wz(t,r.useVertexID),!0},i.prototype.zz=function(t,i,n){if(t)return UM(n||i.ln(),i.Yi,t.getAngle(!0),this.RE())},i.prototype.Nz=function(t,i,n){if(t)return GM(n||i.ln(),i.Yi,t.getPosition(),t.getExtent(),t.getShape(),this.RE())},i}(),iC=function(t,i,n,r){var e=void 0!==r.flags?r.flags:0,o=void 0!==r.retryTimeout?r.retryTimeout:10;return new Promise((function(r,s){var u=function(){if(n())return r(void 0);var a=t.clientWaitSync(i,e,0);return a===t.WAIT_FAILED?s(new Error("WebGL Sync WAIT_FAILED ".concat(t.getError()))):a!==t.TIMEOUT_EXPIRED?r(void 0):void Qe.setTimeout(u,o)};Qe.setTimeout(u,0)}))},nC=function(t,i,n,r,e,o,s,u){return a=void 0,h=void 0,c=function(){var a;return function(t,i){var n,r,e,o,s={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(e=2&o[0]?r.return:o[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,o[1])).done)return e;switch(r=0,e&&(o=[2&o[0],e.value]),o[0]){case 0:case 1:e=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((e=(e=s.trys).length>0&&e[e.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!e||o[1]>e[0]&&o[1]<e[3])){s.label=o[1];break}if(6===o[0]&&s.label<e[1]){s.label=e[1],e=o;break}if(e&&s.label<e[2]){s.label=e[2],s.ops.push(o);break}e[2]&&s.ops.pop(),s.trys.pop();continue}o=i.call(t,s)}catch(t){o=[6,t],r=0}finally{n=e=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}(this,(function(h){return a=t.fenceSync(t.SYNC_GPU_COMMANDS_COMPLETE,0),t.flush(),[2,iC(t,a,i,{retryTimeout:10}).then((function(){if(!i())return t.deleteSync(a),t.bindBuffer(n,r),t.getBufferSubData(n,e,o,s,u),t.bindBuffer(n,null),o})).catch((function(t){throw t}))]}))},new((f=void 0)||(f=Promise))((function(t,i){function n(t){try{e(c.next(t))}catch(t){i(t)}}function r(t){try{e(c.throw(t))}catch(t){i(t)}}function e(i){var e;i.done?t(i.value):(e=i.value,e instanceof f?e:new f((function(t){t(e)}))).then(n,r)}e((c=c.apply(a,h||[])).next())}));var a,h,f,c},rC=function(){function t(){}return t.prototype.cP=function(t){if(t instanceof $r||t instanceof Va){var i=t._i();this.Vz=i.x.scaling,this.Rz=-i.x.displacement,this.Gz=i.y.scaling,this.Uz=-i.y.displacement;var n=Math.fround(i.x.highPrecisionOffset),r=Math.fround(i.y.highPrecisionOffset);this.Yz=n,this.Wz=i.x.highPrecisionOffset-n,this.Xz=r,this.Zz=i.y.highPrecisionOffset-r}else t instanceof te&&(this.MixedScaleXY=t._i());return this},t.prototype.hP=function(){return[this.Rz,this.Uz]},t.prototype.aP=function(){return[this.Vz,this.Gz]},t.prototype.Ez=function(){return[this.Yz,this.Xz]},t.prototype.Pz=function(){return[this.Wz,this.Zz]},t}(),eC=function(){function t(){this.Vz=0,this.Gz=0,this.Jz=0,this.Rz=0,this.Uz=0,this.Qz=0}return t.prototype.Kz=function(t){return this.Vz=t.Gt(),this.Rz=t.getInnerStart()+.5*this.Vz*t.Ut(),this},t.prototype.qz=function(t){return this.Gz=t.Gt(),this.Uz=t.getInnerStart()+.5*this.Gz*t.Ut(),this},t.prototype.$z=function(t){return this.Jz=t.Gt(),this.Qz=t.getInnerStart()+.5*this.Jz*t.Ut(),this},t.prototype.aP=function(){return[this.Vz,this.Gz,this.Jz]},t.prototype.hP=function(){return[this.Rz,this.Uz,this.Qz]},t.prototype.tN=function(t,i,n,r,e){var s=o(2*(t-n.x)/(n.width-n.x)-1,2*(i-n.y)/(n.height-n.y)-1),u=RM.multiply(r,[s.x,s.y,e,1]);return a(u[0],u[1],u[2])},t}(),oC=function(){function t(t){this.FD=t}return t.prototype.fl=function(t,i,n,r,e,o){void 0===o&&(o=0);var s=this.FD,u=void 0===r;if(!(r=r||s.pP()))throw new zS("Could not bind a framebuffer.");var a=s.GE(),h=s.XE();s.fP(!1),s.QP((function(){s.qE(0,0,n.x,n.y),t()}),r,i,o),u&&s.xP(r),this.FD.KP(e),this.FD.qE(a.x,a.y,a.width,a.height),s.fP(h)},t}(),sC=function(){function t(t,i){var n=this;this.iN=[],this.nN=[],this.uniform=function(t){var i=n.shader.fL(t);return n.nN.push({name:t,optional:!1}),i},this.uniformOptional=function(t){var i=n.shader.cL(t);return n.nN.push({name:t,optional:!0}),i},this.attribute=function(t){var i=n.shader.lL(t);return n.iN.push({name:t,location:i}),i},this.glUtils=t,this.shader=i}return t.prototype.finish=function(t){var i,n;try{for(var r=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.iN),e=r.next();!e.done;e=r.next()){var o=e.value;this.glUtils.GP(o.location),this.glUtils.RP(o.location,0)}}catch(t){i={error:t}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}},t}(),uC=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aC=function(){return aC=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},aC.apply(this,arguments)},hC=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e)||this;return s.rN=new Map,s.eN=i,s.oN=n,s.FD=i.sN(),s.uN=o,s.oN=n,s}return uC(i,t),i.prototype.cl=function(){return this},i.prototype.fl=function(t,i){if(!this.uN||0!==t||0===this.rN.size)return{};var n=Array.from(this.rN.values()).map((function(t){return t.aN.filter((function(t){return t.hN})).map((function(t){return t.Zn})).flat().filter((function(t){return void 0!==t})).filter((function(t){return t.getVisible()}))})).flat();if(this.qi.sl&&(n=n.filter((function(t){return!(t instanceof $f)}))),0===n.length)return{};var r=this.uN;return this.FD.sz.bP(n,r),{}},i.prototype.ll=function(t,i,n,r,e){return{}},i.prototype.ds=function(){return this},i.prototype.Fn=function(){return 0},i.prototype.On=function(){return 0},i.prototype.jn=function(){return 0},i.prototype.In=function(){return 0},i.prototype.sc=function(){return 0},i.prototype.uc=function(){return 0},i.prototype.Kn=function(t,i){var n=this,r={aN:[]},e=function(t,i){var n={Zn:t||[],hN:void 0===i||i};r.aN.push(n);var e={er:function(t){return n.Zn=t,e},lr:function(t){return n.hN=t,e},dr:function(){return n.hN}};return e},o={};Object.keys(i).forEach((function(t){var n=i[t],r=n.shapes||[],s=void 0===n.themeEffectEnabled||n.themeEffectEnabled,u=e(r,s);o[t]=u}));var s=aC({Zd:e},o);this.rN.set(t,r);var u=function(){n.rN.delete(t),t.removeEventListener("dispose",u)};return Qe.requestAnimationFrame((function(){t.addEventListener("dispose",u)})),s},i}(Gf);function fC(t,i,n,r,e,s){void 0===s&&(s=Math.floor(Math.sqrt(r>e?25*r:25*e)));var u=Array(s+2),a=Math.PI,h=0,f=0,c=i*a/180,l=(n*a/180-c)/s;for(u[h]=o(t.x,t.y),h+=1;h<=s+1;)u[h]=o(t.x+r*Math.cos(c+f*l),t.y+e*Math.sin(c+f*l)),h+=1,f+=1;return[u,s]}var cC,lC=function(t,i,n){return function(t,i,n){for(var r,e,s,u,a=[],h=0,f=Us(i,n/2),c=t[t.length-1],l=0,v=0;v<t.length;v+=1){r=t[v],e=v===t.length-1?t[0]:t[v+1],v>0&&(c=t[v-1]),Ke(r,c)&&(c=Ys(r,Vs(Us(Ws(e,r),-1)))),Ke(r,e)&&(e=Ys(r,Vs(Us(Ws(c,r),-1))));var d=Hs(c,i),y=Hs(r,i),A=Hs(e,i),b=Vs(Ws(y,d)),p=Vs(Ws(A,y)),m=Ys(b,p),g=o(-m.y,m.x),x=o(-b.y,b.x),S=1/Js(g,x),w=Gs(g),M=Vs(Ws(b,p)),C=Math.sign(Js(g,M))||1,T=Xs(g,Us(f,S)),k=Xs(g,Us(f,-S));if(w<1||S===1/0){var _={x:0,y:0},O={x:0,y:0},F={x:0,y:0},I={x:0,y:0},j=o(-p.y,p.x),B=Math.sign(Js(b,g))||C,D=Xs(x,Us(f,B)),L=Xs(j,Us(f,B));1===C?(_=D,O=k,F=L,I=k):(_=T,O=D,F=T,I=L);var E=4*_s(c,r),P=4*_s(r,e);(S>E||S>P)&&(1===C?(_=D,O=L,F=L,I=D):(_=L,O=D,F=D,I=L));var z=Ys(r,_),N=Ys(r,O),V=Ys(r,F),R=Ys(r,I);a[h]=z,a[h+=1]=N,a[h+=1]=V,a[h+=1]=R,h+=1,l=4}else z=Ys(r,T),N=Ys(r,k),a[h]=z,a[h+=1]=N,h+=1,l=2;u=s,s=t[v]}return a[h]=a[0],a[h+=1]=a[1],h+=1,[a,l,[u,s]]}(t,i,n)[0]},vC=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dC=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},yC=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.rL=new rC,s.fN=ps,s.cN=ps,s.lN=Ua({arcStyleSolid:function(){return Ou(s.Oe)&&s.Oe},arcStyleRadialGradient:function(){return Nr(s.Oe)&&s.Oe},arcStyleLinearGradient:function(){return Rr(s.Oe)&&s.Oe}}),s.eN=i,s.oN=n,s.FD=i.sN(),s}return vC(i,t),i.prototype.vN=function(t,i){var n,r=0,e=Array(0);if(void 0!==i){for(var o=t.length,s=Array(o+i.length),u=0,a=0;u<o;)s[a]=t[u],s[a+1]=i[u],a+=2,u+=1;e=s,r=this.FD.gl.TRIANGLE_STRIP}else e=t,r=this.FD.gl.TRIANGLE_FAN;var h=Co(e,this.Yi.Si());return n=e.length,[e,this.FD.iP(h),n,r]},i.prototype.dN=function(t,i,n,r){var e=Array(0);if(void 0===i)e=t;else{var o=0,s=0,u=t.length;for(o=0,s=u,e=Array(u+i.length-2),i.reverse();o<u;)e[o]=t[o],e[s]=i[o],s+=1,o+=1}if(1===n||-1===n)return[Co(e,this.Yi.Si()),e.length];var a=lC(e,r,n);return[Co(a,this.Yi.Si()),a.length]},i.prototype.ds=function(){var t,i,n,r,e,s,u=this.Vh(),a=this.Xi.T();if(this.Rh()){var h=Math.abs(this.ft.T()-this.Cc.T());this.rL.cP(this.Yi);var c=this.Yi.Ni()||u,l=this.Yi.Gi(),v=this.Tc.T(),d=this.kc.T(),y=dC(fC(this.ou.T(),this.Cc.T(),this.ft.T(),this.Tc.T(),this.kc.T(),this.Oc.T()),2),A=y[0],b=y[1],p=this._c.T(),m=p>0?fC(this.ou.T(),this.Cc.T(),this.ft.T(),this.Tc.T()*p/100,this.kc.T()*p/100,b)[0]:[this.ou.T()],g=A.length-1;if(2===g){var x=(A[g-1].x+A[1].x)/2,S=(A[g-1].y+A[1].y)/2;this.Fc=o(x,S)}else{var w=Math.floor(g/2);this.Fc=o(A[w].x,A[w].y)}this.Ic=A[1];var M=A.length-1;this.jc=A[M],this._c.T()&&(A.shift(),m.shift());var C=!1;(this.ou.o||this.Cc.o||this.ft.o||this.Tc.o||this.kc.o||this._c.o||this.Oc.o||c)&&(this.cN=f(o(this.vf().x-v,this.vf().y-d),o(this.vf().x+v,this.vf().y+d)),C=!0,this.ou.o=!1,this.Cc.o=!1,this.ft.o=!1,this.Tc.o=!1,this.kc.o=!1,this._c.o=!1,this.Oc.o=!1);var T=this.zh();(C||T)&&this.Oe!==Cu&&(this._c.T()?(this.yN&&this.FD.yP(this.yN),t=dC(this.vN(A,m),4),this.AN=t[0],this.yN=t[1],this.bN=t[2],this.pN=t[3]):(this.yN&&this.FD.yP(this.yN),i=dC(this.vN(A,void 0),4),this.AN=i[0],this.yN=i[1],this.bN=i[2],this.pN=i[3]),Nr(this.Oe)?this.mN=GM(this.cN,this.Yi,this.Oe.getPosition(),this.Oe.getExtent(),this.Oe.getShape(),this.FD.RE()):Rr(this.Oe)?this.gN=UM(this.cN,this.Yi,this.Oe.getAngle(!0),this.FD.RE()):(this.mN=void 0,this.gN=void 0));var k=this.lN.arcStyleSolid(T),_=this.lN.arcStyleLinearGradient(T),O=this.lN.arcStyleRadialGradient(T),F=k||_||O;T&&(this.xN=F?this.FD.rE(rM["2D"],rM.Color({dataType:Nr(this.Oe)||Rr(this.Oe)?["gradient",this.Oe]:"uniform"}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0})):void 0,this.Gh(this.Oe));var I=this.Fe;if(ka(I)&&(C||this.Wh(I.getThickness())||c)){this._c.T()?360===h?(A.pop(),m.pop(),n=dC(this.dN(A,void 0,I.getThickness(),l),2),this.SN=n[0],this.wN=n[1],this.MN&&this.SN?this.FD.PP(this.MN,this.SN,!0):!this.MN&&this.SN?this.MN=this.FD.iP(this.SN,!0):this.MN&&!this.SN&&(this.FD.yP(this.MN),this.MN=void 0),r=dC(this.dN(m,void 0,I.getThickness(),l),2),this.CN=r[0],this.TN=r[1],this.kN&&this.CN?this.FD.PP(this.kN,this.CN,!0):!this.kN&&this.CN?this.kN=this.FD.iP(this.CN,!0):this.kN&&!this.CN&&(this.FD.yP(this.kN),this.kN=void 0)):(e=dC(this.dN(A,m,I.getThickness(),l),2),this.SN=e[0],this.wN=e[1],this.MN&&this.SN?this.FD.PP(this.MN,this.SN,!0):!this.MN&&this.SN?this.MN=this.FD.iP(this.SN,!0):this.MN&&!this.SN&&(this.FD.yP(this.MN),this.MN=void 0),this.CN&&(this.kN&&this.FD.yP(this.kN),this.kN=void 0,this.TN=0)):(360===h&&(A.shift(),A.pop()),s=dC(this.dN(A,void 0,I.getThickness(),l),2),this.SN=s[0],this.wN=s[1],this.MN&&this.SN?this.FD.PP(this.MN,this.SN,!0):!this.MN&&this.SN?this.MN=this.FD.iP(this.SN,!0):this.MN&&!this.SN&&(this.FD.yP(this.MN),this.MN=void 0));var j=I.getFillStyle();Nr(j)?this._N=GM(this.cN,this.Yi,j.getPosition(),j.getExtent(),j.getShape(),this.FD.RE()):Rr(j)?this.ON=UM(this.cN,this.Yi,j.getAngle(!0),this.FD.RE()):(this._N=void 0,this.ON=void 0),this.FN=j===Cu?void 0:this.FD.rE(rM["2D"],rM.Color({dataType:Nr(j)||Rr(j)?["gradient",j]:"uniform"}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0})),this.Xh(I)}if(C){var B=1,D=1;ka(I)&&(B=I.getThickness()*l.x,D=I.getThickness()*l.y),this.fN=f(o(this.cN.min.x-B,this.cN.min.y-D),o(this.cN.max.x+B,this.cN.max.y+D))}this.IN=a&&F?this.IN||this.FD.rE(rM["2D"],rM.MousePicking(),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0})):void 0,this.jN=a&&this.Fe!==Pe?this.jN||this.FD.rE(rM["2D"],rM.MousePicking(),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0})):void 0}return this},i.prototype.fl=function(t,i){var n=this;if(this.Rh()){var r=1===t?this.IN:this.xN,e=this.Oe,o=this.yN;r&&o&&this.FD.zl(r).rP(r,(function(r,s,u,a){if(n.FD.oP(r("uScale"),n.rL.aP()).oP(r("uDisp"),n.rL.hP()).oP(a("uScaleStart_highpart"),n.rL.Ez()).oP(a("uScaleStart_lowpart"),n.rL.Pz()).pz(u,o,n.Yi.Si(),void 0).uP(r("uIsHighlighted"),1===t||2===t?0:n.Ki).wI(r("uHighlightColorOffset"),1===t||2===t?Fr:n.rn).uP(r("uRenderEffectMask"),2===t?1:0),1===t)n.FD.IP(r("uFirstId"),i).Cz(u,1);else if(Ou(e))n.FD.wI(r("uColor"),e.getColor());else if(Nr(e)){if(!n.mN)return!1;n.FD.dz(u,n.mN,e)}else if(Rr(e)){if(!n.gN)return!1;n.FD.yz(u,n.gN,e)}return n.FD.xk(n.pN,n.bN),!0}));var s=this.Fe;ka(s)&&(void 0!==this.MN&&this.DN(t,this.MN,this.wN,s,i),void 0!==this.kN&&this.DN(t,this.kN,this.TN,s,i))}return{idCount:1}},i.prototype.ll=function(t,i,n,r,e){return{}},i.prototype.DN=function(t,i,n,r,e){var o=this,s=1===t?this.jN:this.FN,u=r.getFillStyle();s&&this.FD.zl(s).rP(s,(function(s,a,h,f){if(o.FD.oP(s("uScale"),o.rL.aP()).oP(s("uDisp"),o.rL.hP()).pz(h,i,o.Yi.Si(),void 0).uP(s("uIsHighlighted"),1===t||2===t?0:o.Ki).wI(s("uHighlightColorOffset"),1===t||2===t?Fr:o.rn).uP(s("uRenderEffectMask"),2===t?1:0),1===t)o.FD.IP(s("uFirstId"),e).Cz(h,1);else if(Ou(u))o.FD.wI(s("uColor"),u.getColor());else if(Nr(u)){if(!o._N)return!1;o.FD.dz(h,o._N,u)}else if(Rr(u)){if(!o.ON)return!1;o.FD.yz(h,o.ON,u)}var c=r.getThickness(),l=-1===c||1===c;return o.FD.xk(l?o.FD.gl.LINE_LOOP:o.FD.gl.TRIANGLE_STRIP,n),!0}))},i.prototype.cl=function(){return this.LN&&(this.FD.yP(this.LN),this.LN=void 0),this.EN&&(this.FD.yP(this.EN),this.EN=void 0),this.yN&&(this.FD.yP(this.yN),this.yN=void 0),this.MN&&(this.FD.yP(this.MN),this.MN=void 0),this.kN&&(this.FD.yP(this.kN),this.kN=void 0),this.xN=void 0,this.FN=void 0,this.IN=void 0,this.jN=void 0,this},i.prototype.Fn=function(){return this.cN.max.x},i.prototype.On=function(){return this.cN.min.x},i.prototype.jn=function(){return this.cN.max.y},i.prototype.In=function(){return this.cN.min.y},i.prototype.sc=function(){return is(this.Fe)},i.prototype.uc=function(){return is(this.Fe)},i}(ec),AC=function(){function t(){this.first=0,this.second=1,this.third=2,this.fourth=3,this.fifth=4,this.sixth=5}return t.prototype.PN=function(t){return this.first=t,this.second=t+1,this.third=t+2,this.fourth=t+3,this.fifth=t+4,this.sixth=t+5,t+=6,this},t.prototype.zN=function(){return this.first=this.second,this.second=this.third,this.third=this.fourth,this.fourth=this.fifth,this.fifth=this.sixth,this.sixth+=1,this},t.prototype.NN=function(){return this.first=this.third,this.second=this.fourth,this.third=this.fifth,this.fourth=this.sixth,this.fifth=this.fourth+1,this.sixth=this.fifth+1,this},t.prototype.VN=function(t){var i=t.buffer,n=t.position;return i[n]=this.first,i[n+1]=this.second,i[n+2]=this.third,n+=3,t.position=n,t.next&&this.zN(),this},t.prototype.RN=function(t){var i=t.buffer,n=t.position;return i[n]=this.first,i[n+1]=this.third,i[n+2]=this.second,i[n+3]=this.third,i[n+4]=this.fourth,i[n+5]=this.second,n+=6,t.position=n,t.next&&this.NN(),this},t.prototype.GN=function(t,i){i.next=!0,6*t>=i.buffer.length&&(i.buffer=Array(6*t));for(var n=0;n<t;n+=1)this.RN(i);return this},t.prototype.UN=function(){return[this.first,this.second,this.third,this.fourth,this.fifth,this.sixth]},t}(),bC=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},pC=(void 0===cC&&(cC=0),(new AC).PN(cC)),mC=function(t,i,n,r,e,o,s,u,a,h){return void 0===u&&void 0===s||pC.zN(),o.push(t,i),e.push(pC.first,pC.second,pC.third),u=void 0,s=void 0,e.push(pC.third,pC.fourth,pC.second),a=pC.third,pC.NN(),h&&o.push(n,r),[s,u,a]},gC=function(t,i,n,r,e,o,s,u,a,h,f){void 0===a&&void 0===u||pC.zN(),s.push(t,i),e.push(pC.first,pC.second,pC.third);var c=iu(t,n,i,r);return a=void 0,void 0!==c&&(void 0===a&&(a=c),s.push(a),o.push(pC.third,pC.fourth,pC.fifth),h=pC.fourth),pC.NN(),f&&s.push(n,r),[u,a,h]},xC=function(t,i,n,r,e,o,s,u,a,h){return void 0===s&&void 0===o||pC.zN(),e.push(t,i),r.push(pC.first,pC.second,pC.third),o=n,s=void 0,u=pC.third,h?e.push(n):a=!0,[o,s,u,a]},SC=function(t,i,n,r,e,o,s,u,a,h,f){return 0!==o.length?(void 0===u&&void 0===s||pC.zN(),pC.zN()):a>0&&(pC.zN(),f>0&&(f-=1)),o.push(t),e.push(pC.first,pC.second,pC.third),a=pC.second,s=t,u=void 0,h&&o.push(n,r),[s,u,a,f]},wC=function(t,i){var n,r,e,o,s,u,a,h;void 0===i&&(i=0),pC.PN(i);var f,c,l=bC(t,2),v=l[0],d=l[1],y=v.length,A=[],b=[],p=[],m=i,g=0,x=v[g],S=d[g],w=v[g],M=d[g],C=!1,T=m>0?w.y!==M.y?2:1:0;if(y>1)for(;g<y-1;){w=x,M=S,x=v[g+=1],S=d[g];var k=g===y-1;w.y>M.y?x.y>S.y?(f=(n=bC(mC(w,M,x,S,A,p,f,c,m,k),3))[0],c=n[1],m=n[2]):x.y<S.y?(f=(r=bC(gC(w,M,x,S,A,b,p,f,c,m,k),3))[0],c=r[1],m=r[2]):(f=(e=bC(xC(w,M,x,A,p,f,c,m,C,k),4))[0],c=e[1],m=e[2],C=e[3]):w.y<M.y?x.y<S.y?(f=(o=bC(mC(w,M,x,S,b,p,f,c,m,k),3))[0],c=o[1],m=o[2]):x.y>S.y?(f=(s=bC(gC(w,M,x,S,b,A,p,f,c,m,k),3))[0],c=s[1],m=s[2]):(f=(u=bC(xC(w,M,x,b,p,f,c,m,C,k),4))[0],c=u[1],m=u[2],C=u[3]):x.y===S.y?(f=w,C&&(p.push(w),C=!1,pC.zN()),0===p.length&&m>0&&T>0&&(T-=1)):x.y>S.y?(f=(a=bC(SC(w,0,x,S,A,p,f,c,m,k,T),4))[0],c=a[1],m=a[2],T=a[3]):(f=(h=bC(SC(w,0,x,S,b,p,f,c,m,k,T),4))[0],c=h[1],m=h[2],T=h[3])}return[p,new Uint16Array(A),new Uint16Array(b),m,T]},MC=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CC=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},TC=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.rL=new rC,s.YN=0,s.Tf=Array(),s.WN=0,s.XN=new Uint16Array(0),s.HN=new Uint16Array(0),s.lN=Ua({hightFillSolid:function(){return Ou(s.Oe)&&s.Oe},hightFillRadialGradient:function(){return Nr(s.Oe)&&s.Oe},hightFillLinearGradient:function(){return Rr(s.Oe)&&s.Oe},hightFillPaletted:function(){return Bu(s.Oe)&&s.Oe},lowFillSolid:function(){return Ou(s.vc)&&s.vc},lowFillRadialGradient:function(){return Nr(s.vc)&&s.vc},lowFillLinearGradient:function(){return Rr(s.vc)&&s.vc},lowFillPaletted:function(){return Bu(s.vc)&&s.vc}}),s.eN=i,s.oN=n,s.FD=i.sN(),s}return MC(i,t),i.prototype.ds=function(){var t=this.Vh(),i=this.Xi.T(),n=this.Ef;if(this.Rh()){this.rL.cP(this.Yi);var r=n;if(r&&(this.YN=0,this.XN=new Uint16Array(0),this.HN=new Uint16Array(0),this.Tf.length=0,this.WN=0,this.fc>1)){var e=CC(wC([this.ac,this.hc]),4),o=e[0],s=e[1],u=e[2],a=e[3];this.YN=a,this.XN=s,this.HN=u,this.Tf=o,this.WN=o.length}if(this.lc&&this.Bf[0].length>1){var h=CC(this.Bf,2),f=h[0],c=h[1],l=f.length,v=CC(wC([f,c],this.YN),5),d=(o=v[0],s=v[1],u=v[2],a=v[3],v[4]);this.YN=a;for(var y=o.length,A=d;A<y;A+=1)this.Tf[this.WN]=o[A],this.WN+=1;for(this.XN=nu(this.XN,s),this.HN=nu(this.HN,u),A=d>0||this.fc>0?1:d;A<l;A+=1)this.ac[this.fc]=f[A],this.hc[this.fc]=c[A],this.fc+=1;this.cc=!0,this.lc=!1,this.Bf=[]}var b=this.Oe,p=this.Nh!==b,m=this.lN.hightFillSolid(p),g=this.lN.hightFillRadialGradient(p),x=this.lN.hightFillLinearGradient(p),S=this.lN.hightFillPaletted(p),w=m||g||x||S&&["x","y"].includes(S.getLookUpProperty())&&S,M=this.vc,C=this.wc!==M,T=this.lN.lowFillSolid(C),k=this.lN.lowFillRadialGradient(C),_=this.lN.lowFillLinearGradient(C),O=this.lN.lowFillPaletted(C),F=T||k||_||O&&["x","y"].includes(O.getLookUpProperty())&&O;if((p||t)&&(this.ZN=w?this.FD.rE(rM["2D"],rM.Color({dataType:x?["gradient",x]:g?["gradient",g]:S?["lookup",S.getLookUpProperty(),S.lut]:"uniform"}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0})):void 0),g?this.mN=GM(this.Qi||this.If,this.Yi,g.getPosition(),g.getExtent(),g.getShape(),this.FD.RE()):x?this.gN=UM(this.Qi||this.If,this.Yi,x.getAngle(!0),this.FD.RE()):(this.mN=void 0,this.gN=void 0),(C||t)&&(this.JN=F?this.FD.rE(rM["2D"],rM.Color({dataType:_?["gradient",_]:k?["gradient",k]:O?["lookup",O.getLookUpProperty(),O.lut]:"uniform"}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0})):void 0),k?this.QN=GM(this.Qi||this.If,this.Yi,k.getPosition(),k.getExtent(),k.getShape(),this.FD.RE()):_?this.KN=UM(this.Qi||this.If,this.Yi,_.getAngle(!0),this.FD.RE()):(this.QN=void 0,this.KN=void 0),(t||this.cc||r)&&this.cc||r){o=this.Tf;var I=Co(o,this.Yi.Si());this.qN=this.FD.iP(I,!1,this.qN),w&&(this.$N=this.FD.zP(this.XN,this.$N),this.tV=this.XN.length),F&&(this.iV=this.FD.zP(this.HN,this.iV),this.nV=this.HN.length),this.cc=!1}this.IN=i&&(F||w)?this.IN||this.FD.rE(rM["2D"],rM.MousePicking(),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0})):void 0,this.Gh(this.Oe),this.Mc(this.vc),this.Ef=!1}return this},i.prototype.fl=function(t,i){var n=this,r=this.Oe,e=this.vc,o=1===t?this.IN:this.JN;if(o&&this.qN&&this.iV){var s=this.qN,u=this.iV;this.FD.zl(o).rP(o,(function(r,o,a,h){if(n.FD.pz(a,s,n.Yi.Si(),void 0).WP(u).uP(r("uIsHighlighted"),1===t||2===t?0:n.Ki).wI(r("uHighlightColorOffset"),1===t||2===t?Fr:n.rn).uP(r("uRenderEffectMask"),2===t?1:0),n.Yi instanceof $r||n.Yi instanceof Va?n.FD.oP(r("uScale"),n.rL.aP()).oP(r("uDisp"),n.rL.hP()).oP(h("uScaleStart_highpart"),n.rL.Ez()).oP(h("uScaleStart_lowpart"),n.rL.Pz()):n.Yi instanceof te&&n.FD.oP(h("uScaleStart"),n.rL.MixedScaleXY.uScaleStart).oP(h("uScaleStartLog"),n.rL.MixedScaleXY.uScaleStartLog).oP(h("uScaleInterval"),n.rL.MixedScaleXY.uScaleInterval).oP(h("uScaleIntervalLog"),n.rL.MixedScaleXY.uScaleIntervalLog).oP(r("uViewportStart"),n.rL.MixedScaleXY.uViewportStart).oP(r("uViewportSize"),n.rL.MixedScaleXY.uViewportSize),1===t)n.FD.IP(r("uFirstId"),i).Cz(a,1);else if(Ou(e))n.FD.wI(r("uColor"),e.getColor());else if(Nr(e)){if(!n.QN)return!1;n.FD.dz(a,n.QN,e)}else if(Rr(e)){if(!n.KN)return!1;n.FD.yz(a,n.KN,e)}else if(Bu(e)){var f=Ya(e,n,void 0);if(!f&&e.lut.percentageValues)return!1;n.FD.jz(a,e.lut,f)}return n.FD.HP(n.nV),!0}))}var a=1===t?this.IN:this.ZN;if(a&&this.qN&&this.$N){var h=this.qN,f=this.$N;this.FD.zl(a).rP(a,(function(e,o,s,u){if(n.FD.pz(s,h,n.Yi.Si(),void 0).WP(f).uP(e("uIsHighlighted"),1===t||2===t?0:n.Ki).wI(e("uHighlightColorOffset"),1===t||2===t?Fr:n.rn).uP(e("uRenderEffectMask"),2===t?1:0),n.Yi instanceof $r||n.Yi instanceof Va?n.FD.oP(e("uScale"),n.rL.aP()).oP(e("uDisp"),n.rL.hP()).oP(u("uScaleStart_highpart"),n.rL.Ez()).oP(u("uScaleStart_lowpart"),n.rL.Pz()):n.Yi instanceof te&&n.FD.oP(u("uScaleStart"),n.rL.MixedScaleXY.uScaleStart).oP(u("uScaleStartLog"),n.rL.MixedScaleXY.uScaleStartLog).oP(u("uScaleInterval"),n.rL.MixedScaleXY.uScaleInterval).oP(u("uScaleIntervalLog"),n.rL.MixedScaleXY.uScaleIntervalLog).oP(e("uViewportStart"),n.rL.MixedScaleXY.uViewportStart).oP(e("uViewportSize"),n.rL.MixedScaleXY.uViewportSize),1===t)n.FD.IP(e("uFirstId"),i).Cz(s,1);else if(Ou(r))n.FD.wI(e("uColor"),r.getColor());else if(Nr(r)){if(!n.mN)return!1;n.FD.dz(s,n.mN,r)}else if(Rr(r)){if(!n.gN)return!1;n.FD.yz(s,n.gN,r)}else if(Bu(r)){var a=Ya(r,n,void 0);if(!a&&r.lut.percentageValues)return!1;n.FD.jz(s,r.lut,a)}return n.FD.HP(n.tV),!0}))}return{idCount:1}},i.prototype.ll=function(t,i,n,r,e){return{}},i.prototype.Fn=function(){return this.If.max.x},i.prototype.On=function(){return this.If.min.x},i.prototype.jn=function(){return this.If.max.y},i.prototype.In=function(){return this.If.min.y},i.prototype.sc=function(){return 0},i.prototype.uc=function(){return 0},i.prototype.$x=function(t){this.Hf()>0&&this.ds();var i=CC(this.Nf(),2),n=i[0],r=i[1],e=n.length>2&&n[1].x<n[0].x,o=ve(n,t,Pr.NearestX,this.dc,this.yc,this.Yi,this.qi.Yi,this.If,"x",e);if(void 0!==o){var s=[n[o],r[o]];if(!Number.isNaN(s[0].y)&&!Number.isNaN(s[1].y))return s}},i.prototype.pw=function(t){this.Hf()>0&&this.ds();var i=CC(this.Nf(),2),n=i[0],r=i[1],e=n.length;if(0!==e){var o=this.dc?1:0,s=e-(this.yc?2:1),u=n.length>2&&n[1].x<n[0].x,a=pe(n,ee(t,this.qi.Yi,this.Yi),"x",u,o,s);if(a){var h=[Is(n[a.a],n[a.b],a.lerpAmount),Is(r[a.a],r[a.b],a.lerpAmount)];if(!Number.isNaN(h[0].y)&&!Number.isNaN(h[1].y))return h}}},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.iV&&(this.FD.yP(this.iV),this.iV=void 0),this.$N&&(this.FD.yP(this.$N),this.$N=void 0),this.qN&&(this.FD.yP(this.qN),this.qN=void 0),this},i.prototype.cl=function(){return this.dispose(),this},i}(rc),kC=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_C=function(t){function i(i,n){var r=t.call(this,i)||this;r.rV=n;var e=r.eV(),o=e.vertices,s=e.indices,u=e.indicesCount,a=e.drawMode;return r.oV=i.iP(o),r.sV=i.zP(s),r.uV=u,r.aV=a,r}return kC(i,t),i.prototype.zl=function(t,i){return this.FD.eP(this.oV,0,{location:t.attribute("aSegmentPosition"),size:2},{location:t.attribute("aSegmentSide"),size:1},{location:i?t.attribute("aSegmentInside"):void 0,size:1}),this.FD.WP(this.sV),this},i.prototype.xk=function(t,i){return this.FD.JP(void 0!==i?i:this.aV,this.uV,0,t,this.FD.gl.UNSIGNED_BYTE),this},i.prototype.eV=function(){var t=this,i=[];[1,0].forEach((function(n){for(var r=1===n?.5*Math.PI:1.5*Math.PI,e=0;e<=t.rV;e+=1){var o=r-e*Math.PI/t.rV;i.push(.5*Math.cos(o),.5*Math.sin(o),n,0)}})),i.push(0,0,1,1),i.push(0,0,0,1);for(var n=i.length/4,r=[],e=0;e<this.rV;e+=1)r.push(e,e+1,n-2),r.push(e+n/2-1,e+n/2,n-1);return r.push(0,n-2,n-1),r.push(n-1,n-2,n/2-1),r.push(0,n-3,n-1),r.push(n/2-2,n-2,n/2-1),{vertices:new Float32Array(i),indices:new Uint8Array(r),indicesCount:r.length,verticesCount:n,drawMode:this.FD.gl.TRIANGLES}},i.prototype.ME=function(){this.FD.yP(this.oV),this.FD.yP(this.sV)},i}(YM),OC=function(t,i,n){return void 0===n&&(n=!0),function(t,i){var n=t.SP.mE.get(i);return n||(n=new _C(t,i),t.SP.mE.set(i,n),n)}(t,n?i>=50?8:i>=20?6:i>=7?4:i>=4?3:1===i?1:2:1)},FC={hV:function(t,i,n,r,e,o,s){void 0===s&&(s=1);var u=r.attribute,a=i.gl;if(a.bindBuffer(a.ARRAY_BUFFER,n),t){var h=u("aLocationA_highpart"),f=u("aLocationA_lowpart"),c=u("aLocationB_highpart"),l=u("aLocationB_lowpart");a.vertexAttribPointer(h,2,a.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),i.RP(h,s),a.enableVertexAttribArray(h),a.vertexAttribPointer(f,2,a.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,(o+2)*Float32Array.BYTES_PER_ELEMENT),i.RP(f,s),a.enableVertexAttribArray(f),a.vertexAttribPointer(c,2,a.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,(o+e)*Float32Array.BYTES_PER_ELEMENT),i.RP(c,s),a.enableVertexAttribArray(c),a.vertexAttribPointer(l,2,a.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,(o+e+2)*Float32Array.BYTES_PER_ELEMENT),i.RP(l,s),a.enableVertexAttribArray(l)}else{var v=u("aLocationA"),d=u("aLocationB");a.vertexAttribPointer(v,2,a.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),i.RP(v,s),a.enableVertexAttribArray(v),a.vertexAttribPointer(d,2,a.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,(o+e)*Float32Array.BYTES_PER_ELEMENT),i.RP(d,s),a.enableVertexAttribArray(d)}},fV:function(t,i,n,r,e,o,s,u){var a=t.gl;a.bindBuffer(a.ARRAY_BUFFER,n),a.vertexAttribPointer(r,o,a.FLOAT,!1,s*Float32Array.BYTES_PER_ELEMENT,u*Float32Array.BYTES_PER_ELEMENT),t.RP(r,1),a.enableVertexAttribArray(r),a.vertexAttribPointer(e,o,a.FLOAT,!1,s*Float32Array.BYTES_PER_ELEMENT,(u+s)*Float32Array.BYTES_PER_ELEMENT),t.RP(e,1),a.enableVertexAttribArray(e)},cV:function(t,i,n,r,e,o){var s=r.attribute,u=i.gl;if(u.bindBuffer(u.ARRAY_BUFFER,n),t){var a=s("aLocationA_highpart"),h=s("aLocationA_lowpart"),f=s("aLocationB_highpart"),c=s("aLocationB_lowpart");u.vertexAttribPointer(a,2,u.FLOAT,!1,2*e*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),i.RP(a,1),u.enableVertexAttribArray(a),u.vertexAttribPointer(h,2,u.FLOAT,!1,2*e*Float32Array.BYTES_PER_ELEMENT,(o+2)*Float32Array.BYTES_PER_ELEMENT),i.RP(h,1),u.enableVertexAttribArray(h),u.vertexAttribPointer(f,2,u.FLOAT,!1,2*e*Float32Array.BYTES_PER_ELEMENT,(o+e)*Float32Array.BYTES_PER_ELEMENT),i.RP(f,1),u.enableVertexAttribArray(f),u.vertexAttribPointer(c,2,u.FLOAT,!1,2*e*Float32Array.BYTES_PER_ELEMENT,(o+e+2)*Float32Array.BYTES_PER_ELEMENT),i.RP(c,1),u.enableVertexAttribArray(c)}else{var l=s("aLocationA"),v=s("aLocationB");u.vertexAttribPointer(l,2,u.FLOAT,!1,2*e*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),i.RP(l,1),u.enableVertexAttribArray(l),u.vertexAttribPointer(v,2,u.FLOAT,!1,2*e*Float32Array.BYTES_PER_ELEMENT,(o+e)*Float32Array.BYTES_PER_ELEMENT),i.RP(v,1),u.enableVertexAttribArray(v)}},lV:function(t,i,n,r,e,o,s,u,a,h){var f=t.gl;f.bindBuffer(f.ARRAY_BUFFER,n),f.vertexAttribPointer(r,o,a,u,2*o*h,s*h),t.RP(r,1),f.enableVertexAttribArray(r),f.vertexAttribPointer(e,o,a,u,2*o*h,(s+o)*h),t.RP(e,1),f.enableVertexAttribArray(e)},fl:function(t,i,n,r,e,o,s){var u=t.sN(),a=n.uniform,h=n.uniformOptional,f=1/t.ih.eh,c=(e?Math.max(o,f):Math.max(o,0))+1;u.uP(a("uThicknessPixels"),c).uP(h("uAALimit"),1-(c-1)/c).oP(a("uRatioPxClip"),[2/t.ai().x,2/t.ai().y]),i.zl(n,r).xk(s)}},IC={hV:function(t,i,n,r,e,o){var s=r.attribute,u=i.gl;if(u.bindBuffer(u.ARRAY_BUFFER,n),t){var a=s("aPos_highpart");u.vertexAttribPointer(a,2,u.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),u.enableVertexAttribArray(a);var h=s("aPos_lowpart");u.vertexAttribPointer(h,2,u.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,(o+2)*Float32Array.BYTES_PER_ELEMENT),u.enableVertexAttribArray(h)}else{var f=s("aPos");u.vertexAttribPointer(f,2,u.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),u.enableVertexAttribArray(f)}},fV:function(t,i,n,r,e,o){var s=t.gl;s.bindBuffer(s.ARRAY_BUFFER,n),s.vertexAttribPointer(r,e,s.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),s.enableVertexAttribArray(r)},cV:function(t,i,n,r,e,o){var s=r.attribute,u=i.gl;if(u.bindBuffer(u.ARRAY_BUFFER,n),t){var a=s("aPos_highpart"),h=s("aPos_lowpart");u.vertexAttribPointer(a,2,u.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),u.enableVertexAttribArray(a),u.vertexAttribPointer(h,2,u.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,(o+2)*Float32Array.BYTES_PER_ELEMENT),u.enableVertexAttribArray(h)}else{var f=s("aPos");u.vertexAttribPointer(f,2,u.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),u.enableVertexAttribArray(f)}},vV:function(t,i){var n=t.sN();n.xk(n.gl.LINE_STRIP,i,0)},dV:function(t,i){var n=t.sN();n.xk(n.gl.LINES,2*i,0)}},jC=function(t,i,n,r,e,o,s,u,a,h,f,c){void 0===f&&(f=s),void 0===c&&(c=0);var l=t.gl;if(n){var v=i.attribute("".concat(e,"A_highpart").concat(o)),d=i.attribute("".concat(e,"A_lowpart").concat(o)),y=i.attribute("".concat(e,"B_highpart").concat(o)),A=i.attribute("".concat(e,"B_lowpart").concat(o));l.bindBuffer(l.ARRAY_BUFFER,r),l.vertexAttribPointer(v,s,a,u,2*f*h,2*c*h),l.vertexAttribPointer(d,s,a,u,2*f*h,(f+2*c)*h),t.RP(v,1),t.RP(d,1),l.enableVertexAttribArray(v),l.enableVertexAttribArray(d),l.vertexAttribPointer(y,s,a,u,2*f*h,(2*f+2*c)*h),l.vertexAttribPointer(A,s,a,u,2*f*h,(3*f+2*c)*h),t.RP(y,1),t.RP(A,1),l.enableVertexAttribArray(y),l.enableVertexAttribArray(A),l.bindBuffer(l.ARRAY_BUFFER,null)}else{var b=i.attribute("".concat(e,"A").concat(o)),p=i.attribute("".concat(e,"B").concat(o));l.bindBuffer(l.ARRAY_BUFFER,r),l.vertexAttribPointer(b,s,a,u,f*h,(0+c)*h),l.vertexAttribPointer(p,s,a,u,f*h,(f+c)*h),t.RP(b,1),t.RP(p,1),l.enableVertexAttribArray(b),l.enableVertexAttribArray(p),l.bindBuffer(l.ARRAY_BUFFER,null)}},BC=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DC=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.rL=new rC,s.If=ps,s.lN=Ua({lineStyleSolid:function(){return ka(s.Hc)&&s.Hc},lineStyleDashed:function(){return ja(s.Hc)&&s.Hc},strokeFillSolid:function(){var t=s.Hc.getFillStyle();return Ou(t)&&t},strokeFillLinearGradient:function(){var t=s.Hc.getFillStyle();return Rr(t)&&t},strokeFillRadialGradient:function(){var t=s.Hc.getFillStyle();return Nr(t)&&t},strokeFillPaletted:function(){var t=s.Hc.getFillStyle();return Bu(t)&&t}}),s.eN=i,s.oN=n,s.FD=i.sN(),s.yV=s.FD.iz,s}return BC(i,t),i.prototype.ds=function(){var t=this.Uh(),i=this.Hc,n=this.lN.lineStyleSolid(t),r=this.lN.lineStyleDashed(t),e=n||r,s=this.lN.strokeFillSolid(t),u=this.lN.strokeFillLinearGradient(t),a=this.lN.strokeFillRadialGradient(t),h=this.lN.strokeFillPaletted(t),c=s||u||a||h&&["x","y"].includes(h.getLookUpProperty())&&h,l=this.ki(),v=this.Ti(),d=this.Xi.T(),y=this.Xi.o,A=i._n();if(r&&this.Yi instanceof te)return Qe.console.error("LightningChart JS DashedLine is not supported on logarithmic axis"),this;if(this.rL.cP(this.Yi),this.qc&&(this.AV=this.FD.iP(Co([l,v],this.Yi.Si()),!1,this.AV),this.If=f(o(l.x,l.y),o(v.x,v.y))),t||y){var b=this.Rh()&&e&&c&&A>0,p=u?["gradient",u]:a?["gradient",a]:h?["lookup",h.getLookUpProperty(),h.lut]:"uniform";this.bV=b?{type:"triangulated",shader:this.FD.rE(rM["2D"],rM.Color({dataType:p}),rM.LineInstanced2D({axisWorldTranslation:Ra(this.Yi),normalSource:void 0}),this.yV?rM.AliasedEdge:void 0,r&&rM.StippleTextureInstanced),mousePickingShader:d?this.FD.rE(rM["2D"],rM.MousePicking(),rM.LineInstanced2D({axisWorldTranslation:Ra(this.Yi),normalSource:void 0}),r&&rM.StippleTextureInstanced):void 0,geometry:OC(this.FD,A),thickness:A,lineStyleSolid:n,lineStyleDashed:r,fillStyleSolid:s,fillStyleLinearGradient:u,fillStyleRadialGradient:a,fillStylePaletted:h}:void 0}if(a?this._N=GM(Xf(this.If,{x:this.sc(),y:this.uc()},this.Yi),this.Yi,a.getPosition(),a.getExtent(),a.getShape(),this.FD.RE()):u?this.ON=UM(Xf(this.If,{x:this.sc(),y:this.uc()},this.Yi),this.Yi,u.getAngle(!0),this.FD.RE()):(this._N=void 0,this.ON=void 0),r){if(t||this.qc){var m=[0,0,Math.abs(v.x-l.x),Math.abs(v.y-l.y)];this.pV=this.FD.iP(m,!1,this.pV)}this.mV=this.FD._z(r.getPattern())}else this.pV&&(this.FD.yP(this.pV),this.pV=void 0),this.mV=void 0;return this.Kc(i),this.qc=!1,this.Xi.o=!1,this},i.prototype.fl=function(t,i){var n,r,e=this,o=this.AV;if(!o)return{};var s=this.bV;if(!s)return{};var u=s.fillStyleSolid,a=s.fillStyleLinearGradient,h=s.fillStyleRadialGradient,f=s.fillStylePaletted,c=s.lineStyleDashed,l=s.thickness,v=1===t?null===(n=this.bV)||void 0===n?void 0:n.mousePickingShader:null===(r=this.bV)||void 0===r?void 0:r.shader;return v?(this.FD.zl(v).rP(v,(function(n,r,v,d){if(e.FD.uP(n("uIsHighlighted"),1===t||2===t?0:e.Ki).wI(n("uHighlightColorOffset"),1===t||2===t?Fr:e.rn).uP(n("uRenderEffectMask"),2===t?1:0),e.Yi instanceof $r||e.Yi instanceof Va?e.FD.oP(n("uScale"),e.rL.aP()).oP(n("uDisp"),e.rL.hP()).oP(d("uScaleStart_highpart"),e.rL.Ez()).oP(d("uScaleStart_lowpart"),e.rL.Pz()):e.Yi instanceof te&&e.FD.oP(d("uScaleStart"),e.rL.MixedScaleXY.uScaleStart).oP(d("uScaleStartLog"),e.rL.MixedScaleXY.uScaleStartLog).oP(d("uScaleInterval"),e.rL.MixedScaleXY.uScaleInterval).oP(d("uScaleIntervalLog"),e.rL.MixedScaleXY.uScaleIntervalLog).oP(n("uViewportStart"),e.rL.MixedScaleXY.uViewportStart).oP(n("uViewportSize"),e.rL.MixedScaleXY.uViewportSize),1===t)e.FD.IP(n("uFirstId"),i).Cz(v,1);else if(u)e.FD.wI(n("uColor"),u.getColor());else if(h){if(!e._N)return!1;e.FD.dz(v,e._N,h)}else if(a){if(!e.ON)return!1;e.FD.yz(v,e.ON,a)}else if(f){var y=Ya(f,e,void 0);if(!y&&f.lut.percentageValues)return!1;e.FD.jz(v,f.lut,y)}if(c){if(!e.pV||!e.mV)return!1;FC.fV(e.FD,v,e.pV,r("aLengthSoFarA"),r("aLengthSoFarB"),2,2,0),e.FD.oP(n("uStippleCount"),[e.qi.ai().x/e.mV.Iz,e.qi.ai().y/e.mV.Iz]).uP(d("uStippleTextureWidthLimiter"),e.mV.Fz/e.mV.Iz).uP(n("uStippleScale"),c.getPatternScale()).sP(n("uStippleTexture"),e.mV.Oz,1)}return FC.hV(e.Yi.Si(),e.FD,o,v,e.Yi.Si()?4:2,0),FC.fl(e.eN,s.geometry,v,e.yV&&1!==t,1===t,l,1),!0})),{idCount:1}):{}},i.prototype.ll=function(t,i,n,r,e){return{}},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.bV=void 0,this.AV&&(this.FD.yP(this.AV),this.AV=void 0),this.pV&&(this.FD.yP(this.pV),this.pV=void 0),this.mV=void 0,this},i.prototype.cl=function(){return this},i.prototype.Fn=function(){return this.If.max.x},i.prototype.On=function(){return this.If.min.x},i.prototype.jn=function(){return this.If.max.y},i.prototype.In=function(){return this.If.min.y},i.prototype.sc=function(){return is(this.Hc)},i.prototype.uc=function(){return is(this.Hc)},i}(cc),LC=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),EC=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},PC=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.gV=[],s.xV=!1,s.SV=!1,s.wV=!1,s.MV=!1,s.CV=!1,s.rL=new rC,s.If=ps,s.lN=Ua({lineStyleSolid:function(){return ka(s.Hc)&&s.Hc},lineStyleDashed:function(){return ja(s.Hc)&&s.Hc},lineFillSolid:function(){var t=s.Hc.getFillStyle();return Ou(t)&&t},lineFillRadialGradient:function(){var t=s.Hc.getFillStyle();return Nr(t)&&t},lineFillLinearGradient:function(){var t=s.Hc.getFillStyle();return Rr(t)&&t},lineIndividualPointFill:function(){var t=s.Hc.getFillStyle();return Iu(t)&&t}}),s.eN=i,s.oN=n,s.FD=i.sN(),s.yV=s.FD.iz,s.TV=i.ih.uh,s}return LC(i,t),i.prototype.pa=function(){var t=this,i={ar:function(n){return t.kV(i,n)},vn:function(n){return t._V(i,n)},yy:function(n,r){return t.OV(i,n,r)},wI:function(n){return t.FV(i,n)},ht:{x:0,y:0},ft:{x:0,y:0},Ki:0,Ej:void 0,IV:this.gV.length,Py:!0,jV:!0};return this.SV=!0,this.gV.push(i),i},i.prototype.Sn=function(){return this.gV.length=0,this.xV=!0,this.qi.fn(this),this},i.prototype.BV=function(){return this.gV.length},i.prototype.T=function(t){var i=this.gV[t];return[i.ht,i.ft]},i.prototype.wb=function(){return this.gV},i.prototype.Dv=function(t){var i=this.gV.indexOf(t);i>=0&&(this.gV.splice(i,1),t.jV||(this.xV=!0),this.qi.fn(this))},i.prototype.kV=function(t,i){if(i&&!t.Py)t.IV=this.gV.length,this.gV.push(t);else if(!i){var n=this.gV.indexOf(t);this.gV.splice(n,1)}return t.Py=i,t.jV||(this.MV=!0),t},i.prototype._V=function(t,i){return t.Ki=i,t.jV||(this.wV=!0),t},i.prototype.OV=function(t,i,n){return t.ht=i,t.ft=n,t.jV||(this.xV=!0),t},i.prototype.FV=function(t,i){return t.Ej=i,t.jV||(this.CV=!0),t},i.prototype.ds=function(){var t,i,n=this.Xi.T(),r=this.Xi.o,e=this.Uh(),o=this.Hc,s=this.gV,u=this.wV,a=this.xV,h=this.MV,f=this.CV,c=this.SV,l=this.lN.lineStyleSolid(e),v=this.lN.lineStyleDashed(e),d=l||v,y=this.lN.lineFillSolid(e),A=this.lN.lineIndividualPointFill(e),b=this.lN.lineFillRadialGradient(e),p=this.lN.lineFillLinearGradient(e),m=y||A||p||b,g=o._n(),x=v?"triangulated":o.getThickness()<0?"primitive":"triangulated";if(v&&this.Yi instanceof te)return Qe.console.error("LightningChart JS DashedLine is not supported on logarithmic axis"),this;this.rL.cP(this.Yi);var S=this.tl,w=a||h,M=!w&&c;if(w||M){for(var C=w?s:s.filter((function(t){return t.jV})),T=[],k=C.length,_=As,O=As,F=bs,I=bs,j=0;j<k;j+=1){var B=C[j];T.push(B.ht),T.push(B.ft),_=Math.min(_,B.ht.x,B.ft.x),O=Math.min(O,B.ht.y,B.ft.y),F=Math.max(F,B.ht.x,B.ft.x),I=Math.max(I,B.ht.y,B.ft.y)}this.AV=this.FD.EP(this.AV,Co(T,this.Yi.Si()),S*(this.Yi.Si()?8:4),w,Float32Array),this.If=M?Ls(this.If,{min:{x:_,y:O},max:{x:F,y:I}}):{min:{x:_,y:O},max:{x:F,y:I}}}if(e||r){var D=y?"uniform":A?"attribute":p?["gradient",p]:b?["gradient",b]:void 0,L=d&&m&&g>0&&D;this.bV=L?"triangulated"===x?{type:"triangulated",shader:this.FD.rE(rM["2D"],rM.Color({dataType:D}),rM.LineInstanced2D({axisWorldTranslation:Ra(this.Yi),normalSource:void 0,snapToNearestPixel:this.TV,ensureMinimumSegmentLength:void 0!==this.$c}),this.yV?rM.AliasedEdge:void 0,v&&rM.StippleTextureInstanced,rM.AttributeHighlight),mousePicking:n?{shader:this.FD.rE(rM["2D"],rM.MousePicking({useAttribute:!0}),rM.LineInstanced2D({axisWorldTranslation:Ra(this.Yi),normalSource:void 0,snapToNearestPixel:this.TV,ensureMinimumSegmentLength:void 0!==this.$c}),v&&rM.StippleTextureInstanced,rM.AttributeHighlight)}:void 0,geometry:OC(this.FD,g,!1),thickness:g,lineStyleSolid:l,lineStyleDashed:v,fillStyleSolid:y,fillStyleIndividual:A,fillStyleLinearGradient:p,fillStyleRadialGradient:b}:{type:"primitive",shader:this.FD.rE(rM["2D"],rM.Color({dataType:D}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0,snapToNearestPixel:this.TV}),rM.AttributeHighlight),mousePicking:n?{shader:this.FD.rE(rM["2D"],rM.MousePicking({useAttribute:!0}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0,snapToNearestPixel:this.TV}),rM.AttributeHighlight)}:void 0,lineStyleSolid:l,lineStyleDashed:v,fillStyleSolid:y,fillStyleIndividual:A,fillStyleLinearGradient:p,fillStyleRadialGradient:b}:void 0}if(v){if(e||w||M){C=w||e?s:s.filter((function(t){return t.jV}));var E=new Float32Array(4*C.length),P=0;for(j=0;j<C.length;j+=1){var z=C[j].ht,N=C[j].ft;E[P]=0,E[P+1]=0,E[P+2]=Math.abs(N.x-z.x),E[P+3]=Math.abs(N.y-z.y),P+=4}this.pV=this.FD.EP(this.pV,E,4*S,w||e,Float32Array)}this.mV=this.FD._z(v.getPattern())}else this.pV&&(this.FD.yP(this.pV.buffer),this.pV=void 0),this.mV=void 0;if(u||w||M){var V="triangulated"===x?1:2,R=(C=w||u?s:s.filter((function(t){return t.jV})),new Float32Array(C.length*V)),G=0;C.forEach((function(t){for(var i=0;i<V;i+=1)R[G+i]=t.Ki;G+=V})),this.DV=this.FD.EP(this.DV,R,S*V,w||u,Float32Array)}if((f||w||M||e)&&A){C=w||f||e?s:s.filter((function(t){return t.jV}));var U=new Uint32Array(2*C.length),Y=0;C.forEach((function(t){for(var i=(t.Ej||A.color).toUint32(),n=Y;n<Y+2;n+=1)U[n]=i;Y+=2})),this.LV=this.FD.EP(this.LV,U,2*S,w||f,Uint32Array)}if(n){if(w||M||r){var W="triangulated"===x?1:2,X=(C=w||r?s:s.filter((function(t){return t.jV})),new Float32Array(C.length*W)),H=0;C.forEach((function(t){for(var i=0;i<W;i+=1)X[H+i]=t.IV||0;H+=W})),this.EV=this.FD.EP(this.EV,X,S*W,w,Float32Array)}}else this.EV&&(this.FD.yP(this.EV.buffer),this.EV=void 0);b?this.mN=GM(this.Qi||this.If,this.Yi,b.getPosition(),b.getExtent(),b.getShape(),this.FD.RE()):p?this.gN=UM(this.Qi||this.If,this.Yi,p.getAngle(!0),this.FD.RE()):(this.mN=void 0,this.gN=void 0),this.Kc(o),this.wV=!1,this.MV=!1,this.xV=!1,this.CV=!1,this.Xi.o=!1,this.SV=!1;try{for(var Z=EC(s),J=Z.next();!J.done;J=Z.next())(B=J.value).jV=!1}catch(i){t={error:i}}finally{try{J&&!J.done&&(i=Z.return)&&i.call(Z)}finally{if(t)throw t.error}}return this},i.prototype.fl=function(t,i){var n,r=this,e=this.AV,o=this.DV,s=this.EV;if(!e||!o)return{};var u=this.bV;if(!u)return{};var a=u.type,h=u.fillStyleSolid,f=u.fillStyleIndividual,c=u.fillStyleLinearGradient,l=u.fillStyleRadialGradient,v=u.lineStyleDashed,d=1===t?null===(n=u.mousePicking)||void 0===n?void 0:n.shader:u.shader;return d?(this.FD.zl(d).rP(d,(function(n,d,y,A){if(r.Yi instanceof $r||r.Yi instanceof Va?r.FD.oP(n("uScale"),r.rL.aP()).oP(n("uDisp"),r.rL.hP()).oP(A("uScaleStart_highpart"),r.rL.Ez()).oP(A("uScaleStart_lowpart"),r.rL.Pz()):r.Yi instanceof te&&r.FD.oP(A("uScaleStart"),r.rL.MixedScaleXY.uScaleStart).oP(A("uScaleStartLog"),r.rL.MixedScaleXY.uScaleStartLog).oP(A("uScaleInterval"),r.rL.MixedScaleXY.uScaleInterval).oP(A("uScaleIntervalLog"),r.rL.MixedScaleXY.uScaleIntervalLog).oP(n("uViewportStart"),r.rL.MixedScaleXY.uViewportStart).oP(n("uViewportSize"),r.rL.MixedScaleXY.uViewportSize),r.TV&&r.FD.oP(A("uViewportSizePx"),[r.qi.ai().x*r.FD.RE(),r.qi.ai().y*r.FD.RE()]),void 0!==r.$c&&r.FD.oP(n("uMinSegmentPixelVector"),[r.$c.x,r.$c.y]),r.FD.wI(n("uHighlightColorOffset"),1===t||2===t?Fr:r.rn).uP(n("uRenderEffectMask"),2===t?1:0),1===t){if(r.FD.IP(n("uFirstId"),i),!s)return!1;"triangulated"===a?r.FD.eP(s.buffer,1,{location:d("aPickingIdOffset"),size:1}):r.FD.YP(d("aPickingIdOffset"),s.buffer)}else if(h)r.FD.wI(n("uColor"),h.getColor());else if(f){if(!r.LV)return!1;if("triangulated"===a)FC.lV(r.FD,y,r.LV.buffer,d("aColorA"),d("aColorB"),4,0,!0,r.FD.gl.UNSIGNED_BYTE,1);else{var b=d("aColor");r.FD.gl.bindBuffer(r.FD.gl.ARRAY_BUFFER,r.LV.buffer),r.FD.gl.vertexAttribPointer(b,4,r.FD.gl.UNSIGNED_BYTE,!0,0,0),r.FD.gl.enableVertexAttribArray(b)}}else if(l){if(!r.mN)return!1;r.FD.dz(y,r.mN,l)}else if(c){if(!r.gN)return!1;r.FD.yz(y,r.gN,c)}if(v){if(!r.pV||!r.mV)return!1;FC.lV(r.FD,y,r.pV.buffer,d("aLengthSoFarA"),d("aLengthSoFarB"),2,0,!1,r.FD.gl.FLOAT,Float32Array.BYTES_PER_ELEMENT),r.FD.oP(n("uStippleCount"),[r.qi.ai().x/r.mV.Iz,r.qi.ai().y/r.mV.Iz]).uP(A("uStippleTextureWidthLimiter"),r.mV.Fz/r.mV.Iz).uP(n("uStippleScale"),v.getPatternScale()).sP(n("uStippleTexture"),r.mV.Oz,0)}if("triangulated"===a){var p=u.geometry,m=u.thickness;FC.cV(r.Yi.Si(),r.FD,e.buffer,y,r.Yi.Si()?4:2,0),r.FD.eP(o.buffer,1,{location:d("aIsHighlighted"),size:1}),FC.fl(r.eN,p,y,r.yV&&1!==t,1===t,m,r.gV.length)}else IC.cV(r.Yi.Si(),r.FD,e.buffer,y,r.Yi.Si()?4:2,0),r.FD.YP(d("aIsHighlighted"),o.buffer),IC.dV(r.eN,r.gV.length);return!0})),{idCount:this.gV.length}):{}},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.bV=void 0,this.AV&&(this.FD.yP(this.AV.buffer),this.AV=void 0),this.pV&&(this.FD.yP(this.pV.buffer),this.pV=void 0),this.DV&&(this.FD.yP(this.DV.buffer),this.DV=void 0),this.EV&&(this.FD.yP(this.EV.buffer),this.EV=void 0),this.LV&&(this.FD.yP(this.LV.buffer),this.LV=void 0),this.mV=void 0,this},i.prototype.ll=function(t,i,n,r,e){return{collectionMember:this.gV.find((function(n){return i+n.IV===t}))}},i.prototype.cl=function(){return this},i.prototype.vn=function(i){var n,r;t.prototype.vn.call(this,i);try{for(var e=EC(this.gV),o=e.next();!o.done;o=e.next())o.value.vn(i)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return this},i.prototype.Fn=function(){return this.If.max.x},i.prototype.On=function(){return this.If.min.x},i.prototype.jn=function(){return this.If.max.y},i.prototype.In=function(){return this.If.min.y},i.prototype.sc=function(){return is(this.Hc)},i.prototype.uc=function(){return is(this.Hc)},i}(lc),zC=function(){function t(t,i){var n=this;this.PV=!1,this.zV=!1,this.Yi=t,this.NV=i,this.NV.un("DataPattern",(function(t){"ProgressiveX"!==t.pattern&&"RegressiveX"!==t.pattern||(n.PV="x"),"ProgressiveY"!==t.pattern&&"RegressiveY"!==t.pattern||(n.PV="y"),"RegressiveX"!==t.pattern&&"RegressiveY"!==t.pattern||(n.zV=!0)}))}return t.prototype.calculateUserDataPointsProgressiveRange=function(t){if(0===t.length)throw new Error("calculateUserDataPointsProgressiveRange called with 0 data points");return{start:"x"===this.PV?t[0].x:t[0].y,end:"x"===this.PV?t[t.length-1].x:t[t.length-1].y}},t.prototype.calculateUserDataPointsBoundaries=function(t){return this.PV?"x"===this.PV?function(t){var i=t.length;if(i>0){for(var n=Math.max(t[i-1].x,t[0].x),r=Math.min(t[i-1].x,t[0].x),e=t[0].y,s=t[0].y,u=0;u<i;u+=1){var a=t[u];a.y>e&&(e=a.y),a.y<s&&(s=a.y)}return f(o(r,s),o(n,e))}return ps}(t):function(t){var i=t.length;if(i>0){for(var n=Math.max(t[i-1].y,t[0].y),r=Math.min(t[i-1].y,t[0].y),e=t[0].x,s=t[0].x,u=0;u<i;u+=1){var a=t[u];a.x>e&&(e=a.x),a.x<s&&(s=a.x)}return f(o(s,r),o(e,n))}return ps}(t):Bs(t)},t.prototype.calculateAvgStepBetweenDataPoints=function(t,i,n){return Math.abs(t-i)/(n-1)},t}(),NC=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),VC=function(){return VC=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},VC.apply(this,arguments)},RC=Math.min(1,1.5),GC=function(t){function i(i,n,r){var e=t.call(this,i,n)||this;return e.VV=!1,e.RV={enabled:!1,totalDataPointsAtTime:0},e.GV=[],e.vr=r,e.UV=i instanceof $r?{type:"linear",scale:i}:i instanceof te?{type:"mixed",scale:i}:{type:"unknown"},e.NV.un("DataPattern",(function(t){!1===t.allowDataGrouping&&(e.VV=!0)})),e}return NC(i,t),i.prototype.YV=function(t,i){var n=this;if(void 0===i&&(i=!1),this.VV||!this.PV||"linear"!==this.UV.type)return!1;!1===i&&this.WV&&(clearTimeout(this.WV),this.WV=void 0);var r="x"===this.PV?this.UV.scale.x.Ed:this.UV.scale.y.Ed;if(!r)throw new Error("CP helper has no information about Axis state.");var e=t.length;if(e<2)return!1;var o=t[0],s=t[e-1],u=this.calculateAvgStepBetweenDataPoints("x"===this.PV?o.x:o.y,"x"===this.PV?s.x:s.y,e),a=this.UV.scale,h=Math.abs("x"===this.PV?a.Gi().x:a.Gi().y),f=h/u,c=Math.floor(f*RC),l=c*u,v=Qe.performance.now(),d=!(v-r.mo<500)&&(r.vo?v-r.po<1e3:v-r.do<2e3||r.Ao),y=e>2*this.RV.totalDataPointsAtTime;if(d&&!y)return this.WV=setTimeout((function(){return n.XV(t)}),1e3),!1;var A,b=c>=10,p=this.RV.enabled?this.RV.columnWidthAxis/h<1.5:void 0,m=this.RV.enabled&&c>this.RV.dataPointsPerColumn?c/this.RV.dataPointsPerColumn>=2:void 0;!0===this.RV.enabled?p?m&&(A={enabled:!0,columnWidthAxis:l,dataPointsPerColumn:c,totalDataPointsAtTime:e}):A=b?{enabled:!0,columnWidthAxis:l,dataPointsPerColumn:c,totalDataPointsAtTime:e}:{enabled:!1,totalDataPointsAtTime:e}:b&&(A={enabled:!0,columnWidthAxis:l,dataPointsPerColumn:c,totalDataPointsAtTime:e});var g=!1===i;return A?(g&&(this.RV=A),!0):(g&&(this.RV=VC(VC({},this.RV),{totalDataPointsAtTime:e})),!1)},i.prototype.HV=function(){this.ZV=void 0,this.GV.length=0,this.WV&&(clearTimeout(this.WV),this.WV=void 0)},i.prototype.JV=function(t){var i;if(0===t.length)return t;if(this.VV||!this.PV||"linear"!==this.UV.type||!this.RV.enabled)return t;var n,r,e=(i=this.GV.length>0?No(this.GV,t,{canReturnB:!0}):t).length,o=[],s=void 0===this.ZV,u=-1,a=-1,h=0,f=0;if("x"!==this.PV||this.zV)if("x"===this.PV&&this.zV)for(d=this.RV.columnWidthAxis,y=(this.ZV?this.ZV.x:i[0].x)-d,v=0;v<e;v+=1)(A=i[v]).x>=y?((!n||A.y>n.y)&&(n=A,u=v),(!r||A.y<r.y)&&(r=A,a=v),f=v):(n&&r&&(s&&o.push(i[0]),u<a?o.push(n,r):o.push(r,n)),s=!1,y=A.x-d,n=A,u=v,r=A,a=v,h=v,f=v);else if("y"!==this.PV||this.zV){if("y"===this.PV&&this.zV)for(c=this.RV.columnWidthAxis,l=(this.ZV?this.ZV.y:i[0].y)-c,v=0;v<e;v+=1)(A=i[v]).y>=l?((!n||A.x>n.x)&&(n=A,u=v),(!r||A.x<r.x)&&(r=A,a=v),f=v):(r&&n&&(s&&o.push(i[0]),u<a?o.push(n,r):o.push(r,n)),s=!1,l=A.y-c,n=A,u=v,r=A,a=v,h=v,f=v)}else for(var c=this.RV.columnWidthAxis,l=(this.ZV?this.ZV.y:i[0].y)+c,v=0;v<e;v+=1)(A=i[v]).y<=l?((!n||A.x>n.x)&&(n=A,u=v),(!r||A.x<r.x)&&(r=A,a=v),f=v):(r&&n&&(s&&o.push(i[0]),u<a?o.push(n,r):o.push(r,n)),s=!1,l=A.y+c,n=A,u=v,r=A,a=v,h=v,f=v);else{var d=this.RV.columnWidthAxis,y=(this.ZV?this.ZV.x:i[0].x)+d;for(v=0;v<e;v+=1){var A;(A=i[v]).x<=y?((!n||A.y>n.y)&&(n=A,u=v),(!r||A.y<r.y)&&(r=A,a=v),f=v):(n&&r&&(s&&o.push(i[0]),u<a?o.push(n,r):o.push(r,n)),s=!1,y=A.x+d,n=A,u=v,r=A,a=v,h=v,f=v)}}if(n||r){var b=i.slice(h,f+1);this.GV=b}else this.GV.length=0;var p=o.length;return p>0&&(this.ZV=o[p-1]),o},i.prototype.QV=function(t){var i,n;if(this.PV&&"linear"===this.UV.type){var r="x"===this.PV?this.UV.scale.x.Ed:this.UV.scale.y.Ed;if(!r)throw new Error("CP helper has no information about Axis state.");if((null===(i=r.fs)||void 0===i?void 0:i.id)===Eh||(null===(n=r.fs)||void 0===n?void 0:n.id)===Ph){var e=Math.abs("x"===this.PV?this.UV.scale.x.getInnerInterval():this.UV.scale.y.getInnerInterval());if(this.RV.enabled)return 2*e/this.RV.columnWidthAxis;var o=t.length,s=t[0],u=t[o-1];return e/this.calculateAvgStepBetweenDataPoints("x"===this.PV?s.x:s.y,"x"===this.PV?u.x:u.y,o)}}},i.prototype.KV=function(t,i,n){if(!this.PV)return i;var r=n.length,e=be(n,t.min,this.PV,this.zV,0,r-1);void 0===e&&(e=this.zV?r-1:0);var o=be(n,t.max,this.PV,this.zV,0,r-1);return void 0===o&&(o=this.zV?0:r-1),1+Math.abs(o-e)},i.prototype.qV=function(){this.WV&&(clearTimeout(this.WV),this.WV=void 0)},i.prototype.XV=function(t){this.YV(t,!0)&&this.vr()},i}(zC),UC=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),YC=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return UC(i,t),i.prototype.renderVisibleOnly=function(t,i,n){void 0===n&&(n=!1);var r=this.Yi.x.getInnerStart(),e=this.Yi.x.getInnerEnd(),o=Math.min(r,e),s=Math.max(r,e),u=this.Yi.y.getInnerStart(),a=this.Yi.y.getInnerEnd(),h=Math.min(u,a),f=Math.max(u,a);t.forEach((function(t,r){t.existingCoordinatesCount<=1||!1===n&&(t.boundaries.max.x<o||t.boundaries.min.x>s||t.boundaries.max.y<h||t.boundaries.min.y>f)||i(t)}))},i}(zC),WC=function(){return WC=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},WC.apply(this,arguments)},XC=function(){function t(t,i,n){this.$V=i,this.tR=n,this.iR=t,this.nR=[]}return t.prototype.rR=function(t,i,n,r){var e=t.length;if(0!==e){var o=t,s=e,u=this.iR[this.iR.length-1];do{var a=this.iR.length,h=void 0;u||(u=this.eR(i,s)),u&&0==u.allocatedCoordinatesCount-u.existingCoordinatesCount&&(u=void 0);var f=0;if(this.tR&&a>0&&(void 0===u||0===u.existingCoordinatesCount)){var c=this.iR[a-1].lastDataPoint;c?(o.splice(0,0,c),f=1,s+=1):console.error("SegmentationHelper _connectSegments = true, but segment has no lastDataPoint information!")}if(u)h=Math.min(s,u.allocatedCoordinatesCount-u.existingCoordinatesCount),r(u,o.slice(0,h),h,f);else{var l=Math.ceil(i)+f;h=Math.min(l,s);var v=o.slice(0,h),d=WC(WC({},n(l,v,h,f)),{isDropped:!1});this.iR.push(d)}h>0&&(s>h?s=(o=o.slice(h)).length:(o=[],s=0))}while(s>0);this.oR()}},t.prototype.sR=function(t){var i=t,n=this.iR.indexOf(i);n>=0&&this.iR.splice(n,1),i.droppedTimestamp=Qe.performance.now(),this.nR.push(i)},t.prototype.uR=function(){var t=this;this.iR.slice().forEach((function(i){return t.sR(i)}))},t.prototype.aR=function(){var t=this;this.iR.forEach((function(i){return t.$V(i)})),this.nR.forEach((function(i){return t.$V(i)})),this.iR.length=0,this.nR.length=0},t.prototype.eR=function(t,i){var n=2*t/3,r=4*t/3,e=this.nR.findIndex((function(t){return t.allocatedCoordinatesCount>=n&&t.allocatedCoordinatesCount<=r}));if(e>=0){var o=this.nR[e];return this.nR.splice(e,1),this.iR.push(o),o}},t.prototype.oR=function(){if(this.nR.length>5)for(var t=Qe.performance.now(),i=0;i<this.nR.length-5;i+=1){var n=this.nR[i];(void 0===n.droppedTimestamp||t-n.droppedTimestamp>=1e4)&&(this.$V(n),this.nR.splice(i,1),i-=1)}},t}(),HC=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZC=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return HC(i,t),i.prototype.hR=function(t,i){if(!i||"object"!=typeof i)return 0;var n=this.Yi.x.getInnerStart(),r=this.Yi.x.getInnerEnd(),e=Math.min(n,r),o=Math.max(n,r),s=this.Yi.y.getInnerStart(),u=this.Yi.y.getInnerEnd(),a=Math.min(s,u),h=Math.max(s,u);if("maxDataPointCount"in i)return this.fR(t,i.maxDataPointCount,e,o,a,h);if("minDataPointCount"in i)return this.cR(t,i.minDataPointCount,e,o,a,h);if("progressiveDataCleaningThreshold"in i)return this.lR(t,i.progressiveDataCleaningThreshold,e,o,a,h);throw new Error("Unimplemented data cleaning configuration: ".concat(JSON.stringify(i)))},i.prototype.fR=function(t,i,n,r,e,o){if(void 0===i||i<=0)return 0;var s=t.reduce((function(t,i){return t+i.existingDataPointsCount}),0);if(s<=i)return 0;for(var u=0,a=s,h=0;h<t.length;h+=1){var f=t[h];a>i&&(u+=1,a-=f.existingDataPointsCount)}return u},i.prototype.lR=function(t,i,n,r,e,o){if(void 0===i||!this.PV)return 0;for(var s=0,u=0;u<t.length;u+=1){var a=t[u],h=this.zV?"x"===this.PV?a.boundaries.min.x>r:a.boundaries.min.y>o:"x"===this.PV?a.boundaries.max.x<n:a.boundaries.max.y<e;if(!((this.zV?"x"===this.PV?a.boundaries.min.x>i:a.boundaries.min.y>i:"x"===this.PV?a.boundaries.max.x<i:a.boundaries.max.y<i)&&h&&a.existingCoordinatesCount>2))break;s+=1}return s},i.prototype.cR=function(t,i,n,r,e,o){if(void 0===i||0===i)return 0;for(var s=0,u=0,a=t.length-1;a>=0;a-=1){var h=t[a];if(u>i)if(this.PV){if(this.zV?"x"===this.PV?h.boundaries.min.x>r:h.boundaries.min.y>o:"x"===this.PV?h.boundaries.max.x<n:h.boundaries.max.y<e){s=1+a;break}}else h.boundaries.max.x<n||h.boundaries.min.x>r||h.boundaries.max.y<e||h.boundaries.min.y>o?s+=1:s=0;u+=h.existingDataPointsCount}return s},i.prototype.vR=function(t,i){var n=t.reduce((function(t,i){return Ls(t,i.boundaries)}),ps);if(i&&"progressiveDataCleaningThreshold"in i&&i.progressiveDataCleaningThreshold){var r=i.progressiveDataCleaningThreshold;"x"!==this.PV||this.zV?"x"===this.PV&&this.zV?n.max.x=Math.min(n.max.x,r):"y"!==this.PV||this.zV?"y"===this.PV&&this.zV&&(n.max.y=Math.min(n.max.y,r)):n.min.y=Math.max(n.min.y,r):n.min.x=Math.max(n.min.x,r)}return n},i}(zC),JC=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),QC=function(t){function i(i,n,r,e,o,s){var u=t.call(this,i,n,r,e,o)||this;u.rL=new rC,u.uw=[],u.dR=new YC(u.Yi,u),u.yR=new GC(u.Yi,u,(function(){return u.qi.vr()})),u.AR=new XC(u.uw,(function(t){t.coordsBuffer&&u.FD.yP(t.coordsBuffer),t.pV&&u.FD.yP(t.pV)}),!0),u.bR=new ZC(u.Yi,u),u.pR=0,u.mR=0,u.gR=!1,u.lN=Ua({lineStyleSolid:function(){return ka(u.Hc)&&u.Hc},lineStyleDashed:function(){return ja(u.Hc)&&u.Hc},strokeFillSolid:function(){var t=u.Hc.getFillStyle();return Ou(t)&&t},strokeFillLinearGradient:function(){var t=u.Hc.getFillStyle();return Rr(t)&&t},strokeFillRadialGradient:function(){var t=u.Hc.getFillStyle();return Nr(t)&&t},strokeFillPaletted:function(){var t=u.Hc.getFillStyle();return Bu(t)&&t}}),u.oN=n,u.ih=s,u.bV={type:"none"},u.FD=i.sN(),u.eN=i,u.yV=u.FD.iz;var a,h,f,c=u.Yi.Si(),l=!0===(null==s?void 0:s.individualLookupValuesEnabled),v=0;c||(a=v,v+=2),c&&(h=v,v+=4),l&&(f=v,v+=1);var d=function(t,i){return i?function(i,n){return function(t,i){if(!i){for(var n=t.length,r=new Float32Array(3*n),e=0,o=0;e<n;e+=1){var s=t[e];r[o+0]=s.x,r[o+1]=s.y,r[o+2]=void 0!==s.value?s.value:0,o+=3}return r}var u=t.length,a=new Float32Array(5*u),h=0;for(e=0;e<u;e+=1){s=t[e];var f=Math.fround(s.x),c=Math.fround(s.y);a[h+0]=f,a[h+1]=c,a[h+2]=s.x-f,a[h+3]=s.y-c,a[h+4]=void 0!==s.value?s.value:0,h+=5}return a}(i,t)}:function(i,n){return Co(i,t,Float32Array)}}(c,l);return u.xR={individualLookupValuesEnabled:l,attributesPerVertex:v,attributeOffsetCoordinateLowPrecision:a,attributeOffsetCoordinateHighPrecision:h,attributeOffsetLookUpValue:f,prepareRenderData:function(t,i){return d(t,u.Hc.getFillStyle())}},u}return JC(i,t),i.prototype.SR=function(t,i,n){for(var r=new Float32Array(2*i),e=0,o=n||t[0],s=0;s<i;s+=1){var u=t[s];this.pR+=Math.abs(o.x-u.x),this.mR+=Math.abs(o.y-u.y),r[e]=this.pR,r[e+1]=this.mR,e+=2,o=u}return r},i.prototype.ds=function(){var t=this,i=this.Ef,n=this.Hc,r=this.Uh(),e=this.Bf,o=e.length,s=o>0,u=this.Xi.T(),a=this.Xi.o,h=this.lN.lineStyleSolid(r),f=this.lN.lineStyleDashed(r),c=h||f,l=c&&c.getThickness(),v=this.lN.strokeFillSolid(r),d=this.lN.strokeFillLinearGradient(r),y=this.lN.strokeFillRadialGradient(r),A=this.lN.strokeFillPaletted(r),b=v||d||y||A,p=this.xR.individualLookupValuesEnabled;if(f&&this.Yi instanceof te)return Qe.console.error("LightningChart JS DashedLine is not supported on logarithmic axis"),this;s&&(this.il=No(this.il,e,{canReturnB:!0}),this.jf+=o);var m=this.nl.o,g=this.bR.hR(this.uw,this.nl.T());if(g>0){for(var x=0,S=0;S<g;S+=1){var w=this.uw[0];x+=w.existingDataPointsCount,w.existingDataPointsCount=0,w.existingCoordinatesCount=0,w.jointPointsCount=0,w.boundaries=ps,w.lastDataPoint=void 0,this.AR.sR(w)}this.il=this.il.slice(x),this.jf=this.il.length,m=!0}var M=e,C=!1;(this.yR.YV(this.il)||i)&&(C=!0),f&&!this.gR?(C=!0,this.gR=!0,this.AR.aR()):!f&&this.gR&&(this.uw.forEach((function(i){i.pV&&(t.FD.yP(i.pV),i.pV=void 0)})),this.gR=!1),C&&(this.yR.HV(),this.uw.forEach((function(t){t.existingDataPointsCount=0,t.existingCoordinatesCount=0,t.jointPointsCount=0,t.boundaries=ps,t.lastDataPoint=void 0})),this.AR.uR(),M=this.il,this.pR=0,this.mR=0);var T=this.yR.JV(M),k=T.length;if(k>0){var _=this.yR.QV(this.il)||(this.un("ApplicationType",(function(t){return"InternalUI"===t.type}))?this.jf:1e5);k/_>10&&(_=k/10),this.AR.rR(T,_,(function(i,n,r,e){var o=t.dR.calculateUserDataPointsBoundaries(n),s=t.yR.KV(o,r,t.il)-e;return t.wR=n[r-1],{allocatedCoordinatesCount:i,existingDataPointsCount:s,existingCoordinatesCount:r,jointPointsCount:e,boundaries:o,coordsBuffer:t.FD.DP(i*t.xR.attributesPerVertex,t.xR.prepareRenderData(n,r)),lastDataPoint:n[r-1],pV:t.gR?t.FD.DP(2*i,t.SR(n,r,t.wR)):void 0}}),(function(i,n,r,e){var o=Ls(i.boundaries,t.dR.calculateUserDataPointsBoundaries(n)),s=t.yR.KV(o,i.existingCoordinatesCount+r,t.il)-(i.jointPointsCount+e);t.FD.LP(i.coordsBuffer,i.existingCoordinatesCount*t.xR.attributesPerVertex,t.xR.prepareRenderData(n,r)),t.gR&&i.pV&&t.FD.LP(i.pV,2*i.existingCoordinatesCount,t.SR(n,r,t.wR)),t.wR=n[r-1],i.jointPointsCount+=e,i.lastDataPoint=n[r-1],i.existingDataPointsCount=s,i.existingCoordinatesCount+=r,i.boundaries=o}))}if(m&&(this.If=this.bR.vR(this.uw,this.nl.T())),this.rL.cP(this.Yi),y?this._N=GM(this.Qi||this.If,this.Yi,y.getPosition(),y.getExtent(),y.getShape(),this.FD.RE()):d?this.ON=UM(this.Qi||this.If,this.Yi,d.getAngle(!0),this.FD.RE()):(this._N=void 0,this.ON=void 0),r||a){if(A&&"value"===A.getLookUpProperty()&&!p){var O='LCJS misusage error: Series individualLookupValuesEnabled flag must be set if using PalettedFill with lookUpProperty="value" !';throw Qe.alert(O),new Error(O)}if(b&&c&&!1!==l){var F=-1===l?"primitive":"triangulated",I=d?["gradient",d]:y?["gradient",y]:A?["lookup",A.getLookUpProperty(),A.lut]:"uniform";this.bV="primitive"===F?{type:F,shader:this.FD.rE(rM["2D"],rM.Color({dataType:I}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0}),f&&rM.StippleTexture),mousePickingShader:u?this.FD.rE(rM["2D"],rM.MousePicking({useVertexId:!0}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0}),f&&rM.StippleTexture):void 0,lineStyleSolid:h,lineStyleDashed:f,fillStyleSolid:v,fillStyleLinearGradient:d,fillStyleRadialGradient:y,fillStylePaletted:A}:"triangulated"===F?{type:F,shader:this.FD.rE(rM["2D"],rM.Color({dataType:I}),rM.LineInstanced2D({axisWorldTranslation:Ra(this.Yi),normalSource:void 0}),this.yV?rM.AliasedEdge:void 0,f&&rM.StippleTextureInstanced),mousePickingShader:u?this.FD.rE(rM["2D"],rM.MousePicking(),rM.LineInstanced2D({axisWorldTranslation:Ra(this.Yi),normalSource:void 0}),f&&rM.StippleTextureInstanced):void 0,geometry:OC(this.FD,l),thickness:l,lineStyleSolid:h,lineStyleDashed:f,fillStyleSolid:v,fillStyleLinearGradient:d,fillStyleRadialGradient:y,fillStylePaletted:A}:{type:"none"}}else this.bV={type:"none"}}return this.mV=f?this.FD._z(f.getPattern()):void 0,this.Kc(n),this.Ef=!1,this.Bf=[],this.Xi.o=!1,this},i.prototype.fl=function(t,i){var n=this,r=this.FD.gl,e=this.bV;if(!e||"none"===e.type)return{};var o=1===t?e.mousePickingShader:e.shader;if(!o)return{};var s=e.lineStyleDashed,u=e.fillStyleSolid,a=e.fillStyleLinearGradient,h=e.fillStyleRadialGradient,f=e.fillStylePaletted;return this.FD.zl(o).rP(o,(function(o,c,l,v){var d=!1;if(n.FD.uP(o("uIsHighlighted"),1===t||2===t?0:n.Ki).wI(o("uHighlightColorOffset"),1===t||2===t?Fr:n.rn).uP(o("uRenderEffectMask"),2===t?1:0),n.Yi instanceof $r||n.Yi instanceof Va?n.FD.oP(o("uScale"),n.rL.aP()).oP(o("uDisp"),n.rL.hP()).oP(v("uScaleStart_highpart"),n.rL.Ez()).oP(v("uScaleStart_lowpart"),n.rL.Pz()):n.Yi instanceof te&&n.FD.oP(v("uScaleStart"),n.rL.MixedScaleXY.uScaleStart).oP(v("uScaleStartLog"),n.rL.MixedScaleXY.uScaleStartLog).oP(v("uScaleInterval"),n.rL.MixedScaleXY.uScaleInterval).oP(v("uScaleIntervalLog"),n.rL.MixedScaleXY.uScaleIntervalLog).oP(o("uViewportStart"),n.rL.MixedScaleXY.uViewportStart).oP(o("uViewportSize"),n.rL.MixedScaleXY.uViewportSize),1===t);else if(u)n.FD.wI(o("uColor"),u.getColor());else if(h){if(!n._N)return!1;n.FD.dz(l,n._N,h)}else if(a){if(!n.ON)return!1;n.FD.yz(l,n.ON,a)}else if(f){var y=Ya(f,n,void 0);if(!y&&f.lut.percentageValues)return!1;n.FD.jz(l,f.lut,y)}var A=fs(i);return n.dR.renderVisibleOnly(n.uw,(function(i){var u=i.coordsBuffer;if(u){if(1===t){var a=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(A.Pn(i.existingDataPointsCount),2),h=a[0],y=a[1];n.FD.IP(o("uFirstId"),h),"triangulated"===e.type?n.FD.Cz(l,y):n.FD.wz(l,y)}r.bindBuffer(r.ARRAY_BUFFER,u);var b="triangulated"===e.type?FC.hV:IC.hV;if(n.Yi.Si()||void 0===n.xR.attributeOffsetCoordinateLowPrecision?n.Yi.Si()&&void 0!==n.xR.attributeOffsetCoordinateHighPrecision&&b(!0,n.FD,u,l,n.xR.attributesPerVertex,n.xR.attributeOffsetCoordinateHighPrecision):b(!1,n.FD,u,l,n.xR.attributesPerVertex,n.xR.attributeOffsetCoordinateLowPrecision),s){if(!i.pV||!n.mV)return;"triangulated"===e.type?FC.fV(n.FD,l,i.pV,c("aLengthSoFarA"),c("aLengthSoFarB"),2,2,0):IC.fV(n.FD,l,i.pV,c("aLengthSoFar"),2,0),n.FD.oP(o("uStippleCount"),[n.qi.ai().x/n.mV.Iz,n.qi.ai().y/n.mV.Iz]).uP(v("uStippleTextureWidthLimiter"),n.mV.Fz/n.mV.Iz).uP(o("uStippleScale"),s.getPatternScale()).sP(o("uStippleTexture"),n.mV.Oz,1)}if(f&&"value"===f.lookUpProperty&&void 0!==n.xR.attributeOffsetLookUpValue&&1!==t)if("triangulated"===e.type){var p=c("aLookupValueA");r.vertexAttribPointer(p,1,r.FLOAT,!1,n.xR.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,n.xR.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),n.FD.RP(p,1),r.enableVertexAttribArray(p);var m=c("aLookupValueB");r.vertexAttribPointer(m,1,r.FLOAT,!1,n.xR.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,(n.xR.attributeOffsetLookUpValue+n.xR.attributesPerVertex)*Float32Array.BYTES_PER_ELEMENT),n.FD.RP(m,1),r.enableVertexAttribArray(m)}else{var g=c("aLookupValue");r.vertexAttribPointer(g,1,r.FLOAT,!1,n.xR.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,n.xR.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),r.enableVertexAttribArray(g)}if("triangulated"===e.type){var x=e.thickness;FC.fl(n.eN,e.geometry,l,n.yV&&1!==t,1===t,x,i.existingCoordinatesCount-1)}else IC.vV(n.eN,i.existingCoordinatesCount);d=!0}}),void 0===n.Un),r.bindBuffer(r.ARRAY_BUFFER,null),d})),{idCount:this.jf}},i.prototype.ll=function(t,i,n,r,e){return{}},i.prototype.Wf=function(t,i){return Array.isArray(t)||(t=[t]),this.Bf=No(this.Bf,t,{canReturnB:!0}),this.If=Ls(this.If,i||i||this.dR.calculateUserDataPointsBoundaries(t)),this},i.prototype.Sn=function(){return t.prototype.Sn.call(this),this.pR=0,this.mR=0,this.wR=void 0,this},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.AR.aR(),this.yR.qV(),this.bV={type:"none"},this.mV=void 0,this},i.prototype.cl=function(){return this},i.prototype.$x=function(t){this.Hf()>0&&this.ds();var i=this.Nf(),n=ve(i,t,this.sn(),this.dc,this.yc,this.Yi,this.engine.Yi,this.If,this.dR.PV,this.dR.zV);return void 0!==n?i[n]:void 0},i.prototype.pw=function(t){this.Hf()>0&&this.ds();var i=this.Nf(),n=i.length;if(0!==n){var r=this.dc?1:0,e=n-(this.yc?2:1),o=this.sn();if(o===Pr.Nearest){for(var s=As,u=void 0,a=void 0,h=0;h<n;h+=1){var f=ee(i[h],this.Yi,this.qi.Yi);if(void 0!==a){var c=Ts(a,f,t),l=Math.pow(c.x-t.x,2)+Math.pow(c.y-t.y,2);l<s&&(s=l,u=c)}a=f}return void 0!==u?ee(u,this.qi.Yi,this.Yi):void 0}if("x"===this.dR.PV&&o===Pr.NearestX||"y"===this.dR.PV&&o===Pr.NearestY){var v=pe(i,ee(t,this.qi.Yi,this.Yi),this.dR.PV,this.dR.zV,r,e);return v?Is(i[v.a],i[v.b],v.lerpAmount):void 0}return this.$x(t)}},i.prototype.Fn=function(){return this.If.max.x},i.prototype.On=function(){return this.If.min.x},i.prototype.jn=function(){return this.If.max.y},i.prototype.In=function(){return this.If.min.y},i.prototype.sc=function(){return is(this.Hc)},i.prototype.uc=function(){return is(this.Hc)},i}(vc),KC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},qC={exports:{}};function $C(t,i,n){n=n||2;var r,e,o,s,u,a,h,f=i&&i.length,c=f?i[0]*n:t.length,l=tT(t,0,c,n,!0),v=[];if(!l||l.next===l.prev)return v;if(f&&(l=function(t,i,n,r){var e,o,s,u=[];for(e=0,o=i.length;e<o;e++)(s=tT(t,i[e]*r,e<o-1?i[e+1]*r:t.length,r,!1))===s.next&&(s.steiner=!0),u.push(cT(s));for(u.sort(uT),e=0;e<u.length;e++)aT(u[e],n),n=iT(n,n.next);return n}(t,i,l,n)),t.length>80*n){r=o=t[0],e=s=t[1];for(var d=n;d<c;d+=n)(u=t[d])<r&&(r=u),(a=t[d+1])<e&&(e=a),u>o&&(o=u),a>s&&(s=a);h=0!==(h=Math.max(o-r,s-e))?1/h:0}return nT(l,v,n,r,e,h),v}function tT(t,i,n,r,e){var o,s;if(e===MT(t,i,n,r)>0)for(o=i;o<n;o+=r)s=xT(o,t[o],t[o+1],s);else for(o=n-r;o>=i;o-=r)s=xT(o,t[o],t[o+1],s);return s&&yT(s,s.next)&&(ST(s),s=s.next),s}function iT(t,i){if(!t)return t;i||(i=t);var n,r=t;do{if(n=!1,r.steiner||!yT(r,r.next)&&0!==dT(r.prev,r,r.next))r=r.next;else{if(ST(r),(r=i=r.prev)===r.next)break;n=!0}}while(n||r!==i);return i}function nT(t,i,n,r,e,o,s){if(t){!s&&o&&function(t,i,n,r){var e=t;do{null===e.z&&(e.z=fT(e.x,e.y,i,n,r)),e.prevZ=e.prev,e.nextZ=e.next,e=e.next}while(e!==t);e.prevZ.nextZ=null,e.prevZ=null,function(t){var i,n,r,e,o,s,u,a,h=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,u=0,i=0;i<h&&(u++,r=r.nextZ);i++);for(a=h;u>0||a>0&&r;)0!==u&&(0===a||!r||n.z<=r.z)?(e=n,n=n.nextZ,u--):(e=r,r=r.nextZ,a--),o?o.nextZ=e:t=e,e.prevZ=o,o=e;n=r}o.nextZ=null,h*=2}while(s>1)}(e)}(t,r,e,o);for(var u,a,h=t;t.prev!==t.next;)if(u=t.prev,a=t.next,o?eT(t,r,e,o):rT(t))i.push(u.i/n),i.push(t.i/n),i.push(a.i/n),ST(t),t=a.next,h=a.next;else if((t=a)===h){s?1===s?nT(t=oT(iT(t),i,n),i,n,r,e,o,2):2===s&&sT(t,i,n,r,e,o):nT(iT(t),i,n,r,e,o,1);break}}}function rT(t){var i=t.prev,n=t,r=t.next;if(dT(i,n,r)>=0)return!1;for(var e=t.next.next;e!==t.prev;){if(lT(i.x,i.y,n.x,n.y,r.x,r.y,e.x,e.y)&&dT(e.prev,e,e.next)>=0)return!1;e=e.next}return!0}function eT(t,i,n,r){var e=t.prev,o=t,s=t.next;if(dT(e,o,s)>=0)return!1;for(var u=e.x<o.x?e.x<s.x?e.x:s.x:o.x<s.x?o.x:s.x,a=e.y<o.y?e.y<s.y?e.y:s.y:o.y<s.y?o.y:s.y,h=e.x>o.x?e.x>s.x?e.x:s.x:o.x>s.x?o.x:s.x,f=e.y>o.y?e.y>s.y?e.y:s.y:o.y>s.y?o.y:s.y,c=fT(u,a,i,n,r),l=fT(h,f,i,n,r),v=t.prevZ,d=t.nextZ;v&&v.z>=c&&d&&d.z<=l;){if(v!==t.prev&&v!==t.next&&lT(e.x,e.y,o.x,o.y,s.x,s.y,v.x,v.y)&&dT(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,d!==t.prev&&d!==t.next&&lT(e.x,e.y,o.x,o.y,s.x,s.y,d.x,d.y)&&dT(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;v&&v.z>=c;){if(v!==t.prev&&v!==t.next&&lT(e.x,e.y,o.x,o.y,s.x,s.y,v.x,v.y)&&dT(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;d&&d.z<=l;){if(d!==t.prev&&d!==t.next&&lT(e.x,e.y,o.x,o.y,s.x,s.y,d.x,d.y)&&dT(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function oT(t,i,n){var r=t;do{var e=r.prev,o=r.next.next;!yT(e,o)&&AT(e,r,r.next,o)&&mT(e,o)&&mT(o,e)&&(i.push(e.i/n),i.push(r.i/n),i.push(o.i/n),ST(r),ST(r.next),r=t=o),r=r.next}while(r!==t);return iT(r)}function sT(t,i,n,r,e,o){var s=t;do{for(var u=s.next.next;u!==s.prev;){if(s.i!==u.i&&vT(s,u)){var a=gT(s,u);return s=iT(s,s.next),a=iT(a,a.next),nT(s,i,n,r,e,o),void nT(a,i,n,r,e,o)}u=u.next}s=s.next}while(s!==t)}function uT(t,i){return t.x-i.x}function aT(t,i){if(i=function(t,i){var n,r=i,e=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var u=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=e&&u>s){if(s=u,u===e){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==i);if(!n)return null;if(e===s)return n;var a,h=n,f=n.x,c=n.y,l=1/0;r=n;do{e>=r.x&&r.x>=f&&e!==r.x&&lT(o<c?e:s,o,f,c,o<c?s:e,o,r.x,r.y)&&(a=Math.abs(o-r.y)/(e-r.x),mT(r,t)&&(a<l||a===l&&(r.x>n.x||r.x===n.x&&hT(n,r)))&&(n=r,l=a)),r=r.next}while(r!==h);return n}(t,i),i){var n=gT(i,t);iT(i,i.next),iT(n,n.next)}}function hT(t,i){return dT(t.prev,t,i.prev)<0&&dT(i.next,t,t.next)<0}function fT(t,i,n,r,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*e)|t<<8))|t<<4))|t<<2))|t<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=32767*(i-r)*e)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function cT(t){var i=t,n=t;do{(i.x<n.x||i.x===n.x&&i.y<n.y)&&(n=i),i=i.next}while(i!==t);return n}function lT(t,i,n,r,e,o,s,u){return(e-s)*(i-u)-(t-s)*(o-u)>=0&&(t-s)*(r-u)-(n-s)*(i-u)>=0&&(n-s)*(o-u)-(e-s)*(r-u)>=0}function vT(t,i){return t.next.i!==i.i&&t.prev.i!==i.i&&!function(t,i){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==i.i&&n.next.i!==i.i&&AT(n,n.next,t,i))return!0;n=n.next}while(n!==t);return!1}(t,i)&&(mT(t,i)&&mT(i,t)&&function(t,i){var n=t,r=!1,e=(t.x+i.x)/2,o=(t.y+i.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&e<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,i)&&(dT(t.prev,t,i.prev)||dT(t,i.prev,i))||yT(t,i)&&dT(t.prev,t,t.next)>0&&dT(i.prev,i,i.next)>0)}function dT(t,i,n){return(i.y-t.y)*(n.x-i.x)-(i.x-t.x)*(n.y-i.y)}function yT(t,i){return t.x===i.x&&t.y===i.y}function AT(t,i,n,r){var e=pT(dT(t,i,n)),o=pT(dT(t,i,r)),s=pT(dT(n,r,t)),u=pT(dT(n,r,i));return e!==o&&s!==u||!(0!==e||!bT(t,n,i))||!(0!==o||!bT(t,r,i))||!(0!==s||!bT(n,t,r))||!(0!==u||!bT(n,i,r))}function bT(t,i,n){return i.x<=Math.max(t.x,n.x)&&i.x>=Math.min(t.x,n.x)&&i.y<=Math.max(t.y,n.y)&&i.y>=Math.min(t.y,n.y)}function pT(t){return t>0?1:t<0?-1:0}function mT(t,i){return dT(t.prev,t,t.next)<0?dT(t,i,t.next)>=0&&dT(t,t.prev,i)>=0:dT(t,i,t.prev)<0||dT(t,t.next,i)<0}function gT(t,i){var n=new wT(t.i,t.x,t.y),r=new wT(i.i,i.x,i.y),e=t.next,o=i.prev;return t.next=i,i.prev=t,n.next=e,e.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function xT(t,i,n,r){var e=new wT(t,i,n);return r?(e.next=r.next,e.prev=r,r.next.prev=e,r.next=e):(e.prev=e,e.next=e),e}function ST(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function wT(t,i,n){this.i=t,this.x=i,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function MT(t,i,n,r){for(var e=0,o=i,s=n-r;o<n;o+=r)e+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return e}qC.exports=$C,qC.exports.default=$C,$C.deviation=function(t,i,n,r){var e=i&&i.length,o=e?i[0]*n:t.length,s=Math.abs(MT(t,0,o,n));if(e)for(var u=0,a=i.length;u<a;u++){var h=i[u]*n,f=u<a-1?i[u+1]*n:t.length;s-=Math.abs(MT(t,h,f,n))}var c=0;for(u=0;u<r.length;u+=3){var l=r[u]*n,v=r[u+1]*n,d=r[u+2]*n;c+=Math.abs((t[l]-t[d])*(t[v+1]-t[l+1])-(t[l]-t[v])*(t[d+1]-t[l+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},$C.flatten=function(t){for(var i=t[0][0].length,n={vertices:[],holes:[],dimensions:i},r=0,e=0;e<t.length;e++){for(var o=0;o<t[e].length;o++)for(var s=0;s<i;s++)n.vertices.push(t[e][o][s]);e>0&&(r+=t[e-1].length,n.holes.push(r))}return n};var CT=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),TT=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},kT=function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))},_T=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},OT=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.bV={fill:void 0,border:void 0},s.rL=new rC,s.If=ps,s.MR=!1,s.CR=!1,s.TR=!1,s.kR=!1,s._R=!1,s.jv=[],s.lN=Ua({polygonStyleSolid:function(){return Ou(s.Oe)&&s.Oe},polygonStyleImage:function(){return De(s.Oe)&&s.Oe},polygonStyleRadialGradient:function(){return Nr(s.Oe)&&s.Oe},polygonStyleLinearGradient:function(){return Rr(s.Oe)&&s.Oe},polygonStylePaletted:function(){return Bu(s.Oe)&&s.Oe},polygonStyleIndividual:function(){return Iu(s.Oe)&&s.Oe},lineStyleSolid:function(){return ka(s.Fe)&&s.Fe},lineStyleDashed:function(){return ja(s.Fe)&&s.Fe},lineStyleFilled:function(){var t=s.Fe&&s.Fe.getFillStyle();return Ou(t)&&t}}),s.eN=i,s.oN=n,s.FD=i.sN(),s.yV=s.FD.iz,s}return CT(i,t),i.prototype.pa=function(){var t=this,i={ar:function(n){return t.kV(i,n)},vn:function(n){return t._V(i,n)},rc:function(n){return t.OR(i,n)},Ax:function(n){return t.FR(i,n)},wI:function(n){return t.FV(i,n)},Tf:[],S:void 0,IR:void 0,Ki:0,Py:!0,jR:this.jv.length};return this.jv.push(i),i},i.prototype.Sn=function(){return this.jv.length=0,this.MR=!0,this.qi.fn(this),this},i.prototype.wb=function(){return this.jv},i.prototype.Dv=function(t){var i=this.jv.indexOf(t);i>=0&&(this.jv.splice(i,1),this._R=!0,this.qi.fn(this,t))},i.prototype.kV=function(t,i){return t.Py=i,this._R=!0,t.Py||this.qi.fn(this,t),t},i.prototype._V=function(t,i){return t.Ki=i,this.kR=!0,t},i.prototype.OR=function(t,i){return t.Tf=i,this.MR=!0,t},i.prototype.FR=function(t,i){return t.S=i,this.CR=!0,t},i.prototype.FV=function(t,i){return t.IR=null==i?void 0:i.toUint32(),this.TR=!0,t},i.prototype.ds=function(){var t=this,i=this.Xi.T(),n=this.Xi.o,r=this.zh(),e=this.kR,o=this.MR,s=this.CR,u=this.TR,a=this._R,h=this.Fe,f=this.Uh(),c=this.jv.filter((function(t){return t.Py&&t.Tf.length>0}));if(this.rL.cP(this.Yi),(o||a)&&(this.If=Ls.apply(void 0,kT([],TT(c.map((function(t){return Bs(t.Tf)}))),!1))),o||a){var l=c.map((function(t){return kT(kT([],TT(t.Tf),!1),[t.Tf[0],{x:Number.NaN,y:Number.NaN}],!1)})).flat(),v=Co(l,!1,Float64Array),d=this.Yi.Si()?Co(l,!0):v;this.AV=this.FD.iP(d,!1,this.AV);var y=[];c.reduce((function(t,i){for(var n=t,r=2*(i.Tf.length+1),e=new Float64Array(v.buffer,n,r),o=qC.exports(e,void 0,2),s=t/(2*Float64Array.BYTES_PER_ELEMENT),u=0;u<o.length;u+=1)o[u]+=s;return y=No(y,o,{canReturnB:!0}),n+(r+2)*Float64Array.BYTES_PER_ELEMENT}),0);var A=new Uint32Array(y);this.BR=this.FD.zP(A,this.BR),this.DR=A.length,this.LR=v.length/2-1}var b=this.lN.polygonStyleSolid(r),p=this.lN.polygonStylePaletted(r),m=this.lN.polygonStyleIndividual(r),g=this.lN.polygonStyleRadialGradient(r),x=this.lN.polygonStyleLinearGradient(r),S=this.lN.polygonStyleImage(r),w=b||p||x||g||S||m,M=this.lN.lineStyleSolid(f),C=this.lN.lineStyleDashed(r),T=M||C,k=this.lN.lineStyleFilled(f),_=k,O=T&&Math.max(T.getThickness(),0);if((r||f||n)&&(this.bV.fill=w?{shader:this.FD.rE(rM["2D"],b&&rM.Color({dataType:"uniform"}),x&&rM.Color({dataType:["gradient",x]}),g&&rM.Color({dataType:["gradient",g]}),p&&rM.Color({dataType:["lookup",p.getLookUpProperty(),p.lut]}),m&&rM.Color({dataType:"attribute"}),S&&rM.Color({dataType:["image",S]}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0}),rM.AttributeHighlight),mousePicking:i?{shader:this.FD.rE(rM["2D"],rM.MousePicking({useAttribute:!0}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0}),rM.AttributeHighlight)}:void 0,fillStyleSolid:b,fillStyleLinearGradient:x,fillStyleRadialGradient:g,fillStylePaletted:p,fillStyleImage:S,fillStyleIndividual:m}:void 0,this.bV.border=T&&_&&"number"==typeof O&&0!==O?{shader:this.FD.rE(rM["2D"],rM.Color({dataType:"uniform"}),rM.LineInstanced2D({axisWorldTranslation:Ra(this.Yi),normalSource:void 0}),this.yV?rM.AliasedEdge:void 0,C&&rM.StippleTextureInstanced,rM.AttributeHighlight),geometry:OC(this.FD,O),mousePicking:i?{shader:this.FD.rE(rM["2D"],rM.MousePicking({useAttribute:!0}),rM.LineInstanced2D({axisWorldTranslation:Ra(this.Yi),normalSource:void 0}),C&&rM.StippleTextureInstanced,rM.AttributeHighlight)}:void 0,fillStyleSolid:k,lineStyleDashed:C,thickness:O}:void 0),e||o){var F=c.reduce((function(t,i){return t+i.Tf.length+2}),0),I=new Float32Array(F),j=0;c.forEach((function(t){for(var i=t.Tf.length+2,n=j;n<j+i;n+=1)I[n]=t.Ki;j+=i})),this.ER=this.FD.iP(I,!0,this.ER)}if(i){if(o){F=c.reduce((function(t,i){return t+i.Tf.length+2}),0);var B=new Float32Array(F),D=0;c.forEach((function(t){for(var i=t.Tf.length+2,n=D;n<D+i;n+=1)B[n]=t.jR;D+=i})),this.PR=this.FD.iP(B,!1,this.PR)}}else this.PR&&(this.FD.yP(this.PR),this.PR=void 0);if(s||o&&p&&"value"===p.getLookUpProperty()){F=c.reduce((function(t,i){return t+i.Tf.length+2}),0);var L=new Float32Array(F),E=0,P={min:As,max:bs};c.forEach((function(t){for(var i=void 0!==t.S?t.S:Ne,n=t.Tf.length+2,r=E;r<E+n;r+=1)L[r]=i;E+=n,void 0!==t.S&&(P.min=Math.min(P.min,i),P.max=Math.max(P.max,i))})),this.zR=P,this.NR=this.FD.iP(L,!1,this.NR)}if(u||o&&m){F=c.reduce((function(t,i){return t+i.Tf.length+2}),0);var z=new Uint32Array(F),N=0,V=m?m.getFallbackColor().toUint32():Or.toUint32();c.forEach((function(t){for(var i=void 0!==t.IR?t.IR:V,n=t.Tf.length+2,r=N;r<N+n;r+=1)z[r]=i;N+=n})),this.VR=this.FD.iP(z,!1,this.VR,Uint32Array)}if(g?this.mN=GM(this.Qi||this.If,this.Yi,g.getPosition(),g.getExtent(),g.getShape(),this.FD.RE()):x?this.gN=UM(this.Qi||this.If,this.Yi,x.getAngle(!0),this.FD.RE()):(this.mN=void 0,this.gN=void 0),C){if(o){var R=c.reduce((function(t,i){return t+i.Tf.length}),2*c.length),G=new Float32Array(2*R),U=0;c.forEach((function(t){var i,n,r=t.Tf[0],e=0,o=0;try{for(var s=_T(t.Tf),u=s.next();!u.done;u=s.next()){var a=u.value;e+=Math.abs(a.x-r.x),o+=Math.abs(a.y-r.y),G[U]=e,G[U+1]=o,U+=2,r=a}}catch(t){i={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}G[U+0]=e+Math.abs(t.Tf[0].x-r.x),G[U+1]=o+Math.abs(t.Tf[0].y-r.y),G[U+2]=Number.NaN,G[U+3]=Number.NaN,U+=4})),this.pV=this.FD.iP(G,!1,this.pV)}this.mV=this.FD._z(C.getPattern())}else this.pV&&(this.FD.yP(this.pV),this.pV=void 0),this.mV=void 0;return this.RR=this.FD.Bz(this,this.RR,S,void 0,o||a||this.Yi.Ni(),(function(i,n,r){return t.GR(i,n,r,c)})),this.kR=!1,this._R=!1,this.MR=!1,this.CR=!1,this.TR=!1,this.Xi.o=!1,this.Gh(this.Oe),this.Xh(h),this},i.prototype.an=function(){return this.zR},i.prototype.fl=function(t,i){var n,r,e=this,o=this.bV,s=o.fill,u=o.border,a=this.AV,h=this.ER,f=this.PR;if(!a||!h)return{};if(s){var c=s.fillStyleSolid,l=s.fillStyleLinearGradient,v=s.fillStyleRadialGradient,d=s.fillStylePaletted,y=s.fillStyleImage,A=s.fillStyleIndividual,b=this.BR,p=this.DR;(m=1===t?null===(n=s.mousePicking)||void 0===n?void 0:n.shader:s.shader)&&a&&b&&void 0!==p&&this.FD.zl(m).rP(m,(function(n,r,o,s){if(e.Yi instanceof $r||e.Yi instanceof Va?e.FD.oP(n("uScale"),e.rL.aP()).oP(n("uDisp"),e.rL.hP()).oP(s("uScaleStart_highpart"),e.rL.Ez()).oP(s("uScaleStart_lowpart"),e.rL.Pz()):e.Yi instanceof te&&e.FD.oP(s("uScaleStart"),e.rL.MixedScaleXY.uScaleStart).oP(s("uScaleStartLog"),e.rL.MixedScaleXY.uScaleStartLog).oP(s("uScaleInterval"),e.rL.MixedScaleXY.uScaleInterval).oP(s("uScaleIntervalLog"),e.rL.MixedScaleXY.uScaleIntervalLog).oP(n("uViewportStart"),e.rL.MixedScaleXY.uViewportStart).oP(n("uViewportSize"),e.rL.MixedScaleXY.uViewportSize),e.FD.pz(o,a,e.Yi.Si(),void 0).WP(b).YP(r("aIsHighlighted"),h).wI(n("uHighlightColorOffset"),1===t||2===t?Fr:e.rn).uP(n("uRenderEffectMask"),2===t?1:0),1===t){if(e.FD.IP(n("uFirstId"),i),!f)return!1;e.FD.YP(r("aPickingIdOffset"),f)}else if(c)e.FD.wI(n("uColor"),c.getColor());else if(v){if(!e.mN)return!1;e.FD.dz(o,e.mN,v)}else if(l){if(!e.gN)return!1;e.FD.yz(o,e.gN,l)}else if(d){var u=Ya(d,e,e.zR);if(!u&&d.lut.percentageValues)return!1;if(e.FD.jz(o,d.lut,u),"value"===d.getLookUpProperty()){if(!e.NR)return!1;e.FD.YP(r("aLookupValue"),e.NR)}}else if(y){if(!e.RR)return!1;e.FD.wI(s("uColor"),y.getSurroundingColor()).sP(n(Aw),e.RR.texture.zE()||e.RR.sourceMissingTexture,0).eP(e.RR.texCoordsBuffer,void 0,{location:r("aTextureCoord"),size:2}).jP(y.fitMode)}else if(A){if(!e.VR)return!1;var m=r("aColor");e.FD.gl.bindBuffer(e.FD.gl.ARRAY_BUFFER,e.VR),e.FD.gl.vertexAttribPointer(m,4,e.FD.gl.UNSIGNED_BYTE,!0,0,0),e.FD.gl.enableVertexAttribArray(m)}return e.FD.HP(p,void 0,void 0,e.FD.gl.UNSIGNED_INT),!0}))}if(u){var m,g=u.geometry,x=u.fillStyleSolid,S=u.thickness,w=u.lineStyleDashed,M=this.LR;(m=1===t?null===(r=u.mousePicking)||void 0===r?void 0:r.shader:u.shader)&&a&&M&&this.FD.zl(m).rP(m,(function(n,r,o,s){if(e.Yi instanceof $r||e.Yi instanceof Va?e.FD.oP(n("uScale"),e.rL.aP()).oP(n("uDisp"),e.rL.hP()).oP(s("uScaleStart_highpart"),e.rL.Ez()).oP(s("uScaleStart_lowpart"),e.rL.Pz()):e.Yi instanceof te&&e.FD.oP(s("uScaleStart"),e.rL.MixedScaleXY.uScaleStart).oP(s("uScaleStartLog"),e.rL.MixedScaleXY.uScaleStartLog).oP(s("uScaleInterval"),e.rL.MixedScaleXY.uScaleInterval).oP(s("uScaleIntervalLog"),e.rL.MixedScaleXY.uScaleIntervalLog).oP(n("uViewportStart"),e.rL.MixedScaleXY.uViewportStart).oP(n("uViewportSize"),e.rL.MixedScaleXY.uViewportSize),e.FD.eP(h,1,{location:r("aIsHighlighted"),size:1}).wI(n("uHighlightColorOffset"),1===t||2===t?Fr:e.rn).uP(n("uRenderEffectMask"),2===t?1:0),1===t){if(e.FD.IP(n("uFirstId"),i),!f)return!1;e.FD.YP(r("aPickingIdOffset"),f,1)}else x&&e.FD.wI(n("uColor"),x.getColor());if(w){if(!e.mV||!e.pV)return!1;FC.fV(e.FD,o,e.pV,r("aLengthSoFarA"),r("aLengthSoFarB"),2,2,0),e.FD.oP(n("uStippleCount"),[e.qi.ai().x/e.mV.Iz,e.qi.ai().y/e.mV.Iz]).uP(s("uStippleTextureWidthLimiter"),e.mV.Fz/e.mV.Iz).uP(n("uStippleScale"),w.getPatternScale()).sP(n("uStippleTexture"),e.mV.Oz,1)}return FC.hV(e.Yi.Si(),e.FD,a,o,e.Yi.Si()?4:2,0),FC.fl(e.eN,g,o,e.yV&&1!==t,1===t,S,M),!0}))}return{idCount:this.jv.length}},i.prototype.GR=function(t,i,n,r){var e,o,s,u,a=ee({x:this.If.min.x,y:this.If.min.y},this.Yi,this.qi.Yi),h=ee({x:this.If.max.x,y:this.If.max.y},this.Yi,this.qi.Yi),f={x:Math.abs(a.x-h.x),y:Math.abs(a.y-h.y)},c=HM(t,i,f.x,f.y,n),l=c[1],v=c[4],d=c[6],y=c[7],A=r.reduce((function(t,i){return t+i.Tf.length+2}),0),b=new Float32Array(2*A),p=this.If.max.x-this.If.min.x,m=this.If.max.y-this.If.min.y,g=v-d,x=y-l,S=0;try{for(var w=_T(r),M=w.next();!M.done;M=w.next()){var C=M.value;try{for(var T=(s=void 0,_T(C.Tf)),k=T.next();!k.done;k=T.next()){var _=k.value,O=(_.x-this.If.min.x)/p,F=(_.y-this.If.min.y)/m,I=d+g*O,j=l+x*F;b[S]=I,b[S+1]=j,S+=2}}catch(t){s={error:t}}finally{try{k&&!k.done&&(u=T.return)&&u.call(T)}finally{if(s)throw s.error}}var B=(C.Tf[0].x-this.If.min.x)/p,D=(C.Tf[0].y-this.If.min.y)/m,L=d+g*B,E=l+x*D;b[S]=L,b[S+1]=E,b[S+=2]=Number.NaN,b[S+1]=Number.NaN,S+=2}}catch(t){e={error:t}}finally{try{M&&!M.done&&(o=w.return)&&o.call(w)}finally{if(e)throw e.error}}return b},i.prototype.ll=function(t,i,n,r,e){return{collectionMember:this.jv.find((function(n){return i+n.jR===t}))}},i.prototype.cl=function(){return this.BR&&(this.FD.yP(this.BR),this.BR=void 0),this.AV&&(this.FD.yP(this.AV),this.AV=void 0),this.ER&&(this.FD.yP(this.ER),this.ER=void 0),this.PR&&(this.FD.yP(this.PR),this.PR=void 0),this.NR&&(this.FD.yP(this.NR),this.NR=void 0),this.VR&&(this.FD.yP(this.VR),this.VR=void 0),this.pV&&(this.FD.yP(this.pV),this.pV=void 0),this.bV={fill:void 0,border:void 0},this.RR=this.FD.Dz(this,this.RR),this},i.prototype.Fn=function(){return this.If.max.x},i.prototype.On=function(){return this.If.min.x},i.prototype.jn=function(){return this.If.max.y},i.prototype.In=function(){return this.If.min.y},i.prototype.sc=function(){return is(this.Fe)},i.prototype.uc=function(){return is(this.Fe)},i}(Kf);var FT=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),IT=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},jT=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.rL=new rC,s.UR=ps,s.lN=Ua({fillStyleSolid:function(){return Ou(s.Oe)&&s.Oe},fillStyleRadialGradient:function(){return Nr(s.Oe)&&s.Oe},fillStyleLinearGradient:function(){return Rr(s.Oe)&&s.Oe},fillStyleImage:function(){return De(s.Oe)&&s.Oe},strokeStyleSolid:function(){return ka(s.Fe)&&s.Fe},strokeFillSolid:function(){var t=s.Fe.getFillStyle();return Ou(t)&&t},strokeFillLinearGradient:function(){var t=s.Fe.getFillStyle();return Rr(t)&&t},strokeFillRadialGradient:function(){var t=s.Fe.getFillStyle();return Nr(t)&&t}}),s.GR=function(t,i,n){var r=ee(s.vf(),s.Yi,s.qi.Yi),e=Ws(ee(Ys(s.vf(),s.ai()),s.Yi,s.qi.Yi),r);return HM(t,i,e.x,e.y,n)},s.eN=i,s.oN=n,s.FD=i.sN(),s.oN=n,s}return FT(i,t),i.prototype.ds=function(){var i,n;t.prototype.ds.call(this);var r=this.Xi.T(),e=this.zh(),s=this.ou.o||this.Bt.o||this.$h.o||this.$.o,u=this.Fe,a=this.Uh(),h=u.getThickness(),f=this.$h.T();this.rL.cP(this.Yi);var c=this.Yi.Ni();if(s){var l=this.Bt.T();this.Tf=function(t,i,n,r,e){var s=function(t,i,n){return[t,o(t.x+i,t.y),o(t.x+i,t.y+n),o(t.x,t.y+n)]}(t,i,n);if(0!==r||r%360!=0){var u=r*Math.PI/180;s[0]=zs(s[0],e,u),s[1]=zs(s[1],e,u),s[2]=zs(s[2],e,u),s[3]=zs(s[3],e,u)}return s}(this.ou.T(),l.x,l.y,f,this.$.T());var v=Co(this.Tf,this.Yi.Si());this.yN=this.FD.iP(v,!1,this.yN),this.bN=this.Tf.length,this.UR=Bs(this.Tf)}var d=this.lN.fillStyleSolid(e),y=this.lN.fillStyleRadialGradient(e),A=this.lN.fillStyleLinearGradient(e),b=this.lN.fillStyleImage(e),p=d||y||A||b;e&&(this.xN=p?this.FD.rE(rM["2D"],d&&rM.Color({dataType:"uniform"}),A&&rM.Color({dataType:["gradient",A]}),y&&rM.Color({dataType:["gradient",y]}),b&&rM.Color({dataType:["image",b]}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0})):void 0),y?this.mN=GM(this.Qi||this.UR,this.Yi,y.getPosition(),y.getExtent(),y.getShape(),this.FD.RE()):A?this.gN=UM(this.Qi||this.UR,this.Yi,A.getAngle(!0),this.FD.RE()):(this.mN=void 0,this.gN=void 0),this.RR=this.FD.Bz(this,this.RR,b,void 0,c||s,this.GR);var m,g,x,S,w,M,C,T,k,_,O,F,I=this.lN.strokeStyleSolid(a),j=this.lN.strokeFillSolid(a),B=this.lN.strokeFillLinearGradient(a),D=this.lN.strokeFillRadialGradient(a),L=I,E=j||B||D;if(L&&(s||a||c&&1!==h)){if(1===h||-1===h)i=IT([this.Tf,void 0],2),this.SN=i[0],this.YR=i[1];else{var P=this.Yi;n=IT(P instanceof te?function(t,i,n){var r=t[0],e=t[1],o=t[2],s=t[3],u=i/2;return[[n.Ui(r,e,u,-u),n.Ui(e,r,-u,-u),n.Ui(s,o,-u,-u),n.Ui(o,s,u,-u),n.Ui(r,e,-u,u),n.Ui(e,r,u,u),n.Ui(s,o,u,u),n.Ui(o,s,-u,u)],[0,4,5,0,5,1,1,5,7,1,3,7,3,7,6,3,2,6,2,4,0,2,6,4]]}(this.Tf,h,P):(m=this.Tf,g=P.Gi(),x=h,S=m[0],w=m[1],M=m[2],C=m[3],T=o(g.x*x*.5,g.y*x*.5),k=Vs(Ns(w,S)),_=Vs(Ns(C,S)),O=Zs(k),F=Zs(_),[[Ys(S,Ys(Us(O,T.x),Us(F,T.y))),Ys(w,Ys(Us(k,T.x),Us(F,T.y))),Ys(C,Ys(Us(O,T.x),Us(_,T.y))),Ys(M,Ys(Us(k,T.x),Us(_,T.y))),Ys(S,Ys(Us(k,T.x),Us(_,T.y))),Ys(w,Ys(Us(O,T.x),Us(_,T.y))),Ys(C,Ys(Us(k,T.x),Us(F,T.y))),Ys(M,Ys(Us(O,T.x),Us(F,T.y)))],[0,4,5,0,5,1,1,5,7,1,3,7,3,7,6,3,2,6,2,4,0,2,6,4]]),2),this.SN=n[0],this.YR=n[1]}this.MN=this.FD.iP(Co(this.SN,this.Yi.Si()),!1,this.MN),this.YR?(this.sV=this.FD.zP(new Uint16Array(this.YR),this.sV),this.wN=this.YR.length):(this.sV&&this.FD.yP(this.sV),this.sV=void 0,this.wN=this.SN.length)}return a&&(this.FN=L&&E?this.FD.rE(rM["2D"],rM.Color({dataType:D?["gradient",D]:B?["gradient",B]:"uniform"}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0})):void 0),D?this._N=GM(this.UR,this.Yi,D.getPosition(),D.getExtent(),D.getShape(),this.FD.RE()):B?this.ON=UM(this.UR,this.Yi,B.getAngle(!0),this.FD.RE()):(this._N=void 0,this.ON=void 0),this.IN=r&&p?this.IN||this.FD.rE(rM["2D"],rM.MousePicking(),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0})):void 0,this.jN=r&&this.Fe!==Pe?this.jN||this.FD.rE(rM["2D"],rM.MousePicking(),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0})):void 0,this.Gh(this.Oe),this.Xh(u),this.ou.o=!1,this.$h.o=!1,this.Bt.o=!1,this.$.o=!1,this},i.prototype.fl=function(t,i){var n=this,r=1===t?this.IN:this.xN,e=this.yN,o=this.bN,s=this.lN.fillStyleSolid(!1),u=this.lN.fillStyleRadialGradient(!1),a=this.lN.fillStyleLinearGradient(!1),h=this.lN.fillStyleImage(!1);r&&e&&o&&this.Oe!==Cu&&(this.FD.zl(r),this.FD.rP(r,(function(r,f,c,l){if(n.Yi instanceof $r||n.Yi instanceof Va?n.FD.oP(r("uScale"),n.rL.aP()).oP(r("uDisp"),n.rL.hP()).oP(l("uScaleStart_highpart"),n.rL.Ez()).oP(l("uScaleStart_lowpart"),n.rL.Pz()):n.Yi instanceof te&&n.FD.oP(l("uScaleStart"),n.rL.MixedScaleXY.uScaleStart).oP(l("uScaleStartLog"),n.rL.MixedScaleXY.uScaleStartLog).oP(l("uScaleInterval"),n.rL.MixedScaleXY.uScaleInterval).oP(l("uScaleIntervalLog"),n.rL.MixedScaleXY.uScaleIntervalLog).oP(r("uViewportStart"),n.rL.MixedScaleXY.uViewportStart).oP(r("uViewportSize"),n.rL.MixedScaleXY.uViewportSize),1===t)n.FD.IP(r("uFirstId"),i).Cz(c,1);else if(s)n.FD.wI(r("uColor"),s.getColor());else if(u){if(!n.mN)return!1;n.FD.dz(c,n.mN,u)}else if(a){if(!n.gN)return!1;n.FD.yz(c,n.gN,a)}else if(h){if(!n.RR)return!1;var v=n.RR&&n.RR.texture.zE();n.FD.wI(l("uColor"),h.getSurroundingColor()).sP(r(Aw),v||n.RR.sourceMissingTexture,0).eP(n.RR.texCoordsBuffer,void 0,{location:f("aTextureCoord"),size:2}).jP(h.fitMode)}return n.FD.uP(r("uIsHighlighted"),1===t||2===t?0:n.Ki).wI(r("uHighlightColorOffset"),1===t||2===t?Fr:n.rn).uP(r("uRenderEffectMask"),2===t?1:0).pz(c,e,n.Yi.Si(),void 0).xk(n.FD.gl.TRIANGLE_FAN,o),!0})));var f=1===t?this.jN:this.FN,c=this.lN.strokeStyleSolid(!1),l=this.lN.strokeFillSolid(!1),v=this.lN.strokeFillLinearGradient(!1),d=this.lN.strokeFillRadialGradient(!1),y=this.MN;return f&&y&&c&&(this.FD.zl(f),this.FD.rP(f,(function(r,e,o,s){if(n.Yi instanceof $r||n.Yi instanceof Va?n.FD.oP(r("uScale"),n.rL.aP()).oP(r("uDisp"),n.rL.hP()).oP(s("uScaleStart_highpart"),n.rL.Ez()).oP(s("uScaleStart_lowpart"),n.rL.Pz()):n.Yi instanceof te&&n.FD.oP(s("uScaleStart"),n.rL.MixedScaleXY.uScaleStart).oP(s("uScaleStartLog"),n.rL.MixedScaleXY.uScaleStartLog).oP(s("uScaleInterval"),n.rL.MixedScaleXY.uScaleInterval).oP(s("uScaleIntervalLog"),n.rL.MixedScaleXY.uScaleIntervalLog).oP(r("uViewportStart"),n.rL.MixedScaleXY.uViewportStart).oP(r("uViewportSize"),n.rL.MixedScaleXY.uViewportSize),1===t)n.FD.IP(r("uFirstId"),i).Cz(o,1);else if(l)n.FD.wI(r("uColor"),l.getColor());else if(d){if(!n._N)return!1;n.FD.dz(o,n._N,d)}else if(v){if(!n.ON)return!1;n.FD.yz(o,n.ON,v)}return n.FD.uP(r("uIsHighlighted"),1===t||2===t?0:n.Ki).wI(r("uHighlightColorOffset"),1===t||2===t?Fr:n.rn).uP(r("uRenderEffectMask"),2===t?1:0).pz(o,y,n.Yi.Si(),void 0),n.sV?n.FD.WP(n.sV).HP(n.wN):n.FD.xk(n.FD.gl.LINE_LOOP,n.wN),!0}))),{idCount:1}},i.prototype.ll=function(t,i,n,r,e){return{}},i.prototype.cl=function(){return this.sV&&(this.FD.yP(this.sV),this.sV=void 0),this.yN&&(this.FD.yP(this.yN),this.yN=void 0),this.MN&&(this.FD.yP(this.MN),this.MN=void 0),this.RR=this.FD.Dz(this,this.RR),this.xN=void 0,this.FN=void 0,this.IN=void 0,this.jN=void 0,this},i.prototype.Fn=function(){return Math.max(this.ou.T().x,this.ou.T().x+this.Bt.T().x)},i.prototype.On=function(){return Math.min(this.ou.T().x,this.ou.T().x+this.Bt.T().x)},i.prototype.jn=function(){return Math.max(this.ou.T().y,this.ou.T().y+this.Bt.T().y)},i.prototype.In=function(){return Math.min(this.ou.T().y,this.ou.T().y+this.Bt.T().y)},i.prototype.sc=function(){return is(this.Fe)},i.prototype.uc=function(){return is(this.Fe)},i}(ic),BT=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DT=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},LT=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.rL=new rC,s.lN=Ua({fillStyleSolid:function(){return Ou(s.Oe)&&s.Oe},fillStylePaletted:function(){return Bu(s.Oe)&&s.Oe},fillStyleRadialGradient:function(){return Nr(s.Oe)&&s.Oe},fillStyleLinearGradient:function(){return Rr(s.Oe)&&s.Oe},fillStyleImage:function(){return De(s.Oe)&&s.Oe},strokeLineStyleSolid:function(){return ka(s.Fe)&&s.Fe},strokeLineSolidFill:function(){var t=s.Fe.getFillStyle();return Ou(t)&&t},strokeLinearGradientFill:function(){var t=s.Fe.getFillStyle();return Rr(t)&&t},strokeRadialGradientFill:function(){var t=s.Fe.getFillStyle();return Nr(t)&&t}}),s.GR=function(t,i,n){var r,e,o=ee({x:s.If.min.x,y:s.If.min.y},s.Yi,s.qi.Yi),u=ee({x:s.If.max.x,y:s.If.max.y},s.Yi,s.qi.Yi),a={x:Math.abs(o.x-u.x),y:Math.abs(o.y-u.y)},h=HM(t,i,a.x,a.y,n),f=h[1],c=h[4],l=h[6],v=h[7],d=new Float32Array(2*s.Tf.length),y=s.If.max.x-s.If.min.x,A=s.If.max.y-s.If.min.y,b=c-l,p=v-f,m=0;try{for(var g=DT(s.Tf),x=g.next();!x.done;x=g.next()){var S=x.value,w=(S.x-s.If.min.x)/y,M=(S.y-s.If.min.y)/A,C=l+b*w,T=f+p*M;d[m]=C,d[m+1]=T,m+=2}}catch(t){r={error:t}}finally{try{x&&!x.done&&(e=g.return)&&e.call(g)}finally{if(r)throw r.error}}return d},s.eN=i,s.oN=n,s.FD=i.sN(),s.oN=n,s}return BT(i,t),i.prototype.rv=function(t){var i,n,r,e=Number.MAX_VALUE;try{for(var o=DT(this.Tf),s=o.next();!s.done;s=o.next()){var u=s.value,a=_s(ee(u,this.Yi,this.qi.Yi),t);a<e&&(e=a,r=u)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return r},i.prototype.ds=function(){var t=this.Xi.T(),i=this.zh(),n=this.nc,r=this.Tf.length>=3,e=this.Fe,o=this.Uh(),s=e.getThickness(),u=this.Wh(s);this.rL.cP(this.Yi),this.Vr=this.Yi.Gi();var a=this.Yi.Ni();if(n&&(this.If=Bs(this.Tf)),n&&r){var h=Co(this.Tf,this.Yi.Si());this.yN=this.FD.iP(h,!1,this.yN),this.WR=new Uint16Array(qC.exports(h)),this.XR=this.FD.zP(this.WR,this.XR),this.bN=this.WR.length}var f=this.lN.fillStyleSolid(i),c=this.lN.fillStylePaletted(i),l=this.lN.fillStyleRadialGradient(i),v=this.lN.fillStyleLinearGradient(i),d=this.lN.fillStyleImage(i),y=f||c&&"value"!==c.getLookUpProperty()&&c||v||l||d;if(i&&(this.xN=y?this.FD.rE(rM["2D"],f&&rM.Color({dataType:"uniform"}),v&&rM.Color({dataType:["gradient",v]}),l&&rM.Color({dataType:["gradient",l]}),c&&rM.Color({dataType:["lookup",c.getLookUpProperty(),c.lut]}),d&&rM.Color({dataType:["image",d]}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0})):void 0),l?this.mN=GM(this.Qi||this.If,this.Yi,l.getPosition(),l.getExtent(),l.getShape(),this.FD.RE()):v?this.gN=UM(this.Qi||this.If,this.Yi,v.getAngle(!0),this.FD.RE()):(this.mN=void 0,this.gN=void 0),this.RR=this.FD.Bz(this,this.RR,d,void 0,a||n,this.GR),(n||u||a&&1!==s)&&r){var A=1===s||-1===s?this.Tf:lC(this.Tf,this.Vr,s);this.SN=Co(A,this.Yi.Si()),this.MN=this.FD.iP(this.SN,!0,this.MN),this.wN=A.length}var b=this.lN.strokeLineStyleSolid(o),p=this.lN.strokeLineSolidFill(o),m=this.lN.strokeLinearGradientFill(o),g=this.lN.strokeRadialGradientFill(o),x=b,S=p||m||g;return o&&(this.FN=x&&S?this.FD.rE(rM["2D"],rM.Color({dataType:g?["gradient",g]:m?["gradient",m]:"uniform"}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0})):void 0),g?this._N=GM(this.Qi||this.If,this.Yi,g.getPosition(),g.getExtent(),g.getShape(),this.FD.RE()):m?this.ON=UM(this.Qi||this.If,this.Yi,m.getAngle(!0),this.FD.RE()):(this._N=void 0,this.ON=void 0),this.IN=t&&y?this.IN||this.FD.rE(rM["2D"],rM.MousePicking(),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0})):void 0,this.jN=t&&this.Fe!==Pe?this.IN||this.FD.rE(rM["2D"],rM.MousePicking(),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0})):void 0,this.nc=!1,this.Gh(this.Oe),this.Xh(e),this},i.prototype.fl=function(t,i){var n=this,r=1===t?this.IN:this.xN,e=this.yN,o=this.bN,s=this.lN.fillStyleSolid(!1),u=this.lN.fillStyleRadialGradient(!1),a=this.lN.fillStyleLinearGradient(!1),h=this.lN.fillStylePaletted(!1),f=this.lN.fillStyleImage(!1);r&&e&&o&&this.FD.zl(r).rP(r,(function(r,o,c,l){if(n.FD.oP(r("uScale"),n.rL.aP()).oP(r("uDisp"),n.rL.hP()).oP(l("uScaleStart_highpart"),n.rL.Ez()).oP(l("uScaleStart_lowpart"),n.rL.Pz()).pz(c,e,n.Yi.Si(),void 0).WP(n.XR).uP(r("uIsHighlighted"),1===t||2===t?0:n.Ki).wI(r("uHighlightColorOffset"),1===t||2===t?Fr:n.rn).uP(r("uRenderEffectMask"),2===t?1:0),1===t)n.FD.IP(r("uFirstId"),i).Cz(c,1);else if(s)n.FD.wI(r("uColor"),s.getColor());else if(u){if(!n.mN)return!1;n.FD.dz(c,n.mN,u)}else if(a){if(!n.gN)return!1;n.FD.yz(c,n.gN,a)}else if(h){var v=Ya(h,n,void 0);if(!v&&h.lut.percentageValues)return!1;n.FD.jz(c,h.lut,v)}else if(f){if(!n.RR)return!1;n.FD.wI(l("uColor"),f.getSurroundingColor()).sP(r(Aw),n.RR.texture.zE()||n.RR.sourceMissingTexture,0).eP(n.RR.texCoordsBuffer,void 0,{location:o("aTextureCoord"),size:2}).jP(f.fitMode)}return n.FD.HP(n.bN),!0}));var c=1===t?this.jN:this.FN,l=this.Fe,v=this.MN,d=this.wN;return c&&v&&d&&this.FD.zl(c).rP(c,(function(r,e,o,s){n.FD.uP(r("uIsHighlighted"),1===t||2===t?0:n.Ki).wI(r("uHighlightColorOffset"),1===t||2===t?Fr:n.rn).uP(r("uRenderEffectMask"),2===t?1:0).oP(r("uScale"),n.rL.aP()).oP(r("uDisp"),n.rL.hP()).pz(o,v,n.Yi.Si(),void 0);var u=l.getFillStyle();if(1===t)n.FD.IP(r("uFirstId"),i).Cz(o,1);else if(Ou(u))n.FD.wI(r("uColor"),u.getColor());else if(Nr(u)){if(!n._N)return!1;n.FD.dz(o,n._N,u)}else if(Rr(u)){if(!n.ON)return!1;n.FD.yz(o,n.ON,u)}var a=l.getThickness(),h=-1===a||1===a;return n.FD.xk(h?n.FD.gl.LINE_LOOP:n.FD.gl.TRIANGLE_STRIP,n.wN),!0})),{idCount:1}},i.prototype.ll=function(t,i,n,r,e){return{}},i.prototype.cl=function(){return this.XR&&(this.FD.yP(this.XR),this.XR=void 0),this.yN&&(this.FD.yP(this.yN),this.yN=void 0),this.MN&&(this.FD.yP(this.MN),this.MN=void 0),this.xN=void 0,this.FN=void 0,this.IN=void 0,this.jN=void 0,this.RR=this.FD.Dz(this,this.RR),this},i}(nc),ET=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),PT=function(t){function i(i){var n=t.call(this,i)||this,r=n.eV(),e=r.vertices,o=r.drawMode,s=r.drawSize;return n.oV=i.iP(e),n.uV=s,n.aV=o,n}return ET(i,t),i.prototype.zl=function(t){return this.FD.eP(this.oV,0,{location:t.attribute("aCurveOrBaseline"),size:1},{location:t.attribute("aSegmentSide"),size:1}),this},i.prototype.xk=function(t,i,n){return this.FD.ZP(void 0!==i?i:this.aV,n||0,this.uV,t),this},i.prototype.eV=function(){return{vertices:new Float32Array([1,0,0,0,0,1,0,1,1,1,1,0]),drawMode:this.FD.gl.TRIANGLES,drawSize:6}},i.prototype.ME=function(){this.FD.yP(this.oV)},i}(YM),zT=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),NT=function(){return NT=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},NT.apply(this,arguments)},VT=function(t){function i(i,n,r,e,o){var s=t.call(this,i)||this;return s.aV=r,s.HR=n.length,s.gD=i.iP(Co(n,!1)),s.ZR=e,o&&(s.JR=NT(NT({},o),{gD:i.iP(o.iM,!1),HR:o.iM.length/4})),s}return zT(i,t),i.prototype.QR=function(t){return t>1},i.prototype.xk=function(t,n,r,e,o,s){return"object"==typeof o?n?this.FD.YP(t.attribute("aOffsetScale"),n,1,r*Float32Array.BYTES_PER_ELEMENT).oP(t.uniform(bw),[o.width,o.height]):this.FD.uP(t.uniform("uOffsetScale"),o.scale).oP(t.uniform(bw),[o.width,o.height]):s?n?this.FD.YP(t.attribute("".concat(i.KR,"Amount")),n,1,r*Float32Array.BYTES_PER_ELEMENT):this.FD.uP(t.uniform("".concat(i.KR,"Amount")),o):this.FD.uP(t.uniform("uPointSize"),o),s?this.FD.eP(this.gD,0,{location:t.attribute(i.KR),size:2}).ZP(this.aV,0,this.HR,e):this.FD.xk(this.FD.gl.POINTS,e),this},i.prototype.qR=function(t,n,r,e,o,s){return!(!this.JR||!o||(n?this.FD.YP(t.attribute("".concat(i.KR,"Amount")),n,1):this.FD.uP(t.uniform("".concat(i.KR,"Amount")),e),this.FD.uP(t.uniform("".concat(i.$R,"Amount")),s).eP(this.JR.gD,0,{location:t.attribute(i.KR),size:2},{location:t.attribute(i.$R),size:2}).ZP(this.JR.aV,0,this.JR.HR,r),0))},i.prototype.ME=function(){var t;this.FD.yP(this.gD),this.FD.yP(null===(t=this.JR)||void 0===t?void 0:t.gD)},i.KR="aFillOffset",i.$R="aBorderOffset",i}(YM),RT=function(t,i){void 0===i&&(i=0);var n=[o(-.5,-.5),o(.5,-.5),o(.5,.5),o(-.5,.5)];return new VT(t,n,t.gl.TRIANGLE_FAN,i,{iM:[-.5,-.5,0,0,-.5,-.5,-1,-1,.5,-.5,0,0,.5,-.5,1,-1,.5,.5,0,0,.5,.5,1,1,-.5,.5,0,0,-.5,.5,-1,1,-.5,-.5,0,0,-.5,-.5,-1,-1],aV:t.gl.TRIANGLE_STRIP})},GT=function(t,i){void 0===i&&(i=0);var n=.05,r=[o(-.5,-.05),o(.5,-.05),o(.5,n),o(.5,n),o(-.5,n),o(-.5,-.05),o(-.05,-.5),o(n,-.5),o(n,-.05),o(n,-.05),o(-.05,-.05),o(-.05,-.5),o(-.05,.5),o(n,.5),o(n,n),o(n,n),o(-.05,n),o(-.05,.5)];return new VT(t,r,t.gl.TRIANGLES,i,{iM:[-.05,.5,0,0,-.05,.5,-1,1,n,.5,0,0,n,.5,1,1,n,n,0,0,n,n,1,1,.5,n,0,0,.5,n,1,1,.5,-.05,0,0,.5,-.05,1,-1,n,-.05,0,0,n,-.05,1,-1,n,-.5,0,0,n,-.5,1,-1,-.05,-.5,0,0,-.05,-.5,-1,-1,-.05,-.05,0,0,-.05,-.05,-1,-1,-.5,-.05,0,0,-.5,-.05,-1,-1,-.5,n,0,0,-.5,n,-1,1,-.05,n,0,0,-.05,n,-1,1,-.05,.5,0,0,-.05,.5,-1,1],aV:t.gl.TRIANGLE_STRIP})},UT=function(i,n,r){if(Ea(i))return UT(t.PointShape.Square,n,r);var e=n.SP.AE.get(i);if(i===t.PointShape.Circle||i===t.PointShape.HollowCircle){var s=r<=3?4:r<=5?8:r<=10?16:24;return i===t.PointShape.Circle?(e=n.SP.bE.get(s)||function(t,i,n){void 0===n&&(n=0);var r=2*Math.PI/i,e=[],o=[];e.push({x:0,y:0});for(var s=0;s<=i;s+=1){var u=s*r,a=Math.cos(u),h=Math.sin(u),f=.5*a,c=.5*h;e.push({x:f,y:c}),o.push(f,c,0,0,f,c,a,h)}return new VT(t,e,t.gl.TRIANGLE_FAN,n,{iM:o,aV:t.gl.TRIANGLE_STRIP})}(n,s),n.SP.bE.set(s,e),e):(e=n.SP.pE.get(s)||function(t,i,n){void 0===n&&(n=0);for(var r=[],e=2*Math.PI/i,o=0;o<=i;o+=1){var s=o*e,u=Math.cos(s),a=Math.sin(s);r.push({x:.5*u,y:.5*a}),r.push({x:.3*u,y:.3*a})}return new VT(t,r,t.gl.TRIANGLE_STRIP,n,void 0)}(n,s),n.SP.pE.set(s,e),e)}if(!e){switch(i){case t.PointShape.Triangle:e=function(t,i){void 0===i&&(i=0);var n=[{x:-.5773502691892515,y:.3333333333333333},{x:0,y:-.6666666666666666},{x:.5773502691892515,y:.3333333333333333}];return new VT(t,n,t.gl.TRIANGLES,i,{iM:[n[0].x,n[0].y,0,0,n[0].x,n[0].y,2*n[0].x,2*n[0].y,n[1].x,n[1].y,0,0,n[1].x,n[1].y,2*n[1].x,2*n[1].y,n[2].x,n[2].y,0,0,n[2].x,n[2].y,2*n[2].x,2*n[2].y,n[0].x,n[0].y,0,0,n[0].x,n[0].y,2*n[0].x,2*n[0].y],aV:t.gl.TRIANGLE_STRIP})}(n);break;case t.PointShape.Square:e=RT(n);break;case t.PointShape.Plus:e=GT(n);break;case t.PointShape.Cross:e=GT(n,45);break;case t.PointShape.Diamond:e=RT(n,45);break;case t.PointShape.Arrow:e=function(t,i){void 0===i&&(i=0);var n=.05,r=[o(-.05,-.5),o(n,-.5),o(n,.45),o(n,.45),o(-.05,.45),o(-.05,-.5),o(-.5,0),o(-.4,0),o(0,.4),o(0,.4),o(0,.5),o(-.5,0),o(.5,0),o(.4,0),o(0,.4),o(0,.4),o(0,.5),o(.5,0)];return new VT(t,r,t.gl.TRIANGLES,i,{iM:[-.5,0,0,0,-.5,0,-2,-1,0,.5,0,0,0,.5,0,1,.5,0,0,0,.5,0,2,-1,.4,0,0,0,.4,0,0,-1,n,.355,0,0,n,.355,1,-2,n,-.5,0,0,n,-.5,1,-1,-.05,-.5,0,0,-.05,-.5,-1,-1,-.05,.355,0,0,-.05,.355,-1,-2,-.4,0,0,0,-.4,0,0,-1,-.5,0,0,0,-.5,0,-2,-1],aV:t.gl.TRIANGLE_STRIP})}(n);break;case t.PointShape.Star:e=function(t,i){return void 0===i&&(i=0),new VT(t,[{x:0,y:0},{x:0,y:.5},{x:.1,y:.1},{x:.5,y:.1},{x:.2,y:-.1},{x:.3,y:-.5},{x:0,y:-.25},{x:-.3,y:-.5},{x:-.2,y:-.1},{x:-.5,y:.1},{x:-.1,y:.1},{x:0,y:.5}],t.gl.TRIANGLE_FAN,i,{iM:[0,.5,0,0,0,.5,0,1,.1,.1,0,0,.1,.1,1,1,.5,.1,0,0,.5,.1,2,1,.2,-.1,0,0,.2,-.1,1,-1,.3,-.5,0,0,.3,-.5,1,-2,0,-.25,0,0,0,-.25,0,-1,-.3,-.5,0,0,-.3,-.5,-1,-2,-.2,-.1,0,0,-.2,-.1,-1,-1,-.5,.1,0,0,-.5,.1,-2,1,-.1,.1,0,0,-.1,.1,-1,1,0,.5,0,0,0,.5,0,1],aV:t.gl.TRIANGLE_STRIP})}(n);break;case t.PointShape.Minus:e=function(t,i){void 0===i&&(i=0);var n=.05,r=[o(-.5,-.05),o(.5,-.05),o(.5,n),o(.5,n),o(-.5,n),o(-.5,-.05)];return new VT(t,r,t.gl.TRIANGLES,i,{iM:[-.5,-.05,0,0,-.5,-.05,-1,-1,.5,-.05,0,0,.5,-.05,1,-1,.5,n,0,0,.5,n,1,1,-.5,n,0,0,-.5,n,-1,1,-.5,-.05,0,0,-.5,-.05,-1,-1],aV:t.gl.TRIANGLE_STRIP})}(n);break;default:return $o(0,"LightningChart JS unidentified point shape")}n.SP.AE.set(i,e)}return e},YT=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),WT=function(i){function n(n,r,e,o){var s=i.call(this,n,r,e,o,[{type:"DataPattern",args:{pattern:"ProgressiveX"}}])||this;return s.tG=Nf.fillStyle,s.iG=l("bottom"),s.nG=Nf.fillStyle,s.rG=Pe,s.eG=l(t.PointShape.Circle),s.oG=l(5),s.sG=l(0),s.uG=l(void 0),s.AC=!0,s.aG={x:0,y:0},s}return YT(n,i),n.prototype.FC=function(t){this.iG.T()!==t&&this.iG.C(t)},n.prototype.Sv=function(t){return this.tG=Hf(this.tG,t),this},n.prototype.xC=function(){return this.tG},n.prototype.hG=function(){return Zf(this.fG,this.tG)},n.prototype.cG=function(){return Zf(this.lG,this.nG)},n.prototype.vG=function(){return this.rG!==this.dG},n.prototype.xv=function(i){return this.nG=Hf(this.nG,i),De(this.nG)&&(this.Mv(t.PointShape.Square),this.Iv(1)),this},n.prototype._v=function(){return this.nG},n.prototype.Ov=function(t){return this.rG="function"==typeof t?t(this.rG):t,this},n.prototype.Fv=function(){return this.rG},n.prototype.Mv=function(t){return this.eG.C(t),Ea(this.eG.T())&&this.Iv(1),this},n.prototype.Cv=function(){return this.eG.T()},n.prototype.Iv=function(t){return this.oG.C(t),this},n.prototype.SC=function(){return this.oG.T()},n.prototype.Tv=function(t){return this.sG.C(t),this},n.prototype.kv=function(){return this.sG.T()},n.prototype.Ly=function(t){return this.aG=t,this},n.prototype.wC=function(){return this.aG},n.prototype.yC=function(t){return this.uG.C(t),this},n.prototype.MC=function(){return this.uG.T()},n}(fc),XT=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),HT=function(){return HT=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},HT.apply(this,arguments)},ZT=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},JT=function(t){function i(i,n){var r=t.call(this,i,n)||this;return r.VV=!1,r.RV={yG:!1,AG:0},r.UV=i instanceof $r?{type:"linear",scale:i}:{type:"unknown"},r.NV.un("DataPattern",(function(t){!1===t.allowDataGrouping&&(r.VV=!0)})),r}return XT(i,t),i.prototype.bG=function(t,i,n){var r=null==t?void 0:t.zl(i),e=null==r?void 0:r.Rl,o=null==r?void 0:r.Gl,s=null==t?void 0:t.bl,u=null==t?void 0:t.Al,a=null==t?void 0:t.Pl(i);if(!t||this.VV||!a||"linear"!==this.UV.type||!e||!o||void 0===s||void 0===u||!n){var h=this.RV.yG;return this.RV={yG:!1,AG:null!=s?s:0},{cpStateChanged:h,cpActive:!1}}var f=na(a),c=t.$l(i),l=t.ql(i),v=c?c[f]:void 0,d=l?l[f]:void 0;if(s<2||void 0===v||void 0===d||d===v){var y=this.RV.yG;return this.RV={yG:!1,AG:null!=s?s:0},{cpStateChanged:y,cpActive:!1}}var A,b=this.calculateAvgStepBetweenDataPoints(d,v,s),p=this.UV.scale,m=Math.abs(p.Gi()[f]),g=m/b,x=Math.floor(.8*g),S=x*b,w=x>=4,M=this.RV.yG?this.RV.pG/m<1.5:void 0,C=this.RV.yG&&x>this.RV.mG?x/this.RV.mG>=2:void 0;return!0===this.RV.yG?M?C&&(A={yG:!0,pG:S,mG:x,AG:s}):A=w?{yG:!0,pG:S,mG:x,AG:s}:{yG:!1,AG:s}:w&&(A={yG:!0,pG:S,mG:x,AG:s}),this.RV=A||HT(HT({},this.RV),{AG:s}),!!A&&this.HV(),{cpStateChanged:!!A,cpActive:this.RV.yG}},i.prototype.gG=function(t,i){var n,r,e,o,s,u,a,h=null==t?void 0:t.zl(i),f=h.dataPattern,c=h.Rl,l=h.Gl,v=t.pl,d=t.bl,y=t.Al,A=t.Cl;if(!this.VV&&this.RV.yG&&c&&l&&void 0!==f){var b=na(f),p=ra(f),m="x"===b?c:l,g="x"===b?l:c,x=m.length,S="x"===b?this.Yi.x:this.Yi.y,w=this.RV.pG,M=Math.min(S.getInnerStart(),S.getInnerEnd()),C=Math.max(S.getInnerStart(),S.getInnerEnd()),T=Tc(M,C,m,v,d,y,ra(f)?"progressive":"regressive",1);if(T){var k=m[T.iFirstSampleDataArray];if(this.xG){if(this.xG.SG<T.iFirstSample&&(F=Math.min(Math.floor((k-this.xG.$)/w),this.xG.wG))>0)if(this.xG.wG-=F,this.xG.wG>0){this.xG.MG.splice(0,2*F),this.xG.CG.splice(0,2*F),this.xG.TG&&this.xG.TG.splice(0,2*F),this.xG.kG&&this.xG.kG.splice(0,2*F),this.xG.$+=F*w;var _=kc(this.xG.$,Math.max(v-1-x+1,0),v-1,p,(function(t){return m[Cc(t,v,x)]})),O=Cc(_,v,x);this.xG.SG=m[O]>=this.xG.$?_:_+1}else this.xG=void 0;if(void 0!==(null===(s=this.xG)||void 0===s?void 0:s._G)&&this.xG._G>T.iLastSample){var F,I=m[T.iLastSampleDataArray];if((F=Math.min(Math.floor((this.xG.$+this.xG.wG*w-I)/w),this.xG.wG))>0)if(this.xG.wG-=F,this.xG.wG>0){for(var j=0;j<2*F;j+=1)this.xG.MG.pop(),this.xG.CG.pop(),this.xG.TG&&this.xG.TG.pop(),this.xG.kG&&this.xG.kG.pop();_=kc(this.xG.$+this.xG.wG*w,Math.max(v-1-x+1,0),v-1,p,(function(t){return m[Cc(t,v,x)]})),O=Cc(_,v,x),this.xG._G=m[O]<=this.xG.$+this.xG.wG*w?_:_-1}else this.xG=void 0}}var B=this.xG||{$:k,wG:0,MG:[],CG:[],TG:h.Ul?[]:void 0,kG:h.Xl?[]:void 0,OG:h.Wl?[]:void 0,FG:h.Yl?[]:void 0,SG:T.iFirstSample,_G:void 0},D=function(t,i,n,r){var e=Math.min(t,t+n*w),o=Math.max(t,t+n*w),s=[];if(n<0&&e<M||n>0&&o>C)return s;for(var u=r,a=bs,h=bs,f=-1,c=As,l=As,d=-1,y=0;u<=T.iLastSample&&u>=T.iFirstSample;){var b=u%x,p=m[b],S=g[b];if(A&&Number.isNaN(p))u+=i;else if(e<=p&&p<=o)y+=1,A&&Number.isNaN(S)||(S>h&&(a=p,h=S,f=u),S<l&&(c=p,l=S,d=u)),u+=i;else{if(y>0)a=a===bs?Number.NaN:a,h=h===bs?Number.NaN:h,c=c===As?Number.NaN:c,l=l===As?Number.NaN:l,f<d?(s.push({iFirst:f,iSecond:d}),i>0?(B.MG.push(a),B.CG.push(h),B.MG.push(c),B.CG.push(l)):(B.MG.unshift(c),B.CG.unshift(l),B.MG.unshift(a),B.CG.unshift(h))):(s.push({iFirst:d,iSecond:f}),i>0?(B.MG.push(c),B.CG.push(l),B.MG.push(a),B.CG.push(h)):(B.MG.unshift(a),B.CG.unshift(h),B.MG.unshift(c),B.CG.unshift(l)));else{var k=i>0?B._G:B.SG;if(void 0===k)s.push({iFirst:0,iSecond:0}),i>0?(B.MG.push(Number.NaN),B.CG.push(Number.NaN),B.MG.push(Number.NaN),B.CG.push(Number.NaN)):(B.MG.unshift(Number.NaN),B.CG.unshift(Number.NaN),B.MG.unshift(Number.NaN),B.CG.unshift(Number.NaN));else{var _=Cc(k,v,x),O=m[_],F=g[_],I=ro((O+p)/2,e,o),j=ro((I+p)/2,e,o),D=F+(I-O)/(p-O)*(S-F),L=F+(j-O)/(p-O)*(S-F);s.push({iFirst:k,iSecond:k}),i>0?(B.MG.push(I),B.CG.push(D),B.MG.push(j),B.CG.push(L)):(B.MG.unshift(j),B.CG.unshift(L),B.MG.unshift(I),B.CG.unshift(D))}}if(B.wG+=1,i>0?B._G=u-1:(B.SG=u+1,B.$=n>0?o:e),e=Math.min(t+s.length*n*w,t+(s.length+1)*n*w),o=Math.max(t+s.length*n*w,t+(s.length+1)*n*w),y=0,a=bs,h=bs,f=-1,c=As,l=As,d=-1,n<0&&e<M||n>0&&o>C)break}}return s},L=D(B.$+(ra(f)?1:-1)*B.wG*w,1,1*(ra(f)?1:-1),void 0!==(null===(u=this.xG)||void 0===u?void 0:u._G)?this.xG._G+1:T.iFirstSample),E=D(B.$,-1,-1*(ra(f)?1:-1),void 0!==(null===(a=this.xG)||void 0===a?void 0:a.SG)?this.xG.SG-1:T.iFirstSample);if(0!==E.length||0!==L.length){var P=h.Ul&&B.TG?[h.Ul,B.TG]:void 0,z=h.Xl&&B.kG?[h.Xl,B.kG]:void 0,N=h.Wl&&B.OG?[h.Wl,B.OG]:void 0,V=h.Yl&&B.FG?[h.Yl,B.FG]:void 0;if(P||z||N||V){try{for(var R=ZT(L),G=R.next();!G.done;G=R.next()){var U=G.value,Y=Cc(U.iFirst,v,x,y),W=Cc(U.iSecond,v,x,y);P&&P[1].push(P[0][Y],P[0][W]),z&&z[1].push(z[0][Y],z[0][W]),N&&N[1].push(N[0][Y],N[0][W]),V&&V[1].push(V[0][Y],V[0][W])}}catch(t){n={error:t}}finally{try{G&&!G.done&&(r=R.return)&&r.call(R)}finally{if(n)throw n.error}}try{for(var X=ZT(E),H=X.next();!H.done;H=X.next()){var Z=H.value;Y=Cc(Z.iFirst,v,x,y),W=Cc(Z.iSecond,v,x,y),P&&P[1].unshift(P[0][W],P[0][Y]),z&&z[1].unshift(z[0][W],z[0][Y]),N&&N[1].unshift(N[0][W],N[0][Y]),V&&V[1].unshift(V[0][W],V[0][Y])}}catch(t){e={error:t}}finally{try{H&&!H.done&&(o=X.return)&&o.call(X)}finally{if(e)throw e.error}}}return this.xG=B.wG>0?B:void 0,{IG:"x"===b?B.MG:B.CG,jG:"y"===b?B.MG:B.CG,Ej:B.TG,BG:B.kG,Bt:B.OG,$h:B.FG}}}}},i.prototype.HV=function(){this.xG=void 0},i.prototype.qV=function(){},i}(zC),QT=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),KT=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},qT=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},$T=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r,e)||this;return o.rL=new rC,o.yR=new JT(o.Yi,o),o.lN=Ua({lineStyleSolid:function(){return ka(o.Hc)&&o.Hc},lineStyleDashed:function(){return ja(o.Hc)&&o.Hc},strokeFillSolid:function(){var t=o.Hc.getFillStyle();return Ou(t)&&t},strokeFillLinearGradient:function(){var t=o.Hc.getFillStyle();return Rr(t)&&t},strokeFillRadialGradient:function(){var t=o.Hc.getFillStyle();return Nr(t)&&t},strokeFillIndividual:function(){var t=o.Hc.getFillStyle();return Iu(t)&&t},strokeFillPaletted:function(){var t=o.Hc.getFillStyle();return Bu(t)&&t},areaFillSolid:function(){return Ou(o.tG)&&o.tG},areaFillLinearGradient:function(){return Rr(o.tG)&&o.tG},areaFillRadialGradient:function(){return Nr(o.tG)&&o.tG},areaFillIndividual:function(){return Iu(o.tG)&&o.tG},areaFillPaletted:function(){return Bu(o.tG)&&o.tG},markerFillSolid:function(){return Ou(o.nG)&&o.nG},markerFillLinearGradient:function(){return Rr(o.nG)&&o.nG},markerFillRadialGradient:function(){return Nr(o.nG)&&o.nG},markerFillPaletted:function(){return Bu(o.nG)&&o.nG},markerFillIndividual:function(){return Iu(o.nG)&&o.nG},markerFillImage:function(){return De(o.nG)&&o.nG},markerShapeIcon:function(){var t=o.eG.T();return Ea(t)&&t},markerStrokeFillSolid:function(){var t=o.rG.getFillStyle();return Ou(t)&&t}}),o.mv=l(void 0),o.DG=[],o.Ef=!1,o.LG=[],o.EG=void 0,o.GR=function(t,i,n){var r,e=null===(r=o.PG)||void 0===r?void 0:r.shapeIcon,s=t,u=i;return e&&(s=e.ai().x,u=e.ai().y),HM(t,i,s*o.oG.T(),u*o.oG.T(),n)},o.zG=tk(),o.oN=n,o.bV={type:"none"},o.FD=i.sN(),o.eN=i,o.yV=o.FD.iz,o}return QT(i,t),i.prototype.gv=function(t,i){var n,r=this;return this.yR.HV(),this.NG=void 0,this.EG=void 0,t&&i?(this.mv.C(us(t,this.mv.T(),(function(){return{change:function(t){r.DG.push({min:t.iDataStart,max:t.iDataEnd}),r.NG&&r.LG.length>1e3&&Date.now()-r.NG.VG>5e3&&(r.NG=void 0,r.LG.length=0),r.NG&&r.LG.push({min:t.iDataStart,max:t.iDataEnd})},clear:function(){r.Ef=!0,r.NG=void 0,r.EG=void 0,r.yR.HV()},loop:function(){r.NG=void 0,r.LG.length=0}}}))),this.pC=i,this):(null===(n=this.mv.T())||void 0===n||n.Ln(),this.mv.C(void 0),this.pC=void 0,this)},i.prototype.Dh=function(){var t,i=this,n=null===(t=this.mv.T())||void 0===t?void 0:t.En,r=null==n?void 0:n.Pl(this.pC);return r&&{kC:na(r),_C:function(){return i.Vb()}}},i.prototype.Vb=function(){var t,i,n,r,e,s,u,a,h,f,c,l,v,d,y,A,b,p,m,g,x,S,w,M,C,T,k,_,O,F,I,j,B,D=this,L=null===(t=this.mv.T())||void 0===t?void 0:t.En,E=this.mv.o,P=this.pC,z=null==L?void 0:L.zl(P),N=null==z?void 0:z.Rl,V=null==z?void 0:z.Gl;if(L&&N&&V&&P){var R=z.dataPattern,G=R&&this.Yi[na(R)],U=z.Xl,Y=z.Ul,W=z.Wl,X=z.Yl,H=L.pl,Z=L.bl,J=L.Al,Q=E||this.Uh()||this.hG()||this.cG()||this.vG()||this.iG.o,K=this.lN.lineStyleSolid(Q),q=this.lN.lineStyleDashed(Q),$=K||q,tt=$&&$.getThickness(),it=this.lN.strokeFillSolid(Q),nt=this.lN.strokeFillLinearGradient(Q),rt=this.lN.strokeFillRadialGradient(Q),et=this.lN.strokeFillIndividual(Q),ot=this.lN.strokeFillPaletted(Q),st=it||nt||rt||et||ot,ut=this.lN.areaFillSolid(Q),at=this.lN.areaFillLinearGradient(Q),ht=this.lN.areaFillRadialGradient(Q),ft=this.lN.areaFillIndividual(Q),ct=this.lN.areaFillPaletted(Q),lt=ut||at||ht||ft||ct,vt=this.lN.markerFillSolid(Q),dt=this.lN.markerFillLinearGradient(Q),yt=this.lN.markerFillRadialGradient(Q),At=this.lN.markerFillPaletted(Q),bt=this.lN.markerFillIndividual(Q),pt=this.lN.markerFillImage(Q),mt=vt||dt||yt||At||bt||pt,gt=this.lN.markerStrokeFillSolid(Q),xt=this.eG.T(),St=this.eG.o,wt=this.lN.markerShapeIcon(St),Mt=this.oG.T(),Ct=this.oG.o,Tt=this.uG.o,kt=this.DG.length>0||Tt,_t=this.Ef||E,Ot=_t?[L.Ql()]:function(t){var i,n,r,e,o=[];try{for(var s=We(t),u=s.next();!u.done;u=s.next()){var a=u.value,h=!1;try{for(var f=(r=void 0,We(o)),c=f.next();!c.done;c=f.next()){var l=c.value;if(a.min>=l.min&&a.min<=l.max||a.max>=l.min&&a.max<=l.max){l.min=Math.min(l.min,a.min),l.max=Math.min(l.max,a.max),h=!0;break}}}catch(t){r={error:t}}finally{try{c&&!c.done&&(e=f.return)&&e.call(f)}finally{if(r)throw r.error}}h||o.push(a)}}catch(t){i={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}(this.DG),Ft=!!q,It=this.Xi.T(),jt=this.Xi.o;E&&Object.entries(P).forEach((function(t){var i=KT(t,2),n=i[0],r=i[1];if(L.Ol&&!L.Ol[r])throw new Error("LightningChart JS data supply error - key ".concat(r," does not exist in data set. Mapped to '").concat(n,"'"))})),(E||Q)&&((ot&&"value"===ot.lookUpProperty||ct&&"value"===ct.lookUpProperty||At&&"value"===At.lookUpProperty)&&void 0===P.lookupValue&&Qe.console.warn('LightningChart JS warning - using PalettedFill with lookUpProperty=value, but there is no data mapping for "lookupValue"'),(et||ft||bt)&&void 0===P.color&&Qe.console.warn('LightningChart JS warning - using IndividualPointFill, but there is no data mapping for "color"'));var Bt,Dt,Lt=this.AC&&(!!$||!!lt),Et=this.yR.bG(L,P,Lt),Pt=Et.cpStateChanged,zt=Et.cpActive;if(R&&zt&&G&&(Pt||_t||kt||G.li||Q)){var Nt=this.yR.gG(L,P);if(Nt){var Vt=!(Pt||_t||Q||E);this.GG=ik(this.FD,[Nt.IG,Nt.jG],Nt.Ej,Nt.BG,Nt.Bt,Nt.$h,Ft,this.GG,Vt,R,1e3,this.Yi.Si(),(function(t){return Mo(t,D.Yi.Si())}),L.Cl),this.UG={min:As,max:bs};for(var Rt="x"===na(R)?Nt.jG:Nt.IG,Gt=Rt.length,Ut=0;Ut<Gt;Ut+=1){var Yt=Rt[Ut];L.Cl&&Number.isNaN(Yt)||(this.UG.min=Math.min(this.UG.min,Yt),this.UG.max=Math.max(this.UG.max,Yt))}(null===(i=this.YG)||void 0===i?void 0:i.bufferX)!==this.GG.bufferX&&(this.FD.yP(null===(n=this.YG)||void 0===n?void 0:n.bufferX),this.FD.yP(null===(r=this.YG)||void 0===r?void 0:r.bufferY),this.FD.yP(null===(e=this.YG)||void 0===e?void 0:e.bufferColors),this.FD.yP(null===(s=this.YG)||void 0===s?void 0:s.bufferLengthSoFar),this.FD.yP(null===(u=this.YG)||void 0===u?void 0:u.bufferRotations),this.FD.yP(null===(a=this.YG)||void 0===a?void 0:a.bufferLookupValues),this.FD.yP(null===(h=this.YG)||void 0===h?void 0:h.bufferSizes)),this.YG=void 0}}if(R&&G&&!zt){if(Pt||_t||kt||G.li||Tt||Q){var Wt=Math.min(G.getInnerStart(),G.getInnerEnd()),Xt=Math.max(G.getInnerStart(),G.getInnerEnd()),Ht="x"===na(R)?N:V,Zt="x"===na(R)?V:N,Jt=Tc(Wt,Xt,Ht,H,Z,J,ra(R)?"progressive":"regressive",1);if(!this.WG||(null==Jt?void 0:Jt.iFirstSample)!==this.WG.iFirstSample||Jt.iLastSample!==this.WG.iLastSample||_t){var Qt=this.zG(z,this.WG,Jt,_t||Pt,Ht,Zt,L.Cl);this.UG=Qt.visibleBoundaries,this.XG=Qt.avgPointGap}if(this.WG=Jt,void 0===Jt)this.FD.yP(null===(f=this.GG)||void 0===f?void 0:f.bufferX),this.FD.yP(null===(c=this.GG)||void 0===c?void 0:c.bufferY),this.FD.yP(null===(l=this.GG)||void 0===l?void 0:l.bufferColors),this.FD.yP(null===(v=this.GG)||void 0===v?void 0:v.bufferLengthSoFar),this.FD.yP(null===(d=this.GG)||void 0===d?void 0:d.bufferRotations),this.FD.yP(null===(y=this.GG)||void 0===y?void 0:y.bufferLookupValues),this.FD.yP(null===(A=this.GG)||void 0===A?void 0:A.bufferSizes),this.GG=void 0,this.FD.yP(null===(b=this.YG)||void 0===b?void 0:b.bufferX),this.FD.yP(null===(p=this.YG)||void 0===p?void 0:p.bufferY),this.FD.yP(null===(m=this.YG)||void 0===m?void 0:m.bufferColors),this.FD.yP(null===(g=this.YG)||void 0===g?void 0:g.bufferLengthSoFar),this.FD.yP(null===(x=this.YG)||void 0===x?void 0:x.bufferRotations),this.FD.yP(null===(S=this.YG)||void 0===S?void 0:S.bufferLookupValues),this.FD.yP(null===(w=this.YG)||void 0===w?void 0:w.bufferSizes),this.YG=void 0,this.HG=Jt;else if(Pt||_t||!this.HG||Jt.iFirstSample<this.HG.iFirstSample||Jt.iLastSample>this.HG.iLastSample||Q){var Kt=gc({srcLoopArray:N,dataRanges:Jt.dataRanges,NewArray:z.Nl}),qt=gc({srcLoopArray:V,dataRanges:Jt.dataRanges,NewArray:z.Vl}),$t=Y?gc({srcLoopArray:Y,dataRanges:Jt.dataRanges,NewArray:Uint32Array}):void 0,ti=U?gc({srcLoopArray:U,dataRanges:Jt.dataRanges,NewArray:Float32Array}):void 0,ii=W?gc({srcLoopArray:W,dataRanges:Jt.dataRanges,NewArray:Float32Array}):void 0,ni=X?gc({srcLoopArray:X,dataRanges:Jt.dataRanges,NewArray:Float32Array}):void 0,ri=(Vt=!(Pt||_t||Q||E),Lt||this.un("ApplicationType",(function(t){return"InternalUI"===t.type}))?1e3:Math.min(null!==(M=L.getMaxSampleCount())&&void 0!==M?M:1e6,1e6));this.YG=ik(this.FD,[Kt,qt],$t,ti,ii,ni,Ft,this.YG,Vt,R,ri,this.Yi.Si(),(function(t){return Mo(t,D.Yi.Si())}),L.Cl);var ei=Kt,oi=qt,si=$t,ui=ti,ai=this.uG.T();if(ai){var hi="spline"===ai.type?function(t,i,n){var r=na(n),e="x"===r?t.xValues:t.yValues,s="x"===r?t.yValues:t.xValues,u=t.lookupValues,a=t.colors;if(e.length<=2)return{xValues:Array.from(t.xValues),yValues:Array.from(t.yValues),lookupValues:u?Array.from(u):void 0,colors:a?Array.from(a):void 0};for(var h=function(t,i){var n=1e-5,r=t.length-1,e=Array(r);if(r>1)for(var s=o(0,0),u=o(0,0),a=o(0,0),h=Vs(Ws({x:t.elementAt(1),y:i.elementAt(1)},{x:t.elementAt(0),y:i.elementAt(0)})),f=0,c=0,l=0;l<r;l+=1){var v=t.elementAt(l),d=t.elementAt(l+1),y=i.elementAt(l),A=i.elementAt(l+1),b=Array(4);b[0]={x:v,y:y},b[1]={x:v,y:y},b[3]={x:d,y:A},b[2]={x:d,y:A},a=h,s=u,Number.isNaN(s.y)&&(s=o(0,0));var p=l+2<i.length?i.elementAt(l+2):Number.NaN;if(l+1<r&&!Number.isNaN(p)){var m=t.elementAt(l+2);h=m===d&&p===A?o(0,0):Vs(Ws({x:m,y:p},{x:d,y:A})),u=Vs(Ys(a,h))}else u=o(0,0);if(A===y)f=0,c=0;else{var g=d-v;f=Math.abs(s.x)>n?Math.abs(g/(3*s.x)):1,c=Math.abs(u.x)>n?Math.abs(g/(3*u.x)):1}b[1]=Ys(Us(s,f),b[1]),b[2]=Ws(b[2],Us(u,c)),e[l]=b}return e.length>0?e:[]}(e,s),f=h.length,c=[],l=[],v=[],d=[],y=0;y<f;y+=1)for(var A=h[y],b=0;b<i;b+=1){var p=b/(i-1),m=p*p,g=m*p,x=1-p,S=x*x,w=S*x;c.push(w*A[0].x+3*p*S*A[1].x+3*m*x*A[2].x+g*A[3].x),l.push(w*A[0].y+3*p*S*A[1].y+3*m*x*A[2].y+g*A[3].y)}if(u)for(b=0;b<c.length;b+=1){var M=Math.round(b/i),C=u.elementAt(M);d[b]=C}if(a)for(b=0;b<c.length;b+=1){M=Math.round(b/i);var T=a.elementAt(M);v[b]=T}return{xValues:"x"===r?c:l,yValues:"x"===r?l:c,lookupValues:u?d:void 0,colors:a?v:void 0}}({xValues:Kt,yValues:qt,lookupValues:ti,colors:$t},ai.resolution||20,R):"step"===ai.type?function(t,i,n){var r=t.lookupValues,e=t.colors,o=na(n),s="x"===o?t.xValues:t.yValues,u="x"===o?t.yValues:t.xValues,a=[],h=[],f=[],c=[],l=s.length,v="before"===i?0:"after"===i?1:.5;if(l>0){var d=0,y=s.elementAt(0),A=u.elementAt(0);a[d]=y,h[d]=A,d+=1;for(var b=1;b<l;b+=1){var p=s.elementAt(b),m=u.elementAt(b);if(v<=0)a[d]=y,h[d]=m,d+=1;else{var g=y*(1-v)+p*v;a[d]=g,h[d]=A,a[d+=1]=g,h[d]=m,d+=1}a[d]=p,h[d]=m,d+=1,y=p,A=m}}if(r)if("before"===i)for(c[0]=r.elementAt(0),b=1;b<l;b+=1){var x=r.elementAt(b);c[2*b-1]=x,c[2*b]=x}else if("middle"===i||"after"===i)for(c[0]=r.elementAt(0),c[1]=r.elementAt(0),b=1;b<l;b+=1)x=r.elementAt(b),c[3*b-1]=x,c[3*b]=x,c[3*b+1]=x;if(e)if("before"===i)for(f[0]=e.elementAt(0),b=1;b<l;b+=1)x=e.elementAt(b),f[2*b-1]=x,f[2*b]=x;else if("middle"===i||"after"===i)for(f[0]=e.elementAt(0),f[1]=e.elementAt(0),b=1;b<l;b+=1)x=e.elementAt(b),f[3*b-1]=x,f[3*b]=x,f[3*b+1]=x;return{xValues:"x"===o?a:h,yValues:"x"===o?h:a,lookupValues:r?c:void 0,colors:e?f:void 0}}({xValues:Kt,yValues:qt,lookupValues:ti,colors:$t},null!==(C=ai.step)&&void 0!==C?C:"middle",R):void 0;ei=hi?hi.xValues:ei,oi=hi?hi.yValues:oi,si=(null==hi?void 0:hi.colors)?hi.colors:si,ui=(null==hi?void 0:hi.lookupValues)?hi.lookupValues:ui}this.GG=ei===Kt&&oi===qt?this.YG:ik(this.FD,[ei,oi],si,ui,void 0,void 0,Ft,(null===(T=this.GG)||void 0===T?void 0:T.bufferX)===this.YG.bufferX?void 0:this.GG,!(!Vt||Tt||ai),R,1e3,this.Yi.Si(),(function(t){return Mo(t,D.Yi.Si())}),L.Cl),this.HG=Jt}}}else this.WG=void 0;if(!R&&(_t||kt||Q)){if(!this.GG||this.GG.bufferSize<L.bl||Ft){var fi=void 0!==L.Bl?L.Bl:L.bl,ci=void 0,li=0,vi=0;if(Ft){var di=nk(N,V,N[0],V[0],0,0,L.Cl);ci=this.FD.DP(2*fi,di[0],null===(k=this.GG)||void 0===k?void 0:k.bufferLengthSoFar,Float32Array),li=di[1],vi=di[2]}this.GG={bufferX:this.FD.DP(fi*(this.Yi.Si()?2:1),Mo(N,this.Yi.Si()),null===(_=this.GG)||void 0===_?void 0:_.bufferX),bufferY:this.FD.DP(fi*(this.Yi.Si()?2:1),Mo(V,this.Yi.Si()),null===(O=this.GG)||void 0===O?void 0:O.bufferY),bufferColors:Y?this.FD.DP(fi,Y,null===(F=this.GG)||void 0===F?void 0:F.bufferColors,Uint32Array):void 0,bufferLookupValues:U?this.FD.DP(fi,U,null===(I=this.GG)||void 0===I?void 0:I.bufferLookupValues,Float32Array):void 0,bufferSizes:W?this.FD.DP(fi,W,null===(j=this.GG)||void 0===j?void 0:j.bufferSizes,Float32Array):void 0,bufferRotations:X?this.FD.DP(fi,X,null===(B=this.GG)||void 0===B?void 0:B.bufferRotations,Float32Array):void 0,bufferLengthSoFar:ci,lengthSoFarX:li,lengthSoFarY:vi,bufferSize:fi,valueCount:L.bl}}else{var yi=this.GG.bufferX,Ai=this.GG.bufferY;Ot.forEach((function(t){var i,n,r,e,o=N.subarray(t.min,t.max+1),s=V.subarray(t.min,t.max+1);if(D.FD.LP(yi,t.min*(D.Yi.Si()?2:1),Mo(o,D.Yi.Si())),D.FD.LP(Ai,t.min*(D.Yi.Si()?2:1),Mo(s,D.Yi.Si())),Y&&(null===(i=D.GG)||void 0===i?void 0:i.bufferColors)){var u=Y.subarray(t.min,t.max+1);D.FD.LP(D.GG.bufferColors,t.min,u,Uint32Array)}if(U&&(null===(n=D.GG)||void 0===n?void 0:n.bufferLookupValues)){var a=U.subarray(t.min,t.max+1);D.FD.LP(D.GG.bufferLookupValues,t.min,a,Float32Array)}if(X&&(null===(r=D.GG)||void 0===r?void 0:r.bufferRotations)){var h=X.subarray(t.min,t.max+1);D.FD.LP(D.GG.bufferRotations,t.min,h,Float32Array)}W&&(null===(e=D.GG)||void 0===e?void 0:e.bufferSizes)&&(h=W.subarray(t.min,t.max+1),D.FD.LP(D.GG.bufferSizes,t.min,h,Float32Array))})),this.GG.valueCount=L.bl}this.YG=this.GG}if(Q||Ct||St||jt){if(st&&$&&!1!==tt){var bi=-1===tt?"primitive":"triangulated",pi=ot?["lookup",ot.lookUpProperty,ot.lut]:et?"attribute":nt?["gradient",nt]:rt?["gradient",rt]:"uniform";this.bV="primitive"===bi?{type:bi,shader:this.FD.rE(rM["2D"],rM.Color({dataType:pi}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0,splitPosAttribute:!0}),q&&rM.StippleTexture),lineStyleSolid:K,lineStyleDashed:q,fillStyleSolid:it,fillStyleLinearGradient:nt,fillStyleRadialGradient:rt,fillStyleIndividual:et,fillStylePaletted:ot,mousePickingShader:It&&this.FD.rE(rM["2D"],rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0,splitPosAttribute:!0}),q&&rM.StippleTexture,rM.MousePicking({useVertexId:!0}))}:"triangulated"===bi?{type:bi,shader:this.FD.rE(rM["2D"],rM.Color({dataType:pi}),rM.LineInstanced2D({axisWorldTranslation:Ra(this.Yi),normalSource:void 0,splitPosAttribute:!0}),this.yV?rM.AliasedEdge:void 0,q&&rM.StippleTextureInstanced),geometry:OC(this.FD,tt),thickness:tt,lineStyleSolid:K,lineStyleDashed:q,fillStyleSolid:it,fillStyleLinearGradient:nt,fillStyleRadialGradient:rt,fillStyleIndividual:et,fillStylePaletted:ot,mousePickingShader:It&&this.FD.rE(rM["2D"],rM.LineInstanced2D({axisWorldTranslation:Ra(this.Yi),normalSource:void 0,splitPosAttribute:!0}),q&&rM.StippleTextureInstanced,rM.MousePicking())}:{type:"none"}}else this.bV={type:"none"};if(this.ZG=lt?{shader:this.FD.rE(rM["2D"],ct&&rM.Color({dataType:["lookup",ct.lookUpProperty,ct.lut]}),ft&&rM.Color({dataType:"attribute"}),ut&&rM.Color({dataType:"uniform"}),at&&rM.Color({dataType:["gradient",at]}),ht&&rM.Color({dataType:["gradient",ht]}),rM.Area2D({axisWorldTranslation:Ra(this.Yi),normalSource:void 0,splitPosAttribute:!0,fill:this.iG.T()})),geometry:(Bt=this.FD,Dt=Bt.SP.gE.get(void 0),Dt||(Dt=new PT(Bt),Bt.SP.gE.set(void 0,Dt),Dt)),fillStyleSolid:ut,fillStyleLinearGradient:at,fillStyleRadialGradient:ht,fillStyleIndividual:ft,fillStylePaletted:ct,mousePickingShader:It&&this.FD.rE(rM["2D"],rM.Area2D({axisWorldTranslation:Ra(this.Yi),normalSource:void 0,splitPosAttribute:!0,fill:this.iG.T()}),rM.MousePicking())}:void 0,mt){var mi=!(!pt&&!wt),gi=Mt>1||mi,xi=W?"attribute":"uniform",Si=!gi&&rM.PointSize("uniform"),wi=rM.VertexLocation({offsets:[gi&&!mi?{directionVar:VT.KR,dataType:xi,sizeUnit:"px",symmetric:!0,rotation:{dataType:X?"attribute-deg":"uniform"},useAlignment:!0}:gi&&mi?{directionVar:VT.KR,dataType:xi,sizeUnit:"scale",rotation:{dataType:X?"attribute-deg":"uniform"},useAlignment:!0}:void 0],axisWorldTranslation:Ra(this.Yi),normalSource:void 0,splitPosAttribute:!0});this.PG={shader:this.FD.rE(rM["2D"],Si,wi,vt&&rM.Color({dataType:"uniform",overrideOpacity:!0,maskTexture:!!wt}),dt&&rM.Color({dataType:["gradient",dt],overrideOpacity:!0,maskTexture:!!wt}),yt&&rM.Color({dataType:["gradient",yt],overrideOpacity:!0,maskTexture:!!wt}),At&&rM.Color({dataType:["lookup",At.getLookUpProperty(),At.getPalette()],overrideOpacity:!0,maskTexture:!!wt}),bt&&rM.Color({dataType:"attribute",overrideOpacity:!0,maskTexture:!!wt}),pt&&rM.Color({dataType:["image",pt],overrideOpacity:!0,maskTexture:!!wt})),geometry:UT(xt,this.FD,"uniform"===xi?Mt:25),fillStyleSolid:vt,fillStyleLinearGradient:dt,fillStyleRadialGradient:yt,fillStylePaletted:At,fillStyleIndividual:bt,fillStyleImage:pt,mousePickingShader:It&&this.FD.rE(rM["2D"],Si,wi,rM.MousePicking({useVertexId:!gi})),shapeIcon:wt,pointSizeAsScale:mi,instancedRendering:gi,borders:gt&&!mi&&{shader:this.FD.rE(rM["2D"],Si,rM.VertexLocation({offsets:[gi&&!mi?{directionVar:VT.KR,dataType:xi,sizeUnit:"px",symmetric:!0,rotation:{dataType:X?"attribute-deg":"uniform"},useAlignment:!0}:gi&&mi?{directionVar:VT.KR,dataType:xi,sizeUnit:"scale",rotation:{dataType:X?"attribute-deg":"uniform"},useAlignment:!0}:void 0,{directionVar:VT.$R,dataType:"uniform",sizeUnit:"px",symmetric:!0,rotation:{dataType:X?"attribute-deg":"uniform"}}],axisWorldTranslation:Ra(this.Yi),normalSource:void 0,splitPosAttribute:!0}),rM.Color({dataType:"uniform",overrideOpacity:!0,maskTexture:!!wt})),fillStyleSolid:gt}}}else this.PG=void 0}if((void 0===this.EG||kt)&&U&&(Wa(ot)||Wa(ct)||Wa(At))){var Mi=this.EG?Ot:[L.Ql()],Ci=this.EG?this.EG.max:bs,Ti=this.EG?this.EG.min:As,ki=U;Mi.forEach((function(t){for(var i=t.min;i<=t.max;i+=1){var n=ki[i];Ti=n<Ti?n:Ti,Ci=n>Ci?n:Ci}})),this.EG={min:Ti,max:Ci}}this.RR=this.FD.Bz(this,this.RR,pt,wt,Ct,this.GR),this.mV=q?this.FD._z(q.getPattern()):void 0,this.Kc(this.Hc),this.fG=this.tG,this.lG=this.nG,this.dG=this.rG,this.eG.o=!1,this.oG.o=!1,this.DG.length=0,this.Ef=!1,this.uG.o=!1,this.mv.o=!1,this.Xi.o=!1,this.iG.o=!1}},i.prototype.ds=function(){this.Vb();var t=this.lN.strokeFillLinearGradient(!1),i=this.lN.strokeFillRadialGradient(!1),n=this.lN.areaFillLinearGradient(!1),r=this.lN.areaFillRadialGradient(!1),e=this.lN.markerFillLinearGradient(!1),o=this.lN.markerFillRadialGradient(!1);if(this.rL.cP(this.Yi),n||r){var s,u=this.iG.T();s=Xf("bottom"===u||"top"===u?{min:{x:this.On(!1),y:Math.min(this.Yi.y.getInnerStart(),this.Yi.y.getInnerEnd(),this.In(!1),this.jn(!1))},max:{x:this.Fn(!1),y:Math.max(this.Yi.y.getInnerStart(),this.Yi.y.getInnerEnd(),this.In(!1),this.jn(!1))}}:{min:{x:Math.min(this.Yi.x.getInnerStart(),this.Yi.x.getInnerEnd(),this.On(!1),this.Fn(!1)),y:this.In(!1)},max:{x:Math.max(this.Yi.x.getInnerStart(),this.Yi.x.getInnerEnd(),this.On(!1),this.Fn(!1)),y:this.jn(!1)}},{x:this.sc()/2,y:this.uc()/2},this.Yi),this.JG=this.FD.zz(n,this,s),this.QG=this.FD.Nz(r,this,s)}if(t||i||e||o){var a=Xf({min:{x:this.On(!1),y:this.In(!1)},max:{x:this.Fn(!1),y:this.jn(!1)}},{x:this.sc()/2,y:this.uc()/2},this.Yi);this.KG=this.FD.zz(t,this,a),this.qG=this.FD.Nz(i,this,a),this.$G=this.FD.zz(e,this,a),this.tU=this.FD.Nz(o,this,a)}return this},i.prototype.fl=function(t,i){var n,r,e,o,s,u,a,h,f,c,l,v,d,y,A,b,p,m,g,x=this,S=this.FD.gl,w=null===(n=this.GG)||void 0===n?void 0:n.bufferX,M=null===(r=this.GG)||void 0===r?void 0:r.bufferY,C=null===(e=this.GG)||void 0===e?void 0:e.bufferColors,T=null===(o=this.GG)||void 0===o?void 0:o.bufferLookupValues,k=null===(s=this.GG)||void 0===s?void 0:s.valueCount,_=null===(u=this.YG)||void 0===u?void 0:u.valueCount,O=null===(a=this.mv.T())||void 0===a?void 0:a.En,F=null==O?void 0:O.Pl(this.pC),I=Math.max((null===(h=this.GG)||void 0===h?void 0:h.valueCount)||0,(null===(f=this.YG)||void 0===f?void 0:f.valueCount)||0);if(!w||!M||!O)return{};var j=function(i,n,r){if(jC(x.FD,i,x.Yi.Si(),w,"aLocation","X",1,!1,S.FLOAT,Float32Array.BYTES_PER_ELEMENT,void 0),jC(x.FD,i,x.Yi.Si(),M,"aLocation","Y",1,!1,S.FLOAT,Float32Array.BYTES_PER_ELEMENT,void 0),n&&1!==t){if(!C)return!1;jC(x.FD,i,!1,C,"aColor","",4,!0,S.UNSIGNED_BYTE,1,void 0)}if(r&&"value"===r.lookUpProperty&&1!==t){if(!T)return!1;jC(x.FD,i,!1,T,"aLookupValue","",1,!1,S.FLOAT,Float32Array.BYTES_PER_ELEMENT,void 0)}return!0},B=1===t?null===(c=this.ZG)||void 0===c?void 0:c.mousePickingShader:null===(l=this.ZG)||void 0===l?void 0:l.shader;if(this.ZG&&B&&void 0!==k&&k>0&&F&&2!==t){var D=this.ZG;this.FD.zl(B).rP(B,(function(n,r,e,o){return!!x.FD.Lz(e,t,x,{uniforms:x.rL,idFirst:i,useInstanceID:1===t?I:void 0,fillStyleSolid:D.fillStyleSolid,fillStyleLinearGradient:D.fillStyleLinearGradient,fillStyleRadialGradient:D.fillStyleRadialGradient,fillStylePaletted:D.fillStylePaletted,linearGradientInfo:x.JG,radialGradientInfo:x.QG,lookupValueRange:D.fillStylePaletted?Ya(D.fillStylePaletted,x,x.EG):void 0,lookupValueBuffer:null})&&!!j(e,D.fillStyleIndividual,D.fillStylePaletted)&&(null==D||D.geometry.zl(e).xk(k-1),!0)}))}var L="none"===this.bV.type?void 0:1===t?this.bV.mousePickingShader:this.bV.shader;if("none"!==this.bV.type&&L&&void 0!==k&&k>0){var E=this.bV;this.FD.zl(L).rP(L,(function(n,r,e,o){var s,u;if(!x.GG)return!1;if(!x.FD.Lz(e,t,x,{uniforms:x.rL,idFirst:i,useInstanceID:1===t&&"triangulated"===E.type?I:void 0,useVertexID:1===t&&"primitive"===E.type?I:void 0,fillStyleSolid:E.fillStyleSolid,fillStylePaletted:E.fillStylePaletted,fillStyleLinearGradient:E.fillStyleLinearGradient,fillStyleRadialGradient:E.fillStyleRadialGradient,fillStyleIndividual:E.fillStyleIndividual,linearGradientInfo:x.KG,radialGradientInfo:x.qG,lookupValueRange:E.fillStylePaletted?Ya(E.fillStylePaletted,x,x.EG):void 0,lookupValueBuffer:"primitive"===E.type?T:null,colorBuffer:"primitive"===E.type?C:null,coordsX:"primitive"===E.type?w:void 0,coordsY:"primitive"===E.type?M:void 0,coordsHighPrecision:x.Yi.Si()}))return!1;if(E.lineStyleDashed){if(!x.mV)return!1;x.FD.oP(n("uStippleCount"),[x.qi.ai().x/x.mV.Iz,x.qi.ai().y/x.mV.Iz]).uP(o("uStippleTextureWidthLimiter"),x.mV.Fz/x.mV.Iz).uP(n("uStippleScale"),E.lineStyleDashed.getPatternScale()).sP(n("uStippleTexture"),x.mV.Oz,1)}if("primitive"===E.type){if(E.lineStyleDashed){if(!(null===(s=x.GG)||void 0===s?void 0:s.bufferLengthSoFar))return!1;x.FD.dP(r("aLengthSoFar"),x.GG.bufferLengthSoFar)}IC.vV(x.eN,k)}else{if(!j(e,E.fillStyleIndividual,E.fillStylePaletted))return!1;if(E.lineStyleDashed){if(!(null===(u=x.GG)||void 0===u?void 0:u.bufferLengthSoFar))return!1;jC(x.FD,e,!1,x.GG.bufferLengthSoFar,"aLengthSoFar","",2,!1,S.FLOAT,Float32Array.BYTES_PER_ELEMENT,void 0)}FC.fl(x.eN,E.geometry,e,x.yV&&1!==t,1===t,E.thickness,x.GG.valueCount-1)}return!0}))}var P=null===(v=this.YG)||void 0===v?void 0:v.bufferX,z=null===(d=this.YG)||void 0===d?void 0:d.bufferY,N=null===(y=this.YG)||void 0===y?void 0:y.bufferColors,V=null===(A=this.YG)||void 0===A?void 0:A.bufferLookupValues,R=null===(b=this.YG)||void 0===b?void 0:b.bufferSizes,G=null===(p=this.YG)||void 0===p?void 0:p.bufferRotations,U=1===t?null===(m=this.PG)||void 0===m?void 0:m.mousePickingShader:null===(g=this.PG)||void 0===g?void 0:g.shader,Y=this.PG,W=1;if(F&&(B||L)&&void 0!==this.XG&&!Number.isNaN(this.XG)){var X="x"===na(F)?this.Yi.x:this.Yi.y,H=this.XG,Z=X.getInnerInterval()/H,J=this.oG.T(),Q=X.si()/J/1,K=2*Q;W=Z<=Q?1:Math.max(1-(Z-Q)/(K-Q),0)}if(U&&Y&&P&&z&&W>0&&void 0!==_&&_>0){var q=Y,$=q.instancedRendering?1:0;if(Y.borders&&0===t){var tt=Y.borders;this.FD.zl(tt.shader).rP(tt.shader,(function(n,r,e,o){if(!x.FD.Lz(e,t,x,{uniforms:x.rL,idFirst:i,fillStyleSolid:tt.fillStyleSolid}))return!1;if(x.Yi.Si()?x.FD.eP(P,$,{location:r("aPos_highpartX"),size:1},{location:r("aPos_lowpartX"),size:1}).eP(z,$,{location:r("aPos_highpartY"),size:1},{location:r("aPos_lowpartY"),size:1}):x.FD.YP(r("aPosX"),P,$).YP(r("aPosY"),z,$),x.FD.uP(n("uOpacity"),W),q.instancedRendering)if(G)x.FD.YP(r("aRotDeg"),G,$).uP(n("uBaseRotDeg"),q.geometry.ZR);else{var s=Ks(x.sG.T()+q.geometry.ZR),u=Math.sin(s),a=Math.cos(s);x.FD.oP(n("uRot"),[u,a])}return x.FD.oP(o("uOffsetAlignment"),[-x.aG.x/2,-x.aG.y/2]),q.geometry.qR(e,R,_,x.oG.T(),q.instancedRendering,x.rG.getThickness())}))}this.FD.zl(U).rP(U,(function(n,r,e,o){if(!x.YG)return!1;if(!x.FD.Lz(e,t,x,{uniforms:x.rL,idFirst:i,useInstanceID:q.instancedRendering&&1===t?I:void 0,useVertexID:q.instancedRendering||1!==t?void 0:I,fillStyleSolid:q.fillStyleSolid,fillStyleLinearGradient:q.fillStyleLinearGradient,fillStyleRadialGradient:q.fillStyleRadialGradient,linearGradientInfo:x.$G,radialGradientInfo:x.tU,fillStylePaletted:q.fillStylePaletted,fillStyleIndividual:q.fillStyleIndividual,lookupValueRange:q.fillStylePaletted?Ya(q.fillStylePaletted,x,x.EG):void 0,lookupValueBuffer:V,lookupValueAttribDivisor:$,colorBuffer:N,colorAttribDivisor:$,fillStyleImage:q.fillStyleImage,texturedFillGLInfo:x.RR,texCoordAttribDivisor:0,maskTexture:q.shapeIcon&&x.RR,maskTextureCoordsAttribDivisor:0}))return!1;if(x.Yi.Si()?x.FD.eP(P,$,{location:r("aPos_highpartX"),size:1},{location:r("aPos_lowpartX"),size:1}).eP(z,$,{location:r("aPos_highpartY"),size:1},{location:r("aPos_lowpartY"),size:1}):x.FD.YP(r("aPosX"),P,$).YP(r("aPosY"),z,$),1!==t&&x.FD.uP(n("uOpacity"),W),q.instancedRendering)if(G)x.FD.YP(r("aRotDeg"),G,$).uP(n("uBaseRotDeg"),q.geometry.ZR);else{var s=Ks(x.sG.T()+q.geometry.ZR),u=Math.sin(s),a=Math.cos(s);x.FD.oP(n("uRot"),[u,a])}return x.FD.oP(o("uOffsetAlignment"),[-x.aG.x/2,-x.aG.y/2]),q.geometry.xk(e,R,0,x.YG.valueCount,q.pointSizeAsScale&&x.RR?{scale:x.oG.T(),width:q.shapeIcon?q.shapeIcon.ai().x:x.RR.texture.TE,height:q.shapeIcon?q.shapeIcon.ai().y:x.RR.texture.kE}:x.oG.T(),q.instancedRendering),!0}))}return{idCount:I}},i.prototype.an=function(){return this.EG},i.prototype.ll=function(t,i,n,r,e){var o,s=null===(o=this.mv.T())||void 0===o?void 0:o.En;if(null==s?void 0:s.Pl(this.pC))return{};var u=t-i;return{info:{dataPoint:null==s?void 0:s.nv(this.pC,u)}}},i.prototype.dispose=function(){var i,n,r,e,o,s,u,a,h,f,c,l,v;return t.prototype.dispose.call(this),this.FD.yP(null===(i=this.GG)||void 0===i?void 0:i.bufferX),this.FD.yP(null===(n=this.GG)||void 0===n?void 0:n.bufferY),this.FD.yP(null===(r=this.GG)||void 0===r?void 0:r.bufferColors),this.FD.yP(null===(e=this.GG)||void 0===e?void 0:e.bufferLookupValues),this.FD.yP(null===(o=this.GG)||void 0===o?void 0:o.bufferRotations),this.FD.yP(null===(s=this.GG)||void 0===s?void 0:s.bufferSizes),this.FD.yP(null===(u=this.YG)||void 0===u?void 0:u.bufferX),this.FD.yP(null===(a=this.YG)||void 0===a?void 0:a.bufferY),this.FD.yP(null===(h=this.YG)||void 0===h?void 0:h.bufferColors),this.FD.yP(null===(f=this.YG)||void 0===f?void 0:f.bufferLookupValues),this.FD.yP(null===(c=this.YG)||void 0===c?void 0:c.bufferRotations),this.FD.yP(null===(l=this.YG)||void 0===l?void 0:l.bufferSizes),this.bV={type:"none"},this.ZG=void 0,this.PG=void 0,this.yR.HV(),null===(v=this.mv.T())||void 0===v||v.Ln(),this.GG=void 0,this.YG=void 0,this.KG=void 0,this.qG=void 0,this.JG=void 0,this.QG=void 0,this.$G=void 0,this.tU=void 0,this.FD.Dz(this,this.RR),this},i.prototype.cl=function(){return this.dispose(),this},i.prototype.iU=function(t){var i,n;if(!this.pC)return this.NG||ps;if(!this.NG){var r=t.Zl(this.pC);if(0===r.xValues.length)return ps;this.NG={min:{x:As,y:As},max:{x:bs,y:bs},VG:Date.now()};for(var e=r.xValues.length,o=0;o<e;o+=1){var s=r.xValues[o],u=r.yValues[o];this.NG.min.x=s<this.NG.min.x?s:this.NG.min.x,this.NG.min.y=u<this.NG.min.y?u:this.NG.min.y,this.NG.max.x=s>this.NG.max.x?s:this.NG.max.x,this.NG.max.y=u>this.NG.max.y?u:this.NG.max.y}return this.LG.length=0,this.NG}var a=t.zl(this.pC),h=a.Rl,f=a.Gl;if(this.LG.length>0&&h&&f){try{for(var c=qT(this.LG),l=c.next();!l.done;l=c.next()){var v=l.value;for(o=v.min;o<=v.max;o+=1)s=h[o],u=f[o],this.NG.min.x=s<this.NG.min.x?s:this.NG.min.x,this.NG.min.y=u<this.NG.min.y?u:this.NG.min.y,this.NG.max.x=s>this.NG.max.x?s:this.NG.max.x,this.NG.max.y=u>this.NG.max.y?u:this.NG.max.y;this.LG.length=0}}catch(t){i={error:t}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(i)throw i.error}}return this.NG}return this.NG},i.prototype.Fn=function(t){var i,n,r,e,o;void 0===t&&(t=!0);var s=null===(i=this.mv.T())||void 0===i?void 0:i.En;if(!s)return 0;var u=s.Pl(this.pC);return"ProgressiveX"===u?(null===(n=s.$l(this.pC))||void 0===n?void 0:n.x)||0:"RegressiveX"===u?(null===(r=s.ql(this.pC))||void 0===r?void 0:r.x)||0:"ProgressiveY"===u&&t?(null===(e=this.UG)||void 0===e?void 0:e.max)||0:"RegressiveY"===u&&t?(null===(o=this.UG)||void 0===o?void 0:o.max)||0:this.iU(s).max.x},i.prototype.On=function(t){var i,n,r,e,o;void 0===t&&(t=!0);var s=null===(i=this.mv.T())||void 0===i?void 0:i.En;if(!s)return 0;var u=s.Pl(this.pC);return"ProgressiveX"===u?(null===(n=s.ql(this.pC))||void 0===n?void 0:n.x)||0:"RegressiveX"===u?(null===(r=s.$l(this.pC))||void 0===r?void 0:r.x)||0:"ProgressiveY"===u&&t?(null===(e=this.UG)||void 0===e?void 0:e.min)||0:"RegressiveY"===u&&t?(null===(o=this.UG)||void 0===o?void 0:o.min)||0:this.iU(s).min.x},i.prototype.jn=function(t){var i,n,r,e,o;void 0===t&&(t=!0);var s=null===(i=this.mv.T())||void 0===i?void 0:i.En;if(!s)return 0;var u=s.Pl(this.pC);return"ProgressiveX"===u&&t?oo(null===(n=this.UG)||void 0===n?void 0:n.max,0):"RegressiveX"===u&&t?oo(null===(r=this.UG)||void 0===r?void 0:r.max,0):"ProgressiveY"===u?oo(null===(e=s.$l(this.pC))||void 0===e?void 0:e.y,0):"RegressiveY"===u?oo(null===(o=s.ql(this.pC))||void 0===o?void 0:o.y,0):this.iU(s).max.y},i.prototype.In=function(t){var i,n,r,e,o;void 0===t&&(t=!0);var s=null===(i=this.mv.T())||void 0===i?void 0:i.En;if(!s)return 0;var u=s.Pl(this.pC);return"ProgressiveX"===u&&t?oo(null===(n=this.UG)||void 0===n?void 0:n.min,0):"RegressiveX"===u&&t?oo(null===(r=this.UG)||void 0===r?void 0:r.min,0):"ProgressiveY"===u?oo(null===(e=s.ql(this.pC))||void 0===e?void 0:e.y,0):"RegressiveY"===u?oo(null===(o=s.$l(this.pC))||void 0===o?void 0:o.y,0):this.iU(s).min.y},i.prototype.sc=function(){var t,i,n=this.oG.T();this.RR&&(n=Math.max(this.RR.texture.TE,this.RR.texture.kE)*this.oG.T());var r=Boolean(null===(t=this.pC)||void 0===t?void 0:t.size),e=Math.max(is(this.Hc),r?25:n),o=null===(i=this.mv.T())||void 0===i?void 0:i.En.Pl(this.pC);return!o||"ProgressiveX"!==o&&"RegressiveX"!==o?e:0},i.prototype.uc=function(){var t,i,n=this.oG.T();this.RR&&(n=Math.max(this.RR.texture.TE,this.RR.texture.kE)*this.oG.T());var r=Boolean(null===(t=this.pC)||void 0===t?void 0:t.size),e=Math.max(is(this.Hc),r?25:n),o=null===(i=this.mv.T())||void 0===i?void 0:i.En.Pl(this.pC);return!o||"ProgressiveY"!==o&&"RegressiveY"!==o?e:0},i}(WT),tk=function(){var t,i=1e3,n=function(t,i,n,r,e){for(var o,s={min:As,max:bs},u=0,a=0,h=r;h<=e;h+=1){var f=h%t.length,c=t[f],l=i[f];n&&Number.isNaN(l)?o=void 0:(s.min=Math.min(s.min,l),s.max=Math.max(s.max,l),void 0!==o&&(u+=1,a+=Math.abs(c-o)),o=c)}return{visibleBoundaries:s,avgPointGap:a/u,sampleMin:r,sampleMax:e,finitePointPairCount:u}};return function(r,e,o,s,u,a,h){var f,c;if(!o)return t=void 0,{visibleBoundaries:void 0,avgPointGap:0};if(o.iLastSample-o.iFirstSample+1<2e3)return n(u,a,h,o.iFirstSample,o.iLastSample);s&&(t=void 0),t||(t={iFirst:o.iFirstSample,chunks:[]});for(var l=t.iFirst,v=t.iFirst+t.chunks.length*i-1;;){var d=v+1,y=v+i;if(!(o.iLastSample>=y))break;var A=n(u,a,h,d,y);t.chunks.push(A),v=y}for(;y=l-1,d=l-i,o.iFirstSample<=d;)A=n(u,a,h,d,y),t.chunks.unshift(A),t.iFirst=d,l=d;for(var b=0;b<t.chunks.length&&(A=t.chunks[b]).sampleMin<o.iFirstSample;b++)t.chunks.splice(b,1),t.iFirst+=i,b--;for(b=t.chunks.length-1;b>=0&&(A=t.chunks[b]).sampleMax>o.iLastSample;b--)t.chunks.splice(b,1);if(0===t.chunks.length)return t=void 0,{visibleBoundaries:void 0,avgPointGap:0};var p={min:As,max:bs},m=[];try{for(var g=qT(t.chunks),x=g.next();!x.done;x=g.next())A=x.value,p.min=Math.min(A.visibleBoundaries.min,p.min),p.max=Math.max(A.visibleBoundaries.max,p.max),m.push(A.avgPointGap)}catch(t){f={error:t}}finally{try{x&&!x.done&&(c=g.return)&&c.call(g)}finally{if(f)throw f.error}}var S=n(u,a,h,o.iFirstSample,t.iFirst-1),w=n(u,a,h,t.chunks[t.chunks.length-1].sampleMax+1,o.iLastSample);return S.finitePointPairCount>0&&(p.min=Math.min(S.visibleBoundaries.min,p.min),p.max=Math.max(S.visibleBoundaries.max,p.max),m.push(S.avgPointGap)),w.finitePointPairCount>0&&(p.min=Math.min(w.visibleBoundaries.min,p.min),p.max=Math.max(w.visibleBoundaries.max,p.max),m.push(w.avgPointGap)),{visibleBoundaries:p,avgPointGap:m.reduce((function(t,i){return t+i/m.length}),0)}}},ik=function(t,i,n,r,e,o,s,u,a,h,f,c,l,v){var d=na(h),y=ra(h),A=Array.isArray(i[0])?gc(i[0]):i[0],b=Array.isArray(i[1])?gc(i[1]):i[1],p=n&&Array.isArray(n)?gc(n):n,m=r&&Array.isArray(r)?gc(r):r,g=e&&Array.isArray(e)?gc(e):e,x=o&&Array.isArray(o)?gc(o):o,S=A.length,w=A.elementAt(0),M=A.elementAt(S-1),C=b.elementAt(0),T=b.elementAt(S-1),k=c?2:1;if(u&&a&&void 0!==u.firstX&&void 0!==u.lastX&&void 0!==u.firstY&&void 0!==u.lastY&&("ProgressiveX"===h&&w>=u.firstX||"RegressiveX"===h&&w<=u.firstX||"ProgressiveY"===h&&C>=u.firstY||"RegressiveY"===h&&C<=u.firstY)){var _="x"===d?A:b,O="x"===d?u.lastX:u.lastY,F=kc(O,0,S-1,y,(function(t){return _.elementAt(t)}));if(_.elementAt(F)===O){var I=u.bufferSize-u.valueCount,j=F+1,B=S-j;if(0===B)return u;if(I>=B){var D=A.toArray(j,j+B-1),L=b.toArray(j,j+B-1);if(t.LP(u.bufferX,u.valueCount*k,l(D),Float32Array),t.LP(u.bufferY,u.valueCount*k,l(L),Float32Array),p&&u.bufferColors){var E=p.toArray(j,j+B-1);t.LP(u.bufferColors,u.valueCount,E,Uint32Array)}if(m&&u.bufferLookupValues){var P=m.toArray(j,j+B-1);t.LP(u.bufferLookupValues,u.valueCount,P,Float32Array)}if(g&&u.bufferSizes){var z=g.toArray(j,j+B-1);t.LP(u.bufferSizes,u.valueCount,z,Float32Array)}if(x&&u.bufferRotations&&(z=x.toArray(j,j+B-1),t.LP(u.bufferRotations,u.valueCount,z,Float32Array)),s&&u.bufferLengthSoFar){var N=KT(nk(D,L,u.lastX||0,u.lastY||0,u.lengthSoFarX,u.lengthSoFarY,v),3),V=(z=N[0],N[1]),R=N[2];t.LP(u.bufferLengthSoFar,2*u.valueCount,z,Float32Array),u.lengthSoFarX=V,u.lengthSoFarY=R}return u.valueCount+=B,u.lastX=M,u.lastY=T,u}}}var G,U=A.toArray(0,S-1),Y=b.toArray(0,S-1),W=S+f,X=t.DP(W*k,l(U),null==u?void 0:u.bufferX,Float32Array),H=t.DP(W*k,l(Y),null==u?void 0:u.bufferY,Float32Array),Z=p?t.DP(W,p.toArray(0,S-1),null==u?void 0:u.bufferColors,Uint32Array):void 0,J=m?t.DP(W,m.toArray(0,S-1),null==u?void 0:u.bufferLookupValues,Float32Array):void 0,Q=g?t.DP(W,g.toArray(0,S-1),null==u?void 0:u.bufferSizes,Float32Array):void 0,K=x?t.DP(W,x.toArray(0,S-1),null==u?void 0:u.bufferRotations,Float32Array):void 0,q=0,$=0;if(s){var tt=nk(U,Y,U[0],Y[0],0,0,v);G=t.DP(2*W,tt[0],null==u?void 0:u.bufferLengthSoFar,Float32Array),q=tt[1],$=tt[2]}return{bufferX:X,bufferY:H,bufferColors:Z,bufferLookupValues:J,bufferSizes:Q,bufferRotations:K,bufferSize:W,bufferLengthSoFar:G,valueCount:S,firstX:w,lastX:M,firstY:C,lastY:T,lengthSoFarX:q,lengthSoFarY:$}},nk=function(t,i,n,r,e,o,s){var u=t.length,a=new Float32Array(2*u);if(0===u)return[a,0,0];var h=0,f=n,c=r,l=e,v=o;if(s)for(var d=0;d<u;d+=1){var y=t[d],A=i[d];Number.isNaN(y)||Number.isNaN(A)||Number.isNaN(f)||Number.isNaN(c)?(l=0,v=0,a[h]=0,a[h+1]=0,h+=2):(l+=Math.abs(f-y),v+=Math.abs(c-A),a[h]=l,a[h+1]=v,h+=2),f=y,c=A}else for(d=0;d<u;d+=1)y=t[d],A=i[d],l+=Math.abs(f-y),v+=Math.abs(c-A),a[h]=l,a[h+1]=v,h+=2,f=y,c=A;return[a,l,v]},rk={translation:function(t,i){return[1,0,0,0,1,0,t,i,1]},rotation:function(t){var i=Math.cos(t),n=Math.sin(t);return[i,-n,0,n,i,0,0,0,1]},scaling:function(t,i){return[t,0,0,0,i,0,0,0,1]},translate:function(t,i,n){return rk.multiply(t,rk.translation(i,n))},rotate:function(t,i){return rk.multiply(t,rk.rotation(i))},scale:function(t,i,n){return rk.multiply(t,rk.scaling(i,n))},multiply:function(t,i){var n=t[0],r=t[1],e=t[2],o=t[3],s=t[4],u=t[5],a=t[6],h=t[7],f=t[8],c=i[0],l=i[1],v=i[2],d=i[3],y=i[4],A=i[5],b=i[6],p=i[7],m=i[8];return[c*n+l*o+v*a,c*r+l*s+v*h,c*e+l*u+v*f,d*n+y*o+A*a,d*r+y*s+A*h,d*e+y*u+A*f,b*n+p*o+m*a,b*r+p*s+m*h,b*e+p*u+m*f]},projection:function(t,i,n){return[2/t,0,0,0,-2*n/i,0,-1,1*n,1]}},ek=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ok=function(t){function i(i,n,r,e,s){var u=t.call(this,i,n,r,e,s)||this;return u.nU=[],u.rL=new rC,u.rU=[o(0,0),o(0,0),o(0,0),o(0,0)],u.eU=f(o(0,0),o(0,0)),u.oU=f(o(0,0),o(0,0)),u.sU=o(0,0),u.uU=o(0,0),u.aU=o(0,0),u.hU=0,u.fU=0,u.lN=Ua({fillStyleSolid:function(){return Ou(u.Oe)&&u.Oe},fillStyleRadialGradient:function(){return Nr(u.Oe)&&u.Oe},fillStyleLinearGradient:function(){return Rr(u.Oe)&&u.Oe}}),u.eN=i,u.oN=n,u.FD=i.sN(),u.oN=n,u.TV=i.ih.uh,u}return ek(i,t),i.prototype.ds=function(){var t,i=this.Rh(),n=this.Vh(),r=this.Xi.T();if(i){var e=this.zh(),s=this.lN.fillStyleSolid(e),u=this.lN.fillStyleRadialGradient(e),a=this.lN.fillStyleLinearGradient(e),h=s||u||a,f=this.FD,c=this.FD.RE(),l=c!==this.fU;if(this.fU=c,this.rL.cP(this.Yi),this.tf.o||l){this.cU&&this.cU.GD(this),this.font.C(Bf(this.tf.T(),c));var v=this.font.T();this.cU=this.FD.Ko(v.properties.family),this.cU.zl(this)}var d=this.font.o||this.Hh.o;d&&this.cU&&(v=this.font.T(),t=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(this.cU.YD(this.Hh.T(),v,this.eN.en.isDark),2),this.lU=t[0],this.oU=t[1],this.nU.forEach((function(t){t.texCoordBuff&&f.yP(t.texCoordBuff),t.vertexBuff&&f.yP(t.vertexBuff)})),this.nU=this.lU.map((function(t){return{texCoordBuff:f.iP(t.texCoords,!1),texture:t.texture,info:t}})),this.tf.o=!1,this.font.o=!1,this.Hh.o=!1);var y=this.Yi.Ni()||n,A=this.ou.o||this.Kh.o||this.Qh.o||this.qh.o||this.yu.o||this.Zt.o||d||y,b=this.yu.T(),p=Us(o(this.Kh.T()+1,this.Qh.T()+1),.5);if(A&&this.lU&&(this.sU=o(-(b.left*c+this.oU.max.x-this.oU.min.x+b.right*c)*p.x,-(b.bottom*c+this.oU.max.y-this.oU.min.y+b.top*c)*p.y)),(A||y||this.$h.o||this.zh())&&this.Oe!==Cu){if(this.lU){var m=Ys(this.ou.T(),this.qh.T()),g=ee(m,this.Yi,this.qi.Yi),x=Us(g,c);this.aU=x;var S=Ks(this.$h.T());this.hU=S,d&&this.nU.forEach((function(t){var i=t.info;i&&(t.vertexBuffLen=i.vertices.length/2,t.vertexBuff=f.iP(i.vertices,!0,t.vertexBuff))}));var w=this.Zt.T(),M=[Ys(zs(o((this.oU.min.x+(-w.left-b.left)*c+this.sU.x)/c,(this.oU.max.y+(w.top+b.top)*c+this.sU.y)/c),this.$,S),g),Ys(zs(o((this.oU.max.x+(w.right+b.right)*c+this.sU.x)/c,(this.oU.max.y+(w.top+b.top)*c+this.sU.y)/c),this.$,S),g),Ys(zs(o((this.oU.max.x+(w.right+b.right)*c+this.sU.x)/c,(this.oU.min.y+(-w.bottom-b.bottom)*c+this.sU.y)/c),this.$,S),g),Ys(zs(o((this.oU.min.x+(-w.left-b.left)*c+this.sU.x)/c,(this.oU.min.y+(-w.bottom-b.bottom)*c+this.sU.y)/c),this.$,S),g)];this.rU=[ee(M[0],this.qi.Yi,this.Yi),ee(M[1],this.qi.Yi,this.Yi),ee(M[2],this.qi.Yi,this.Yi),ee(M[3],this.qi.Yi,this.Yi)];var C=Bs(M);this.uU=o(-(C.max.x-C.min.x)*c*p.x-C.min.x*c+this.aU.x,-(C.max.y-C.min.y)*c*p.y-C.min.y*c+this.aU.y),this.oo=Ws(C.max,C.min),this.uU={x:this.uU.x/c,y:this.uU.y/c};var T=Bs(this.rU),k=this.Yi.Bi(T.min,this.uU),_=this.Yi.Bi(T.max,this.uU);this.eU=Bs([k,_]),this.uU={x:this.uU.x*c,y:this.uU.y*c}}u?this.mN=GM(this.eU,this.Yi,u.getPosition(),u.getExtent(),u.getShape(),this.FD.RE()):a?this.gN=UM(this.eU,this.Yi,a.getAngle(!0),this.FD.RE()):(this.mN=void 0,this.gN=void 0)}this.zh()&&(this.sL=h?this.FD.rE(rM["2D"],rM.VertexLocation({axisWorldTranslation:"matrix",normalSource:void 0,snapToNearestPixel:this.TV}),rM.Color({dataType:u?["gradient",u]:a?["gradient",a]:"uniform",maskTextureText:!0})):void 0),this.vU=!this.df||this.Oe===Cu||s&&0===s.getColor().getA()?void 0:this.vU||this.FD.rE(rM["2D"],rM.VertexLocation({axisWorldTranslation:"matrix",normalSource:void 0,snapToNearestPixel:this.TV}),rM.Color({dataType:"uniform",maskTextureText:!0})),this.dU=r&&h?this.dU||this.FD.rE(rM["2D"],rM.MousePicking(),rM.VertexLocation({axisWorldTranslation:"matrix",normalSource:void 0,snapToNearestPixel:this.TV})):void 0,this.ou.o=!1,this.Kh.o=!1,this.Qh.o=!1,this.qh.o=!1,this.$h.o=!1,this.Gh(this.Oe)}return this.if=i,this},i.prototype.fl=function(t,i){var n=this;if(this.Zh){var r=Math.min(this.rU[0].x,this.rU[1].x),e=Math.max(this.rU[0].x,this.rU[1].x),o=Math.min(this.rU[0].y,this.rU[2].y),s=Math.max(this.rU[0].y,this.rU[2].y);this.kr.UA();var u=Math.min(this.Yi.x.It,this.Yi.x.jt),a=Math.max(this.Yi.x.It,this.Yi.x.jt),h=Math.min(this.Yi.y.It,this.Yi.y.jt),f=Math.max(this.Yi.y.It,this.Yi.y.jt);if(!(r<=a&&u<=e&&o<=f&&h<=s))return{idCount:1}}if(this.Rh()){var c=0===t?this.vU:void 0,l=this.df,v=1===t?this.dU:this.sL;if(!v||0===this.nU.length)return{};var d=this.lN.fillStyleSolid(!1),y=this.lN.fillStyleRadialGradient(!1),A=this.lN.fillStyleLinearGradient(!1),b=this.qi.LL(),p=b.x,m=b.y,g=rk.projection(p,m,-1),x=rk.translation(this.sU.x,this.sU.y),S=rk.translation(this.uU.x,this.uU.y);g=rk.translate(g,this.aU.x,this.aU.y),g=rk.multiply(g,S),g=rk.rotate(g,this.hU),g=rk.multiply(g,x),1===t&&(g=rk.scale(g,this.oU.max.x,this.oU.max.y)),c&&l&&(g=rk.translate(g,this.Jh.x,this.Jh.y),this.FD.zl(c).rP(c,(function(t,i,r,e){return n.FD.OP(t("uMatrix"),g).uP(t("uIsHighlighted"),0).wI(t("uHighlightColorOffset"),Fr).uP(t("uRenderEffectMask"),0).wI(t("uColor"),l),n.TV&&n.FD.oP(e("uViewportSizePx"),[b.x*n.FD.RE(),b.y*n.FD.RE()]),n.nU.forEach((function(r){n.FD.dP(i("aPos"),r.vertexBuff).dP(i("aMaskTextureCoord"),r.texCoordBuff).sP(t("uMaskTexture"),r.texture,0).xk(n.FD.gl.TRIANGLES,r.vertexBuffLen)})),!0})),g=rk.translate(g,-this.Jh.x,-this.Jh.y)),this.FD.zl(v).rP(v,(function(r,e,o,s){if(n.FD.OP(r("uMatrix"),g).uP(r("uIsHighlighted"),1===t||2===t?0:n.Ki).wI(r("uHighlightColorOffset"),1===t||2===t?Fr:n.rn).uP(r("uRenderEffectMask"),2===t?1:0),n.TV&&n.FD.oP(s("uViewportSizePx"),[b.x*n.FD.RE(),b.y*n.FD.RE()]),1===t)n.FD.IP(r("uFirstId"),i).Cz(o,1);else if(d)n.FD.wI(r("uColor"),d.getColor());else if(y&&n.mN){n.FD.oP(r("uCenter"),n.mN.center).oP(r("uDistance"),n.mN.distance).vP(r("uBounds"),n.mN.bounds).uP(r("uAspect"),n.mN.aspectRatio);for(var u=y.getColorStops(),a=0;a<u.length;a+=1)n.FD.wI(r("color_".concat(a)),u[a].color).uP(r("stop_".concat(a)),u[a].offset)}else if(A&&n.gN)for(n.FD.oP(r("uStartPoint"),n.gN.startPoint).oP(r("uEndPoint"),n.gN.endPoint).vP(r("uBounds"),n.gN.bounds),u=A.getColorStops(),a=0;a<u.length;a+=1)n.FD.wI(r("color_".concat(a)),u[a].color).uP(r("stop_".concat(a)),u[a].offset);return 1===t&&n.FD.dP(e("aPos"),n.FD.az).xk(n.FD.gl.TRIANGLES,6),1!==t&&n.nU.forEach((function(t){n.FD.dP(e("aPos"),t.vertexBuff).dP(e("aMaskTextureCoord"),t.texCoordBuff).sP(r("uMaskTexture"),t.texture,0).xk(n.FD.gl.TRIANGLES,t.vertexBuffLen)})),!0}))}return{idCount:1}},i.prototype.ll=function(t,i,n,r,e){return{}},i.prototype.ol=function(){return this.Rh()?Bs(this.rU):ps},i.prototype.al=function(){return this.Rh()&&this.oo?this.oo:o(0,0)},i.prototype.ai=function(){if(this.Rh()&&this.eU){var t=this.eU;return o(t.max.x-t.min.x,t.max.y-t.min.y)}return o(0,0)},i.prototype.cl=function(){var t=this;return this.nU.forEach((function(i){i.texCoordBuff&&t.FD.yP(i.texCoordBuff),i.vertexBuff&&t.FD.yP(i.vertexBuff)})),this.nU=[],this.cU&&this.cU.GD(this),this.sL=void 0,this.vU=void 0,this.dU=void 0,this},i.prototype.Fn=function(){return this.eU.max.x},i.prototype.On=function(){return this.eU.min.x},i.prototype.jn=function(){return this.eU.max.y},i.prototype.In=function(){return this.eU.min.y},i.prototype.sc=function(){return 0},i.prototype.uc=function(){return 0},i}($f),sk=function(){function t(t){this.BV=0,this.yU=null,this.nt=t}return t.prototype.AU=function(){return this.nt},t.prototype.bU=function(t,i,n,r){for(var e,o,s,u,a,h,f,c,l,v,d=this.yU,y=null,A=null,b=!1,p=!1;d&&(null===y&&(this.pU(t,i,null===(e=d.head)||void 0===e?void 0:e.px,null===(o=d.head)||void 0===o?void 0:o.py)?(y=d,b=!0):this.pU(t,i,null===(s=d.tail)||void 0===s?void 0:s.px,null===(u=d.tail)||void 0===u?void 0:u.py)&&(y=d)),null===A&&(this.pU(n,r,null===(a=d.head)||void 0===a?void 0:a.px,null===(h=d.head)||void 0===h?void 0:h.py)?(A=d,p=!0):this.pU(n,r,null===(f=d.tail)||void 0===f?void 0:f.px,null===(c=d.tail)||void 0===c?void 0:c.py)&&(A=d)),null==A||null==y);)d=d.next;switch((null!=y?1:0)|(null!=A?2:0)){case 0:var m={px:t,py:i,prev:null},g={px:n,py:r,next:null};m.next=g,g.prev=m,y={head:m,tail:g,next:this.yU,prev:null,closed:!1},this.yU&&(this.yU.prev=y),this.yU=y,++this.BV;break;case 1:var x={px:n,py:r};b?(x.next=y.head,x.prev=null,y.head.prev=x,y.head=x):(x.next=null,x.prev=y.tail,y.tail.next=x,y.tail=x);break;case 2:x={px:t,py:i},p?(x.next=A.head,x.prev=null,A.head.prev=x,A.head=x):(x.next=null,x.prev=A.tail,A.tail.next=x,A.tail=x);break;case 3:if(y===A){x={px:null===(l=y.tail)||void 0===l?void 0:l.px,py:null===(v=y.tail)||void 0===v?void 0:v.py,next:y.head,prev:null},y.head.prev=x,y.head=x,y.closed=!0;break}switch((b?1:0)|(p?2:0)){case 0:this.mU(y);case 1:A.tail.next=y.head,y.head.prev=A.tail,A.tail=y.tail,this.gU(y);break;case 3:this.mU(y);case 2:y.tail.next=A.head,A.head.prev=y.tail,y.tail=A.tail,this.gU(A)}}},t.prototype.gU=function(t){t.prev?t.prev.next=t.next:this.yU=t.next,t.next&&(t.next.prev=t.prev),--this.BV},t.prototype.xU=function(t,i,n){return void 0===n&&(n=1e-10),Math.abs(t-i)<Math.min(Math.abs(t),Math.abs(i))*n},t.prototype.pU=function(t,i,n,r){return!!(t&&i&&n&&r)&&this.xU(t,n)&&this.xU(i,r)},t.prototype.mU=function(t){for(var i=t.head;i;){var n=i.next;i.next=i.prev,i.prev=n,i=n}n=t.head,t.head=t.tail,t.tail=n},t}(),uk=function(){function t(t){this.h=new Array(5),this.sh=new Array(5),this.xh=new Array(5),this.yh=new Array(5),this.contours={},t&&(this.SU=t)}return t.prototype.wU=function(t,i,n,r){var e=i.length-1,o=n.length-1,s=this.h,u=this.sh,a=this.xh,h=this.yh,f=r.length;this.contours={};for(var c,l,v,d,y,A=function(t,i){return(s[i]*a[t]-s[t]*a[i])/(s[i]-s[t])},b=function(t,i){return(s[i]*h[t]-s[t]*h[i])/(s[i]-s[t])},p=0,m=0,g=0,x=0,S=[0,1,1,0],w=[0,0,1,1],M=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],C=o-1;C>=0;C--)for(var T=0;T<e;T++){var k=t(T,C),_=t(T+1,C),O=t(T,C+1),F=t(T+1,C+1),I=Math.min(O,k),j=Math.min(F,_);if(d=Math.min(I,j),I=Math.max(O,k),j=Math.max(F,_),!((y=Math.max(I,j))<r[0]&&d>r[f-1]))for(var B=0;B<f;B++)if(r[B]>=d&&r[B]<=y){for(var D=4;D>=0;D--)D>0?(s[D]=t(T+S[D-1],C+w[D-1])-r[B],a[D]=i[T+S[D-1]],h[D]=n[C+w[D-1]]):(s[0]=.25*(s[1]+s[2]+s[3]+s[4]),a[0]=.5*(i[T]+i[T+1]),h[0]=.5*(n[C]+n[C+1])),s[D]>1e-10?u[D]=2:s[D]<-1e-10?u[D]=0:u[D]=1;for(D=1;D<=4;D++)if(l=4!=D?D+1:1,0!=(v=M[u[c=D]][u[0]][u[l]])){switch(v){case 1:p=a[c],g=h[c],m=a[0],x=h[0];break;case 2:p=a[0],g=h[0],m=a[l],x=h[l];break;case 3:p=a[l],g=h[l],m=a[c],x=h[c];break;case 4:p=a[c],g=h[c],m=A(0,l),x=b(0,l);break;case 5:p=a[0],g=h[0],m=A(l,c),x=b(l,c);break;case 6:p=a[l],g=h[l],m=A(c,0),x=b(c,0);break;case 7:p=A(c,0),g=b(c,0),m=A(0,l),x=b(0,l);break;case 8:p=A(0,l),g=b(0,l),m=A(l,c),x=b(l,c);break;case 9:p=A(l,c),g=b(l,c),m=A(c,0),x=b(c,0)}this.SU(p,g,m,x,r[B],B)}}}},t.prototype.SU=function(t,i,n,r,e,o){var s=this.contours[o];s||(s=this.contours[o]=new sk(e)),s.bU(t,i,n,r)},Object.defineProperty(t.prototype,"MU",{get:function(){var t=[],i=this.contours;for(var n in i)for(var r=i[n].yU,e=i[n].nt;r;){var o=r.head,s=[];for(s.ax=[],s.ay=[],s.level=e,s.k=n;o&&o.px&&o.py;)s.ax.push(o.px),s.ay.push(o.py),o=o.next;t.push(s),r=r.next}return t.sort((function(t,i){return t.length-i.length})),t},enumerable:!1,configurable:!0}),t}(),ak=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hk=function(){return hk=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},hk.apply(this,arguments)},fk=function(t){function i(i,n,r,e,o,s){var u=t.call(this,i,n,r,e,o)||this;u.CU=l("bilinear"),u.TU=l(void 0),u.kU=!0,u.ht={x:0,y:0},u.ct={x:1,y:1},u.Vp=Nf.lineStyle,u._U=l(void 0),u.engine=i;var a="columns"===s.dataOrder?s.columns:s.rows,h="columns"===s.dataOrder?s.rows:s.columns;return u.ih=hk(hk({},s),{primaryDimensionVectorsCount:a,secondaryDimensionVectorsCount:h}),u.OU=new uk,u}return ak(i,t),i.prototype.Qp=function(t){return this.CU.C(t),this},i.prototype.Kp=function(){return this.CU.T()},i.prototype.nw=function(t){return this.TU.C(t),this},i.prototype.rw=function(){return this.TU.T()},i.prototype.Wp=function(t,i){return this.kU=this.ht!=t||this.ct!=i,this.ht=t,this.ct=i,this},i.prototype.Xp=function(){return{start:this.ht,step:this.ct,end:{x:this.ht.x+this.ct.x*this.ih.columns,y:this.ht.y+this.ct.y*this.ih.rows}}},i.prototype.Rp=function(t){return this.Vp="function"==typeof t?t(this.Vp):t,this},i.prototype.Jp=function(){return this.Vp},i.prototype.Hp=function(t){return this._U.C(t),this},i.prototype.Zp=function(){return this._U.T()},i}(Qf),ck=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lk=function(){return lk=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},lk.apply(this,arguments)},vk=function(t){function i(i,n,r,e,o,s){var u=t.call(this,i,n,r,e,o,s)||this;u.rL=new rC,u.bV={},u.FU=[],u.IU=!1,u.Ef=!1,u.lN=Ua({fillStyleSolid:function(){return Ou(u.Oe)&&u.Oe},fillStylePaletted:function(){return Bu(u.Oe)&&u.Oe},wireframeStyleLine:function(){return ka(u.Vp)&&u.Vp},wireframeStyleFill:function(){var t=u.Vp&&u.Vp.getFillStyle();return Ou(t)&&t}}),u.jU=void 0,u.BU=wb,u.eN=i,u.oN=n,u.FD=i.sN(),u.oN=n;var a=Math.min(u.FD.jD,void 0!==s.KS?s.KS:2048),h={x:Math.min(a,u.ih.primaryDimensionVectorsCount),y:Math.min(a,u.ih.secondaryDimensionVectorsCount)},f=function(t,i,n){var r,e=[],o=n(t.primaryDimensionVectorsCount,i.x),s=n(t.secondaryDimensionVectorsCount,i.y);return o.forEach((function(t){return s.forEach((function(i){var n={iFirstVector:{primary:t.start,secondary:i.start},iFirstUniqueVector:{primary:t.startUnique,secondary:i.startUnique},sizeHeatmapDataVectors:{primary:t.sizeData,secondary:i.sizeData},sizeUniqueHeatmapDataVectors:{primary:t.sizeUniqueData,secondary:i.sizeUniqueData}};e.push(n)}))})),r=[],e.forEach((function(t){var i=r.find((function(i){return i.sizeHeatmapData.primary===t.sizeHeatmapDataVectors.primary&&i.sizeHeatmapData.secondary===t.sizeHeatmapDataVectors.secondary}));i||(i={sizeHeatmapData:t.sizeHeatmapDataVectors,tiles:[]},r.push(i)),i.tiles.push(t)})),{gridTiles:e,gridTileSizes:r}}(u.ih,h,u.BU),c=f.gridTiles.map((function(t){return lk(lk({},t),{intensityData:void 0,hasIntensityData:!1})})),l=f.gridTileSizes.map((function(t){return lk(lk({},t),{tiles:c.filter((function(i){return i.sizeHeatmapDataVectors.primary===t.sizeHeatmapData.primary&&i.sizeHeatmapDataVectors.secondary===t.sizeHeatmapData.secondary}))})}));return u.DU={gridTiles:c,gridTileSizes:l},u.Wp(u.ht,u.ct),u.LU=[],u.EU=new jv((function(){var t=new $T(u.eN,u.oN,u.Yi,io);return t.Sv(Cu).xv(Cu),t})),u.PU=[],u.zU=new jv((function(){var t=new ok(u.eN,u.oN,u.Yi,io,[]);return t.wf({x:0,y:0}),t})),u}return ck(i,t),i.prototype.NU=function(){return this.FD.qi.Ka.QL},i.prototype.an=function(){return this.Pf},i.prototype.VU=function(t){return t.intensityData||(t.intensityData=new Float32Array(t.sizeHeatmapDataVectors.primary*t.sizeHeatmapDataVectors.secondary)),t.intensityData},i.prototype.RU=function(t,i){return 0<=t&&t<i?t:t<0?t%i+i:t%i},i.prototype.GU=function(t,i){var n=ee(t,this.Yi,this.oN.qi.Yi),r=ee(i,this.Yi,this.oN.qi.Yi),e=180*Math.atan2(n.y-r.y,r.x-n.x)/Math.PI;return(e<-90||90<e)&&(e+=180),e},i.prototype.UU=function(t,i,n,r){var e=iu(t,i,n,r);if(e){var o=Math.min(t.x,i.x,n.x,r.x),s=Math.max(t.x,i.x,n.x,r.x),u=Math.min(t.y,i.y,n.y,r.y),a=Math.max(t.y,i.y,n.y,r.y);if(e.x<=o||s<=e.x||e.y<=u||a<=e.y)return}return e},i.prototype.YU=function(t,i,n,r){var e=this;if(i.length<5)return{labelPos:[{x:NaN,y:NaN}],labelAngle:[Number.NaN]};void 0===this.jU&&(this.jU=new ok(this.eN,this.oN,this.Yi,this.$i,[]));var o=t.labelFont,s=this.jU.Os(r).$o(0).qo(o).ds().ai().x;Number.isNaN(s)&&(this.jU.dispose(),this.jU=new ok(this.eN,this.oN,this.Yi,this.$i,[]),s=this.jU.Os(r).$o(0).qo(o).ds().ai().x);for(var u=this.jU,a=this.Yi.x.It,h=this.Yi.x.jt,f=this.Yi.y.It,c=this.Yi.y.jt,l={x:a,y:f},v={x:h,y:c},d=[{x:l.x,y:l.y},{x:l.x,y:v.y}],y=[{x:l.x,y:v.y},{x:v.x,y:v.y}],A=[{x:v.x,y:l.y},{x:v.x,y:v.y}],b=[{x:l.x,y:l.y},{x:v.x,y:l.y}],p={x:i[0],y:n[0]},m={x:i[1],y:n[1]},g=[],x=l.x,S=v.x,w=l.y,M=v.y,C=function(t,i,n,r){var o=Ps(t,l,v),s=Ps(i,l,v);if(o&&s)return r?(n.push(t),n.push(i),!1):(n.push(i),!1);if(!o&&!s&&(t.x<x&&i.x<x||t.y<w&&i.y<w||S<t.x&&S<i.x||M<t.y&&M<i.y))return!(0<n.length&&0==isNaN(n[n.length-1].x)&&(n.push({x:NaN,y:NaN}),0));var u=e.UU(d[0],d[1],t,i),a=e.UU(y[0],y[1],t,i),h=e.UU(A[0],A[1],t,i),f=e.UU(b[0],b[1],t,i),c=[];if(u&&c.push(u),a&&c.push(a),h&&c.push(h),f&&c.push(f),1==c.length){if(o)r&&n.push(t),n.push(i),n.push({x:NaN,y:NaN});else if(s)return n.push(t),n.push(i),!1}else 2==c.length&&(0<n.length&&0==isNaN(n[n.length-1].x)&&n.push({x:NaN,y:NaN}),n.push(c[0]),n.push(c[1]),n.push({x:NaN,y:NaN}));return!0},T=C(p,m,g,!0),k=4*this.Yi.x.getPixelSize()/2,_=2;_<i.length;_++)m={x:i[_],y:n[_]},k<=Math.abs(m.x-p.x)+Math.abs(m.y-p.y)&&(T=C(p,m,g,T),p=m);var O=g.length;if(O<2)return{labelPos:[{x:NaN,y:NaN}],labelAngle:[Number.NaN]};p={x:i[i.length-1],y:n[n.length-1]},Ps(p,l,v)&&p.x==g[0].x&&p.y==g[0].y&&g.push(g[0]);var F=[],I=[],j=0;for(_=j+1;_<2*O;_++){var B=this.RU(_,O);if(O<_&&s<this.nd(g[B],g[0]))break;var D=this.RU(j,O);if(isNaN(g[D].x))0<F.length&&(I.push(F),F=[]),_=++j;else{var L=isNaN(g[B].x);if(L)0<F.length&&(I.push(F),F=[]),j=++_;else if(g[B].x<l.x+0||v.x-0<g[B].x||g[B].y<l.y+0||v.y-0<g[B].y)j=++_;else if(s<this.nd(g[B],g[D])){for(var E=g[D],P=g[B],z=Number.MIN_VALUE,N=j+1;N<_-1;N++){var V=this.RU(N,O);if(isNaN(g[V].x))break;if(z==Number.MIN_VALUE||!(g[V].x<l.x+0||v.x-0<g[V].x||g[V].y<l.y+0||v.y-0<g[V].y)){var R=Fs({x:g[V].x,y:g[V].y},E,P);z<R&&(z=R)}}if(z!=Number.MIN_VALUE&&(F.push({x:z,y:D,z:B}),O<=_&&0<=D))break;_=++j}else L&&(_=++j)}}m={x:0,y:0};var G=-1,U=[],Y=[];I.length<1&&0<F.length&&I.push(F);var W=function(t){(F=I[t]).sort((function(t,i){return t.x-i.x})),G=F[0].y;var r=0,s=F[0].z;X.PU.forEach((function(t,a){var h=u.Ee({x:t.position.x,y:t.position.y}).$o(t.angle).qo(t.font).ds().ol();if(!isNaN(h.min.x)){var f=G,c=s;if(g[f]&&g[c]&&!isNaN(g[f].x)&&!isNaN(g[c].x))for(var l=e.GU(g[f],g[c]),v=u.Ee({x:i[G],y:n[G]}).$o(l).qo(o).ds().ol();xs(h,v)&&r<F.length-1;)if(f=F[++r].y,c=F[r].z,g[f]&&g[c]&&!isNaN(g[f].x)&&!isNaN(g[c].x)){var d=(g[f].x+g[c].x)/2,y=(g[f].y+g[c].y)/2;l=e.GU(g[f],g[c]),v=u.Ee({x:d,y:y}).$o(l).qo(o).ds().ol()}}})),F.length<=r&&(r=0);var a=F[r].y,h=F[r].z,f=0;3<(f=a<h?h-a:O-a+h)&&(f-=2),G=a;var c=Number.NaN,l=Number.NaN;if(g[0].x==g[g.length-1].x&&g[0].y===g[g.length-1].y){G=a;var v=X.RU(a-1,g.length),d=X.RU(a+f,g.length);c=(g[v].x+g[d].x)/2,l=(g[v].y+g[d].y)/2}else if(a<4)a=G=3,h=X.RU(a+f+1,g.length),v=X.RU(a,g.length),d=X.RU(h,g.length),c=(g[v].x+g[d].x)/2,l=(g[v].y+g[d].y)/2;else{for(G=a-1;G<g.length&&isNaN(g[G].x);)++G;if(G==g.length)for(;G<g.length&&isNaN(g[G].x);)++G;v=X.RU(G,g.length),d=X.RU(G+f+1,g.length),c=(g[v].x+g[d].x)/2,l=(g[v].y+g[d].y)/2}0<=G&&(p=g[a],m=g[h],U.push({x:c,y:l}),Y.push(X.GU(p,m)))},X=this;for(_=0;_<I.length;_++)W(_);return 0<=U.length?{labelPos:U,labelAngle:Y}:{labelPos:[{x:NaN,y:NaN}],labelAngle:[Number.NaN]}},i.prototype.nd=function(t,i){var n=t.x-i.x,r=t.y-i.y;return Math.sqrt(n*n+r*r)},i.prototype.WU=function(t,i){var n=this;if(!this.DU)return this;if(!t)return this.XU(!0),this.HU(!0),this;if(!i)return(this.Yi.x.yi||this.Yi.x.li||this.Yi.y.yi||this.Yi.y.li)&&this.ZU(t),this;if(!this.DU.gridTiles)return this;if(!this.JU)return this;var r=this.JU.boundaries.min.x,e=this.JU.boundaries.min.y,o=this.JU.boundaries.max.x,s=this.JU.boundaries.max.y;if(null==r||null==e||null==o||null==s)return this;var u=this.ih.columns,a=this.ih.rows,h=(o-r)/u,f=(s-e)/a,c=new Array(u).fill(0,0,u).map((function(t,i){return r+i*h+h/2})),l=new Array(a).fill(0,0,a).map((function(t,i){return e+i*f+f/2})),v=[];return t.levels.forEach((function(t){v.push(t.value)})),this.OU.wU((function(t,i){return n.QU(function(t,i){return"rows"==n.ih.dataOrder?i:t}(t,i),function(t,i){return"rows"==n.ih.dataOrder?t:i}(t,i))}),c,l,v),this.KU(t),this.ZU(t),this},i.prototype.KU=function(t){var i=this;this.XU();var n=new Map;return t.levels.forEach((function(t){n.set(t.value,t.strokeStyle)})),this.OU.MU.forEach((function(t){var r=t.level,e=n.get(r),o=i.LU.find((function(t){return t.lineStyle===e}));if(o)o.points.appendSample({xValues:NaN,yValues:NaN}),o.points.appendSamples({xValues:t.ax,yValues:t.ay});else{var s=new Mc({warnings:!1,schema:{xValues:{pattern:null},yValues:{pattern:null}}});s.appendSamples({xValues:t.ax,yValues:t.ay});var u={lineStyle:e,points:s};i.LU.push(u)}})),this},i.prototype.ZU=function(t){var i=this;this.HU();var n=Bu(this.Oe)?this.Oe.lut:void 0;return this.OU.MU.forEach((function(r){var e,o,s,u,a=[],h=[],f=r.k,c=t.levels[f],l=null!==(s=null!==(o=c.label)&&void 0!==o?o:null==n?void 0:n.getFormatter()(c.value,{min:n.min,max:n.max}))&&void 0!==s?s:c.value.toString();if(t.showLabels&&(a=(e=i.YU(t.levels[f],r.ax,r.ay,l)).labelPos,h=e.labelAngle,0<a.length))for(var v=0;v<a.length;v++)i.PU.push({text:l,position:a[v],angle:h[v],font:c.labelFont,fill:c.labelFillStyle,shadow:null!==(u=t.shadows)&&void 0!==u?u:void 0})})),this},i.prototype.ds=function(){var t=this,i=this.FU,n=this.Oe,r=this.zh(),e=this.Vp,o=e!==this.qU,s=this.lN.wireframeStyleLine(o),u=this.lN.wireframeStyleFill(o),a=s&&u&&!this.Yi.Si(),h=this.lN.fillStylePaletted(r),f=this.lN.fillStyleSolid(r),c=this.CU.o,l=this.TU.o,v=this.CU.T(),d=this.Ef,y=this.Xi.T();this.$U=this.$U||this.tY();var A=this.$U,b=Cb(i,A,d?"intensity":void 0,(function(t){return t.sizeHeatmapDataVectors})),p=this._U.T(),m=p!==this.iY;this.WU(p,m||b.size>0||this.kU),this.iY=this._U.T(),this.kU=!1,b.size>0&&(Fb(this.FD,b,(function(i){return t.VU(i.tileData)}),(function(t){return t.intensityDataTexture})),this.IU=!0),this.rL.cP(this.Yi);var g=this.bV;if((r||c||l)&&(g.tile=h?{renderMode:"paletted",fillStylePaletted:h,shader:this.FD.rE(rM["2D"],rM.ColorGrid2D({heatmapType:"intensity",interpolation:"bilinear"===v&&"bilinear",flipXY:"rows"===this.ih.dataOrder,intensityTextureType:this.FD.qL?"float":"ubyte",littleEndian:this.FD.IS_MACHINE_LITTLE_ENDIAN,lut:h.lut,aggregation:this.TU.T()}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0}))}:f?{renderMode:"solid",fillStyleSolid:f,shader:this.FD.rE(rM["2D"],rM.Color({dataType:"uniform"}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0}))}:void 0),o&&(g.wireframe=a&&s&&u?-1===s.getThickness()?{renderMode:"primitive",shader:this.FD.rE(rM["2D"],rM.Color({dataType:"uniform"}),rM.VertexLocation({translation:{dataType:"uniform",sizeUnit:"axis"},scaling:{dataType:"uniform"},flipXY:"rows"===this.ih.dataOrder,axisWorldTranslation:Ra(this.Yi),normalSource:void 0})),fillStyleSolid:u}:{renderMode:"triangulated",shader:this.FD.rE(rM["2D"],rM.Color({dataType:"uniform"}),rM.LineInstanced2D({translation:{dataType:"uniform",sizeUnit:"axis"},scaling:{dataType:"uniform"},flipXY:"rows"===this.ih.dataOrder,axisWorldTranslation:Ra(this.Yi),normalSource:void 0})),geometry:OC(this.FD,1),solidLine:s,fillStyleSolid:u}:void 0,g.wireframe?this.nY=this.nY||this.rY():this.nY&&(this.FD.yP(this.nY.wireframeCoordinatesBuffer),this.nY=void 0)),g.mousePicking=y?this.bV.mousePicking||{shader:this.FD.rE(rM["2D"],rM.MousePicking(),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0}))}:void 0,this.bV=g,void 0===this.Pf&&h&&"value"===h.lookUpProperty&&h.lut.percentageValues){var x=As,S=bs;this.$U.gridTiles.forEach((function(i){for(var n=t.VU(i.tileData),r=0;r<n.length;r+=1){var e=n[r];e<x&&(x=e),e>S&&(S=e)}})),this.Pf={min:x,max:S}}return this.Ef=!1,this.FU.length=0,this.Gh(n),this.qU=e,this.CU.o=!1,this.TU.o=!1,this},i.prototype.tY=function(){var t=this,i=this.DU.gridTiles.map((function(i){var n=Ob(t.FD,i.sizeHeatmapDataVectors.secondary,i.sizeHeatmapDataVectors.primary);return lk(lk({},i),{intensityDataTexture:n,tileData:i})})),n=this.DU.gridTileSizes.map((function(t){return lk(lk({},t),{tiles:i.filter((function(i){return i.sizeHeatmapDataVectors.primary===t.sizeHeatmapData.primary&&i.sizeHeatmapDataVectors.secondary===t.sizeHeatmapData.secondary}))})})),r=this.FD.iP(new Float32Array(16)),e=this.FD.gl.TRIANGLE_STRIP;return{gridTiles:i,gridTileSizes:n,rectangleLocationsBuffer:r,rectangleLocationsDrawMode:e,rectangleLocationsDrawLength:4}},i.prototype.rY=function(){for(var t=this.ih.primaryDimensionVectorsCount+1+this.ih.secondaryDimensionVectorsCount+1,i=new Float32Array(4*t),n=0,r=0;r<this.ih.primaryDimensionVectorsCount+1;r+=1)i[n+0]=r,i[n+1]=0,i[n+2]=r,i[n+3]=this.ih.secondaryDimensionVectorsCount,n+=4;for(var e=0;e<this.ih.secondaryDimensionVectorsCount+1;e+=1)i[n+0]=0,i[n+1]=e,i[n+2]=this.ih.primaryDimensionVectorsCount,i[n+3]=e,n+=4;return{wireframeCoordinatesBuffer:this.FD.iP(i),wireframeSegmentsLength:t}},i.prototype.Wp=function(i,n){var r=this;t.prototype.Wp.call(this,i,n);var e=this.ih,o=f({x:Math.min(this.ht.x,this.ht.x+e.columns*this.ct.x),y:Math.min(this.ht.y,this.ht.y+e.rows*this.ct.y)},{x:Math.max(this.ht.x,this.ht.x+e.columns*this.ct.x),y:Math.max(this.ht.y,this.ht.y+e.rows*this.ct.y)}),s=new Map;return this.DU.gridTiles.forEach((function(t){var i="columns"===r.ih.dataOrder?{x:r.ht.x+r.ct.x*t.iFirstVector.primary,y:r.ht.y+r.ct.y*t.iFirstVector.secondary}:{x:r.ht.x+r.ct.x*t.iFirstVector.secondary,y:r.ht.y+r.ct.y*t.iFirstVector.primary},n="columns"===r.ih.dataOrder?{x:r.ct.x*t.sizeHeatmapDataVectors.primary,y:r.ct.y*t.sizeHeatmapDataVectors.secondary}:{x:r.ct.x*t.sizeHeatmapDataVectors.secondary,y:r.ct.y*t.sizeHeatmapDataVectors.primary},e="columns"===r.ih.dataOrder?{x:r.ht.x+r.ct.x*t.iFirstUniqueVector.primary,y:r.ht.y+r.ct.y*t.iFirstUniqueVector.secondary}:{x:r.ht.x+r.ct.x*t.iFirstUniqueVector.secondary,y:r.ht.y+r.ct.y*t.iFirstUniqueVector.primary},o="columns"===r.ih.dataOrder?{x:r.ct.x*t.sizeUniqueHeatmapDataVectors.primary,y:r.ct.y*t.sizeUniqueHeatmapDataVectors.secondary}:{x:r.ct.x*t.sizeUniqueHeatmapDataVectors.secondary,y:r.ct.y*t.sizeUniqueHeatmapDataVectors.primary};s.set(t,{startLocationAxis:i,sizeAxis:n,startRenderLocationAxis:e,renderSizeAxis:o})})),this.JU={boundaries:o,tilesInfo:s},this},i.prototype.fl=function(t,i){var n,r,e=this,o=this.$U,s=this.JU;if(this.TU.T()&&"bilinear"===this.CU.T())return Qe.console.warn("LightningChart JS error | heatmap has both bilinear interpolation and aggregation enabled at same time. Disable one of them"),{idCount:0};var u=1===t?null===(n=this.bV.mousePicking)||void 0===n?void 0:n.shader:null===(r=this.bV.tile)||void 0===r?void 0:r.shader;if(this.bV.tile&&u&&o&&s){var a=u,h=this.bV.tile,f={x:(s.boundaries.max.x-s.boundaries.min.x)*Math.sign(this.ct.x),y:(s.boundaries.max.y-s.boundaries.min.y)*Math.sign(this.ct.y)},c={x:f.x/this.ih.columns,y:f.y/this.ih.rows},l=this.Yi.Gi(),v={x:c.x/l.x,y:c.y/l.y};this.FD.zl(a).rP(a,(function(n,r,u,a){var f,c,l=!1;if(!e.FD.Lz(u,t,e,{uniforms:e.rL,idFirst:i,fillStyleSolid:"solid"===h.renderMode&&h.fillStyleSolid}))return!1;if("solid"===h.renderMode||1===t){var d=Co([{x:e.ht.x,y:e.ht.y},{x:e.ht.x+e.ct.x*e.ih.columns,y:e.ht.y},{x:e.ht.x,y:e.ht.y+e.ct.y*e.ih.rows},{x:e.ht.x+e.ct.x*e.ih.columns,y:e.ht.y+e.ct.y*e.ih.rows}],e.Yi.Si());e.FD.LP(o.rectangleLocationsBuffer,0,d),e.FD.pz(u,o.rectangleLocationsBuffer,e.Yi.Si(),void 0).xk(e.FD.gl.TRIANGLE_STRIP,4),l=!0}else if("paletted"===h.renderMode){if(e.FD.jz(u,h.fillStylePaletted.lut,e.Pf),e.TU.T()){var y=v.x<1?Math.max(Math.ceil(.5/v.x),1):0,A=v.y<1?Math.max(Math.ceil(.5/v.y),1):0;e.FD.oP(n("uAggregationWindowSize"),[y,A])}f=function(t){e.FD.oP(n("uTileDimensions"),["columns"===e.ih.dataOrder?t.sizeHeatmapData.primary:t.sizeHeatmapData.secondary,"columns"===e.ih.dataOrder?t.sizeHeatmapData.secondary:t.sizeHeatmapData.primary])},c=function(t,i){var r=s.tilesInfo.get(t.tileData);if(r){var a,h,f,c=e.FD.RE();a="bilinear"===e.CU.T()?[h=(e.Yi.x.pi(r.startLocationAxis.x)+v.x/2)*c,f=(e.Yi.y.pi(r.startLocationAxis.y)+v.y/2)*c,(e.Yi.x.pi(r.startLocationAxis.x+r.sizeAxis.x)-v.x/2)*c-h,(e.Yi.y.pi(r.startLocationAxis.y+r.sizeAxis.y)-v.y/2)*c-f]:[h=e.Yi.x.pi(r.startLocationAxis.x)*c,f=e.Yi.y.pi(r.startLocationAxis.y)*c,e.Yi.x.pi(r.startLocationAxis.x+r.sizeAxis.x)*c-h,e.Yi.y.pi(r.startLocationAxis.y+r.sizeAxis.y)*c-f];var d=Co([{x:r.startRenderLocationAxis.x,y:r.startRenderLocationAxis.y},{x:r.startRenderLocationAxis.x+r.renderSizeAxis.x,y:r.startRenderLocationAxis.y},{x:r.startRenderLocationAxis.x,y:r.startRenderLocationAxis.y+r.renderSizeAxis.y},{x:r.startRenderLocationAxis.x+r.renderSizeAxis.x,y:r.startRenderLocationAxis.y+r.renderSizeAxis.y}],e.Yi.Si());e.FD.LP(o.rectangleLocationsBuffer,0,d),e.FD.vP(n("uTileBounds"),a).sP(n("uTileIntensityValues"),t.intensityDataTexture,1).pz(u,o.rectangleLocationsBuffer,e.Yi.Si(),void 0).xk(e.FD.gl.TRIANGLE_STRIP,4),l=!0}},o.gridTileSizes.forEach((function(t){f(t),t.tiles.forEach((function(t){c(t)}))}))}return 1===t&&e.FD.Cz(u,1),l}))}var d=this.nY,y=this.bV.wireframe,A=1===t||null==y?void 0:y.shader;if(d&&y&&A&&"primitive"===y.renderMode){var b=y.fillStyleSolid;this.FD.zl(A).rP(A,(function(i,n,r){return(e.Yi instanceof $r||e.Yi instanceof Va)&&e.FD.oP(i("uScale"),e.rL.aP()).oP(i("uDisp"),e.rL.hP()),e.FD.uP(i("uIsHighlighted"),1===t||2===t?0:e.Ki).wI(i("uHighlightColorOffset"),1===t||2===t?Fr:e.rn).uP(i("uRenderEffectMask"),2===t?1:0).wI(i("uColor"),b.getColor()).eP(d.wireframeCoordinatesBuffer,void 0,{location:n("aPos"),size:2}).oP(i("uScaling"),[e.ct.x,e.ct.y]).oP(i("uTranslationAxis"),[e.ht.x,e.ht.y]).xk(e.FD.gl.LINES,2*d.wireframeSegmentsLength),!0}))}else if(d&&y&&A&&"triangulated"===y.renderMode){var p=y.geometry,m=y.solidLine,g=y.fillStyleSolid;this.FD.zl(A).rP(A,(function(i,n,r){return(e.Yi instanceof $r||e.Yi instanceof Va)&&e.FD.oP(i("uScale"),e.rL.aP()).oP(i("uDisp"),e.rL.hP()),e.FD.uP(i("uIsHighlighted"),1===t||2===t?0:e.Ki).wI(i("uHighlightColorOffset"),1===t||2===t?Fr:e.rn).uP(i("uRenderEffectMask"),2===t?1:0).wI(i("uColor"),g.getColor()).uP(i("uThicknessPixels"),m.getThickness()).oP(i("uRatioPxClip"),[2/e.qi.ai().x,2/e.qi.ai().y]).eP(d.wireframeCoordinatesBuffer,1,{location:n("aLocationA"),size:2},{location:n("aLocationB"),size:2}).oP(i("uScaling"),[e.ct.x,e.ct.y]).oP(i("uTranslationAxis"),[e.ht.x,e.ht.y]),p.zl(r,!1).xk(d.wireframeSegmentsLength),!0}))}if(0===t){var x=this.NU()&&this.PU,S=this.FD,w=this.Yi.x.ki(),M=this.Yi.x.Ti(),C=this.Yi.y.ki(),T=this.Yi.y.Ti(),k=function(t,i,n){var r=i.position;return w<r.x&&r.x<M&&C<r.y&&r.y<T&&(n.add().Ee(r)._s(i.shadow).Os(i.text).$o(i.angle).qo(i.font).Be(i.fill).ds().fl(t,0),!0)},_=this.zU.Iy();x&&(function(t,i){if(void 0!==i){var n=t.gl;t.lP(!0),n.clearStencil(1),n.clear(n.STENCIL_BUFFER_BIT),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.REPLACE),n.stencilMask(255),n.colorMask(!1,!1,!1,!1),i(),n.colorMask(!0,!0,!0,!0)}}(S,(function(){e.PU.forEach((function(t){k(1,t,_)}))})),S.gl.stencilFunc(S.gl.EQUAL,1,255),S.gl.stencilOp(S.gl.KEEP,S.gl.KEEP,S.gl.KEEP),S.lP(!0));var O=this.EU.Iy();if(O){var F=O.add();this.LU.forEach((function(i){F.gv(i.points,{x:"xValues",y:"yValues"}),F.Ye(i.lineStyle),F.ds(),F.fl(t,0)}))}O.finishPlot(),x&&S.lP(!1),this.PU&&this.PU.forEach((function(i){k(t,i,_)})),_.finishPlot()}return{idCount:1}},i.prototype.ll=function(t,i,n,r,e){return{}},i.prototype.qp=function(t){var i=this;return 0===t.lengthPrimary||0===t.lengthSecondary||(this.FU.push(t),_b(this.DU.gridTiles,t,(function(t){return t.hasIntensityData=!0,i.VU(t)}),(function(t,i){t.hasIntensityData=!0,t.intensityData=i})),this.Pf=void 0),this},i.prototype.Sn=function(){return this.IU&&(this.DU.gridTiles.forEach((function(t){t.intensityData&&t.intensityData.fill(0),t.hasIntensityData=!1})),this.Ef=!0,this.IU=!1,this.Pf=void 0),this},i.prototype.XU=function(t){return void 0===t&&(t=!1),t&&this.EU.Dy(),this.LU.length=0,this},i.prototype.HU=function(t){return void 0===t&&(t=!1),t&&(this.zU.Dy(),this.jU&&(this.jU.dispose(),this.jU=void 0)),this.PU.length=0,this},i.prototype.dispose=function(){var i=this;t.prototype.dispose.call(this);var n=this.$U;n&&(n.gridTiles.forEach((function(t){i.FD.BD(t.intensityDataTexture)})),n.gridTiles.length=0,n.gridTileSizes.forEach((function(){})),n.gridTileSizes.length=0,this.FD.yP(n.rectangleLocationsBuffer)),this.$U=void 0;var r=this.nY;return r&&this.FD.yP(r.wireframeCoordinatesBuffer),this.nY=void 0,this.XU(!0),this.HU(!0),this.bV={},this},i.prototype.cl=function(){return this.dispose(),this},i.prototype.rv=function(t){var i=t,n="columns"===this.ih.dataOrder?i.x:i.y,r="columns"===this.ih.dataOrder?i.y:i.x,e="columns"===this.ih.dataOrder?this.ht.x:this.ht.y,o="columns"===this.ih.dataOrder?this.ht.y:this.ht.x,s=(n-e)/("columns"===this.ih.dataOrder?this.ct.x:this.ct.y),u=(r-o)/("columns"===this.ih.dataOrder?this.ct.y:this.ct.x);s=Math.floor(ro(s,0,this.ih.primaryDimensionVectorsCount-1)),u=Math.floor(ro(u,0,this.ih.secondaryDimensionVectorsCount-1));var a=this.QU(s,u),h="columns"===this.ih.dataOrder?{x:this.ht.x+(s+.5)*this.ct.x,y:this.ht.y+(u+.5)*this.ct.y}:{x:this.ht.x+(u+.5)*this.ct.x,y:this.ht.y+(s+.5)*this.ct.y},f="columns"===this.ih.dataOrder?s:u,c="columns"===this.ih.dataOrder?u:s;return{x:h.x,y:h.y,column:f,row:c,cellValue:a}},i.prototype.tw=function(t){var i=this.JU;if(!(!i||t.x<i.boundaries.min.x||t.x>i.boundaries.max.x||t.y<i.boundaries.min.y||t.y>i.boundaries.max.y)){var n=t,r="columns"===this.ih.dataOrder?n.x:n.y,e="columns"===this.ih.dataOrder?n.y:n.x,o="columns"===this.ih.dataOrder?this.ht.x:this.ht.y,s="columns"===this.ih.dataOrder?this.ht.y:this.ht.x,u="columns"===this.ih.dataOrder?this.ct.x:this.ct.y,a="columns"===this.ih.dataOrder?this.ct.y:this.ct.x,h=ro((r-o)/u-.5,0,this.ih.primaryDimensionVectorsCount-1),f=ro((e-s)/a-.5,0,this.ih.secondaryDimensionVectorsCount-1),c=ro(Math.ceil(h)-1,0,this.ih.primaryDimensionVectorsCount-1),l=ro(Math.ceil(f)-1,0,this.ih.secondaryDimensionVectorsCount-1),v={point:{x:c,y:l},value:this.QU(c,l)},d={point:{x:c,y:l+1},value:this.QU(c,l+1)},y={point:{x:c+1,y:l},value:this.QU(c+1,l)},A={point:{x:c+1,y:l+1},value:this.QU(c+1,l+1)},b=oa({x:h,y:f},v,d,y,A);if(void 0!==b){var p=ro(Math.floor(h+.5),0,this.ih.primaryDimensionVectorsCount-1),m=ro(Math.floor(f+.5),0,this.ih.secondaryDimensionVectorsCount-1),g="columns"===this.ih.dataOrder?p:m,x="columns"===this.ih.dataOrder?m:p,S=t;return{x:S.x,y:S.y,column:g,row:x,cellValue:b}}}},i.prototype.QU=function(t,i){for(var n=0;n<this.DU.gridTiles.length;n+=1){var r=this.DU.gridTiles[n];if(t>=r.iFirstVector.primary&&t<=r.iFirstVector.primary+r.sizeHeatmapDataVectors.primary-1&&i>=r.iFirstVector.secondary&&i<=r.iFirstVector.secondary+r.sizeHeatmapDataVectors.secondary-1){if(!r.intensityData)return 0;var e=t-r.iFirstVector.primary,o=i-r.iFirstVector.secondary,s=e*r.sizeHeatmapDataVectors.secondary+o;return r.intensityData[s]}}return 0},i.prototype.Fn=function(){var t;return(null===(t=this.JU)||void 0===t?void 0:t.boundaries.max.x)||0},i.prototype.On=function(){var t;return(null===(t=this.JU)||void 0===t?void 0:t.boundaries.min.x)||0},i.prototype.jn=function(){var t;return(null===(t=this.JU)||void 0===t?void 0:t.boundaries.max.y)||0},i.prototype.In=function(){var t;return(null===(t=this.JU)||void 0===t?void 0:t.boundaries.min.y)||0},i.prototype.sc=function(){return 0},i.prototype.uc=function(){return 0},i.prototype.iw=function(){var t=[];return this.DU.gridTiles.forEach((function(i){if(i.hasIntensityData&&i.intensityData){for(var n=new Array(i.sizeUniqueHeatmapDataVectors.primary).fill(0).map((function(t){return new Array(i.sizeUniqueHeatmapDataVectors.secondary).fill(0)})),r=0;r<i.sizeUniqueHeatmapDataVectors.primary;r+=1)for(var e=r*i.sizeHeatmapDataVectors.secondary,o=n[r],s=0;s<i.sizeUniqueHeatmapDataVectors.secondary;s+=1){var u=i.intensityData[e+s];o[s]=u}t.push({type:"intensity",startPrimary:i.iFirstUniqueVector.primary,startSecondary:i.iFirstUniqueVector.secondary,lengthPrimary:i.sizeUniqueHeatmapDataVectors.primary,lengthSecondary:i.sizeUniqueHeatmapDataVectors.secondary,values:n})}})),t},i}(fk),dk=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yk=function(t){function i(i,n,r,e,o,s){var u=t.call(this,i,n,r,e,o)||this;return u.ht={x:0,y:0},u.ct={x:1,y:1},u.TU=l(void 0),u.Vp=Nf.lineStyle,u.nl=l(void 0),u.CU=l("bilinear"),u.engine=i,u.ih=s,u}return dk(i,t),i.prototype.Wp=function(t,i){return this.ht=t,this.ct=i,this},i.prototype.Xp=function(){return{start:this.ht,step:this.ct}},i.prototype.nw=function(t){return this.TU.C(t),this},i.prototype.rw=function(){return this.TU.T()},i.prototype.Rp=function(t){return this.Vp="function"==typeof t?t(this.Vp):t,this},i.prototype.Jp=function(){return this.Vp},i.prototype.sw=function(t){return this.nl.C(t),this},i.prototype.eY=function(){return this.nl.T()},i.prototype.Qp=function(t){return this.CU.C(t),this},i.prototype.Kp=function(){return this.CU.T()},i}(Qf),Ak=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bk=function(){return bk=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},bk.apply(this,arguments)},pk=function(t){function i(i,n,r,e,o,s){var u=t.call(this,i,n,r,e,o,s)||this;return u.oY=0,u.uw=[],u.eN=i,u.oN=n,u.FD=i.sN(),u.oN=n,u.If="columns"===s.scrollDimension?f({x:u.ht.x,y:u.ht.y},{x:u.ht.x,y:u.ht.y+s.resolution*u.ct.y}):f({x:u.ht.x,y:u.ht.y},{x:u.ht.x+s.resolution*u.ct.x,y:u.ht.y}),u.sY={dataPerSegment:2048},u}return Ak(i,t),i.prototype.ds=function(){var t=this;this.bR||(this.tn.push({type:"DataPattern",args:{pattern:"columns"===this.ih.scrollDimension?this.ct.x>0?"ProgressiveX":"RegressiveX":this.ct.y>0?"ProgressiveY":"RegressiveY"}}),this.bR=new ZC(this.Yi,this));var i=this.bR.hR(this.uw,this.nl.T());if(i>0){for(var n=0;n<i;n+=1)this.uw[0].shape.dispose().cl(),this.uw.shift();"columns"===this.ih.scrollDimension?this.If.min.x=this.uw.length>0?this.uw[0].boundaries.min.x:As:this.If.min.y=this.uw.length>0?this.uw[0].boundaries.min.y:As}this.uw.forEach((function(i){return i.shape.nw(t.TU.T()).ds()}));var r=this.uw.reduce((function(t,i){var n,r;return t.min=Math.min(t.min,oo(null===(n=i.shape.Pf)||void 0===n?void 0:n.min,As)),t.max=Math.max(t.max,oo(null===(r=i.shape.Pf)||void 0===r?void 0:r.max,bs)),t}),{min:As,max:bs});return this.uw.forEach((function(t){t.shape.Pf=r})),this.nl.o=!1,this},i.prototype.fl=function(t,i){var n=0;return this.uw.forEach((function(r){var e=r.shape.fl(t,i+n).idCount;void 0!==e&&(n+=e)})),{idCount:n}},i.prototype.an=function(){if(0!==this.uw.length)return this.uw.reduce((function(t,i){var n=i.shape.an();return n?{min:Math.min(n.min,t.min),max:Math.max(n.max,t.max)}:t}),{min:As,max:bs})},i.prototype.ll=function(t,i,n,r,e){return{}},i.prototype.rm=function(t){if(0===t.length)return this;var i=0,n=this.sY.dataPerSegment,r=t.length;do{var e=this.uw[this.uw.length-1],o=e?n-(e.existingDataPointsCount+(e.hasJoint?1:0)):0,s=!1;if(!e||0===o){var u={columns:"columns"===this.ih.scrollDimension?n:this.ih.resolution,rows:"rows"===this.ih.scrollDimension?n:this.ih.resolution,heatmapDataType:this.ih.heatmapDataType,dataOrder:this.ih.scrollDimension},a="columns"===this.ih.scrollDimension?{x:this.ht.x+this.ct.x*this.oY,y:this.ht.y}:{x:this.ht.x,y:this.ht.y+this.ct.y*this.oY};this.uw.length>0&&(a="columns"===this.ih.scrollDimension?{x:a.x-1*this.ct.x,y:a.y}:{x:a.x,y:a.y-1*this.ct.y},s=!0);var h=new vk(this.eN,this.oN,this.Yi,io,[],u).Qp(this.CU.T()).Be(this.Oe).Rp(this.Vp).Wp(a,this.ct);e={shape:h,existingDataPointsCount:0,existingCoordinatesCount:0,allocatedCoordinatesCount:n,dataStartIndex:this.oY,hasJoint:!1,boundaries:{min:{x:h.On(),y:h.In()},max:{x:h.Fn(),y:h.jn()}}},this.uw.push(e),o=n-(s?1:0)}var f=r-i,c=Math.min(o,f),l=t.slice(i,i+c),v={type:"intensity",values:l,startPrimary:e.existingDataPointsCount+(e.hasJoint?1:0),startSecondary:0,lengthPrimary:c,lengthSecondary:this.ih.resolution};s&&(v.values.unshift(this.uY),v.lengthPrimary+=1,e.hasJoint=!0),e.shape.qp(v),e.existingDataPointsCount+=c,e.existingCoordinatesCount+=c+(s?1:0),this.uY=l[l.length-1],this.oY+=c,i+=c}while(i<r);return this.If.max="columns"===this.ih.scrollDimension?bk(bk({},this.If.max),{x:this.ht.x+this.oY*this.ct.x}):bk(bk({},this.If.max),{y:this.ht.y+this.oY*this.ct.y}),this},i.prototype.qp=function(t,i){if(i.length<=0)return this;var n=t,r=t+i.length-1,e=i[0].length;if(e<=0)return this;this.uw.forEach((function(t){var o=t.dataStartIndex,s=t.dataStartIndex+t.existingDataPointsCount-1;if(!(r<o||n>s)){var u=Math.max(n,o),a=Math.min(r,s),h=a-u+1,f=i.slice(u-n,a-n+1),c=n-o+(t.hasJoint?1:0),l={type:"intensity",startSecondary:0,lengthSecondary:e,startPrimary:c,lengthPrimary:h,values:f};t.shape.qp(l)}}));var o=this.oY-1;if(r>o){var s=r-o,u=i.slice(-s);if(u.length<s)for(var a=this.uY||new Array(e).fill(0),h=u.length;h<s;h+=1)u.unshift(a);this.rm(u)}return this},i.prototype.om=function(){return this.oY},i.prototype.Sn=function(){return this.uw.forEach((function(t){t.shape.dispose().cl()})),this.uw.length=0,this.If="columns"===this.ih.scrollDimension?f({x:this.ht.x,y:this.ht.y},{x:this.ht.x,y:this.ht.y+this.ih.resolution*this.ct.y}):f({x:this.ht.x,y:this.ht.y},{x:this.ht.x+this.ih.resolution*this.ct.x,y:this.ht.y}),this.oY=0,this.uY=void 0,this},i.prototype.Wp=function(i,n){var r=this;return t.prototype.Wp.call(this,i,n),this.uw.forEach((function(t,e){var o={x:i.x+("columns"===r.ih.scrollDimension?t.dataStartIndex*n.x:0),y:i.y+("rows"===r.ih.scrollDimension?t.dataStartIndex*n.y:0)};t.shape.Wp(o,n),t.boundaries={min:{x:t.shape.On(),y:t.shape.In()},max:{x:t.shape.Fn(),y:t.shape.jn()}}})),this.uw.length>0?this.If=Ls.apply(void 0,function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}([],function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(this.uw.map((function(t){return t.boundaries}))),!1)):this.If="columns"===this.ih.scrollDimension?f({x:this.ht.x,y:this.ht.y},{x:this.ht.x,y:this.ht.y+this.ih.resolution*this.ct.y}):f({x:this.ht.x,y:this.ht.y},{x:this.ht.x+this.ih.resolution*this.ct.x,y:this.ht.y}),this},i.prototype.Be=function(i){var n=this;return t.prototype.Be.call(this,i),this.uw.forEach((function(t){return t.shape.Be(n.Oe)})),this},i.prototype.Rp=function(i){var n=this;return t.prototype.Rp.call(this,i),this.uw.forEach((function(t){return t.shape.Rp(n.Vp)})),this},i.prototype.Qp=function(i){return t.prototype.Qp.call(this,i),this.uw.forEach((function(t){return t.shape.Qp(i)})),this},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.uw.forEach((function(t){return t.shape.dispose()})),this},i.prototype.setVisible=function(i){return t.prototype.setVisible.call(this,i),this.uw.forEach((function(t){return t.shape.setVisible(i)})),this},i.prototype.cl=function(){return this.uw.forEach((function(t){return t.shape.cl()})),this},i.prototype.rv=function(t){var i=this,n=ee(t,this.Yi,this.engine.Yi),r=this.uw.reduce((function(r,e){var o=e.shape.rv(t);if(o){var s=Os(ee(o,i.Yi,i.engine.Yi),n);if(void 0===r||s<r.distance)return{result:o,distance:s,segment:e}}return r}),void 0);if(r&&r.result){var e="columns"===this.ih.scrollDimension?r.result.column+r.segment.dataStartIndex:r.result.column,o="rows"===this.ih.scrollDimension?r.result.row+r.segment.dataStartIndex:r.result.row;if("columns"===this.ih.scrollDimension&&e>=this.oY||"rows"===this.ih.scrollDimension&&o>=this.oY)return;return{x:r.result.x,y:r.result.y,column:e,row:o,cellValue:r.result.cellValue}}},i.prototype.tw=function(t){var i=this,n=ee(t,this.Yi,this.engine.Yi),r=this.uw.reduce((function(r,e){var o=e.shape.tw(t);if(o){var s=Os(ee(o,i.Yi,i.engine.Yi),n);if(void 0===r||s<r.distance)return{result:o,distance:s,segment:e}}return r}),void 0);if(r&&r.result){var e="columns"===this.ih.scrollDimension?r.result.column+r.segment.dataStartIndex:r.result.column,o="rows"===this.ih.scrollDimension?r.result.row+r.segment.dataStartIndex:r.result.row;if("columns"===this.ih.scrollDimension&&e>=this.oY||"rows"===this.ih.scrollDimension&&o>=this.oY)return;return{x:r.result.x,y:r.result.y,column:e,row:o,cellValue:r.result.cellValue}}},i.prototype.Fn=function(){return this.If.max.x},i.prototype.On=function(){return this.If.min.x},i.prototype.jn=function(){return this.If.max.y},i.prototype.In=function(){return this.If.min.y},i.prototype.sc=function(){return 0},i.prototype.uc=function(){return 0},i.prototype.vn=function(i){return t.prototype.vn.call(this,i),this.uw.forEach((function(t){return t.shape.vn(i)})),this},i}(yk),mk=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gk=function(t){function i(i,n,r,e,o,s){var u=t.call(this,i,n,r,e,o)||this;return u.CU=l("bilinear"),u.Vp=Nf.lineStyle,u.ih=s,u}return mk(i,t),i.prototype.Qp=function(t){return this.CU.C(t),this},i.prototype.Kp=function(){return this.CU.T()},i.prototype.Rp=function(t){return this.Vp="function"==typeof t?t(this.Vp):t,this},i.prototype.Jp=function(){return this.Vp},i}(Qf),xk=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sk=function(t){function i(i,n,r,e,o,s){var u=t.call(this,i,n,r,e,o,s)||this;u.rL=new rC,u.bV={},u.lN=Ua({fillStyleSolid:function(){return Ou(u.Oe)&&u.Oe},fillStylePaletted:function(){return Bu(u.Oe)&&u.Oe}}),u.eN=i,u.oN=n,u.FD=i.sN(),u.oN=n,u.qS=new vk(u.eN,i.aY,i.Yi,io,[],{columns:s.sectors,rows:s.annuli,heatmapDataType:"intensity",dataOrder:"annuli"===s.dataOrder?"rows":"columns",KS:u.FD.jD}).Rp(Pe);var a=2*Math.PI/360,h=new Float32Array(724),f=0;h[f+0]=0,h[f+1]=0,f+=2;for(var c=0;c<=360;c+=1){var l=c*a,v=Math.cos(l),d=Math.sin(l);h[f+0]=v,h[f+1]=d,f+=2}return u.hY={vertexBuffer:u.FD.iP(h),drawMode:u.FD.gl.TRIANGLE_FAN,drawLength:362},u}return xk(i,t),i.prototype.ds=function(){var t=this.zh(),i=this.Oe,n=this.lN.fillStyleSolid(t),r=this.lN.fillStylePaletted(t),e=n||r,o=this.CU.T(),s=this.CU.o,u=this.Xi.T(),a=this.Xi.o;return this.rL.cP(this.Yi),this.qS.ds(),this.qS.$U?((t||s)&&(this.bV.fill=e?{shader:this.FD.rE(rM["2D"],rM.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:Ra(this.Yi),normalSource:void 0}),r&&rM.PolarHeatmap({interpolation:"bilinear"===o&&"bilinear",intensityTextureType:this.FD.qL?"float":"ubyte",littleEndian:this.FD.IS_MACHINE_LITTLE_ENDIAN,flipXY:"sectors"===this.ih.dataOrder,lut:r.lut}),n&&rM.PolarHeatmap({dataType:"uniform"})),fillStylePaletted:r,fillStyleSolid:n}:void 0),a&&(this.bV.mousePicking=u?{shader:this.FD.rE(rM["2D"],rM.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:Ra(this.Yi),normalSource:void 0}),rM.MousePicking())}:void 0),this.Gh(i),this.CU.o=!1,this.Xi.o=!1,this):this},i.prototype.fl=function(t,i){var n,r=this,e=this.hY,o=e.vertexBuffer,s=e.drawLength,u=e.drawMode,a=this.qS.$U;if(!this.bV.fill||!a)return{};var h=this.bV.fill,f=h.fillStylePaletted,c=h.fillStyleSolid,l=1===t?null===(n=this.bV.mousePicking)||void 0===n?void 0:n.shader:this.bV.fill.shader;if(!l)return{};var v,d=this.Yi.Ur(),y=Math.min(d.start,d.end),A=Math.max(d.start,d.end),b=Math.min(this.ih.amplitudeStart,this.ih.amplitudeStart+(this.ih.annuli-1)*this.ih.amplitudeStep),p=Math.max(this.ih.amplitudeStart,this.ih.amplitudeStart+(this.ih.annuli-1)*this.ih.amplitudeStep);return v=d.end>d.start?Math.min(p,A)-d.start:Math.max(b,y)-d.start,this.FD.zl(l).rP(l,(function(n,e,h,l){if(r.FD.oP(n("uScale"),r.rL.aP()).oP(n("uDisp"),r.rL.hP()).uP(n("uIsHighlighted"),1===t||2===t?0:r.Ki).wI(n("uHighlightColorOffset"),1===t||2===t?Fr:r.rn).uP(n("uRenderEffectMask"),2===t?1:0).oP(l("uViewportSize"),[r.eN.ai().x*r.FD.RE()/(1===t?r.qi.ih.eh:1),r.eN.ai().y*r.FD.RE()/(1===t?r.qi.ih.eh:1)]).oP(n("uScaling"),[v,v]).oP(n("uTranslationAxis"),[0,0]).eP(o,void 0,{location:e("aPos"),size:2}).uP(l("uAngleOffset"),r.Yi.Zr()%(2*Math.PI)).uP(l("uAngleDirection"),r.Yi.Xr()?1:-1).uP(l("uSectors"),r.ih.sectors).uP(l("uAnnuli"),r.ih.annuli),1===t)r.FD.IP(n("uFirstId"),i).Cz(h,1);else{if(f){var d=r.qS.Pf;r.FD.uP(n("uAmplitudeStart"),r.ih.amplitudeStart).uP(n("uAmplitudeStep"),r.ih.amplitudeStep).uP(n("uAmplitudeAxisStart"),r.Yi.Ur().start).uP(n("uAmplitudeAxisEnd"),r.Yi.Ur().end).jz(h,f.lut,d).sP(n("uTileIntensityValues"),a.gridTiles[0].intensityDataTexture,0)}c&&r.FD.wI(n("uColor"),c.getColor())}return r.FD.xk(u,s),!0})),{idCount:1}},i.prototype.an=function(){return this.qS.an()},i.prototype.ll=function(t,i,n,r,e){return{}},i.prototype.qp=function(t){return this.qS.qp(t),this},i.prototype.Sn=function(){return this.qS.Sn(),this},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.qS.dispose(),this.bV={},this.FD.yP(this.hY.vertexBuffer),this},i.prototype.cl=function(){return this.dispose(),this},i.prototype.Be=function(i){return t.prototype.Be.call(this,i),this.qS.Be(this.Oe),this},i.prototype.rv=function(t){var i=this.ih.amplitudeStart,n=this.ih.amplitudeStart+(this.ih.annuli-1)*this.ih.amplitudeStep,r=Math.min(i,n),e=Math.max(i,n);(t.angle<0||t.angle>360||t.amplitude<r||t.amplitude>e)&&(t.angle=ro(t.angle,0,360),t.amplitude=ro(t.amplitude,e,e));var o=Math.round((t.angle-0)/360*this.ih.sectors);o>=this.ih.sectors&&(o=0);var s=Math.round((t.amplitude-i)/(n-i)*(this.ih.annuli-1));return{iAnnulus:s,iSector:o,cellValue:this.QU(s,o),angle:o*(360/this.ih.sectors),amplitude:i+s*(n-i)/(this.ih.annuli-1)}},i.prototype.tw=function(t){var i=this.ih.amplitudeStart,n=this.ih.amplitudeStart+(this.ih.annuli-1)*this.ih.amplitudeStep,r=Math.min(i,n),e=Math.max(i,n);(t.angle<0||t.angle>360||t.amplitude<r||t.amplitude>e)&&(t.angle=ro(t.angle,0,360),t.amplitude=ro(t.amplitude,e,e));var o=(t.angle-0)/360*this.ih.sectors,s=(t.amplitude-i)/(n-i)*(this.ih.annuli-1),u=Math.floor(o),a=Math.floor(s),h={point:{x:a,y:u},value:this.QU(a,u)},f={point:{x:a,y:u+1},value:this.QU(a,u+1)},c={point:{x:a+1,y:u},value:this.QU(a+1,u)},l={point:{x:a+1,y:u+1},value:this.QU(a+1,u+1)},v=oa({x:s,y:o},h,f,c,l);if(void 0!==v)return{iAnnulus:a,iSector:u,cellValue:v,angle:t.angle,amplitude:t.amplitude}},i.prototype.QU=function(t,i){for(var n="annuli"===this.ih.dataOrder?t:i,r="annuli"===this.ih.dataOrder?i:t,e=0;e<this.qS.DU.gridTiles.length;e+=1){var o=this.qS.DU.gridTiles[e];if(n>=o.iFirstVector.primary&&n<=o.iFirstVector.primary+o.sizeHeatmapDataVectors.primary-1&&r>=o.iFirstVector.secondary&&r<=o.iFirstVector.secondary+o.sizeHeatmapDataVectors.secondary-1){var s=n-o.iFirstVector.primary,u=r-o.iFirstVector.secondary,a=s*o.sizeHeatmapDataVectors.secondary+u;return o.intensityData?o.intensityData[a]:0}}return 0},i.prototype.Fn=function(){return 0},i.prototype.On=function(){return 0},i.prototype.jn=function(){return 0},i.prototype.In=function(){return 0},i.prototype.sc=function(){return 0},i.prototype.uc=function(){return 0},i}(gk),wk=function(){function t(t,i,n){var r=this;this.pn=new Set,this.fY=function(t){return r.pn.add(t),t},this.cY=function(t){return r.pn.delete(t),t.cl(),r},this.qi=t,this.pu=i,this.lY=n}return t.prototype.aD=function(t){this.pn.delete(t)&&this.pn.add(t)},t.prototype.Ft=function(){var t,i;try{for(var n=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.pn),r=n.next();!r.done;r=n.next())r.value.cl().dispose()}catch(i){t={error:i}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}this.qi.Ja(this.pu)},t.prototype.vr=function(){return this.qi.vr(),this},t.prototype.Za=function(){return this.pu},t}(),Mk=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ck=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.vY=l(void 0),i.Bh=!1,i}return Mk(i,t),i.prototype.lg=function(t){return this.vY.C(t),this},i.prototype.UA=function(){return this.vY.T()},i}(wk),Tk=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kk=function(t){function i(i,n,r,e,o){var s=t.call(this,i,n,r,e,o)||this;return s.bV={fill:void 0,border:void 0},s.rL=new rC,s.If=ps,s.dY=!1,s.yY=!1,s.AY=!1,s.bY=!1,s.jv=[],s.pY=0,s.lN=Ua({rectangleStyleSolid:function(){return Ou(s.Oe)&&s.Oe},rectangleStyleImage:function(){return De(s.Oe)&&s.Oe},rectangleStyleRadialGradient:function(){return Nr(s.Oe)&&s.Oe},rectangleStyleLinearGradient:function(){return Rr(s.Oe)&&s.Oe},rectangleStylePaletted:function(){return Bu(s.Oe)&&s.Oe},rectangleStyleIndividual:function(){return Iu(s.Oe)&&s.Oe},lineStyleSolid:function(){return ka(s.Fe)&&s.Fe},lineStyleDashed:function(){return ja(s.Fe)&&s.Fe},lineStyleFilled:function(){var t=s.Fe&&s.Fe.getFillStyle();return Ou(t)&&t}}),s.eN=i,s.oN=n,s.FD=i.sN(),s.yV=s.FD.iz,s}return Tk(i,t),i.prototype.pa=function(){var t=this,i={ar:function(n){return t.kV(i,n)},vn:function(n){return t._V(i,n)},av:function(n,r,e,o){return t.mY(i,n,r,e,o)},uv:function(n){return t.gY(i,n)},Ax:function(n){return t.FR(i,n)},wI:function(n){return t.FV(i,n)},xY:0,SY:0,wY:0,MY:0,S:void 0,IR:void 0,Ki:0,Py:!0,jR:this.jv.length,CY:void 0};return this.jv.push(i),i},i.prototype.Sn=function(){return this.jv.length=0,this.dY=!0,this.qi.fn(this),this},i.prototype.wb=function(){return this.jv},i.prototype.Dv=function(t){var i=this.jv.indexOf(t);i>=0&&(this.jv.splice(i,1),this.dY=!0,this.qi.fn(this,t))},i.prototype.kV=function(t,i){return t.Py=i,this.dY=!0,t.Py||this.qi.fn(this,t),t},i.prototype._V=function(t,i){return t.Ki=i,this.bY=!0,t},i.prototype.mY=function(t,i,n,r,e){return t.xY=i,t.SY=n,t.wY=r,t.MY=e,this.dY=!0,t},i.prototype.gY=function(t,i){return t.CY=!0===(null==i?void 0:i.c_x1_y1)||!0===(null==i?void 0:i.c_x1_y2)||(null==i?void 0:i.c_x2_y1)||!0===(null==i?void 0:i.c_x2_y2)?i:void 0,this.dY=!0,t},i.prototype.FR=function(t,i){return t.S=i,this.yY=!0,t},i.prototype.FV=function(t,i){return t.IR=null==i?void 0:i.toUint32(),this.AY=!0,t},i.prototype.ds=function(){var t=this,i=this.Xi.T(),n=this.Xi.o,r=this.zh(),e=this.bY,o=this.dY,s=this.yY,u=this.AY,a=this.Fe,h=this.Uh(),f=this.jv.filter((function(t){return t.Py})),c=void 0!==this.jv.find((function(t){return t.CY})),l=this.Yi.Ni();c&&l&&(o=!0);var v=this.lN.rectangleStyleSolid(r),d=this.lN.rectangleStylePaletted(r),y=this.lN.rectangleStyleIndividual(r),A=this.lN.rectangleStyleRadialGradient(r),b=this.lN.rectangleStyleLinearGradient(r),p=this.lN.rectangleStyleImage(r),m=v||d||b||A||p||y,g=this.lN.lineStyleSolid(h),x=this.lN.lineStyleDashed(r),S=g||x,w=this.lN.lineStyleFilled(h),M=w,C=S&&Math.max(S.getThickness(),0);if(this.rL.cP(this.Yi),o&&(this.If=Ls.apply(void 0,function(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}([],function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(f.map((function(t){return Bs([{x:t.xY,y:t.SY},{x:t.wY,y:t.MY}])}))),!1))),o||h&&x){var T=[],k=[],_=[],O=0,F=0,I=[],j=0;if(c){var B=this.Yi instanceof $r?this.Yi.Gi():{x:1e-4,y:1e-4};this.pY=24;var D=Math.sign(this.Yi.x.jt-this.Yi.x.It),L=Math.sign(this.Yi.y.jt-this.Yi.y.It);f.forEach((function(t){var i,n,r,e,o,s=Math.sign(t.wY-t.xY),u=Math.sign(t.MY-t.SY),a={x:s===D?t.xY:t.wY,y:u===L?t.SY:t.MY},h={x:s===D?t.wY:t.xY,y:u===L?t.MY:t.SY},f=O,c=F,l=Math.abs((h.x-a.x)/B.x),v=Math.abs((h.y-a.y)/B.y),d=t.CY&&!0!==t.CY.skipTooSmallCheck&&Math.min(l,v)<2*t.CY.extent;T[f+0]=(t.xY+t.wY)/2,k[f+0]=(t.SY+t.MY)/2,_[c+0]=0,_[c+1]=0,T[f+1]=Number.NaN,k[f+1]=Number.NaN,_[c+2]=0,_[c+3]=0,O+=2,F+=4;for(var y=0;y<=3;y+=1){var A=0===y||3===y?h.x:a.x,b=0===y||1===y?h.y:a.y,p=A===t.xY&&b===t.SY?null===(i=t.CY)||void 0===i?void 0:i.c_x1_y1:A===t.wY&&b===t.SY?null===(n=t.CY)||void 0===n?void 0:n.c_x2_y1:A===t.xY&&b===t.MY?null===(r=t.CY)||void 0===r?void 0:r.c_x1_y2:null===(e=t.CY)||void 0===e?void 0:e.c_x2_y2,m=null===(o=t.CY)||void 0===o?void 0:o.extent;if(p&&m&&!d)for(var g=.5*y*Math.PI,x=0;x<5;x+=1){var S=g+x/4*.5*Math.PI,w=void 0,M=void 0;0===y?(w=Math.cos(S)-1,M=-1+Math.sin(S)):1===y?(w=1+Math.cos(S),M=Math.sin(S)-1):2===y?(w=1+Math.cos(S),M=1+Math.sin(S)):(w=-1+Math.cos(S),M=1+Math.sin(S)),T[O+0]=A,k[O+0]=b,_[F+0]=w*m,_[F+1]=M*m,O>1&&(I[j+0]=f,I[j+1]=O-1,I[j+2]=O,j+=3),O+=1,F+=2}else for(x=0;x<5;x+=1)T[O+0]=A,k[O+0]=b,_[F+0]=0,_[F+1]=0,I[j+0]=f,I[j+1]=O-1,I[j+2]=O,j+=3,O+=1,F+=2}I[j+0]=f,I[j+1]=f+2,I[j+2]=O-1,j+=3,T[O+0]=T[f+2],k[O+0]=k[f+2],_[F+0]=_[c+4],_[F+1]=_[c+5],T[O+1]=Number.NaN,k[O+1]=Number.NaN,_[F+2]=0,_[F+3]=0,O+=2,F+=4}))}else this.pY=6,f.forEach((function(t){T[O+0]=t.xY,k[O+0]=t.SY,_[F+0]=0,_[F+1]=0,T[O+1]=t.wY,k[O+1]=t.SY,_[F+2]=0,_[F+3]=0,T[O+2]=t.wY,k[O+2]=t.MY,_[F+4]=0,_[F+5]=0,T[O+3]=t.xY,k[O+3]=t.MY,_[F+6]=0,_[F+7]=0,T[O+4]=t.xY,k[O+4]=t.SY,_[F+8]=0,_[F+9]=0,T[O+5]=Number.NaN,k[O+5]=Number.NaN,_[F+10]=0,_[F+11]=0,I[j+0]=O+0,I[j+1]=O+1,I[j+2]=O+3,I[j+3]=O+1,I[j+4]=O+3,I[j+5]=O+2,O+=6,F+=12,j+=6}));if(this.TY=this.FD.iP(Mo(T,this.Yi.Si()),void 0,this.TY),this.kY=this.FD.iP(Mo(k,this.Yi.Si()),void 0,this.kY),this._Y=this.FD.iP(_,void 0,this._Y),this.OY=this.FD.zP(new Uint32Array(I),this.OY),this.FY=I.length,this.IY=O-1,x){for(var E=new Float32Array(2*T.length),P=0,z=0,N=0,V=T[0],R=k[0],G=0;G<T.length;G+=1){var U=T[G],Y=k[G];Number.isNaN(U)||(z+=Math.abs(U-V),N+=Math.abs(Y-R),V=U,R=Y),E[P]=z,E[P+1]=N,P+=2}this.pV=this.FD.iP(E,!1,this.pV)}this.jY=[T,k]}if((r||h||n)&&(this.bV.fill=m?{shader:this.FD.rE(rM["2D"],v&&rM.Color({dataType:"uniform"}),b&&rM.Color({dataType:["gradient",b]}),A&&rM.Color({dataType:["gradient",A]}),d&&rM.Color({dataType:["lookup",d.getLookUpProperty(),d.lut]}),y&&rM.Color({dataType:"attribute"}),p&&rM.Color({dataType:["image",p]}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0,offsets:[{directionVar:"aGeo",sizeUnit:"px",dataType:"attribute",useGeometry:!1}],splitPosAttribute:!0}),rM.AttributeHighlight),mousePicking:i?{shader:this.FD.rE(rM["2D"],rM.MousePicking({useAttribute:!0}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0,offsets:[{directionVar:"aGeo",sizeUnit:"px",dataType:"attribute",useGeometry:!1}],splitPosAttribute:!0}),rM.AttributeHighlight)}:void 0,fillStyleSolid:v,fillStyleLinearGradient:b,fillStyleRadialGradient:A,fillStylePaletted:d,fillStyleImage:p,fillStyleIndividual:y}:void 0,this.bV.border=S&&M&&"number"==typeof C&&0!==C?{shader:this.FD.rE(rM["2D"],rM.Color({dataType:"uniform"}),rM.LineInstanced2D({axisWorldTranslation:Ra(this.Yi),normalSource:void 0,offsets:[{directionVar:"aGeo",sizeUnit:"px",dataType:"attribute",useGeometry:!1}],splitPosAttribute:!0}),this.yV?rM.AliasedEdge:void 0,x&&rM.StippleTextureInstanced,rM.AttributeHighlight),geometry:OC(this.FD,C),mousePicking:i?{shader:this.FD.rE(rM["2D"],rM.MousePicking({useAttribute:!0}),rM.LineInstanced2D({axisWorldTranslation:Ra(this.Yi),normalSource:void 0,offsets:[{directionVar:"aGeo",sizeUnit:"px",dataType:"attribute",useGeometry:!1}],splitPosAttribute:!0}),x&&rM.StippleTextureInstanced,rM.AttributeHighlight)}:void 0,fillStyleSolid:w,lineStyleDashed:x,thickness:C}:void 0),e||o){var W=new Float32Array(f.length*this.pY);f.forEach((function(i,n){for(var r=0;r<t.pY;r+=1)W[n*t.pY+r]=i.Ki})),this.BY=this.FD.iP(W,!0,this.BY)}if(i){if(o||n){var X=new Float32Array(f.length*this.pY);f.forEach((function(i,n){for(var r=0;r<t.pY;r+=1)X[n*t.pY+r]=i.jR})),this.DY=this.FD.iP(X,!1,this.DY)}}else this.DY&&(this.FD.yP(this.DY),this.DY=void 0);if(s||o&&d&&"value"===d.getLookUpProperty()){var H=new Float32Array(f.length*this.pY),Z={min:As,max:bs};f.forEach((function(i,n){for(var r=void 0!==i.S?i.S:Ne,e=0;e<t.pY;e+=1)H[n*t.pY+e]=r;void 0!==i.S&&(Z.min=Math.min(Z.min,r),Z.max=Math.max(Z.max,r))})),this.zR=Z,this.LY=this.FD.iP(H,!1,this.LY)}if(u||o&&y){var J=new Uint32Array(f.length*this.pY),Q=y?y.getFallbackColor().toUint32():Or.toUint32();f.forEach((function(i,n){for(var r=void 0!==i.IR?i.IR:Q,e=0;e<t.pY;e+=1)J[n*t.pY+e]=r})),this.EY=this.FD.iP(J,!1,this.EY,Uint32Array)}return A?this.mN=GM(this.Qi||this.If,this.Yi,A.getPosition(),A.getExtent(),A.getShape(),this.FD.RE()):b?this.gN=UM(this.Qi||this.If,this.Yi,b.getAngle(!0),this.FD.RE()):(this.mN=void 0,this.gN=void 0),x?this.mV=this.FD._z(x.getPattern()):(this.pV&&(this.FD.yP(this.pV),this.pV=void 0),this.mV=void 0),this.RR=this.FD.Bz(this,this.RR,p,void 0,o||this.Yi.Ni(),(function(i,n,r){return t.GR(i,n,r,f)})),this.bY=!1,this.dY=!1,this.yY=!1,this.AY=!1,this.Xi.o=!1,this.Gh(this.Oe),this.Xh(a),this},i.prototype.fl=function(t,i){var n,r,e=this,o=this.bV,s=o.fill,u=o.border,a=this.TY,h=this.kY,f=this._Y,c=this.OY,l=this.FY,v=this.IY,d=this.BY,y=this.DY;if(!(d&&a&&h&&f))return{};if(s&&c&&l&&(A=1===t?null===(n=s.mousePicking)||void 0===n?void 0:n.shader:s.shader)&&this.FD.zl(A).rP(A,(function(n,r,o,u){return!!e.FD.Lz(o,t,e,{uniforms:e.rL,idFirst:i,fillStyleSolid:s.fillStyleSolid,fillStyleLinearGradient:s.fillStyleLinearGradient,fillStyleRadialGradient:s.fillStyleRadialGradient,fillStylePaletted:s.fillStylePaletted,fillStyleImage:s.fillStyleImage,fillStyleIndividual:s.fillStyleIndividual,linearGradientInfo:e.gN,radialGradientInfo:e.mN,texturedFillGLInfo:e.RR,colorBuffer:e.EY,lookupValueBuffer:e.LY,lookupValueRange:e.zR,highlightBuffer:d,coordsX:a,coordsY:h,coordsHighPrecision:e.Yi.Si(),mousePickingOffsetBuffer:y})&&(e.FD.eP(f,void 0,{location:r("aGeoAmount"),size:2}).WP(c),e.FD.HP(l,e.FD.gl.TRIANGLES,void 0,e.FD.gl.UNSIGNED_INT),!0)})),u&&v){var A,b=u.geometry,p=u.thickness,m=u.lineStyleDashed;(A=1===t?null===(r=u.mousePicking)||void 0===r?void 0:r.shader:u.shader)&&this.FD.zl(A).rP(A,(function(n,r,o,s){if(!e.FD.Lz(o,t,e,{uniforms:e.rL,idFirst:i,fillStyleSolid:u.fillStyleSolid,highlightBuffer:d,highlightAttribDivisor:1,mousePickingOffsetBuffer:y,mousePickingOffsetAttribDivisor:1}))return!1;if(m){if(!e.mV||!e.pV)return!1;FC.fV(e.FD,o,e.pV,r("aLengthSoFarA"),r("aLengthSoFarB"),2,2,0),e.FD.oP(n("uStippleCount"),[e.qi.ai().x/e.mV.Iz,e.qi.ai().y/e.mV.Iz]).uP(s("uStippleTextureWidthLimiter"),e.mV.Fz/e.mV.Iz).uP(n("uStippleScale"),m.getPatternScale()).sP(n("uStippleTexture"),e.mV.Oz,1)}return jC(e.FD,o,e.Yi.Si(),a,"aLocation","X",1,!1,e.FD.gl.FLOAT,Float32Array.BYTES_PER_ELEMENT),jC(e.FD,o,e.Yi.Si(),h,"aLocation","Y",1,!1,e.FD.gl.FLOAT,Float32Array.BYTES_PER_ELEMENT),jC(e.FD,o,!1,f,"aGeo","",2,!1,e.FD.gl.FLOAT,Float32Array.BYTES_PER_ELEMENT),FC.fl(e.eN,b,o,e.yV&&1!==t,1===t,p,v),!0}))}return{idCount:this.jv.length}},i.prototype.GR=function(t,i,n,r){if(!this.jY)return new Float32Array;for(var e=ee({x:this.If.min.x,y:this.If.min.y},this.Yi,this.qi.Yi),o=ee({x:this.If.max.x,y:this.If.max.y},this.Yi,this.qi.Yi),s={x:Math.abs(e.x-o.x),y:Math.abs(e.y-o.y)},u=HM(t,i,s.x,s.y,n),a=u[1],h=u[4],f=u[6],c=u[7],l=this.If.max.x-this.If.min.x,v=this.If.max.y-this.If.min.y,d=h-f,y=c-a,A=new Float32Array(2*this.jY[0].length),b=0,p=0;p<this.jY[0].length;p+=1){var m=this.jY[0][p],g=this.jY[1][p],x=f+d*((m-this.If.min.x)/l),S=a+y*((g-this.If.min.y)/v);A[b]=x,A[b+1]=S,b+=2}return A},i.prototype.ll=function(t,i,n,r,e){return{collectionMember:this.jv.find((function(n){return i+n.jR===t}))}},i.prototype.cl=function(){return this.TY=this.FD.yP(this.TY),this.kY=this.FD.yP(this.kY),this._Y=this.FD.yP(this._Y),this.BY&&(this.FD.yP(this.BY),this.BY=void 0),this.DY&&(this.FD.yP(this.DY),this.DY=void 0),this.LY&&(this.FD.yP(this.LY),this.LY=void 0),this.EY&&(this.FD.yP(this.EY),this.EY=void 0),this.pV&&(this.FD.yP(this.pV),this.pV=void 0),this.OY&&(this.FD.yP(this.OY),this.OY=void 0),this.bV={fill:void 0,border:void 0},this.RR=this.FD.Dz(this,this.RR),this},i.prototype.Fn=function(){return this.If.max.x},i.prototype.On=function(){return this.If.min.x},i.prototype.jn=function(){return this.If.max.y},i.prototype.In=function(){return this.If.min.y},i.prototype.sc=function(){return is(this.Fe)},i.prototype.uc=function(){return is(this.Fe)},i}(Kf),_k=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ok=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Fk=function(t){function i(i,n,r){var e=t.call(this,i,n,r)||this;return e.eN=i,e.gl=i.sN(),e.PY=e.pn,e}return _k(i,t),i.prototype.$E=function(t){var i=t instanceof Wf&&t;if(!i)return ps;var n=i.On(),r=i.Fn(),e=i.In(),o=i.jn();if(n===As||r===bs||e===As||o===bs)return ps;var s,u=i.sc(),a=i.uc(),h=Xf({min:{x:n,y:e},max:{x:r,y:o}},{x:u,y:a},i.Yi),f={min:ee(h.min,i.Yi,t.qi.Yi),max:ee(h.max,i.Yi,t.qi.Yi)},c=this.vY.T();if(c){if((s={min:{x:Math.min(f.min.x,c.x),y:Math.min(f.min.y,c.y)},max:{x:Math.max(f.max.x,c.x+c.width),y:Math.max(f.max.y,c.y+c.height)}}).max.x<s.min.x||s.max.y<s.min.y)return ps}else s=f;return s},i.prototype.We=function(t){return this.fY(new DC(this.eN,this,t,this.cY,[]))},i.prototype.ly=function(t){return this.fY(new PC(this.eN,this,t,this.cY,[]))},i.prototype.Fb=function(t,i,n){return this.fY(new QC(this.eN,this,t,this.cY,n,i))},i.prototype.wv=function(t){return this.fY(new $T(this.eN,this,t,this.cY))},i.prototype.$s=function(t,i){return this.qi.sl&&!1!==i?this.fY(this.qi.sl.$s(this.eN,this,t,this.cY)):this.fY(new ok(this.eN,this,t,this.cY,[]))},i.prototype.vl=function(t,i){if(void 0===i&&(i=tc.Simple),i===tc.Simple)return this.fY(new LT(this.eN,this,t,this.cY,[]));throw new Error("GlEngine.addPolygon | No such polygon type!")},i.prototype.Bb=function(t){return this.fY(new OT(this.eN,this,t,this.cY,[]))},i.prototype.ev=function(t){return this.fY(new kk(this.eN,this,t,this.cY,[]))},i.prototype.De=function(t){return this.fY(new jT(this.eN,this,t,this.cY,[]))},i.prototype.Ew=function(t){return this.fY(new TC(this.eN,this,t,this.cY,[]))},i.prototype.fv=function(t){return this.fY(new yC(this.eN,this,t,this.cY,[]))},i.prototype.ow=function(t,i,n){if("intensity"===n.heatmapDataType)return this.fY(new pk(this.eN,this,t,this.cY,i,n));throw new zS("Unimplemented Heatmap Grid Static type")},i.prototype.$S=function(t,i,n){return this.fY(new vk(this.eN,this,t,this.cY,i,n))},i.prototype.CT=function(t,i,n){return this.fY(new Sk(this.eN,this,t,this.cY,i,n))},i.prototype.zY=function(t){return this.fY(new hC(this.eN,this,this.cY,[],t))},i.prototype.ds=function(){var t,i,n,r;if(this.Bh){this.Bh=!1;var e=Array.from(this.pn).sort((function(t,i){return t.Eh()-i.Eh()}));this.pn.clear();try{for(var o=Ok(e),s=o.next();!s.done;s=o.next()){var u=s.value;this.pn.add(u)}}catch(i){t={error:i}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}}try{for(var a=Ok(this.pn),h=a.next();!h.done;h=a.next())(u=h.value).ds()}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return this},i.prototype.fl=function(t,i,n){var r,e,o,s,u=this.vY.T();if(u){var a=u.x*this.gl.RE()*i,h=u.y*this.gl.RE()*i;s=[l=Math.ceil(a),v=Math.ceil(h),d=Math.floor(a+u.width*this.gl.RE()*i)-l,y=Math.floor(h+u.height*this.gl.RE()*i)-v],this.gl.tP(s[0],s[1],s[2],s[3])}if(1!==t)try{for(var f=Ok(this.pn),c=f.next();!c.done;c=f.next())if((m=c.value).getVisible()){if(m.Un){a=m.Un.x*this.gl.RE()*i,h=m.Un.y*this.gl.RE()*i;var l=Math.ceil(a),v=Math.ceil(h),d=Math.floor(a+m.Un.width*this.gl.RE()*i)-l,y=Math.floor(h+m.Un.height*this.gl.RE()*i)-v;this.gl.tP(l,v,d,y)}m.fl(t,0),m.Un&&s&&this.gl.tP(s[0],s[1],s[2],s[3])}}catch(t){r={error:t}}finally{try{c&&!c.done&&(e=f.return)&&e.call(f)}finally{if(r)throw r.error}}else for(var A=((null===(o=n[n.length-1])||void 0===o?void 0:o.idLast)||0)+1,b=Array.from(this.PY.values()),p=0;p<b.length;p+=1){var m;if((m=b[p]).getPointerEvents()&&m.getVisible()){m.Un&&(a=m.Un.x*this.gl.RE()*i,h=m.Un.y*this.gl.RE()*i,l=Math.ceil(a),v=Math.ceil(h),d=Math.floor(a+m.Un.width*this.gl.RE()*i)-l,y=Math.floor(h+m.Un.height*this.gl.RE()*i)-v,this.gl.tP(l,v,d,y));var g=m.fl(t,A).idCount;m.Un&&s&&this.gl.tP(s[0],s[1],s[2],s[3]),void 0!==g&&(n.push({entity:m,layer:this,entityIndex:p,idFirst:A,idCount:g,idLast:A+g-1}),A+=g)}}return this.gl.ZE(!1),this},i}(Ck),Ik=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jk=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Bk=function(t){function i(i){return t.call(this,i)||this}return Ik(i,t),i}(YM),Dk=function(t){function i(i){var n=t.call(this,i)||this;n.NY="attribute";var r=Lk(i.gl),e=r.vertices,o=r.drawSize,s=r.drawMode;return n.gD=i.iP(e),n.uV=o,n.aV=s,n}return Ik(i,t),i.prototype.xk=function(t,i,n,r){return this.FD.eP(this.gD,0,{location:t.attribute("aInstanceGeo"),size:3},{location:n?t.attribute("aNormal"):void 0,size:3},{location:r?t.attribute("aTriangleBary"):void 0,size:3}).ZP(this.aV,0,this.uV,i),this},i.prototype.ME=function(){this.FD.yP(this.gD)},i}(Bk),Lk=function(t){var i=new Float32Array(324),n=0;return i[n+0]=-1,i[n+1]=1,i[n+2]=1,i[n+3]=0,i[n+4]=1,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=1,i[n+2]=1,i[n+3]=0,i[n+4]=1,i[n+5]=0,i[n+6]=1,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=1,i[n+2]=-1,i[n+3]=0,i[n+4]=1,i[n+5]=0,i[n+6]=0,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=-1,i[n+1]=1,i[n+2]=-1,i[n+3]=0,i[n+4]=1,i[n+5]=0,i[n+6]=0,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=1,i[n+2]=1,i[n+3]=0,i[n+4]=1,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=1,i[n+1]=1,i[n+2]=-1,i[n+3]=0,i[n+4]=1,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=-1,i[n+2]=-1,i[n+3]=-1,i[n+4]=0,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=-1,i[n+2]=1,i[n+3]=-1,i[n+4]=0,i[n+5]=0,i[n+6]=1,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=1,i[n+2]=-1,i[n+3]=-1,i[n+4]=0,i[n+5]=0,i[n+6]=0,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=-1,i[n+1]=1,i[n+2]=-1,i[n+3]=-1,i[n+4]=0,i[n+5]=0,i[n+6]=0,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=-1,i[n+2]=1,i[n+3]=-1,i[n+4]=0,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=-1,i[n+1]=1,i[n+2]=1,i[n+3]=-1,i[n+4]=0,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=-1,i[n+2]=1,i[n+3]=1,i[n+4]=0,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=-1,i[n+2]=-1,i[n+3]=1,i[n+4]=0,i[n+5]=0,i[n+6]=1,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=1,i[n+2]=1,i[n+3]=1,i[n+4]=0,i[n+5]=0,i[n+6]=0,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=1,i[n+1]=1,i[n+2]=1,i[n+3]=1,i[n+4]=0,i[n+5]=0,i[n+6]=0,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=-1,i[n+2]=-1,i[n+3]=1,i[n+4]=0,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=1,i[n+1]=1,i[n+2]=-1,i[n+3]=1,i[n+4]=0,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=-1,i[n+2]=1,i[n+3]=0,i[n+4]=0,i[n+5]=1,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=-1,i[n+2]=1,i[n+3]=0,i[n+4]=0,i[n+5]=1,i[n+6]=1,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=1,i[n+2]=1,i[n+3]=0,i[n+4]=0,i[n+5]=1,i[n+6]=0,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=-1,i[n+1]=1,i[n+2]=1,i[n+3]=0,i[n+4]=0,i[n+5]=1,i[n+6]=0,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=-1,i[n+2]=1,i[n+3]=0,i[n+4]=0,i[n+5]=1,i[n+6]=1,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=1,i[n+1]=1,i[n+2]=1,i[n+3]=0,i[n+4]=0,i[n+5]=1,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=-1,i[n+2]=-1,i[n+3]=0,i[n+4]=0,i[n+5]=-1,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=-1,i[n+2]=-1,i[n+3]=0,i[n+4]=0,i[n+5]=-1,i[n+6]=1,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=1,i[n+2]=-1,i[n+3]=0,i[n+4]=0,i[n+5]=-1,i[n+6]=0,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=1,i[n+1]=1,i[n+2]=-1,i[n+3]=0,i[n+4]=0,i[n+5]=-1,i[n+6]=0,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=-1,i[n+2]=-1,i[n+3]=0,i[n+4]=0,i[n+5]=-1,i[n+6]=1,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=-1,i[n+1]=1,i[n+2]=-1,i[n+3]=0,i[n+4]=0,i[n+5]=-1,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=-1,i[n+2]=-1,i[n+3]=0,i[n+4]=-1,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=-1,i[n+2]=-1,i[n+3]=0,i[n+4]=-1,i[n+5]=0,i[n+6]=1,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=-1,i[n+1]=-1,i[n+2]=1,i[n+3]=0,i[n+4]=-1,i[n+5]=0,i[n+6]=0,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=-1,i[n+1]=-1,i[n+2]=1,i[n+3]=0,i[n+4]=-1,i[n+5]=0,i[n+6]=0,i[n+7]=1,i[n+8]=0,i[(n+=9)+0]=1,i[n+1]=-1,i[n+2]=-1,i[n+3]=0,i[n+4]=-1,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=1,i[(n+=9)+0]=1,i[n+1]=-1,i[n+2]=1,i[n+3]=0,i[n+4]=-1,i[n+5]=0,i[n+6]=1,i[n+7]=0,i[n+8]=0,{vertices:i,drawSize:(n+=9)/9,drawMode:t.TRIANGLES}},Ek=function(t){function i(i,n){var r=t.call(this,i)||this;r.NY="attribute",r.VY=n;var e=Pk(),o=e.vertices,s=e.indices;return r.gD=i.iP(o),r.sV=i.zP(s),r.uV=s.length,r.aV=i.gl.TRIANGLES,r}return Ik(i,t),i.prototype.xk=function(t,i,n,r){return this.FD.eP(this.gD,0,{location:t.attribute("aEdge"),size:3},{location:n?t.attribute("aNormal"):void 0,size:3},{location:t.attribute("aInstanceGeo"),size:3}).WP(this.sV).uP(t.uniform("uEdgeRoundness"),this.VY/2).JP(this.aV,this.uV,0,i),this},i.prototype.ME=function(){this.FD.yP(this.gD),this.FD.yP(this.sV)},i.prototype.RY=function(t){return this.VY=t,this},i.prototype.GY=function(){return this.VY},i}(Bk),Pk=function(){var t,i,n,r,e,o,s,u,a,h,f=[],c=0,l=[],v=0;try{for(var d=jk([{normal:{x:0,y:1,z:0},perpendA:{x:0,y:0,z:1},perpendB:{x:-1,y:0,z:0}},{normal:{x:0,y:0,z:-1},perpendA:{x:0,y:1,z:0},perpendB:{x:-1,y:0,z:0}},{normal:{x:-1,y:0,z:0},perpendA:{x:0,y:1,z:0},perpendB:{x:0,y:0,z:1}},{normal:{x:1,y:0,z:0},perpendA:{x:0,y:1,z:0},perpendB:{x:0,y:0,z:-1}},{normal:{x:0,y:0,z:1},perpendA:{x:0,y:1,z:0},perpendB:{x:1,y:0,z:0}},{normal:{x:0,y:-1,z:0},perpendA:{x:0,y:0,z:-1},perpendB:{x:-1,y:0,z:0}}]),y=d.next();!y.done;y=d.next()){var A=y.value,b=A.normal,p=A.perpendA,m=A.perpendB,g=ys.multiply(p,-1),x=ys.multiply(m,-1),S=c;f[c]={thicknessDirection:ys.addVec(b,p,m),edge:ys.addVec(g,x),normal:b};var w=c+=1;f[c]={thicknessDirection:ys.addVec(b,g,m),edge:ys.addVec(p,x),normal:b};var M=c+=1;f[c]={thicknessDirection:ys.addVec(b,g,x),edge:ys.addVec(p,m),normal:b};var C=c+=1;f[c]={thicknessDirection:ys.addVec(b,p,x),edge:ys.addVec(g,m),normal:b},c+=1,l[v+0]=M,l[v+1]=S,l[v+2]=C,l[v+3]=M,l[v+4]=w,l[v+5]=S,v+=6;var T=[{A:p,B:m},{A:g,B:m},{A:g,B:x},{A:p,B:x}];try{for(var k=(n=void 0,jk(T)),_=k.next();!_.done;_=k.next()){var O=_.value;O.thicknessDirection=ys.addVec(b,O.A,O.B),O.stripVerticesA=[],O.stripVerticesB=[];var F=[{direction:O.A,other:O.B,vertices:O.stripVerticesA},{direction:O.B,other:O.A,vertices:O.stripVerticesB}];try{for(var I=(e=void 0,jk(F)),j=I.next();!j.done;j=I.next())for(var B=j.value,D=0;D<8;D+=1){var L=.5*D/7,E=ys.normalize(ys.lerp(b,B.direction,L)),P=Math.PI/2-ys.angle(E,b),z=ys.addVec(ys.multiply(ys.multiply(B.direction,-1),1-Math.cos(P)),ys.multiply(ys.multiply(b,-1),1-Math.sin(P)),ys.multiply(B.other,-1)),N=c;f[c]={thicknessDirection:O.thicknessDirection,normal:E,edge:z};var V=f[c];c+=1,B.vertices.push({index:N,vertex:V})}}catch(t){e={error:t}}finally{try{j&&!j.done&&(o=I.return)&&o.call(I)}finally{if(e)throw e.error}}}}catch(t){n={error:t}}finally{try{_&&!_.done&&(r=k.return)&&r.call(k)}finally{if(n)throw n.error}}for(var R=0;R<T.length;R+=1)for(var G=T[R],U=T[R<T.length-1?R+1:0],Y=R%2==0?G.stripVerticesB:G.stripVerticesA,W=R%2==0?U.stripVerticesB:U.stripVerticesA,X=1;X<Y.length;X+=1){var H=Y[X-1],Z=W[X-1],J=Y[X],Q=W[X];l[v+0]=H.index,l[v+1]=Z.index,l[v+2]=Q.index,l[v+3]=J.index,l[v+4]=H.index,l[v+5]=Q.index,v+=6}}}catch(i){t={error:i}}finally{try{y&&!y.done&&(i=d.return)&&i.call(d)}finally{if(t)throw t.error}}var K=Math.PI/15,q=2*Math.PI/15,$=c;try{for(var tt=jk([{x:-1,y:1,z:-1,flipVertexOrder:!1},{x:-1,y:1,z:1,flipVertexOrder:!0},{x:1,y:1,z:1,flipVertexOrder:!1},{x:1,y:1,z:-1,flipVertexOrder:!0},{x:-1,y:-1,z:-1,flipVertexOrder:!0},{x:-1,y:-1,z:1,flipVertexOrder:!1},{x:1,y:-1,z:1,flipVertexOrder:!0},{x:1,y:-1,z:-1,flipVertexOrder:!1}]),it=tt.next();!it.done;it=tt.next()){var nt=it.value,rt=0;f[c]={thicknessDirection:nt,normal:{x:0,y:nt.y,z:0},edge:{x:-nt.x,y:0,z:-nt.z}},c+=1,rt+=1;for(var et=1;et<8.5;et+=1)for(var ot=15===et?Math.PI:et*K,st=1*Math.cos(ot)*nt.y,ut=Math.sin(ot),at=0;at<Math.ceil(3.75)+1;at+=1){var ht=15===at?0:at*q,ft=ut*Math.cos(ht)*1*nt.x,ct=ut*Math.sin(ht)*1*nt.z,lt={x:ft,y:st,z:ct},vt=ys.normalize({x:ft,y:st,z:ct});f[c]={thicknessDirection:nt,normal:vt,edge:{x:lt.x-nt.x,y:lt.y-nt.y,z:lt.z-nt.z}},c+=1,rt+=1}for(var dt=[],yt=1;yt<=Math.ceil(3.75);yt+=1)dt.push($),15===yt?dt.push($+1):dt.push($+yt+1),dt.push($+yt);var At=$+1,bt=Math.ceil(3.75)+1;for(yt=0;yt<6.5;yt+=1)for(var pt=0;pt<Math.ceil(3.75);pt+=1){var mt=0,gt=At+(yt+1)*bt+pt,xt=0;14===pt?(mt=At+yt*bt,xt=At+(yt+1)*bt):(mt=At+yt*bt+pt+1,xt=At+(yt+1)*bt+pt+1),dt.push(At+yt*bt+pt),dt.push(mt),dt.push(gt),dt.push(gt),dt.push(mt),dt.push(xt)}l.push.apply(l,nt.flipVertexOrder?dt.reverse():dt),$+=rt}}catch(t){s={error:t}}finally{try{it&&!it.done&&(u=tt.return)&&u.call(tt)}finally{if(s)throw s.error}}var St=new Float32Array(9*f.length),wt=0;try{for(var Mt=jk(f),Ct=Mt.next();!Ct.done;Ct=Mt.next())V=Ct.value,St[wt+0]=V.edge.x,St[wt+1]=V.edge.y,St[wt+2]=V.edge.z,St[wt+3]=V.normal.x,St[wt+4]=V.normal.y,St[wt+5]=V.normal.z,St[wt+6]=V.thicknessDirection.x,St[wt+7]=V.thicknessDirection.y,St[wt+8]=V.thicknessDirection.z,wt+=9}catch(t){a={error:t}}finally{try{Ct&&!Ct.done&&(h=Mt.return)&&h.call(Mt)}finally{if(a)throw a.error}}return{vertices:St,indices:new Uint16Array(l)}},zk=function(t,i){var n=t.SP.wE.get(i);return n||(n=void 0!==i&&i>0?new Ek(t,ro(i,0,1)):new Dk(t),t.SP.wE.set(i,n),n)},Nk=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vk=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Nk(i,t),i.prototype.KA=function(t){return this.VE=this.YA.T(),this.YA.C(t),this},i.prototype.tm=function(t){return this.UY=t,this},i.prototype.im=function(){return this.UY},i}(QM),Rk=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gk=function(t){function i(i,n,r){var e=t.call(this,i,n,r)||this;return e.YY=i,e.eN=i.eN,e.FD=e.eN.sN(),e}return Rk(i,t),i}(Vk),Uk=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yk=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Wk=11,Xk=function(t){function i(i,n,r){var e=t.call(this,i,n,r)||this;return e.UY="cull-back",e.If=ms,e.WY={},e.HY=[],e.lN=Ua({fillStyleSolid:function(){return Ou(e.Oe)&&e.Oe},fillStyleIndividual:function(){return Iu(e.Oe)&&e.Oe},fillStylePaletted:function(){return Bu(e.Oe)&&e.Oe}}),e.Oe=Nf.fillStyle,e.YA.C(da),e}return Uk(i,t),i.prototype.ds=function(t){var i,n,r,e,o,s,u,a,h=this.HY,c=this.Oe,l=c!==Cu,v=this.ZY,d=this.zh()||this.JY!==v,y=this.NE(),A=this.Xi.T(),b=this.Xi.o;if(l){try{for(var p=Yk(h),m=p.next();!m.done;m=p.next())(N=m.value).id=void 0!==N.id?String(N.id):void 0,N.xSize=void 0!==N.xSize&&N.xSize<0?-N.xSize:N.xSize,N.ySize=void 0!==N.ySize&&N.ySize<0?-N.ySize:N.ySize,N.zSize=void 0!==N.zSize&&N.zSize<0?-N.zSize:N.zSize}catch(t){i={error:t}}finally{try{m&&!m.done&&(n=p.return)&&n.call(p)}finally{if(i)throw i.error}}var g,x,S,w=this.QY||0,M=w;try{for(var C=Yk(h),T=C.next();!T.done;T=C.next())void 0!==(V=(N=T.value).id)&&void 0!==this.WY[V]||(M+=1)}catch(t){r={error:t}}finally{try{T&&!T.done&&(e=C.return)&&e.call(C)}finally{if(r)throw r.error}}if(S=!(x=g=M!==w)&&(h.length<100?"chunks":"all"),g){var k=M*Wk,_=new Float32Array(k);this.KY&&_.set(this.KY),this.KY=_,this.qY=k,this.$Y=w*Wk}var O=Iu(c)?c.getFallbackColor():void 0;try{for(var F=Yk(h),I=F.next();!I.done;I=F.next()){var j=void 0!==(V=(N=I.value).id)&&this.WY[V],B=[N.xCenter,N.yCenter,N.zCenter,N.xSize,N.ySize,N.zSize,N.color?N.color.r:O?O.r:void 0,N.color?N.color.g:O?O.g:void 0,N.color?N.color.b:O?O.b:void 0,N.color?N.color.a:O?O.a:void 0,N.value];if(j){for(var D=0;D<Wk;D+=1)B[D]=void 0!==B[D]?B[D]:j.buffer[D];j.buffer.set(B)}else{var L=this.$Y,E=new Float32Array(this.KY.buffer,L*Float32Array.BYTES_PER_ELEMENT,Wk);E.set(B),void 0!==V&&(this.WY[V]={location:L,buffer:E}),this.$Y+=Wk}}}catch(t){o={error:t}}finally{try{I&&!I.done&&(s=F.return)&&s.call(F)}finally{if(o)throw o.error}}if(x&&(this.oV=this.FD.iP(this.KY,!0)),"all"===S)this.FD.LP(this.oV,0,this.KY);else if("chunks"===S)try{for(var P=Yk(h),z=P.next();!z.done;z=P.next()){var N,V;void 0!==(V=(N=z.value).id)&&(j=this.WY[V],this.FD.LP(this.oV,j.location,j.buffer))}}catch(t){u={error:t}}finally{try{z&&!z.done&&(a=P.return)&&a.call(P)}finally{if(u)throw u.error}}if(d||y||b){var R=this.lN.fillStyleSolid(d),G=this.lN.fillStyleIndividual(d),U=this.lN.fillStylePaletted(d);R||G||U?(this.tW=zk(this.FD,this.iW()),this.sL=this.FD.rE(rM["3D"],rM.ColorShaded3D({dataType:G?"attribute":U?["lookup",U.getLookUpProperty(),U.lut]:"uniform",shadingStyle:this.YA.T().type}),rM.VertexLocation({offsets:[{directionVar:"aInstanceGeo",sizeUnit:"axis",dataType:"attribute",halved:!0}],axisWorldTranslation:Ra(this.Yi),normalSource:this.tW.NY}),void 0!==this.ZY&&rM.RoundedEdges3D),this.dU=A?this.FD.rE(rM["3D"],rM.VertexLocation({offsets:[{directionVar:"aInstanceGeo",sizeUnit:"axis",dataType:"attribute",halved:!0}],axisWorldTranslation:Ra(this.Yi),normalSource:void 0}),rM.MousePicking(),void 0!==this.ZY&&rM.RoundedEdges3D):void 0):(this.tW=void 0,this.sL=void 0,this.dU=void 0)}if(h.length>0){var Y=f({x:As,y:As,z:As},{x:bs,y:bs,z:bs});for(D=0;D<this.$Y;D+=Wk){var W=this.KY[D+0],X=this.KY[D+3]/2,H=W-X,Z=W+X,J=this.KY[D+1],Q=this.KY[D+4]/2,K=J-Q,q=J+Q,$=this.KY[D+2],tt=this.KY[D+5]/2,it=$-tt,nt=$+tt;Y.min.x=Y.min.x<H?Y.min.x:H,Y.min.y=Y.min.y<K?Y.min.y:K,Y.min.z=Y.min.z<it?Y.min.z:it,Y.max.x=Y.max.x>Z?Y.max.x:Z,Y.max.y=Y.max.y>q?Y.max.y:q,Y.max.z=Y.max.z>nt?Y.max.z:nt}this.If=Y}this.QY=M,this.HY.length=0}return this.Gh(c),this.JY=v,this.YA.o=!1,this.Xi.o=!1,this},i.prototype.fl=function(t,i){var n=this,r=1===t?this.dU:this.sL,e=this.tW,o=this.oV,s=this.Oe,u=this.QY,a=this.YA.T(),h=u||0;return r&&o&&void 0!==u&&this.FD.rP(r,(function(f,c,l){var v=!1,d=c("aPos"),y=c("aOffsetAxis");n.FD.zl(r)._P(f("uScale"),n.YY.rL.aP())._P(f("uDisp"),n.YY.rL.hP()).FP(f("uViewProjectionMatrix"),n.nW).uP(f("uIsHighlighted"),1===t||2===t?0:n.Ki).wI(f("uHighlightColorOffset"),1===t||2===t?Fr:n.rn).uP(f("uRenderEffectMask"),2===t?1:0);var A={location:d,size:3},b={location:y,size:3},p={location:void 0,size:4},m={location:void 0,size:1};if(1!==t&&"phong"===a.type&&n.FD._P(f("uCameraLoc"),n.rW)._P(f("uLightLoc"),n.eW).uP(f("uAmbientReflection"),a.ambientReflection).uP(f("uSpecularReflection"),a.specularReflection).uP(f("uDiffuseReflection"),a.diffuseReflection).uP(f("uShininess"),a.shininess).wI(f("uLightColor"),a.specularColor).wI(f("uAmbientColor"),a.ambientColor),1===t)n.FD.IP(f("uFirstId"),i).Cz(l,h);else if(Ou(s))n.FD.wI(f("uColorDiffuse"),s.getColor());else if(Iu(s)){var g=c("aColor");p.location=g}else if(Bu(s)){var x=Ya(s,n,void 0);if(!x&&s.lut.percentageValues)return!1;n.FD.jz(l,s.lut,x),"value"===s.lookUpProperty&&(m.location=c("aLookupValue"))}return o&&(n.FD.eP(o,1,A,b,p,m),e.xk(l,u,"phong"===a.type&&1!==t,!1),v=!0),v})),{idCount:h}},i.prototype.ll=function(t,i,n,r,e){var o,s,u=(t-i)*Wk;if(!this.KY)return{};var a,h=this.KY[u+0],f=this.KY[u+1],c=this.KY[u+2],l=this.KY[u+3],v=this.KY[u+4],d=this.KY[u+5],y=oo(this.KY[u+6],void 0),A=oo(this.KY[u+7],void 0),b=oo(this.KY[u+8],void 0),p=oo(this.KY[u+9],void 0),m=oo(this.KY[u+10],void 0);try{for(var g=Yk(Object.keys(this.WY)),x=g.next();!x.done;x=g.next()){var S=x.value;if(this.WY[S].location===u){a=S;break}}}catch(t){o={error:t}}finally{try{x&&!x.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}return{info:{dataPoint:{x:h,y:f,z:c,xSize:l,ySize:v,zSize:d,r:y,g:A,b:b,a:p,intensity:m,id:a}}}},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.oV&&(this.FD.yP(this.oV),this.oV=void 0),this.sL=void 0,this},i.prototype.cl=function(){return this.dispose(),this},i.prototype.ub=function(t){this.HY=No(this.HY,t,{canReturnB:!0})},i.prototype.Sn=function(){this.oV&&(this.FD.yP(this.oV),this.oV=void 0),this.KY=void 0,this.qY=0,this.$Y=0,this.WY={},this.QY=0,this.HY=[],this.If=ms},i.prototype.Be=function(t){return this.Oe=Hf(this.Oe,t),this},i.prototype.Zo=function(){return this.Oe},i.prototype.eb=function(t){return this.ZY=void 0!==t&&t>0?ro(t,0,1):void 0,this},i.prototype.iW=function(){return this.ZY},i.prototype.Fn=function(){return this.If.max.x},i.prototype.On=function(){return this.If.min.x},i.prototype.jn=function(){return this.If.max.y},i.prototype.In=function(){return this.If.min.y},i.prototype.qr=function(){return this.If.max.z},i.prototype.Kr=function(){return this.If.min.z},i.prototype.sc=function(){return 0},i.prototype.uc=function(){return 0},i.prototype.ib=function(){return 0},i.prototype.zh=function(){return Zf(this.Nh,this.Oe)},i.prototype.Gh=function(t){this.Nh=t},i}(Gk),Hk=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zk=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Jk=function(t){function i(i,n){var r=t.call(this,i)||this;r.NY="custom",r.rV=n;var e=r.eV(),o=e.vertices,s=e.drawSize;return r.oV=i.iP(o),r.uV=s,r}return Hk(i,t),i.prototype.zl=function(t){return this.FD.eP(this.oV,0,{location:t.attribute("aSegmentPosition"),size:1},{location:t.attribute("aPerpendHorizontal"),size:1},{location:t.attribute("aPerpendVertical"),size:1}),this},i.prototype.xk=function(t){return this.FD.ZP(this.FD.gl.TRIANGLE_STRIP,0,this.uV,t),this},i.prototype.eV=function(){for(var t,i,n=this.rV,r=new Float32Array(2*(n+1)*3),e=0,o=0;o<=n;o+=1){var s=2*Math.PI*o/n,u=Math.cos(s),a=Math.sin(s);try{for(var h=(t=void 0,Zk([0,1])),f=h.next();!f.done;f=h.next()){var c=f.value;r[e+0]=c,r[e+1]=u,r[e+2]=a,e+=3}}catch(i){t={error:i}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(t)throw t.error}}}return{vertices:r,drawSize:e/3}},i.prototype.ME=function(){this.FD.yP(this.oV)},i}(YM),Qk=function(t,i){void 0===i&&(i=16);var n=t.SP.xE.get(i);return n||(n=new Jk(t,i),t.SP.xE.set(i,n),n)},Kk=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qk=function(t){function i(i,n,r){var e=t.call(this,i,n,r)||this;return e.UY="cull-back",e.oW=ms,e.sW=[],e.uW=!1,e.Hc=Nf.lineStyle,e.YA.C(la),e}return Kk(i,t),i.prototype.ds=function(t){var i=this.uW,n=this.Hc,r=this.Jc!==n,e=this.NE(),o=i;if(i){var s=To(this.sW);this.aW=this.FD.iP(s,!1,this.aW)}if(o&&(this.oW=Ds(this.sW)),r||e){var u=ka(n)&&n.getFillStyle(),a=1===n.getThickness()?"primitive":"instanced";this.bV=void 0,Ou(u)&&("primitive"===a?this.bV={type:a,shader:this.FD.rE(rM["3D"],rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0}),rM.Color({dataType:"uniform"})),fillStyle:u}:"instanced"===a&&(this.bV={type:a,shader:this.FD.rE(rM["3D"],rM.ColorShaded3D({dataType:"uniform",shadingStyle:this.YA.T().type}),rM.LineInstanced3D({axisWorldTranslation:Ra(this.Yi)})),geometry:Qk(this.FD,8),fillStyle:u}))}return this.uW=!1,this.Jc=n,this.YA.o=!1,this},i.prototype.fl=function(t,i){var n=this;if(1===t)return{};var r=this.FD.gl,e=this.bV,o=this.aW,s=this.Hc,u=this.YA.T();if(e&&o&&ka(s))switch(e.type){case"instanced":var a=.5*this.kr.Lb(s.thickness),h=e.fillStyle.getColor(),f=e.shader,c=e.geometry;this.FD.rP(f,(function(i,e,s){n.FD.zl(f)._P(i("uScale"),n.YY.rL.aP())._P(i("uDisp"),n.YY.rL.hP()).FP(i("uViewProjectionMatrix"),n.nW).wI(i("uColorDiffuse"),h).uP(i("uOffsetWU"),a).uP(i("uIsHighlighted"),n.Ki).wI(i("uHighlightColorOffset"),2===t?Fr:n.rn).uP(i("uRenderEffectMask"),2===t?1:0),"phong"===u.type&&n.FD._P(i("uCameraLoc"),n.rW)._P(i("uLightLoc"),n.eW).uP(i("uAmbientReflection"),u.ambientReflection).uP(i("uSpecularReflection"),u.specularReflection).uP(i("uDiffuseReflection"),u.diffuseReflection).uP(i("uShininess"),u.shininess).wI(i("uLightColor"),u.specularColor).wI(i("uAmbientColor"),u.ambientColor),r.bindBuffer(r.ARRAY_BUFFER,o);var l=e("aLocationA"),v=e("aLocationB");return r.vertexAttribPointer(l,3,r.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),n.FD.RP(l,1),r.enableVertexAttribArray(l),r.vertexAttribPointer(v,3,r.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),n.FD.RP(v,1),r.enableVertexAttribArray(v),c.zl(s).xk(n.sW.length/2),!0}));break;case"primitive":var l=ka(s)?s.getFillStyle():void 0,v=l&&Ou(l)?l.getColor():void 0;if(v){var d=e.shader;this.FD.rP(d,(function(i,e){return n.FD.zl(d)._P(i("uScale"),n.YY.rL.aP())._P(i("uDisp"),n.YY.rL.hP()).FP(i("uViewProjectionMatrix"),n.nW).wI(i("uColor"),v).uP(i("uIsHighlighted"),n.Ki).wI(i("uHighlightColorOffset"),2===t?Fr:n.rn).uP(i("uRenderEffectMask"),2===t?1:0).eP(o,void 0,{location:e("aPos"),size:3}).xk(r.LINES,n.sW.length),!0}))}}return{idCount:this.sW.length}},i.prototype.ll=function(t,i,n,r,e){return{}},i.prototype.Wf=function(t){for(var i=0;i<t.length-1;i+=1){var n=t[i],r=t[i+1];this.sW.push(n),this.sW.push(r)}return this.uW=!0,{vn:function(){return this},ar:function(){return this}}},i.prototype.Sn=function(){return this.sW.length=0,this.uW=!0,this},i.prototype.wb=function(){return[]},i.prototype.Dv=function(t){},i.prototype.Ye=function(t){return this.Hc="function"==typeof t?t(this.Hc):t,this},i.prototype.Nu=function(){return this.Hc},i.prototype.cl=function(){return this.aW&&(this.FD.yP(this.aW),this.aW=void 0),this},i.prototype.Fn=function(){return this.oW.max.x},i.prototype.On=function(){return this.oW.min.x},i.prototype.jn=function(){return this.oW.max.y},i.prototype.In=function(){return this.oW.min.y},i.prototype.qr=function(){return this.oW.max.z},i.prototype.Kr=function(){return this.oW.min.z},i.prototype.sc=function(){var t=this.Hc;return t===Pe?0:t.getThickness()},i.prototype.uc=function(){var t=this.Hc;return t===Pe?0:t.getThickness()},i.prototype.ib=function(){var t=this.Hc;return t===Pe?0:t.getThickness()},i}(Gk),$k=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),t_=function(t){function i(i,n,r){var e=t.call(this,i)||this;e.NY="gpu-calculate",e.hW=n,e.fW=r;var o=e.eV(),s=o.vertices,u=o.drawSize;return e.oV=i.iP(s),e.uV=u,e}return $k(i,t),i.prototype.xk=function(t,i,n,r){return this.FD.eP(this.oV,0,{location:t.attribute("aInstanceGeo"),size:3},{location:r?t.attribute("aTriangleBary"):void 0,size:3}).ZP(this.FD.gl.TRIANGLES,0,this.uV,i),this},i.prototype.eV=function(){for(var t=this,i=this.fW,n=this.hW,r=new Float32Array(6*(6*n+6*(i-2)*n)),e=0,o=2*Math.PI/n,s=Math.PI/i,u=function(t,i,n,u,a){var h=i*o,f=Math.PI/2-t*s,c=Math.cos(f),l=c*Math.cos(h),v=c*Math.sin(h),d=Math.sin(f);r[e]=l,r[e+1]=d,r[e+2]=v,r[e+3]=n,r[e+4]=u,r[e+5]=a,e+=6},a=0;a<i;a+=1)for(var h=0;h<n;h+=1)a>0&&(u(a,h,1,0,0),u(a,h+1,1,1,0),u(a+1,h,0,0,1)),a<i-1&&(u(a,h+1,1,1,0),u(a+1,h+1,0,1,0),u(a+1,h,0,0,1));return e!==r.length&&Ho(0,(function(){t.FD.SA.rh&&e>r.length&&Qe.console.warn("LightningChart JS unexpected error scenario, sphere geometry buffer size mismatch.\nA point series 3D component might have missing points.\n\nThis warning can be omitted with LightningChartOptions.warnings")})),{vertices:r,drawSize:e/6}},i.prototype.ME=function(){this.FD.yP(this.oV)},i}(YM),i_=function(t,i){var n=Math.round(i);n<3&&Ho(0,io);var r=n,e=t.SP.SE.get(Array.from(t.SP.SE.keys()).find((function(t){return t.sectors===n&&t.stacks===r})));return e||(e=new t_(t,n,r),t.SP.SE.set({sectors:n,stacks:r},e),e)},n_=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),r_=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s},e_=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r)||this;o.UY="cull-back",o.uw=[],o.bV={},o.AR=new XC(o.uw,(function(t){return t.vertexBuffer&&o.FD.yP(t.vertexBuffer)}),!0),o.il=[],o.jf=0,o.Bf=[],o.Df=0,o.If=ms,o.Lf=ms,o.lN=Ua({lineStyleSolid:function(){var t=o.Hc;return ka(t)&&t},lineFillSolid:function(){var t=o.Hc.getFillStyle();return Ou(t)&&t},lineFillPaletted:function(){var t=o.Hc.getFillStyle();return Bu(t)&&t},jointStyleTriangulatedPoints:function(){return ga(o.Jb)&&o.Jb},jointSizeTriangulated:function(){var t=o.Jb;return ga(t)&&t.getSize()},jointFillSolid:function(){var t=o.Jb.getFillStyle();return Ou(t)&&t},jointFillPaletted:function(){var t=o.Jb.getFillStyle();return Bu(t)&&t},wireframeLineStyleSolid:function(){var t=ga(o.Jb)&&o.Jb.getWireframeStyle();return ka(t)&&t},wireframeFillSolid:function(){var t=ga(o.Jb)&&o.Jb.getWireframeStyle(),i=t&&t.getFillStyle();return Ou(i)&&i}}),o.Pf=l(void 0),o.Ef=!1,o.ih=e,o.Hc=Nf.lineStyle,o.Jb=Nf.pointStyle3D,o.YA.C(da);var s,u=!0===(null==e?void 0:e.individualLookupValuesEnabled),a=0;a+=3,u&&(s=a,a+=1);var h=ko(!1,!1,u,!1);return o.xR={attributeOffsetCoordinate:0,individualLookupValuesEnabled:u,attributesPerVertex:a,attributeOffsetLookUpValue:s,prepareRenderData:function(t,i){return h(t,void 0,o.Hc.getFillStyle())}},o}return n_(i,t),i.prototype.an=function(){return this.Pf.T()||this.Pf.M},i.prototype.ll=function(t,i,n,r,e){return{info:{dataPoint:this.il[t-i]}}},i.prototype.ds=function(t){var i=this,n=this.Ef,r=this.Bf,e=this.Df,o=e>0,s=this.Hc,u=s!==this.Jc,a=this.Jb,h=a!==this.cW,f=this.NE(),c=this.Xi.o,l=this.Xi.T();this.Lf&&(this.If=Es(this.If,this.Lf),this.Lf=void 0),o&&(this.il=No(this.il,r,{canReturnB:!0}),this.jf+=e);var v=r,d=e;if(n&&(this.uw.forEach((function(t){t.existingCoordinatesCount=0,t.existingDataPointsCount=0,t.boundaries=ms})),this.AR.uR(),v=this.il,d=this.jf),d>0){var y=Math.floor(this.eN.lW/(this.xR.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT)),A=this.un("ApplicationType",(function(t){return"UserSeries"===t.type}))?d:1e3,b=ro(A,1e5,y);this.AR.rR(v,b,(function(t,n,r,e){return{existingDataPointsCount:r-e,existingCoordinatesCount:r,allocatedCoordinatesCount:t,jointPointsCount:e,lastDataPoint:n[r-1],boundaries:ms,vertexBuffer:i.FD.DP(t*i.xR.attributesPerVertex,i.xR.prepareRenderData(n,r))}}),(function(t,n,r,e){i.FD.LP(t.vertexBuffer,t.existingCoordinatesCount*i.xR.attributesPerVertex,i.xR.prepareRenderData(n,r)),t.existingDataPointsCount+=r-e,t.existingCoordinatesCount+=r,t.jointPointsCount+=e,t.lastDataPoint=n[r-1]}))}var p=this.lN.lineStyleSolid(u),m=this.lN.lineFillSolid(u),g=this.lN.lineFillPaletted(u),x=m||g;if(u||h||f||c){var S={},w=this.lN.jointStyleTriangulatedPoints(h),M=this.lN.jointSizeTriangulated(h),C=this.lN.jointFillSolid(h),T=this.lN.jointFillPaletted(h),k=C||T,_=this.lN.wireframeLineStyleSolid(h),O=this.lN.wireframeFillSolid(h),F=this.xR.individualLookupValuesEnabled,I=s.getThickness()<0||1===s.getThickness()&&this.un("ApplicationType",(function(t){return"InternalUI"===t.type}))?"primitive":"instanced",j=g?["lookup",g.getLookUpProperty(),g.lut]:"uniform";if(g&&"value"===g.getLookUpProperty()&&!F){var B='LCJS misusage error: Series individualLookupValuesEnabled flag must be set if using PalettedFill with lookUpProperty="value" !';throw Qe.alert(B),new Error(B)}if("primitive"===I&&x?S.lines={type:"primitive",fillStyleSolid:m,fillStylePaletted:g,shader:this.FD.rE(rM["3D"],rM.Color({dataType:j}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0})),mousePicking:l?{shader:this.FD.rE(rM["3D"],rM.MousePicking({useVertexId:!0}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0}))}:void 0}:"instanced"===I&&p&&x&&(S.lines={type:"instanced",lineStyleSolid:p,fillStyleSolid:m,fillStylePaletted:g,shader:this.FD.rE(rM["3D"],rM.ColorShaded3D({dataType:j,shadingStyle:this.YA.T().type}),rM.LineInstanced3D({axisWorldTranslation:Ra(this.Yi)})),geometry:o_(this.FD,p.getThickness()),mousePicking:l?{shader:this.FD.rE(rM["3D"],rM.MousePicking(),rM.LineInstanced3D({axisWorldTranslation:Ra(this.Yi)}))}:void 0}),S.markers=void 0,k&&w){var D=Po(w.getShape(),{cube:function(){return zk(i.FD)},sphere:function(){return s_(i.FD,w)}});S.markers={geometry:D,pointStyle:w,pointSizeNWU:"number"==typeof M&&M,pointSizeAxis:"object"==typeof M&&M,fillStyleSolid:C,fillStylePaletted:T,shader:this.FD.rE(rM["3D"],rM.ColorShaded3D({dataType:T?["lookup",T.getLookUpProperty(),T.lut]:"uniform",shadingStyle:this.YA.T().type,wireframe:!1!==O}),rM.VertexLocation({offsets:[{directionVar:"aInstanceGeo",dataType:"uniform",sizeUnit:"number"==typeof M?"nwu":"axis",symmetric:"number"==typeof M,halved:!0}],axisWorldTranslation:Ra(this.Yi),normalSource:D.NY})),mousePicking:l?{shader:this.FD.rE(rM["3D"],rM.MousePicking(),rM.VertexLocation({offsets:[{directionVar:"aInstanceGeo",dataType:"uniform",sizeUnit:"number"==typeof M?"nwu":"axis",symmetric:"number"==typeof M,halved:!0}],axisWorldTranslation:Ra(this.Yi),normalSource:void 0}))}:void 0,wireframe:_&&O&&{thickness:_.getThickness(),fillStyleSolid:O}}}this.bV=S}if(void 0===this.Pf.T()&&g&&"value"===g.lookUpProperty&&g.lut.percentageValues){for(var L=bs,E=As,P=0;P<this.il.length;P+=1){var z=this.il[P];void 0!==z.value&&z.value<E&&(E=z.value),void 0!==z.value&&z.value>L&&(L=z.value)}this.Pf.C({min:E,max:L})}return this.Pf.M=void 0,this.Ef=!1,this.Bf=[],this.Df=0,this.Jc=s,this.cW=a,this.YA.o=!1,this.Xi.o=!1,this},i.prototype.fl=function(t,i){var n,r,e=this,o=this.FD.gl,s=this.bV,u=s.lines,a=s.markers,h=this.YA.T(),f=this.jf,c=1===t?null===(n=null==u?void 0:u.mousePicking)||void 0===n?void 0:n.shader:null==u?void 0:u.shader;if(u&&c&&"instanced"===u.type){var l=c,v=u.geometry,d=u.lineStyleSolid,y=u.fillStyleSolid,A=u.fillStylePaletted;this.FD.rP(l,(function(n,r,s){var u=!1;if(e.FD.zl(l)._P(n("uScale"),e.YY.rL.aP())._P(n("uDisp"),e.YY.rL.hP()).FP(n("uViewProjectionMatrix"),e.nW).uP(n("uOffsetWU"),e.kr.Lb(d.getThickness())).uP(n("uIsHighlighted"),1===t||2===t?0:e.Ki).wI(n("uHighlightColorOffset"),1===t||2===t?Fr:e.rn).uP(n("uRenderEffectMask"),2===t?1:0),1!==t&&"phong"===h.type&&e.FD._P(n("uCameraLoc"),e.rW)._P(n("uLightLoc"),e.eW).uP(n("uAmbientReflection"),h.ambientReflection).uP(n("uSpecularReflection"),h.specularReflection).uP(n("uDiffuseReflection"),h.diffuseReflection).uP(n("uShininess"),h.shininess).wI(n("uLightColor"),h.specularColor).wI(n("uAmbientColor"),h.ambientColor),1===t);else if(y)e.FD.wI(n("uColorDiffuse"),y.getColor());else if(A){var a=Ya(A,e,e.Pf.T());if(!a&&A.lut.percentageValues)return!1;e.FD.jz(s,A.lut,a)}var f=fs(i);return e.uw.forEach((function(i){if(1===t){var a=r_(f.Pn(i.existingDataPointsCount),2),h=a[0],c=a[1];e.FD.IP(n("uFirstId"),h).Cz(s,c)}o.bindBuffer(o.ARRAY_BUFFER,i.vertexBuffer);var l=r("aLocationA"),d=r("aLocationB");if(o.vertexAttribPointer(l,3,o.FLOAT,!1,e.xR.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,e.xR.attributeOffsetCoordinate*Float32Array.BYTES_PER_ELEMENT),e.FD.RP(l,1),o.enableVertexAttribArray(l),o.vertexAttribPointer(d,3,o.FLOAT,!1,e.xR.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,(e.xR.attributeOffsetCoordinate+e.xR.attributesPerVertex)*Float32Array.BYTES_PER_ELEMENT),e.FD.RP(d,1),o.enableVertexAttribArray(d),A&&"value"===A.getLookUpProperty()&&void 0!==e.xR.attributeOffsetLookUpValue&&1!==t){var y=r("aLookupValue");o.vertexAttribPointer(y,1,o.FLOAT,!1,e.xR.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,e.xR.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),e.FD.RP(y,1),o.enableVertexAttribArray(y)}v.zl(s).xk(i.existingCoordinatesCount-1),u=!0})),u}))}if(u&&c&&"primitive"===u.type){var b=c,p=u.fillStyleSolid,m=u.fillStylePaletted;this.FD.rP(b,(function(n,r,s){var u=!1;if(e.FD.zl(b)._P(n("uScale"),e.YY.rL.aP())._P(n("uDisp"),e.YY.rL.hP()).FP(n("uViewProjectionMatrix"),e.nW).uP(n("uIsHighlighted"),1===t||2===t?0:e.Ki).wI(n("uHighlightColorOffset"),1===t||2===t?Fr:e.rn).uP(n("uRenderEffectMask"),2===t?1:0),1===t);else if(p)e.FD.wI(n("uColor"),p.getColor());else if(m){var a=Ya(m,e,e.Pf.T());if(!a&&m.lut.percentageValues)return!1;e.FD.jz(s,m.lut,a)}var h=fs(i);return e.uw.forEach((function(i){if(1===t){var a=r_(h.Pn(i.existingDataPointsCount),2),f=a[0],c=a[1];e.FD.IP(n("uFirstId"),f).wz(s,c)}o.bindBuffer(o.ARRAY_BUFFER,i.vertexBuffer);var l=r("aPos");if(o.vertexAttribPointer(l,3,o.FLOAT,!1,e.xR.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,e.xR.attributeOffsetCoordinate*Float32Array.BYTES_PER_ELEMENT),o.enableVertexAttribArray(l),m&&"value"===m.getLookUpProperty()&&void 0!==e.xR.attributeOffsetLookUpValue&&1!==t){var v=r("aLookupValue");o.vertexAttribPointer(v,1,o.FLOAT,!1,e.xR.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,e.xR.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),o.enableVertexAttribArray(v)}e.FD.xk(o.LINE_STRIP,i.existingCoordinatesCount),u=!0})),u}))}var g=1===t?null===(r=null==a?void 0:a.mousePicking)||void 0===r?void 0:r.shader:null==a?void 0:a.shader;if(a&&g){var x=g,S=a.geometry,w=a.fillStyleSolid,M=a.fillStylePaletted,C=a.pointSizeAxis,T=a.pointSizeNWU,k=a.wireframe;this.FD.rP(x,(function(n,r,s,u){var a=!1;if(e.FD.zl(x)._P(n("uScale"),e.YY.rL.aP())._P(n("uDisp"),e.YY.rL.hP()).FP(n("uViewProjectionMatrix"),e.nW).uP(u("uRatioNwuWu"),e.YY.vW()).uP(n("uIsHighlighted"),1===t||2===t?0:e.Ki).wI(n("uHighlightColorOffset"),1===t||2===t?Fr:e.rn).uP(n("uRenderEffectMask"),2===t?1:0),1!==t&&"phong"===h.type&&e.FD._P(n("uCameraLoc"),e.rW)._P(n("uLightLoc"),e.eW).uP(n("uAmbientReflection"),h.ambientReflection).uP(n("uSpecularReflection"),h.specularReflection).uP(n("uDiffuseReflection"),h.diffuseReflection).uP(n("uShininess"),h.shininess).wI(n("uLightColor"),h.specularColor).wI(n("uAmbientColor"),h.ambientColor),1===t);else if(w)e.FD.wI(n("uColorDiffuse"),w.getColor());else if(M){var f=Ya(M,e,e.Pf.T());if(!f&&M.lut.percentageValues)return!1;e.FD.jz(s,M.lut,f)}k&&1!==t&&e.FD.uP(n("uWireframeThickness"),k.thickness).wI(n("uWireframeColor"),k.fillStyleSolid.getColor()),!1!==C&&e.FD._P(n("uOffsetAxis"),[C.x,C.y,C.z]),!1!==T&&e.FD.uP(n("uOffsetNWU"),T);var c=fs(i);return e.uw.forEach((function(i){if(1===t){var u=r_(c.Pn(i.existingDataPointsCount),2),f=u[0],l=u[1];e.FD.IP(n("uFirstId"),f).Cz(s,l)}o.bindBuffer(o.ARRAY_BUFFER,i.vertexBuffer);var v=r("aPos");if(o.vertexAttribPointer(v,3,o.FLOAT,!1,e.xR.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,e.xR.attributeOffsetCoordinate*Float32Array.BYTES_PER_ELEMENT),e.FD.RP(v,1),o.enableVertexAttribArray(v),M&&"value"===M.getLookUpProperty()&&void 0!==e.xR.attributeOffsetLookUpValue&&1!==t){var d=r("aLookupValue");o.vertexAttribPointer(d,1,o.FLOAT,!1,e.xR.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,e.xR.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),e.FD.RP(d,1),o.enableVertexAttribArray(d)}S.xk(s,i.existingCoordinatesCount,"phong"===h.type&&1!==t,Boolean(k)&&1!==t),a=!0})),a}))}return{idCount:f}},i.prototype.Wf=function(t,i){Array.isArray(t)||(t=[t]),this.Bf=No(this.Bf,t,{canReturnB:!0}),this.Df+=t.length;var n=i||Ds(t);return this.Lf=this.Lf?Es(this.Lf,n):n,this},i.prototype.Ye=function(t){return this.Hc="function"==typeof t?t(this.Hc):t,this},i.prototype.Nu=function(){return this.Hc},i.prototype.Ob=function(t){return this.Jb="function"==typeof t?t(this.Jb):t,this},i.prototype.dW=function(){return this.Jb},i.prototype.Fn=function(){return this.Lf?Math.max(this.Lf.max.x,this.If.max.x):this.If.max.x},i.prototype.On=function(){return this.Lf?Math.min(this.Lf.min.x,this.If.min.x):this.If.min.x},i.prototype.jn=function(){return this.Lf?Math.max(this.Lf.max.y,this.If.max.y):this.If.max.y},i.prototype.In=function(){return this.Lf?Math.min(this.Lf.min.y,this.If.min.y):this.If.min.y},i.prototype.qr=function(){return this.Lf?Math.max(this.Lf.max.z,this.If.max.z):this.If.max.z},i.prototype.Kr=function(){return this.Lf?Math.min(this.Lf.min.z,this.If.min.z):this.If.min.z},i.prototype.sc=function(){return is(this.Hc)},i.prototype.uc=function(){return is(this.Hc)},i.prototype.ib=function(){return is(this.Hc)},i.prototype.Nf=function(){return this.il},i.prototype.zf=function(){return this.Bf},i.prototype.Xf=function(){return this.jf},i.prototype.Hf=function(){return this.Df},i.prototype.Sn=function(){return this.Ef=!0,this.il.length=0,this.jf=0,this.Bf=[],this.Df=0,this.If=ms,this.Lf=void 0,this},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.AR.aR(),this.bV={},this},i.prototype.cl=function(){return this.dispose(),this},i}(Gk),o_=function(t,i){return Qk(t,i>50?20:i>20?16:i>10?12:i>5?8:6)},s_=function(t,i){var n=i.getSize();return i_(t,"number"==typeof n?n>50?20:n>20?16:n>10?12:n>5?8:6:20)},u_=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a_=function(t){function i(i,n,r){var e=t.call(this,i,n,r)||this;return e.UY="disabled",e.yW=!1,e.AW=!1,e.bW={x:1,y:1,z:1},e.fm={x:0,y:0,z:0},e.hm={x:0,y:0,z:0},e.pW={x:0,y:0,z:0},e.vm={x:0,y:0,z:0,w:1},e.dm={x:1,y:1,z:1},e.mW=Mr(255,255,255),e.gW=RM.projectionOrthographic(-1,1,-1,1,1,-1),e.xW=RM.projectionOrthographic(-1,1,-1,1,1,-1),e.SW=!1,e.isEulerRotation=!0,e.lN=Ua({fillStyleSolid:function(){return Ou(e.Oe)&&e.Oe},fillStyleValuePalette:function(){return Bu(e.Oe)&&"value"===e.Oe.lookUpProperty&&e.Oe}}),e.Oe=Nf.fillStyle,e.YA.C(da),e}return u_(i,t),i.prototype.ds=function(t){var i,n=this.NE(),r=this.Xi.T(),e=this.Xi.o,o=this.zh();this.lN.fillStyleSolid(o);var s=this.lN.fillStyleValuePalette(o),u=this.pW,a=this.dm;if(this.yW&&this.wW&&(this.oV=this.FD.iP(this.wW.vertices,void 0,this.oV),this.sV=this.FD.zP(this.wW.indices,this.sV),this.MW=this.wW.indices.length),"phong"===this.YA.T().type&&(n||this.yW)&&(null===(i=this.wW)||void 0===i?void 0:i.normals)&&(this.TW=this.FD.iP(this.wW.normals,void 0,this.TW)),!this.kW&&s&&"value"===s.lookUpProperty&&this.wW&&(this.kW=new Float32Array(this.wW.vertices.length/3),this.AW=!0),this.kW&&this.AW&&(this._W=this.FD.iP(this.kW,void 0,this._W)),n||o||e){if(s&&"value"!==s.lookUpProperty)throw new Error("LightningChart JS MeshModel3D does not support look up by x/y/z. Must be value");this.sL=this.FD.rE(rM["3D"],rM.ColorShaded3D({dataType:s?["lookup","value",s.lut]:"uniform",shadingStyle:this.YA.T().type,wireframe:!1}),rM.Model3D({normalSource:"phong"===this.YA.T().type?"attribute":void 0})),this.dU=r?this.FD.rE(rM["3D"],rM.MousePicking({useVertexId:!0}),rM.Model3D({normalSource:void 0})):void 0}if(this.SW){var h=RM.projectionOrthographic(-1,1,-1,1,1,-1);if(this.isEulerRotation)this.xW=RM.rotateXYZ(h,u),this.gW=RM.translate(h,a.x/2,a.y/2,a.z/2),this.gW=RM.rotateXYZ(this.gW,u),this.gW=RM.translate(this.gW,-a.x/2,-a.y/2,-a.z/2);else{var f=[-this.vm.x,-this.vm.y,-this.vm.z,this.vm.w];this.xW=RM.quaternionToRotationMatrix(f),this.gW=RM.translate(h,a.x/2,a.y/2,a.z/2),this.gW=RM.multiply(this.gW,this.xW),this.gW=RM.translate(this.gW,-a.x/2,-a.y/2,-a.z/2)}this.SW=!1}return this.YA.o=!1,this.Gh(this.Oe),this.Xi.o=!1,this.yW=!1,this.AW=!1,this},i.prototype.fl=function(t,i){var n,r=this,e=1===t?this.dU:this.sL,o=1===t,s=this.sV,u=this.oV,a=this.TW,h=this._W,f=this.fm,c=this.hm,l=this.bW,v=this.dm,d=this.gW,y=this.xW,A=this.lN.fillStyleValuePalette(!1),b=this.lN.fillStyleSolid(!1),p=this.YA.T(),m={location:void 0,size:1},g=this.MW;if(!(e&&u&&s&&this.wW))return{};var x=this.wW?null===(n=this.wW)||void 0===n?void 0:n.parts.length:0;if(x<1)return{};var S=this.wW.vertices.length;return this.FD.rP(e,(function(n,w,M,C){var T;r.FD.zl(e)._P(n("uScale"),r.YY.rL.aP())._P(n("uDisp"),r.YY.rL.hP()).FP(n("uViewProjectionMatrix"),r.nW).uP(n("uIsHighlighted"),1===t||2===t?0:r.Ki).wI(n("uHighlightColorOffset"),r.rn).uP(n("uRenderEffectMask"),2===t?1:0).FP(n("uModelRotation"),d)._P(n("uModelScale"),[l.x,l.y,l.z])._P(n("uLocationAxis"),[f.x,f.y,f.z])._P(n("uModelAlignment"),[c.x,c.y,c.z])._P(n("uModelSize"),[v.x,v.y,v.z]).eP(u,0,{location:M.attribute("aGeoPos"),size:3}).WP(s);var k=!1;if(o)r.FD.IP(n("uFirstId"),i).wz(M,S);else{if(r.Oe===Cu&&S<1)return!1;if(b)r.FD.wI(n("uColorDiffuse"),b.getColor());else if(A){if(!h)return!1;var _=A.getPalette();m.location=w("aLookupValue"),r.FD.jz(M,_,void 0).eP(h,void 0,m),k=!0}}"phong"!==p.type||o||(r.FD._P(n("uCameraLoc"),r.rW)._P(n("uLightLoc"),r.eW).uP(n("uAmbientReflection"),p.ambientReflection).uP(n("uSpecularReflection"),p.specularReflection).uP(n("uDiffuseReflection"),p.diffuseReflection).uP(n("uShininess"),p.shininess).wI(n("uLightColor"),p.specularColor).wI(n("uAmbientColor"),p.ambientColor).FP(n("uModelRotationNormals"),y),a&&r.FD.eP(a,void 0,{location:M.attribute("aNormal"),size:3}));for(var O=!1,F=0;F<x;F+=1){g=0;var I=r.mW,j=0,B=0,D=0,L=!0;r.wW&&r.wW.parts&&r.wW.parts[F].material&&(I=r.wW.parts[F].material.specular,g=r.wW.parts[F].count,B=r.wW.parts[F].count,D=r.wW.parts[F].offset,L=r.wW.parts[F].useIndexBuffer,j=r.wW.parts[F].indexStart,o||b||k||r.FD.wI(n("uColorDiffuse"),r.wW.parts[F].material.diffuse)),(g>0||B>0)&&("phong"!==p.type||o||(r.FD.wI(n("uLightColor"),I),y?r.FD.FP(n("uModelRotationNormals"),y):r.FD.wI(n("uLightColor"),p.specularColor)),L?r.FD.HP(g,r.FD.gl.TRIANGLES,j,(null===(T=r.wW)||void 0===T?void 0:T.indices)instanceof Uint32Array?r.FD.gl.UNSIGNED_INT:r.FD.gl.UNSIGNED_SHORT):r.FD.xk(r.FD.gl.TRIANGLES,B,D),O=!0)}return O})),{idCount:S}},i.prototype.OW=function(t){if(this.FW)return this.FW;var i,n=this.fm,r=this.hm,e=this.bW,o=this.dm,s=this.pW,u=this.vm,a=this.YY.Ng(n),h=[],f=RM.projectionOrthographic(-1,1,-1,1,1,-1);if(this.isEulerRotation)i=RM.translate(f,o.x/2,o.y/2,o.z/2),i=RM.rotateXYZ(i,s),i=RM.translate(i,-o.x/2,-o.y/2,-o.z/2);else{var c=[-u.x,-u.y,-u.z,u.w];i=RM.translate(f,o.x/2,o.y/2,o.z/2),i=RM.multiply(i,RM.quaternionToRotationMatrix(c)),i=RM.translate(i,-o.x/2,-o.y/2,-o.z/2)}for(var l=(r.x+1)*(o.x/2),v=(r.y+1)*(o.y/2),d=(r.z+1)*(o.z/2),y=0;y<t.vertices.length;y+=3){var A=RM.multiply(i,[t.vertices[y],t.vertices[y+1],t.vertices[y+2],1]),b={x:a.x+(A[0]-l)*e.x,y:a.y+(A[1]-v)*e.y,z:a.z+(A[2]-d)*e.z};h.push(b)}return this.FW=h,this.FW},i.prototype.Sm=function(t){var i=this.wW;if(i){var n=this.OW(i),r=t(n);0!==r.length&&(r.length!==n.length&&!0===this.qi.ih.rh&&Qe.console.warn("LightningChart JS warning - MeshModel3D.setVertexValues returned array length is not equal to vertex locations array length.\nThis is most likely an application error."),this.kW=r instanceof Float32Array?r:new Float32Array(r),this.AW=!0)}},i.prototype.ll=function(t,i,n,r,e){return{info:{iVertex:t-i}}},i.prototype.pm=function(t,i){var n=this,r=this.wW;if(r&&void 0!==(null==t?void 0:t.iVertex)){if(r.indices.length>0){for(var e=[],o=0;o<r.indices.length;o+=3){var s=r.indices[o],u=r.indices[o+1],a=r.indices[o+2];s!==t.iVertex&&u!==t.iVertex&&a!==t.iVertex||e.push([s,u,a])}var h=this.OW(r),f=this.qi.Ne(i.clientX,i.clientY),c=e.map((function(t){return t.map((function(t){var i={x:r.vertices[3*t],y:r.vertices[3*t+1],z:r.vertices[3*t+2]},e=h[t],o=n.YY.Vg(e),s=n.YY.Pb(o);return{index:t,vertex:i,world:e,axis:o,dist:s?Os(s,f):As}}))})).flat();c.sort((function(t,i){return t.dist-i.dist}));var l=c[0];if(!l)return;var v=this.kW?this.kW[l.index]:void 0;return{coordModel:l.vertex,coordAxis:l.axis,index:l.index,value:v}}var d=t.iVertex,y=this.kW?this.kW[d]:void 0,A={x:r.vertices[3*d],y:r.vertices[3*d+1],z:r.vertices[3*d+2]},b=this.OW(r)[d];return{coordModel:A,coordAxis:this.YY.Vg(b),index:d,value:y}}},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.oV&&(this.FD.yP(this.oV),this.oV=void 0),this.sV&&(this.FD.yP(this.sV),this.sV=void 0),this.TW&&(this.FD.yP(this.TW),this.TW=void 0),this._W&&(this.FD.yP(this._W),this._W=void 0),this.sL=void 0,this.dU=void 0,this.wW=void 0,this.kW=void 0,this},i.prototype.cl=function(){return this.dispose(),this},i.prototype.gm=function(t){return this.wW=t,this.yW=!0,this.dm=t.modelSize,this},i.prototype.Be=function(t){return this.Oe=Hf(this.Oe,t),this},i.prototype.Zo=function(){return this.Oe},i.prototype.wm=function(t){return this.bW=t,this.FW=void 0,this},i.prototype.aP=function(){return this.bW},i.prototype.Mm=function(t){return this.fm=t,this.FW=void 0,this},i.prototype.Cm=function(t){return this.hm=t,this.FW=void 0,this},i.prototype.Tm=function(t){return this.pW=t,this.SW=!0,this.isEulerRotation=!0,this.FW=void 0,this},i.prototype.km=function(t){return this.vm=t,this.SW=!0,this.isEulerRotation=!1,this.FW=void 0,this},i.prototype._m=function(t){return this.UY=t,this},i.prototype.Om=function(){return this.UY},i.prototype.Fn=function(){return bs},i.prototype.On=function(){return As},i.prototype.jn=function(){return bs},i.prototype.In=function(){return As},i.prototype.qr=function(){return bs},i.prototype.Kr=function(){return As},i.prototype.sc=function(){return 0},i.prototype.uc=function(){return 0},i.prototype.ib=function(){return 0},i.prototype.zh=function(){return Zf(this.Nh,this.Oe)},i.prototype.Gh=function(t){this.Nh=t},i}(Gk),h_=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f_=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r)||this;o.UY="cull-back",o.uw=[],o.AR=new XC(o.uw,(function(t){return t.vertexBuffer&&o.FD.yP(t.vertexBuffer)}),!1),o.il=[],o.jf=0,o.Bf=[],o.Df=0,o.If=ms,o.Lf=ms,o.Ef=!1,o.lN=Ua({fillStyleSolid:function(){var t=o.qb.getFillStyle();return Ou(t)&&t},fillStyleIndividual:function(){var t=o.qb.getFillStyle();return Iu(t)&&t},fillStylePalette:function(){var t=o.qb.getFillStyle();return Bu(t)&&t},triangulatedPointStyle:function(){var t=o.qb;return ga(t)&&t},wireframeLineStyleSolid:function(){var t=ga(o.qb)&&o.qb,i=t&&t.getWireframeStyle();return ka(i)&&i},wireframeFillStyleSolid:function(){var t=ga(o.qb)&&o.qb,i=t&&t.getWireframeStyle(),n=i&&i.getFillStyle();return Ou(n)&&n}}),o.Pf=l(void 0),o.ih=e,o.qb=Nf.pointStyle3D,o.YA.C(da);var s,u,a,h,f=!0===(null==e?void 0:e.individualPointColorEnabled),c=!0===(null==e?void 0:e.individualPointSizeEnabled),v=!0===(null==e?void 0:e.individualLookupValuesEnabled),d=!0===(null==e?void 0:e.individualPointSizeAxisEnabled),y=0;y+=3,f&&(s=y,y+=4),c&&(u=y,y+=1),v&&(a=y,y+=1),d&&(h=y,y+=3);var A=ko(f,c,v,d);return o.xR={individualPointColorEnabled:f,individualPointSizeEnabled:c,individualLookupValuesEnabled:v,individualPointSizeAxisEnabled:d,attributesPerVertex:y,attributeOffsetCoordinate:0,attributeOffsetColor:s,attributeOffsetSize:u,attributeOffsetLookUpValue:a,attributeOffsetPointSize3D:h,prepareRenderData:function(t,i){return A(t,o.qb,o.qb.fillStyle)}},o}return h_(i,t),i.prototype.an=function(){return this.Pf.T()||this.Pf.M},i.prototype.ll=function(t,i,n,r,e){return{info:{dataPoint:this.il[t-i]}}},i.prototype.ds=function(t){var i=this,n=this.Ef,r=this.Bf,e=this.Df,o=e>0,s=this.qb,u=this.qb!==this.IW,a=this.Xi.T(),h=this.Xi.o,f=this.NE();this.Lf&&(this.If=Es(this.If,this.Lf),this.Lf=void 0),o&&(this.il=No(this.il,r,{canReturnB:!0}),this.jf+=e);var c=r,l=e;if(n&&(this.uw.forEach((function(t){t.existingDataPointsCount=0,t.existingCoordinatesCount=0,t.boundaries=ms})),this.AR.uR(),c=this.il,l=this.jf),l>0){var v=Math.floor(this.eN.lW/(this.xR.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT)),d=ro(l,1e5,v);this.AR.rR(c,d,(function(t,n,r){return{existingDataPointsCount:r,existingCoordinatesCount:r,allocatedCoordinatesCount:t,boundaries:ms,vertexBuffer:i.FD.DP(t*i.xR.attributesPerVertex,i.xR.prepareRenderData(n,r))}}),(function(t,n,r){i.FD.LP(t.vertexBuffer,t.existingCoordinatesCount*i.xR.attributesPerVertex,i.xR.prepareRenderData(n,r)),t.existingDataPointsCount+=r,t.existingCoordinatesCount=t.existingDataPointsCount}))}var y=s.getFillStyle(),A=this.lN.fillStyleSolid(u),b=this.lN.fillStyleIndividual(u),p=this.lN.fillStylePalette(u),m=y===Cu&&Cu;if(u||f||h){var g=void 0,x=s.getSize(),S=this.xR.individualPointColorEnabled,w=this.xR.individualPointSizeEnabled,M=this.xR.individualPointSizeAxisEnabled,C=this.xR.individualLookupValuesEnabled;if(b&&!S){var T="LCJS misusage error: Series individualPointColorEnabled flag must be set if using IndividualPointFill !";throw Qe.alert(T),new Error(T)}if(p&&"value"===p.getLookUpProperty()&&!C)throw T='LCJS misusage error: Series individualLookupValuesEnabled flag must be set if using PalettedFill with lookUpProperty="value" !',Qe.alert(T),new Error(T);var k=this.lN.wireframeLineStyleSolid(u),_=this.lN.wireframeFillStyleSolid(u);if(A||b||p||_){var O=b?"attribute":p?["lookup",p.getLookUpProperty(),p.lut]:"uniform",F=w&&"number"==typeof x,I=M&&"object"==typeof x,j=F||I?"attribute":"uniform";if(ga(s)){var B=Po(s.getShape(),{cube:function(){return zk(i.FD)},sphere:function(){return c_(i.FD,s,w)}});g={type:"instanced",shader:this.FD.rE(rM["3D"],rM.ColorShaded3D({dataType:O,shadingStyle:this.YA.T().type,wireframe:!1!==_}),rM.VertexLocation({offsets:[{directionVar:"aInstanceGeo",dataType:j,sizeUnit:"number"==typeof x?"nwu":"axis",halved:!0,symmetric:"number"==typeof x}],axisWorldTranslation:Ra(this.Yi),normalSource:B.NY})),pointStyle:s,useIndividualPointSize:F,useIndividualPointSize3D:I,pointSizeNWU:"number"==typeof x&&x,pointSizeAxis:"object"==typeof x&&x,fillStyleSolid:A,fillStyleIndividual:b,fillStylePaletted:p,fillStyleEmpty:m,mousePickingShader:a&&this.FD.rE(rM["3D"],rM.MousePicking(),rM.VertexLocation({offsets:[{directionVar:"aInstanceGeo",dataType:j,sizeUnit:"number"==typeof x?"nwu":"axis",halved:!0,symmetric:"number"==typeof x}],axisWorldTranslation:Ra(this.Yi),normalSource:void 0})),geometry:B,wireframe:k&&_&&{thickness:k.getThickness()<0?1:k.getThickness(),fillStyleSolid:_}}}else Sa(s)&&"number"==typeof x&&(g={type:"primitive",shader:this.FD.rE(rM["3D"],rM.PointSize(j),rM.Color({dataType:O}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0})),pointStyle:s,pointSizePixels:x,useIndividualPointSize:F,fillStyleSolid:A,fillStyleIndividual:b,fillStylePaletted:p,mousePickingShader:a&&this.FD.rE(rM["3D"],rM.PointSize(j),rM.MousePicking({useVertexId:!0}),rM.VertexLocation({axisWorldTranslation:Ra(this.Yi),normalSource:void 0}))})}this.bV=g}if(void 0===this.Pf.T()&&p&&"value"===p.lookUpProperty&&p.lut.percentageValues){for(var D=bs,L=As,E=0;E<this.il.length;E+=1){var P=this.il[E];void 0!==P.value&&P.value<L&&(L=P.value),void 0!==P.value&&P.value>D&&(D=P.value)}this.Pf.C({min:L,max:D})}return this.Pf.M=void 0,this.Ef=!1,this.Bf=[],this.Df=0,this.IW=s,this.YA.o=!1,this},i.prototype.fl=function(t,i){var n=this,r=this.FD.gl,e=this.bV,o=this.jf;if(!e)return{};var s=1===t?e.mousePickingShader:e.shader;if(!s)return{};var u=this.YA.T(),a=e.fillStyleSolid,h=e.fillStylePaletted,f=e.useIndividualPointSize,c="instanced"===e.type&&e.useIndividualPointSize3D,l="instanced"===e.type&&e.wireframe;return this.FD.rP(s,(function(o,v,d,y){var A=!1;if(n.FD.zl(s)._P(o("uScale"),n.YY.rL.aP())._P(o("uDisp"),n.YY.rL.hP()).FP(o("uViewProjectionMatrix"),n.nW).uP(o("uIsHighlighted"),1===t||2===t?0:n.Ki).wI(o("uHighlightColorOffset"),1===t||2===t?Fr:n.rn).uP(o("uRenderEffectMask"),2===t?1:0),"instanced"===e.type){var b=e.pointSizeAxis,p=e.pointSizeNWU;!1!==b&&!1===c&&n.FD._P(o("uOffsetAxis"),[b.x,b.y,b.z]),!1!==p&&!1===f&&n.FD.uP(o("uOffsetNWU"),p).uP(y("uRatioNwuWu"),n.YY.vW())}else if("primitive"===e.type){var m=e.pointSizePixels;f||n.FD.uP(o("uPointSize"),m).uP(o("uDevicePixelRatio"),n.FD.RE())}if(1===t);else if("instanced"===e.type?("phong"===u.type&&n.FD._P(o("uCameraLoc"),n.rW)._P(o("uLightLoc"),n.eW).uP(o("uAmbientReflection"),u.ambientReflection).uP(o("uSpecularReflection"),u.specularReflection).uP(o("uDiffuseReflection"),u.diffuseReflection).uP(o("uShininess"),u.shininess).wI(o("uLightColor"),u.specularColor).wI(o("uAmbientColor"),u.ambientColor),l&&n.FD.uP(o("uWireframeThickness"),l.thickness).wI(o("uWireframeColor"),l.fillStyleSolid.getColor()),a&&n.FD.wI(o("uColorDiffuse"),a.getColor()),e.fillStyleEmpty&&n.FD.wI(o("uColorDiffuse"),Fr)):"primitive"===e.type&&a&&n.FD.wI(o("uColor"),a.getColor()),h){var g=Ya(h,n,n.Pf.T());if(!g&&h.lut.percentageValues)return!1;n.FD.jz(d,h.lut,g)}var x=fs(i);return n.uw.forEach((function(i){if(1===t){var s=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(x.Pn(i.existingDataPointsCount),2),a=s[0],h=s[1];n.FD.IP(o("uFirstId"),a),"instanced"===e.type?n.FD.Cz(d,h):n.FD.wz(d,h)}r.bindBuffer(r.ARRAY_BUFFER,i.vertexBuffer);var b=v("aPos");if(r.vertexAttribPointer(b,3,r.FLOAT,!1,n.xR.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,n.xR.attributeOffsetCoordinate*Float32Array.BYTES_PER_ELEMENT),"instanced"===e.type&&n.FD.RP(b,1),r.enableVertexAttribArray(b),e.fillStyleIndividual&&void 0!==n.xR.attributeOffsetColor&&1!==t){var p=v("aColor");r.vertexAttribPointer(p,4,r.FLOAT,!1,n.xR.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,n.xR.attributeOffsetColor*Float32Array.BYTES_PER_ELEMENT),"instanced"===e.type&&n.FD.RP(p,1),r.enableVertexAttribArray(p)}if(f&&void 0!==n.xR.attributeOffsetSize){"instanced"===e.type?n.FD.uP(y("uRatioNwuWu"),n.YY.vW()):"primitive"===e.type&&n.FD.uP(o("uDevicePixelRatio"),n.FD.RE());var m=v("instanced"===e.type?"aOffsetNWU":"aPointSize");r.vertexAttribPointer(m,1,r.FLOAT,!1,n.xR.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,n.xR.attributeOffsetSize*Float32Array.BYTES_PER_ELEMENT),"instanced"===e.type&&n.FD.RP(m,1),r.enableVertexAttribArray(m)}if(c&&void 0!==n.xR.attributeOffsetPointSize3D&&"instanced"===e.type){var g=v("aOffsetAxis");r.vertexAttribPointer(g,3,r.FLOAT,!1,n.xR.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,n.xR.attributeOffsetPointSize3D*Float32Array.BYTES_PER_ELEMENT),"instanced"===e.type&&n.FD.RP(g,1),r.enableVertexAttribArray(g)}if(e.fillStylePaletted&&"value"===e.fillStylePaletted.getLookUpProperty()&&void 0!==n.xR.attributeOffsetLookUpValue&&1!==t){var S=v("aLookupValue");r.vertexAttribPointer(S,1,r.FLOAT,!1,n.xR.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,n.xR.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),"instanced"===e.type&&n.FD.RP(S,1),r.enableVertexAttribArray(S)}"instanced"===e.type?(e.geometry.xk(d,i.existingCoordinatesCount,"phong"===u.type&&1!==t,Boolean(l)&&1!==t),A=!0):"primitive"===e.type&&(n.FD.xk(r.POINTS,i.existingCoordinatesCount),A=!0)})),A})),{idCount:o}},i.prototype.Wf=function(t,i){Array.isArray(t)||(t=[t]),this.Bf=No(this.Bf,t,{canReturnB:!0}),this.Df+=t.length;var n=i||Ds(t);return this.Lf=this.Lf?Es(this.Lf,n):n,this.Pf.C(void 0),this},i.prototype.$b=function(t){return this.qb="function"==typeof t?t(this.qb):t,this},i.prototype.jW=function(){return this.qb},i.prototype.Fn=function(){return this.Lf?Math.max(this.Lf.max.x,this.If.max.x):this.If.max.x},i.prototype.On=function(){return this.Lf?Math.min(this.Lf.min.x,this.If.min.x):this.If.min.x},i.prototype.jn=function(){return this.Lf?Math.max(this.Lf.max.y,this.If.max.y):this.If.max.y},i.prototype.In=function(){return this.Lf?Math.min(this.Lf.min.y,this.If.min.y):this.If.min.y},i.prototype.qr=function(){return this.Lf?Math.max(this.Lf.max.z,this.If.max.z):this.If.max.z},i.prototype.Kr=function(){return this.Lf?Math.min(this.Lf.min.z,this.If.min.z):this.If.min.z},i.prototype.sc=function(){var t=this.qb,i=t.getSize();return"number"==typeof i?ga(t)?i/2:Sa(t)?5:0:0},i.prototype.uc=function(){return this.sc()},i.prototype.ib=function(){return this.sc()},i.prototype.Nf=function(){return this.il},i.prototype.zf=function(){return this.Bf},i.prototype.Xf=function(){return this.jf},i.prototype.Hf=function(){return this.Df},i.prototype.Sn=function(){return this.Ef=!0,this.il.length=0,this.jf=0,this.Bf=[],this.Df=0,this.If=ms,this.Lf=void 0,this.Pf.C(void 0),this},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.AR.aR(),this.bV=void 0,this},i.prototype.cl=function(){return this.dispose(),this},i}(Gk),c_=function(t,i,n){var r=i.getSize();return i_(t,"number"==typeof r?n||r>=50?20:r>=10?10:r>=3?5:3:32)},l_=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v_=function(){return v_=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},v_.apply(this,arguments)},d_=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r)||this;o.UY="disabled",o.Oe=Nf.fillStyle,o.Vp=Nf.lineStyle,o.CU=l("bilinear"),o.BW=new ba,o.DW=new ya.Simple,o.LW=[],o.EW=void 0,o.bV={},o.PW=!1,o.lN=Ua({fillStyleSolid:function(){return Ou(o.Oe)&&o.Oe},fillStylePaletted:function(){return Bu(o.Oe)&&o.Oe},wireframeStyleLine:function(){return ka(o.Vp)&&o.Vp},wireframeStyleFill:function(){var t=o.Vp&&o.Vp.getFillStyle();return Ou(t)&&t}}),o._U=l(void 0),o.ht={x:0,z:0},o.ct={x:1,z:1},o.kU=!1,o.YA.C(la);var s="columns"===e.dataOrder?e.columns:e.rows,u="columns"===e.dataOrder?e.rows:e.columns;o.ih=v_(v_({},e),{primaryDimensionVectorsCount:s,secondaryDimensionVectorsCount:u}),o.zW=new Array(o.ih.primaryDimensionVectorsCount).fill(void 0),o.qS=new vk(o.eN,i.eN.aY,i.qi.Yi,io,[],o.ih).Rp(Pe),o.qS.BU=Mb;var a=o.qS.DU.gridTiles.map((function(t){var i=t.sizeHeatmapDataVectors,n=t.sizeUniqueHeatmapDataVectors,r=t.iFirstVector,e=t.iFirstUniqueVector,o=new Float32Array(t.sizeHeatmapDataVectors.primary*t.sizeHeatmapDataVectors.secondary),s={primary:t.sizeHeatmapDataVectors.primary-1,secondary:t.sizeHeatmapDataVectors.secondary-1};return{iFirstVector:t.iFirstVector,iFirstUniqueVector:t.iFirstUniqueVector,sizeHeatmapDataVectors:t.sizeHeatmapDataVectors,sizeUniqueHeatmapDataVectors:t.sizeUniqueHeatmapDataVectors,iFirstGeometryVector:r,iFirstGeometryUniqueVector:e,sizeGeometryDataVectors:i,sizeUniqueGeometryDataVectors:n,heightmapData:o,normalmapSize:s}})),h=o.qS.DU.gridTileSizes.map((function(t){var i=a.filter((function(i){return i.sizeHeatmapDataVectors.primary===t.sizeHeatmapData.primary&&i.sizeHeatmapDataVectors.secondary===t.sizeHeatmapData.secondary})),n=i[0].sizeGeometryDataVectors;return v_(v_({},t),{tiles:i,sizeGeometryData:n})})),f=a.reduce((function(t,i){var n=i.sizeHeatmapDataVectors.primary,r=i.sizeHeatmapDataVectors.secondary,e=n*r;return e>t.cells?{primary:n,secondary:r,cells:e}:t}),{primary:0,secondary:0,cells:0});return o.NW={gridTiles:a,gridTileSizes:h,largestGridTileSize:f},o.Wp(o.ht,o.ct),o.OU=new uk,o.EU=[],o}return l_(i,t),i.prototype.Hp=function(t){return this._U.C(t),this},i.prototype.Zp=function(){return this._U.T()},i.prototype.ll=function(t,i,n,r,e){var o=this,s=t-i,u=s%(this.ih.secondaryDimensionVectorsCount-1),a=Math.floor(s/(this.ih.secondaryDimensionVectorsCount-1)),h="columns"===this.ih.dataOrder?a:u,f="rows"===this.ih.dataOrder?a:u,c=[{x:this.ht.x+h*this.ct.x,z:this.ht.z+f*this.ct.z,y:this.VW(a,u),intensity:this.RW(a,u),column:"columns"===this.ih.dataOrder?a:u,row:"columns"===this.ih.dataOrder?u:a},{x:this.ht.x+(h+("columns"===this.ih.dataOrder?1:0))*this.ct.x,z:this.ht.z+(f+("rows"===this.ih.dataOrder?1:0))*this.ct.z,y:this.VW(a+1,u),intensity:this.RW(a+1,u),column:"columns"===this.ih.dataOrder?a+1:u,row:"columns"===this.ih.dataOrder?u:a+1},{x:this.ht.x+(h+1)*this.ct.x,z:this.ht.z+(f+1)*this.ct.z,y:this.VW(a+1,u+1),intensity:this.RW(a+1,u+1),column:"columns"===this.ih.dataOrder?a+1:u+1,row:"columns"===this.ih.dataOrder?u+1:a+1},{x:this.ht.x+(h+("columns"===this.ih.dataOrder?0:1))*this.ct.x,z:this.ht.z+(f+("rows"===this.ih.dataOrder?0:1))*this.ct.z,y:this.VW(a,u+1),intensity:this.RW(a,u+1),column:"columns"===this.ih.dataOrder?a:u+1,row:"columns"===this.ih.dataOrder?u+1:a}],l=c.map((function(t){return o.YY.Pb(t)})).map((function(t){return void 0===t?As:Os(t,{x:r,y:e})})).map((function(t,i){return{i:i,dist:t}}));l.sort((function(t,i){return t.dist-i.dist}));var v=l[0].i;return{info:{dataPoint:v_({},c[v])}}},i.prototype.VW=function(t,i){for(var n=0;n<this.NW.gridTiles.length;n+=1){var r=this.NW.gridTiles[n];if(t>=r.iFirstVector.primary&&t<=r.iFirstVector.primary+r.sizeHeatmapDataVectors.primary-1&&i>=r.iFirstVector.secondary&&i<=r.iFirstVector.secondary+r.sizeHeatmapDataVectors.secondary-1){var e=t-r.iFirstVector.primary,o=i-r.iFirstVector.secondary,s=e*r.sizeHeatmapDataVectors.secondary+o;return r.heightmapData[s]}}return 0},i.prototype.RW=function(t,i){if(this.qS.IU)for(var n=0;n<this.qS.DU.gridTiles.length;n+=1){var r=this.qS.DU.gridTiles[n];if(t>=r.iFirstVector.primary&&t<=r.iFirstVector.primary+r.sizeHeatmapDataVectors.primary-1&&i>=r.iFirstVector.secondary&&i<=r.iFirstVector.secondary+r.sizeHeatmapDataVectors.secondary-1){var e=t-r.iFirstVector.primary,o=i-r.iFirstVector.secondary,s=e*r.sizeHeatmapDataVectors.secondary+o;return r.intensityData?r.intensityData[s]:void 0}}},i.prototype.GW=function(t){this.UW=t,this.EW=void 0},i.prototype.Wp=function(t,i){var n=this;this.kU=this.kU||this.ht!=t||this.ct!=i,this.ht=t,this.ct=i;var r=this.ih,e={min:{x:Math.min(this.ht.x,this.ht.x+(r.columns-1)*this.ct.x),z:Math.min(this.ht.z,this.ht.z+(r.rows-1)*this.ct.z)},max:{x:Math.max(this.ht.x,this.ht.x+(r.columns-1)*this.ct.x),z:Math.max(this.ht.z,this.ht.z+(r.rows-1)*this.ct.z)}},o=new Map;return this.NW.gridTiles.forEach((function(t){var i="columns"===n.ih.dataOrder?{x:n.ct.x*(t.sizeHeatmapDataVectors.primary-1),z:n.ct.z*(t.sizeHeatmapDataVectors.secondary-1)}:{x:n.ct.x*(t.sizeHeatmapDataVectors.secondary-1),z:n.ct.z*(t.sizeHeatmapDataVectors.primary-1)},r="columns"===n.ih.dataOrder?{x:n.ht.x+n.ct.x*t.iFirstVector.primary,z:n.ht.z+n.ct.z*t.iFirstVector.secondary}:{x:n.ht.x+n.ct.x*t.iFirstVector.secondary,z:n.ht.z+n.ct.z*t.iFirstVector.primary};o.set(t,{sizeAxis:i,startLocationAxis:r})})),this.JU={YW:e,tilesInfo:o},this},i.prototype.Xp=function(){return{start:this.ht,step:this.ct,end:{x:this.ht.x+this.ct.x*this.ih.columns,z:this.ht.z+this.ct.z*this.ih.rows}}},i.prototype.WU=function(t,i){var n=this;if(!this.NW)return this;if(!t)return this.WW(),this;if(!i)return this.EU.forEach((function(t){t.nW=n.nW,t.ds(!0)})),this;if(!this.NW.gridTiles)return this;if(!this.JU)return this;var r=this.JU.YW.min.x,e=this.JU.YW.min.z,o=this.JU.YW.max.x,s=this.JU.YW.max.z;if(null==r||null==e||null==o||null==s)return this;var u=this.ih.columns,a=this.ih.rows,h=(o-r)/(u-1),f=(s-e)/(a-1),c=new Array(u).fill(0,0,u).map((function(t,i){return r+i*h})),l=new Array(a).fill(0,0,a).map((function(t,i){return e+i*f})),v=[],d=[];t.levels.forEach((function(t){v.push(t.value),d.push({level:t.value,width:t.strokeStyle.getThickness(),fill:t.strokeStyle.getFillStyle()})}));var y,A,b=function(t,i){return"rows"==n.ih.dataOrder?i:t},p=function(t,i){return"rows"==n.ih.dataOrder?t:i},m=o-r,g=s-e;switch(t.valueSource){case"y":y=function(t,i){return n.VW(b(t,i),p(t,i))},A=function(t,i,n,r){i.push({x:t.ax[n],y:r,z:t.ay[n]})};break;case"intensity":y=function(t,i){return n.RW(b(t,i),p(t,i))},A=function(t,i,o,s){var c=t.ax[o],l=t.ay[o],v=Math.floor((c-r)/m*(u-1)),d=Math.floor((l-e)/g*(a-1)),y=r+v*h,A=e+d*f,x=oa({x:c,y:l},{point:{x:y,y:A},value:n.VW(b(v,d),p(v,d))},{point:{x:y,y:A+f},value:n.VW(b(v,d+1),p(v,d+1))},{point:{x:y+h,y:A},value:n.VW(b(v+1,d),p(v+1,d))},{point:{x:y+h,y:A+f},value:n.VW(b(v+1,d+1),p(v+1,d+1))});i.push({x:c,y:x,z:l})}}return this.OU.wU(y,c,l,v),this.WW(),this.OU.MU.forEach((function(i){var r,e,o=[];i.ax.forEach((function(t,n){A(i,o,n,i.level)})),i.ax[0]==i.ax[i.ax.length-1]&&i.ay[0]==i.ay[i.ay.length-1]&&A(i,o,i.ax.length-1,i.level);var s=null===(r=t.levels.find((function(t){return t.value==i.level})))||void 0===r?void 0:r.strokeStyle;if(0<n.EU.length){var u=n.EU.find((function(t){return t.Nu()===s}));if(u)return u.Wf({x:Number.NaN,y:Number.NaN,z:Number.NaN}),void u.Wf(o)}var a=s.getThickness(),h=new e_(n.YY,n.$i,n.tn,void 0);1<a?h.Ob(new ma({shape:"sphere",size:a,fillStyle:null===(e=d.find((function(t){return t.level==i.level})))||void 0===e?void 0:e.fill})):h.Ob(n.BW),h.Ye(s),h.Wf(o),h.KA(n.DW),n.EU.push(h)})),this},i.prototype.ds=function(t){var i=this,n=this.LW,r=Zf(this.Nh,this.Oe),e=this.lN.fillStyleSolid(r),o=this.lN.fillStylePaletted(r),s=this.Vp,u=this.Vp!==this.qU,a=this.lN.wireframeStyleLine(u),h=this.lN.wireframeStyleFill(u),f=!1!==h,c=this.CU.o,l=this.CU.T(),v=this.YA.T(),d=this.NE(),y=this.Xi.T();this.qS.ds();var A=this.qS.$U;if(!A)return this;this.XW=this.XW||this.HW(A);var b=this.XW;this.ZW(b);var p=Cb(n,b,void 0,(function(t){return t.sizeGeometryDataVectors}));if(p.size>0&&(Fb(this.FD,p,(function(t){return t.heightmapData}),(function(t){return t.heightmapDataTexture})),this.PW=!0),"phong"===v.type&&(p.size>0||d)){var m=this.FD.gl,g=this.FD.rE(rM["2D"],rM.DrawToNormalTexture({flipXZ:"rows"===this.ih.dataOrder,vertexIdSource:this.FD.Sz(),normalTextureType:this.FD.gl2?"uint":"ubyte",heightmapTextureType:this.FD.qL?"float":"ubyte",littleEndian:this.FD.IS_MACHINE_LITTLE_ENDIAN}));b.gridTileSizes.forEach((function(t){t.tiles.forEach((function(n){var r,e=n.normalmapTexture,o=null===(r=i.JU)||void 0===r?void 0:r.tilesInfo.get(n.tileData);if(e&&o){var s={x:n.normalmapSize.secondary,y:n.normalmapSize.primary},u=s.x*s.y;i.FD.oz.fl((function(){i.FD.rP(g,(function(r,e,s,a){return i.FD.zl(g).wz(s,u).oP(r("uTileDimensionsXZ"),["columns"===i.ih.dataOrder?t.sizeHeatmapData.primary:t.sizeHeatmapData.secondary,"columns"===i.ih.dataOrder?t.sizeHeatmapData.secondary:t.sizeHeatmapData.primary]).kP(r("uTileDimensions"),[t.sizeHeatmapData.primary,t.sizeHeatmapData.secondary]).oP(r("uTileStartLocationAxisXZ"),[o.startLocationAxis.x,o.startLocationAxis.z]).oP(r("uTileSizeAxisXZ"),[o.sizeAxis.x,o.sizeAxis.z]).sP(r("uHeightmapTexture"),n.heightmapDataTexture,1).xk(m.POINTS,u),!0}))}),e,s,void 0,i.qi.Ua(),0)}}))}))}var x=this.bV;if(r||u||c){var S=a&&h?{wireframeSolid:a,wireframeFillSolid:h}:void 0;e?x.surface={shader:this.FD.rE(rM["3D"],rM.SurfaceGrid({axisWorldTranslation:Ra(this.Yi),fillColor:"uniform",interpolation:"bilinear"===l&&"bilinear",flipXZ:"rows"===this.ih.dataOrder,shadingStyle:v.type,wireframe:f,normalTextureType:this.FD.gl2?"uint":"ubyte",intensityTextureType:this.FD.qL?"float":"ubyte",heightmapTextureType:this.FD.qL?"float":"ubyte",littleEndian:this.FD.IS_MACHINE_LITTLE_ENDIAN})),fill:{fillMode:"solid",fillStyleSolid:e},wireframe:S}:o&&"value"===o.getLookUpProperty()?x.surface={shader:this.FD.rE(rM["3D"],rM.SurfaceGrid({axisWorldTranslation:Ra(this.Yi),fillColor:["lookup","value",o.lut],interpolation:"bilinear"===l&&"bilinear",flipXZ:"rows"===this.ih.dataOrder,shadingStyle:v.type,wireframe:f,normalTextureType:this.FD.gl2?"uint":"ubyte",intensityTextureType:this.FD.qL?"float":"ubyte",heightmapTextureType:this.FD.qL?"float":"ubyte",littleEndian:this.FD.IS_MACHINE_LITTLE_ENDIAN})),fill:{fillMode:"intensity",fillStylePaletted:o},wireframe:S}:o?x.surface={shader:this.FD.rE(rM["3D"],rM.SurfaceGrid({axisWorldTranslation:Ra(this.Yi),fillColor:["lookup",o.getLookUpProperty(),o.lut],interpolation:"bilinear"===l&&"bilinear",flipXZ:"rows"===this.ih.dataOrder,shadingStyle:v.type,wireframe:f,normalTextureType:this.FD.gl2?"uint":"ubyte",intensityTextureType:this.FD.qL?"float":"ubyte",heightmapTextureType:this.FD.qL?"float":"ubyte",littleEndian:this.FD.IS_MACHINE_LITTLE_ENDIAN})),fill:{fillMode:"xyz",fillStylePaletted:o},wireframe:S}:f&&(x.surface={shader:this.FD.rE(rM["3D"],rM.SurfaceGrid({axisWorldTranslation:Ra(this.Yi),fillColor:void 0,interpolation:"bilinear"===l&&"bilinear",flipXZ:"rows"===this.ih.dataOrder,shadingStyle:v.type,wireframe:f,normalTextureType:this.FD.gl2?"uint":"ubyte",intensityTextureType:this.FD.qL?"float":"ubyte",heightmapTextureType:this.FD.qL?"float":"ubyte",littleEndian:this.FD.IS_MACHINE_LITTLE_ENDIAN})),fill:void 0,wireframe:S})}x.mousePicking=y?this.bV.mousePicking||{shader:this.FD.rE(rM["3D"],rM.MousePicking(),rM.SurfaceGrid({axisWorldTranslation:Ra(this.Yi),fillColor:void 0,interpolation:"bilinear"===l&&"bilinear",flipXZ:"rows"===this.ih.dataOrder,shadingStyle:"simple",wireframe:!1,normalTextureType:this.FD.gl2?"uint":"ubyte",intensityTextureType:this.FD.qL?"float":"ubyte",heightmapTextureType:this.FD.qL?"float":"ubyte",littleEndian:this.FD.IS_MACHINE_LITTLE_ENDIAN}))}:void 0,this.bV=x,this.LW.length=0,this.Nh=this.Oe,this.qU=s,this.YA.o=!1;var w=this._U.T(),M=w!==this.iY;return this.WU(w,M||p.size>0||this.kU),this.kU=!1,this.iY=this._U.T(),this},i.prototype.HW=function(t){var i=this,n=this.NW.gridTiles.map((function(n){var r=Ob(i.FD,n.sizeHeatmapDataVectors.secondary,n.sizeHeatmapDataVectors.primary),e=t.gridTiles.find((function(t){return t.iFirstUniqueVector.primary===n.iFirstUniqueVector.primary&&t.iFirstUniqueVector.secondary===n.iFirstUniqueVector.secondary}));if(!e)throw new Error("Internal LC JS error prepare surface data 2D render data not found");return v_(v_({},n),{intensityDataTexture:e.intensityDataTexture,heightmapDataTexture:r,normalmap:void 0,tileData:n})})),r=this.NW.gridTileSizes.map((function(t){var i=n.filter((function(i){return i.sizeHeatmapDataVectors.primary===t.sizeHeatmapData.primary&&i.sizeHeatmapDataVectors.secondary===t.sizeHeatmapData.secondary}));return v_(v_({},t),{tiles:i})})),e=this.FD.iP([0,0,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,0,0]),o=this.FD.gl.TRIANGLES;return{gridTiles:n,gridTileSizes:r,rectangleLocationsBuffer:e,rectangleLocationsDrawLength:6,rectangleLocationsDrawMode:o}},i.prototype.ZW=function(t){var i,n=this;if("phong"===this.YA.T().type)for(var r=0;r<t.gridTiles.length;r+=1){var e=t.gridTiles[r];if(e.normalmapTexture)return;var o=void 0,s=null===(i=this.FD.gl2)||void 0===i?void 0:i.ctx;if(s)o=this.FD.ZS(null,s.RGBA_INTEGER,!1,!0,{x:e.normalmapSize.secondary,y:e.normalmapSize.primary},!1,s.UNSIGNED_INT,s.RGBA32UI);else{var u=this.FD.gl;o=this.FD.ZS(null,u.RGBA,!1,!0,{x:e.normalmapSize.secondary,y:e.normalmapSize.primary},!1,u.UNSIGNED_BYTE)}e.normalmapTexture=o}else t.gridTiles.forEach((function(t){t.normalmapTexture&&(n.FD.BD(t.normalmapTexture),t.normalmapTexture=void 0)}))},i.prototype.fl=function(t,i){var n,r,e,o,s=this,u=this.FD.gl,a=this.XW;if(!a)return{};var h=this.YA.T(),c=this.bV,l=1===t?null===(n=c.mousePicking)||void 0===n?void 0:n.shader:null===(r=c.surface)||void 0===r?void 0:r.shader;if(!l)return{};var v=1!==t?null===(e=c.surface)||void 0===e?void 0:e.wireframe:void 0,d=1!==t?null===(o=c.surface)||void 0===o?void 0:o.fill:void 0;return this.FD.rP(l,(function(n,r,e,o){var c=!1;if(s.FD.zl(l).Cz(e,s.NW.largestGridTileSize.cells)._P(n("uScale"),s.YY.rL.aP())._P(n("uDisp"),s.YY.rL.hP()).FP(n("uViewProjectionMatrix"),s.nW).uP(n("uIsHighlighted"),1===t||2===t?0:s.Ki).wI(n("uHighlightColorOffset"),1===t||2===t?Fr:s.rn).uP(n("uRenderEffectMask"),2===t?1:0),1!==t&&("phong"===h.type&&s.FD._P(n("uCameraLoc"),s.rW)._P(n("uLightLoc"),s.eW).uP(n("uAmbientReflection"),h.ambientReflection).uP(n("uSpecularReflection"),h.specularReflection).uP(n("uDiffuseReflection"),h.diffuseReflection).uP(n("uShininess"),h.shininess).wI(n("uLightColor"),h.specularColor).wI(n("uAmbientColor"),h.ambientColor),v)){var y=v.wireframeFillSolid,A=v.wireframeSolid,b=A.getThickness()<0?1:A.getThickness();s.FD.wI(n("uWireframeColor"),y.getColor()).uP(n("uWireframeThickness"),b)}return 1===t||"solid"===(null==d?void 0:d.fillMode)&&s.FD.wI(n("uColorDiffuse"),d.fillStyleSolid.getColor()),a.gridTileSizes.forEach((function(o){s.FD.oP(n("uTileDimensionsXZ"),["columns"===s.ih.dataOrder?o.sizeHeatmapData.primary:o.sizeHeatmapData.secondary,"columns"===s.ih.dataOrder?o.sizeHeatmapData.secondary:o.sizeHeatmapData.primary]).kP(n("uTileDimensions"),[o.sizeHeatmapData.primary,o.sizeHeatmapData.secondary]),o.tiles.forEach((function(h){var l,y=null===(l=s.JU)||void 0===l?void 0:l.tilesInfo.get(h.tileData);if(y){var A=0,b=(h.sizeHeatmapDataVectors.primary-1)*(h.sizeHeatmapDataVectors.secondary-1);if(s.UW){var p=s.UW.fill.iFirstPrimary,m=s.UW.fill.iFirstPrimary+s.UW.fill.amountPrimary-1,g=h.iFirstVector.primary,x=h.iFirstVector.primary+h.sizeHeatmapDataVectors.primary-1;if(g>m||x<p)return;var S=function(t,i,n,r){return f(Math.max(t,n),Math.min(i,r))}(p,m,g,x);A=(S.min-h.iFirstVector.primary)*(o.sizeGeometryData.secondary-1),b=(S.max-S.min)*(o.sizeGeometryData.secondary-1)}if(!(A<0||b<=0)){if("intensity"===(null==d?void 0:d.fillMode)){var w=d.fillStylePaletted,M=s.qS.Pf;s.FD.jz(e,w.lut,M).sP(n("uTileIntensityValues"),h.intensityDataTexture,2).vP(n("uTileBoundsAxisXZ"),[y.startLocationAxis.x,y.startLocationAxis.z,y.sizeAxis.x,y.sizeAxis.z])}if("xyz"===(null==d?void 0:d.fillMode)){if(!(M="x"===(w=d.fillStylePaletted).getLookUpProperty()?{min:s.On(),max:s.Fn()}:"y"===w.getLookUpProperty()?{min:s.In(),max:s.jn()}:"z"===w.getLookUpProperty()?{min:s.Kr(),max:s.qr()}:void 0)&&w.lut.percentageValues)return;s.FD.jz(e,w.lut,M)}1!==t&&"phong"===s.YA.T().type&&h.normalmapTexture&&s.FD.sP(n("uNormalmapTexture"),h.normalmapTexture,3),1===t&&s.FD.IP(n("uFirstId"),i+A),s.FD.eP(a.rectangleLocationsBuffer,0,{location:r("aGeoCellOffset"),size:2},{location:v?r("aTriangleBary"):void 0,size:3}).IP(n("uBaseInstance"),A).oP(n("uTileStartLocationAxisXZ"),[y.startLocationAxis.x,y.startLocationAxis.z]).oP(n("uTileSizeAxisXZ"),[y.sizeAxis.x,y.sizeAxis.z]).sP(n("uHeightmapTexture"),h.heightmapDataTexture,0).ZP(a.rectangleLocationsDrawMode,0,a.rectangleLocationsDrawLength,b),c=!0,u.bindBuffer(u.ARRAY_BUFFER,null)}}}))})),c})),1!==t&&this.EU.forEach((function(i){i.nW||(i.nW=s.YY.nW),i.rW||(i.rW=[s.YY.rW.x,s.YY.rW.y,s.YY.rW.z]),i.eW||(i.eW=[s.YY.rW.x,s.YY.rW.y,s.YY.rW.z]),i.ds(!0),i.fl(t,0)})),{idCount:this.ih.columns*this.ih.rows}},i.prototype.an=function(){return this.qS.an()},i.prototype.WW=function(){return this.EU.forEach((function(t){return t.dispose()})),this.EU.length=0,this},i.prototype.dispose=function(){var i=this;return t.prototype.dispose.call(this),this.qS.dispose(),this.XW&&(this.XW.gridTileSizes.forEach((function(t){})),this.XW.gridTiles.forEach((function(t){i.FD.BD(t.heightmapDataTexture),t.normalmapTexture&&i.FD.BD(t.normalmapTexture)})),this.FD.yP(this.XW.rectangleLocationsBuffer),this.XW=void 0),this.WW(),this.bV={},this},i.prototype.cl=function(){return this.dispose(),this.qS.cl(),this},i.prototype.qp=function(t){return this.qS.qp(t),this},i.prototype.$p=function(t){this.LW.push(t),_b(this.NW.gridTiles,t,(function(t){return t.heightmapData}),(function(t,i){t.heightmapData=i}));for(var i=t.startPrimary;i<t.startPrimary+t.lengthPrimary;i+=1)this.zW[i]=void 0;return this.EW=void 0,this},i.prototype.Qp=function(t){return this.CU.C(t),this},i.prototype.Kp=function(){return this.CU.T()},i.prototype.Be=function(t){return this.Oe=Hf(this.Oe,t),this.qS.Be(this.Oe),this},i.prototype.Zo=function(){return this.Oe},i.prototype.Rp=function(t){return this.Vp="function"==typeof t?t(this.Vp):t,this},i.prototype.Jp=function(){return this.Vp},i.prototype.Fn=function(){var t;return(null===(t=this.JU)||void 0===t?void 0:t.YW.max.x)||0},i.prototype.On=function(){var t;return(null===(t=this.JU)||void 0===t?void 0:t.YW.min.x)||0},i.prototype.jn=function(){var t=this.EW||this.JW();return this.EW=t,t.max},i.prototype.In=function(){var t=this.EW||this.JW();return this.EW=t,t.min},i.prototype.qr=function(){var t;return(null===(t=this.JU)||void 0===t?void 0:t.YW.max.z)||0},i.prototype.Kr=function(){var t;return(null===(t=this.JU)||void 0===t?void 0:t.YW.min.z)||0},i.prototype.sc=function(){return 0},i.prototype.uc=function(){return 0},i.prototype.ib=function(){return 0},i.prototype.JW=function(){var t=this;if(this.EW)return this.EW;var i=this.UW?this.UW.fill.iFirstPrimary:0,n=this.UW?i+this.UW.fill.amountPrimary-1:this.ih.primaryDimensionVectorsCount-1,r=As,e=bs;return this.NW.gridTiles.forEach((function(o){for(var s=Math.max(i,o.iFirstUniqueVector.primary);s<=Math.min(n,o.iFirstUniqueVector.primary+o.sizeUniqueHeatmapDataVectors.primary-1);s+=1){var u=(s-o.iFirstUniqueVector.primary)*o.sizeHeatmapDataVectors.secondary,a=t.zW[s];if(a)r=r<a.min?r:a.min,e=e>a.max?e:a.max;else{a={min:As,max:bs},t.zW[s]=a;for(var h=0;h<o.sizeHeatmapDataVectors.secondary;h+=1){var f=o.heightmapData[u+h];r=r<f?r:f,e=e>f?e:f,a.min=Math.min(a.min,f),a.max=Math.max(a.max,f)}}}})),this.EW={min:r,max:e},this.EW},i}(Gk),y_=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A_=function(){return A_=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},A_.apply(this,arguments)},b_=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r)||this;o.UY="disabled",o.oY=0,o.uY={},o.QW=new Map,o.ht={x:0,z:0},o.ct={x:1,z:1},o.ih=A_(A_({},e),{scrollDimensionSize:"columns"===e.scrollDimension?e.columns:e.rows,staticDimensionSize:"columns"===e.scrollDimension?e.rows:e.columns}),o.YW={min:{x:o.ht.x,z:o.ht.z},max:{x:"rows"===e.scrollDimension?o.ht.x+(e.columns-1)*o.ct.x:o.ht.x,z:"columns"===e.scrollDimension?o.ht.z+(e.rows-1)*o.ct.z:o.ht.z}};var s=function(){return{shape:new d_(o.YY,io,o.tn,{columns:e.columns+("columns"===e.scrollDimension?1:0),rows:e.rows+("rows"===e.scrollDimension?1:0),dataOrder:e.scrollDimension,heatmapDataType:"intensity"}).setVisible(!1),hasData:!1}};return o.uw=[s(),s()],o}return y_(i,t),i.prototype.ds=function(t){this.uw.forEach((function(i){i.shape.ds(t)}));var i=this.uw.reduce((function(t,i){var n,r;return t.min=Math.min(t.min,oo(null===(n=i.shape.qS.Pf)||void 0===n?void 0:n.min,As)),t.max=Math.max(t.max,oo(null===(r=i.shape.qS.Pf)||void 0===r?void 0:r.max,bs)),t}),{min:As,max:bs}),n=this.uw.reduce((function(t,i){var n,r;return t.min=Math.min(t.min,oo(null===(n=i.shape.EW)||void 0===n?void 0:n.min,As)),t.max=Math.max(t.max,oo(null===(r=i.shape.EW)||void 0===r?void 0:r.max,bs)),t}),{min:As,max:bs});return this.uw.forEach((function(t){t.shape.qS.Pf=i,t.shape.EW=n})),this},i.prototype.fl=function(t,i){var n=this,r=0,e=i;return this.uw.forEach((function(i){if(i.hasData){i.shape.nW=n.nW,i.shape.rW=n.rW,i.shape.eW=n.eW;var o=i.shape.fl(t,e).idCount;void 0!==o&&(1===t&&n.QW.set(i,{idFirst:e,idCount:o}),r+=o,e+=o)}})),{idCount:r}},i.prototype.ll=function(t,i,n,r,e){var o=Array.from(this.QW).find((function(i){return ks(t,i[1].idFirst,i[1].idFirst+i[1].idCount-1)}));return o?o[0].shape.ll(t,o[1].idFirst,o[1].idCount,r,e):{}},i.prototype.Wp=function(t,i){var n=this;return this.ht=t,this.ct=i,this.uw.forEach((function(t){t.shape.Wp("columns"===n.ih.scrollDimension?{x:t.shape.Xp().start.x,z:n.ht.z}:{x:n.ht.x,z:t.shape.Xp().start.z},n.ct)})),"columns"===this.ih.scrollDimension?(this.YW.min.z=t.z,this.YW.max.z=this.ht.z+(this.ih.rows-1)*this.ct.z):(this.YW.min.x=t.x,this.YW.max.x=this.ht.x+(this.ih.columns-1)*this.ct.x),this},i.prototype.Xp=function(){return{start:this.ht,step:this.ct}},i.prototype.Sn=function(){return this.oY=0,this.uY={},this.YW={min:{x:this.ht.x,z:this.ht.z},max:{x:"rows"===this.ih.scrollDimension?this.ht.x+(this.ih.columns-1)*this.ct.x:this.ht.x,z:"columns"===this.ih.scrollDimension?this.ht.z+(this.ih.rows-1)*this.ct.z:this.ht.z}},this.uw.forEach((function(t){t.shape.setVisible(!1),t.shape.PW=!1,t.hasData=!1})),this},i.prototype.rm=function(t){var i,n=this.uw[0],r=this.uw[1],e=t.heightMapValues?t.heightMapValues.length:null===(i=t.intensityValues)||void 0===i?void 0:i.length,o=0;if(!e)return this;do{var s=Math.floor(this.oY/this.ih.scrollDimensionSize)%this.uw.length,u=this.uw[s],a=this.oY%this.ih.scrollDimensionSize,h=this.ih.scrollDimensionSize-a,f=0===a,c=Math.min(h,e),l=a+c,v=a,d=v+1,y=o,A=o+c,b=this.oY>=this.ih.scrollDimensionSize&&l<=this.ih.scrollDimensionSize-1,p=f;f&&(u.shape.Wp("columns"===this.ih.scrollDimension?{x:this.ht.x+(this.oY-1)*this.ct.x,z:this.ht.z}:{x:this.ht.x,z:this.ht.z+(this.oY-1)*this.ct.z},this.ct),u.shape.setVisible(!0));var m=b?0:1,g=l+(b?1:0);u.shape.GW({fill:{iFirstPrimary:m,amountPrimary:g},wireframe:{iFirstPrimary:m,amountPrimary:g,connectNext:!1}});var x=u===n?r:n,S=l+1,w=1+this.ih.scrollDimensionSize-S;x.shape.GW({fill:{iFirstPrimary:S,amountPrimary:w},wireframe:{iFirstPrimary:S,amountPrimary:w-1,connectNext:!0}});var M={};if(t.heightMapValues){var C=t.heightMapValues.slice(y,A),T=!1;p&&this.uY.yValues&&(T=!0,C.splice(0,0,this.uY.yValues));var k={startPrimary:T?v:d,startSecondary:0,lengthPrimary:C.length,lengthSecondary:this.ih.staticDimensionSize,values:C,type:"y"};u.shape.$p(k),u.hasData=!0,M.yValues=Array.from(C[c-1])}if(t.intensityValues){var _=t.intensityValues.slice(y,A),O=!1;p&&this.uY.intensityValues&&(O=!0,_.splice(0,0,this.uY.intensityValues)),k={startPrimary:O?v:d,startSecondary:0,lengthPrimary:_.length,lengthSecondary:this.ih.staticDimensionSize,values:_,type:"intensity"},u.shape.qp(k),u.hasData=!0,M.intensityValues=Array.from(_[c-1])}this.oY+=c,o+=c,this.uY=M}while(o<e);return"columns"===this.ih.scrollDimension?(this.YW.min.x=this.ht.x+Math.max(this.oY-this.ih.scrollDimensionSize,0)*this.ct.x,this.YW.max.x=this.ht.x+(this.oY-1)*this.ct.x):(this.YW.min.z=this.ht.z+Math.max(this.oY-this.ih.scrollDimensionSize,0)*this.ct.z,this.YW.max.z=this.ht.z+(this.oY-1)*this.ct.z),this},i.prototype.qp=function(t){var i,n=this,r=t.iSample,e=t.yValues,o=t.intensityValues,s=e||o;if(!s)return this;var u=r,a=r+s.length-1,h=s[0].length;this.uw.forEach((function(t,i){var r,s,f=Math.floor(n.oY/n.ih.scrollDimensionSize)%n.uw.length,c=n.oY%n.ih.scrollDimensionSize;if(i===f?0===c?(s=-1,r=-1):r=(s=n.oY-1)-c+1:r=(s=n.oY-c-1)-n.ih.scrollDimensionSize+1,!(a<r||u>s)){var l=Math.max(u,r),v=Math.min(a,s),d=v-l+1,y=o&&o.slice(l-u,v-u+1),A=e&&e.slice(l-u,v-u+1),b=y&&{type:"intensity",startSecondary:0,lengthSecondary:h,startPrimary:l+1,lengthPrimary:d,values:y},p=A&&{type:"y",startSecondary:0,lengthSecondary:h,startPrimary:l+1,lengthPrimary:d,values:A};b&&t.shape.qp(b),p&&t.shape.$p(p),v===n.oY-1&&(n.uY={yValues:A?Array.from(A[A.length-1]):void 0,intensityValues:y?Array.from(y[y.length-1]):void 0})}}));var f=this.oY-1;if(a>f){var c=a-f,l=e&&e.slice(-c).map((function(t){return Array.isArray(t)?t:Array.from(t)})),v=o&&o.slice(-c).map((function(t){return Array.isArray(t)?t:Array.from(t)})),d=l?l.length:null!==(i=null==v?void 0:v.length)&&void 0!==i?i:0;if(d<c)for(var y=this.uY||new Array(h).fill(0),A=d;A<c;A+=1)l&&y.yValues&&l.unshift(y.yValues),v&&y.intensityValues&&v.unshift(y.intensityValues);this.rm({heightMapValues:l,intensityValues:v,lengthPrimary:d,lengthSecondary:h})}return this},i.prototype.om=function(){return this.oY},i.prototype.Qp=function(t){return this.uw.forEach((function(i){return i.shape.Qp(t)})),this},i.prototype.Kp=function(){return this.uw[0].shape.Kp()},i.prototype.Be=function(t){return this.uw.forEach((function(i){return i.shape.Be(t)})),this},i.prototype.Zo=function(){return this.uw[0].shape.Zo()},i.prototype.Rp=function(t){return this.uw.forEach((function(i){return i.shape.Rp(t)})),this},i.prototype.Jp=function(){return this.uw[0].shape.Jp()},i.prototype.cl=function(){return this.dispose(),this.uw.forEach((function(t){return t.shape.cl()})),this},i.prototype.dispose=function(){return t.prototype.dispose.call(this),this.uw.forEach((function(t){return t.shape.dispose()})),this},i.prototype.setVisible=function(i){return t.prototype.setVisible.call(this,i),this.uw.forEach((function(t){return t.shape.setVisible(i&&t.hasData)})),this},i.prototype.KA=function(i){return t.prototype.KA.call(this,i),this.uw.forEach((function(t){return t.shape.KA(i)})),this},i.prototype.Fn=function(){return this.YW.max.x},i.prototype.On=function(){return this.YW.min.x},i.prototype.jn=function(){return Math.max(this.uw[0].shape.jn(),this.uw[1].shape.jn())},i.prototype.In=function(){return Math.min(this.uw[0].shape.In(),this.uw[1].shape.In())},i.prototype.qr=function(){return this.YW.max.z},i.prototype.Kr=function(){return this.YW.min.z},i.prototype.sc=function(){return 0},i.prototype.uc=function(){return 0},i.prototype.ib=function(){return 0},i.prototype.vn=function(i){return t.prototype.vn.call(this,i),this.uw.forEach((function(t){return t.shape.vn(i)})),this},i}(Gk),p_=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m_=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r)||this;return o.rW=a(0,0,1),o.KW=a(0,0,-1),o.qW=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],o.YA=new ca,o.Yi=e,o}return p_(i,t),i.prototype.cg=function(){var t=this.Yi,i=t.cellIndex,n=t.cellSpan,r=t.cellsAmount,e=n.x/r.x,o=n.y/r.y,s=i.x/r.x,u=i.y/r.y,a=this.qi.ai();return{x:s*a.x,y:u*a.y,width:e*a.x,height:o*a.y}},i.prototype.setCameraLocation=function(t){return this.rW=t,this},i.prototype.getCameraLocation=function(){return this.rW},i.prototype.setCameraDirection=function(t){return this.KW=ys.normalize(t),this},i.prototype.getCameraDirection=function(){return this.KW},i.prototype.setLightLocation=function(t){return this.eW=t,this},i.prototype.getLightLocation=function(){return this.eW},i.prototype.$W=function(){return a(this.qW[0],this.qW[1],this.qW[2])},i.prototype.tX=function(){return a(this.qW[4],this.qW[5],this.qW[6])},i}(wk),g_=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x_=function(){return x_=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},x_.apply(this,arguments)},S_=function(t){function i(i,n,r,e){var o=t.call(this,i,n,r,e)||this;return o.rL=new eC,o.iX=!0,o.nX=function(){o.iX=!0},o.rX="perspective",o.eN=i,o.gl=i.sN(),o.PY=o.pn,o.qi.kt("resize",o.nX),e.addEventListener("cellresize",o.nX),o}return g_(i,t),i.prototype.$E=function(t){var i=t.On(),n=t.In(),r=t.Kr(),e=t.Fn(),o=t.jn(),s=t.qr();if(i===As||e===bs||n===As||o===bs||r===As||s===bs)return ps;var u,a=t.sc(),h=t.uc(),f=t.ib(),c=Math.abs(t.kr.Lb(a)*t.Yi.x.Gt()),l=Math.abs(t.kr.Lb(h)*t.Yi.y.Gt()),v=Math.abs(t.kr.Lb(f)*t.Yi.z.Gt()),d=i-c,y=e+c,A=n-l,b=o+l,p=r-v,m=s+v;return[{x:d,y:A,z:p},{x:y,y:A,z:p},{x:d,y:b,z:p},{x:y,y:b,z:p},{x:d,y:A,z:m},{x:y,y:A,z:m},{x:d,y:b,z:m},{x:y,y:b,z:m}].map((function(i){return t.kr.Pb(i)})).forEach((function(t){if(t){var i={min:t,max:t};u=u?Ls(u,{min:t,max:t}):i}})),u||ps},i.prototype.Pb=function(t){if(this.eX(),this.oX(),this.nW){var i=this.rL.hP(),n=a(i[0],i[1],i[2]),r=this.rL.aP(),e=a(r[0],r[1],r[2]),s=ys.divideVec(ys.subtractVec(t,n),e),u=this.nW,h=RM.multiply(u,[s.x,s.y,s.z,1]),f=o(h[0]/h[3],h[1]/h[3]),c=this.qi.ai();return{x:.5*(1+f.x)*c.x,y:.5*(1+f.y)*c.y}}},i.prototype.Ng=function(t){var i=this.rL.hP(),n=this.rL.aP(),r=ys.divideVec(ys.subtractVec(t,{x:i[0],y:i[1],z:i[2]}),{x:n[0],y:n[1],z:n[2]});return x_(x_({},t),{x:r.x,y:r.y,z:r.z})},i.prototype.Vg=function(t){var i=this.rL.hP(),n=this.rL.aP(),r=ys.addVec(ys.multiplyVec(t,{x:n[0],y:n[1],z:n[2]}),{x:i[0],y:i[1],z:i[2]});return x_(x_({},t),{x:r.x,y:r.y,z:r.z})},i.prototype.Lb=function(t){return t/1e3},i.prototype.vW=function(){return.001},i.prototype.ds=function(){var t=this.rW,i=this.eW,n=this.Yi.x.o||this.Yi.y.o||this.Yi.z.o;if(!i)throw Ho(0,(function(){return Zo()}));var r=this.eX().viewProjectionMatrix;this.oX();var e=[t.x,t.y,t.z],o=[i.x,i.y,i.z];return this.pn.forEach((function(t){t.nW=r,t.rW=e,t.eW=o,t.ds(n)})),this},i.prototype.Eg=function(t){this.rX!==t&&(this.rX=t,this.iX=!0)},i.prototype.Pg=function(){return this.rX},i.prototype.eX=function(){if(!this.iX&&this.nW)return{viewProjectionMatrix:this.nW};var t=this.cg(),i=t.width/t.height;if("perspective"===this.rX)this.sX=RM.projectionPerspective(45,i,.1,100);else{var n=void 0,r=void 0,e=.5*ys.length(this.rW);i>1?r=(n=e)/i:n=(r=e)*i,this.sX=RM.projectionOrthographic(-n,n,-r,r,-400,100)}var o=this.rW;this.qW[12]=o.x,this.qW[13]=o.y,this.qW[14]=o.z;var s=this.KW,u=a(0,1,0),h=ys.multiply(s,-1),f=ys.normalize(ys.cross(u,h)),c=ys.normalize(ys.cross(h,f));this.qW[0]=f.x,this.qW[1]=f.y,this.qW[2]=f.z,this.qW[4]=c.x,this.qW[5]=c.y,this.qW[6]=c.z,this.qW[8]=h.x,this.qW[9]=h.y,this.qW[10]=h.z,this.uX=RM.inverse(this.qW);var l=this.Yi,v=l.cellIndex,d=l.cellSpan,y=l.cellsAmount,A=d.x/y.x,b=d.y/y.y,p=(v.x+d.x/2)/y.x,m=(v.y+d.y/2)/y.y,g=RM.multiply(RM.translation(ea(-1,1,p),ea(-1,1,m),0),RM.scaling(A,b,1));return this.nW=RM.multiply(g,RM.multiply(this.sX,this.uX)),this.aX=RM.inverse(this.nW),this.iX=!1,{viewProjectionMatrix:this.nW}},i.prototype.oX=function(){this.rL.Kz(this.Yi.x),this.rL.qz(this.Yi.y),this.rL.$z(this.Yi.z)},i.prototype.fl=function(t,i,n){var r,e=this.gl.RE(),o=this.cg(),s={x:o.x*e*i,y:o.y*e*i,width:o.width*e*i,height:o.height*e*i};this.gl.tP(s.x,s.y,s.width,s.height);for(var u=((null===(r=n[n.length-1])||void 0===r?void 0:r.idLast)||0)+1,a=Array.from(this.PY.values()),h=0;h<a.length;h+=1){var f=a[h];if(f.getVisible())if(this.gl.HE(f.UY),this.gl.qA(f.HA),1!==t)f.fl(t,0);else if(1===t&&f.getPointerEvents()){var c=f.fl(t,u).idCount;void 0!==c&&(n.push({entity:f,layer:this,entityIndex:h,idFirst:u,idCount:c,idLast:u+c-1}),u+=c)}}return this.gl.HE("disabled"),this.gl.qA(!1),this.gl.ZE(!1),this},i.prototype.setCameraLocation=function(i){return this.rW.x===i.x&&this.rW.y===i.y&&this.rW.z===i.z||(this.iX=!0),t.prototype.setCameraLocation.call(this,i),this},i.prototype.setCameraDirection=function(i){return this.KW.x===i.x&&this.KW.y===i.y&&this.KW.z===i.z||(this.iX=!0),t.prototype.setCameraDirection.call(this,i),this},i.prototype.Ft=function(){t.prototype.Ft.call(this),this.qi.Ot("resize",this.nX),this.Yi.removeEventListener("cellresize",this.nX)},i.prototype.tp=function(t){return this.fY(new f_(this,this.cY,[],t))},i.prototype.Fb=function(t,i){return this.fY(new e_(this,this.cY,t,i))},i.prototype.ob=function(){return this.fY(new Xk(this,this.cY,[]))},i.prototype.bm=function(){return this.fY(new a_(this,this.cY,[]))},i.prototype.ly=function(){return this.fY(new qk(this,this.cY,[]))},i.prototype.Gp=function(t){return this.fY(new d_(this,this.cY,[],t))},i.prototype.nm=function(t){return this.fY(new b_(this,this.cY,[],t))},i}(m_),w_=function(){function t(t,i){var n=this;this.hX=[],this.fX=[],this.cX=function(t,i){var r=n.hX.find((function(i){return i.rl===t}));r&&("pointerenter"!==i.type&&"pointermove"!==i.type||n.qi.fh(r,!0,i.timeStamp),"pointerleave"===i.type&&n.qi.fh(r,!1,i.timeStamp))},this.qi=t,this.ul="init"in i?i.init({engine:t.MA,handleEvent:this.cX}):i,this.lX=0,this.vX=String(Math.round(1e6*Math.random()))}return t.prototype.$s=function(t,i,n,r){var e=this,o=new dc(t,i,n,r,"".concat(this.vX,"-").concat(this.lX));return this.hX.push(o),o.addEventListener("dispose",(function(){var t,i=e.hX.indexOf(o);i>=0&&e.hX.splice(i,1),(null===(t=e.qi.dh)||void 0===t?void 0:t.entity)===o&&e.qi.fh(void 0,!1,Qe.performance.now())})),this.lX+=1,o},t.prototype.dX=function(){var t=this.hX.filter((function(t){return t.getVisible()&&t.js().length>0&&Ou(t.Oe)})).map((function(t){return t.el()})),i=this.fX;this.ul.update({textList:t,engine:this.qi.MA,obstructingOverlays:i}),this.fX.length=0},t.prototype.Ft=function(){var t=this.hX.filter((function(t){return t.getVisible()&&t.js().length>0&&Ou(t.Oe)})).map((function(t){return t.el()}));this.ul.dispose&&this.ul.dispose({textList:t,engine:this.qi.MA})},t.prototype.xy=function(t){this.fX.push(t)},t}(),M_=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C_=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},T_=function(t){function i(i,n,r,e){void 0===e&&(e=tC);var o=t.call(this,i,n,r)||this;if(o.Bt=s(1,1),o.yX=!1,o.AX=0,o.bX=!0,o.pX=0,o.lW=8*Math.pow(1024,2),o.GL=[null,null],o.mX=null,o.gX=null,o.xX=0,o.bA=!1,o.SX=0,o.vr=function(t){return void 0===t&&(t=!1),o.Hi||o.Ia||mM(o.FD.gl)||(t&&(o.yX=!0),o.Ca=!0,o.wX||o.Ka.nE(t)),o},o.wX=!1,o.uE=function(t){if(!o.Hi&&!o.Ia){var i=t-o.AX;if(i>=o.hh||-1===o.hh){o.wX=!0,o.AX=t,o.yX=!1;var n=i>50?1e3/60:i;o.Ta&&o.Ta(n),o.ir.ds(i),o.Wa(),o.Xa(),o.Ca=!1,-1!==o.hh&&o.yX&&(o.Ka.nE(o.yX),o.Ca=!0),o.ka&&o.ka(),o.wX=!1,o.Ct.Tt("renderframe",{}),o.Ca&&o.vr(o.yX)}else o.Ca=!0,o.Ka.nE()}},o.MX=new Map,o.sN=function(){return o.FD},o.CX=function(){var t,i,n=o.Qa(),r=o.bX,e=Qe.performance.now(),s=null===(t=o.TX)||void 0===t?void 0:t.kX.reduce((function(t,i){return t?i._X&&t._X&&i._X>t._X?i:t:i}),void 0),u=null==s?void 0:s._X,a=null===(i=o.La)||void 0===i?void 0:i.timeStamp,h=o.OX;return r?(o.vr(!0),!1):void 0===s||(void 0===s||!s.FX)&&(void 0!==u&&void 0===n?e-u>=1e3:!(void 0!==u&&void 0!==a&&e-a>=2e3&&(void 0===h||e-h>=2e3))||e-u>=1e3)},o.IX=function(){var t,i;o.jX=void 0;var n=null===(i=null===(t=o.TX)||void 0===t?void 0:t.BX)||void 0===i?void 0:i.DX;void 0===n||n>=o.pX||o.LX()},o.Xa=function(){var t,i;if(o.Hi||o.Ia)return o;var n=o.FD.gl,r=Qe.performance.now();o.FD.KE(n.FRAMEBUFFER,o.Ka.QL?o.GL[0]:null);var e=o.Bt,s=e.x>0&&e.y>0,u=o.FD.RE();if(o.Ga.o&&o.FD.KP(o.Ga.T()),o.Ka.ZL&&o.PL&&(o.PL.canvas.width=e.x*u,o.PL.canvas.height=e.y*u),n.resize&&s&&n.resize(e.x*u,e.y*u),o.FD.qE(0,0,e.x*u,e.y*u),o.FD.tP(0,0,e.x*u,e.y*u),o.FD.Sn(),s)try{for(var a=C_(o.Sa.values()),h=a.next();!h.done;h=a.next())h.value.fl(0,1,[])}catch(i){t={error:i}}finally{try{h&&!h.done&&(i=a.return)&&i.call(a)}finally{if(t)throw t.error}}if(o.sl&&o.sl.dX(),o.ih.oh&&s&&(o.jX&&(Qe.clearTimeout(o.jX),o.jX=void 0),o.CX()?(o.LX(),o.FD.KE(n.FRAMEBUFFER,o.Ka.QL?o.GL[0]:null)):o.jX=Qe.setTimeout(o.IX,500)),o.Dt(),o.Pa(),Array.from(o.Ba.values()).forEach((function(t){t.lastEvent.isLcjsArtificialEvent=!0,o.Da("pointermove",t.lastEvent)})),o.Ka.QL){var f=o.FD.gl2.ctx;f.bindFramebuffer(f.READ_FRAMEBUFFER,o.GL[0]),f.bindFramebuffer(f.DRAW_FRAMEBUFFER,o.GL[1]),f.clearBufferfv(f.COLOR,0,[1,1,1,1]),f.blitFramebuffer(0,0,o.Bt.x*u,o.Bt.y*u,0,0,o.Bt.x*u,o.Bt.y*u,n.COLOR_BUFFER_BIT,n.LINEAR)}else n.bindTexture(n.TEXTURE_2D,o.EL),n.copyTexImage2D(n.TEXTURE_2D,0,n.RGBA,0,0,o.Bt.x*u,o.Bt.y*u,0),n.bindTexture(n.TEXTURE_2D,null);return o.FD.KE(n.FRAMEBUFFER,null),mM(o.FD.gl)?o.Ka.DL(0,0,o.Bt.x*u,o.Bt.y*u,[o]):o.Ka.nE(),o.bX=!1,o.pX=r,o},o.Wa=function(){var t,i;if("use-window"===o.EX.mode){var n=Qe.devicePixelRatio||1;o.FD.fz(n)}var r=o.Bt;if(0===r.x||0===r.y)return o;o.Mh.zt(r);try{for(var e=C_(o.Sa.values()),s=e.next();!s.done;s=e.next())s.value.ds()}catch(i){t={error:i}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(t)throw t.error}}return o.Dt(),o},o.Ka=i,o.Ka.ZL){o.PX=Qe.document.createElement("canvas"),o.PX.style.width="100%",o.PX.style.height="100%",o.PX.style.display="block",o.PX.style.boxSizing="content-box",o.PX.style.position="absolute";var u=o.PX.getContext("2d",{willReadFrequently:!1,alpha:!0,desynchronized:!1});if(!u)throw new zS("No Canvas context available.");o.PL=u,o.lu.appendChild(o.PX)}o.Ka.fE(o);var a,h={preserveDrawingBuffer:!0,antialias:n?n.antialias:void 0,alpha:!0,lineAntialias:!n||(!0===n.lineAntiAlias||!1===n.lineAntiAlias?n.lineAntiAlias:!1!==n.antialias)};if(o.Ka.QL&&i.gl2&&(a=new e(o,o.ih,{type:"webgl2",ctx:i.gl2.ctx,antialias:h.antialias,lineAntialias:h.lineAntialias},o.en.isDark)),a||o.Ka.QL||(a=new e(o,o.ih,{type:"webgl1",ctx:i.gl,antialias:h.antialias,lineAntialias:h.lineAntialias},o.en.isDark)),!a)throw new zS("No WebGL context available");if(o.FD=a,"number"==typeof(null==n?void 0:n.devicePixelRatio))o.EX={mode:"fixed",value:n.devicePixelRatio},o.FD.fz(n.devicePixelRatio);else{var f=Qe.document.head.querySelector('meta[name="viewport"]'),c=!0===n.devicePixelRatio||(null==f?void 0:f.content.includes("width=device-width")),l=Qe.devicePixelRatio||1;o.EX=c?{mode:"use-window"}:{mode:"fixed",value:l},o.FD.fz(l)}var v=n?n.width:void 0,d=n?n.height:void 0;o.gh=o.zX(v),o.wh=o.zX(d),o.NX(o.gh,o.wh),o.aY=o.mB("engine offscreen",1e6),o.VX=o.mB("engine bg",0);var y="function"==typeof o.en.lcjsBackgroundFillStyle?Je({resourcesBaseUrl:o.ih.$r,styleFactory:o.en.lcjsBackgroundFillStyle,apply:function(t){return o.setBackgroundFillStyle(t)}}):o.en.lcjsBackgroundFillStyle;o.Mh=o.VX.De(o.Yi).Be(y).je(o.en.lcjsBackgroundStrokeStyle).setPointerEvents(!1).Ee({x:0,y:0});var A=o.mB("engine effects",200001).zY(o.en.effect);o.Qn=A;var b=o.Ka.QL,p=o.ai();b&&(o.GL=[a.pP(),a.pP()]);var m=o.FD.gl;b&&(o.mX=m.createRenderbuffer(),o.gX=m.createRenderbuffer()),o.EL=m.createTexture();var g,x=p.x*o.FD.RE(),S=p.y*o.FD.RE();if(b){m.bindRenderbuffer(m.RENDERBUFFER,o.mX);var w=o.FD.gl2.ctx;o.xX=o.Ka.TL&&!1!==n.antialias?w.getParameter(w.MAX_SAMPLES):0,w.renderbufferStorageMultisample(w.RENDERBUFFER,o.xX,w.RGBA8,x,S),m.bindRenderbuffer(m.RENDERBUFFER,o.gX),w.renderbufferStorageMultisample(w.RENDERBUFFER,o.xX,w.DEPTH24_STENCIL8,x,S)}b&&(o.FD.KE(m.FRAMEBUFFER,o.GL[0]),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.RENDERBUFFER,o.mX),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.RENDERBUFFER,o.gX)),m.bindTexture(m.TEXTURE_2D,o.EL),m.texImage2D(m.TEXTURE_2D,0,m.RGBA,x,S,0,m.RGBA,m.UNSIGNED_BYTE,null),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),b&&(o.FD.KE(m.FRAMEBUFFER,o.GL[1]),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,o.EL,0)),o.FD.KE(m.FRAMEBUFFER,null),o.Va(),o.Pa(),o.MA={container:(g=o).lu,setMouseStyle:function(t,i){return g.fu(t,i)},restoreMouseStyle:function(t){return g.cu(t)},clearMouseStyle:function(){return g.ph()},captureFrame:function(t,i,n,r){return g.RX(t,i,n,r)},renderFrame:function(t,i,n){return void 0===n&&(n=!1),g.dX(t,i,n)},layout:function(){g.Na(),g.Pa(),g.Ka.FL(),g.vr()},setBackgroundFillStyle:function(t){return g.setBackgroundFillStyle(t),this},setBackgroundStrokeStyle:function(t){return g.setBackgroundStrokeStyle(t),this},getBackgroundFillStyle:function(){return g.getBackgroundFillStyle()},getBackgroundStrokeStyle:function(){return g.getBackgroundStrokeStyle()},addCustomIcon:function(t,i){return g.GX(t,i)},addEventListener:function(t,i,n){return g.kt(t,i,n)},removeEventListener:function(t,i){return g.Ot(t,i)}},o.hl={en:o.en,ir:o.ir,Yi:o.Yi,vr:function(t){return o.vr(t)},QC:function(){return o.Ca},Qa:function(){return o.Qa()},cr:function(t){return o.OX=Qe.performance.now(),o.cr({x:t.clientX,y:t.clientY})},iF:function(t){return o.iF(t)},ih:o.ih,qa:function(t){return o.qa(t)},Qn:o.Qn,Fh:function(t){return o.Fh(t)},Ih:function(t){return o.Ih(t)},jo:{oo:function(t,i,n){var r=o.FD.Ko(i.family).UD(t,i,n,o.en.isDark);return o.sl?{x:r.x,y:r.y,isEstimate:!1}:r}},Sr:function(){return o.Ba.size>0},wr:function(t,i){return void 0!==Array.from(o.Ba.values()).find((function(n){return!(void 0!==t&&n.entity!==t||void 0!==i&&i!==n.collectionMember)}))}},n.textRenderer&&(o.sl=new w_(o,n.textRenderer));var M=function(){o.Ft()};Qe.addEventListener("unload",M),o._a.push((function(){Qe.removeEventListener("unload",M)}))}return M_(i,t),Object.defineProperty(i.prototype,"UX",{get:function(){return this.Sa},enumerable:!1,configurable:!0}),i.prototype.GX=function(t,i){var n=this,r=this.MX.get(t);if(!r){var e=this.FD.Az(t),o=new Set,s=[];r={imageTexture:e,instances:o,handleNewInstance:function(t){o.add(t)},handleInstanceDisposed:function(i){o.delete(i)&&0===o.size&&(e.unbindResources(),n.MX.delete(t))},sharedEngineReference:{nF:function(){return e.OE},rF:function(t){e.OE?t():s.push(t)}}},this.MX.set(t,r),e.zl(this),e.EE((function(){s.forEach((function(t){t()})),s.length=0}))}var u=new La(t,r.handleNewInstance,r.handleInstanceDisposed,i);return r.handleNewInstance(u),u},i.prototype.iF=function(t){var i=Array.from(this.MX.values()).find((function(i){return i.instances.has(t)}));if(!i)throw Ho(0,(function(){return new Error("LightningChart JS error, attempted to use Icon that is disposed. Please check that you are not disposing an Icon that is still in use, or attempting to use a previously disposed Icon!")}));return i.sharedEngineReference},i.prototype.cr=function(t){var i,n=this;if(this.dh&&this.dh.entity.getPointerEvents()){if(this.dh.pointed||!(Qe.performance.now()-this.dh.timestamp>=50))return{entity:this.dh.entity,collectionMember:void 0,info:void 0};this.dh=void 0}var r=null===(i=this.TX)||void 0===i?void 0:i.BX;if(r){(!this.za||Qe.performance.now()-this.za>100)&&this.Pa();var e=this.Ne(t.x,t.y),o=Math.round(e.x*this.FD.RE()),s=Math.round(e.y*this.FD.RE());return[[-1,-1],[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[0,0]].map((function(t){return n.YX(r,o+t[0]/r.WX,s+t[1]/r.WX)})).reduce((function(t,i){if(void 0===i)return t||void 0;var n=1e6*i.layerIndex+i.entityIndex;return!t||n>t.zIndexForComparison?{zIndexForComparison:n,entity:i.entity,collectionMember:i.collectionMember,info:i.info}:t}),void 0)}},i.prototype.YX=function(t,i,n){var r=Math.round(i*t.WX),e=Math.round(n*t.WX);if(!(r<0||r>=t.Bt.x||e<0||e>=t.Bt.y)){var o=4*(r+e*t.Bt.x),s=t.XX[o+0],u=t.XX[o+1],a=t.XX[o+2],h=t.XX[o+3];if(void 0!==s&&void 0!==u&&void 0!==a&&void 0!==h&&(0!==s||0!==u||0!==a||0!==h)){var f=16777216*s+65536*u+256*a+h,c=t.HX.find((function(t){return f>=t.idFirst&&f<=t.idLast}));if(c){var l=c.entity.ll(f,c.idFirst,c.idCount,i,n),v=l.collectionMember,d=l.info;return{entity:c.entity,collectionMember:v,entityIndex:c.entityIndex,layerIndex:c.layer.Za(),info:d}}}}},i.prototype.RX=function(t,i,n,r){void 0===r&&(r=1);var e=1!==r,o=this.FD.gl,s=!this.Ka.QL||e||!this.bA,u=void 0;if(this.sl){var a=this.sl;this.sl=void 0;var h=[],f=[];this.Sa.forEach((function(t){t.pn.forEach((function(t){t.getVisible()&&t instanceof dc&&f.push(t)}))})),f.forEach((function(t){var i=t.kr.$s(t.Yi);h.push(i),i.Ee(t.vf()).Os(t.js()).qo(t.Ko()).Be(t.Zo()).wf(t.gf()).Ks(t.Mf()).qs(t.Cf()).$o(t.ts())._s(t.yf()).Lh(t.Eh()).setPointerEvents(!1)})),u={ctr:a,temporaryWebglTextObjects:h},s=!0}var c=this.Bt;e&&this.Va({x:c.x*r,y:c.y*r}),s&&(e&&this.Ta&&this.Ta(0),this.Wa(),this.Xa()),this.Ka.QL?(this.FD.KE(o.FRAMEBUFFER,this.GL[1]),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,this.EL,0)):this.FD.KE(o.FRAMEBUFFER,null);var l=this.LL(),v=l.x,d=l.y,y=new Uint8Array(v*d*4);o.readPixels(0,0,v,d,o.RGBA,o.UNSIGNED_BYTE,y),u&&(u.temporaryWebglTextObjects.forEach((function(t){return t.dispose()})),this.sl=u.ctr,this.Xa());var A=new ImageData(new Uint8ClampedArray(y),v,d),b=document.createElement("canvas"),p=b.getContext("2d");if(!p)throw new Error("Failed to create 2D context for saving image.");b.width=v,b.height=d,p.putImageData(A,0,0),p.translate(0,d),p.scale(1,-1),p.drawImage(b,0,0),this.Ka.QL&&(this.FD.KE(o.FRAMEBUFFER,this.GL[0]),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.RENDERBUFFER,this.mX),this.FD.KE(o.FRAMEBUFFER,this.GL[1]),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,this.EL,0)),this.FD.KE(o.FRAMEBUFFER,null);var m=b.toDataURL(t,i);return e&&this.Va(c),n?m:function(t){for(var i=t.split(",")[0].split(":")[1].split(";")[0],n=Qe.atob(t.split(",")[1]),r=new Uint8Array(n.length),e=0;e<n.length;e+=1)r[e]=n.charCodeAt(e);return new Qe.Blob([r.buffer],{type:i})}(m)},i.prototype.dX=function(t,i,n){void 0===n&&(n=!1),this.Va(o(Math.round(t),Math.round(i))),this.Ya();var r=this.FD.gl.drawingBufferWidth,e=this.FD.gl.drawingBufferHeight,s=new Uint8Array(r*e*4);if(this.FD.gl.readPixels(0,0,r,e,this.FD.gl.RGBA,this.FD.gl.UNSIGNED_BYTE,s),!n)for(var u=e/2|0,a=4*r,h=new Uint8Array(4*r),f=0;f<u;f+=1){var c=f*a,l=(e-f-1)*a;h.set(s.subarray(c,c+a)),s.copyWithin(c,l,l+a),s.set(h,l)}return this.Ma={x:0,y:i},s},i.prototype.HB=function(t){return void 0!==this.gh?this.gh[0]=t:this.gh=[t,void 0],this.lu.style.minWidth="".concat(this.gh[0],"px"),this.Va(),this},i.prototype.JB=function(t){return void 0!==this.gh?this.gh[1]=t:this.gh=[void 0,t],this.lu.style.maxWidth="".concat(this.gh[1],"px"),this.Va(),this},i.prototype.KB=function(t){return void 0!==this.wh?this.wh[0]=t:this.wh=[t,void 0],this.lu.style.minHeight="".concat(this.wh[0],"px"),this.Va(),this},i.prototype.$B=function(t){return void 0!==this.wh?this.wh[1]=t:this.wh=[void 0,t],this.lu.style.maxHeight="".concat(this.wh[1],"px"),this.Va(),this},i.prototype.NX=function(t,i){return this.gh=t,this.wh=i,this.lu.style.minWidth="".concat(this.gh[0],"px"),this.lu.style.maxWidth="".concat(this.gh[1],"px"),this.lu.style.minHeight="".concat(this.wh[0],"px"),this.lu.style.maxHeight="".concat(this.wh[1],"px"),this.Va(),this},i.prototype.BL=function(t){return this.bA!==t&&(this.Ct.Tt("inviewchanged",{isInView:t}),this.bA=t),this},i.prototype.jL=function(){return this.bA},i.prototype.cE=function(t){this.SX=t},i.prototype.hE=function(){return this.SX},i.prototype.mB=function(t,i){void 0===i&&(i=this.Oh());var n=this._h(i);if(n){if(Ho(0,(function(){})),!(n instanceof Fk))throw new Error("Unexpected Engine Layer error");return n}return this.Ha(new Fk(this,i,t))},i.prototype.SB=function(t,i,n){var r=this._h(i);if(r){if(Ho(0,(function(){})),!(r instanceof S_))throw new Error("Unexpected Engine Layer error");return r}return this.Ha(new S_(this,i,t,n))},i.prototype.ai=function(){return this.Bt},i.prototype.LL=function(){var t=this.FD.RE();return{x:Math.round(this.Bt.x*t),y:Math.round(this.Bt.y*t)}},i.prototype.zX=function(t){return t instanceof Array||(t=[t,t]),t},i.prototype.ZX=function(){return this.Ka.zL},i.prototype.JX=function(){return mM(this.FD.gl)},i.prototype.LX=function(){var t,i,n,r=this,e=this.FD.gl,o=Qe.performance.now(),s=this.ih.eh,u={x:Math.ceil(this.Bt.x*this.FD.RE()*s),y:Math.ceil(this.Bt.y*this.FD.RE()*s)};this.TX||(this.TX={WX:s,QX:u,kX:[],BX:void 0});var a=this.TX.kX.find((function(t){return!t.FX})),h=!1;a||(h=!0,a={FX:!1,Bt:u,Oz:e.createTexture(),KX:this.FD.pP(),gX:this.FD.mP(),qX:new Uint8Array,_X:void 0},this.TX.kX.push(a));var f=a;(h||f.Bt.x!==u.x||f.Bt.y!==u.y)&&(e.bindTexture(e.TEXTURE_2D,f.Oz),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,u.x,u.y,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.FD.KE(e.FRAMEBUFFER,f.KX),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,f.Oz,0),e.bindRenderbuffer(e.RENDERBUFFER,f.gX),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,u.x,u.y),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,f.gX),f.qX=new Uint8Array(u.x*u.y*4),f.Bt=u),f.FX=!0,f._X=o,this.FD.KE(e.FRAMEBUFFER,f.KX),e.clearDepth(1),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.disable(e.BLEND),e.resize&&e.resize(u.x,u.y),this.FD.qE(0,0,u.x,u.y);var c=[];try{for(var l=C_(this.Sa.values()),v=l.next();!v.done;v=l.next())v.value.fl(1,s,c)}catch(i){t={error:i}}finally{try{v&&!v.done&&(i=l.return)&&i.call(l)}finally{if(t)throw t.error}}this.FD.KE(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.enable(e.BLEND);var d=null===(n=this.FD.gl2)||void 0===n?void 0:n.ctx,y=function(){if(r.TX){var t=r.TX.BX;if(t&&t.DX>o)return;r.TX.BX={DX:o,WX:s,Bt:u,XX:f.qX,HX:c}}};d?this.FD.Tz(d,f.KX,0,0,u.x,u.y,e.RGBA,e.UNSIGNED_BYTE,f.qX).then((function(){r.Hi||(f.FX=!1,y())})).catch((function(t){r.Hi||(f.FX=!1,Qe.console.warn("LightningChart JS mouse picking failed unexpectedly. This could mean that user interactions on charts are compromised.\nPlease report this issue to https://lightningchart.com/js-charts/docs/contact"))})):(this.FD.kz(f.KX,0,0,u.x,u.y,e.RGBA,e.UNSIGNED_BYTE,f.qX),f.FX=!1,y())},i.prototype.Va=function(t){var i=this.FD.RE();if("use-window"===this.EX.mode){var n=Qe.devicePixelRatio||1;this.FD.fz(n)}var r=this.Bt.x,e=this.Bt.y,o=t||{x:this.lu.offsetWidth,y:this.lu.offsetHeight},s=this.FD.RE();if(0!==o.x&&0!==o.y&&(o.x!==r||o.y!==e||i!==s)){this.Bt=o,this.Yi.x.Et(0,o.x).zt(o.x),this.Yi.y.Et(0,o.y).zt(o.y);var u=o.x*s,a=o.y*s,h=this.FD.gl,f=this.Ka.QL;if(this.EL&&(h.bindTexture(h.TEXTURE_2D,this.EL),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,u,a,0,h.RGBA,h.UNSIGNED_BYTE,null)),f){var c=this.FD.gl2.ctx;this.mX&&(h.bindRenderbuffer(h.RENDERBUFFER,this.mX),c.renderbufferStorageMultisample(c.RENDERBUFFER,this.xX,c.RGBA8,u,a)),this.gX&&(h.bindRenderbuffer(h.RENDERBUFFER,this.gX),c.renderbufferStorageMultisample(c.RENDERBUFFER,this.xX,c.DEPTH24_STENCIL8,u,a))}h.bindRenderbuffer(h.RENDERBUFFER,null),this.Ct.Tt("resize",{engineWidth:this.Bt.x,engineHeight:this.Bt.y,width:this.Bt.x,height:this.Bt.y})}},i.prototype.Ft=function(){var i,n=this;this.Hi||(t.prototype.Ft.call(this),this.sl&&this.sl.Ft(),this.jX&&(Qe.clearTimeout(this.jX),this.jX=void 0),Array.from(this.FD.AL.entries()).forEach((function(t){var i=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(t,2),r=i[0];i[1].cl(!1),n.FD.AL.delete(r)})),Array.from(this.FD.wP.values()).forEach((function(t){t.unbindResources()})),this.FD.wP.clear(),this.FD.SP.ME(),this.FD.sz.Ft(),this.FD.yP(this.FD.uz),this.FD.yP(this.FD.az),this.FD.nz.forEach((function(t,i){n.FD.gl.deleteBuffer(i)})),this.FD.nz.clear(),this.FD.xz&&(this.FD.yP(this.FD.xz.buffer),this.FD.xz=void 0),this.FD.xP(this.GL[0]),this.FD.xP(this.GL[1]),this.FD.gP(this.mX),this.FD.BD(this.EL),this.FD.gP(this.gX),this.TX&&(this.TX.kX.forEach((function(t){n.FD.gP(t.gX),n.FD.xP(t.KX),n.FD.BD(t.Oz)})),this.TX=void 0),this.FD.$P.forEach((function(t){return n.FD.yP(t)})),this.MX.clear(),this.Ka.lE(this),this.PX&&(null===(i=this.PX.parentElement)||void 0===i||i.removeChild(this.PX),this.PX=void 0),this.PL&&(this.PL=void 0),this.FD.gl=void 0)},i}(Vf),k_={exports:{}};!function(t,i){function n(t,i){if(!t)throw new Error(i||"Assertion failed")}function r(t,i){t.super_=i;var n=function(){};n.prototype=i.prototype,t.prototype=new n,t.prototype.constructor=t}function e(t,i,n){if(e.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==i&&"be"!==i||(n=i,i=10),this.LE(t||0,i||10,n||"be"))}var o;"object"==typeof t?t.exports=e:i.BN=e,e.BN=e,e.wordSize=26;try{o=(void 0).Buffer}catch(t){}function s(t,i,r){for(var e=0,o=Math.min(t.length,r),s=0,u=i;u<o;u++){var a,h=t.charCodeAt(u)-48;e<<=4,e|=a=h>=49&&h<=54?h-49+10:h>=17&&h<=22?h-17+10:h,s|=a}return n(!(240&s),"Invalid character in "+t),e}function u(t,i,r,e){for(var o=0,s=0,u=Math.min(t.length,r),a=i;a<u;a++){var h=t.charCodeAt(a)-48;o*=e,s=h>=49?h-49+10:h>=17?h-17+10:h,n(h>=0&&s<e,"Invalid character"),o+=s}return o}function a(t,i){t.words=i.words,t.length=i.length,t.negative=i.negative,t.red=i.red}if(e.isBN=function(t){return t instanceof e||null!==t&&"object"==typeof t&&t.constructor.wordSize===e.wordSize&&Array.isArray(t.words)},e.max=function(t,i){return t.cmp(i)>0?t:i},e.min=function(t,i){return t.cmp(i)<0?t:i},e.prototype.LE=function(t,i,r){if("number"==typeof t)return this.$X(t,i,r);if("object"==typeof t)return this.tH(t,i,r);"hex"===i&&(i=16),n(i===(0|i)&&i>=2&&i<=36);var e=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&e++,16===i?this.iH(t,e):this.nH(t,i,e),"-"===t[0]&&(this.negative=1),this.rH(),"le"===r&&this.tH(this.toArray(),i,r)},e.prototype.$X=function(t,i,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this.tH(this.toArray(),i,r)},e.prototype.tH=function(t,i,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var e=0;e<this.length;e++)this.words[e]=0;var o,s,u=0;if("be"===r)for(e=t.length-1,o=0;e>=0;e-=3)s=t[e]|t[e-1]<<8|t[e-2]<<16,this.words[o]|=s<<u&67108863,this.words[o+1]=s>>>26-u&67108863,(u+=24)>=26&&(u-=26,o++);else if("le"===r)for(e=0,o=0;e<t.length;e+=3)s=t[e]|t[e+1]<<8|t[e+2]<<16,this.words[o]|=s<<u&67108863,this.words[o+1]=s>>>26-u&67108863,(u+=24)>=26&&(u-=26,o++);return this.rH()},e.prototype.iH=function(t,i){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,e,o=0;for(n=t.length-6,r=0;n>=i;n-=6)e=s(t,n,n+6),this.words[r]|=e<<o&67108863,this.words[r+1]|=e>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==i&&(e=s(t,i,n+6),this.words[r]|=e<<o&67108863,this.words[r+1]|=e>>>26-o&4194303),this.rH()},e.prototype.nH=function(t,i,n){this.words=[0],this.length=1;for(var r=0,e=1;e<=67108863;e*=i)r++;r--,e=e/i|0;for(var o=t.length-n,s=o%r,a=Math.min(o,o-s)+n,h=0,f=n;f<a;f+=r)h=u(t,f,f+r,i),this.imuln(e),this.words[0]+h<67108864?this.words[0]+=h:this.eH(h);if(0!==s){var c=1;for(h=u(t,f,t.length,i),f=0;f<s;f++)c*=i;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this.eH(h)}},e.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},e.prototype.oH=function(t){a(t,this)},e.prototype.clone=function(){var t=new e(null);return this.copy(t),t},e.prototype.sH=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},e.prototype.rH=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this.uH()},e.prototype.uH=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{e.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(t){e.prototype.inspect=h}else e.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(t,i,n){n.negative=i.negative^t.negative;var r=t.length+i.length|0;n.length=r,r=r-1|0;var e=0|t.words[0],o=0|i.words[0],s=e*o,u=67108863&s,a=s/67108864|0;n.words[0]=u;for(var h=1;h<r;h++){for(var f=a>>>26,c=67108863&a,l=Math.min(h,i.length-1),v=Math.max(0,h-t.length+1);v<=l;v++){var d=h-v|0;f+=(s=(e=0|t.words[d])*(o=0|i.words[v])+c)/67108864|0,c=67108863&s}n.words[h]=0|c,a=0|f}return 0!==a?n.words[h]=0|a:n.length--,n.rH()}e.prototype.toString=function(t,i){var r;if(i=0|i||1,16===(t=t||10)||"hex"===t){r="";for(var e=0,o=0,s=0;s<this.length;s++){var u=this.words[s],a=(16777215&(u<<e|o)).toString(16);r=0!=(o=u>>>24-e&16777215)||s!==this.length-1?f[6-a.length]+a+r:a+r,(e+=2)>=26&&(e-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%i!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=c[t],v=l[t];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var y=d.modrn(v).toString(t);r=(d=d.idivn(v)).isZero()?y+r:f[h-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%i!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},e.prototype.toJSON=function(){return this.toString(16,2)},o&&(e.prototype.toBuffer=function(t,i){return this.toArrayLike(o,t,i)}),e.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)},e.prototype.toArrayLike=function(t,i,r){this.rH();var e=this.byteLength(),o=r||Math.max(1,e);n(e<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,i){return t.allocUnsafe?t.allocUnsafe(i):new t(i)}(t,o);return this["_toArrayLike"+("le"===i?"LE":"BE")](s,e),s},e.prototype.aH=function(t,i){for(var n=0,r=0,e=0,o=0;e<this.length;e++){var s=this.words[e]<<o|r;t[n++]=255&s,n<t.length&&(t[n++]=s>>8&255),n<t.length&&(t[n++]=s>>16&255),6===o?(n<t.length&&(t[n++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n<t.length)for(t[n++]=r;n<t.length;)t[n++]=0},e.prototype.hH=function(t,i){for(var n=t.length-1,r=0,e=0,o=0;e<this.length;e++){var s=this.words[e]<<o|r;t[n--]=255&s,n>=0&&(t[n--]=s>>8&255),n>=0&&(t[n--]=s>>16&255),6===o?(n>=0&&(t[n--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n>=0)for(t[n--]=r;n>=0;)t[n--]=0},Math.clz32?e.prototype.fH=function(t){return 32-Math.clz32(t)}:e.prototype.fH=function(t){var i=t,n=0;return i>=4096&&(n+=13,i>>>=13),i>=64&&(n+=7,i>>>=7),i>=8&&(n+=4,i>>>=4),i>=2&&(n+=2,i>>>=2),n+i},e.prototype.cH=function(t){if(0===t)return 26;var i=t,n=0;return 8191&i||(n+=13,i>>>=13),127&i||(n+=7,i>>>=7),15&i||(n+=4,i>>>=4),3&i||(n+=2,i>>>=2),1&i||n++,n},e.prototype.bitLength=function(){var t=this.words[this.length-1],i=this.fH(t);return 26*(this.length-1)+i},e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var n=this.cH(this.words[i]);if(t+=n,26!==n)break}return t},e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},e.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},e.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return 0!==this.negative},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this.rH()},e.prototype.ior=function(t){return n(!(this.negative|t.negative)),this.iuor(t)},e.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},e.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},e.prototype.iuand=function(t){var i;i=this.length>t.length?t:this;for(var n=0;n<i.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=i.length,this.rH()},e.prototype.iand=function(t){return n(!(this.negative|t.negative)),this.iuand(t)},e.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},e.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},e.prototype.iuxor=function(t){var i,n;this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=i.words[r]^n.words[r];if(this!==i)for(;r<i.length;r++)this.words[r]=i.words[r];return this.length=i.length,this.rH()},e.prototype.ixor=function(t){return n(!(this.negative|t.negative)),this.iuxor(t)},e.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},e.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},e.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var i=0|Math.ceil(t/26),r=t%26;this.sH(i),r>0&&i--;for(var e=0;e<i;e++)this.words[e]=67108863&~this.words[e];return r>0&&(this.words[e]=~this.words[e]&67108863>>26-r),this.rH()},e.prototype.notn=function(t){return this.clone().inotn(t)},e.prototype.setn=function(t,i){n("number"==typeof t&&t>=0);var r=t/26|0,e=t%26;return this.sH(r+1),this.words[r]=i?this.words[r]|1<<e:this.words[r]&~(1<<e),this.rH()},e.prototype.iadd=function(t){var i,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,i=this.isub(t),this.negative^=1,this.uH();if(0===this.negative&&0!==t.negative)return t.negative=0,i=this.isub(t),t.negative=1,i.uH();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var e=0,o=0;o<r.length;o++)i=(0|n.words[o])+(0|r.words[o])+e,this.words[o]=67108863&i,e=i>>>26;for(;0!==e&&o<n.length;o++)i=(0|n.words[o])+e,this.words[o]=67108863&i,e=i>>>26;if(this.length=n.length,0!==e)this.words[this.length]=e,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},e.prototype.add=function(t){var i;return 0!==t.negative&&0===this.negative?(t.negative=0,i=this.sub(t),t.negative^=1,i):0===t.negative&&0!==this.negative?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},e.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var i=this.iadd(t);return t.negative=1,i.uH()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this.uH();var n,r,e=this.cmp(t);if(0===e)return this.negative=0,this.length=1,this.words[0]=0,this;e>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(i=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&i;for(;0!==o&&s<n.length;s++)o=(i=(0|n.words[s])+o)>>26,this.words[s]=67108863&i;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this.rH()},e.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,i,n){var r,e,o,s=t.words,u=i.words,a=n.words,h=0,f=0|s[0],c=8191&f,l=f>>>13,v=0|s[1],d=8191&v,y=v>>>13,A=0|s[2],b=8191&A,p=A>>>13,m=0|s[3],g=8191&m,x=m>>>13,S=0|s[4],w=8191&S,M=S>>>13,C=0|s[5],T=8191&C,k=C>>>13,_=0|s[6],O=8191&_,F=_>>>13,I=0|s[7],j=8191&I,B=I>>>13,D=0|s[8],L=8191&D,E=D>>>13,P=0|s[9],z=8191&P,N=P>>>13,V=0|u[0],R=8191&V,G=V>>>13,U=0|u[1],Y=8191&U,W=U>>>13,X=0|u[2],H=8191&X,Z=X>>>13,J=0|u[3],Q=8191&J,K=J>>>13,q=0|u[4],$=8191&q,tt=q>>>13,it=0|u[5],nt=8191&it,rt=it>>>13,et=0|u[6],ot=8191&et,st=et>>>13,ut=0|u[7],at=8191&ut,ht=ut>>>13,ft=0|u[8],ct=8191&ft,lt=ft>>>13,vt=0|u[9],dt=8191&vt,yt=vt>>>13;n.negative=t.negative^i.negative,n.length=19;var At=(h+(r=Math.imul(c,R))|0)+((8191&(e=(e=Math.imul(c,G))+Math.imul(l,R)|0))<<13)|0;h=((o=Math.imul(l,G))+(e>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(d,R),e=(e=Math.imul(d,G))+Math.imul(y,R)|0,o=Math.imul(y,G);var bt=(h+(r=r+Math.imul(c,Y)|0)|0)+((8191&(e=(e=e+Math.imul(c,W)|0)+Math.imul(l,Y)|0))<<13)|0;h=((o=o+Math.imul(l,W)|0)+(e>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(b,R),e=(e=Math.imul(b,G))+Math.imul(p,R)|0,o=Math.imul(p,G),r=r+Math.imul(d,Y)|0,e=(e=e+Math.imul(d,W)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,W)|0;var pt=(h+(r=r+Math.imul(c,H)|0)|0)+((8191&(e=(e=e+Math.imul(c,Z)|0)+Math.imul(l,H)|0))<<13)|0;h=((o=o+Math.imul(l,Z)|0)+(e>>>13)|0)+(pt>>>26)|0,pt&=67108863,r=Math.imul(g,R),e=(e=Math.imul(g,G))+Math.imul(x,R)|0,o=Math.imul(x,G),r=r+Math.imul(b,Y)|0,e=(e=e+Math.imul(b,W)|0)+Math.imul(p,Y)|0,o=o+Math.imul(p,W)|0,r=r+Math.imul(d,H)|0,e=(e=e+Math.imul(d,Z)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,Z)|0;var mt=(h+(r=r+Math.imul(c,Q)|0)|0)+((8191&(e=(e=e+Math.imul(c,K)|0)+Math.imul(l,Q)|0))<<13)|0;h=((o=o+Math.imul(l,K)|0)+(e>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(w,R),e=(e=Math.imul(w,G))+Math.imul(M,R)|0,o=Math.imul(M,G),r=r+Math.imul(g,Y)|0,e=(e=e+Math.imul(g,W)|0)+Math.imul(x,Y)|0,o=o+Math.imul(x,W)|0,r=r+Math.imul(b,H)|0,e=(e=e+Math.imul(b,Z)|0)+Math.imul(p,H)|0,o=o+Math.imul(p,Z)|0,r=r+Math.imul(d,Q)|0,e=(e=e+Math.imul(d,K)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,K)|0;var gt=(h+(r=r+Math.imul(c,$)|0)|0)+((8191&(e=(e=e+Math.imul(c,tt)|0)+Math.imul(l,$)|0))<<13)|0;h=((o=o+Math.imul(l,tt)|0)+(e>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(T,R),e=(e=Math.imul(T,G))+Math.imul(k,R)|0,o=Math.imul(k,G),r=r+Math.imul(w,Y)|0,e=(e=e+Math.imul(w,W)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,W)|0,r=r+Math.imul(g,H)|0,e=(e=e+Math.imul(g,Z)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,Z)|0,r=r+Math.imul(b,Q)|0,e=(e=e+Math.imul(b,K)|0)+Math.imul(p,Q)|0,o=o+Math.imul(p,K)|0,r=r+Math.imul(d,$)|0,e=(e=e+Math.imul(d,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0;var xt=(h+(r=r+Math.imul(c,nt)|0)|0)+((8191&(e=(e=e+Math.imul(c,rt)|0)+Math.imul(l,nt)|0))<<13)|0;h=((o=o+Math.imul(l,rt)|0)+(e>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(O,R),e=(e=Math.imul(O,G))+Math.imul(F,R)|0,o=Math.imul(F,G),r=r+Math.imul(T,Y)|0,e=(e=e+Math.imul(T,W)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,W)|0,r=r+Math.imul(w,H)|0,e=(e=e+Math.imul(w,Z)|0)+Math.imul(M,H)|0,o=o+Math.imul(M,Z)|0,r=r+Math.imul(g,Q)|0,e=(e=e+Math.imul(g,K)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,K)|0,r=r+Math.imul(b,$)|0,e=(e=e+Math.imul(b,tt)|0)+Math.imul(p,$)|0,o=o+Math.imul(p,tt)|0,r=r+Math.imul(d,nt)|0,e=(e=e+Math.imul(d,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0;var St=(h+(r=r+Math.imul(c,ot)|0)|0)+((8191&(e=(e=e+Math.imul(c,st)|0)+Math.imul(l,ot)|0))<<13)|0;h=((o=o+Math.imul(l,st)|0)+(e>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(j,R),e=(e=Math.imul(j,G))+Math.imul(B,R)|0,o=Math.imul(B,G),r=r+Math.imul(O,Y)|0,e=(e=e+Math.imul(O,W)|0)+Math.imul(F,Y)|0,o=o+Math.imul(F,W)|0,r=r+Math.imul(T,H)|0,e=(e=e+Math.imul(T,Z)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,Z)|0,r=r+Math.imul(w,Q)|0,e=(e=e+Math.imul(w,K)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,K)|0,r=r+Math.imul(g,$)|0,e=(e=e+Math.imul(g,tt)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,tt)|0,r=r+Math.imul(b,nt)|0,e=(e=e+Math.imul(b,rt)|0)+Math.imul(p,nt)|0,o=o+Math.imul(p,rt)|0,r=r+Math.imul(d,ot)|0,e=(e=e+Math.imul(d,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0;var wt=(h+(r=r+Math.imul(c,at)|0)|0)+((8191&(e=(e=e+Math.imul(c,ht)|0)+Math.imul(l,at)|0))<<13)|0;h=((o=o+Math.imul(l,ht)|0)+(e>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(L,R),e=(e=Math.imul(L,G))+Math.imul(E,R)|0,o=Math.imul(E,G),r=r+Math.imul(j,Y)|0,e=(e=e+Math.imul(j,W)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,W)|0,r=r+Math.imul(O,H)|0,e=(e=e+Math.imul(O,Z)|0)+Math.imul(F,H)|0,o=o+Math.imul(F,Z)|0,r=r+Math.imul(T,Q)|0,e=(e=e+Math.imul(T,K)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,K)|0,r=r+Math.imul(w,$)|0,e=(e=e+Math.imul(w,tt)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,tt)|0,r=r+Math.imul(g,nt)|0,e=(e=e+Math.imul(g,rt)|0)+Math.imul(x,nt)|0,o=o+Math.imul(x,rt)|0,r=r+Math.imul(b,ot)|0,e=(e=e+Math.imul(b,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0,r=r+Math.imul(d,at)|0,e=(e=e+Math.imul(d,ht)|0)+Math.imul(y,at)|0,o=o+Math.imul(y,ht)|0;var Mt=(h+(r=r+Math.imul(c,ct)|0)|0)+((8191&(e=(e=e+Math.imul(c,lt)|0)+Math.imul(l,ct)|0))<<13)|0;h=((o=o+Math.imul(l,lt)|0)+(e>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(z,R),e=(e=Math.imul(z,G))+Math.imul(N,R)|0,o=Math.imul(N,G),r=r+Math.imul(L,Y)|0,e=(e=e+Math.imul(L,W)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,W)|0,r=r+Math.imul(j,H)|0,e=(e=e+Math.imul(j,Z)|0)+Math.imul(B,H)|0,o=o+Math.imul(B,Z)|0,r=r+Math.imul(O,Q)|0,e=(e=e+Math.imul(O,K)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,K)|0,r=r+Math.imul(T,$)|0,e=(e=e+Math.imul(T,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,r=r+Math.imul(w,nt)|0,e=(e=e+Math.imul(w,rt)|0)+Math.imul(M,nt)|0,o=o+Math.imul(M,rt)|0,r=r+Math.imul(g,ot)|0,e=(e=e+Math.imul(g,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,r=r+Math.imul(b,at)|0,e=(e=e+Math.imul(b,ht)|0)+Math.imul(p,at)|0,o=o+Math.imul(p,ht)|0,r=r+Math.imul(d,ct)|0,e=(e=e+Math.imul(d,lt)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,lt)|0;var Ct=(h+(r=r+Math.imul(c,dt)|0)|0)+((8191&(e=(e=e+Math.imul(c,yt)|0)+Math.imul(l,dt)|0))<<13)|0;h=((o=o+Math.imul(l,yt)|0)+(e>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(z,Y),e=(e=Math.imul(z,W))+Math.imul(N,Y)|0,o=Math.imul(N,W),r=r+Math.imul(L,H)|0,e=(e=e+Math.imul(L,Z)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,Z)|0,r=r+Math.imul(j,Q)|0,e=(e=e+Math.imul(j,K)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,K)|0,r=r+Math.imul(O,$)|0,e=(e=e+Math.imul(O,tt)|0)+Math.imul(F,$)|0,o=o+Math.imul(F,tt)|0,r=r+Math.imul(T,nt)|0,e=(e=e+Math.imul(T,rt)|0)+Math.imul(k,nt)|0,o=o+Math.imul(k,rt)|0,r=r+Math.imul(w,ot)|0,e=(e=e+Math.imul(w,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,r=r+Math.imul(g,at)|0,e=(e=e+Math.imul(g,ht)|0)+Math.imul(x,at)|0,o=o+Math.imul(x,ht)|0,r=r+Math.imul(b,ct)|0,e=(e=e+Math.imul(b,lt)|0)+Math.imul(p,ct)|0,o=o+Math.imul(p,lt)|0;var Tt=(h+(r=r+Math.imul(d,dt)|0)|0)+((8191&(e=(e=e+Math.imul(d,yt)|0)+Math.imul(y,dt)|0))<<13)|0;h=((o=o+Math.imul(y,yt)|0)+(e>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(z,H),e=(e=Math.imul(z,Z))+Math.imul(N,H)|0,o=Math.imul(N,Z),r=r+Math.imul(L,Q)|0,e=(e=e+Math.imul(L,K)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,K)|0,r=r+Math.imul(j,$)|0,e=(e=e+Math.imul(j,tt)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,tt)|0,r=r+Math.imul(O,nt)|0,e=(e=e+Math.imul(O,rt)|0)+Math.imul(F,nt)|0,o=o+Math.imul(F,rt)|0,r=r+Math.imul(T,ot)|0,e=(e=e+Math.imul(T,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,r=r+Math.imul(w,at)|0,e=(e=e+Math.imul(w,ht)|0)+Math.imul(M,at)|0,o=o+Math.imul(M,ht)|0,r=r+Math.imul(g,ct)|0,e=(e=e+Math.imul(g,lt)|0)+Math.imul(x,ct)|0,o=o+Math.imul(x,lt)|0;var kt=(h+(r=r+Math.imul(b,dt)|0)|0)+((8191&(e=(e=e+Math.imul(b,yt)|0)+Math.imul(p,dt)|0))<<13)|0;h=((o=o+Math.imul(p,yt)|0)+(e>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(z,Q),e=(e=Math.imul(z,K))+Math.imul(N,Q)|0,o=Math.imul(N,K),r=r+Math.imul(L,$)|0,e=(e=e+Math.imul(L,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,r=r+Math.imul(j,nt)|0,e=(e=e+Math.imul(j,rt)|0)+Math.imul(B,nt)|0,o=o+Math.imul(B,rt)|0,r=r+Math.imul(O,ot)|0,e=(e=e+Math.imul(O,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,r=r+Math.imul(T,at)|0,e=(e=e+Math.imul(T,ht)|0)+Math.imul(k,at)|0,o=o+Math.imul(k,ht)|0,r=r+Math.imul(w,ct)|0,e=(e=e+Math.imul(w,lt)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,lt)|0;var _t=(h+(r=r+Math.imul(g,dt)|0)|0)+((8191&(e=(e=e+Math.imul(g,yt)|0)+Math.imul(x,dt)|0))<<13)|0;h=((o=o+Math.imul(x,yt)|0)+(e>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(z,$),e=(e=Math.imul(z,tt))+Math.imul(N,$)|0,o=Math.imul(N,tt),r=r+Math.imul(L,nt)|0,e=(e=e+Math.imul(L,rt)|0)+Math.imul(E,nt)|0,o=o+Math.imul(E,rt)|0,r=r+Math.imul(j,ot)|0,e=(e=e+Math.imul(j,st)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,st)|0,r=r+Math.imul(O,at)|0,e=(e=e+Math.imul(O,ht)|0)+Math.imul(F,at)|0,o=o+Math.imul(F,ht)|0,r=r+Math.imul(T,ct)|0,e=(e=e+Math.imul(T,lt)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,lt)|0;var Ot=(h+(r=r+Math.imul(w,dt)|0)|0)+((8191&(e=(e=e+Math.imul(w,yt)|0)+Math.imul(M,dt)|0))<<13)|0;h=((o=o+Math.imul(M,yt)|0)+(e>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(z,nt),e=(e=Math.imul(z,rt))+Math.imul(N,nt)|0,o=Math.imul(N,rt),r=r+Math.imul(L,ot)|0,e=(e=e+Math.imul(L,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,r=r+Math.imul(j,at)|0,e=(e=e+Math.imul(j,ht)|0)+Math.imul(B,at)|0,o=o+Math.imul(B,ht)|0,r=r+Math.imul(O,ct)|0,e=(e=e+Math.imul(O,lt)|0)+Math.imul(F,ct)|0,o=o+Math.imul(F,lt)|0;var Ft=(h+(r=r+Math.imul(T,dt)|0)|0)+((8191&(e=(e=e+Math.imul(T,yt)|0)+Math.imul(k,dt)|0))<<13)|0;h=((o=o+Math.imul(k,yt)|0)+(e>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,r=Math.imul(z,ot),e=(e=Math.imul(z,st))+Math.imul(N,ot)|0,o=Math.imul(N,st),r=r+Math.imul(L,at)|0,e=(e=e+Math.imul(L,ht)|0)+Math.imul(E,at)|0,o=o+Math.imul(E,ht)|0,r=r+Math.imul(j,ct)|0,e=(e=e+Math.imul(j,lt)|0)+Math.imul(B,ct)|0,o=o+Math.imul(B,lt)|0;var It=(h+(r=r+Math.imul(O,dt)|0)|0)+((8191&(e=(e=e+Math.imul(O,yt)|0)+Math.imul(F,dt)|0))<<13)|0;h=((o=o+Math.imul(F,yt)|0)+(e>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(z,at),e=(e=Math.imul(z,ht))+Math.imul(N,at)|0,o=Math.imul(N,ht),r=r+Math.imul(L,ct)|0,e=(e=e+Math.imul(L,lt)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,lt)|0;var jt=(h+(r=r+Math.imul(j,dt)|0)|0)+((8191&(e=(e=e+Math.imul(j,yt)|0)+Math.imul(B,dt)|0))<<13)|0;h=((o=o+Math.imul(B,yt)|0)+(e>>>13)|0)+(jt>>>26)|0,jt&=67108863,r=Math.imul(z,ct),e=(e=Math.imul(z,lt))+Math.imul(N,ct)|0,o=Math.imul(N,lt);var Bt=(h+(r=r+Math.imul(L,dt)|0)|0)+((8191&(e=(e=e+Math.imul(L,yt)|0)+Math.imul(E,dt)|0))<<13)|0;h=((o=o+Math.imul(E,yt)|0)+(e>>>13)|0)+(Bt>>>26)|0,Bt&=67108863;var Dt=(h+(r=Math.imul(z,dt))|0)+((8191&(e=(e=Math.imul(z,yt))+Math.imul(N,dt)|0))<<13)|0;return h=((o=Math.imul(N,yt))+(e>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,a[0]=At,a[1]=bt,a[2]=pt,a[3]=mt,a[4]=gt,a[5]=xt,a[6]=St,a[7]=wt,a[8]=Mt,a[9]=Ct,a[10]=Tt,a[11]=kt,a[12]=_t,a[13]=Ot,a[14]=Ft,a[15]=It,a[16]=jt,a[17]=Bt,a[18]=Dt,0!==h&&(a[19]=h,n.length++),n};function y(t,i,n){n.negative=i.negative^t.negative,n.length=t.length+i.length;for(var r=0,e=0,o=0;o<n.length-1;o++){var s=e;e=0;for(var u=67108863&r,a=Math.min(o,i.length-1),h=Math.max(0,o-t.length+1);h<=a;h++){var f=o-h,c=(0|t.words[f])*(0|i.words[h]),l=67108863&c;u=67108863&(l=l+u|0),e+=(s=(s=s+(c/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}n.words[o]=u,r=s,s=e}return 0!==r?n.words[o]=r:n.length--,n.rH()}function A(t,i,n){return y(t,i,n)}Math.imul||(d=v),e.prototype.mulTo=function(t,i){var n=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,i):n<63?v(this,t,i):n<1024?y(this,t,i):A(this,t,i)},e.prototype.mul=function(t){var i=new e(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},e.prototype.mulf=function(t){var i=new e(null);return i.words=new Array(this.length+t.length),A(this,t,i)},e.prototype.imul=function(t){return this.clone().mulTo(t,this)},e.prototype.imuln=function(t){var i=t<0;i&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,e=0;e<this.length;e++){var o=(0|this.words[e])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[e]=67108863&s}return 0!==r&&(this.words[e]=r,this.length++),i?this.ineg():this},e.prototype.muln=function(t){return this.clone().imuln(t)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.imul(this.clone())},e.prototype.pow=function(t){var i=function(t){for(var i=new Array(t.bitLength()),n=0;n<i.length;n++){var r=n/26|0,e=n%26;i[n]=t.words[r]>>>e&1}return i}(t);if(0===i.length)return new e(1);for(var n=this,r=0;r<i.length&&0===i[r];r++,n=n.sqr());if(++r<i.length)for(var o=n.sqr();r<i.length;r++,o=o.sqr())0!==i[r]&&(n=n.mul(o));return n},e.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var i,r=t%26,e=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(i=0;i<this.length;i++){var u=this.words[i]&o,a=(0|this.words[i])-u<<r;this.words[i]=a|s,s=u>>>26-r}s&&(this.words[i]=s,this.length++)}if(0!==e){for(i=this.length-1;i>=0;i--)this.words[i+e]=this.words[i];for(i=0;i<e;i++)this.words[i]=0;this.length+=e}return this.rH()},e.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},e.prototype.iushrn=function(t,i,r){var e;n("number"==typeof t&&t>=0),e=i?(i-i%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),u=67108863^67108863>>>o<<o,a=r;if(e-=s,e=Math.max(0,e),a){for(var h=0;h<s;h++)a.words[h]=this.words[h];a.length=s}if(0===s);else if(this.length>s)for(this.length-=s,h=0;h<this.length;h++)this.words[h]=this.words[h+s];else this.words[0]=0,this.length=1;var f=0;for(h=this.length-1;h>=0&&(0!==f||h>=e);h--){var c=0|this.words[h];this.words[h]=f<<26-o|c>>>o,f=c&u}return a&&0!==f&&(a.words[a.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.rH()},e.prototype.ishrn=function(t,i,r){return n(0===this.negative),this.iushrn(t,i,r)},e.prototype.shln=function(t){return this.clone().ishln(t)},e.prototype.ushln=function(t){return this.clone().iushln(t)},e.prototype.shrn=function(t){return this.clone().ishrn(t)},e.prototype.ushrn=function(t){return this.clone().iushrn(t)},e.prototype.testn=function(t){n("number"==typeof t&&t>=0);var i=t%26,r=(t-i)/26,e=1<<i;return!(this.length<=r||!(this.words[r]&e))},e.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var i=t%26,r=(t-i)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==i&&r++,this.length=Math.min(r,this.length),0!==i){var e=67108863^67108863>>>i<<i;this.words[this.length-1]&=e}return this.rH()},e.prototype.maskn=function(t){return this.clone().imaskn(t)},e.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this.eH(t)},e.prototype.eH=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},e.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.rH()},e.prototype.addn=function(t){return this.clone().iaddn(t)},e.prototype.subn=function(t){return this.clone().isubn(t)},e.prototype.iabs=function(){return this.negative=0,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype.lH=function(t,i,r){var e,o,s=t.length+r;this.sH(s);var u=0;for(e=0;e<t.length;e++){o=(0|this.words[e+r])+u;var a=(0|t.words[e])*i;u=((o-=67108863&a)>>26)-(a/67108864|0),this.words[e+r]=67108863&o}for(;e<this.length-r;e++)u=(o=(0|this.words[e+r])+u)>>26,this.words[e+r]=67108863&o;if(0===u)return this.rH();for(n(-1===u),u=0,e=0;e<this.length;e++)u=(o=-(0|this.words[e])+u)>>26,this.words[e]=67108863&o;return this.negative=1,this.rH()},e.prototype.vH=function(t,i){var n=(this.length,t.length),r=this.clone(),o=t,s=0|o.words[o.length-1];0!=(n=26-this.fH(s))&&(o=o.ushln(n),r.iushln(n),s=0|o.words[o.length-1]);var u,a=r.length-o.length;if("mod"!==i){(u=new e(null)).length=a+1,u.words=new Array(u.length);for(var h=0;h<u.length;h++)u.words[h]=0}var f=r.clone().lH(o,1,a);0===f.negative&&(r=f,u&&(u.words[a]=1));for(var c=a-1;c>=0;c--){var l=67108864*(0|r.words[o.length+c])+(0|r.words[o.length+c-1]);for(l=Math.min(l/s|0,67108863),r.lH(o,l,c);0!==r.negative;)l--,r.negative=0,r.lH(o,1,c),r.isZero()||(r.negative^=1);u&&(u.words[c]=l)}return u&&u.rH(),r.rH(),"div"!==i&&0!==n&&r.iushrn(n),{div:u||null,mod:r}},e.prototype.divmod=function(t,i,r){return n(!t.isZero()),this.isZero()?{div:new e(0),mod:new e(0)}:0!==this.negative&&0===t.negative?(u=this.neg().divmod(t,i),"mod"!==i&&(o=u.div.neg()),"div"!==i&&(s=u.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(u=this.divmod(t.neg(),i),"mod"!==i&&(o=u.div.neg()),{div:o,mod:u.mod}):this.negative&t.negative?(u=this.neg().divmod(t.neg(),i),"div"!==i&&(s=u.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:u.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new e(0),mod:this}:1===t.length?"div"===i?{div:this.divn(t.words[0]),mod:null}:"mod"===i?{div:null,mod:new e(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new e(this.modrn(t.words[0]))}:this.vH(t,i);var o,s,u},e.prototype.div=function(t){return this.divmod(t,"div",!1).div},e.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},e.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},e.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var n=0!==i.div.negative?i.mod.isub(t):i.mod,r=t.ushrn(1),e=t.andln(1),o=n.cmp(r);return o<0||1===e&&0===o?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},e.prototype.modrn=function(t){var i=t<0;i&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,e=0,o=this.length-1;o>=0;o--)e=(r*e+(0|this.words[o]))%t;return i?-e:e},e.prototype.modn=function(t){return this.modrn(t)},e.prototype.idivn=function(t){var i=t<0;i&&(t=-t),n(t<=67108863);for(var r=0,e=this.length-1;e>=0;e--){var o=(0|this.words[e])+67108864*r;this.words[e]=o/t|0,r=o%t}return this.rH(),i?this.ineg():this},e.prototype.divn=function(t){return this.clone().idivn(t)},e.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var i=this,r=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var o=new e(1),s=new e(0),u=new e(0),a=new e(1),h=0;i.isEven()&&r.isEven();)i.iushrn(1),r.iushrn(1),++h;for(var f=r.clone(),c=i.clone();!i.isZero();){for(var l=0,v=1;!(i.words[0]&v)&&l<26;++l,v<<=1);if(l>0)for(i.iushrn(l);l-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(f),s.isub(c)),o.iushrn(1),s.iushrn(1);for(var d=0,y=1;!(r.words[0]&y)&&d<26;++d,y<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(u.isOdd()||a.isOdd())&&(u.iadd(f),a.isub(c)),u.iushrn(1),a.iushrn(1);i.cmp(r)>=0?(i.isub(r),o.isub(u),s.isub(a)):(r.isub(i),u.isub(o),a.isub(s))}return{a:u,b:a,gcd:r.iushln(h)}},e.prototype.dH=function(t){n(0===t.negative),n(!t.isZero());var i=this,r=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var o,s=new e(1),u=new e(0),a=r.clone();i.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,f=1;!(i.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(i.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(a),s.iushrn(1);for(var c=0,l=1;!(r.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(r.iushrn(c);c-- >0;)u.isOdd()&&u.iadd(a),u.iushrn(1);i.cmp(r)>=0?(i.isub(r),s.isub(u)):(r.isub(i),u.isub(s))}return(o=0===i.cmpn(1)?s:u).cmpn(0)<0&&o.iadd(t),o},e.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),n=t.clone();i.negative=0,n.negative=0;for(var r=0;i.isEven()&&n.isEven();r++)i.iushrn(1),n.iushrn(1);for(;;){for(;i.isEven();)i.iushrn(1);for(;n.isEven();)n.iushrn(1);var e=i.cmp(n);if(e<0){var o=i;i=n,n=o}else if(0===e||0===n.cmpn(1))break;i.isub(n)}return n.iushln(r)},e.prototype.invm=function(t){return this.egcd(t).a.umod(t)},e.prototype.isEven=function(){return!(1&this.words[0])},e.prototype.isOdd=function(){return!(1&~this.words[0])},e.prototype.andln=function(t){return this.words[0]&t},e.prototype.bincn=function(t){n("number"==typeof t);var i=t%26,r=(t-i)/26,e=1<<i;if(this.length<=r)return this.sH(r+1),this.words[r]|=e,this;for(var o=e,s=r;0!==o&&s<this.length;s++){var u=0|this.words[s];o=(u+=o)>>>26,u&=67108863,this.words[s]=u}return 0!==o&&(this.words[s]=o,this.length++),this},e.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},e.prototype.cmpn=function(t){var i,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.rH(),this.length>1)i=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var e=0|this.words[0];i=e===t?0:e<t?-1:1}return 0!==this.negative?0|-i:i},e.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var i=this.ucmp(t);return 0!==this.negative?0|-i:i},e.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],e=0|t.words[n];if(r!==e){r<e?i=-1:r>e&&(i=1);break}}return i},e.prototype.gtn=function(t){return 1===this.cmpn(t)},e.prototype.gt=function(t){return 1===this.cmp(t)},e.prototype.gten=function(t){return this.cmpn(t)>=0},e.prototype.gte=function(t){return this.cmp(t)>=0},e.prototype.ltn=function(t){return-1===this.cmpn(t)},e.prototype.lt=function(t){return-1===this.cmp(t)},e.prototype.lten=function(t){return this.cmpn(t)<=0},e.prototype.lte=function(t){return this.cmp(t)<=0},e.prototype.eqn=function(t){return 0===this.cmpn(t)},e.prototype.eq=function(t){return 0===this.cmp(t)},e.red=function(t){return new w(t)},e.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this).yH(t)},e.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype.yH=function(t){return this.red=t,this},e.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this.yH(t)},e.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},e.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},e.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},e.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},e.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},e.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red.AH(this,t),this.red.mul(this,t)},e.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red.AH(this,t),this.red.imul(this,t)},e.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red.bH(this),this.red.sqr(this)},e.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red.bH(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red.bH(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red.bH(this),this.red.invm(this)},e.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red.bH(this),this.red.neg(this)},e.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red.bH(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function p(t,i){this.name=t,this.p=new e(i,16),this.n=this.p.bitLength(),this.k=new e(1).iushln(this.n).isub(this.p),this.tmp=this.pH()}function m(){p.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){p.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){p.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){p.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(t){if("string"==typeof t){var i=e.mH(t);this.m=i.p,this.prime=i}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){w.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r.dH(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}p.prototype.pH=function(){var t=new e(null);return t.words=new Array(Math.ceil(this.n/13)),t},p.prototype.ireduce=function(t){var i,n=t;do{this.split(n,this.tmp),i=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(i>this.n);var r=i<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n.rH(),n},p.prototype.split=function(t,i){t.iushrn(this.n,0,i)},p.prototype.imulK=function(t){return t.imul(this.k)},r(m,p),m.prototype.split=function(t,i){for(var n=4194303,r=Math.min(t.length,9),e=0;e<r;e++)i.words[e]=t.words[e];if(i.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(i.words[i.length++]=o&n,e=10;e<t.length;e++){var s=0|t.words[e];t.words[e-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[e-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},m.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,n=0;n<t.length;n++){var r=0|t.words[n];i+=977*r,t.words[n]=67108863&i,i=64*r+(i/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},r(g,p),r(x,p),r(S,p),S.prototype.imulK=function(t){for(var i=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+i,e=67108863&r;r>>>=26,t.words[n]=e,i=r}return 0!==i&&(t.words[t.length++]=i),t},e.mH=function(t){if(b[t])return b[t];var i;if("k256"===t)i=new m;else if("p224"===t)i=new g;else if("p192"===t)i=new x;else{if("p25519"!==t)throw new Error("Unknown prime "+t);i=new S}return b[t]=i,i},w.prototype.bH=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},w.prototype.AH=function(t,i){n(!(t.negative|i.negative),"red works only with positives"),n(t.red&&t.red===i.red,"red works only with red numbers")},w.prototype.imod=function(t){return this.prime?this.prime.ireduce(t).yH(this):(a(t,t.umod(this.m).yH(this)),t)},w.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t).yH(this)},w.prototype.add=function(t,i){this.AH(t,i);var n=t.add(i);return n.cmp(this.m)>=0&&n.isub(this.m),n.yH(this)},w.prototype.iadd=function(t,i){this.AH(t,i);var n=t.iadd(i);return n.cmp(this.m)>=0&&n.isub(this.m),n},w.prototype.sub=function(t,i){this.AH(t,i);var n=t.sub(i);return n.cmpn(0)<0&&n.iadd(this.m),n.yH(this)},w.prototype.isub=function(t,i){this.AH(t,i);var n=t.isub(i);return n.cmpn(0)<0&&n.iadd(this.m),n},w.prototype.shl=function(t,i){return this.bH(t),this.imod(t.ushln(i))},w.prototype.imul=function(t,i){return this.AH(t,i),this.imod(t.imul(i))},w.prototype.mul=function(t,i){return this.AH(t,i),this.imod(t.mul(i))},w.prototype.isqr=function(t){return this.imul(t,t.clone())},w.prototype.sqr=function(t){return this.mul(t,t)},w.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(n(i%2==1),3===i){var r=this.m.add(new e(1)).iushrn(2);return this.pow(t,r)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);n(!o.isZero());var u=new e(1).toRed(this),a=u.redNeg(),h=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new e(2*f*f).toRed(this);0!==this.pow(f,h).cmp(a);)f.redIAdd(a);for(var c=this.pow(f,o),l=this.pow(t,o.addn(1).iushrn(1)),v=this.pow(t,o),d=s;0!==v.cmp(u);){for(var y=v,A=0;0!==y.cmp(u);A++)y=y.redSqr();n(A<d);var b=this.pow(c,new e(1).iushln(d-A-1));l=l.redMul(b),c=b.redSqr(),v=v.redMul(c),d=A}return l},w.prototype.invm=function(t){var i=t.dH(this.m);return 0!==i.negative?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},w.prototype.pow=function(t,i){if(i.isZero())return new e(1).toRed(this);if(0===i.cmpn(1))return t.clone();var n=new Array(16);n[0]=new e(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var o=n[0],s=0,u=0,a=i.bitLength()%26;for(0===a&&(a=26),r=i.length-1;r>=0;r--){for(var h=i.words[r],f=a-1;f>=0;f--){var c=h>>f&1;o!==n[0]&&(o=this.sqr(o)),0!==c||0!==s?(s<<=1,s|=c,(4==++u||0===r&&0===f)&&(o=this.mul(o,n[s]),u=0,s=0)):u=0}a=26}return o},w.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},w.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},e.mont=function(t){return new M(t)},r(M,w),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},M.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(i),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=n.isub(r).iushrn(this.shift),o=e;return e.cmp(this.m)>=0?o=e.isub(this.m):e.cmpn(0)<0&&(o=e.iadd(this.m)),o.yH(this)},M.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new e(0).yH(this);var n=t.mul(i),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(r).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s.yH(this)},M.prototype.invm=function(t){return this.imod(t.dH(this.m).mul(this.r2)).yH(this)}}(k_,KC);var __=k_.exports;function O_(t,i){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"!=typeof t){for(var r=0;r<t.length;r++)n[r]=0|t[r];return n}if("hex"===i)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0".concat(t)),r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16));else for(r=0;r<t.length;r++){var e=t.charCodeAt(r),o=e>>8,s=255&e;o?n.push(o,s):n.push(s)}return n}var F_,I_,j_=function(t,i,n){var r=new Array(Math.max(t.bitLength(),n)+1);r.fill(0);for(var e=1<<i+1,o=t.clone(),s=0;s<r.length;s++){var u=void 0,a=o.andln(e-1);o.isOdd()?(u=a>(e>>1)-1?(e>>1)-a:a,o.isubn(u)):u=0,r[s]=u,o.iushrn(1)}return r},B_=function(t,i){var n=[[],[]];t=t.clone(),i=i.clone();for(var r=0,e=0;t.cmpn(-r)>0||i.cmpn(-e)>0;){var o=t.andln(3)+r&3,s=i.andln(3)+e&3;3===o&&(o=-1),3===s&&(s=-1);var u=void 0;u=1&o?3!=(a=t.andln(7)+r&7)&&5!==a||2!==s?o:-o:0,n[0].push(u);var a,h=void 0;h=1&s?3!=(a=i.andln(7)+e&7)&&5!==a||2!==o?s:-s:0,n[1].push(h),2*r===u+1&&(r=1-r),2*e===h+1&&(e=1-e),t.iushrn(1),i.iushrn(1)}return n},D_=function(){function t(t,i){this.type=t,this.p=new __(i.p,16),this.red=i.prime?__.red(i.prime):__.mont(this.p),this.zero=new __(0).toRed(this.red),this.one=new __(1).toRed(this.red),this.two=new __(2).toRed(this.red),this.n=i.n&&new __(i.n,16),this.g=i.g&&this.pointFromJSON(i.g,i.gRed),this.gH=new Array(4),this.xH=new Array(4),this.SH=new Array(4),this.wH=new Array(4),this.MH=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this.CH=!0,this.redN=this.n.toRed(this.red))}return t.prototype.TH=function(t,i){var n=t.kH(),r=j_(i,1,this.MH),e=(1<<n.step+1)-(n.step%2==0?2:1);e/=3;for(var o=[],s=0;s<r.length;s+=n.step){for(var u=0,a=s+n.step-1;a>=s;a--)u=(u<<1)+r[a];o.push(u)}for(var h=this.jpoint(null,null,null),f=this.jpoint(null,null,null),c=e;c>0;c--){for(s=0;s<o.length;s++)(u=o[s])===c?f=f.mixedAdd(n.points[s]):u===-c&&(f=f.mixedAdd(n.points[s].neg()));h=h.add(f)}return h.toP()},t.prototype._H=function(t,i){var n=4,r=t.OH(n);n=r.wnd;for(var e=r.points,o=j_(i,n,this.MH),s=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(;u>=0&&0===o[u];u--);if(u>=0&&i++,s=s.dblp(i),u<0)break;var a=o[u];s="affine"===t.type?a>0?s.mixedAdd(e[a-1>>1]):s.mixedAdd(e[-a-1>>1].neg()):a>0?s.add(e[a-1>>1]):s.add(e[-a-1>>1].neg())}return"affine"===t.type?s.toP():s},t.prototype.FH=function(t,i,n,r,e){for(var o=this.gH,s=this.xH,u=this.SH,a=0,h=0;h<r;h++){var f=(M=i[h]).OH(t);o[h]=f.wnd,s[h]=f.points}for(h=r-1;h>=1;h-=2){var c=h-1,l=h;if(1===o[c]&&1===o[l]){var v=[i[c],null,null,i[l]];0===i[c].y.cmp(i[l].y)?(v[1]=i[c].add(i[l]),v[2]=i[c].toJ().mixedAdd(i[l].neg())):0===i[c].y.cmp(i[l].y.redNeg())?(v[1]=i[c].toJ().mixedAdd(i[l]),v[2]=i[c].add(i[l].neg())):(v[1]=i[c].toJ().mixedAdd(i[l]),v[2]=i[c].toJ().mixedAdd(i[l].neg()));var d=[-3,-1,-5,-7,0,7,5,1,3],y=B_(n[c],n[l]);a=Math.max(y[0].length,a),u[c]=new Array(a),u[l]=new Array(a);for(var A=0;A<a;A++){var b=0|y[0][A],p=0|y[1][A];u[c][A]=d[3*(b+1)+(p+1)],u[l][A]=0,s[c]=v}}else u[c]=j_(n[c],o[c],this.MH),u[l]=j_(n[l],o[l],this.MH),a=Math.max(u[c].length,a),a=Math.max(u[l].length,a)}var m=this.jpoint(null,null,null),g=this.wH;for(h=a;h>=0;h--){for(var x=0;h>=0;){var S=!0;for(A=0;A<r;A++)g[A]=0|u[A][h],0!==g[A]&&(S=!1);if(!S)break;x++,h--}if(h>=0&&x++,m=m.dblp(x),h<0)break;for(A=0;A<r;A++){var w=g[A],M=void 0;0!==w&&(w>0?M=s[A][w-1>>1]:w<0&&(M=s[A][-w-1>>1].neg()),m="affine"===M.type?m.mixedAdd(M):m.add(M))}}for(h=0;h<r;h++)s[h]=null;return e?m:m.toP()},t.prototype.decodePoint=function(t,i){t=O_(t,i);var n=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*n)return this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));if((2===t[0]||3===t[0])&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),3===t[0]);throw new Error("Unknown point format")},t}(),L_=function(){function t(t,i){this.curve=t,this.type=i,this.precomputed=null}return t.prototype.eq=function(t){throw new Error("Not implemented")},t.prototype.validate=function(){return this.curve.validate(this)},t.prototype.encodeCompressed=function(t){return this.encode(t,!0)},t.prototype.IH=function(t){var i=this.curve.p.byteLength(),n=this.getX().toArray("be",i);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",i))},t.prototype.encode=function(t,i){return function(t,i){return"hex"===i?function(t){for(var i,n="",r=0;r<t.length;r++)n+=1===(i=t[r].toString(16)).length?"0".concat(i):i;return n}(t):t}(this.IH(i),t)},t.prototype.precompute=function(t){if(this.precomputed)return this;var i={doubles:null,naf:null,beta:null};return i.naf=this.OH(8),i.doubles=this.kH(4,t),i.beta=this.jH(),this.precomputed=i,this},t.prototype.BH=function(t){if(!this.precomputed)return!1;var i=this.precomputed.doubles;return!!i&&i.points.length>=Math.ceil((t.bitLength()+1)/i.step)},t.prototype.kH=function(t,i){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,e=0;e<i;e+=t){for(var o=0;o<t;o++)r=r.dbl();n.push(r)}return{step:t,points:n}},t.prototype.OH=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var i=[this],n=(1<<t)-1,r=1===n?null:this.dbl(),e=1;e<n;e++)i[e]=i[e-1].add(r);return{wnd:t,points:i}},t.prototype.jH=function(){return null},t.prototype.dblp=function(t){for(var i=this,n=0;n<t;n++)i=i.dbl();return i},t}(),E_=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P_=function(t){function i(i){var n=t.call(this,"short",i)||this;return n.a=new __(i.a,16).toRed(n.red),n.b=new __(i.b,16).toRed(n.red),n.tinv=n.two.redInvm(),n.zeroA=0===n.a.fromRed().cmpn(0),n.threeA=0===n.a.fromRed().sub(n.p).cmpn(-3),n.endo=n.DH(i),n.LH=new Array(4),n.EH=new Array(4),n}return E_(i,t),i.prototype.pointFromJSON=function(t,i){return z_.fromJSON(this,t,i)},i.prototype.DH=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var i,n;if(t.beta)i=new __(t.beta,16).toRed(this.red);else{var r=this.PH(this.p);i=(i=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(t.lambda)n=new __(t.lambda,16);else{var e=this.PH(this.n);n=0===this.g.mul(e[0]).x.cmp(this.g.x.redMul(i))?e[0]:e[1]}return{beta:i,lambda:n,basis:t.basis?t.basis.map((function(t){return{a:new __(t.a,16),b:new __(t.b,16)}})):this.zH(n)}}},i.prototype.PH=function(t){var i=t===this.p?this.red:__.mont(t),n=new __(2).toRed(i).redInvm(),r=n.redNeg(),e=new __(3).toRed(i).redNeg().redSqrt().redMul(n);return[r.redAdd(e).fromRed(),r.redSub(e).fromRed()]},i.prototype.zH=function(t){for(var i,n,r,e,o,s,u,a,h,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,l=this.n.clone(),v=new __(1),d=new __(0),y=new __(0),A=new __(1),b=0;0!==c.cmpn(0);){var p=l.div(c);a=l.sub(p.mul(c)),h=y.sub(p.mul(v));var m=A.sub(p.mul(d));if(!r&&a.cmp(f)<0)i=u.neg(),n=v,r=a.neg(),e=h;else if(r&&2==++b)break;u=a,l=c,c=a,y=v,v=h,A=d,d=m}o=a.neg(),s=h;var g=r.sqr().add(e.sqr());return o.sqr().add(s.sqr()).cmp(g)>=0&&(o=i,s=n),r.negative&&(r=r.neg(),e=e.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:r,b:e},{a:o,b:s}]},i.prototype.NH=function(t){var i=this.endo.basis,n=i[0],r=i[1],e=r.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),s=e.mul(n.a),u=o.mul(r.a),a=e.mul(n.b),h=o.mul(r.b);return{k1:t.sub(s).sub(u),k2:a.add(h).neg()}},i.prototype.point=function(t,i,n){return new z_(this,t,i,n)},i.prototype.pointFromX=function(t,i){(t=new __(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var e=r.fromRed().isOdd();return(i&&!e||!i&&e)&&(r=r.redNeg()),this.point(t,r)},i.prototype.validate=function(t){if(t.inf)return!0;var i=t.x,n=t.y,r=this.a.redMul(i),e=i.redSqr().redMul(i).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(e).cmpn(0)},i.prototype.VH=function(t,i,n){var r=this.LH,e=this.EH,o=0;for(o=0;o<t.length;o++){var s=this.NH(i[o]),u=t[o],a=u.jH();s.k1.negative&&(s.k1.ineg(),u=u.neg(!0)),s.k2.negative&&(s.k2.ineg(),a=a.neg(!0)),r[2*o]=u,r[2*o+1]=a,e[2*o]=s.k1,e[2*o+1]=s.k2}for(var h=this.FH(1,r,e,2*o,n),f=0;f<2*o;f++)r[f]=null,e[f]=null;return h},i.prototype.jpoint=function(t,i,n){return new N_(this,t,i,n)},i}(D_),z_=function(t){function i(i,n,r,e){var o=t.call(this,i,"affine")||this;return null===n&&null===r?(o.x=null,o.y=null,o.inf=!0):(o.x=new __(n,16),o.y=new __(r,16),e&&(o.x.forceRed(o.curve.red),o.y.forceRed(o.curve.red)),o.x.red||(o.x=o.x.toRed(o.curve.red)),o.y.red||(o.y=o.y.toRed(o.curve.red)),o.inf=!1),o}return E_(i,t),i.prototype.pointFromX=function(t,i){throw new Error("Method not implemented.")},i.prototype.point=function(t,n,r){return new i(this,t,n,r)},i.prototype.jH=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var i=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,r=function(t){return n.point(t.x.redMul(n.endo.beta),t.y)};t.beta=i,i.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(r)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(r)}}}return i}},i.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},i.fromJSON=function(t,i,n){"string"==typeof i&&(i=JSON.parse(i));var r=t.point(i[0],i[1],n);if(!i[2])return r;function e(i){return t.point(i[0],i[1],n)}var o=i[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(e))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(e))}},r},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: ".concat(this.x.fromRed().toString(16,2)," y: ").concat(this.y.fromRed().toString(16,2),">")},i.prototype.isInfinity=function(){return this.inf},i.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var i=this.y.redSub(t.y);0!==i.cmpn(0)&&(i=i.redMul(this.x.redSub(t.x).redInvm()));var n=i.redSqr().redISub(this.x).redISub(t.x),r=i.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},i.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var i=this.curve.a,n=this.x.redSqr(),r=t.redInvm(),e=n.redAdd(n).redIAdd(n).redIAdd(i).redMul(r),o=e.redSqr().redISub(this.x.redAdd(this.x)),s=e.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},i.prototype.getX=function(){return this.x.fromRed()},i.prototype.getY=function(){return this.y.fromRed()},i.prototype.mul=function(t){return t=new __(t,16),this.isInfinity()?this:this.BH(t)?this.curve.TH(this,t):this.curve.endo?this.curve.VH([this],[t]):this.curve._H(this,t)},i.prototype.mulAdd=function(t,i,n){var r=[this,i],e=[t,n];return this.curve.endo?this.curve.VH(r,e):this.curve.FH(1,r,e,2)},i.prototype.jmulAdd=function(t,i,n){var r=[this,i],e=[t,n];return this.curve.endo?this.curve.VH(r,e,!0):this.curve.FH(1,r,e,2,!0)},i.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},i.prototype.neg=function(t){if(this.inf)return this;var i=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,r=function(t){return t.neg()};i.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return i},i.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},i}(L_),N_=function(t){function i(i,n,r,e){var o=t.call(this,i,"jacobian")||this;return null===n&&null===r&&null===e?(o.x=o.curve.one,o.y=o.curve.one,o.z=new __(0)):(o.x=new __(n,16),o.y=new __(r,16),o.z=new __(e,16)),o.x.red||(o.x=o.x.toRed(o.curve.red)),o.y.red||(o.y=o.y.toRed(o.curve.red)),o.z.red||(o.z=o.z.toRed(o.curve.red)),o.zOne=o.z===o.curve.one,o}return E_(i,t),i.prototype.getY=function(){throw new Error("Method not implemented.")},i.prototype.getX=function(){throw new Error("Method not implemented.")},i.prototype.pointFromX=function(t,i){throw new Error("Method not implemented.")},i.prototype.point=function(t,i,n){throw new Error("Method not implemented.")},i.prototype.jpoint=function(t,n,r){return new i(this,t,n,r)},i.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),i=t.redSqr(),n=this.x.redMul(i),r=this.y.redMul(i).redMul(t);return this.curve.point(n,r)},i.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},i.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var i=t.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(i),e=t.x.redMul(n),o=this.y.redMul(i.redMul(t.z)),s=t.y.redMul(n.redMul(this.z)),u=r.redSub(e),a=o.redSub(s);if(0===u.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=u.redSqr(),f=h.redMul(u),c=r.redMul(h),l=a.redSqr().redIAdd(f).redISub(c).redISub(c),v=a.redMul(c.redISub(l)).redISub(o.redMul(f)),d=this.z.redMul(t.z).redMul(u);return this.curve.jpoint(l,v,d)},i.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var i=this.z.redSqr(),n=this.x,r=t.x.redMul(i),e=this.y,o=t.y.redMul(i).redMul(this.z),s=n.redSub(r),u=e.redSub(o);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var a=s.redSqr(),h=a.redMul(s),f=n.redMul(a),c=u.redSqr().redIAdd(h).redISub(f).redISub(f),l=u.redMul(f.redISub(c)).redISub(e.redMul(h)),v=this.z.redMul(s);return this.curve.jpoint(c,l,v)},i.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var i=this,n=0;n<t;n++)i=i.dbl();return i}var r=this.curve.a,e=this.curve.tinv,o=this.x,s=this.y,u=this.z,a=u.redSqr().redSqr(),h=s.redAdd(s);for(n=0;n<t;n++){var f=o.redSqr(),c=h.redSqr(),l=c.redSqr(),v=f.redAdd(f).redIAdd(f).redIAdd(r.redMul(a)),d=o.redMul(c),y=v.redSqr().redISub(d.redAdd(d)),A=d.redISub(y),b=v.redMul(A);b=b.redIAdd(b).redISub(l);var p=h.redMul(u);n+1<t&&(a=a.redMul(l)),o=y,u=p,h=b}return this.curve.jpoint(o,h.redMul(e),u)},i.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this.RH():this.curve.threeA?this.GH():this.UH()},i.prototype.RH=function(){var t,i,n;if(this.zOne){var r=this.x.redSqr(),e=this.y.redSqr(),o=e.redSqr(),s=this.x.redAdd(e).redSqr().redISub(r).redISub(o);s=s.redIAdd(s);var u=r.redAdd(r).redIAdd(r),a=u.redSqr().redISub(s).redISub(s),h=o.redIAdd(o);h=(h=h.redIAdd(h)).redIAdd(h),t=a,i=u.redMul(s.redISub(a)).redISub(h),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),c=this.y.redSqr(),l=c.redSqr(),v=this.x.redAdd(c).redSqr().redISub(f).redISub(l);v=v.redIAdd(v);var d=f.redAdd(f).redIAdd(f),y=d.redSqr(),A=l.redIAdd(l);A=(A=A.redIAdd(A)).redIAdd(A),t=y.redISub(v).redISub(v),i=d.redMul(v.redISub(t)).redISub(A),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(t,i,n)},i.prototype.GH=function(){var t,i,n;if(this.zOne){var r=this.x.redSqr(),e=this.y.redSqr(),o=e.redSqr(),s=this.x.redAdd(e).redSqr().redISub(r).redISub(o);s=s.redIAdd(s);var u=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),a=u.redSqr().redISub(s).redISub(s);t=a;var h=o.redIAdd(o);h=(h=h.redIAdd(h)).redIAdd(h),i=u.redMul(s.redISub(a)).redISub(h),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),c=this.y.redSqr(),l=this.x.redMul(c),v=this.x.redSub(f).redMul(this.x.redAdd(f));v=v.redAdd(v).redIAdd(v);var d=l.redIAdd(l),y=(d=d.redIAdd(d)).redAdd(d);t=v.redSqr().redISub(y),n=this.y.redAdd(this.z).redSqr().redISub(c).redISub(f);var A=c.redSqr();A=(A=(A=A.redIAdd(A)).redIAdd(A)).redIAdd(A),i=v.redMul(d.redISub(t)).redISub(A)}return this.curve.jpoint(t,i,n)},i.prototype.UH=function(){var t=this.curve.a,i=this.x,n=this.y,r=this.z,e=r.redSqr().redSqr(),o=i.redSqr(),s=n.redSqr(),u=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(e)),a=i.redAdd(i),h=(a=a.redIAdd(a)).redMul(s),f=u.redSqr().redISub(h.redAdd(h)),c=h.redISub(f),l=s.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var v=u.redMul(c).redISub(l),d=n.redAdd(n).redMul(r);return this.curve.jpoint(f,v,d)},i.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),i=this.y.redSqr(),n=this.z.redSqr(),r=i.redSqr(),e=t.redAdd(t).redIAdd(t),o=e.redSqr(),s=this.x.redAdd(i).redSqr().redISub(t).redISub(r),u=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),a=r.redIAdd(r);a=(a=(a=a.redIAdd(a)).redIAdd(a)).redIAdd(a);var h=e.redIAdd(s).redSqr().redISub(o).redISub(u).redISub(a),f=i.redMul(h);f=(f=f.redIAdd(f)).redIAdd(f);var c=this.x.redMul(u).redISub(f);c=(c=c.redIAdd(c)).redIAdd(c);var l=this.y.redMul(h.redMul(a.redISub(h)).redISub(s.redMul(u)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var v=this.z.redAdd(s).redSqr().redISub(n).redISub(u);return this.curve.jpoint(c,l,v)},i.prototype.mul=function(t,i){return t=new __(t,i),this.curve._H(this,t)},i.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var i=this.z.redSqr(),n=t.z.redSqr();if(0!==this.x.redMul(n).redISub(t.x.redMul(i)).cmpn(0))return!1;var r=i.redMul(this.z),e=n.redMul(t.z);return 0===this.y.redMul(e).redISub(t.y.redMul(r)).cmpn(0)},i.prototype.eqXToP=function(t){var i=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(i);if(0===this.x.cmp(n))return!0;for(var r=t.clone(),e=this.curve.redN.redMul(i);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(e),0===this.x.cmp(n))return!0}},i.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: ".concat(this.x.toString(16,2)," y: ").concat(this.y.toString(16,2)," z: ").concat(this.z.toString(16,2),">")},i.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},i}(L_),V_=function(t){this.curve=new P_(t),this.g=this.curve.g,this.n=this.curve.n},R_={};R_.PresetCurve=V_,F_="secp256k1",I_={type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",{doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}]},Object.defineProperty(R_,F_,{configurable:!0,enumerable:!0,get:function(){var t=new V_(I_);return Object.defineProperty(R_,F_,{configurable:!0,enumerable:!0,value:t}),t}});var G_=function(){function t(t,i){this.ec=t,this.priv=null,this.pub=null,i.pub&&this.YH(i.pub,i.pubEnc)}return t.fromPublic=function(i,n,r){return n instanceof t?n:new t(i,{pub:n,pubEnc:r})},t.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},t.prototype.getPublic=function(t,i){return"string"==typeof t&&(i=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),i?this.pub.encode(i,t):this.pub},t.prototype.YH=function(t,i){if(t.x||t.y)return"mont"===this.ec.curve.type||"short"===this.ec.curve.type||this.ec.curve.type,void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,i)},t.prototype.verify=function(t,i){return this.ec.verify(t,i,this)},t}();function U_(t,i){var n=t[i.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var e=0,o=i.place,s=0;s<r;s++,o++)e<<=8,e|=t[o],e>>>=0;return!(e<=127)&&(i.place=o,e)}var Y_,W_=function(){this.place=0},X_=function(){function t(i,n){if(i instanceof t)return i;this.WH(i,n)||(this.r=new __(i.r,16),this.s=new __(i.s,16),void 0===i.recoveryParam?this.recoveryParam=null:this.recoveryParam=i.recoveryParam)}return t.prototype.WH=function(t,i){t=O_(t,i);var n=new W_;if(48!==t[n.place++])return!1;var r=U_(t,n);if(!1===r)return!1;if(r+n.place!==t.length)return!1;if(2!==t[n.place++])return!1;var e=U_(t,n);if(!1===e)return!1;var o=t.slice(n.place,e+n.place);if(n.place+=e,2!==t[n.place++])return!1;var s=U_(t,n);if(!1===s)return!1;if(t.length!==s+n.place)return!1;var u=t.slice(n.place,s+n.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}return this.r=new __(o),this.s=new __(u),this.recoveryParam=null,!0},t}(),H_=function(){function t(i){if(!(this instanceof t))return new t(i);"string"==typeof i&&(i=R_[i]),i instanceof R_.PresetCurve&&(i={curve:i}),this.curve=i.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=i.curve.g,this.g.precompute(i.curve.n.bitLength()+1)}return t.prototype.keyFromPublic=function(t,i){return G_.fromPublic(this,t,i)},t.prototype.XH=function(t,i){var n=8*t.byteLength()-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!i&&t.cmp(this.n)>=0?t.sub(this.n):t},t.prototype.verify=function(t,i,n,r){t=this.XH(new __(t,16)),n=this.keyFromPublic(n,r);var e=(i=new X_(i,"hex")).r,o=i.s;if(e.cmpn(1)<0||e.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s=o.invm(this.n),u=s.mul(t).umod(this.n),a=s.mul(e).umod(this.n);if(!this.curve.CH){var h=this.g.mulAdd(u,n.getPublic(),a);return!h.isInfinity()&&0===h.getX().umod(this.n).cmp(e)}var f=this.g.jmulAdd(u,n.getPublic(),a);return!f.isInfinity()&&f.eqXToP(e)},t}(),Z_={exports:{}},J_={exports:{}};J_.exports=(Y_=Y_||function(t,i){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==KC&&KC.crypto&&(n=KC.crypto),!n)try{n=i}catch(t){}var r=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},e=Object.create||function(){function t(){}return function(i){var n;return t.prototype=i,n=new t,t.prototype=null,n}}(),o={},s=o.lib={},u=s.Base={extend:function(t){var i=e(this);return t&&i.mixIn(t),i.hasOwnProperty("init")&&this.init!==i.init||(i.init=function(){i.$super.init.apply(this,arguments)}),i.init.prototype=i,i.$super=this,i},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=s.WordArray=u.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=i?n:4*t.length},toString:function(t){return(t||f).stringify(this)},concat:function(t){var i=this.words,n=t.words,r=this.sigBytes,e=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<e;o++){var s=n[o>>>2]>>>24-o%4*8&255;i[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var u=0;u<e;u+=4)i[r+u>>>2]=n[u>>>2];return this.sigBytes+=e,this},clamp:function(){var i=this.words,n=this.sigBytes;i[n>>>2]&=4294967295<<32-n%4*8,i.length=t.ceil(n/4)},clone:function(){var t=u.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var i=[],n=0;n<t;n+=4)i.push(r());return new a.init(i,t)}}),h=o.enc={},f=h.Hex={stringify:function(t){for(var i=t.words,n=t.sigBytes,r=[],e=0;e<n;e++){var o=i[e>>>2]>>>24-e%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var i=t.length,n=[],r=0;r<i;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new a.init(n,i/2)}},c=h.Latin1={stringify:function(t){for(var i=t.words,n=t.sigBytes,r=[],e=0;e<n;e++){var o=i[e>>>2]>>>24-e%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var i=t.length,n=[],r=0;r<i;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new a.init(n,i)}},l=h.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},v=s.BufferedBlockAlgorithm=u.extend({reset:function(){this.iM=new a.init,this.HH=0},ZH:function(t){"string"==typeof t&&(t=l.parse(t)),this.iM.concat(t),this.HH+=t.sigBytes},JH:function(i){var n,r=this.iM,e=r.words,o=r.sigBytes,s=this.blockSize,u=o/(4*s),h=(u=i?t.ceil(u):t.max((0|u)-this.QH,0))*s,f=t.min(4*h,o);if(h){for(var c=0;c<h;c+=s)this.KH(e,c);n=e.splice(0,h),r.sigBytes-=f}return new a.init(n,f)},clone:function(){var t=u.clone.call(this);return t.iM=this.iM.clone(),t},QH:0});s.Hasher=v.extend({cfg:u.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){v.reset.call(this),this.qH()},update:function(t){return this.ZH(t),this.JH(),this},finalize:function(t){return t&&this.ZH(t),this.$H()},blockSize:16,tZ:function(t){return function(i,n){return new t.init(n).finalize(i)}},iZ:function(t){return function(i,n){return new d.HMAC.init(t,n).finalize(i)}}});var d=o.algo={};return o}(Math),Y_);var Q_={exports:{}};!function(t){var i;t.exports=(i=J_.exports,function(t){var n=i,r=n.lib,e=r.WordArray,o=r.Hasher,s=n.algo,u=[],a=[];!function(){function i(i){for(var n=t.sqrt(i),r=2;r<=n;r++)if(!(i%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,e=0;e<64;)i(r)&&(e<8&&(u[e]=n(t.pow(r,.5))),a[e]=n(t.pow(r,1/3)),e++),r++}();var h=[],f=s.SHA256=o.extend({qH:function(){this.nZ=new e.init(u.slice(0))},KH:function(t,i){for(var n=this.nZ.words,r=n[0],e=n[1],o=n[2],s=n[3],u=n[4],f=n[5],c=n[6],l=n[7],v=0;v<64;v++){if(v<16)h[v]=0|t[i+v];else{var d=h[v-15],y=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,A=h[v-2],b=(A<<15|A>>>17)^(A<<13|A>>>19)^A>>>10;h[v]=y+h[v-7]+b+h[v-16]}var p=r&e^r&o^e&o,m=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),g=l+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&f^~u&c)+a[v]+h[v];l=c,c=f,f=u,u=s+g|0,s=o,o=e,e=r,r=g+(m+p)|0}n[0]=n[0]+r|0,n[1]=n[1]+e|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0,n[5]=n[5]+f|0,n[6]=n[6]+c|0,n[7]=n[7]+l|0},$H:function(){var i=this.iM,n=i.words,r=8*this.HH,e=8*i.sigBytes;return n[e>>>5]|=128<<24-e%32,n[14+(e+64>>>9<<4)]=t.floor(r/4294967296),n[15+(e+64>>>9<<4)]=r,i.sigBytes=4*n.length,this.JH(),this.nZ},clone:function(){var t=o.clone.call(this);return t.nZ=this.nZ.clone(),t}});n.SHA256=o.tZ(f),n.HmacSHA256=o.iZ(f)}(Math),i.SHA256)}(Q_);var K_=Q_.exports;!function(t){var i,n,r,e,o,s;t.exports=(n=(i=s=J_.exports).lib.WordArray,r=i.algo,e=r.SHA256,o=r.SHA224=e.extend({qH:function(){this.nZ=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},$H:function(){var t=e.$H.call(this);return t.sigBytes-=4,t}}),i.SHA224=e.tZ(o),i.HmacSHA224=e.iZ(o),s.SHA224)}(Z_);var q_=Z_.exports,$_={exports:{}};!function(t){t.exports=J_.exports.enc.Hex}($_);var tO=$_.exports,iO={exports:{}};!function(t){t.exports=J_.exports.enc.Utf8}(iO);var nO=iO.exports,rO={exports:{}};!function(t){var i,n,r;t.exports=(r=(n=i=J_.exports).lib.WordArray,n.enc.Base64={stringify:function(t){var i=t.words,n=t.sigBytes,r=this.rt;t.clamp();for(var e=[],o=0;o<n;o+=3)for(var s=(i[o>>>2]>>>24-o%4*8&255)<<16|(i[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|i[o+2>>>2]>>>24-(o+2)%4*8&255,u=0;u<4&&o+.75*u<n;u++)e.push(r.charAt(s>>>6*(3-u)&63));var a=r.charAt(64);if(a)for(;e.length%4;)e.push(a);return e.join("")},parse:function(t){var i=t.length,n=this.rt,e=this.rZ;if(!e){e=this.rZ=[];for(var o=0;o<n.length;o++)e[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var u=t.indexOf(s);-1!==u&&(i=u)}return function(t,i,n){for(var e=[],o=0,s=0;s<i;s++)if(s%4){var u=n[t.charCodeAt(s-1)]<<s%4*2|n[t.charCodeAt(s)]>>>6-s%4*2;e[o>>>2]|=u<<24-o%4*8,o++}return r.create(e,o)}(t,i,e)},rt:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},i.enc.Base64)}({exports:{}});!function(t){var i;t.exports=(i=J_.exports,function(t){var n=i,r=n.lib,e=r.WordArray,o=r.Hasher,s=n.algo,u=[];!function(){for(var i=0;i<64;i++)u[i]=4294967296*t.abs(t.sin(i+1))|0}();var a=s.MD5=o.extend({qH:function(){this.nZ=new e.init([1732584193,4023233417,2562383102,271733878])},KH:function(t,i){for(var n=0;n<16;n++){var r=i+n,e=t[r];t[r]=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8)}var o=this.nZ.words,s=t[i+0],a=t[i+1],v=t[i+2],d=t[i+3],y=t[i+4],A=t[i+5],b=t[i+6],p=t[i+7],m=t[i+8],g=t[i+9],x=t[i+10],S=t[i+11],w=t[i+12],M=t[i+13],C=t[i+14],T=t[i+15],k=o[0],_=o[1],O=o[2],F=o[3];k=h(k,_,O,F,s,7,u[0]),F=h(F,k,_,O,a,12,u[1]),O=h(O,F,k,_,v,17,u[2]),_=h(_,O,F,k,d,22,u[3]),k=h(k,_,O,F,y,7,u[4]),F=h(F,k,_,O,A,12,u[5]),O=h(O,F,k,_,b,17,u[6]),_=h(_,O,F,k,p,22,u[7]),k=h(k,_,O,F,m,7,u[8]),F=h(F,k,_,O,g,12,u[9]),O=h(O,F,k,_,x,17,u[10]),_=h(_,O,F,k,S,22,u[11]),k=h(k,_,O,F,w,7,u[12]),F=h(F,k,_,O,M,12,u[13]),O=h(O,F,k,_,C,17,u[14]),k=f(k,_=h(_,O,F,k,T,22,u[15]),O,F,a,5,u[16]),F=f(F,k,_,O,b,9,u[17]),O=f(O,F,k,_,S,14,u[18]),_=f(_,O,F,k,s,20,u[19]),k=f(k,_,O,F,A,5,u[20]),F=f(F,k,_,O,x,9,u[21]),O=f(O,F,k,_,T,14,u[22]),_=f(_,O,F,k,y,20,u[23]),k=f(k,_,O,F,g,5,u[24]),F=f(F,k,_,O,C,9,u[25]),O=f(O,F,k,_,d,14,u[26]),_=f(_,O,F,k,m,20,u[27]),k=f(k,_,O,F,M,5,u[28]),F=f(F,k,_,O,v,9,u[29]),O=f(O,F,k,_,p,14,u[30]),k=c(k,_=f(_,O,F,k,w,20,u[31]),O,F,A,4,u[32]),F=c(F,k,_,O,m,11,u[33]),O=c(O,F,k,_,S,16,u[34]),_=c(_,O,F,k,C,23,u[35]),k=c(k,_,O,F,a,4,u[36]),F=c(F,k,_,O,y,11,u[37]),O=c(O,F,k,_,p,16,u[38]),_=c(_,O,F,k,x,23,u[39]),k=c(k,_,O,F,M,4,u[40]),F=c(F,k,_,O,s,11,u[41]),O=c(O,F,k,_,d,16,u[42]),_=c(_,O,F,k,b,23,u[43]),k=c(k,_,O,F,g,4,u[44]),F=c(F,k,_,O,w,11,u[45]),O=c(O,F,k,_,T,16,u[46]),k=l(k,_=c(_,O,F,k,v,23,u[47]),O,F,s,6,u[48]),F=l(F,k,_,O,p,10,u[49]),O=l(O,F,k,_,C,15,u[50]),_=l(_,O,F,k,A,21,u[51]),k=l(k,_,O,F,w,6,u[52]),F=l(F,k,_,O,d,10,u[53]),O=l(O,F,k,_,x,15,u[54]),_=l(_,O,F,k,a,21,u[55]),k=l(k,_,O,F,m,6,u[56]),F=l(F,k,_,O,T,10,u[57]),O=l(O,F,k,_,b,15,u[58]),_=l(_,O,F,k,M,21,u[59]),k=l(k,_,O,F,y,6,u[60]),F=l(F,k,_,O,S,10,u[61]),O=l(O,F,k,_,v,15,u[62]),_=l(_,O,F,k,g,21,u[63]),o[0]=o[0]+k|0,o[1]=o[1]+_|0,o[2]=o[2]+O|0,o[3]=o[3]+F|0},$H:function(){var i=this.iM,n=i.words,r=8*this.HH,e=8*i.sigBytes;n[e>>>5]|=128<<24-e%32;var o=t.floor(r/4294967296),s=r;n[15+(e+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(e+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),i.sigBytes=4*(n.length+1),this.JH();for(var u=this.nZ,a=u.words,h=0;h<4;h++){var f=a[h];a[h]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return u},clone:function(){var t=o.clone.call(this);return t.nZ=this.nZ.clone(),t}});function h(t,i,n,r,e,o,s){var u=t+(i&n|~i&r)+e+s;return(u<<o|u>>>32-o)+i}function f(t,i,n,r,e,o,s){var u=t+(i&r|n&~r)+e+s;return(u<<o|u>>>32-o)+i}function c(t,i,n,r,e,o,s){var u=t+(i^n^r)+e+s;return(u<<o|u>>>32-o)+i}function l(t,i,n,r,e,o,s){var u=t+(n^(i|~r))+e+s;return(u<<o|u>>>32-o)+i}n.MD5=o.tZ(a),n.HmacMD5=o.iZ(a)}(Math),i.MD5)}({exports:{}});!function(t){var i,n,r,e,o,s,u,a;t.exports=(n=(i=a=J_.exports).lib,r=n.WordArray,e=n.Hasher,o=i.algo,s=[],u=o.SHA1=e.extend({qH:function(){this.nZ=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},KH:function(t,i){for(var n=this.nZ.words,r=n[0],e=n[1],o=n[2],u=n[3],a=n[4],h=0;h<80;h++){if(h<16)s[h]=0|t[i+h];else{var f=s[h-3]^s[h-8]^s[h-14]^s[h-16];s[h]=f<<1|f>>>31}var c=(r<<5|r>>>27)+a+s[h];c+=h<20?1518500249+(e&o|~e&u):h<40?1859775393+(e^o^u):h<60?(e&o|e&u|o&u)-1894007588:(e^o^u)-899497514,a=u,u=o,o=e<<30|e>>>2,e=r,r=c}n[0]=n[0]+r|0,n[1]=n[1]+e|0,n[2]=n[2]+o|0,n[3]=n[3]+u|0,n[4]=n[4]+a|0},$H:function(){var t=this.iM,i=t.words,n=8*this.HH,r=8*t.sigBytes;return i[r>>>5]|=128<<24-r%32,i[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),i[15+(r+64>>>9<<4)]=n,t.sigBytes=4*i.length,this.JH(),this.nZ},clone:function(){var t=e.clone.call(this);return t.nZ=this.nZ.clone(),t}}),i.SHA1=e.tZ(u),i.HmacSHA1=e.iZ(u),a.SHA1)}({exports:{}});!function(t){var i,n,r;t.exports=(n=(i=J_.exports).lib.Base,r=i.enc.Utf8,void(i.algo.HMAC=n.extend({init:function(t,i){t=this.eZ=new t.init,"string"==typeof i&&(i=r.parse(i));var n=t.blockSize,e=4*n;i.sigBytes>e&&(i=t.finalize(i)),i.clamp();for(var o=this.oZ=i.clone(),s=this.sZ=i.clone(),u=o.words,a=s.words,h=0;h<n;h++)u[h]^=1549556828,a[h]^=909522486;o.sigBytes=s.sigBytes=e,this.reset()},reset:function(){var t=this.eZ;t.reset(),t.update(this.sZ)},update:function(t){return this.eZ.update(t),this},finalize:function(t){var i=this.eZ,n=i.finalize(t);return i.reset(),i.finalize(this.oZ.clone().concat(n))}})))}({exports:{}}),function(t){var i,n,r,e,o,s,u,a;t.exports=(r=(n=(i=a=J_.exports).lib).Base,e=n.WordArray,s=(o=i.algo).MD5,u=o.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:s,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,i){for(var n,r=this.cfg,o=r.hasher.create(),s=e.create(),u=s.words,a=r.keySize,h=r.iterations;u.length<a;){n&&o.update(n),n=o.update(t).finalize(i),o.reset();for(var f=1;f<h;f++)n=o.finalize(n),o.reset();s.concat(n)}return s.sigBytes=4*a,s}}),i.EvpKDF=function(t,i,n){return u.create(n).compute(t,i)},a.EvpKDF)}({exports:{}});!function(t){var i;t.exports=void((i=J_.exports).lib.Cipher||function(){var t=i,n=t.lib,r=n.Base,e=n.WordArray,o=n.BufferedBlockAlgorithm,s=t.enc;s.Utf8;var u=s.Base64,a=t.algo.EvpKDF,h=n.Cipher=o.extend({cfg:r.extend(),createEncryptor:function(t,i){return this.create(this.uZ,t,i)},createDecryptor:function(t,i){return this.create(this.aZ,t,i)},init:function(t,i,n){this.cfg=this.cfg.extend(n),this.hZ=t,this.fZ=i,this.reset()},reset:function(){o.reset.call(this),this.qH()},process:function(t){return this.ZH(t),this.JH()},finalize:function(t){return t&&this.ZH(t),this.$H()},keySize:4,ivSize:4,uZ:1,aZ:2,tZ:function(){function t(t){return"string"==typeof t?p:A}return function(i){return{encrypt:function(n,r,e){return t(r).encrypt(i,n,r,e)},decrypt:function(n,r,e){return t(r).decrypt(i,n,r,e)}}}}()});n.StreamCipher=h.extend({$H:function(){return this.JH(!0)},blockSize:1});var f=t.mode={},c=n.BlockCipherMode=r.extend({createEncryptor:function(t,i){return this.Encryptor.create(t,i)},createDecryptor:function(t,i){return this.Decryptor.create(t,i)},init:function(t,i){this.cZ=t,this.lZ=i}}),l=f.CBC=function(){var t=c.extend();function i(t,i,n){var r,e=this.lZ;e?(r=e,this.lZ=undefined):r=this.vZ;for(var o=0;o<n;o++)t[i+o]^=r[o]}return t.Encryptor=t.extend({processBlock:function(t,n){var r=this.cZ,e=r.blockSize;i.call(this,t,n,e),r.encryptBlock(t,n),this.vZ=t.slice(n,n+e)}}),t.Decryptor=t.extend({processBlock:function(t,n){var r=this.cZ,e=r.blockSize,o=t.slice(n,n+e);r.decryptBlock(t,n),i.call(this,t,n,e),this.vZ=o}}),t}(),v=(t.pad={}).Pkcs7={pad:function(t,i){for(var n=4*i,r=n-t.sigBytes%n,o=r<<24|r<<16|r<<8|r,s=[],u=0;u<r;u+=4)s.push(o);var a=e.create(s,r);t.concat(a)},unpad:function(t){var i=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=i}};n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:l,padding:v}),reset:function(){var t;h.reset.call(this);var i=this.cfg,n=i.iv,r=i.mode;this.hZ==this.uZ?t=r.createEncryptor:(t=r.createDecryptor,this.QH=1),this.dZ&&this.dZ.yZ==t?this.dZ.init(this,n&&n.words):(this.dZ=t.call(r,this,n&&n.words),this.dZ.yZ=t)},KH:function(t,i){this.dZ.processBlock(t,i)},$H:function(){var t,i=this.cfg.padding;return this.hZ==this.uZ?(i.pad(this.iM,this.blockSize),t=this.JH(!0)):(t=this.JH(!0),i.unpad(t)),t},blockSize:4});var d=n.CipherParams=r.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),y=(t.format={}).OpenSSL={stringify:function(t){var i=t.ciphertext,n=t.salt;return(n?e.create([1398893684,1701076831]).concat(n).concat(i):i).toString(u)},parse:function(t){var i,n=u.parse(t),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(i=e.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),d.create({ciphertext:n,salt:i})}},A=n.SerializableCipher=r.extend({cfg:r.extend({format:y}),encrypt:function(t,i,n,r){r=this.cfg.extend(r);var e=t.createEncryptor(n,r),o=e.finalize(i),s=e.cfg;return d.create({ciphertext:o,key:n,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,i,n,r){return r=this.cfg.extend(r),i=this.AZ(i,r.format),t.createDecryptor(n,r).finalize(i.ciphertext)},AZ:function(t,i){return"string"==typeof t?i.parse(t,this):t}}),b=(t.kdf={}).OpenSSL={execute:function(t,i,n,r){r||(r=e.random(8));var o=a.create({keySize:i+n}).compute(t,r),s=e.create(o.words.slice(i),4*n);return o.sigBytes=4*i,d.create({key:o,iv:s,salt:r})}},p=n.PasswordBasedCipher=A.extend({cfg:A.cfg.extend({kdf:b}),encrypt:function(t,i,n,r){var e=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize);r.iv=e.iv;var o=A.encrypt.call(this,t,i,e.key,r);return o.mixIn(e),o},decrypt:function(t,i,n,r){r=this.cfg.extend(r),i=this.AZ(i,r.format);var e=r.kdf.execute(n,t.keySize,t.ivSize,i.salt);return r.iv=e.iv,A.decrypt.call(this,t,i,e.key,r)}})}())}({exports:{}}),function(t){var i;t.exports=(i=J_.exports,function(){var t=i,n=t.lib.BlockCipher,r=t.algo,e=[],o=[],s=[],u=[],a=[],h=[],f=[],c=[],l=[],v=[];!function(){for(var t=[],i=0;i<256;i++)t[i]=i<128?i<<1:i<<1^283;var n=0,r=0;for(i=0;i<256;i++){var d=r^r<<1^r<<2^r<<3^r<<4;d=d>>>8^255&d^99,e[n]=d,o[d]=n;var y=t[n],A=t[y],b=t[A],p=257*t[d]^16843008*d;s[n]=p<<24|p>>>8,u[n]=p<<16|p>>>16,a[n]=p<<8|p>>>24,h[n]=p,p=16843009*b^65537*A^257*y^16843008*n,f[d]=p<<24|p>>>8,c[d]=p<<16|p>>>16,l[d]=p<<8|p>>>24,v[d]=p,n?(n=y^t[t[t[b^y]]],r^=t[t[r]]):n=r=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],y=r.AES=n.extend({qH:function(){if(!this.bZ||this.pZ!==this.fZ){for(var t=this.pZ=this.fZ,i=t.words,n=t.sigBytes/4,r=4*((this.bZ=n+6)+1),o=this.mZ=[],s=0;s<r;s++)s<n?o[s]=i[s]:(h=o[s-1],s%n?n>6&&s%n==4&&(h=e[h>>>24]<<24|e[h>>>16&255]<<16|e[h>>>8&255]<<8|e[255&h]):(h=e[(h=h<<8|h>>>24)>>>24]<<24|e[h>>>16&255]<<16|e[h>>>8&255]<<8|e[255&h],h^=d[s/n|0]<<24),o[s]=o[s-n]^h);for(var u=this.gZ=[],a=0;a<r;a++){if(s=r-a,a%4)var h=o[s];else h=o[s-4];u[a]=a<4||s<=4?h:f[e[h>>>24]]^c[e[h>>>16&255]]^l[e[h>>>8&255]]^v[e[255&h]]}}},encryptBlock:function(t,i){this.xZ(t,i,this.mZ,s,u,a,h,e)},decryptBlock:function(t,i){var n=t[i+1];t[i+1]=t[i+3],t[i+3]=n,this.xZ(t,i,this.gZ,f,c,l,v,o),n=t[i+1],t[i+1]=t[i+3],t[i+3]=n},xZ:function(t,i,n,r,e,o,s,u){for(var a=this.bZ,h=t[i]^n[0],f=t[i+1]^n[1],c=t[i+2]^n[2],l=t[i+3]^n[3],v=4,d=1;d<a;d++){var y=r[h>>>24]^e[f>>>16&255]^o[c>>>8&255]^s[255&l]^n[v++],A=r[f>>>24]^e[c>>>16&255]^o[l>>>8&255]^s[255&h]^n[v++],b=r[c>>>24]^e[l>>>16&255]^o[h>>>8&255]^s[255&f]^n[v++],p=r[l>>>24]^e[h>>>16&255]^o[f>>>8&255]^s[255&c]^n[v++];h=y,f=A,c=b,l=p}y=(u[h>>>24]<<24|u[f>>>16&255]<<16|u[c>>>8&255]<<8|u[255&l])^n[v++],A=(u[f>>>24]<<24|u[c>>>16&255]<<16|u[l>>>8&255]<<8|u[255&h])^n[v++],b=(u[c>>>24]<<24|u[l>>>16&255]<<16|u[h>>>8&255]<<8|u[255&f])^n[v++],p=(u[l>>>24]<<24|u[h>>>16&255]<<16|u[f>>>8&255]<<8|u[255&c])^n[v++],t[i]=y,t[i+1]=A,t[i+2]=b,t[i+3]=p},keySize:8});t.AES=n.tZ(y)}(),i.AES)}(rO);var eO=rO.exports,oO={exports:{}};!function(t){var i,n,r;t.exports=((r=J_.exports).mode.CTR=(n=(i=r.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(t,i){var n=this.cZ,r=n.blockSize,e=this.lZ,o=this.SZ;e&&(o=this.SZ=e.slice(0),this.lZ=void 0);var s=o.slice(0);n.encryptBlock(s,0),o[r-1]=o[r-1]+1|0;for(var u=0;u<r;u++)t[i+u]^=s[u]}}),i.Decryptor=n,i),r.mode.CTR)}(oO);var sO=oO.exports,uO={exports:{}};!function(t){var i;t.exports=(i=J_.exports,function(){if("function"==typeof ArrayBuffer){var t=i.lib.WordArray,n=t.init,r=t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var i=t.byteLength,r=[],e=0;e<i;e++)r[e>>>2]|=t[e]<<24-e%4*8;n.call(this,r,i)}else n.apply(this,arguments)};r.prototype=t}}(),i.lib.WordArray)}(uO);var aO=uO.exports,hO={exports:{}};!function(t){var i;t.exports=((i=J_.exports).pad.NoPadding={pad:function(){},unpad:function(){}},i.pad.NoPadding)}(hO);var fO=hO.exports,cO=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s};const lO="aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzL2RvY3MvbGljZW5zZXMvYXBwLWRlcGxveW1lbnQv";var vO,dO,yO,AO=9e5,bO={"-4":["MDQxMmQ1MWU5MjFhYTMzODUwMWE4ZGYzN2ViZTE4NTU3ZDViYmRlZDg1Yzk0OGI3YTJkMDBmZTNhZGVlMjdjY2VmNzBiMWVlOWI3MDZjMTIwYTAzZDZlZTNkNmYyOTc5Y2E2NGEzN2Y3YjY4N2E1ZjljZWY2ODYxN2I1NWU5ZmJjMA=="],"-3":["MjAyNTExMjU="],"-2":["aHR0cHM6Ly9qc2xpY2Vuc2luZy5saWdodG5pbmdjaGFydC5jb20vc2Vzc2lvbg==","aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzL2RvY3MvdHJvdWJsZXNob290aW5nL3Jlc3RyaWN0ZWQtZmVhdHVyZXMv","aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzLw==","aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vcHl0aG9uLWNoYXJ0cy8="],"-1":["WE1MSHR0cFJlcXVlc3Q=","ZG9jdW1lbnQ=","ZGVmYXVsdFZpZXc=","YQ==","Yg==","bGljZW5zZV9leHBpcmF0aW9uX2RhdGU=","bG9jYXRpb24=","aG9zdG5hbWU=","dGVzdF9kb21haW4=","ZG9tYWlucw==","Y3J5cHRv","U2lnbmF0dXJl","RUNEU0E=","U0hBMjI0d2l0aEVDRFNB","YWxn","Y3VydmU=","c2VjcDI1Nmsx","YWRkRXZlbnRMaXN0ZW5lcg==","cmVtb3ZlRXZlbnRMaXN0ZW5lcg==","bG9hZGVuZA==","ZXJyb3I=","YWJvcnQ=","dGltZW91dA==","cmVzcG9uc2VUZXh0","Q29udGVudC1UeXBl","YXBwbGljYXRpb24vanNvbg==","TWVzc2FnZURpZ2VzdA==","c2hhMjU2","Y3J5cHRvanM=","dXBkYXRlU3RyaW5n","ZGlnZXN0","Y29tcGFueQ==","YXBwVGl0bGU=","bGNqcy1zZXNzaW9u","bG9jYWxTdG9yYWdl","Z2V0SXRlbQ==","c2V0SXRlbQ==","ZA==","dA==","bGNqcy1zZXNzaW9uLTI=","aG9zdA==","dG9w"],0:["TGljZW5zZQ==","IA==","a2V5","aGFz","ZXhwaXJlZA==","Lg==","dmVyc2lvbg==","aXM=","dG9v","bmV3","b2xk","b3I=","aW52YWxpZA==","MDAwMQ==","SW52YWxpZA==","bnVtYmVy","b2Y=","ZG9tYWlucw==","ZGVwbG95bWVudA==","aW4=","ZG9tYWlu","RGVwbG95bWVudA==","ZG9tYWlu","dmFsaWRhdGlvbg==","ZmFpbGVk","Og==","UE9TVA==","c2VydmVy","cmVzcG9uZGVk","d2l0aA==","dW5leHBlY3RlZA==","dmFsdWU=","cmVxdWVzdA==","VEVTVA==","REVQTE9ZTUVOVA==","S2V5","VGFtcGVyaW5n","YmVlbg==","ZGV0ZWN0ZWQ=","TWlzc2luZw==","TGljZW5zZQ==","aW5mb3JtYXRpb24=","ZG9lcw==","bm90","aW5jbHVkZQ==","cGVybWlzc2lvbg==","dG8=","dXNl","Q2hhcnQ=","M0Q=","WFk=","RGF0YUdyaWQ=","TWFw","UG9sYXI=","RnVubmVs","R2F1Z2U=","UGll","UHlyYW1pZA==","U3BpZGVy","Zm9y","dGhpcw==","VHJhZGluZw==","ZmVhdHVyZXM=","Q2xpY2s=","aGVyZQ==","bW9yZQ==","c3VwcGxpZWQ=","Z2V0","bGljZW5zZQ==","VHJlZQ==","dW5leHBlY3RlZA==","ZXJyb3I="],1:["aHR0cHM6Ly9qc2xpY2Vuc2luZy5saWdodG5pbmdjaGFydC5jb20vc2FuZGJveA==","aHR0cHM6Ly9qc2xpY2Vuc2luZy5saWdodG5pbmdjaGFydC5jb20vcGx1Z2lu"]},pO=Qe,mO=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t.slice(1).reduce((function(i,n){return i+pO.atob(bO[t[0]][n].toString())}),"")},gO=new Uint8Array([]),xO=function(t){return t&&"cGx1Z2lu"in t&&"cHl0aG9u"===t.cGx1Z2lu?mO(-2,3):mO(-2,2)},SO=function(){function t(){}return Object.defineProperty(t.prototype,"e",{get:function(){dO={Gu:!1,Uu:!1,Yu:!1,Wu:!1,Xu:!1,Hu:!1,Zu:!1,Ju:!1,Qu:!1,Ku:!1,qu:!1,$u:!1,ta:!1,ia:!1,na:!1,ra:!1,ea:!1,oa:!1,sa:!1,ua:!1,aa:!1,ha:!1,fa:!1,ca:!1,la:!1,va:!1,da:!1};var t=gO.length,i=t>=1?gO[0]:void 0,n=t>=2?gO[1]:void 0,r=t>=3?gO[2]:void 0,e=t>=4?gO[3]:void 0;return void 0!==i&&(dO.Gu=!!(1&i),dO.Uu=!!(2&i),dO.Yu=!!(4&i),dO.Wu=!!(8&i),dO.Xu=!!(16&i),dO.Hu=!!(32&i),dO.Zu=!!(64&i),dO.Ju=!!(128&i)),void 0!==n&&(dO.Qu=!!(1&n),dO.Ku=!!(2&n),dO.qu=!!(4&n),dO.$u=!!(8&n),dO.ta=!!(16&n),dO.ia=!!(32&n),dO.na=!!(64&n),dO.ra=!!(128&n)),void 0!==r&&(dO.ea=!!(1&r),dO.oa=!!(2&r),dO.sa=!!(4&r),dO.ua=!!(8&r),dO.aa=!!(16&r),dO.ha=!!(32&r),dO.fa=!!(64&r),dO.ca=!!(128&r)),void 0!==e&&(dO.la=!!(1&e),dO.va=!!(2&e),dO.da=!!(4&e)),dO.Hu},set:function(t){vO=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"l",{get:function(){return yO},set:function(t){yO=t},enumerable:!1,configurable:!0}),t}(),wO=!1,MO=function(t,i){var n=new RegExp(".{".concat(i,"}"),"g");return(t.match(n)||[]).map((function(t){return parseInt(t,16)}))},CO=function(t){if(4===t.byteLength){var i=t[0].toString().padStart(2,"0"),n=t[1].toString().padStart(2,"0"),r=t[2].toString().padStart(2,"0"),e=t[3].toString().padStart(2,"0");return"".concat(i).concat(n).concat(r).concat(e)}},TO=function(t){return t.getFullYear().toString()+(t.getMonth()+1).toString().padStart(2,"0")+t.getDate().toString().padStart(2,"0")},kO=function(t){var i={},n=t.split("-");if(3!==n.length)return{wZ:mO(0,0,1,7,1,12,5)};var r=0,e=Uint8Array.from(pO.atob(n[1]),(function(t){return t.charCodeAt(0)}));r+=1;var o=e.subarray(r,r+=20),s=new DataView(e.buffer).getUint16(r,!0);r+=2;for(var u=Uint8Array.from(Array(s)),a=0;a<s;a+=1)u[a]=e[a+r]^o[a%o.byteLength];var h=new DataView(u.buffer);i.MZ=u,r=0;var f=Uint8Array.from(Array(h.getUint16(r,!0)));r+=2,f.set(u.subarray(r,r+=f.byteLength)),gO=new Uint8Array(f);var c=CO(u.subarray(r,r+=4)),l=mO(-3,0);if(!c)return{wZ:mO(0,0,1,7,1,12,5)};if(c<l)return{wZ:mO(0,40,1,2,1,7,1,8,1,10,1,59,1,60,1,6,5)};if(8&f[0]){var v=CO(u.subarray(r,r+=4)),d=TO(new Date);if(!v)return{wZ:mO(0,0,1,7,1,12,5)};if(v<d)return{wZ:mO(0,0,1,2,1,3,1,4,5),CZ:xO()}}i.TZ=r;var y="".concat(n[0],"-").concat(n[1]),A=Array.prototype.reduce.call(pO.atob(n[2]),(function(t,i){return t+"0".concat(i.charCodeAt(0).toString(16)).slice(-2)}),"");return FO(y,A)?i:{wZ:mO(0,0,1,7,1,12,5)}},_O=function(t){var i=t.slice(0,4),n=t.slice(5);switch(i){case"0001":n=n.replace(/-/g,"");var r=Uint8Array.from(MO(n,2)),e=r.slice(36,40),o=new Uint8Array(4),s=function(t){for(var i,n=[],r=0;r<256;r+=1){i=r;for(var e=0;e<8;e+=1)i=1&i?3988292384^i>>>1:i>>>1;n[r]=i}for(var o=-1,s=0;s<t.length;s+=1)o=o>>>8^n[255&(o^t[s])];return~o>>>0}(r.slice(0,36));new DataView(o.buffer).setUint32(0,s,!0);for(var u=r.slice(28,34),a=0,h=u.length-1;h>0;h-=1)a+=u[h]*Math.pow(2,8*h);var f=new Date(a);if(TO(f)<mO(-3,0))return{wZ:mO(0,0,1,2,1,3,1,4,5),CZ:xO()};if(e.every((function(t,i){return o[i]===t})))return{};break;case"0002":return kO(t);default:return{wZ:mO(0,0,1,2,1,6,1,7,1,8,1,9,1,11,1,10,5)}}return{wZ:mO(0,0,1,2,1,7,1,12,5)}},OO=function(t){if(!t)return{wZ:mO(0,14,1,15,1,16,1,17,1,19,1,18,1,2,5)};var i=(t[mO(-1,9)]||t[mO(-1,37)]).map((function(t){return(t||"").trim()})),n=pO[mO(-1,41)];try{if(n&&i.indexOf(n[mO(-1,6)][mO(-1,7)])>-1)return{kZ:!0}}catch(t){}if(i.indexOf(pO[mO(-1,6)][mO(-1,7)])>-1)return{kZ:!0};var r=i.filter((function(t){return t.indexOf("*")>-1}));try{if(n&&LO(n[mO(-1,6)][mO(-1,7)],r))return{kZ:!0}}catch(t){}if(LO(pO[mO(-1,6)][mO(-1,7)],r))return{kZ:!0};var e=t[mO(-1,8)]||t[mO(-1,38)];if(""!==e&&null!=e){try{if(n&&LO(n[mO(-1,6)][mO(-1,7)],[e]))return{kZ:!1}}catch(t){}if(LO(pO[mO(-1,6)][mO(-1,7)],[e]))return{kZ:!1};try{if(n&&e===n[mO(-1,6)][mO(-1,7)])return{kZ:!1}}catch(t){}if(e===pO[mO(-1,6)][mO(-1,7)])return{kZ:!1}}return{wZ:mO(0,14,1,20,5),CZ:"aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzL2RvY3MvbGljZW5zZXMvd2ViLWRlcGxveW1lbnQv"}},FO=function(t,i){var n=new H_("secp256k1").keyFromPublic(mO(-4,0),"hex"),r=q_(t).toString();return n.verify(r,i)},IO=function(t){switch(t.slice(0,4)){case"0001":return function(t){var i,n="";try{var r=t.split("-"),e=r[1],o=r[2],s=r[3];if(!FO(o,s))return{wZ:mO(0,21,1,2,1,7,1,12,5)};var u=tO.parse(o);n=eO.decrypt({ciphertext:tO.parse(e)},u,{mode:sO,padding:fO,iv:tO.parse("00000000000000000000000000000001")}).toString(nO)}catch(t){return{wZ:mO(0,21,1,2,1,7,1,12,5)}}try{i=JSON.parse(n)}catch(t){return{wZ:mO(0,21,1,2,1,7,1,12,5)}}if(void 0===i[mO(-1,5)]||null===i[mO(-1,4)]||!i[mO(-1,9)])return{wZ:mO(0,21,1,2,1,7,1,12,5)};var a=parseInt(mO(-3,0),10)||Number(parseInt(mO(-3,0),10));return i[mO(-1,5)]<a?{wZ:mO(0,21,1,2,1,3,1,4,5)}:OO(i)}(t);case"0002":return function(t){var i=kO(t),n=i.MZ,r=i.TZ;if(i.wZ||void 0===n||void 0===r)return i;var e,o="";try{for(var s=n.slice(i.TZ,r+16),u=new DataView(s.buffer),a=new Int32Array(4),h=0;h<a.length;h+=1)a[h]=u.getInt32(4*h,!1);var f=aO.create(Array.from(a)),c=r+16,l=n.slice(c,n.length),v=new DataView(l.buffer),d=new Int32Array(Math.floor(l.byteLength/4));for(h=0;h<d.length;h+=1)d[h]=v.getInt32(4*h,!1);var y=aO.create(Array.from(d)),A=eO.decrypt({ciphertext:y},f,{mode:sO,padding:fO,iv:tO.parse("00000000000000000000000000000001")});o=pO.atob(A.toString(nO))}catch(t){return{wZ:mO(0,21,1,2,1,7,1,12,5)}}try{e=JSON.parse(o)}catch(t){return{wZ:mO(0,21,1,2,1,7,1,12,5)}}return e[mO(-1,37)]?OO(e):{wZ:mO(0,21,1,2,1,7,1,12,5)}}(t);default:return{wZ:mO(0,21,1,2,1,6,1,7,1,8,1,9,1,11,1,10,5)}}},jO=function(t,i){switch(t.slice(0,4)){case"0001":return function(t,i){if(!i)return{wZ:mO(0,39,1,40,1,41,5),CZ:lO};var n=t.split("-"),r=n[1].slice(1),e=n[2],o=n[3];if(!FO("".concat(r,"-").concat(e),o))return{wZ:mO(0,21,1,2,1,7,1,12,5)};for(var s=Uint8Array.from(MO(e,2)),u=0,a=s.length-1;a>0;a-=1)u+=s[a]*Math.pow(2,8*a);if(u<(parseInt(mO(-3,0),10)||Number(parseInt(mO(-3,0),10))))return{wZ:mO(0,21,1,2,1,3,1,4,5)};var h=Int32Array.from(MO(r,8)),f=K_(i[mO(-1,31)]).toString(tO),c=Int32Array.from(MO(f,8)),l=K_(i[mO(-1,32)]).toString(tO),v=Int32Array.from(MO(l,8)),d=new Int32Array(c.length);for(a=0;a<d.length;a+=1)d[a]=c[a]^v[a];return h.every((function(t,i){return d[i]===t}))?{}:{wZ:mO(0,21,1,2,1,7,1,12,5)}}(t,i);case"0002":return function(t,i){if(!i)return{wZ:mO(0,39,1,40,1,41,5),CZ:lO};var n=kO(t),r=n.MZ,e=n.TZ;if(n.wZ||void 0===r||void 0===e)return n;for(var o=r.slice(e,r.length),s=new DataView(o.buffer),u=new Int32Array(8),a=0;a<u.length;a+=1)u[a]=s.getInt32(4*a,!1);var h=K_(i[mO(-1,31)]).toString(tO),f=Int32Array.from(MO(h,8)),c=K_(i[mO(-1,32)]).toString(tO),l=Int32Array.from(MO(c,8)),v=new Int32Array(f.length);for(a=0;a<v.length;a+=1)v[a]=f[a]^l[a];return u.every((function(t,i){return v[i]===t}))?{}:{wZ:mO(0,21,1,2,1,7,1,12,5)}}(t,i);default:return{wZ:mO(0,21,1,2,1,6,1,7,1,8,1,9,1,11,1,10,5)}}},BO=function(t,i,n,r){void 0===n&&(n=!0),wO=!1,i.bh();var e=i.lu,o=!!e&&(e===Qe.document.body||Qe.document.body.contains(e)),s=e&&o?e:document.body;if(void 0===Array.from(s.children).find((function(t){return"lcjs-error"===t.id}))){var u=Qe.document.createElement("div");u.id="lcjs-error",s.append(u),u.style.position="absolute",u.style.top="0px",u.style.left="0px",u.style.width="100%",u.style.height="100%",u.style.backgroundColor="black",u.style.boxSizing="border-box",u.style.padding="20px",u.style.font="Arial",u.style.fontSize="20px";var a=(t||"LICENSE_ERROR").split("_").join(" ");a=(n?mO(0,0,1,2,1,23,1,24,25,1):"")+a.charAt(0).toUpperCase()+a.substr(1);var h=void 0;if(r){var f=Qe.document.createElement("a");f.href=r,h=f}else h=Qe.document.createElement("p1");u.append(h),h.innerHTML=a,h.style.color="red",i.JX()&&pO.console.error(a)}},DO=function(t,i,n){i?(t[mO(-1,17)](mO(-1,19),n),t[mO(-1,17)](mO(-1,20),n),t[mO(-1,17)](mO(-1,21),n),t[mO(-1,17)](mO(-1,22),n)):(t[mO(-1,18)](mO(-1,19),n),t[mO(-1,18)](mO(-1,20),n),t[mO(-1,18)](mO(-1,21),n),t[mO(-1,18)](mO(-1,22),n))},LO=function(t,i){var n=t.split(".").reverse();return i.some((function(t){var i=t.split(".").reverse(),r=!1,e=i.findIndex((function(t){return"*"===t})),o=n.every((function(t,n){if(!r){if(!(n<i.length))return!1;if(!(r="*"===i[n]&&n+1>2)&&t!==i[n])return!1}return!0}));return!(e>n.length-1||!o)}))},EO=new Map;return t.AbstractCursor=Ay,t.Animation=Te,t.AnimationEasings=Ce,t.Animator=ke,t.AreaRangeSeries=Yb,t.Axis=Pl,t.Axis3D=xd,t.AxisScrollStrategies=zh,t.AxisTickStrategies=Nh,t.Band=Ih,t.BarChart=mx,t.BarChartBar=lx,t.BarChartCategoryAxis=ux,t.BarChartSorting=gx,t.BarChartTypes={Horizontal:"horizontal",Vertical:"vertical"},t.BarChartValueAxis=fx,t.BorderedPicture=bc,t.BoxFigure=HA,t.BoxSeries=ib,t.BoxSeries3D=ad,t.Button=vl,t.Chart=id,t.Chart3D=Iy,t.ChartComponent=Ju,t.ChartWithSeries=Ud,t.ChartXY=_p,t.Color=Sr,t.ColorCSS=function(t){try{if(t.startsWith("rgba")){var i=t.substr(5).slice(0,-1),n=JSON.parse("[".concat(i,"]"));return Mr(n[0],n[1],n[2],255*n[3])}if(t.startsWith("rgb"))return i=t.substr(4).slice(0,-1),n=JSON.parse("[".concat(i,"]")),Mr(n[0],n[1],n[2]);if(t.startsWith("hsl")){var r=function(t,i,n){i/=100,n/=100;var r=(1-Math.abs(2*n-1))*i,e=t/60,o=r*(1-Math.abs(e%2-1)),s=[];isNaN(t)?s=[0,0,0]:e<=1?s=[r,o,0]:e<=2?s=[o,r,0]:e<=3?s=[0,r,o]:e<=4?s=[0,o,r]:e<=5?s=[o,0,r]:e<=6&&(s=[r,0,o]);var u=n-.5*r;return[Math.round(255*(s[0]+u)),Math.round(255*(s[1]+u)),Math.round(255*(s[2]+u))]}((n=t.substr(4).slice(0,-1).split(",").map(parseFloat))[0],n[1],n[2]);return Mr(r[0],r[1],r[2])}return t.startsWith("#")||t.startsWith("0x")?Cr(t):Cr(function(t){var i=_r[t.toLowerCase()];if(i)return i;throw new Error("Unknown color code: ".concat(t))}(t))}catch(t){}return console.warn("ColorCSS parsing error: ".concat(t)),Cr("#fff")},t.ColorHEX=Cr,t.ColorHSV=Tr,t.ColorPalettes=sa,t.ColorRGBA=Mr,t.ColorShadingStyles=ya,t.ColorUint32=kr,t.ConstantLine=Bh,t.Cursor2D=Dy,t.Cursor3D=gy,t.CursorBuilder2D=Ly,t.CursorBuilder3D=xy,t.CursorBuilderXY=ip,t.CursorBuilders=jg,t.CursorXY=tp,t.CustomTick=pf,t.Dashboard=WS,t.DashedLine=Ia,t.DataGrid=nx,t.DataSetXY=Mc,t.DateTimeTickStrategy=mv,t.EllipseFigure=eb,t.EllipseSeries=ob,t.EmptyFill=Mu,t.EmptyTickStrategy=Jh,t.EmptyUIElement=Of,t.Eventer=we,t.Figure=YA,t.FigureSeries=qA,t.FontSettings=Br,t.FormattingFunctions=cu,t.FunnelChart=wm,t.FunnelChartTypes=Fm,t.FunnelChartWithLabelsInsideSlices=Om,t.FunnelChartWithLabelsOnSides=_m,t.FunnelSlice=vm,t.GaugeChart=Ux,t.GenericAxis=ef,t.GlowEffect=za,t.HeatmapGridSeries=jb,t.HeatmapGridSeriesIntensityValues=Bb,t.HeatmapScrollingGridSeries=Eb,t.HeatmapScrollingGridSeriesIntensityValues=Pb,t.Highlighter=Ku,t.Icon=La,t.ImageFill=Be,t.IndividualPointFill=Fu,t.LUT=mu,t.Legend=Hv,t.LegendEntryClickBehaviors=Xv,t.LineAndPointSeries3D=Id,t.LineSeries3D=jd,t.LinearGradientFill=Vr,t.LinearGradientFillPalette=function(t,i,n,r){var e=t(i+1,r);return function(t){return new Vr({stops:[{offset:0,color:e(t).getDarker()},{offset:.5,color:e(t)},{offset:1,color:e(t).getDarker()}],angle:n||90})}},t.MapChart=hA,t.MapRegions=$y,t.MapRegionsAfrica=Yy,t.MapRegionsAsia=Wy,t.MapRegionsAustralia=Xy,t.MapRegionsCanada=Hy,t.MapRegionsEurope=Zy,t.MapRegionsNorthAmerica=Ky,t.MapRegionsSouthAmerica=qy,t.MapRegionsUSA=Qy,t.MapRegionsWorld=Jy,t.MapTypes=tA,t.MeshModel3D=fy,t.NumericTickStrategy=kv,t.OHLCSeries=Xb,t.OHLCSeriesBars=Qb,t.OHLCSeriesCandlesticks=Zb,t.OHLCSeriesTypes=Kb,t.OnScreenMenu=ep,t.OnScreenMenuAnimationsButton=yh,t.OnScreenMenuButton=uh,t.OnScreenMenuControlBase=Ha,t.OnScreenMenuCustomButton=bh,t.OnScreenMenuOsmToggleButton=ph,t.OnScreenMenuToggleButton=ah,t.OnScreenMenuZoomInButton=hh,t.OnScreenMenuZoomInXButton=fh,t.OnScreenMenuZoomInYButton=ch,t.OnScreenMenuZoomOutButton=lh,t.OnScreenMenuZoomOutXButton=vh,t.OnScreenMenuZoomOutYButton=dh,t.OnScreenMenuZoomToFitButton=Ah,t.PalettedFill=ju,t.Panel=Qv,t.ParallelCoordinateAxis=$x,t.ParallelCoordinateChart=sS,t.ParallelCoordinateSeries=iS,t.PhongShadingStyle=va,t.Picture=Ac,t.PieChart=MS,t.PieChartTypes=OS,t.PieChartWithLabelsInsideSlices=_S,t.PieChartWithLabelsOnSides=kS,t.PieSlice=Dm,t.PixelatedPoints3D=xa,t.PointCloudSeries3D=Vd,t.PointLineAreaSeries=hp,t.PointLineSeries3D=Ld,t.PointSeries3D=Nd,t.PointSeriesTypes3D=Rd,t.PointStyle3D=wa,t.PolarAreaSeries=LA,t.PolarAreaSeriesInterior=NA,t.PolarAxis=vA,t.PolarAxisAmplitude=bA,t.PolarAxisTick=dA,t.PolarChart=um,t.PolarHeatmapSeries=Hp,t.PolarLineSeries=GA,t.PolarPointLineSeries=Gp,t.PolarPointSeries=Wp,t.PolarPolygon=mA,t.PolarPolygonSeries=BA,t.PolarSector=im,t.PolarSeries=wA,t.PolygonFigure=ab,t.PolygonSeries=hb,t.PyramidChart=Wm,t.PyramidChartTypes=qm,t.PyramidChartWithLabelsInsideSlices=Km,t.PyramidChartWithLabelsOnSides=Qm,t.PyramidSlice=Pm,t.RadialGradientFill=zr,t.RadialGradientFillPalette=function(t,i,n){var r=t(i+1,n);return function(t){return new zr({stops:[{offset:0,color:r(t)},{offset:1,color:r(t).getDarker()}]})}},t.RangeSeries=Rb,t.RectangleFigure=lb,t.RectangleSeries=vb,t.SegmentFigure=Ab,t.SegmentSeries=bb,t.Series2D=xA,t.Series3D=sd,t.SeriesXY=JA,t.SimpleShadingStyle=ca,t.Slice=cm,t.SliceLabelFormatters=bm,t.SliceSorters=Am,t.SolidFill=_u,t.SolidFillPalette=function(t,i,n){var r=t(i,n);return function(t){return new _u({color:r(t)})}},t.SolidLine=Ta,t.SpiderAxis=$m,t.SpiderChart=dg,t.SpiderSeries=rg,t.StipplePatterns=Fa,t.SurfaceGridSeries3D=Qd,t.SurfaceScrollingGridSeries3D=$d,t.TextFigure=xb,t.TextSeries=Sb,t.Themes=Qg,t.Tick=El,t.TickStyle=Wl,t.TimeFormattingFunctions=rv,t.TimeTickStrategy=ov,t.TreeMapChart=Px,t.TriangulatedPoints3D=ma,t.UIBackgrounds=cy,t.UICircle=Vc,t.UIColumnGrid=qc,t.UIDiamond=Rc,t.UIElementBuilders=Fl,t.UIElementColumn=Qc,t.UIElementLine=Zc,t.UIElementRow=Jc,t.UIElementWithBackground=df,t.UIEmptyBackground=Ff,t.UILabel=Pc,t.UILayoutBuilders=Bg,t.UILayoutGap=Hc,t.UILegendPanel=fS,t.UIObject=lf,t.UIOrigins=gh,t.UIPanel=qv,t.UIPoint=Uc,t.UIPointer=Gc,t.UIPolygon=pc,t.UIRectangle=Nc,t.UIRowGrid=$c,t.VisibleFill=ku,t.ZoomBandChart=Np,t._Z=ee,t.contoursFromLUT=function(t,i){var n=null!=i?i:function(t){return t};return{levels:t.steps.map((function(t){return n({value:t.value},t)}))}},t.defaultAxisIntervalRestrictionsXY=Vl,t.defaultOsmBackgroundColor=_h,t.disableTextShadows=function(t){var i,n,r;return qg(qg({},t),{dataGridTextShadow:void 0,pieChartSliceLabelShadow:void 0,funnelChartSliceLabelShadow:void 0,spiderChartScaleLabelShadow:void 0,pyramidChartSliceLabelShadow:void 0,xAxisTimeTicks:t.xAxisTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),yAxisTimeTicks:t.yAxisTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),xAxis3DTimeTicks:t.xAxis3DTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),yAxis3DTimeTicks:t.yAxis3DTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),zAxis3DTimeTicks:t.zAxis3DTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),xAxisNumericTicks:t.xAxisNumericTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),yAxisNumericTicks:t.yAxisNumericTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),xAxisDateTimeTicks:t.xAxisDateTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),yAxisDateTimeTicks:t.yAxisDateTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),xAxis3DNumericTicks:t.xAxis3DNumericTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),yAxis3DNumericTicks:t.yAxis3DNumericTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),zAxis3DNumericTicks:t.zAxis3DNumericTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),xAxis3DDateTimeTicks:t.xAxis3DDateTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),yAxis3DDateTimeTicks:t.yAxis3DDateTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),zAxis3DDateTimeTicks:t.zAxis3DDateTimeTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),barChartValueAxisTicks:t.barChartValueAxisTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),polarAmplitudeAxisNumericTicks:t.polarAmplitudeAxisNumericTicks.setTickStyle((function(t){return t.setLabelShadow(void 0)})),parallelCoordinateAxisTimeTicks:null===(i=t.parallelCoordinateAxisTimeTicks)||void 0===i?void 0:i.setTickStyle((function(t){return t.setLabelShadow(void 0)})),parallelCoordinateAxisNumericTicks:null===(n=t.parallelCoordinateAxisNumericTicks)||void 0===n?void 0:n.setTickStyle((function(t){return t.setLabelShadow(void 0)})),parallelCoordinateAxisDateTimeTicks:null===(r=t.parallelCoordinateAxisDateTimeTicks)||void 0===r?void 0:r.setTickStyle((function(t){return t.setLabelShadow(void 0)}))})},t.disableThemeEffects=function(t){return qg(qg({},t),{effect:void 0})},t.emptyFill=Cu,t.emptyLine=Pe,t.emptyPoints3D=pa,t.emptyTick=Hl,t.formatLUTValue=xu,t.formatLongitudeLatitude=fA,t.formatNumberAsUnicodeSuperscript=lu,t.htmlTextRenderer=Xa,t.interpolateColor=ce,t.isArtificialLCJSEvent=function(t){return!0===t.isLcjsArtificialEvent},t.isColor=wr,t.isCoordinate3D=iy,t.isCoordinateBarChart=vx,t.isCoordinateClient=Eu,t.isCoordinatePolar=$p,t.isCoordinateXY=zu,t.isDashedLine=ja,t.isEmptyFill=Tu,t.isEmptyTick=Zl,t.isFontSettings=Dr,t.isGlowEffect=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"glow"!==t.type)},t.isHitBox=function(t){return t&&"object"==typeof t&&"figure"in t&&"start"in t&&"end"in t&&"median"in t&&"upperQuartile"in t},t.isHitBox3D=function(t){return t&&"object"==typeof t&&"xSize"in t&&"ySize"in t&&"zSize"in t},t.isHitEllipse=function(t){return t&&"object"==typeof t&&"figure"in t&&"x"in t&&"radiusX"in t&&"radiusY"in t},t.isHitHeatmap=se,t.isHitMeshModel=he,t.isHitOHLC=function(t){return t&&"object"==typeof t&&"position"in t&&"open"in t&&"high"in t&&"isPacked"in t},t.isHitPolarHeatmap=ae,t.isHitPolygon=function(t){return t&&"object"==typeof t&&"figure"in t&&"x"in t&&"coordinates"in t},t.isHitRectangle=function(t){return t&&"object"==typeof t&&"figure"in t&&"positionAndSize"in t},t.isHitSampleXY=fe,t.isHitSegment=function(t){return t&&"object"==typeof t&&"figure"in t&&"startX"in t&&"endX"in t},t.isHitSurface=ue,t.isIcon=Ea,t.isImageFill=De,t.isIndividualPointFill=Iu,t.isLUT=gu,t.isLinearGradientFill=Rr,t.isPalettedFill=Bu,t.isPhongShadingStyle=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"phong"!==t.type)},t.isPixelatedPoints3D=Sa,t.isRadialGradientFill=Nr,t.isSeriesSupportedByZoomBandChart=function(t){return t instanceof Yb||t instanceof Bb||t instanceof Xb||t instanceof hp},t.isSimpleShadingStyle=function(t){return!(!t||"object"!=typeof t||!("type"in t)||"simple"!==t.type)},t.isSolidFill=Ou,t.isSolidLine=ka,t.isTickStyle=Xl,t.isTriangulatedPoints3D=ga,t.lightningChart=function(t,i){var n="object"==typeof t?t.license:t;n&&(n=n.trim());var r="object"==typeof t?t.licenseInformation:i,e="object"==typeof t?t:void 0,o=new SO;o.e=n;var s=EO.get(n||"E");return s||(s=function(t,i){var n,r,e=!1,o=!1,s=!1,u=!1,a="",h=!1,f=!1,c=!1;try{if(vO){var l=function(t){if(t){var i=t.split("-");if(i.length>0)switch(i[0]){case"0001":return"0001";case"0002":return"0002";case"T001":return"T001";case"P001":return"P001";default:return}}}(vO),v=t&&"cGx1Z2lu"in t;if("0001"===l){gO=new Uint8Array([2]);var d=function(t){if(t){var i=t.split("-");return 4===i.length?i[1].startsWith("m")?2:1:0}}(vO);if(1===d){var y=IO(vO);s=!y.kZ,n=y,e=!0}else 2===d?(n=jO(vO,t),o=!0):(wO=!0,n=_O(vO),u=!0);v&&(n={wZ:mO(0,0,1,7,1,12,5)})}else if("0002"===l){d=function(t){if(t){var i=t.split("-");if(i.length>=2)return Uint8Array.from(pO.atob(i[1]),(function(t){return t.charCodeAt(0)}))[0]}}(vO),104===d?(wO=!0,n=_O(vO),u=!0):189===d?(y=IO(vO),s=!y.kZ,n=y,e=!0):159===d?(n=jO(vO,t),o=!0):n={wZ:mO(0,0,1,7,1,12,5)};var A=gO.length>3&&2&gO[3];(A&&!v||!A&&v||A&&v&&"cHl0aG9u"!==t.cGx1Z2lu)&&(n={wZ:mO(0,0,1,7,1,12,5)})}else if("T001"===l){y=function(t,i){var n=t.split("-");if(3!==n.length)return{wZ:mO(0,0,1,7,1,12,5)};var r="".concat(n[1]),e=Array.prototype.reduce.call(pO.atob(n[2]),(function(t,i){return t+"0".concat(i.charCodeAt(0).toString(16)).slice(-2)}),"");if(!FO(r,e))return{wZ:mO(0,0,1,7,1,12,5)};var o=0,s=Uint8Array.from(pO.atob(n[1]),(function(t){return t.charCodeAt(o)})),u=s.subarray(o,o+=20),a=new DataView(s.buffer).getUint16(o,!0);o+=2;for(var h=Uint8Array.from(Array(a)),f=0;f<a;f+=1)h[f]=s[f+o]^u[f%u.byteLength];o=0;var c=new DataView(h.buffer),l=CO(h.subarray(o,o+=4)),v=mO(-3,0);if(!l)return{wZ:mO(0,0,1,7,1,12,5)};if(l<v)return{wZ:mO(0,40,1,2,1,7,1,8,1,10,1,59,1,60,1,6,5)};var d=new Date,y=new Date;d.setDate(d.getDate()+1),y.setDate(y.getDate()-1);var A=TO(y),b=TO(d);if(l<A||l>b)return{wZ:mO(0,0,1,2,1,3,1,4,5)};var p=c.getUint16(o,!0),m=h.subarray(o+=2,o+p);if(gO=new Uint8Array(m),i&&"dHJhZGVy"in i&&"dGVjaG5pY2FsIGFuYWx5c2lz"===i.dHJhZGVy)return{OZ:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="};if(i&&"logoGraphic"in i&&i.logoGraphic){var g=i.logoGraphic.split("-");return 3===g.length&&FO(g[0],g[2])?{OZ:g[0]}:{wZ:mO(0,0,1,7,1,12,5)}}return{wZ:mO(0,0,1,7,1,12,5)}}(vO,t),n=y;var b=y.OZ;b&&i?("string"==typeof b&&(i.l=b),e=!0):n={wZ:mO(0,0,1,7,1,12,5)}}else"P001"===l?(n=function(t,i){var n=t.split("-");if(3!==n.length)return{wZ:mO(0,0,1,7,1,12,5)};var r="".concat(n[0],"-").concat(n[1]),e=Array.prototype.reduce.call(pO.atob(n[2]),(function(t,i){return t+"0".concat(i.charCodeAt(0).toString(16)).slice(-2)}),"");if(!FO(r,e))return{wZ:mO(0,0,1,7,1,12,5)};var o=0,s=Uint8Array.from(pO.atob(n[1]),(function(t){return t.charCodeAt(0)}));o+=1;var u=s.subarray(o,o+=20),a=new DataView(s.buffer).getUint16(o,!0);o+=2;for(var h=Uint8Array.from(Array(a)),f=0;f<a;f+=1)h[f]=s[f+o]^u[f%u.byteLength];o=0;var c=new DataView(h.buffer).getUint16(o,!0);o+=2;var l=h.subarray(o,c+o),v=new TextDecoder("utf-8").decode(l);return i&&"cGx1Z2lu"in i&&v===pO.atob(i.cGx1Z2lu)?(gO=new Uint8Array([38]),{}):{wZ:mO(0,0,1,7,1,12,5)}}(vO,t),!n.wZ&&i&&(e=!0,f=!0)):n={wZ:mO(0,0,1,7,1,12,5)}}else["localhost","127.0.0.1","::1"].includes(pO[mO(-1,6)][mO(-1,7)])||/^(10\.|172\.(1[6-9]|2[0-9]|3[0-1])|192\.168)\./.test(pO[mO(-1,6)][mO(-1,7)])?n={wZ:mO(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68),CZ:xO(t)}:pO[mO(-1,6)][mO(-1,40)]===pO.atob("c3RhY2tzbmlwcGV0cy5uZXQ=")?(c=!0,h=!1,gO=new Uint8Array([38]),n={}):(c=!0,h=!0,gO=new Uint8Array([38]),n={})}catch(t){n={wZ:mO(0,0,1,7,1,12,5,1,70,1,71,5)}}try{u&&(r=pO[mO(-1,34)][mO(-1,35)](mO(-1,39))||void 0)}catch(t){pO.console.error(t)}var p=!1;if(r){var m=r.split("-");if(2===m.length&&FO(m[0],m[1])){var g=cO(m[0].split(":").map((function(t){return Number(t)})),2),x=g[0],S=g[1];Date.now()-S<.95*x*1e3&&(p=!0)}}var w=!(c||h||f||n.wZ||e||o||p),M=function(){var t=new(pO[mO(-1,0)]);return t.open(mO(0,26),mO(-2,0)),t.setRequestHeader(mO(-1,24),mO(-1,25)),t.withCredentials=!0,t}(),C=new we;if(w){var T=void 0;try{T=parseInt(vO?vO.split("-")[1]:Math.floor(1e6*Math.random()).toString(),16)}catch(t){T=Math.floor(1e6*Math.random())}var k=Math.floor(1e6*Math.random());a=(T^k).toString();var _={},O="",F="",I="";vO=vO||"";for(var j=mO(-4,0),B=0;B<vO.length;B+=1){var D=vO.charCodeAt(B)^j.charCodeAt(B);O+=String.fromCharCode(D)}for(var L=mO(-3,0),E=0;E<L.length;E+=1)F+=String.fromCharCode(L.charCodeAt(E)^j.charCodeAt(E));for(var P=0;P<a.length;P+=1)I+=String.fromCharCode(a.charCodeAt(P)^j.charCodeAt(P));_[mO(-1,3)]=pO.btoa(O),_[mO(-1,4)]=pO.btoa(F),_.h=pO.btoa(I),_.v=3,_.s=pO[mO(-1,34)][mO(-1,35)](mO(-1,33))||void 0,M.send(JSON.stringify(_))}return function(e,o){var u=[],c={qa:function(t){u.indexOf(t)>=0||(u.push(t),l(),dO&&dO.da&&C.Tt("logochange",{logoDataURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHwAAAAhCAYAAAAbDs+XAAAACXBIWXMAAAsSAAALEgHS3X78AAAIiUlEQVR4nO2bTWwkVxHHf5uEoHFAkIz5zAxIiIwDSNlBQgibQIKcC8i+ILW3L611TmGXC9LeVssp0t583YjbLC1E4z7aByTwAUWyxc1GIJE5wKEHASJDxAEP7IHNoaqma9rd4xl7vNll5y+N3P36vXrVrz5fvfal+/fvM8fjgyc+aAbmeLB4qqwxTtIFYBVoAsdAfwZz1fXXjcJgZwb05jgDLhVdugr7GrAThUF31hPGSdpGlOmtKAyOdb5WFAaHs57rIhAnaT0Kg1kYwAeCMoFvAIcXIWw3Rxto620b2IrCIKvou6p9+srXYZykrUn5i5P0OpBN6lXiJK0DC54fbbsN3ARuALtRGOxPQu9hQ5nAr0dhcOciJtOFMwHWgR4i7OOK/ivAVeAIeBcYICFmA9jS8Y0oDLrqKey6DqwA+6iAgENyJTtU79JSmjVHYwMJZR0TuiroJiLwdhQG+zpHW2n1dWwbqLm2ps7XNAVx4/qAKe0IX9Ov7OQYieG6AKWWNg3iJP0BkHrXFyfpD4GXXLcBY4StqGm/d8gX8ba2rQMHwBoiiBawGSfpHUTIA30G8A/EQg2rrh/AIE7SPeTd24hS+bVo6nUL2IiTNHNjN+Ik3UYUrK5t68CPgFuOfgvYAX6s9AfA28C33LhV4M0x63FuzDxLj5P0+8BXEYuwtm8yKuxdYG8CbT4A9pCFuK2L1kWEvwU0ECuHXECvocqk4wE+hyjPsf4aiBAHwF2gA6xpHlFDrHvP8WHzmuDXtX0LUbZMaRr9WpykL2sfo78MPEuuxPvAvcK4xinrcW6cWeDOXfm2V4FX9bYVJ2krTtJngZddt+0psvRVZDF39b6JWMOxusZFoK5xfpXcRYIIabnQ1tXfXaWVqattAj33TgsFPryFe3oWOj6m930kdGwD/wP6LtYPgP/q3BkSOj7t+DrUZxeKqQUeJ+kLcZLeAl4vtK8ArwAfds0hYnHP6/2gYDnj5rFt3CYSx7uIxe4gi9xGLOcYETbIQpoyrSOLnOm4LqIATSQf8MIz4VvfTRO+8lFTOk03xzG5F/uT0moBS+QW3/P09fkauSL+0vG1pHxdKEaSNnWZS2UWGCfpp4BvI+7aYs5Njasr2v5ScRzwT+A5vd6LwmBb6a3P9+MPHqWFF484SZ9BLOorwBcYteB2nKQD4MuIhpbhOXd9UNFnjgeESoGroC8jQn5e/xbxHeCPwOcZVYQy9Kr22hXzNxFX2vPJnXP1/XEFkKrx09Ao9D1BZ1o4ngx9JF+ozaruYVvNqrUuE/iTcZJ+DXgReBL4IvDJCvqfAP5T8vyvwGcKbdMWKq4hC30TiZeGdSTmvcX4ku8GUsF7o+TZChJLT6MBcAVR/C1GE7aJ4fbxtcKju0j+0QDK+Jx2niayXTwCSmspZQJ/EfgI8Azixk+z3GK23gP+rDQ+6tonLp1qEaOOaGpRIMfIwmeF/sMtjVpLi3z/O7ROvbdCx4LLzE0YRau3+Xo6dvieZRbvPAKIMtUR5YU88bTkrIckpP0in2eEzVvpScsE/gSyXXjhDBMOEM36BvIyX9L2oynrzya8MsZXAVyyuMGo5fS0qIK23wCIk7Sre/cbru9VRAB1REHQvn1kL24ZdF8rc34scZIOK4Vxkm5qX49dcoPYLSapTtnqRT5VAUbmQ9bxTskzq9rZ/Gtxkq6Zd7N5ojDIygT+WeBDJe2Ge8DTFc92VBC/Aj5OnuRNezBiCeCIwNV6ALr60lcRJbN9+hry8raQtu9eRuoCdcSNX0MU8hfa36p3e8jiLwNLcZLa1H1n3Uazpb+GuuzlkmcZebWvLKQN36eEzz4SRtD3WQUuq/BsfXYRb9VQ3pt6bXt9VBGbSO0iG+7DldAVxgs7A35f8axre+woDO4Bvwb+hrjlaeO3d4keTdf+ml531HKsb+b67RWeLZDnA1khUbIDFs/ror2bo3mo/UwZ7Sh5EIXBVsGKhwpb4eHG8dlEhLlOHoJAvNaQF0TQu5qk1XSu/SgMMpVpXd+5Dgx84cU0pQq/1Rf/N1Ix8hggRZAhojD4O1IrrlKQcfCCrWo3N24C9PGrOL6uPFU+I0/IltzzhrsuxsdiVc57I5vPnyUUq3eQhxEb6xV9E0ku/SELiGcavo8Kd8eN932HglY6Ne/SfUJSxEEUBh3VmFeAvzC6Tdsp0+AoDN6Ok/R3Y+hWwRZ6M07SQ2XWu+p33PUV7WPxK2NUwJCfzEEuoJbmAEVvYvfvFmjata+e2cGO0bvu5reFP0Ky/NvuXUA8SVExjM8GuqUs8DXQfMFX8YARharHSboO7Gt49bH9wFt4nXIcRGHQUcYyZN/tLXzoyssQhcG/lKFmIcstRaFPTZm1cqTx2EPKm2aFa4wuXgNdcEfPL3SfvNZuimOZs9EZunHnGWzBF5S3TOfb1rGXyWO2zddRfv27rCGKN1QMx2em/U3wa46muWlPH+XxGFGuuvYfaHsnCoM39Lc/LK3GSfoTTmIobEOcpE8D3wO+q0TfPKUAsk5e7+7qIu2dt7RaKGIs6Uue4PeiUdwSIjG3hWTvF/YRyVnxFJywKkPp4kVhcC9O0t8AX0eSjUm3W3YkWFWCnRa3Cvdm9Q8aLfJ9Nmi2/zAKG/J9+GKhfaylRGHwXpykP4vC4A8TzpMhLmhxhgcmW+763GXPcyDzvDysgjaYwH38PprELU4hbEMHuBEnqR1DngsPy8Kqh3tkPmo0gZtL7zGjM1k7atXbJSS27SDbv2EmPceDhWXpTfSDQmCxYs84LQZIVrpMvqVaJ/9aZRZzzDElLv3059sLSF3WasImmM5FxMU4/+698yh/3/2owgRONHrm3EQOJTKmr4NXYQEJHYtIoebccXyO6XHiu3SPkgP78+LUDw7muFiMFfgc/3+Y//foY4a5wB8zvA/xX9auz5FT8QAAAABJRU5ErkJggg=="}))},th:C},l=function(){u.forEach((function(t){var i=d(t);if(i){var n=i.FZ,r=i.IZ?mO(-2,1):void 0,e="".concat(mO(0,40,1,42,1,43,1,44,1,45,1,46,1,47,1)).concat(n).concat(r?mO(0,5,1,63,1,64,1,59,1,65,1,41,5):"");BO(e,y,!1,r)}}))},v=function(t){return pO.atob(t)},d=function(t){var i=Object.values(gf).includes(t)?t:void 0;if(i){switch(t){case gf.Yu:return dO.Gu||dO.Yu?void 0:{FZ:v(i),IZ:!0};case gf.Zu:return dO.Gu||dO.Zu?void 0:{FZ:v(i),IZ:!0};case gf.Ju:return dO.Gu||dO.Uu||dO.Ju?void 0:{FZ:v(i),IZ:!0};case gf.Uu:return dO.Gu||dO.Uu?void 0:{FZ:v(i),IZ:!0};case gf.ta:return dO.Gu||dO.Uu||dO.ta?void 0:{FZ:v(i),IZ:!0};case gf.ra:return dO.Gu||dO.Uu||dO.ra?void 0:{FZ:v(i),IZ:!0};case gf.ua:return dO.Gu||dO.Uu||dO.ua?void 0:{FZ:v(i),IZ:!0};case gf.ha:return dO.Gu||dO.Uu||dO.ha?void 0:{FZ:v(i),IZ:!0};case gf.fa:return dO.Gu||dO.Uu||dO.fa?void 0:{FZ:v(i),IZ:!0};case gf.aa:return dO.Gu||dO.Uu||dO.aa?void 0:{FZ:v(i),IZ:!0};case gf.Ku:return dO.Gu||dO.Uu||dO.Ku?void 0:{FZ:v(i),IZ:!0};case gf.na:return dO.Gu||dO.Uu||dO.na?void 0:{FZ:v(i),IZ:!0};case gf.$u:return dO.Gu||dO.Uu||dO.$u?void 0:{FZ:v(i),IZ:!0};case gf.ea:return dO.Gu||dO.Uu||dO.ea?void 0:{FZ:v(i),IZ:!0};case gf.sa:return dO.Gu||dO.Uu||dO.sa?void 0:{FZ:v(i),IZ:!0};case gf.oa:return dO.Gu||dO.Uu||dO.oa?void 0:{FZ:v(i),IZ:!0};case gf.Qu:return dO.Gu||dO.Uu||dO.Qu?void 0:{FZ:v(i),IZ:!0};case gf.qu:return dO.Gu||dO.Uu||dO.qu?void 0:{FZ:v(i),IZ:!0};case gf.ia:return dO.Gu||dO.Uu||dO.ia?void 0:{FZ:v(i),IZ:!0};case gf.ca:return dO.Gu||dO.Uu||dO.ca?void 0:{FZ:v(i),IZ:!0};case gf.la:return dO.Gu||dO.Uu||dO.la?void 0:{FZ:v(i),IZ:!0};case gf.Gu:case gf.Wu:case gf.Hu:case gf.Xu:case gf.va:case gf.da:return}return $o(0,"")}},y=new T_(o,e,c);Array.from(y.lu.children).forEach((function(t){"lcjs-error"===t.id&&y.lu.removeChild(t)})),(null==n?void 0:n.wZ)&&BO(n.wZ,y,void 0,n.CZ);var A=function(t){if("error"===(null==t?void 0:t.type)&&r){var i=r.split("-");if(2===i.length&&FO(i[0],i[1])){var n=cO(i[0].split(":").map((function(t){return Number(t)})),2)[1],e=Date.now();if(n+AO>e)return wO=!1,void DO(M,!1,b)}}if(M.readyState===pO[mO(-1,0)].DONE)if(200===M.status){var o=JSON.parse(M[mO(-1,23)]);if(!FO(a+mO(-3,0),o.h)){var s=mO(0,0,1,27,1,28,1,29,1,30,1,31,5);BO(s,y)}pO[mO(-1,34)][mO(-1,36)](mO(-1,39),o.t),pO[mO(-1,34)][mO(-1,36)](mO(-1,33),o.s),wO=!1}else{s=mO(0,0,1,2,1,7,1,12,5);try{s=t&&"loadend"!==t.type?mO(0,0,1,23,1,32,1,24,5):JSON.parse(M[mO(-1,23)]).message,DO(M,!1,b)}catch(t){console.error(t)}BO(s,y,void 0,"aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzL2RvY3MvbGljZW5zZXMvZGV2ZWxvcGVyLWxpY2Vuc2Vz")}},b=function(t){A(t)};if(DO(M,!0,b),w?setTimeout((function(){if(wO){var t=!0;if(r){var i=r.split("-");if(2===i.length&&FO(i[0],i[1])){var n=cO(i[0].split(":").map((function(t){return Number(t)})),2)[1],e=Date.now();n+AO>e&&(t=!1)}}t&&BO(mO(0,25,1,23,1,32,1,24,5),y)}}),1e4):DO(M,!1,b),h){var p=function(){var t=new(pO[mO(-1,0)]);return t.open(mO(0,26),mO(1,0)),t.setRequestHeader("Content-Type","text/plain"),t.withCredentials=!0,t}(),m=Array.from({length:10},(function(){return String.fromCharCode(Math.floor(256*Math.random()))})).join(""),g=function(n){!function(n){if("error"===(null==n?void 0:n.type)){var r=mO(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);BO(r,y,!1,xO(t)),DO(M,!1,g)}if(p.readyState===pO.XMLHttpRequest.DONE){var e=p.getResponseHeader("X-LCJS-SANDBOX-V");if(200!==p.status||e&&"1"!==e)r=mO(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68),BO(r,y,!1,xO(t)),DO(M,!1,g);else{var o=JSON.parse(p.responseText);FO(m,o.s)||(r=mO(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68),BO(r,y,!1,xO(t)),DO(M,!1,g)),void 0!==i&&(i.l=o.l),C.Tt("logochange",{logoDataURI:o.l})}}else r=mO(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68),BO(r,y,!1,xO(t)),DO(M,!1,g)}(n)};DO(p,!0,g),p.send(m),setTimeout((function(){if(p.readyState<2){var i=mO(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);BO(i,y,!1,xO(t)),DO(M,!1,g)}}),1e4)}if(f){var x=function(){var t=new(pO[mO(-1,0)]);return t.open(mO(0,26),mO(1,1)),t.setRequestHeader(mO(-1,24),mO(-1,25)),t.withCredentials=!0,t}(),S=void 0;try{S=parseInt(vO?vO.split("-")[1]:Math.floor(1e6*Math.random()).toString(),16)}catch(t){S=Math.floor(1e6*Math.random())}var T=Math.floor(1e6*Math.random());a=(S^T).toString();var k={},_="",O="";vO=vO||"";for(var F=mO(-4,0),I=0;I<vO.length;I+=1){var j=vO.charCodeAt(I)^F.charCodeAt(I);_+=String.fromCharCode(j)}for(var B=0;B<a.length;B+=1)O+=String.fromCharCode(a.charCodeAt(B)^F.charCodeAt(B));k[mO(-1,3)]=pO.btoa(_),k.h=pO.btoa(O),k.v=1,x.send(JSON.stringify(k));var D=function(n){!function(n){var r;if("error"===(null==n?void 0:n.type)){var e=mO(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);BO(e,y,!1,xO(t)),DO(M,!1,D)}if(x.readyState===pO.XMLHttpRequest.DONE)if(200===x.status){var o=JSON.parse(x.responseText);FO(a,o.h)||(e=mO(0,0,1,7,1,12,5),BO(e,y,!1,xO(t)),DO(M,!1,D));var s=o.l.split("-"),u=s[0],h=s[1];FO(u,h)?void 0!==i&&(i.l=u,C.Tt("logochange",{logoDataURI:u})):(e=mO(0,0,1,7,1,12,5),BO(e,y,!1,xO(t)));var f=o.f,c=Uint8Array.from(pO.atob(f),(function(t){return t.charCodeAt(0)})),v=0,d=c.subarray(v,v+=20),A=new DataView(c.buffer).getUint16(v,!0);v+=2;for(var b=Uint8Array.from(Array(A)),p=0;p<A;p+=1)b[p]=c[p+v]^d[p%d.byteLength];var m=new DataView(b.buffer);v=0;var g=Uint8Array.from(Array(m.getUint16(v,!0)));v+=2,g.set(b.subarray(v,v+=g.byteLength)),gO=new Uint8Array(g),i&&i.e&&l()}else e=null!==(r=(o=JSON.parse(x.responseText)).message)&&void 0!==r?r:mO(0,0,1,7,1,12,5),BO(e,y,!1,xO(t)),DO(M,!1,D);else e=mO(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68),BO(e,y,!1,xO(t)),DO(M,!1,D)}(n)};DO(x,!0,D),setTimeout((function(){if(x.readyState<2){var i=mO(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);BO(i,y,!1,xO(t)),DO(M,!1,D)}}),1e4)}return s?function(t){var i;wO=!1;var n=function(){i&&(t.Ja(i.Za()),i=void 0);var n=t.ai();(i=t.mB("deployment test")).$s(t.Yi).Os(mO(0,34,1,33)).Ee({x:n.x/2,y:n.y/2}).ef(50).$o(13).Be(new _u({color:Mr(128,128,128,100)})).nf("Arial").uf(500).setPointerEvents(!1),t.Wa().Xa()};t.kt("resize",(function(){n()})),setTimeout(n,0),setInterval((function(){i&&i.Za()<t.Oh()-1?n():i||n()}),1e3)}(y):M.readyState===pO[mO(-1,0)].DONE&&A(),y}}(r,o)),function(t,i,n,r){var e,o,s,u,a,h,f,c,l;if(n&&n.license){var v=n.license.split("-");l=v[v.length-1]}var d=null===(e=null==n?void 0:n.webgl)||void 0===e?void 0:e.version,y={zL:null===(o=null==n?void 0:n.sharedContextOptions)||void 0===o?void 0:o.canvas,rh:null==n?void 0:n.warnings,JL:"webgl1"===d?1:"webgl2"===d?2:void 0,WL:!1!==(null===(s=null==n?void 0:n.sharedContextOptions)||void 0===s?void 0:s.antialias),YL:(null===(u=null==n?void 0:n.sharedContextOptions)||void 0===u?void 0:u.devicePixelRatio)||void 0,eE:(null===(a=null==n?void 0:n.sharedContextOptions)||void 0===a?void 0:a.noCanvasStyles)||void 0,aE:(null===(h=null==n?void 0:n.sharedContextOptions)||void 0===h?void 0:h.noCanvasTransform)||void 0,HL:!1!==(null===(f=null==n?void 0:n.sharedContextOptions)||void 0===f?void 0:f.useStackingOrder),ZL:!1!==(null===(c=null==n?void 0:n.sharedContextOptions)||void 0===c?void 0:c.useIndividualCanvas),oE:l||void 0},A=new SM(y),b=function(i){return t(wM(wM({},i),{textRenderer:i.textRenderer?i.textRenderer:void 0,textPixelSnappingEnabled:void 0!==(null==i?void 0:i.textPixelSnappingEnabled)?i.textPixelSnappingEnabled:!(null==i?void 0:i.textRenderer)&&void 0}),A)};return{Dashboard:MM(b,i,n,r),ChartXY:kM(b,i,n,r),Spider:_M(b,i,n,r),Polar:OM(b,i,n,r),Pie:FM(b,i,n,r),UIPanel:TM(b,i,n,r),Gauge:IM(b,i,n,r),Funnel:jM(b,i,n,r),Pyramid:BM(b,i,n,r),Chart3D:LM(b,i,n,r),Map:DM(b,i,n,r),DataGrid:EM(b,i,n,r),BarChart:PM(b,i,n,r),ParallelCoordinateChart:VM(b,i,n,r),ZoomBandChart:zM(b,i,n,r),TreeMapChart:NM(b,i,n,r),dispose:A.Ft.bind(A),layout:A.vE.bind(A)}}(s,o.e,e,o.l)},t.onScreenMenuControlBaseHeight=wh,t.onScreenMenuControlBaseWidth=Mh,t.onScreenMenuControlOpacity=Ch,t.onScreenMenuDefaultButtonShape=kh,t.onScreenMenuSpriteURL=Th,t.regularColorSteps=function(t,i,n,r){if(!n||0===n.length)throw new Error("Invalid use regularColorSteps 'colorPalette' is undefined or empty");var e=null==r?void 0:r.formatLabels,o=null==r?void 0:r.alpha;return n.map((function(r,s){var u=t+s/(n.length-1)*(i-t);return{color:void 0!==o?r.setA(o):r,value:u,label:e?e(u):void 0}}))},t.saveToFile=_v,t.scaleTheme=function(t,i){var n=Object.fromEntries(Object.entries(t).map((function(t){var n=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,e,o=n.call(t),s=[];try{for(;(void 0===i||i-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return s}(t,2),r=n[0],e=n[1];if(Dr(e))return[r,e.setSize(e.getSize()*i)];if("panelPadding"===r||"chartXYPadding"===r)return[r,e*i];if("polarRadialAxisTickStyle"===r){var o=e;return[r,o.setTickLength(o.getTickLength()*i).setLabelFont((function(t){return t.setSize(t.getSize()*i)})).setTickPadding(o.getTickPadding()*i)]}if("object"==typeof e&&"setTickStyle"in e)return[r,e.setTickStyle((function(t){return t.setTickLength(t.getTickLength()*i).setLabelFont((function(t){return t.setSize(t.getSize()*i)})).setTickPadding(t.getTickPadding()*i)}))];if("barChartValueLabelsAfterBars"===r||"barChartValueLabelsInsideBars"===r||"barChartCategoryLabels"===r){var s=e;return[r,qg(qg({},s),{labelFont:s.labelFont.setSize(s.labelFont.getSize()*i)})]}return[r,e]})));[["uiButtonSize",10],["chartXYTitleMargin",5],["legendPadding",5],["uiTextPadding",5],["legendLUTLabelMargin",7],["legendLUTUnitLabelMargin",7],["legendLUTLengthHorizontal",160],["legendLUTLengthVertical",140],["legendLUTThicknessHorizontal",15],["legendLUTThicknessVertical",25],["dataGridCellPadding",5],["dataGridScrollBarThickness",20],["gaugeChartBarThickness",40],["gaugeChartValueIndicatorThickness",10],["gaugeChartNeedleLength",40],["gaugeChartNeedleThickness",10],["gaugeChartGapBetweenBarAndValueIndicators",10]].forEach((function(t){var r,e=t[0],o=t[1];n[e]=(null!==(r=n[e])&&void 0!==r?r:o)*i})),n.cursorPointMarkerSize={x:n.cursorPointMarkerSize.x*i,y:n.cursorPointMarkerSize.y*i};var r=n.cursorDynamicBehavior;return r&&(n.cursorDynamicBehavior=qg(qg({},r),{pointMarkerSize:r.pointMarkerSize?function(t){if(!r.pointMarkerSize)return{x:0,y:0};var n=r.pointMarkerSize(t);return{x:n.x*i,y:n.y*i}}:void 0})),n},t.synchronizeAxisIntervals=oe,t.transparentFill=xh,t.transparentLine=Sh,t.uint32ColorFromObject=function(t){return Ir(255*t.r,255*t.g,255*t.b,255*t.a)},t.uint32ColorFromRGBA=Ir,t.useCursorDataPointColor=AS,t.useCursorFormatterSeriesOverride=yS,t.vec3Utils=ys,t.xDimensionStrategy=Rl,t.yDimensionStrategy=Gl,Object.defineProperty(t,"jZ",{value:!0}),t}({});
